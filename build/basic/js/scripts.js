;(function(e,t,n){function i(n,s){if(!t[n]){if(!e[n]){var o=typeof require=="function"&&require;if(!s&&o)return o(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var u=t[n]={exports:{}};e[n][0].call(u.exports,function(t){var r=e[n][1][t];return i(r?r:t)},u,u.exports)}return t[n].exports}var r=typeof require=="function"&&require;for(var s=0;s<n.length;s++)i(n[s]);return i})({1:[function(require,module,exports){
window.onload=function(){var n=require("./app");window.app=new n(document.getElementById("app"));window.app.start(window.bootstrap)};
},{"./app":2}],3:[function(require,module,exports){
!function(){function e(e,t,i){this.init(e,t,i)}e.prototype={init:function(e,t,i){this.targetFrame=e;this.targetDomain=t;this.prefix=i;this.replies={};this.nextTicket=0;this.ready=false;this.queue=[];var n=this;window.addEventListener("message",function(e){n.receive(e)},false)},send:function(e,t,i){var n="ticket_"+this.prefix+"_"+this.nextTicket++;var r=JSON.stringify({"function":e,args:t,ticket:n});if(i){this.replies[n]=i}this.sendInternal(r)},receive:function(e){if(e.origin.replace(/https?:\/\//,"")!==this.targetDomain.replace(/\/$/,"").replace(/https?:\/\//,"")){return}var t;try{t=JSON.parse(e.data)}catch(i){alert("Syntax error in response from "+e.origin+": "+e.data);return}if(t["event"]==="ready"){this.ready=true;this.sendQueuedEvents();return}if(!(t["ticket"]in this.replies)){return}var n=this.replies[t["ticket"]];delete this.replies[t["ticket"]];var r=[];if("args"in t){r=t["args"]}n.apply(undefined,r)},sendInternal:function(e){if(this.ready){this.targetFrame.contentWindow.postMessage(e,this.targetDomain)}else{this.queue.push(e)}},sendQueuedEvents:function(){for(var e=0;e<this.queue.length;e++){this.targetFrame.contentWindow.postMessage(this.queue[e],this.targetDomain)}this.queue.length=0}};module.exports=e}();
},{}],4:[function(require,module,exports){
!function(){var t={};if(undefined||undefined==="staging"){t.baseUrl="http://staging.toolkitt.com"}else if(undefined==="development"){t.baseUrl="http://localdev.toolkitt.com:4000"}else{t.baseUrl="http://www.toolkitt.com"}t.videoExts=[".mp4",".m4v",".f4v",".webm",".ogv",".flv",".mov"];t.imageExts=[".gif",".png",".jpeg",".jpg",".bmp"];t.thumbnailDims={width:340,height:192};t.flashMessage=null;t.s3prefix="https://toolkitt.s3.amazonaws.com/";t.thumberUrl="https://toolkitt.s3.amazonaws.com/thumber.html";t.videoPlayerId="media_video";t.imageViewerId="media_image";t.placeholders={addMedia:{full:"http://toolkitt.s3.amazonaws.com/addmedia.png",half:"http://toolkitt.s3.amazonaws.com/addmedia-half.png"},encoding:{full:"http://toolkitt.s3.amazonaws.com/encoding.gif",half:"http://toolkitt.s3.amazonaws.com/encoding-half.gif"}};module.exports=t}();
},{}],5:[function(require,module,exports){
module.exports=function(t){var e={};e.placeholderThumbnail=function(e){var i=t.thumbnailDims.width;var n=t.thumbnailDims.height;if(e){i=Math.round(i/2);n=Math.round(n/2)}return"http://holder.js/"+i+"x"+n+"/text:No Thumbnail"};e.isVideo=function(e){var i="."+e.split(".").pop().toLowerCase();return t.videoExts.indexOf(i)>=0};e.isImage=function(e){var i="."+e.split(".").pop().toLowerCase();return t.imageExts.indexOf(i)>=0};e.ucfirst=function(t){var e=t.charAt(0).toUpperCase();return e+t.substr(1)};e.uuid=function(t){var e="abcdefghijklmnopqrstuvwxyz",t=t||10,n,a=[];for(i=0;i<t;i++){a.push(e.charAt(Math.floor(Math.random()*e.length)))}return a.join("")};e.mime=function(t){if(t==="video/quicktime"){return"video/mp4"}return t};return e};
},{}],6:[function(require,module,exports){
!function(){var t=function(){var t=this;t.getUser().save({id:"logout",token:null},{success:function(){t.db.fetchCollection("pages").fetch();if(t.getCustomization()){t.getCustomization().fetch()}t.navigate("",{trigger:true})}})};module.exports=t}();
},{}],7:[function(require,module,exports){
!function(){var t=function(t,e){var i=this,n=this.db.fetchCollection("pages"),t=decodeURIComponent(t);n.once("ready",function(){var a=n.find(function(e){return e.attributes.name.toLowerCase()===t.toLowerCase()});if(a){switch(e){case"makePublic":a.set("isPublished",true);break;case"makePrivate":a.set("isPublished",false);break}a.save({},{success:function(e,n){i.navigate("page/"+t,{trigger:true})},error:i.error})}else{i.navigate("page/"+t,{trigger:true});i.error("Error 404: The page could not be found")}})};module.exports=t}();
},{}],8:[function(require,module,exports){
!function(){var e=function(e,t,i){var n=this,r,o=this.db.fetchCollection("pages"),i=decodeURIComponent(i);o.once("ready",function(){var a=o.find(function(e){return e.attributes.name.toLowerCase()===i.toLowerCase()});if(a){r=n.db.fetchModel(e,t);r.once("ready",function(){var e="Are you sure you want to remove "+r.attributes.name+" from "+a.attributes.name+"?";if(confirm(e)){a.removeMedia(r.id,function(e){n.navigate("page/"+i,{trigger:true});if(e){n.error(e)}})}else{n.navigate("page/"+i,{trigger:true})}})}else{n.navigate("page/"+i,{trigger:true});n.error("Error 404: The page could not be found")}})};module.exports=e}();
},{}],9:[function(require,module,exports){
var process=module.exports={};process.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}if(t){var i=[];window.addEventListener("message",function(e){if(e.source===window&&e.data==="process-tick"){e.stopPropagation();if(i.length>0){var t=i.shift();t()}}},true);return function n(e){i.push(e);window.postMessage("process-tick","*")}}return function r(e){setTimeout(e,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];process.binding=function(e){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(e){throw new Error("process.chdir is not supported")};
},{}],10:[function(require,module,exports){
var process=require("__browserify_process");function filter(e,t){var r=[];for(var i=0;i<e.length;i++){if(t(e[i],i,e))r.push(e[i])}return r}function normalizeArray(e,t){var r=0;for(var i=e.length;i>=0;i--){var n=e[i];if(n=="."){e.splice(i,1)}else if(n===".."){e.splice(i,1);r++}else if(r){e.splice(i,1);r--}}if(t){for(;r--;r){e.unshift("..")}}return e}var splitPathRe=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;exports.resolve=function(){var e="",t=false;for(var r=arguments.length;r>=-1&&!t;r--){var i=r>=0?arguments[r]:process.cwd();if(typeof i!=="string"||!i){continue}e=i+"/"+e;t=i.charAt(0)==="/"}e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/");return(t?"/":"")+e||"."};exports.normalize=function(e){var t=e.charAt(0)==="/",r=e.slice(-1)==="/";e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/");if(!e&&!t){e="."}if(e&&r){e+="/"}return(t?"/":"")+e};exports.join=function(){var e=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(e,function(e,t){return e&&typeof e==="string"}).join("/"))};exports.dirname=function(e){var t=splitPathRe.exec(e)[1]||"";var r=false;if(!t){return"."}else if(t.length===1||r&&t.length<=3&&t.charAt(1)===":"){return t}else{return t.substring(0,t.length-1)}};exports.basename=function(e,t){var r=splitPathRe.exec(e)[2]||"";if(t&&r.substr(-1*t.length)===t){r=r.substr(0,r.length-t.length)}return r};exports.extname=function(e){return splitPathRe.exec(e)[3]||""};exports.relative=function(e,t){e=exports.resolve(e).substr(1);t=exports.resolve(t).substr(1);function r(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var r=e.length-1;for(;r>=0;r--){if(e[r]!=="")break}if(t>r)return[];return e.slice(t,r-t+1)}var i=r(e.split("/"));var n=r(t.split("/"));var o=Math.min(i.length,n.length);var s=o;for(var a=0;a<o;a++){if(i[a]!==n[a]){s=a;break}}var u=[];for(var a=s;a<i.length;a++){u.push("..")}u=u.concat(n.slice(s));return u.join("/")};exports.sep="/";
},{"__browserify_process":9}],11:[function(require,module,exports){
var process=require("__browserify_process");!function(){var e=require("../views/routes/index"),t=require("../views/errors/no_pages"),r=function(){var e=this,r=this.db.fetchCollection("pages"),i=this.getUser(),n=2,o=function(){var i=new t({app:e}),n;if(process.env.tests){return}if(e.isLoggedIn()){n=r.sort().at(0)}else{n=r.sort().findWhere({isPublished:true})}if(n){e.navigate("page/"+encodeURIComponent(n.attributes.name),{trigger:true})}else{if(e.isLoggedIn()){e.navigate("createPage",{trigger:true})}else{e.show(i)}}},s=function(){n--;if(n===0){o()}};r.once("ready",s);i.once("ready",s)};module.exports=r}();
},{"../views/errors/no_pages":13,"../views/routes/index":12,"__browserify_process":9}],14:[function(require,module,exports){
!function(){var e=require("../views/routes/login"),t=function(){var t=new e({app:this});this.show(t)};module.exports=t}();
},{"../views/routes/login":15}],16:[function(require,module,exports){
!function(){var e=require("../views/routes/review"),t=function(){var t=new e({app:this});this.show(t)};module.exports=t}();
},{"../views/routes/review":17}],18:[function(require,module,exports){
!function(){var e=require("../views/routes/contact"),t=function(){var t=new e({app:this});this.show(t)};module.exports=t}();
},{"../views/routes/contact":19}],20:[function(require,module,exports){
!function(){var e=require("../../views/routes/pages/create"),t=function(){var t=new e({app:this});this.show(t)};module.exports=t}();
},{"../../views/routes/pages/create":21}],22:[function(require,module,exports){
!function(){var e=require("../../views/routes/pages/show"),t=function(t){var r=new e({app:this,pageName:t});this.show(r)};module.exports=t}();
},{"../../views/routes/pages/show":23}],24:[function(require,module,exports){
!function(){var e=require("../../views/routes/pages/edit"),t=function(t){var r=new e({app:this,pageName:t});this.show(r)};module.exports=t}();
},{"../../views/routes/pages/edit":25}],26:[function(require,module,exports){
!function(){var e=require("../../views/routes/pages/reorder"),t=function(){var t=new e({app:this});this.show(t)};module.exports=t}();
},{"../../views/routes/pages/reorder":27}],28:[function(require,module,exports){
!function(){var e=require("../../views/routes/media/add"),t=function(t){var r=new e({app:this,pageName:t});this.show(r)};module.exports=t}();
},{"../../views/routes/media/add":29}],30:[function(require,module,exports){
!function(){var e=require("../../views/routes/media/pick"),t=function(t){var r=new e({app:this,pageName:t});this.show(r)};module.exports=t}();
},{"../../views/routes/media/pick":31}],32:[function(require,module,exports){
!function(){var e=require("../../views/routes/media/show"),t=function(t,r,i){var n=new e({app:this,mediaType:r,mediaId:i,pageName:t});this.show(n)};module.exports=t}();
},{"../../views/routes/media/show":33}],34:[function(require,module,exports){
!function(){var e=require("../../views/routes/media/edit"),t=function(t,r){var i=new e({app:this,mediaType:t,mediaId:r});this.show(i)};module.exports=t}();
},{"../../views/routes/media/edit":35}],36:[function(require,module,exports){
module.exports=function(e){"use strict";e.fn["bootstrapSwitch"]=function(t){var i={init:function(){return this.each(function(){var t=e(this),i,n,r,s,a="",o=t.attr("class"),u,c,f="ON",d="OFF",p=false;e.each(["switch-mini","switch-small","switch-large"],function(e,t){if(o.indexOf(t)>=0)a=t});t.addClass("has-switch");if(t.data("on")!==undefined)u="switch-"+t.data("on");if(t.data("on-label")!==undefined)f=t.data("on-label");if(t.data("off-label")!==undefined)d=t.data("off-label");if(t.data("icon")!==undefined)p=t.data("icon");n=e("<span>").addClass("switch-left").addClass(a).addClass(u).html(f);u="";if(t.data("off")!==undefined)u="switch-"+t.data("off");r=e("<span>").addClass("switch-right").addClass(a).addClass(u).html(d);s=e("<label>").html("&nbsp;").addClass(a).attr("for",t.find("input").attr("id"));if(p){s.html('<i class="'+p+'"></i>')}i=t.find(":checkbox").wrap(e("<div>")).parent().data("animated",false);if(t.data("animated")!==false)i.addClass("switch-animate").data("animated",true);i.append(n).append(s).append(r);t.find(">div").addClass(t.find("input").is(":checked")?"switch-on":"switch-off");if(t.find("input").is(":disabled"))e(this).addClass("deactivate");var l=function(e){e.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};t.on("keydown",function(t){if(t.keyCode===32){t.stopImmediatePropagation();t.preventDefault();l(e(t.target).find("span:first"))}});n.on("click",function(t){l(e(this))});r.on("click",function(t){l(e(this))});t.find("input").on("change",function(t){var i=e(this),n=i.parent(),r=i.is(":checked"),s=n.is(".switch-off");t.preventDefault();n.css("left","");if(s===r){if(r)n.removeClass("switch-off").addClass("switch-on");else n.removeClass("switch-on").addClass("switch-off");if(n.data("animated")!==false)n.addClass("switch-animate");n.parent().trigger("switch-change",{el:i,value:r})}});t.find("label").on("mousedown touchstart",function(t){var i=e(this);c=false;t.preventDefault();t.stopImmediatePropagation();i.closest("div").removeClass("switch-animate");if(i.closest(".has-switch").is(".deactivate"))i.unbind("click");else{i.on("mousemove touchmove",function(t){var i=e(this).closest(".switch"),n=(t.pageX||t.originalEvent.targetTouches[0].pageX)-i.offset().left,r=n/i.width()*100,s=25,a=75;c=true;if(r<s)r=s;else if(r>a)r=a;i.find(">div").css("left",r-a+"%")});i.on("click touchend",function(t){var i=e(this),n=e(t.target),r=n.siblings("input");t.stopImmediatePropagation();t.preventDefault();i.unbind("mouseleave");if(c)r.prop("checked",!(parseInt(i.parent().css("left"))<-25));else r.prop("checked",!r.is(":checked"));c=false;r.trigger("change")});i.on("mouseleave",function(t){var i=e(this),n=i.siblings("input");t.preventDefault();t.stopImmediatePropagation();i.unbind("mouseleave");i.trigger("mouseup");n.prop("checked",!(parseInt(i.parent().css("left"))<-25)).trigger("change")});i.on("mouseup",function(t){t.stopImmediatePropagation();t.preventDefault();e(this).unbind("mousemove")})}})})},toggleActivation:function(){e(this).toggleClass("deactivate")},isActive:function(){return!e(this).hasClass("deactivate")},setActive:function(t){if(t)e(this).removeClass("deactivate");else e(this).addClass("deactivate")},toggleState:function(t){var i=e(this).find("input:checkbox");i.prop("checked",!i.is(":checked")).trigger("change",t)},setState:function(t,i){e(this).find("input:checkbox").prop("checked",t).trigger("change",i)},status:function(){return e(this).find("input:checkbox").is(":checked")},destroy:function(){var t=e(this).find("div"),i;t.find(":not(input:checkbox)").remove();i=t.children();i.unwrap().unwrap();i.unbind("change");return i}};if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof t==="object"||!t)return i.init.apply(this,arguments);else e.error("Method "+t+" does not exist!")}};
},{}],37:[function(require,module,exports){
module.exports=function(e){var t,i=e();e.fn.sortable=function(n){var r=String(n);n=e.extend({connectWith:false},n);return this.each(function(){if(/^enable|disable|destroy$/.test(r)){var a=e(this).children(e(this).data("items"));var s=e(this).children(e(this).data("handles")).attr("draggable",r=="enable");if(r=="destroy"){a.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s");s.off("selectstart.h5s")}return}var o,a=e(this).children(n.items),s=n.handle?a.find(n.handle):a;var u;var d=e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');e(this).data("items",n.items);e(this).data("handles",n.handle?n.handle:n.items);i=i.add(d);if(n.connectWith){e(n.connectWith).add(this).data("connectWith",n.connectWith)}s.attr("draggable","true").not("a[href], img").on("selectstart.h5s",function(){this.dragDrop&&this.dragDrop();return false}).end();a.on("dragstart.h5s",function(i){var n=i.originalEvent.dataTransfer;n.effectAllowed="move";n.setData("Text","dummy");o=(t=e(this)).addClass("sortable-dragging").index();u=t.parent();i.stopPropagation()}).on("dragend.h5s",function(){if(!t){return}t.removeClass("sortable-dragging").show();i.detach();if(o!=t.index()||!u.is(t.parent())){t.parent().trigger("sortupdate",{item:t})}t=null;u=null}).add([this,d]).on("dragover.h5s dragenter.h5s drop.h5s",function(r){if(!a.is(t)&&n.connectWith!==e(t).parent().data("connectWith")){return true}if(r.type=="drop"){r.stopPropagation();i.filter(":visible").after(t);t.trigger("dragend.h5s");return false}r.preventDefault();r.originalEvent.dataTransfer.dropEffect="move";if(a.is(this)){if(n.forcePlaceholderSize){d.height(t.outerHeight())}t.hide();e(this)[d.index()<e(this).index()?"after":"before"](d);i.not(d).detach()}else if(!i.is(this)&&!e(this).children(n.items).length){i.detach();e(this).append(d)}return false})})}};
},{}],38:[function(require,module,exports){
module.exports=function(e){var t=new Array;var a=new Array;e.fn.doAutosize=function(t){var i=e(this).data("minwidth"),a=e(this).data("maxwidth"),n="",r=e(this),s=e("#"+e(this).data("tester_id"));if(n===(n=r.val())){return}var o=n.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");s.html(o);var u=s.width(),d=u+t.comfortZone>=i?u+t.comfortZone:i,f=r.width(),c=d<f&&d>=i||d>i&&d<a;if(c){r.width(d)}};e.fn.resetAutosize=function(t){var i=e(this).data("minwidth")||t.minInputWidth||e(this).width(),a=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,n="",r=e(this),s=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),o=e(this).attr("id")+"_autosize_tester";if(!e("#"+o).length>0){s.attr("id",o);s.appendTo("body")}r.data("minwidth",i);r.data("maxwidth",a);r.data("tester_id",o);r.css("width",i)};e.fn.addTag=function(i,n){n=jQuery.extend({focus:false,callback:true},n);this.each(function(){var r=e(this).attr("id");var s=e(this).val().split(t[r]);if(s[0]==""){s=new Array}i=jQuery.trim(i);if(n.unique){var o=e(this).tagExist(i);if(o==true){e("#"+r+"_tag").addClass("not_valid")}}else{var o=false}if(i!=""&&o!=true){e("<span>").addClass("tag").append(e("<span>").text(i).append("&nbsp;&nbsp;"),e('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return e("#"+r).removeTag(escape(i))})).insertBefore("#"+r+"_addTag");s.push(i);e("#"+r+"_tag").val("");if(n.focus){e("#"+r+"_tag").focus()}else{e("#"+r+"_tag").blur()}e.fn.tagsInput.updateTagsField(this,s);if(n.callback&&a[r]&&a[r]["onAddTag"]){var u=a[r]["onAddTag"];u.call(this,i)}if(a[r]&&a[r]["onChange"]){var d=s.length;var u=a[r]["onChange"];u.call(this,e(this),s[d-1])}}});return false};e.fn.removeTag=function(n){n=unescape(n);this.each(function(){var r=e(this).attr("id");var s=e(this).val().split(t[r]);e("#"+r+"_tagsinput .tag").remove();str="";for(i=0;i<s.length;i++){if(s[i]!=n){str=str+t[r]+s[i]}}e.fn.tagsInput.importTags(this,str);if(a[r]&&a[r]["onRemoveTag"]){var o=a[r]["onRemoveTag"];o.call(this,n)}});return false};e.fn.tagExist=function(i){var a=e(this).attr("id");var n=e(this).val().split(t[a]);return jQuery.inArray(i,n)>=0};e.fn.importTags=function(t){id=e(this).attr("id");e("#"+id+"_tagsinput .tag").remove();e.fn.tagsInput.importTags(this,t)};e.fn.tagsInput=function(i){var n=jQuery.extend({interactive:true,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:false},hide:true,delimiter:",",unique:true,removeWithBackspace:true,placeholderColor:"#666666",autosize:true,comfortZone:20,inputPadding:6*2},i);this.each(function(){if(n.hide){e(this).hide()}var i=e(this).attr("id");if(!i||t[e(this).attr("id")]){i=e(this).attr("id","tags"+(new Date).getTime()).attr("id")}var r=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},n);t[i]=r.delimiter;if(n.onAddTag||n.onRemoveTag||n.onChange){a[i]=new Array;a[i]["onAddTag"]=n.onAddTag;a[i]["onRemoveTag"]=n.onRemoveTag;a[i]["onChange"]=n.onChange}var s=e("#"+i).attr("class").replace("tagsinput","");var o='<div id="'+i+'_tagsinput" class="tagsinput '+s+'"><div class="tagsinput-add-container" id="'+i+'_addTag"><div class="tagsinput-add"></div>';if(n.interactive){o=o+'<input id="'+i+'_tag" value="" data-default="'+n.defaultText+'" />'}o=o+"</div></div>";e(o).insertAfter(this);e(r.holder).css("width",n.width);e(r.holder).css("min-height",n.height);e(r.holder).css("height","100%");if(e(r.real_input).val()!=""){e.fn.tagsInput.importTags(e(r.real_input),e(r.real_input).val())}if(n.interactive){e(r.fake_input).val(e(r.fake_input).attr("data-default"));e(r.fake_input).css("color",n.placeholderColor);e(r.fake_input).resetAutosize(n);e(r.holder).bind("click",r,function(t){e(t.data.fake_input).focus()});e(r.fake_input).bind("focus",r,function(t){if(e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")){e(t.data.fake_input).val("")}e(t.data.fake_input).css("color","#000000")});if(n.autocomplete_url!=undefined){autocomplete_options={source:n.autocomplete_url};for(attrname in n.autocomplete){autocomplete_options[attrname]=n.autocomplete[attrname]}if(jQuery.Autocompleter!==undefined){e(r.fake_input).autocomplete(n.autocomplete_url,n.autocomplete);e(r.fake_input).bind("result",r,function(t,a,r){if(a){e("#"+i).addTag(a[0]+"",{focus:true,unique:n.unique})}})}else if(jQuery.ui.autocomplete!==undefined){e(r.fake_input).autocomplete(autocomplete_options);e(r.fake_input).bind("autocompleteselect",r,function(t,i){e(t.data.real_input).addTag(i.item.value,{focus:true,unique:n.unique});return false})}}else{e(r.fake_input).bind("blur",r,function(t){var i=e(this).attr("data-default");if(e(t.data.fake_input).val()!=""&&e(t.data.fake_input).val()!=i){if(t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length))e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:true,unique:n.unique})}else{e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default"));e(t.data.fake_input).css("color",n.placeholderColor)}return false})}e(r.fake_input).bind("keypress",r,function(t){if(t.which==t.data.delimiter.charCodeAt(0)||t.which==13){t.preventDefault();if(t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length))e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:true,unique:n.unique});e(t.data.fake_input).resetAutosize(n);return false}else if(t.data.autosize){e(t.data.fake_input).doAutosize(n)}});r.removeWithBackspace&&e(r.fake_input).bind("keydown",function(t){if(t.keyCode==8&&e(this).val()==""){t.preventDefault();var i=e(this).closest(".tagsinput").find(".tag:last").text();var a=e(this).attr("id").replace(/_tag$/,"");i=i.replace(/[\s\u00a0]+x$/,"");e("#"+a).removeTag(escape(i));e(this).trigger("focus")}});e(r.fake_input).blur();if(r.unique){e(r.fake_input).keydown(function(t){if(t.keyCode==8||String.fromCharCode(t.which).match(/\w+|[Ã¡Ã©Ã­Ã³ÃºÃÃÃÃÃÃ±Ã,/]+/)){e(this).removeClass("not_valid")}})}}});return this};e.fn.tagsInput.updateTagsField=function(i,a){var n=e(i).attr("id");e(i).val(a.join(t[n]))};e.fn.tagsInput.importTags=function(n,r){e(n).val("");var s=e(n).attr("id");var o=r.split(t[s]);for(i=0;i<o.length;i++){e(n).addTag(o[i],{focus:false,callback:false})}if(a[s]&&a[s]["onChange"]){var u=a[s]["onChange"];u.call(n,n,o[i])}}};
},{}],39:[function(require,module,exports){
module.exports=function(t){"use strict";var e=function(e,i){this.$element=t(e);this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,a=i.data(),n=i.is("input")?"val":"html";t=t+"Text";a.resetText||i.data("resetText",i[n]());i[n](a[t]||this.options[t]);setTimeout(function(){t=="loadingText"?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)};e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active");this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var a=t(this),n=a.data("button"),r=typeof i=="object"&&i;if(!n)a.data("button",n=new e(this,r));if(i=="toggle")n.toggle();else if(i)n.setState(i)})};t.fn.button.defaults={loadingText:"loading..."};t.fn.button.Constructor=e;t.fn.button.noConflict=function(){t.fn.button=i;return this};t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);if(!i.hasClass("btn"))i=i.closest(".btn");i.button("toggle")})};
},{}],40:[function(require,module,exports){
module.exports=function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,a){var n,s,o,r,u;this.type=e;this.$element=t(i);this.options=this.getOptions(a);this.enabled=true;o=this.options.trigger.split(" ");for(u=o.length;u--;){r=o[u];if(r=="click"){this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this))}else if(r!="manual"){n=r=="hover"?"mouseenter":"focus";s=r=="hover"?"mouseleave":"blur";this.$element.on(n+"."+this.type,this.options.selector,t.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e);if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e},enter:function(e){var i=t.fn[this.type].defaults,a={},n;this._options&&t.each(this._options,function(t,e){if(i[t]!=e)a[t]=e},this);n=t(e.currentTarget)[this.type](a).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout);n.hoverState="in";this.timeout=setTimeout(function(){if(n.hoverState=="in")n.show()},n.options.delay.show)},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out";this.timeout=setTimeout(function(){if(i.hoverState=="out")i.hide()},i.options.delay.hide)},show:function(){var e,i,a,n,s,o,r=t.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(r);if(r.isDefaultPrevented())return;e=this.tip();this.setContent();if(this.options.animation){e.addClass("fade")}s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;e.detach().css({top:0,left:0,display:"block"});this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);i=this.getPosition();a=e[0].offsetWidth;n=e[0].offsetHeight;switch(s){case"bottom":o={top:i.top+i.height,left:i.left+i.width/2-a/2};break;case"top":o={top:i.top-n,left:i.left+i.width/2-a/2};break;case"left":o={top:i.top+i.height/2-n/2,left:i.left-a};break;case"right":o={top:i.top+i.height/2-n/2,left:i.left+i.width};break}this.applyPlacement(o,s);this.$element.trigger("shown")}},applyPlacement:function(t,e){var i=this.tip(),a=i[0].offsetWidth,n=i[0].offsetHeight,s,o,r,u;i.offset(t).addClass(e).addClass("in");s=i[0].offsetWidth;o=i[0].offsetHeight;if(e=="top"&&o!=n){t.top=t.top+n-o;u=true}if(e=="bottom"||e=="top"){r=0;if(t.left<0){r=t.left*-2;t.left=0;i.offset(t);s=i[0].offsetWidth;o=i[0].offsetHeight}this.replaceArrow(r-a+s,s,"left")}else{this.replaceArrow(o-n,o,"top")}if(u)i.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e);t.removeClass("fade in top bottom left right")},hide:function(){var e=this,i=this.tip(),a=t.Event("hide");this.$element.trigger(a);if(a.isDefaultPrevented())return;i.removeClass("in");function n(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e);i.detach()})}t.support.transition&&this.$tip.hasClass("fade")?n():i.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var t=this.$element;if(t.attr("title")||typeof t.attr("data-original-title")!="string"){t.attr("data-original-title",t.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},typeof e.getBoundingClientRect=="function"?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,i=this.options;t=e.attr("data-original-title")||(typeof i.title=="function"?i.title.call(e[0]):i.title);return t},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var a=t(this),n=a.data("tooltip"),s=typeof i=="object"&&i;if(!n)a.data("tooltip",n=new e(this,s));if(typeof i=="string")n[i]()})};t.fn.tooltip.Constructor=e;t.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};t.fn.tooltip.noConflict=function(){t.fn.tooltip=i;return this}};
},{}],41:[function(require,module,exports){
module.exports=function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e);t.find(".popover-content")[this.options.html?"html":"text"](i);t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;t=(typeof i.content=="function"?i.content.call(e[0]):i.content)||e.attr("data-content");return t},tip:function(){if(!this.$tip){this.$tip=t(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),a=n.data("popover"),o=typeof i=="object"&&i;if(!a)n.data("popover",a=new e(this,o));if(typeof i=="string")a[i]()})};t.fn.popover.Constructor=e;t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});t.fn.popover.noConflict=function(){t.fn.popover=i;return this}};
},{}],42:[function(require,module,exports){
module.exports=function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){var i=t(this),n=i.attr("data-target"),a;if(!n){n=i.attr("href");n=n&&n.replace(/.*(?=#[^\s]*$)/,"")}a=t(n);e&&e.preventDefault();a.length||(a=i.hasClass("alert")?i:i.parent());a.trigger(e=t.Event("close"));if(e.isDefaultPrevented())return;a.removeClass("in");function o(){a.trigger("closed").remove()}t.support.transition&&a.hasClass("fade")?a.on(t.support.transition.end,o):o()};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),a=n.data("alert");if(!a)n.data("alert",a=new i(this));if(typeof e=="string")a[e].call(n)})};t.fn.alert.Constructor=i;t.fn.alert.noConflict=function(){t.fn.alert=n;return this};t(document).on("click.alert.data-api",e,i.prototype.close)};
},{}],2:[function(require,module,exports){
!function(){var t=require("lodash"),e=require("./helpers/JqueryLoader"),i=require("js-thumb"),n=require("path"),a=require("./helpers/BackboneLoader.js"),s=require("./helpers/lib/messenger.js"),r=require("./helpers/db"),o={"":require("./routes/index"),login:require("./routes/login"),logout:require("./routes/logout"),createPage:require("./routes/pages/create"),"page/:name":require("./routes/pages/show"),"page/:name/edit":require("./routes/pages/edit"),"page/:name/edit/:action/immediately":require("./routes/pages/quickEdit"),reorder:require("./routes/pages/reorder"),"page/:name/addMedia":require("./routes/media/add"),"page/:name/pickMedia":require("./routes/media/pick"),review:require("./routes/review"),"page/:name/:type/:id":require("./routes/media/show"),"media/:type/:id/edit":require("./routes/media/edit"),"media/:type/:id/remove/:page":require("./routes/media/remove"),contact:require("./routes/contact")},u=a.Router.extend({initialize:function(n,a){var u,l;t.each(o,function(e,i){this.route(i,t.bind(e,this))},this);n=n||document.body;this.el=n;this.$el=e(n);this.db=new r(this);this.config=t.clone(require("./config/config.js"));this.util=require("./helpers/util.js")(this.config);this.messenger=new s(null,this.config.s3prefix,"thumbnailer");this.listenTo(this.getUser(),"change",function(){if(this.bootstrap.userId&&this.getUser().attributes.token&&this.getUser().id!==this.bootstrap.userId){this.navigate("logout",{trigger:true});this.setFlash("info","You have been logged out because this is not your portfolio.")}},this);u=this.db.fetchCollection("unprocessedUploads");this.listenTo(u,"ready add change remove sync reset",function(){if(u.length>0){l=setTimeout(function(){clearTimeout(l);u.fetch()},3e3)}else{clearTimeout(l)}});this.error=t.bind(this.error,this);this.setFlash=t.bind(this.setFlash,this);this.clearFlash=t.bind(this.clearFlash,this);window.onresize=i.resizeVideos;return this},start:function(t){this.bootstrap=t||{};a.history.start();return this},handleAppLink:function(t){t.preventDefault();t.stopPropagation();var e=t.target;while(e.pathname==null){e=e.parentElement}this.navigate(e.pathname,{trigger:true});return this},isLoggedIn:function(){return this.getUser().attributes&&this.getUser().attributes.token},show:function(t){if(this.currentView){this.currentView.close();this.currentView=null}this.currentView=t;t.render();this.$el.append(t.$el);return this},flash:null,setFlash:function(t,e){if(!t){t="info"}this.flash={message:e,type:t};this.trigger("flash");this.listenToOnce(this,"route",function(t,e,i){this.clearFlash()});return this},clearFlash:function(){this.flash=null;this.trigger("flash");return this},error:function(t,e){console.log(arguments);if(!e){e=t}else if(e.statusText==="timeout"){e="The request timed out"}else if(t.responseText){e=t.responseText}else if(e.responseText){e=e.responseText}var i=this,n=e,a="";if(typeof n=="string"){try{n=JSON.parse(n)}catch(s){}}if(n.message){n=n.message}if(n==null){n="Unknown (Null) Error"}if(parseInt(n,10)===403){this.logoutFromInactivity()}else if(typeof n==="object"){a=[];if(n instanceof Array){for(var r=0,o=n.length;r<o;r++){a.push(i.util.ucfirst(n[r].attr)+": "+i.util.ucfirst(n[r].message))}}else if(n.toString){a=[n.toString()]}else{for(var u in n){a.push(i.util.ucfirst(u)+": "+i.util.ucfirst(n[u]))}}a=a.join(",")}else{a+=n}this.setFlash("error",a)},getUser:function(){return this.db.fetchModel("user")},getCustomization:function(){var t,e;if(this.bootstrap&&this.bootstrap.customizationId){t=this.bootstrap.customizationId;e=this.db.fetchModel("customization",t)}else if(this.isLoggedIn()){t=this.getUser().attributes.customization.id;e=this.db.fetchModel("customization",t);if(this.getUser().attributes.customization){e.set(this.getUser().attributes.customization)}}if(t){return e}else{return false}},getUserVars:function(){var t=this.getCustomization();if(!this.isLoggedIn()){return this.bootstrap.userVars}else if(!t){return this.bootstrap.userVars}else{return t.attributes.config}},logoutFromInactivity:function(){var t=this;this.navigate("logout",{trigger:true});setTimeout(function(){t.setFlash("info","You were logged out due to inactivity")},1e3)}});module.exports=u}();
},{"./config/config.js":4,"./helpers/BackboneLoader.js":43,"./helpers/JqueryLoader":44,"./helpers/db":45,"./helpers/lib/messenger.js":3,"./helpers/util.js":5,"./routes/contact":18,"./routes/index":11,"./routes/login":14,"./routes/logout":6,"./routes/media/add":28,"./routes/media/edit":34,"./routes/media/pick":30,"./routes/media/remove":8,"./routes/media/show":32,"./routes/pages/create":20,"./routes/pages/edit":24,"./routes/pages/quickEdit":7,"./routes/pages/reorder":26,"./routes/pages/show":22,"./routes/review":16,"js-thumb":47,"lodash":46,"path":10}],46:[function(require,module,exports){
var global=self;!function(t){var e;var n=[],i=[];var r=0;var a={};var o=+new Date+"";var s=75;var u=40;var l=/\b__p \+= '';/g,f=/\b(__p \+=) '' \+/g,c=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var p=/&(?:amp|lt|gt|quot|#39);/g;var h=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var d=/\w*$/;var g=/<%=([\s\S]+?)%>/g;var v=(v=/\bthis\b/)&&v.test(G)&&v;var m=" 	\f ﻿"+"\n\r\u2028\u2029"+" ᠎             　";var b=RegExp("^["+m+"]*0+(?=.$)");var y=/($^)/;var w=/[&<>"']/g;var _=/['\n\r\t\u2028\u2029\\]/g;var k=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"];var x=0;var C="[object Arguments]",T="[object Array]",j="[object Boolean]",q="[object Date]",I="[object Error]",$="[object Function]",A="[object Number]",z="[object Object]",E="[object RegExp]",S="[object String]";var P={};P[$]=false;P[C]=P[T]=P[j]=P[q]=P[A]=P[z]=P[E]=P[S]=true;var D={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};var F={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};var O=D[typeof exports]&&exports;var W=D[typeof module]&&module&&module.exports==O&&module;var R=D[typeof global]&&global;if(R&&(R.global===R||R.window===R)){t=R}function U(t,e,n){var i=(n||0)-1,r=t.length;while(++i<r){if(t[i]===e){return i}}return-1}function N(t,e){var n=typeof e;t=t.cache;if(n=="boolean"||e==null){return t[e]}if(n!="number"&&n!="string"){n="object"}var i=n=="number"?e:o+e;t=t[n]||(t[n]={});return n=="object"?t[i]&&U(t[i],e)>-1?0:-1:t[i]?0:-1}function M(t){var e=this.cache,n=typeof t;if(n=="boolean"||t==null){e[t]=true}else{if(n!="number"&&n!="string"){n="object"}var i=n=="number"?t:o+t,r=e[n]||(e[n]={});if(n=="object"){if((r[i]||(r[i]=[])).push(t)==this.array.length){e[n]=false}}else{r[i]=true}}}function L(t){return t.charCodeAt(0)}function B(t,e){var n=t.index,i=e.index;t=t.criteria;e=e.criteria;if(t!==e){if(t>e||typeof t=="undefined"){return 1}if(t<e||typeof e=="undefined"){return-1}}return n<i?-1:1}function V(t){var e=-1,n=t.length;var i=J();i["false"]=i["null"]=i["true"]=i["undefined"]=false;var r=J();r.array=t;r.cache=i;r.push=M;while(++e<n){r.push(t[e])}return i.object===false?(Y(r),null):r}function Q(t){return"\\"+F[t]}function H(){return n.pop()||[]}function J(){return i.pop()||{array:null,cache:null,criteria:null,"false":false,index:0,leading:false,maxWait:0,"null":false,number:null,object:null,push:null,string:null,trailing:false,"true":false,undefined:false,value:null}}function Z(){}function X(t){t.length=0;if(n.length<u){n.push(t)}}function Y(t){var e=t.cache;if(e){Y(e)}t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null;if(i.length<u){i.push(t)}}function K(t,e,n){e||(e=0);if(typeof n=="undefined"){n=t?t.length:0}var i=-1,r=n-e||0,a=Array(r<0?0:r);while(++i<r){a[i]=t[e+i]}return a}function G(n){n=n?te.defaults(t.Object(),n,te.pick(t,k)):t;var i=n.Array,u=n.Boolean,I=n.Date,F=n.Function,O=n.Math,R=n.Number,M=n.Object,Z=n.RegExp,ee=n.String,ne=n.TypeError;var ie=[];var re=M.prototype,ae=ee.prototype;var oe=n._;var se=Z("^"+ee(re.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");var ue=O.ceil,le=n.clearTimeout,fe=ie.concat,ce=O.floor,pe=F.prototype.toString,he=se.test(he=M.getPrototypeOf)&&he,de=re.hasOwnProperty,ge=ie.push,ve=re.propertyIsEnumerable,me=n.setImmediate,be=n.setTimeout,ye=re.toString;var we=se.test(we=ye.bind)&&we,_e=se.test(_e=M.create)&&_e,ke=se.test(ke=i.isArray)&&ke,xe=n.isFinite,Ce=n.isNaN,Te=se.test(Te=M.keys)&&Te,je=O.max,qe=O.min,Ie=n.parseInt,$e=O.random,Ae=ie.slice;var ze=se.test(n.attachEvent),Ee=we&&!/\n|true/.test(we+ze);var Se={};Se[T]=i;Se[j]=u;Se[q]=I;Se[$]=F;Se[z]=M;Se[A]=R;Se[E]=Z;Se[S]=ee;function Pe(t){return t&&typeof t=="object"&&!Ve(t)&&de.call(t,"__wrapped__")?t:new De(t)}function De(t){this.__wrapped__=t}De.prototype=Pe.prototype;var Fe=Pe.support={};Fe.fastBind=we&&!Ee;Pe.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:g,variable:"",imports:{_:Pe}};function Oe(t,e,n,i){var r=hn(t),a=!n,o=e;if(a){var s=i;n=e}else if(!r){if(!i){throw new ne}e=t}function u(){var i=arguments,l=a?this:e;if(!r){t=e[o]}if(n.length){i=i.length?(i=Ae.call(i),s?i.concat(n):n.concat(i)):n}if(this instanceof u){l=We(t.prototype);var f=t.apply(l,i);return dn(f)?f:l}return t.apply(l,i)}return u}function We(t){return dn(t)?_e(t):{}}function Re(t){return Je[t]}function Ue(t,e,n){var i=(i=Pe.indexOf)===ei?U:i;return i}function Ne(t){return function(n,i,r,a){if(typeof i!="boolean"&&i!=null){a=r;r=!(a&&a[i]===n)?i:e;i=false}if(r!=null){r=Pe.createCallback(r,a)}return t(n,i,r,a)}}function Me(t){var n,i;if(!(t&&ye.call(t)==z)||(n=t.constructor,hn(n)&&!(n instanceof n))){return false}en(t,function(t,e){i=e});return i===e||de.call(t,i)}function Le(t){return Ze[t]}function Be(t){return ye.call(t)==C}var Ve=ke;var Qe=function(t){var e,n=t,i=[];if(!n)return i;if(!D[typeof t])return i;for(e in n){if(de.call(n,e)){i.push(e)}}return i};var He=!Te?Qe:function(t){if(!dn(t)){return[]}return Te(t)};var Je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var Ze=on(Je);var Xe=function(t,e,n){var i,r=t,a=r;if(!r)return a;var o=arguments,s=0,u=typeof n=="number"?2:o.length;if(u>3&&typeof o[u-2]=="function"){var l=Pe.createCallback(o[--u-1],o[u--],2)}else if(u>2&&typeof o[u-1]=="function"){l=o[--u]}while(++s<u){r=o[s];if(r&&D[typeof r]){var f=-1,c=D[typeof r]&&He(r),p=c?c.length:0;while(++f<p){i=c[f];a[i]=l?l(a[i],r[i]):r[i]}}}return a};function Ye(t,n,i,r,a,o){var s=t;if(typeof n!="boolean"&&n!=null){r=i;i=n;n=false}if(typeof i=="function"){i=typeof r=="undefined"?i:Pe.createCallback(i,r,1);s=i(s);if(typeof s!="undefined"){return s}s=t}var u=dn(s);if(u){var l=ye.call(s);if(!P[l]){return s}var f=Ve(s)}if(!u||!n){return u?f?K(s):Xe({},s):s}var c=Se[l];switch(l){case j:case q:return new c(+s);case A:case S:return new c(s);case E:return c(s.source,d.exec(s))}var p=!a;a||(a=H());o||(o=H());var h=a.length;while(h--){if(a[h]==t){return o[h]}}s=f?c(s.length):{};if(f){if(de.call(t,"index")){s.index=t.index}if(de.call(t,"input")){s.input=t.input}}a.push(t);o.push(s);(f?Pn:nn)(t,function(t,r){s[r]=Ye(t,n,i,e,a,o)});if(p){X(a);X(o)}return s}function Ke(t,e,n){return Ye(t,true,e,n)}var Ge=function(t,e,n){var i,r=t,a=r;if(!r)return a;var o=arguments,s=0,u=typeof n=="number"?2:o.length;while(++s<u){r=o[s];if(r&&D[typeof r]){var l=-1,f=D[typeof r]&&He(r),c=f?f.length:0;while(++l<c){i=f[l];if(typeof a[i]=="undefined")a[i]=r[i]}}}return a};function tn(t,e,n){var i;e=Pe.createCallback(e,n);nn(t,function(t,n,r){if(e(t,n,r)){i=n;return false}});return i}var en=function(t,e,n){var i,r=t,a=r;if(!r)return a;if(!D[typeof r])return a;e=e&&typeof n=="undefined"?e:Pe.createCallback(e,n);for(i in r){if(e(r[i],i,t)===false)return a}return a};var nn=function(t,e,n){var i,r=t,a=r;if(!r)return a;if(!D[typeof r])return a;e=e&&typeof n=="undefined"?e:Pe.createCallback(e,n);var o=-1,s=D[typeof r]&&He(r),u=s?s.length:0;while(++o<u){i=s[o];if(e(r[i],i,t)===false)return a}return a};function rn(t){var e=[];en(t,function(t,n){if(hn(t)){e.push(n)}});return e.sort()}function an(t,e){return t?de.call(t,e):false}function on(t){var e=-1,n=He(t),i=n.length,r={};while(++e<i){var a=n[e];r[t[a]]=a}return r}function sn(t){return t===true||t===false||ye.call(t)==j}function un(t){return t?typeof t=="object"&&ye.call(t)==q:false}function ln(t){return t?t.nodeType===1:false}function fn(t){var e=true;if(!t){return e}var n=ye.call(t),i=t.length;if(n==T||n==S||n==C||n==z&&typeof i=="number"&&hn(t.splice)){return!i}nn(t,function(){return e=false});return e}function cn(t,e,n,i,r,o){var s=n===a;if(typeof n=="function"&&!s){n=Pe.createCallback(n,i,2);var u=n(t,e);if(typeof u!="undefined"){return!!u}}if(t===e){return t!==0||1/t==1/e}var l=typeof t,f=typeof e;if(t===t&&(!t||l!="function"&&l!="object")&&(!e||f!="function"&&f!="object")){return false}if(t==null||e==null){return t===e}var c=ye.call(t),p=ye.call(e);if(c==C){c=z}if(p==C){p=z}if(c!=p){return false}switch(c){case j:case q:return+t==+e;case A:return t!=+t?e!=+e:t==0?1/t==1/e:t==+e;case E:case S:return t==ee(e)}var h=c==T;if(!h){if(de.call(t,"__wrapped__ ")||de.call(e,"__wrapped__")){return cn(t.__wrapped__||t,e.__wrapped__||e,n,i,r,o)}if(c!=z){return false}var d=t.constructor,g=e.constructor;if(d!=g&&!(hn(d)&&d instanceof d&&hn(g)&&g instanceof g)){return false}}var v=!r;r||(r=H());o||(o=H());var m=r.length;while(m--){if(r[m]==t){return o[m]==e}}var b=0;u=true;r.push(t);o.push(e);if(h){m=t.length;b=e.length;u=b==t.length;if(!u&&!s){return u}while(b--){var y=m,w=e[b];if(s){while(y--){if(u=cn(t[y],w,n,i,r,o)){break}}}else if(!(u=cn(t[b],w,n,i,r,o))){break}}return u}en(e,function(e,a,s){if(de.call(s,a)){b++;return u=de.call(t,a)&&cn(t[a],e,n,i,r,o)}});if(u&&!s){en(t,function(t,e,n){if(de.call(n,e)){return u=--b>-1}})}if(v){X(r);X(o)}return u}function pn(t){return xe(t)&&!Ce(parseFloat(t))}function hn(t){return typeof t=="function"}function dn(t){return!!(t&&D[typeof t])}function gn(t){return mn(t)&&t!=+t}function vn(t){return t===null}function mn(t){return typeof t=="number"||ye.call(t)==A}var bn=function(t){if(!(t&&ye.call(t)==z)){return false}var e=t.valueOf,n=typeof e=="function"&&(n=he(e))&&he(n);return n?t==n||he(t)==n:Me(t)};function yn(t){return t?typeof t=="object"&&ye.call(t)==E:false}function wn(t){return typeof t=="string"||ye.call(t)==S}function _n(t){return typeof t=="undefined"}function kn(t,e,n){var i=arguments,r=0,o=2;if(!dn(t)){return t}if(n===a){var s=i[3],u=i[4],l=i[5]}else{var f=true;u=H();l=H();if(typeof n!="number"){o=i.length}if(o>3&&typeof i[o-2]=="function"){s=Pe.createCallback(i[--o-1],i[o--],2)}else if(o>2&&typeof i[o-1]=="function"){s=i[--o]}}while(++r<o){(Ve(i[r])?Pn:nn)(i[r],function(e,n){var i,r,o=e,f=t[n];if(e&&((r=Ve(e))||bn(e))){var c=u.length;while(c--){if(i=u[c]==e){f=l[c];break}}if(!i){var p;if(s){o=s(f,e);if(p=typeof o!="undefined"){f=o}}if(!p){f=r?Ve(f)?f:[]:bn(f)?f:{}}u.push(e);l.push(f);if(!p){f=kn(f,e,a,s,u,l)}}}else{if(s){o=s(f,e);if(typeof o=="undefined"){o=e}}if(typeof o!="undefined"){f=o}}t[n]=f})}if(f){X(u);X(l)}return t}function xn(t,e,n){var i=Ue(),r=typeof e=="function",a={};if(r){e=Pe.createCallback(e,n)}else{var o=fe.apply(ie,Ae.call(arguments,1))}en(t,function(t,n,s){if(r?!e(t,n,s):i(o,n)<0){a[n]=t}});return a}function Cn(t){var e=-1,n=He(t),r=n.length,a=i(r);while(++e<r){var o=n[e];a[e]=[o,t[o]]}return a}function Tn(t,e,n){var i={};if(typeof e!="function"){var r=-1,a=fe.apply(ie,Ae.call(arguments,1)),o=dn(t)?a.length:0;while(++r<o){var s=a[r];if(s in t){i[s]=t[s]}}}else{e=Pe.createCallback(e,n);en(t,function(t,n,r){if(e(t,n,r)){i[n]=t}})}return i}function jn(t,e,n,i){var r=Ve(t);e=Pe.createCallback(e,i,4);if(n==null){if(r){n=[]}else{var a=t&&t.constructor,o=a&&a.prototype;n=We(o)}}(r?Pn:nn)(t,function(t,i,r){return e(n,t,i,r)});return n}function qn(t){var e=-1,n=He(t),r=n.length,a=i(r);while(++e<r){a[e]=t[n[e]]}return a}function In(t){var e=-1,n=fe.apply(ie,Ae.call(arguments,1)),r=n.length,a=i(r);while(++e<r){a[e]=t[n[e]]}return a}function $n(t,e,n){var i=-1,r=Ue(),a=t?t.length:0,o=false;n=(n<0?je(0,a+n):n)||0;if(a&&typeof a=="number"){o=(wn(t)?t.indexOf(e,n):r(t,e,n))>-1}else{nn(t,function(t){if(++i>=n){return!(o=t===e)}})}return o}function An(t,e,n){var i={};e=Pe.createCallback(e,n);Pn(t,function(t,n,r){n=ee(e(t,n,r));de.call(i,n)?i[n]++:i[n]=1});return i}function zn(t,e,n){var i=true;e=Pe.createCallback(e,n);var r=-1,a=t?t.length:0;if(typeof a=="number"){while(++r<a){if(!(i=!!e(t[r],r,t))){break}}}else{nn(t,function(t,n,r){return i=!!e(t,n,r)})}return i}function En(t,e,n){var i=[];e=Pe.createCallback(e,n);var r=-1,a=t?t.length:0;if(typeof a=="number"){while(++r<a){var o=t[r];if(e(o,r,t)){i.push(o)}}}else{nn(t,function(t,n,r){if(e(t,n,r)){i.push(t)}})}return i}function Sn(t,e,n){e=Pe.createCallback(e,n);var i=-1,r=t?t.length:0;if(typeof r=="number"){while(++i<r){var a=t[i];if(e(a,i,t)){return a}}}else{var o;nn(t,function(t,n,i){if(e(t,n,i)){o=t;return false}});return o}}function Pn(t,e,n){var i=-1,r=t?t.length:0;e=e&&typeof n=="undefined"?e:Pe.createCallback(e,n);if(typeof r=="number"){while(++i<r){if(e(t[i],i,t)===false){break}}}else{nn(t,e)}return t}function Dn(t,e,n){var i={};e=Pe.createCallback(e,n);Pn(t,function(t,n,r){n=ee(e(t,n,r));(de.call(i,n)?i[n]:i[n]=[]).push(t)});return i}function Fn(t,e){var n=Ae.call(arguments,2),r=-1,a=typeof e=="function",o=t?t.length:0,s=i(typeof o=="number"?o:0);Pn(t,function(t){s[++r]=(a?e:t[e]).apply(t,n)});return s}function On(t,e,n){var r=-1,a=t?t.length:0;e=Pe.createCallback(e,n);if(typeof a=="number"){var o=i(a);while(++r<a){o[r]=e(t[r],r,t)}}else{o=[];nn(t,function(t,n,i){o[++r]=e(t,n,i)})}return o}function Wn(t,e,n){var i=-Infinity,r=i;if(!e&&Ve(t)){var a=-1,o=t.length;while(++a<o){var s=t[a];if(s>r){r=s}}}else{e=!e&&wn(t)?L:Pe.createCallback(e,n);Pn(t,function(t,n,a){var o=e(t,n,a);if(o>i){i=o;r=t}})}return r}function Rn(t,e,n){var i=Infinity,r=i;if(!e&&Ve(t)){var a=-1,o=t.length;while(++a<o){var s=t[a];if(s<r){r=s}}}else{e=!e&&wn(t)?L:Pe.createCallback(e,n);Pn(t,function(t,n,a){var o=e(t,n,a);if(o<i){i=o;r=t}})}return r}function Un(t,e){var n=-1,r=t?t.length:0;if(typeof r=="number"){var a=i(r);while(++n<r){a[n]=t[n][e]}}return a||On(t,e)}function Nn(t,e,n,i){if(!t)return n;var r=arguments.length<3;e=Pe.createCallback(e,i,4);var a=-1,o=t.length;if(typeof o=="number"){if(r){n=t[++a]}while(++a<o){n=e(n,t[a],a,t)}}else{nn(t,function(t,i,a){n=r?(r=false,t):e(n,t,i,a)})}return n}function Mn(t,e,n,i){var r=t,a=t?t.length:0,o=arguments.length<3;if(typeof a!="number"){var s=He(t);a=s.length}e=Pe.createCallback(e,i,4);Pn(t,function(t,i,u){i=s?s[--a]:--a;n=o?(o=false,r[i]):e(n,r[i],i,u)});return n}function Ln(t,e,n){e=Pe.createCallback(e,n);return En(t,function(t,n,i){return!e(t,n,i)})}function Bn(t){var e=-1,n=t?t.length:0,r=i(typeof n=="number"?n:0);Pn(t,function(t){var n=ce($e()*(++e+1));r[e]=r[n];r[n]=t});return r}function Vn(t){var e=t?t.length:0;return typeof e=="number"?e:He(t).length}function Qn(t,e,n){var i;e=Pe.createCallback(e,n);var r=-1,a=t?t.length:0;if(typeof a=="number"){while(++r<a){if(i=e(t[r],r,t)){break}}}else{nn(t,function(t,n,r){return!(i=e(t,n,r))})}return!!i}function Hn(t,e,n){var r=-1,a=t?t.length:0,o=i(typeof a=="number"?a:0);e=Pe.createCallback(e,n);Pn(t,function(t,n,i){var a=o[++r]=J();a.criteria=e(t,n,i);a.index=r;a.value=t});a=o.length;o.sort(B);while(a--){var s=o[a];o[a]=s.value;Y(s)}return o}function Jn(t){if(t&&typeof t.length=="number"){return K(t)}return qn(t)}var Zn=En;function Xn(t){var e=-1,n=t?t.length:0,i=[];while(++e<n){var r=t[e];if(r){i.push(r)}}return i}function Yn(t){var e=-1,n=Ue(),i=t?t.length:0,r=fe.apply(ie,Ae.call(arguments,1)),a=[];var o=i>=s&&n===U;if(o){var u=V(r);if(u){n=N;r=u}else{o=false}}while(++e<i){var l=t[e];if(n(r,l)<0){a.push(l)}}if(o){Y(r)}return a}function Kn(t,e,n){var i=-1,r=t?t.length:0;e=Pe.createCallback(e,n);while(++i<r){if(e(t[i],i,t)){return i}}return-1}function Gn(t,e,n){if(t){var i=0,r=t.length;if(typeof e!="number"&&e!=null){var a=-1;e=Pe.createCallback(e,n);while(++a<r&&e(t[a],a,t)){i++}}else{i=e;if(i==null||n){return t[0]}}return K(t,0,qe(je(0,i),r))}}var ti=Ne(function Bi(t,e,n){var i=-1,r=t?t.length:0,a=[];while(++i<r){var o=t[i];if(n){o=n(o,i,t)}if(Ve(o)){ge.apply(a,e?o:Bi(o))}else{a.push(o)}}return a});function ei(t,e,n){if(typeof n=="number"){var i=t?t.length:0;n=n<0?je(0,i+n):n||0}else if(n){var r=ui(t,e);return t[r]===e?r:-1}return t?U(t,e,n):-1}function ni(t,e,n){if(!t){return[]}var i=0,r=t.length;if(typeof e!="number"&&e!=null){var a=r;e=Pe.createCallback(e,n);while(a--&&e(t[a],a,t)){i++}}else{i=e==null||n?1:e||i}return K(t,0,qe(je(0,r-i),r))}function ii(t){var e=arguments,n=e.length,i=-1,r=H(),a=-1,o=Ue(),u=t?t.length:0,l=[],f=H();while(++i<n){var c=e[i];r[i]=o===U&&(c?c.length:0)>=s&&V(i?e[i]:f)}t:while(++a<u){var p=r[0];c=t[a];if((p?N(p,c):o(f,c))<0){i=n;(p||f).push(c);while(--i){p=r[i];if((p?N(p,c):o(e[i],c))<0){continue t}}l.push(c)}}while(n--){p=r[n];if(p){Y(p)}}X(r);X(f);return l}function ri(t,e,n){if(t){var i=0,r=t.length;if(typeof e!="number"&&e!=null){var a=r;e=Pe.createCallback(e,n);while(a--&&e(t[a],a,t)){i++}}else{i=e;if(i==null||n){return t[r-1]}}return K(t,je(0,r-i))}}function ai(t,e,n){var i=t?t.length:0;if(typeof n=="number"){i=(n<0?je(0,i+n):qe(n,i-1))+1}while(i--){if(t[i]===e){return i}}return-1}function oi(t,e,n){t=+t||0;n=+n||1;if(e==null){e=t;t=0}var r=-1,a=je(0,ue((e-t)/n)),o=i(a);while(++r<a){o[r]=t;t+=n}return o}function si(t,e,n){if(typeof e!="number"&&e!=null){var i=0,r=-1,a=t?t.length:0;e=Pe.createCallback(e,n);while(++r<a&&e(t[r],r,t)){i++}}else{i=e==null||n?1:je(0,e)}return K(t,i)}function ui(t,e,n,i){var r=0,a=t?t.length:r;n=n?Pe.createCallback(n,i,1):zi;e=n(e);while(r<a){var o=r+a>>>1;n(t[o])<e?r=o+1:a=o}return r}function li(t){if(!Ve(t)){arguments[0]=t?Ae.call(t):ie}return fi(fe.apply(ie,arguments))}var fi=Ne(function(t,e,n){var i=-1,r=Ue(),a=t?t.length:0,o=[];var u=!e&&a>=s&&r===U,l=n||u?H():o;if(u){var f=V(l);if(f){r=N;l=f}else{u=false;l=n?l:(X(l),o)}}while(++i<a){var c=t[i],p=n?n(c,i,t):c;if(e?!i||l[l.length-1]!==p:r(l,p)<0){if(n||u){l.push(p)}o.push(c)}}if(u){X(l.array);Y(l)}else if(n){X(l)}return o});function ci(t){var e=-1,n=t?Wn(Un(t,"length")):0,r=i(n<0?0:n);while(++e<n){r[e]=Un(t,e)}return r}function pi(t){return Yn(t,Ae.call(arguments,1))}function hi(t){return t?ci(arguments):[]}function di(t,e){var n=-1,i=t?t.length:0,r={};while(++n<i){var a=t[n];if(e){r[a]=e[n]}else{r[a[0]]=a[1]}}return r}function gi(t,e){if(t<1){return e()}return function(){if(--t<1){return e.apply(this,arguments)}}}function vi(t,e){return Fe.fastBind||we&&arguments.length>2?we.call.apply(we,arguments):Oe(t,e,Ae.call(arguments,2))}function mi(t){var e=arguments.length>1?fe.apply(ie,Ae.call(arguments,1)):rn(t),n=-1,i=e.length;while(++n<i){var r=e[n];t[r]=vi(t[r],t)}return t}function bi(t,e){return Oe(t,e,Ae.call(arguments,2),a)}function yi(){var t=arguments;return function(){var e=arguments,n=t.length;while(n--){e=[t[n].apply(this,e)]}return e[0]}}function wi(t,e,n){if(t==null){return zi}var i=typeof t;if(i!="function"){if(i!="object"){return function(e){return e[t]}}var r=He(t);return function(e){var n=r.length,i=false;while(n--){if(!(i=cn(e[r[n]],t[r[n]],a))){break}}return i}}if(typeof e=="undefined"||v&&!v.test(pe.call(t))){return t}if(n===1){return function(n){return t.call(e,n)}}if(n===2){return function(n,i){return t.call(e,n,i)}}if(n===4){return function(n,i,r,a){return t.call(e,n,i,r,a)}}return function(n,i,r){return t.call(e,n,i,r)}}function _i(t,e,n){var i,r,a,o=0,s=0,u=false,l=null,f=null,c=true;function p(){le(l);le(f);o=0;l=f=null}function h(){var e=c&&(!g||o>1);p();if(e){if(u!==false){s=new I}r=t.apply(a,i)}}function d(){p();if(c||u!==e){s=new I;r=t.apply(a,i)}}e=je(0,e||0);if(n===true){var g=true;c=false}else if(dn(n)){g=n.leading;u="maxWait"in n&&je(e,n.maxWait||0);c="trailing"in n?n.trailing:c}return function(){i=arguments;a=this;o++;le(f);if(u===false){if(g&&o<2){r=t.apply(a,i)}}else{var n=new I;if(!l&&!g){s=n}var c=u-(n-s);if(c<=0){le(l);l=null;s=n;r=t.apply(a,i)}else if(!l){l=be(d,c)}}if(e!==u){f=be(h,e)}return r}}function ki(t){var n=Ae.call(arguments,1);return be(function(){t.apply(e,n)},1)}if(Ee&&W&&typeof me=="function"){ki=vi(me,n)}function xi(t,n){var i=Ae.call(arguments,2);return be(function(){t.apply(e,i)},n)}function Ci(t,e){function n(){var i=n.cache,r=o+(e?e.apply(this,arguments):arguments[0]);return de.call(i,r)?i[r]:i[r]=t.apply(this,arguments)}n.cache={};return n}function Ti(t){var e,n;return function(){if(e){return n}e=true;n=t.apply(this,arguments);t=null;return n}}function ji(t){return Oe(t,Ae.call(arguments,1))}function qi(t){return Oe(t,Ae.call(arguments,1),null,a)}function Ii(t,e,n){var i=true,r=true;if(n===false){i=false}else if(dn(n)){i="leading"in n?n.leading:i;r="trailing"in n?n.trailing:r}n=J();n.leading=i;n.maxWait=e;n.trailing=r;var a=_i(t,e,n);Y(n);return a}function $i(t,e){return function(){var n=[t];ge.apply(n,arguments);return e.apply(this,n)}}function Ai(t){return t==null?"":ee(t).replace(w,Re)}function zi(t){return t}function Ei(t){Pn(rn(t),function(e){var n=Pe[e]=t[e];Pe.prototype[e]=function(){var t=this.__wrapped__,e=[t];ge.apply(e,arguments);var i=n.apply(Pe,e);return t&&typeof t=="object"&&t===i?this:new De(i)}})}function Si(){n._=oe;return this}var Pi=Ie(m+"08")==8?Ie:function(t,e){return Ie(wn(t)?t.replace(b,""):t,e||0)};function Di(t,e){if(t==null&&e==null){e=1}t=+t||0;if(e==null){e=t;t=0}else{e=+e||0}var n=$e();return t%1||e%1?t+qe(n*(e-t+parseFloat("1e-"+((n+"").length-1))),e):t+ce(n*(e-t+1))}function Fi(t,n){var i=t?t[n]:e;return hn(i)?t[n]():i}function Oi(t,n,i){var r=Pe.templateSettings;t||(t="");i=Ge({},i,r);var a=Ge({},i.imports,r.imports),o=He(a),s=qn(a);var u,p=0,d=i.interpolate||y,v="__p += '";var m=Z((i.escape||y).source+"|"+d.source+"|"+(d===g?h:y).source+"|"+(i.evaluate||y).source+"|$","g");t.replace(m,function(e,n,i,r,a,o){i||(i=r);v+=t.slice(p,o).replace(_,Q);if(n){v+="' +\n__e("+n+") +\n'"}if(a){u=true;v+="';\n"+a+";\n__p += '"}if(i){v+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"}p=o+e.length;return e});v+="';\n";var b=i.variable,w=b;if(!w){b="obj";v="with ("+b+") {\n"+v+"\n}\n"}v=(u?v.replace(l,""):v).replace(f,"$1").replace(c,"$1;");v="function("+b+") {\n"+(w?"":b+" || ("+b+" = {});\n")+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var k="\n/*\n//@ sourceURL="+(i.sourceURL||"/lodash/template/source["+x++ +"]")+"\n*/";try{var C=F(o,"return "+v+k).apply(e,s)}catch(T){T.source=v;throw T}if(n){return C(n)}C.source=v;return C}function Wi(t,e,n){t=(t=+t)>-1?t:0;var r=-1,a=i(t);e=Pe.createCallback(e,n,1);while(++r<t){a[r]=e(r)}return a}function Ri(t){return t==null?"":ee(t).replace(p,Le)}function Ui(t){var e=++r;return ee(t==null?"":t)+e}function Ni(t,e){e(t);return t}function Mi(){return ee(this.__wrapped__)}function Li(){return this.__wrapped__}Pe.after=gi;Pe.assign=Xe;Pe.at=In;Pe.bind=vi;Pe.bindAll=mi;Pe.bindKey=bi;Pe.compact=Xn;Pe.compose=yi;Pe.countBy=An;Pe.createCallback=wi;Pe.debounce=_i;Pe.defaults=Ge;Pe.defer=ki;Pe.delay=xi;Pe.difference=Yn;Pe.filter=En;Pe.flatten=ti;Pe.forEach=Pn;Pe.forIn=en;Pe.forOwn=nn;Pe.functions=rn;Pe.groupBy=Dn;Pe.initial=ni;Pe.intersection=ii;Pe.invert=on;Pe.invoke=Fn;Pe.keys=He;Pe.map=On;Pe.max=Wn;Pe.memoize=Ci;Pe.merge=kn;Pe.min=Rn;Pe.omit=xn;Pe.once=Ti;Pe.pairs=Cn;Pe.partial=ji;Pe.partialRight=qi;Pe.pick=Tn;Pe.pluck=Un;Pe.range=oi;Pe.reject=Ln;Pe.rest=si;Pe.shuffle=Bn;Pe.sortBy=Hn;Pe.tap=Ni;Pe.throttle=Ii;Pe.times=Wi;Pe.toArray=Jn;Pe.transform=jn;Pe.union=li;Pe.uniq=fi;Pe.unzip=ci;Pe.values=qn;Pe.where=Zn;Pe.without=pi;Pe.wrap=$i;Pe.zip=hi;Pe.zipObject=di;Pe.collect=On;Pe.drop=si;Pe.each=Pn;Pe.extend=Xe;Pe.methods=rn;Pe.object=di;Pe.select=En;Pe.tail=si;Pe.unique=fi;Ei(Pe);Pe.chain=Pe;Pe.prototype.chain=function(){return this};Pe.clone=Ye;Pe.cloneDeep=Ke;Pe.contains=$n;Pe.escape=Ai;Pe.every=zn;Pe.find=Sn;Pe.findIndex=Kn;Pe.findKey=tn;Pe.has=an;Pe.identity=zi;Pe.indexOf=ei;Pe.isArguments=Be;Pe.isArray=Ve;Pe.isBoolean=sn;Pe.isDate=un;Pe.isElement=ln;Pe.isEmpty=fn;Pe.isEqual=cn;Pe.isFinite=pn;Pe.isFunction=hn;Pe.isNaN=gn;Pe.isNull=vn;Pe.isNumber=mn;Pe.isObject=dn;Pe.isPlainObject=bn;Pe.isRegExp=yn;Pe.isString=wn;Pe.isUndefined=_n;Pe.lastIndexOf=ai;Pe.mixin=Ei;Pe.noConflict=Si;Pe.parseInt=Pi;Pe.random=Di;Pe.reduce=Nn;Pe.reduceRight=Mn;Pe.result=Fi;Pe.runInContext=G;Pe.size=Vn;Pe.some=Qn;Pe.sortedIndex=ui;Pe.template=Oi;Pe.unescape=Ri;Pe.uniqueId=Ui;Pe.all=zn;Pe.any=Qn;Pe.detect=Sn;Pe.findWhere=Sn;Pe.foldl=Nn;Pe.foldr=Mn;Pe.include=$n;Pe.inject=Nn;nn(Pe,function(t,e){if(!Pe.prototype[e]){Pe.prototype[e]=function(){var e=[this.__wrapped__];ge.apply(e,arguments);return t.apply(Pe,e)}}});Pe.first=Gn;Pe.last=ri;Pe.take=Gn;Pe.head=Gn;nn(Pe,function(t,e){if(!Pe.prototype[e]){Pe.prototype[e]=function(e,n){var i=t(this.__wrapped__,e,n);return e==null||n&&typeof e!="function"?i:new De(i)}}});Pe.VERSION="1.3.1";Pe.prototype.toString=Mi;Pe.prototype.value=Li;Pe.prototype.valueOf=Li;Pn(["join","pop","shift"],function(t){var e=ie[t];Pe.prototype[t]=function(){return e.apply(this.__wrapped__,arguments)}});Pn(["push","reverse","sort","unshift"],function(t){var e=ie[t];Pe.prototype[t]=function(){e.apply(this.__wrapped__,arguments);return this}});Pn(["concat","slice","splice"],function(t){var e=ie[t];Pe.prototype[t]=function(){return new De(e.apply(this.__wrapped__,arguments))}});return Pe}var te=G();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){t._=te;define(function(){return te})}else if(O&&!O.nodeType){if(W){(W.exports=te)._=te}else{O._=te}}else{t._=te}}(this);
},{}],48:[function(require,module,exports){
!function(){var t=require("./media"),e=t.extend({name:"image",urlRoot:function(){return this.app.config.baseUrl+"/images"}});module.exports=e}();
},{"./media":49}],50:[function(require,module,exports){
!function(){var t=require("./media"),e=t.extend({name:"video",urlRoot:function(){return this.app.config.baseUrl+"/videos"}});module.exports=e}();
},{"./media":49}],51:[function(require,module,exports){
module.exports=function(t,e,i){"use strict";var n=t.event,r,a;r=n.special.debouncedresize={setup:function(){t(this).on("resize",r.handler)},teardown:function(){t(this).off("resize",r.handler)},handler:function(t,e){var i=this,s=arguments,o=function(){t.type="debouncedresize";n.dispatch.apply(i,s)};if(a){clearTimeout(a)}e?o():a=setTimeout(o,r.threshold)},threshold:150};var s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(e){var n=this,r=t.isFunction(t.Deferred)?t.Deferred():0,a=t.isFunction(r.notify),o=n.find("img").add(n.filter("img")),u=[],l=[],f=[];if(t.isPlainObject(e)){t.each(e,function(t,i){if(t==="callback"){e=i}else if(r){r[t](i)}})}function c(){var i=t(l),a=t(f);if(r){if(f.length){r.reject(o,i,a)}else{r.resolve(o)}}if(t.isFunction(e)){e.call(n,o,i,a)}}function h(e,i){if(e.src===s||t.inArray(e,u)!==-1){return}u.push(e);if(i){f.push(e)}else{l.push(e)}t.data(e,"imagesLoaded",{isBroken:i,src:e.src});if(a){r.notifyWith(t(e),[i,o,t(l),t(f)])}if(o.length===u.length){setTimeout(c);o.unbind(".imagesLoaded")}}if(!o.length){c()}else{o.bind("load.imagesLoaded error.imagesLoaded",function(t){h(t.target,t.type==="error")}).each(function(e,n){var r=n.src;var a=t.data(n,"imagesLoaded");if(a&&a.src===r){h(n,a.isBroken);return}if(n.complete&&n.naturalWidth!==i){h(n,n.naturalWidth===0||n.naturalHeight===0);return}if(n.readyState||n.complete){n.src=s;n.src=r}})}return r?r.promise(n):n};var o=t(e),u=e.Modernizr;t.Elastislide=function(e,i){this.$el=t(i);this._init(e)};t.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(t,e,i){return false},onReady:function(){return false},onBeforeSlide:function(){return false},onAfterSlide:function(){return false}};t.Elastislide.prototype={_init:function(e){var i=require("./modernizr");this.options=t.extend(true,{},t.Elastislide.defaults,e);var n=this,r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=r[i.prefixed("transition")];this.support=i.csstransitions&&i.csstransforms;this.current=this.options.start;this.isSliding=false;this.$items=this.$el.children("li");this.itemsCount=this.$items.length;if(this.itemsCount===0){return false}this._validate();this.$items.detach();this.$el.empty();this.$el.append(this.$items);this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>');this.hasTransition=false;this.hasTransitionTimeout=setTimeout(function(){n._addTransition()},100);this.$el.imagesLoaded(function(){n.$el.show();n._layout();n._configure();if(n.hasTransition){n._removeTransition();n._slideToItem(n.current);n.$el.on(n.transEndEventName,function(){n.$el.off(n.transEndEventName);n._setWrapperSize();n._addTransition();n._initEvents()})}else{clearTimeout(n.hasTransitionTimeout);n._setWrapperSize();n._initEvents();n._slideToItem(n.current);setTimeout(function(){n._addTransition()},25)}n.options.onReady()})},_validate:function(){if(this.options.speed<0){this.options.speed=500}if(this.options.minItems<1||this.options.minItems>this.itemsCount){this.options.minItems=1}if(this.options.start<0||this.options.start>this.itemsCount-1){this.options.start=0}if(this.options.orientation!="horizontal"&&this.options.orientation!="vertical"){this.options.orientation="horizontal"}},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>');this.$carousel=this.$el.parent();this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var t=this.$items.find("img:first");this.imgSize={width:t.outerWidth(true),height:t.outerHeight(true)};this._setItemsSize();this.options.orientation==="horizontal"?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height);this._addControls()},_addTransition:function(){if(this.support){this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing)}this.hasTransition=true},_removeTransition:function(){if(this.support){this.$el.css("transition","all 0s")}this.hasTransition=false},_addControls:function(){var e=this;this.$navigation=t('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper);this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(t){e._slide("prev");return false});this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(t){e._slide("next");return false})},_setItemsSize:function(){var t=this.options.orientation==="horizontal"?Math.floor(this.$carousel.width()/this.options.minItems)*100/this.$carousel.width():100;this.$items.css({width:t+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height});if(this.options.orientation==="vertical"){this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))}},_setWrapperSize:function(){if(this.options.orientation==="vertical"){this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})}},_configure:function(){this.fitCount=this.options.orientation==="horizontal"?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var e=this;o.on("debouncedresize.elastislide",function(){e._setItemsSize();e._configure();e._slideToItem(e.current)});this.$el.on(this.transEndEventName,function(){e._onEndTransition()});if(this.options.orientation==="horizontal"){this.$el.on({swipeleft:function(){e._slide("next")},swiperight:function(){e._slide("prev")}})}else{this.$el.on({swipeup:function(){e._slide("next")},swipedown:function(){e._slide("prev")}})}this.$el.on("click.elastislide","li",function(i){var n=t(this);e.options.onClick(n,n.index(),i)})},_destroy:function(t){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide");o.off(".elastislide");this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper);this.$items.css({width:"auto","max-width":"none","max-height":"none"});this.$navigation.remove();this.$wrapper.remove();if(t){t.call()}},_toggleControls:function(t,e){if(e){t==="next"?this.$navNext.show():this.$navPrev.show()}else{t==="next"?this.$navNext.hide():this.$navPrev.hide()}},_slide:function(e,n){if(this.isSliding){return false}this.options.onBeforeSlide();this.isSliding=true;var r=this,a=this.translation||0,s=this.options.orientation==="horizontal"?this.$items.outerWidth(true):this.$items.outerHeight(true),o=this.itemsCount*s,u=this.options.orientation==="horizontal"?this.$carousel.width():this.$carousel.height();if(n===i){var l=this.fitCount*s;if(l<0){return false}if(e==="next"&&o-(Math.abs(a)+l)<u){l=o-(Math.abs(a)+u);this._toggleControls("next",false);this._toggleControls("prev",true)}else if(e==="prev"&&Math.abs(a)-l<0){l=Math.abs(a);this._toggleControls("next",true);this._toggleControls("prev",false)}else{var f=e==="next"?Math.abs(a)+Math.abs(l):Math.abs(a)-Math.abs(l);f>0?this._toggleControls("prev",true):this._toggleControls("prev",false);f<o-u?this._toggleControls("next",true):this._toggleControls("next",false)}n=e==="next"?a-l:a+l}else{var l=Math.abs(n);if(Math.max(o,u)-l<u){n=-(Math.max(o,u)-u)}l>0?this._toggleControls("prev",true):this._toggleControls("prev",false);Math.max(o,u)-u>l?this._toggleControls("next",true):this._toggleControls("next",false)}this.translation=n;if(a===n){this._onEndTransition();return false}if(this.support){this.options.orientation==="horizontal"?this.$el.css("transform","translateX("+n+"px)"):this.$el.css("transform","translateY("+n+"px)")}else{t.fn.applyStyle=this.hasTransition?t.fn.animate:t.fn.css;var c=this.options.orientation==="horizontal"?{left:n}:{top:n};this.$el.stop().applyStyle(c,t.extend(true,[],{duration:this.options.speed,complete:function(){r._onEndTransition()}}))}if(!this.hasTransition){this._onEndTransition()}},_onEndTransition:function(){this.isSliding=false;this.options.onAfterSlide()},_slideTo:function(t){var t=t||this.current,e=Math.abs(this.translation)||0,i=this.options.orientation==="horizontal"?this.$items.outerWidth(true):this.$items.outerHeight(true),n=e+this.$carousel.width(),r=Math.abs(t*i);if(r+i>n||r<e){this._slideToItem(t)}},_slideToItem:function(t){var e=this.options.orientation==="horizontal"?t*this.$items.outerWidth(true):t*this.$items.outerHeight(true);this._slide("",-e)},add:function(t){var e=this,i=this.current,n=this.$items.eq(this.current);this.$items=this.$el.children("li");this.itemsCount=this.$items.length;this.current=n.index();this._setItemsSize();this._configure();this._removeTransition();i<this.current?this._slideToItem(this.current):this._slide("next",this.translation);setTimeout(function(){e._addTransition()},25);if(t){t.call()}},setCurrent:function(t,e){this.current=t;this._slideTo();if(e){e.call()}},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(t){this._destroy(t)}};var l=function(t){if(e.console){e.console.error(t)}};t.fn.elastislide=function(e){var i=t.data(this,"elastislide");if(typeof e==="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){if(!i){l("cannot call methods on elastislide prior to initialization; "+"attempted to call method '"+e+"'");return}if(!t.isFunction(i[e])||e.charAt(0)==="_"){l("no such method '"+e+"' for elastislide self");return}i[e].apply(i,n)})}else{this.each(function(){if(i){i._init()}else{i=t.data(this,"elastislide",new t.Elastislide(e,this))}})}return i}};
},{"./modernizr":52}],12:[function(require,module,exports){
!function(){var t=require("../base"),e=require("../layout/navbar.js"),i=require("../layout/footer.js"),n=t.extend({template:require("../../templates/routes/index.hbs"),initialize:function(t){this.app=t.app;this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var t=new e({app:this.app}),n=new i({app:this.app});this.appendSubview(t,this.$("#header"));this.appendSubview(n,this.$("#footer"));this.eachSubview(function(t){t.render()})},context:function(){return this.getContext()}});module.exports=n}();
},{"../../templates/routes/index.hbs":54,"../base":56,"../layout/footer.js":55,"../layout/navbar.js":53}],13:[function(require,module,exports){
!function(){var t=require("../base"),e=require("../layout/navbar.js"),i=require("../layout/footer.js"),n=t.extend({template:require("../../templates/errors/no_pages.hbs"),initialize:function(t){this.app=t.app;this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var t=new e({app:this.app}),n=new i({app:this.app});this.appendSubview(t,this.$("#header"));this.appendSubview(n,this.$("#footer"));this.eachSubview(function(t){t.render()})},context:function(){return this.getContext()}});module.exports=n}();
},{"../../templates/errors/no_pages.hbs":57,"../base":56,"../layout/footer.js":55,"../layout/navbar.js":53}],15:[function(require,module,exports){
!function(){var t=require("../base"),e=require("../layout/navbar.js"),i=require("../layout/footer.js"),n=t.extend({template:require("../../templates/routes/login.hbs"),initialize:function(t){this.app=t.app;this.user=this.app.getUser();this.listenTo(this.user,"change",this.render,this);this.renderOnReady(this.user)},afterRender:function(){var t=new e({app:this.app}),n=new i({app:this.app});this.appendSubview(t,this.$("#header"));this.appendSubview(n,this.$("#footer"));this.eachSubview(function(t){t.render()})},context:function(){return this.getContext({user:this.user.attributes})},events:{submit:"login","click a.app":"handleAppLink","click a.provisionTestAccount":"provisionTestAccount"},login:function(t){t.preventDefault();t.stopPropagation();var e=this.$("input[name=username]").val();var i=this.$("input[name=password]").val();this.user.set({username:e,password:i,id:null,path:null,policy:null,token:null}).save()},provisionTestAccount:function(t){t.preventDefault();t.stopPropagation();this.user.set({id:"test"}).save()}});module.exports=n}();
},{"../../templates/routes/login.hbs":58,"../base":56,"../layout/footer.js":55,"../layout/navbar.js":53}],17:[function(require,module,exports){
!function(){var t=require("../base"),e=require("../layout/navbar.js"),i=require("../layout/footer.js"),n=t.extend({template:require("../../templates/routes/review.hbs"),initialize:function(t){this.app=t.app;this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.unprocessed,"add change remove sort",this.render,this)},afterRender:function(){var t=new e({app:this.app}),n=new i({app:this.app});this.appendSubview(t,this.$("#header"));this.appendSubview(n,this.$("#footer"));this.eachSubview(function(t){t.render()})},context:function(){var t=[];this.unprocessed.forEach(function(e){t.push(e.templateVars())});return this.getContext({unprocessed:t,nothingToReview:t.length===0})}});module.exports=n}();
},{"../../templates/routes/review.hbs":59,"../base":56,"../layout/footer.js":55,"../layout/navbar.js":53}],19:[function(require,module,exports){
!function(){var t=require("../base"),e=require("../../helpers/JqueryLoader"),i=require("../layout/navbar.js"),n=require("../layout/footer.js"),r=t.extend({template:require("../../templates/routes/contact.hbs"),initialize:function(t){this.app=t.app},events:{submit:"send","click a.app":"handleAppLink"},afterRender:function(){var t=new i({app:this.app}),e=new n({app:this.app});this.appendSubview(t,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(t){t.render()})},nameVal:"",emailVal:"",messageVal:"",context:function(){return this.getContext({nameVal:this.nameVal,emailVal:this.emailVal,messageVal:this.messageVal})},send:function(t){t.preventDefault();t.stopPropagation();var i=this;i.nameVal=i.$('form input[name="name"]').val();i.emailVal=i.$('form input[name="email"]').val();i.messageVal=i.$("form textarea").val();i.app.clearFlash();i.app.setFlash("info","Sending message...");i.$("form button").button("loading");e.ajax({url:i.app.config.baseUrl+"/users/contact.json",success:function(t){if(t.error){i.app.error(t.error)}else{i.app.setFlash("success","Message sent!")}},error:function(t,e,n){i.app.error(n)},complete:function(){i.$("form button").button("reset");i.render()},data:{name:i.nameVal,email:i.emailVal,message:i.messageVal,id:i.app.bootstrap.userId},dataType:"json",timeout:2e4,type:"POST"})}});module.exports=r}();
},{"../../helpers/JqueryLoader":44,"../../templates/routes/contact.hbs":60,"../base":56,"../layout/footer.js":55,"../layout/navbar.js":53}],23:[function(require,module,exports){
!function(){var t=require("../../base"),e=require("../../layout/navbar.js"),i=require("../../layout/footer.js"),n=require("../../routes/media/grid.js"),r=t.extend({template:require("../../../templates/routes/pages/show.hbs"),initialize:function(t){this.app=t.app;this.pageName=t.pageName;this.listenTo(this.app.getUser(),"change",this.render,this);this.fetchPage(t.pageName,function(){this.render()})},afterRender:function(){var t=new e({app:this.app}),r=new n({app:this.app,pageName:this.pageName}),a=new i({app:this.app});this.appendSubview(t,this.$("#header"));this.appendSubview(r,this.$("#content"));this.appendSubview(a,this.$("#footer"));this.eachSubview(function(t){t.render()})},context:function(){return this.getContext()}});module.exports=r}();
},{"../../../templates/routes/pages/show.hbs":62,"../../base":56,"../../layout/footer.js":55,"../../layout/navbar.js":53,"../../routes/media/grid.js":61}],25:[function(require,module,exports){
!function(){var t=require("../../base"),e=require("../../../helpers/lib/holder.js"),i=require("../../layout/navbar.js"),n=require("../../layout/footer.js"),r=t.extend({template:require("../../../templates/routes/pages/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.app":"handleAppLink"},initialize:function(t){this.app=t.app;this.fetchPage(t.pageName,function(){this.listenTo(this.page,"invalid",function(){this.app.error(this.page.validationError)},this);this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this);this.render()})},context:function(){var t=[];var e=encodeURIComponent(this.page.attributes.name);if(this.media){this.media.forEach(function(i){t.push(i.templateVars(e))})}return this.getContext({media:t,page:this.page.attributes})},afterRender:function(){var t=this,r=new i({app:t.app}),a=new n({app:t.app});t.appendSubview(r,t.$("#header"));t.appendSubview(a,t.$("#footer"));t.eachSubview(function(t){t.render()});t.$(".sortable").sortable().bind("sortupdate",function(){t.readSortOrder.apply(t,arguments)});t.$(".switch").bootstrapSwitch();e.run()},performSave:function(t){var e=this;t.preventDefault();var i=this.$("input[name=name]").val(),n=this.$("input[name=isPublished]").parent().hasClass("switch-on");this.app.clearFlash();this.page.save({userId:e.app.getUser().attributes.id,name:i,isPublished:n},{success:function(){e.app.db.fetchCollection("pages").fetch();e.app.setFlash("success","Page Saved!")},error:e.app.error})},performDelete:function(t){t.preventDefault();t.stopPropagation();var e=this;var i=confirm("Are you sure you want to delete "+e.page.attributes.name+"?");if(i){e.page.destroy({success:function(){e.app.db.fetchCollection("pages").remove(e.page);e.app.navigate("",{trigger:true})},error:e.app.error})}else{return false}},readSortOrder:function(t){t.preventDefault();t.stopPropagation();var e=this;var i=e.$(".sortable").children();var n=[];var r=[];i.each(function(t,i){var a=e.page.getMedia().get($(i).attr("data-uuid"));n.push(a);r.push({ID:a.attributes.id,NAME:a.attributes.name,TYPE:a.attributes.type.toLowerCase(),THUMB:a.attributes.thumbnailS3key})});e.page.getMedia().reset(n);e.page.set("items",r);e.page.save({},{success:function(){e.app.setFlash("success","Page Saved!")},error:e.app.error})}});module.exports=r}();
},{"../../../helpers/lib/holder.js":63,"../../../templates/routes/pages/edit.hbs":64,"../../base":56,"../../layout/footer.js":55,"../../layout/navbar.js":53}],29:[function(require,module,exports){
!function(){var t=require("../../base"),e=require("../../layout/navbar.js"),i=require("../../layout/footer.js"),n=t.extend({template:require("../../../templates/routes/media/add.hbs"),events:{"click a.filepicker":"startFilepicker","click a.app":"handleAppLink"},initialize:function(t){this.app=t.app;this.listenTo(this.app.getUser(),"change",this.render,this);this.fetchPage(t.pageName,function(){this.render()})},afterRender:function(){var t;var n=new e({app:this.app}),r=new i({app:this.app});this.appendSubview(n,this.$("#header"));this.appendSubview(r,this.$("#footer"));this.eachSubview(function(t){t.render()})},context:function(){var t=encodeURIComponent(this.page.attributes.name);return this.getContext({page:this.page.attributes,pickMediaUrl:"page/"+t+"/pickMedia"})},startFilepicker:function(t,e){var i=this,n=encodeURIComponent(this.page.attributes.name);if(t){t.preventDefault();t.stopPropagation()}if(!this.page.id){i.app.error("The page hasn't loaded yet, try again in a few seconds");return}this.page.addMedia(function(t,e){if(t){if(t.code===304){i.app.logoutFromInactivity()}else if(t.code!==101){i.app.error(t)}}else if(e){i.app.navigate("page/"+n,{trigger:true})}},e)}});module.exports=n}();
},{"../../../templates/routes/media/add.hbs":65,"../../base":56,"../../layout/footer.js":55,"../../layout/navbar.js":53}],52:[function(require,module,exports){
!function(){var t=function(t,e,i){var n="2.6.2",r={},a=true,s=e.documentElement,o="modernizr",u=e.createElement(o),l=u.style,f,c={}.toString,h=" -webkit- -moz- -o- -ms- ".split(" "),p="Webkit Moz O ms",d=p.split(" "),g=p.toLowerCase().split(" "),v={},m={},b={},y=[],w=y.slice,_,x=function(t,i,n,r){var a,u,l,f,c=e.createElement("div"),h=e.body,p=h||e.createElement("body");if(parseInt(n,10)){while(n--){l=e.createElement("div");l.id=r?r[n]:o+(n+1);c.appendChild(l)}}a=["&#173;",'<style id="s',o,'">',t,"</style>"].join("");c.id=o;(h?c:p).innerHTML+=a;p.appendChild(c);if(!h){p.style.background="";p.style.overflow="hidden";f=s.style.overflow;s.style.overflow="hidden";s.appendChild(p)}u=i(c,t);if(!h){p.parentNode.removeChild(p);s.style.overflow=f}else{c.parentNode.removeChild(c)}return!!u},C={}.hasOwnProperty,k;if(!S(C,"undefined")&&!S(C.call,"undefined")){k=function(t,e){return C.call(t,e)}}else{k=function(t,e){return e in t&&S(t.constructor.prototype[e],"undefined")}}if(!Function.prototype.bind){Function.prototype.bind=function I(t){var e=this;if(typeof e!="function"){throw new TypeError}var i=w.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=e.prototype;var a=new r;var s=e.apply(a,i.concat(w.call(arguments)));if(Object(s)===s){return s}return a}else{return e.apply(t,i.concat(w.call(arguments)))}};return n}}function T(t){l.cssText=t}function $(t,e){return T(h.join(t+";")+(e||""))}function S(t,e){return typeof t===e}function j(t,e){return!!~(""+t).indexOf(e)}function q(t,e){for(var n in t){var r=t[n];if(!j(r,"-")&&l[r]!==i){return e=="pfx"?r:true}}return false}function E(t,e,n){for(var r in t){var a=e[t[r]];if(a!==i){if(n===false)return t[r];if(S(a,"function")){return a.bind(n||e)}return a}}return false}function z(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+d.join(n+" ")+n).split(" ");if(S(e,"string")||S(e,"undefined")){return q(r,e)}else{r=(t+" "+g.join(n+" ")+n).split(" ");return E(r,e,i)}}v["touch"]=function(){var i;if("ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch){i=true}else{x(["@media (",h.join("touch-enabled),("),o,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=t.offsetTop===9})}return i};v["csstransforms"]=function(){return!!z("transform")};v["csstransitions"]=function(){return z("transition")};for(var A in v){if(k(v,A)){_=A.toLowerCase();r[_]=v[A]();y.push((r[_]?"":"no-")+_)}}r.addTest=function(t,e){if(typeof t=="object"){for(var n in t){if(k(t,n)){r.addTest(n,t[n])}}}else{t=t.toLowerCase();if(r[t]!==i){return r}e=typeof e=="function"?e():e;if(typeof a!=="undefined"&&a){s.className+=" "+(e?"":"no-")+t}r[t]=e}return r};T("");u=f=null;!function(t,e){var i=t.html5||{};var n=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var r=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var a;var s="_html5shiv";var o=0;var u={};var l;!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>";a="hidden"in t;l=t.childNodes.length==1||function(){e.createElement("a");var t=e.createDocumentFragment();return typeof t.cloneNode=="undefined"||typeof t.createDocumentFragment=="undefined"||typeof t.createElement=="undefined"}()}catch(i){a=true;l=true}}();function f(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;i.innerHTML="x<style>"+e+"</style>";return n.insertBefore(i.lastChild,n.firstChild)}function c(){var t=m.elements;return typeof t=="string"?t.split(" "):t}function h(t){var e=u[t[s]];if(!e){e={};o++;t[s]=o;u[o]=e}return e}function p(t,i,a){if(!i){i=e}if(l){return i.createElement(t)}if(!a){a=h(i)}var s;if(a.cache[t]){s=a.cache[t].cloneNode()}else if(r.test(t)){s=(a.cache[t]=a.createElem(t)).cloneNode()}else{s=a.createElem(t)}return s.canHaveChildren&&!n.test(t)?a.frag.appendChild(s):s}function d(t,i){if(!t){t=e}if(l){return t.createDocumentFragment()}i=i||h(t);var n=i.frag.cloneNode(),r=0,a=c(),s=a.length;for(;r<s;r++){n.createElement(a[r])}return n}function g(t,e){if(!e.cache){e.cache={};e.createElem=t.createElement;e.createFrag=t.createDocumentFragment;e.frag=e.createFrag()}t.createElement=function(i){if(!m.shivMethods){return e.createElem(i)}return p(i,t,e)};t.createDocumentFragment=Function("h,f","return function(){"+"var n=f.cloneNode(),c=n.createElement;"+"h.shivMethods&&("+c().join().replace(/\w+/g,function(t){e.createElem(t);e.frag.createElement(t);return'c("'+t+'")'})+");return n}")(m,e.frag)}function v(t){if(!t){t=e}var i=h(t);if(m.shivCSS&&!a&&!i.hasCSS){i.hasCSS=!!f(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}"+"mark{background:#FF0;color:#000}")}if(!l){g(t,i)}return t}var m={elements:i.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:i.shivCSS!==false,supportsUnknownElements:l,shivMethods:i.shivMethods!==false,type:"default",shivDocument:v,createElement:p,createDocumentFragment:d};t.html5=m;v(e)}(this,e);r._version=n;r._prefixes=h;r._domPrefixes=g;r._cssomPrefixes=d;r.testProp=function(t){return q([t])};r.testAllProps=z;r.testStyles=x;r.prefixed=function(t,e,i){if(!e){return z(t,"pfx")}else{return z(t,e,i)}};s.className=s.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(a?" js "+y.join(" "):"");return r}(this,this.document);!function(t,e,i){function n(t){return"[object Function]"==d.call(t)}function r(t){return"string"==typeof t}function a(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function o(){var t=g.shift();v=1,t?t.t?h(function(){("c"==t.t?S.injectCss:S.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),o()):v=0}function u(t,i,n,r,a,u,l){function f(e){if(!d&&s(c.readyState)&&(w.r=d=1,!v&&o(),c.onload=c.onreadystatechange=null,e)){"img"!=t&&h(function(){y.removeChild(c)},50);for(var n in k[i])k[i].hasOwnProperty(n)&&k[i][n].onload()}}var l=l||S.errorTimeout,c=e.createElement(t),d=0,m=0,w={t:n,s:i,e:a,a:u,x:l};1===k[i]&&(m=1,k[i]=[]),"object"==t?c.data=i:(c.src=i,c.type=t),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){f.call(this,m)},g.splice(r,0,w),"img"!=t&&(m||2===k[i]?(y.insertBefore(c,b?null:p),h(f,l)):k[i].push(c))}function l(t,e,i,n,a){return v=0,e=e||"j",r(t)?u("c"==e?_:w,t,e,this.i++,i,n,a):(g.splice(this.i++,0,t),1==g.length&&o()),this}function f(){var t=S;return t.loader={load:l,i:0},t}var c=e.documentElement,h=t.setTimeout,p=e.getElementsByTagName("script")[0],d={}.toString,g=[],v=0,m="MozAppearance"in c.style,b=m&&!!e.createRange().compareNode,y=b?c:p.parentNode,c=t.opera&&"[object Opera]"==d.call(t.opera),c=!!e.attachEvent&&!c,w=m?"object":c?"script":"img",_=c?"script":w,x=Array.isArray||function(t){return"[object Array]"==d.call(t)},C=[],k={},T={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}},$,S;S=function(t){function e(t){var t=t.split("!"),e=C.length,i=t.pop(),n=t.length,i={url:i,origUrl:i,prefixes:t},r,a,s;for(a=0;a<n;a++)s=t[a].split("="),(r=T[s.shift()])&&(i=r(i,s));for(a=0;a<e;a++)i=C[a](i);return i}function s(t,r,a,s,o){var u=e(t),l=u.autoCallback;u.url.split(".").pop().split("?").shift(),u.bypass||(r&&(r=n(r)?r:r[t]||r[s]||r[t.split("/").pop().split("?")[0]]),u.instead?u.instead(t,r,a,s,o):(k[u.url]?u.noexec=!0:k[u.url]=1,a.load(u.url,u.forceCSS||!u.forceJS&&"css"==u.url.split(".").pop().split("?").shift()?"c":i,u.noexec,u.attrs,u.timeout),(n(r)||n(l))&&a.load(function(){f(),r&&r(u.origUrl,o,s),l&&l(u.origUrl,o,s),k[u.url]=2})))}function o(t,e){function i(t,i){if(t){if(r(t))i||(l=function(){var t=[].slice.call(arguments);f.apply(this,t),c()}),s(t,l,e,0,o);else if(Object(t)===t)for(p in h=function(){var e=0,i;for(i in t)t.hasOwnProperty(i)&&e++;return e}(),t)t.hasOwnProperty(p)&&(!i&&!--h&&(n(l)?l=function(){var t=[].slice.call(arguments);f.apply(this,t),c()}:l[p]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),c()}}(f[p])),s(t[p],l,e,p,o))}else!i&&c()}var o=!!t.test,u=t.load||t.both,l=t.callback||a,f=l,c=t.complete||a,h,p;i(o?t.yep:t.nope,!!u),u&&i(u)}var u,l,c=this.yepnope.loader;if(r(t))s(t,0,c,0);else if(x(t))for(u=0;u<t.length;u++)l=t[u],r(l)?s(l,0,c,0):x(l)?S(l):Object(l)===l&&o(l,c);else Object(t)===t&&o(t,c)},S.addPrefix=function(t,e){T[t]=e},S.addFilter=function(t){C.push(t)},S.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",$=function(){e.removeEventListener("DOMContentLoaded",$,0),e.readyState="complete"},0)),t.yepnope=f(),t.yepnope.executeStack=o,t.yepnope.injectJs=function(t,i,n,r,u,l){var f=e.createElement("script"),c,d,r=r||S.errorTimeout;f.src=t;for(d in n)f.setAttribute(d,n[d]);i=l?o:i||a,f.onreadystatechange=f.onload=function(){!c&&s(f.readyState)&&(c=1,i(),f.onload=f.onreadystatechange=null)},h(function(){c||(c=1,i(1))},r),u?f.onload():p.parentNode.insertBefore(f,p)},t.yepnope.injectCss=function(t,i,n,r,s,u){var r=e.createElement("link"),l,i=u?o:i||a;r.href=t,r.rel="stylesheet",r.type="text/css";for(l in n)r.setAttribute(l,n[l]);s||(p.parentNode.insertBefore(r,p),h(i,0))}}(this,document);t.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};module.exports=t}();
},{}],63:[function(require,module,exports){
!function(){var e=e||{};!function(e,t){var n=false,r=false,a=document.createElement("canvas");document.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,i,n,r,a=[];if(t.querySelectorAll)return t.querySelectorAll("."+e);if(t.evaluate){n=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]",i=t.evaluate(n,t,null,0,null);while(r=i.iterateNext())a.push(r)}else{i=t.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+e+"(\\s|$)");for(r=0;r<i.length;r++)n.test(i[r].className)&&a.push(i[r])}return a});window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return t=="float"&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this});function s(e,t){var i="complete",n="readystatechange",r=!1,a=r,s=!0,o=e.document,u=o.documentElement,l=o.addEventListener?"addEventListener":"attachEvent",f=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on",h=function(s){(s.type!=n||o.readyState==i)&&((s.type=="load"?e:o)[f](c+s.type,h,r),!a&&(a=!0)&&t.call(e,null))},p=function(){try{u.doScroll("left")}catch(e){setTimeout(p,50);return}h("poll")};if(o.readyState==i)t.call(e,"lazy");else{if(o.createEventObject&&u.doScroll){try{s=!e.frameElement}catch(d){}s&&p()}o[l](c+"DOMContentLoaded",h,r),o[l](c+n,h,r),e[l](c+"load",h,r)}}function o(e){e=e.match(/^(\W)?(.*)/);var t=document["getElement"+(e[1]?e[1]=="#"?"ById":"sByClassName":"sByTagName")](e[2]);var i=[];t!=null&&(t.length?i=t:t.length==0?i=t:i=[t]);return i}function u(e,t){var i={};for(var n in e)i[n]=e[n];for(var r in t)i[r]=t[r];return i}if(!Object.prototype.hasOwnProperty)Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])};function l(e,t,i){var n=[t,e].sort();var r=Math.round(n[1]/16),a=Math.round(n[0]/16);var s=Math.max(i.size,r);return{height:s}}function f(e,t,i,n){var r=l(t.width,t.height,i);var s=r.height;var o=t.width*n,u=t.height*n;var f=i.font?i.font:"sans-serif";a.width=o;a.height=u;e.textAlign="center";e.textBaseline="middle";e.fillStyle=i.background;e.fillRect(0,0,o,u);e.fillStyle=i.foreground;e.font="bold "+s+"px "+f;var c=i.text?i.text:t.width+"x"+t.height;if(e.measureText(c).width/o>1){s=i.size/(e.measureText(c).width/o)}e.font="bold "+s*n+"px "+f;e.fillText(c,o/2,u/2,o);return a.toDataURL("image/png")}function c(e,t,i,n){var a=i.dimensions,s=i.theme,o=i.text?decodeURIComponent(i.text):i.text;var l=a.width+"x"+a.height;s=o?u(s,{text:o}):s;s=i.font?u(s,{font:i.font}):s;var c=1;if(window.devicePixelRatio&&window.devicePixelRatio>1){c=window.devicePixelRatio}if(e=="image"){t.setAttribute("data-src",n);t.setAttribute("alt",o?o:s.text?s.text+" ["+l+"]":l);if(r||!i.auto){t.style.width=a.width+"px";t.style.height=a.height+"px"}if(r){t.style.backgroundColor=s.background}else{t.setAttribute("src",f(g,a,s,c))}}else{if(!r){t.style.backgroundImage="url("+f(g,a,s,c)+")";t.style.backgroundSize=a.width+"px "+a.height+"px"}}}function h(e,t,i){var n=t.dimensions,r=t.theme,a=t.text;var s=n.width+"x"+n.height;r=a?u(r,{text:a}):r;var o=document.createElement("div");o.style.backgroundColor=r.background;o.style.color=r.foreground;o.className=e.className+" holderjs-fluid";o.style.width=t.dimensions.width+(t.dimensions.width.indexOf("%")>0?"":"px");o.style.height=t.dimensions.height+(t.dimensions.height.indexOf("%")>0?"":"px");o.id=e.id;e.style.width=0;e.style.height=0;if(r.text){o.appendChild(document.createTextNode(r.text))}else{o.appendChild(document.createTextNode(s));v.push(o);setTimeout(p,0)}e.parentNode.insertBefore(o,e.nextSibling);if(window.jQuery){jQuery(function(t){t(e).on("load",function(){e.style.width=o.style.width;e.style.height=o.style.height;t(e).show();t(o).remove()})})}}function p(){for(i in v){if(!v.hasOwnProperty(i))continue;var e=v[i],t=e.firstChild;e.style.lineHeight=e.offsetHeight+"px";t.data=e.offsetWidth+"x"+e.offsetHeight}}function d(t,i){var n={theme:m.themes.gray},r=false;for(sl=t.length,j=0;j<sl;j++){var a=t[j];if(e.flags.dimensions.match(a)){r=true;n.dimensions=e.flags.dimensions.output(a)}else if(e.flags.fluid.match(a)){r=true;n.dimensions=e.flags.fluid.output(a);n.fluid=true}else if(e.flags.colors.match(a)){n.theme=e.flags.colors.output(a)}else if(i.themes[a]){n.theme=i.themes[a]}else if(e.flags.text.match(a)){n.text=e.flags.text.output(a)}else if(e.flags.font.match(a)){n.font=e.flags.font.output(a)}else if(e.flags.auto.match(a)){n.auto=true}}return r?n:false}if(!a.getContext){r=true}else{if(a.toDataURL("image/png").indexOf("data:image/png")<0){r=true}else{var g=a.getContext("2d")}}var v=[];var m={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};e.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{size:m.themes.gray.size,foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},font:{regex:/font\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},auto:{regex:/^auto$/}};for(var y in e.flags){if(!e.flags.hasOwnProperty(y))continue;e.flags[y].match=function(e){return e.match(this.regex)}}e.add_theme=function(t,i){t!=null&&i!=null&&(m.themes[t]=i);return e};e.add_image=function(t,i){var n=o(i);if(n.length){for(var r=0,a=n.length;r<a;r++){var s=document.createElement("img");s.setAttribute("data-src",t);n[r].appendChild(s)}}return e};e.run=function(t){var i=u(m,t),r=[];if(i.images instanceof window.NodeList){imageNodes=i.images}else if(i.images instanceof window.Node){imageNodes=[i.images]}else{imageNodes=o(i.images)}if(i.elements instanceof window.NodeList){bgnodes=i.bgnodes}else if(i.bgnodes instanceof window.Node){bgnodes=[i.bgnodes]}else{bgnodes=o(i.bgnodes)}n=true;for(f=0,l=imageNodes.length;f<l;f++)r.push(imageNodes[f]);var a=document.getElementById("holderjs-style");if(!a){a=document.createElement("style");a.setAttribute("id","holderjs-style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a)}if(a.styleSheet){a.styleSheet+=i.stylesheet}else{a.textContent+=i.stylesheet}var s=new RegExp(i.domain+'/(.*?)"?\\)');for(var l=bgnodes.length,f=0;f<l;f++){var p=window.getComputedStyle(bgnodes[f],null).getPropertyValue("background-image");var g=p.match(s);if(g){var v=d(g[1].split("/"),i);if(v){c("background",bgnodes[f],v,p)}}}for(var l=r.length,f=0;f<l;f++){var p=r[f].getAttribute("src")||r[f].getAttribute("data-src");if(p!=null&&p.indexOf(i.domain)>=0){var v=d(p.substr(p.lastIndexOf(i.domain)+i.domain.length+1).split("/"),i);if(v){if(v.fluid){h(r[f],v,p)}else{c("image",r[f],v,p)}}}}return e};s(t,function(){if(window.addEventListener){window.addEventListener("resize",p,false);window.addEventListener("orientationchange",p,false)}else{window.attachEvent("onresize",p)}n||e.run()});if(typeof define==="function"&&define.amd){define("Holder",[],function(){return e})}}(e,window);module.exports=e}();
},{}],43:[function(require,module,exports){
!function(){var e=require("backbone"),t=require("lodash"),i=require("./JqueryLoader.js"),n=e.sync;e.$=i;e.sync=function(e,i,r){r=r||{};r.attrs=r.attrs||t.clone(i.toJSON());r.timeout=r.timeout||2e4;r.parse=r.parse||true;if(i.urlRoot&&i.methodUrl){r.url=i.methodUrl(e.toLowerCase())}else if(typeof i.url==="function"){r.url=i.url()}else if(i.url){r.url=i.url}if(!r.crossDomain){r.crossDomain=true}if(!r.xhrFields){r.xhrFields={withCredentials:true}}if(r.success){var a=r.success;r.success=function(t,n,s){var o;if(t[i.name]&&t[i.name].errors){o=t[i.name].errors}else if(t.error){o=t.error}else if(t.errors){o=t.errors}if(o){if(r.error){var u=function(){r.error({responseText:JSON.stringify({errors:o})})};if(e!=="read"){i.fetch({success:function(){u()},error:function(){u()}})}else{u()}}else{return a(t,n,s)}}else{return a(t,n,s)}}}return n(e,i,r)};module.exports=e}();
},{"./JqueryLoader.js":44,"backbone":66,"lodash":46}],45:[function(require,module,exports){
!function(){var e=require("path"),t=require("lodash"),i=1,n={user:require("../models/user"),image:require("../models/image"),video:require("../models/video"),page:require("../models/page"),customization:require("../models/customization")},r={pagemedia:require("../collections/pageMedia"),pages:require("../collections/pages"),unprocesseduploads:require("../collections/unprocessedUploads"),images:require("../collections/images"),videos:require("../collections/videos")},a=function(e){var a=this;this.cache={};this.createModel=function(i,r){i=i.toLowerCase();r=r||{};if(t.find(n,function(e,t){return t===i})){return new n[i](r,{app:e})}else{throw new Error('Cannot find Model "'+i+'"')}};this.createCollection=function(i,n){i=i.toLowerCase();n=n||{};n=t.clone(n);n.app=e;if(t.find(r,function(e,t){return t===i})){return new r[i]([],n)}else{throw new Error('Cannot find Collection "'+i+'"')}};this.fetchModel=function(t,n,r){t=t.toLowerCase();var s="uuid://models/"+t+(n?"/"+n:""),o;if(a.cache[s]){o=a.cache[s];setTimeout(function(){if(o.isFetched){o.trigger("ready")}},i)}else{o=this.createModel(t);a.cache[s]=o;if(r){o.set(r)}if(n){o.set({id:n})}setTimeout(function(){if(r){o.isFetched=true;o.trigger("ready")}else{o.fetch({success:function(){o.isFetched=true;o.trigger("ready")},error:function(){o.isFetched=true;o.trigger("ready");e.error.apply(e,arguments)}})}},i)}return o};this.fetchCollection=function(e,n){e=e.toLowerCase();var r=t.filter(n,function(e,t){return t!="app"}),s="uuid://collections/"+e+"/"+JSON.stringify(r),o;if(a.cache[s]){o=a.cache[s];setTimeout(function(){if(o.isFetched){o.trigger("ready")}},i)}else{o=this.createCollection(e,n);a.cache[s]=o;setTimeout(function(){o.fetch({success:function(){o.isFetched=true;o.trigger("ready")}})},i)}return o}};module.exports=a}();
},{"../collections/images":73,"../collections/pageMedia":70,"../collections/pages":71,"../collections/unprocessedUploads":72,"../collections/videos":74,"../models/customization":69,"../models/image":48,"../models/page":68,"../models/user":67,"../models/video":50,"lodash":46,"path":10}],44:[function(require,module,exports){
!function(){var e=require("jquery-browserify");require("./lib/elastislide")(e,window);require("./lib/switch")(e,window);require("./lib/sortable")(e,window);require("./lib/tags")(e,window);require("./lib/bootstrap-button")(e,window);require("./lib/bootstrap-tooltip")(e,window);require("./lib/bootstrap-popover")(e,window);require("./lib/bootstrap-alert")(e,window);module.exports=e}();
},{"./lib/bootstrap-alert":42,"./lib/bootstrap-button":39,"./lib/bootstrap-popover":41,"./lib/bootstrap-tooltip":40,"./lib/elastislide":51,"./lib/sortable":37,"./lib/switch":36,"./lib/tags":38,"jquery-browserify":75}],76:[function(require,module,exports){
!function(){var e=require("../helpers/BackboneLoader.js"),t=e.Model.extend({initialize:function(e,t){this.set(e);this.app=t.app||{}},methodUrl:function(e){var t;if(typeof this.urlRoot==="function"){t=this.urlRoot()}else if(this.urlRoot){t=this.urlRoot}if(e=="delete"){return t+"/"+this.attributes.id+".json"}else if(e=="update"){return t+"/"+this.attributes.id+".json"}else if(e=="read"){return t+"/"+this.attributes.id+".json"}else if(e=="create"){return t+".json"}return false}});module.exports=t}();
},{"../helpers/BackboneLoader.js":43}],77:[function(require,module,exports){
!function(){var e=require("../helpers/BackboneLoader.js"),t=e.Collection.extend({initialize:function(e,t){this.set(e);this.app=t.app||{}}});module.exports=t}();
},{"../helpers/BackboneLoader.js":43}],75:[function(require,module,exports){
!function(e,t){if(typeof exports==="object"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{e.returnExports=t()}}(this,function(){return function(e,t){var n,i,r=e.document,a=e.location,o=e.navigator,s=e.jQuery,u=e.$,l=Array.prototype.push,f=Array.prototype.slice,c=Array.prototype.indexOf,p=Object.prototype.toString,d=Object.prototype.hasOwnProperty,h=String.prototype.trim,g=function(e,t){return new g.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,v=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,T=/^[\],:{}\s]*$/,C=/(?:^|:|,)(?:\s*\[)+/g,k=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,_=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,E=/^-ms-/,S=/-([\da-z])/gi,N=function(e,t){return(t+"").toUpperCase()},j=function(){if(r.addEventListener){r.removeEventListener("DOMContentLoaded",j,false);g.ready()}else if(r.readyState==="complete"){r.detachEvent("onreadystatechange",j);g.ready()}},A={};g.fn=g.prototype={constructor:g,init:function(e,n,i){var a,o,s,u;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){a=[null,e,null]}else{a=w.exec(e)}if(a&&(a[1]||!n)){if(a[1]){n=n instanceof g?n[0]:n;u=n&&n.nodeType?n.ownerDocument||n:r;e=g.parseHTML(a[1],u,true);if(x.test(a[1])&&g.isPlainObject(n)){this.attr.call(e,n,true)}return g.merge(this,e)}else{o=r.getElementById(a[2]);if(o&&o.parentNode){if(o.id!==a[2]){return i.find(e)}this.length=1;this[0]=o}this.context=r;this.selector=e;return this}}else if(!n||n.jquery){return(n||i).find(e)}else{return this.constructor(n).find(e)}}else if(g.isFunction(e)){return i.ready(e)}if(e.selector!==t){this.selector=e.selector;this.context=e.context}return g.makeArray(e,this)},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return f.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=g.merge(this.constructor(),e);i.prevObject=this;i.context=this.context;if(t==="find"){i.selector=this.selector+(this.selector?" ":"")+n}else if(t){i.selector=this.selector+"."+t+"("+n+")"}return i},each:function(e,t){return g.each(this,e,t)},ready:function(e){g.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(f.apply(this,arguments),"slice",f.call(arguments).join(","))},map:function(e){return this.pushStack(g.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:[].sort,splice:[].splice};g.fn.init.prototype=g.fn;g.extend=g.fn.extend=function(){var e,n,i,r,a,o,s=arguments[0]||{},u=1,l=arguments.length,f=false;if(typeof s==="boolean"){f=s;s=arguments[1]||{};u=2}if(typeof s!=="object"&&!g.isFunction(s)){s={}}if(l===u){s=this;--u}for(;u<l;u++){if((e=arguments[u])!=null){for(n in e){i=s[n];r=e[n];if(s===r){continue}if(f&&r&&(g.isPlainObject(r)||(a=g.isArray(r)))){if(a){a=false;o=i&&g.isArray(i)?i:[]}else{o=i&&g.isPlainObject(i)?i:{}}s[n]=g.extend(f,o,r)}else if(r!==t){s[n]=r}}}}return s};g.extend({noConflict:function(t){if(e.$===g){e.$=u}if(t&&e.jQuery===g){e.jQuery=s}return g},isReady:false,readyWait:1,holdReady:function(e){if(e){g.readyWait++}else{g.ready(true)}},ready:function(e){if(e===true?--g.readyWait:g.isReady){return}if(!r.body){return setTimeout(g.ready,1)}g.isReady=true;if(e!==true&&--g.readyWait>0){return}i.resolveWith(r,[g]);if(g.fn.trigger){g(r).trigger("ready").off("ready")}},isFunction:function(e){return g.type(e)==="function"},isArray:Array.isArray||function(e){return g.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):A[p.call(e)]||"object"},isPlainObject:function(e){if(!e||g.type(e)!=="object"||e.nodeType||g.isWindow(e)){return false}try{if(e.constructor&&!d.call(e,"constructor")&&!d.call(e.constructor.prototype,"isPrototypeOf")){return false}}catch(n){return false}var i;for(i in e){}return i===t||d.call(e,i)},isEmptyObject:function(e){var t;for(t in e){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;if(!e||typeof e!=="string"){return null}if(typeof t==="boolean"){n=t;t=0}t=t||r;if(i=x.exec(e)){return[t.createElement(i[1])]}i=g.buildFragment([e],t,n?null:[]);return g.merge([],(i.cacheable?g.clone(i.fragment):i.fragment).childNodes)},parseJSON:function(t){if(!t||typeof t!=="string"){return null}t=g.trim(t);if(e.JSON&&e.JSON.parse){return e.JSON.parse(t)}if(T.test(t.replace(k,"@").replace(_,"]").replace(C,""))){return new Function("return "+t)()}g.error("Invalid JSON: "+t)},parseXML:function(n){var i,r;if(!n||typeof n!=="string"){return null}try{if(e.DOMParser){r=new DOMParser;i=r.parseFromString(n,"text/xml")}else{i=new ActiveXObject("Microsoft.XMLDOM");i.async="false";i.loadXML(n)}}catch(a){i=t}if(!i||!i.documentElement||i.getElementsByTagName("parsererror").length){g.error("Invalid XML: "+n)}return i},noop:function(){},globalEval:function(t){if(t&&v.test(t)){(e.execScript||function(t){e["eval"].call(e,t)})(t)}},camelCase:function(e){return e.replace(E,"ms-").replace(S,N)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var r,a=0,o=e.length,s=o===t||g.isFunction(e);if(i){if(s){for(r in e){if(n.apply(e[r],i)===false){break}}}else{for(;a<o;){if(n.apply(e[a++],i)===false){break}}}}else{if(s){for(r in e){if(n.call(e[r],r,e[r])===false){break}}}else{for(;a<o;){if(n.call(e[a],a,e[a++])===false){break}}}}return e},trim:h&&!h.call("﻿ ")?function(e){return e==null?"":h.call(e)}:function(e){return e==null?"":e.toString().replace(b,"")},makeArray:function(e,t){var n,i=t||[];if(e!=null){n=g.type(e);if(e.length==null||n==="string"||n==="function"||n==="regexp"||g.isWindow(e)){l.call(i,e)}else{g.merge(i,e)}}return i},inArray:function(e,t,n){var i;if(t){if(c){return c.call(t,e,n)}i=t.length;n=n?n<0?Math.max(0,i+n):n:0;for(;n<i;n++){if(n in t&&t[n]===e){return n}}}return-1},merge:function(e,n){var i=n.length,r=e.length,a=0;if(typeof i==="number"){for(;a<i;a++){e[r++]=n[a]}}else{while(n[a]!==t){e[r++]=n[a++]}}e.length=r;return e},grep:function(e,t,n){var i,r=[],a=0,o=e.length;n=!!n;for(;a<o;a++){i=!!t(e[a],a);if(n!==i){r.push(e[a])}}return r},map:function(e,n,i){var r,a,o=[],s=0,u=e.length,l=e instanceof g||u!==t&&typeof u==="number"&&(u>0&&e[0]&&e[u-1]||u===0||g.isArray(e));if(l){for(;s<u;s++){r=n(e[s],s,i);if(r!=null){o[o.length]=r}}}else{for(a in e){r=n(e[a],a,i);if(r!=null){o[o.length]=r}}}return o.concat.apply([],o)},guid:1,proxy:function(e,n){var i,r,a;if(typeof n==="string"){i=e[n];n=e;e=i}if(!g.isFunction(e)){return t}r=f.call(arguments,2);a=function(){return e.apply(n,r.concat(f.call(arguments)))};a.guid=e.guid=e.guid||a.guid||g.guid++;return a},access:function(e,n,i,r,a,o,s){var u,l=i==null,f=0,c=e.length;if(i&&typeof i==="object"){for(f in i){g.access(e,n,f,i[f],1,o,r)}a=1}else if(r!==t){u=s===t&&g.isFunction(r);if(l){if(u){u=n;n=function(e,t,n){return u.call(g(e),n)}}else{n.call(e,r);n=null}}if(n){for(;f<c;f++){n(e[f],i,u?r.call(e[f],f,n(e[f],i)):r,s)}}a=1}return a?e:l?n.call(e):c?n(e[0],i):o},now:function(){return(new Date).getTime()}});g.ready.promise=function(t){if(!i){i=g.Deferred();if(r.readyState==="complete"){setTimeout(g.ready,1)}else if(r.addEventListener){r.addEventListener("DOMContentLoaded",j,false);e.addEventListener("load",g.ready,false)}else{r.attachEvent("onreadystatechange",j);e.attachEvent("onload",g.ready);var n=false;try{n=e.frameElement==null&&r.documentElement}catch(a){}if(n&&n.doScroll){!function o(){if(!g.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}g.ready()}}()}}}return i.promise(t)};g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){A["[object "+t+"]"]=t.toLowerCase()});n=g(r);var $={};function q(e){var t=$[e]={};g.each(e.split(y),function(e,n){t[n]=true});return t}g.Callbacks=function(e){e=typeof e==="string"?$[e]||q(e):g.extend({},e);var n,i,r,a,o,s,u=[],l=!e.once&&[],f=function(t){n=e.memory&&t;i=true;s=a||0;a=0;o=u.length;r=true;for(;u&&s<o;s++){if(u[s].apply(t[0],t[1])===false&&e.stopOnFalse){n=false;break}}r=false;if(u){if(l){if(l.length){f(l.shift())}}else if(n){u=[]}else{c.disable()}}},c={add:function(){if(u){var t=u.length;!function i(t){g.each(t,function(t,n){var r=g.type(n);if(r==="function"&&(!e.unique||!c.has(n))){u.push(n)}else if(n&&n.length&&r!=="string"){i(n)}})}(arguments);if(r){o=u.length}else if(n){a=t;f(n)}}return this},remove:function(){if(u){g.each(arguments,function(e,t){var n;while((n=g.inArray(t,u,n))>-1){u.splice(n,1);if(r){if(n<=o){o--}if(n<=s){s--}}}})}return this},has:function(e){return g.inArray(e,u)>-1},empty:function(){u=[];return this},disable:function(){u=l=n=t;return this},disabled:function(){return!u},lock:function(){l=t;if(!n){c.disable()}return this},locked:function(){return!l},fireWith:function(e,t){t=t||[];t=[e,t.slice?t.slice():t];if(u&&(!i||l)){if(r){l.push(t)}else{f(t)}}return this},fire:function(){c.fireWith(this,arguments);return this},fired:function(){return!!i}};return c};g.extend({Deferred:function(e){var t=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){r.done(arguments).fail(arguments);return this},then:function(){var e=arguments;return g.Deferred(function(n){g.each(t,function(t,i){var a=i[0],o=e[t];r[i[1]](g.isFunction(o)?function(){var e=o.apply(this,arguments);if(e&&g.isFunction(e.promise)){e.promise().done(n.resolve).fail(n.reject).progress(n.notify)}else{n[a+"With"](this===r?n:this,[e])}}:n[a])});e=null}).promise()},promise:function(e){return typeof e==="object"?g.extend(e,i):i}},r={};i.pipe=i.then;g.each(t,function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add;if(s){o.add(function(){n=s},t[e^1][2].disable,t[2][2].lock)}r[a[0]]=o.fire;r[a[0]+"With"]=o.fireWith});i.promise(r);if(e){e.call(r,r)}return r},when:function(e){var t=0,n=f.call(arguments),i=n.length,r=i!==1||e&&g.isFunction(e.promise)?i:0,a=r===1?e:g.Deferred(),o=function(e,t,n){return function(i){t[e]=this;n[e]=arguments.length>1?f.call(arguments):i;if(n===s){a.notifyWith(t,n)}else if(!--r){a.resolveWith(t,n)}}},s,u,l;if(i>1){s=new Array(i);u=new Array(i);l=new Array(i);for(;t<i;t++){if(n[t]&&g.isFunction(n[t].promise)){n[t].promise().done(o(t,l,n)).fail(a.reject).progress(o(t,u,s))}else{--r}}}if(!r){a.resolveWith(l,n)}return a.promise()}});g.support=function(){var t,n,i,a,o,s,u,l,f,c,p,d=r.createElement("div");d.setAttribute("className","t");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";n=d.getElementsByTagName("*");i=d.getElementsByTagName("a")[0];i.style.cssText="top:1px;float:left;opacity:.5";if(!n||!n.length||!i){return{}}a=r.createElement("select");o=a.appendChild(r.createElement("option"));s=d.getElementsByTagName("input")[0];t={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:s.value==="on",optSelected:o.selected,getSetAttribute:d.className!=="t",enctype:!!r.createElement("form").enctype,html5Clone:r.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:r.compatMode==="CSS1Compat",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};s.checked=true;t.noCloneChecked=s.cloneNode(true).checked;a.disabled=true;t.optDisabled=!o.disabled;try{delete d.test}catch(h){t.deleteExpando=false}if(!d.addEventListener&&d.attachEvent&&d.fireEvent){d.attachEvent("onclick",p=function(){t.noCloneEvent=false});d.cloneNode(true).fireEvent("onclick");d.detachEvent("onclick",p)}s=r.createElement("input");s.value="t";s.setAttribute("type","radio");t.radioValue=s.value==="t";s.setAttribute("checked","checked");s.setAttribute("name","t");d.appendChild(s);u=r.createDocumentFragment();u.appendChild(d.lastChild);t.checkClone=u.cloneNode(true).cloneNode(true).lastChild.checked;t.appendChecked=s.checked;u.removeChild(s);u.appendChild(d);if(d.attachEvent){for(f in{submit:true,change:true,focusin:true}){l="on"+f;c=l in d;if(!c){d.setAttribute(l,"return;");c=typeof d[l]==="function"}t[f+"Bubbles"]=c}}g(function(){var n,i,a,o,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",u=r.getElementsByTagName("body")[0];if(!u){return}n=r.createElement("div");n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";u.insertBefore(n,u.firstChild);i=r.createElement("div");n.appendChild(i);i.innerHTML="<table><tr><td></td><td>t</td></tr></table>";a=i.getElementsByTagName("td");a[0].style.cssText="padding:0;margin:0;border:0;display:none";c=a[0].offsetHeight===0;a[0].style.display="";a[1].style.display="none";t.reliableHiddenOffsets=c&&a[0].offsetHeight===0;i.innerHTML="";i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";t.boxSizing=i.offsetWidth===4;t.doesNotIncludeMarginInBodyOffset=u.offsetTop!==1;if(e.getComputedStyle){t.pixelPosition=(e.getComputedStyle(i,null)||{}).top!=="1%";t.boxSizingReliable=(e.getComputedStyle(i,null)||{width:"4px"}).width==="4px";o=r.createElement("div");o.style.cssText=i.style.cssText=s;o.style.marginRight=o.style.width="0";i.style.width="1px";i.appendChild(o);t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)}if(typeof i.style.zoom!=="undefined"){i.innerHTML="";i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1";t.inlineBlockNeedsLayout=i.offsetWidth===3;i.style.display="block";i.style.overflow="visible";i.innerHTML="<div></div>";i.firstChild.style.width="5px";t.shrinkWrapBlocks=i.offsetWidth!==3;n.style.zoom=1}u.removeChild(n);n=i=a=o=null});u.removeChild(d);n=i=a=o=s=u=d=null;return t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,L=/([A-Z])/g;g.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(g.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?g.cache[e[g.expando]]:e[g.expando];return!!e&&!M(e)},data:function(e,n,i,r){if(!g.acceptData(e)){return}var a,o,s=g.expando,u=typeof n==="string",l=e.nodeType,f=l?g.cache:e,c=l?e[s]:e[s]&&s;if((!c||!f[c]||!r&&!f[c].data)&&u&&i===t){return}if(!c){if(l){e[s]=c=g.deletedIds.pop()||++g.uuid}else{c=s}}if(!f[c]){f[c]={};if(!l){f[c].toJSON=g.noop}}if(typeof n==="object"||typeof n==="function"){if(r){f[c]=g.extend(f[c],n)}else{f[c].data=g.extend(f[c].data,n)}}a=f[c];if(!r){if(!a.data){a.data={}}a=a.data}if(i!==t){a[g.camelCase(n)]=i}if(u){o=a[n];if(o==null){o=a[g.camelCase(n)]}}else{o=a}return o},removeData:function(e,t,n){if(!g.acceptData(e)){return}var i,r,a,o=e.nodeType,s=o?g.cache:e,u=o?e[g.expando]:g.expando;if(!s[u]){return}if(t){i=n?s[u]:s[u].data;if(i){if(!g.isArray(t)){if(t in i){t=[t]}else{t=g.camelCase(t);if(t in i){t=[t]}else{t=t.split(" ")}}}for(r=0,a=t.length;r<a;r++){delete i[t[r]]}if(!(n?M:g.isEmptyObject)(i)){return}}}if(!n){delete s[u].data;if(!M(s[u])){return}}if(o){g.cleanData([e],true)}else if(g.support.deleteExpando||s!=s.window){delete s[u]}else{s[u]=null}},_data:function(e,t,n){return g.data(e,t,n,true)},acceptData:function(e){var t=e.nodeName&&g.noData[e.nodeName.toLowerCase()];return!t||t!==true&&e.getAttribute("classid")===t}});g.fn.extend({data:function(e,n){var i,r,a,o,s,u=this[0],l=0,f=null;if(e===t){if(this.length){f=g.data(u);if(u.nodeType===1&&!g._data(u,"parsedAttrs")){a=u.attributes;for(s=a.length;l<s;l++){o=a[l].name;if(o.indexOf("data-")===0){o=g.camelCase(o.substring(5));F(u,o,f[o])}}g._data(u,"parsedAttrs",true)}}return f}if(typeof e==="object"){return this.each(function(){g.data(this,e)})}i=e.split(".",2);i[1]=i[1]?"."+i[1]:"";r=i[1]+"!";return g.access(this,function(n){if(n===t){f=this.triggerHandler("getData"+r,[i[0]]);if(f===t&&u){f=g.data(u,e);f=F(u,e,f)}return f===t&&i[1]?this.data(i[0]):f}i[1]=n;this.each(function(){var t=g(this);t.triggerHandler("setData"+r,i);g.data(this,e,n);t.triggerHandler("changeData"+r,i)})},null,n,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){g.removeData(this,e)})}});function F(e,n,i){if(i===t&&e.nodeType===1){var r="data-"+n.replace(L,"-$1").toLowerCase();i=e.getAttribute(r);if(typeof i==="string"){try{i=i==="true"?true:i==="false"?false:i==="null"?null:+i+""===i?+i:D.test(i)?g.parseJSON(i):i}catch(a){}g.data(e,n,i)}else{i=t}}return i}function M(e){var t;for(t in e){if(t==="data"&&g.isEmptyObject(e[t])){continue}if(t!=="toJSON"){return false}}return true}g.extend({queue:function(e,t,n){var i;if(e){t=(t||"fx")+"queue";i=g._data(e,t);if(n){if(!i||g.isArray(n)){i=g._data(e,t,g.makeArray(n))}else{i.push(n)}}return i||[]}},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),i=n.length,r=n.shift(),a=g._queueHooks(e,t),o=function(){g.dequeue(e,t)};if(r==="inprogress"){r=n.shift();i--}if(r){if(t==="fx"){n.unshift("inprogress")}delete a.stop;r.call(e,o,a)}if(!i&&a){a.empty.fire()}},_queueHooks:function(e,t){var n=t+"queueHooks";return g._data(e,n)||g._data(e,n,{empty:g.Callbacks("once memory").add(function(){g.removeData(e,t+"queue",true);g.removeData(e,n,true)})})}});g.fn.extend({queue:function(e,n){var i=2;if(typeof e!=="string"){n=e;e="fx";i--}if(arguments.length<i){return g.queue(this[0],e)}return n===t?this:this.each(function(){var t=g.queue(this,e,n);g._queueHooks(this,e);if(e==="fx"&&t[0]!=="inprogress"){g.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){g.dequeue(this,e)})},delay:function(e,t){e=g.fx?g.fx.speeds[e]||e:e;t=t||"fx";return this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,a=g.Deferred(),o=this,s=this.length,u=function(){if(!--r){a.resolveWith(o,[o])}};if(typeof e!=="string"){n=e;e=t}e=e||"fx";while(s--){i=g._data(o[s],e+"queueHooks");if(i&&i.empty){r++;i.empty.add(u)}}u();return a.promise(n)}});var z,O,I,P=/[\t\r\n]/g,H=/\r/g,R=/^(?:button|input)$/i,B=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,U=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=g.support.getSetAttribute;g.fn.extend({attr:function(e,t){return g.access(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){g.removeAttr(this,e)})},prop:function(e,t){return g.access(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){e=g.propFix[e]||e;return this.each(function(){try{this[e]=t;delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,a,o,s;if(g.isFunction(e)){return this.each(function(t){g(this).addClass(e.call(this,t,this.className))})}if(e&&typeof e==="string"){t=e.split(y);for(n=0,i=this.length;n<i;n++){r=this[n];if(r.nodeType===1){if(!r.className&&t.length===1){r.className=e}else{a=" "+r.className+" ";for(o=0,s=t.length;o<s;o++){if(!~a.indexOf(" "+t[o]+" ")){a+=t[o]+" "}}r.className=g.trim(a)}}}}return this},removeClass:function(e){var n,i,r,a,o,s,u;if(g.isFunction(e)){return this.each(function(t){g(this).removeClass(e.call(this,t,this.className))})}if(e&&typeof e==="string"||e===t){n=(e||"").split(y);for(s=0,u=this.length;s<u;s++){r=this[s];if(r.nodeType===1&&r.className){i=(" "+r.className+" ").replace(P," ");for(a=0,o=n.length;a<o;a++){while(i.indexOf(" "+n[a]+" ")>-1){i=i.replace(" "+n[a]+" "," ")}}r.className=e?g.trim(i):""}}}return this},toggleClass:function(e,t){var n=typeof e,i=typeof t==="boolean";if(g.isFunction(e)){return this.each(function(n){g(this).toggleClass(e.call(this,n,this.className,t),t)})}return this.each(function(){if(n==="string"){var r,a=0,o=g(this),s=t,u=e.split(y);while(r=u[a++]){s=i?s:!o.hasClass(r);o[s?"addClass":"removeClass"](r)}}else if(n==="undefined"||n==="boolean"){if(this.className){g._data(this,"__className__",this.className)}this.className=this.className||e===false?"":g._data(this,"__className__")||""}})},hasClass:function(e){var t=" "+e+" ",n=0,i=this.length;for(;n<i;n++){if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(P," ").indexOf(t)>-1){return true}}return false},val:function(e){var n,i,r,a=this[0];if(!arguments.length){if(a){n=g.valHooks[a.type]||g.valHooks[a.nodeName.toLowerCase()];if(n&&"get"in n&&(i=n.get(a,"value"))!==t){return i}i=a.value;return typeof i==="string"?i.replace(H,""):i==null?"":i}return}r=g.isFunction(e);return this.each(function(i){var a,o=g(this);if(this.nodeType!==1){return}if(r){a=e.call(this,i,o.val())}else{a=e}if(a==null){a=""}else if(typeof a==="number"){a+=""}else if(g.isArray(a)){a=g.map(a,function(e){return e==null?"":e+""})}n=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,a,"value")===t){this.value=a}})}});g.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,r,a=e.selectedIndex,o=[],s=e.options,u=e.type==="select-one";if(a<0){return null}n=u?a:0;i=u?a+1:s.length;for(;n<i;n++){r=s[n];if(r.selected&&(g.support.optDisabled?!r.disabled:r.getAttribute("disabled")===null)&&(!r.parentNode.disabled||!g.nodeName(r.parentNode,"optgroup"))){t=g(r).val();if(u){return t}o.push(t)}}if(u&&!o.length&&s.length){return g(s[a]).val()}return o},set:function(e,t){var n=g.makeArray(t);g(e).find("option").each(function(){this.selected=g.inArray(g(this).val(),n)>=0});if(!n.length){e.selectedIndex=-1}return n}}},attrFn:{},attr:function(e,n,i,r){var a,o,s,u=e.nodeType;if(!e||u===3||u===8||u===2){return}if(r&&g.isFunction(g.fn[n])){return g(e)[n](i)}if(typeof e.getAttribute==="undefined"){return g.prop(e,n,i)}s=u!==1||!g.isXMLDoc(e);if(s){n=n.toLowerCase();o=g.attrHooks[n]||(U.test(n)?O:z)}if(i!==t){if(i===null){g.removeAttr(e,n);return}else if(o&&"set"in o&&s&&(a=o.set(e,i,n))!==t){return a}else{e.setAttribute(n,""+i);return i}}else if(o&&"get"in o&&s&&(a=o.get(e,n))!==null){return a}else{a=e.getAttribute(n);return a===null?t:a}},removeAttr:function(e,t){var n,i,r,a,o=0;if(t&&e.nodeType===1){i=t.split(y);for(;o<i.length;o++){r=i[o];if(r){n=g.propFix[r]||r;a=U.test(r);if(!a){g.attr(e,r,"")}e.removeAttribute(V?r:n);if(a&&n in e){e[n]=false}}}}},attrHooks:{type:{set:function(e,t){if(R.test(e.nodeName)&&e.parentNode){g.error("type property can't be changed")}else if(!g.support.radioValue&&t==="radio"&&g.nodeName(e,"input")){var n=e.value;e.setAttribute("type",t);if(n){e.value=n}return t}}},value:{get:function(e,t){if(z&&g.nodeName(e,"button")){return z.get(e,t)}return t in e?e.value:null},set:function(e,t,n){if(z&&g.nodeName(e,"button")){return z.set(e,t,n)}e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,a,o,s=e.nodeType;if(!e||s===3||s===8||s===2){return}o=s!==1||!g.isXMLDoc(e);if(o){n=g.propFix[n]||n;a=g.propHooks[n]}if(i!==t){if(a&&"set"in a&&(r=a.set(e,i,n))!==t){return r}else{return e[n]=i}}else{if(a&&"get"in a&&(r=a.get(e,n))!==null){return r}else{return e[n]}}},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):B.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}});O={get:function(e,n){var i,r=g.prop(e,n);return r===true||typeof r!=="boolean"&&(i=e.getAttributeNode(n))&&i.nodeValue!==false?n.toLowerCase():t},set:function(e,t,n){var i;if(t===false){g.removeAttr(e,n)}else{i=g.propFix[n]||n;if(i in e){e[i]=true}e.setAttribute(n,n.toLowerCase())}return n}};if(!V){I={name:true,id:true,coords:true};z=g.valHooks.button={get:function(e,n){var i;i=e.getAttributeNode(n);return i&&(I[n]?i.value!=="":i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);if(!i){i=r.createAttribute(n);e.setAttributeNode(i)}return i.value=t+""}};g.each(["width","height"],function(e,t){g.attrHooks[t]=g.extend(g.attrHooks[t],{set:function(e,n){if(n===""){e.setAttribute(t,"auto");return n}}})});g.attrHooks.contenteditable={get:z.get,set:function(e,t,n){if(t===""){t="false"}z.set(e,t,n)}}}if(!g.support.hrefNormalized){g.each(["href","src","width","height"],function(e,n){g.attrHooks[n]=g.extend(g.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return i===null?t:i}})})}if(!g.support.style){g.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}}if(!g.support.optSelected){g.propHooks.selected=g.extend(g.propHooks.selected,{get:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}return null}})}if(!g.support.enctype){g.propFix.enctype="encoding"}if(!g.support.checkOn){g.each(["radio","checkbox"],function(){g.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}g.each(["radio","checkbox"],function(){g.valHooks[this]=g.extend(g.valHooks[this],{set:function(e,t){if(g.isArray(t)){return e.checked=g.inArray(g(e).val(),t)>=0}}})});var X=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,Q=/(?:^|\s)hover(\.\S+|)\b/,Y=/^key/,G=/^(?:mouse|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return g.event.special.hover?e:e.replace(Q,"mouseenter$1 mouseleave$1")};g.event={add:function(e,n,i,r,a){var o,s,u,l,f,c,p,d,h,m,v;if(e.nodeType===3||e.nodeType===8||!n||!i||!(o=g._data(e))){return}if(i.handler){h=i;i=h.handler;a=h.selector}if(!i.guid){i.guid=g.guid++}u=o.events;if(!u){o.events=u={}}s=o.handle;if(!s){o.handle=s=function(e){return typeof g!=="undefined"&&(!e||g.event.triggered!==e.type)?g.event.dispatch.apply(s.elem,arguments):t};s.elem=e}n=g.trim(Z(n)).split(" ");for(l=0;l<n.length;l++){f=J.exec(n[l])||[];c=f[1];p=(f[2]||"").split(".").sort();v=g.event.special[c]||{};c=(a?v.delegateType:v.bindType)||c;v=g.event.special[c]||{};d=g.extend({type:c,origType:f[1],data:r,handler:i,guid:i.guid,selector:a,namespace:p.join(".")},h);m=u[c];if(!m){m=u[c]=[];m.delegateCount=0;if(!v.setup||v.setup.call(e,r,p,s)===false){if(e.addEventListener){e.addEventListener(c,s,false)}else if(e.attachEvent){e.attachEvent("on"+c,s)}}}if(v.add){v.add.call(e,d);if(!d.handler.guid){d.handler.guid=i.guid}}if(a){m.splice(m.delegateCount++,0,d)}else{m.push(d)}g.event.global[c]=true}e=null},global:{},remove:function(e,t,n,i,r){var a,o,s,u,l,f,c,p,d,h,m,v=g.hasData(e)&&g._data(e);if(!v||!(p=v.events)){return}t=g.trim(Z(t||"")).split(" ");for(a=0;a<t.length;a++){o=J.exec(t[a])||[];s=u=o[1];l=o[2];if(!s){for(s in p){g.event.remove(e,s+t[a],n,i,true)}continue}d=g.event.special[s]||{};s=(i?d.delegateType:d.bindType)||s;h=p[s]||[];f=h.length;l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<h.length;c++){m=h[c];if((r||u===m.origType)&&(!n||n.guid===m.guid)&&(!l||l.test(m.namespace))&&(!i||i===m.selector||i==="**"&&m.selector)){h.splice(c--,1);if(m.selector){h.delegateCount--}if(d.remove){d.remove.call(e,m)}}}if(h.length===0&&f!==h.length){if(!d.teardown||d.teardown.call(e,l,v.handle)===false){g.removeEvent(e,s,v.handle)}delete p[s]}}if(g.isEmptyObject(p)){delete v.handle;g.removeData(e,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(n,i,a,o){if(a&&(a.nodeType===3||a.nodeType===8)){return}var s,u,l,f,c,p,d,h,m,v,y=n.type||n,b=[];if(K.test(y+g.event.triggered)){return}if(y.indexOf("!")>=0){y=y.slice(0,-1);u=true}if(y.indexOf(".")>=0){b=y.split(".");y=b.shift();b.sort()}if((!a||g.event.customEvent[y])&&!g.event.global[y]){return}n=typeof n==="object"?n[g.expando]?n:new g.Event(y,n):new g.Event(y);n.type=y;n.isTrigger=true;n.exclusive=u;n.namespace=b.join(".");n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;p=y.indexOf(":")<0?"on"+y:"";if(!a){s=g.cache;for(l in s){if(s[l].events&&s[l].events[y]){g.event.trigger(n,i,s[l].handle.elem,true)}}return}n.result=t;if(!n.target){n.target=a}i=i!=null?g.makeArray(i):[];i.unshift(n);d=g.event.special[y]||{};if(d.trigger&&d.trigger.apply(a,i)===false){return}m=[[a,d.bindType||y]];if(!o&&!d.noBubble&&!g.isWindow(a)){v=d.delegateType||y;f=K.test(v+y)?a:a.parentNode;for(c=a;f;f=f.parentNode){m.push([f,v]);c=f}if(c===(a.ownerDocument||r)){m.push([c.defaultView||c.parentWindow||e,v])}}for(l=0;l<m.length&&!n.isPropagationStopped();l++){f=m[l][0];n.type=m[l][1];h=(g._data(f,"events")||{})[n.type]&&g._data(f,"handle");if(h){h.apply(f,i)}h=p&&f[p];if(h&&g.acceptData(f)&&h.apply(f,i)===false){n.preventDefault()}}n.type=y;if(!o&&!n.isDefaultPrevented()){if((!d._default||d._default.apply(a.ownerDocument,i)===false)&&!(y==="click"&&g.nodeName(a,"a"))&&g.acceptData(a)){if(p&&a[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!g.isWindow(a)){c=a[p];if(c){a[p]=null}g.event.triggered=y;a[y]();g.event.triggered=t;if(c){a[p]=c}}}}return n.result},dispatch:function(n){n=g.event.fix(n||e.event);var i,r,a,o,s,u,l,f,c,p,d=(g._data(this,"events")||{})[n.type]||[],h=d.delegateCount,m=[].slice.call(arguments),v=!n.exclusive&&!n.namespace,y=g.event.special[n.type]||{},b=[];m[0]=n;n.delegateTarget=this;if(y.preDispatch&&y.preDispatch.call(this,n)===false){return}if(h&&!(n.button&&n.type==="click")){for(a=n.target;a!=this;a=a.parentNode||this){if(a.disabled!==true||n.type!=="click"){s={};l=[];for(i=0;i<h;i++){f=d[i];c=f.selector;if(s[c]===t){s[c]=g(c,this).index(a)>=0}if(s[c]){l.push(f)}}if(l.length){b.push({elem:a,matches:l})}}}}if(d.length>h){b.push({elem:this,matches:d.slice(h)})}for(i=0;i<b.length&&!n.isPropagationStopped();i++){u=b[i];n.currentTarget=u.elem;for(r=0;r<u.matches.length&&!n.isImmediatePropagationStopped();r++){f=u.matches[r];if(v||!n.namespace&&!f.namespace||n.namespace_re&&n.namespace_re.test(f.namespace)){n.data=f.data;n.handleObj=f;o=((g.event.special[f.origType]||{}).handle||f.handler).apply(u.elem,m);if(o!==t){n.result=o;if(o===false){n.preventDefault();n.stopPropagation()}}}}}if(y.postDispatch){y.postDispatch.call(this,n)}return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){if(e.which==null){e.which=t.charCode!=null?t.charCode:t.keyCode}return e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,a,o,s=n.button,u=n.fromElement;if(e.pageX==null&&n.clientX!=null){i=e.target.ownerDocument||r;a=i.documentElement;o=i.body;e.pageX=n.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0);e.pageY=n.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}if(!e.relatedTarget&&u){e.relatedTarget=u===e.target?n.toElement:u}if(!e.which&&s!==t){e.which=s&1?1:s&2?3:s&4?2:0}return e}},fix:function(e){if(e[g.expando]){return e}var t,n,i=e,a=g.event.fixHooks[e.type]||{},o=a.props?this.props.concat(a.props):this.props;e=g.Event(i);for(t=o.length;t;){n=o[--t];e[n]=i[n]}if(!e.target){e.target=i.srcElement||r}if(e.target.nodeType===3){e.target=e.target.parentNode
}e.metaKey=!!e.metaKey;return a.filter?a.filter(e,i):e},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){if(g.isWindow(this)){this.onbeforeunload=n}},teardown:function(e,t){if(this.onbeforeunload===t){this.onbeforeunload=null}}}},simulate:function(e,t,n,i){var r=g.extend(new g.Event,n,{type:e,isSimulated:true,originalEvent:{}});if(i){g.event.trigger(r,null,t)}else{g.event.dispatch.call(t,r)}if(r.isDefaultPrevented()){n.preventDefault()}}};g.event.handle=g.event.dispatch;g.removeEvent=r.removeEventListener?function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}}:function(e,t,n){var i="on"+t;if(e.detachEvent){if(typeof e[i]==="undefined"){e[i]=null}e.detachEvent(i,n)}};g.Event=function(e,t){if(!(this instanceof g.Event)){return new g.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.returnValue===false||e.getPreventDefault&&e.getPreventDefault()?tt:et}else{this.type=e}if(t){g.extend(this,t)}this.timeStamp=e&&e.timeStamp||g.now();this[g.expando]=true};function et(){return false}function tt(){return true}g.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt;this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et};g.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj,o=a.selector;if(!r||r!==i&&!g.contains(i,r)){e.type=a.origType;n=a.handler.apply(this,arguments);e.type=t}return n}}});if(!g.support.submitBubbles){g.event.special.submit={setup:function(){if(g.nodeName(this,"form")){return false}g.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=g.nodeName(n,"input")||g.nodeName(n,"button")?n.form:t;if(i&&!g._data(i,"_submit_attached")){g.event.add(i,"submit._submit",function(e){e._submit_bubble=true});g._data(i,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){g.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(g.nodeName(this,"form")){return false}g.event.remove(this,"._submit")}}}if(!g.support.changeBubbles){g.event.special.change={setup:function(){if(X.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){g.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});g.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}g.event.simulate("change",this,e,true)})}return false}g.event.add(this,"beforeactivate._change",function(e){var t=e.target;if(X.test(t.nodeName)&&!g._data(t,"_change_attached")){g.event.add(t,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){g.event.simulate("change",this.parentNode,e,true)}});g._data(t,"_change_attached",true)}})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox"){return e.handleObj.handler.apply(this,arguments)}},teardown:function(){g.event.remove(this,"._change");return!X.test(this.nodeName)}}}if(!g.support.focusinBubbles){g.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){g.event.simulate(t,e.target,g.event.fix(e),true)};g.event.special[t]={setup:function(){if(n++===0){r.addEventListener(e,i,true)}},teardown:function(){if(--n===0){r.removeEventListener(e,i,true)}}}})}g.fn.extend({on:function(e,n,i,r,a){var o,s;if(typeof e==="object"){if(typeof n!=="string"){i=i||n;n=t}for(s in e){this.on(s,n,i,e[s],a)}return this}if(i==null&&r==null){r=n;i=n=t}else if(r==null){if(typeof n==="string"){r=i;i=t}else{r=i;i=n;n=t}}if(r===false){r=et}else if(!r){return this}if(a===1){o=r;r=function(e){g().off(e);return o.apply(this,arguments)};r.guid=o.guid||(o.guid=g.guid++)}return this.each(function(){g.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,a;if(e&&e.preventDefault&&e.handleObj){r=e.handleObj;g(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler);return this}if(typeof e==="object"){for(a in e){this.off(a,n,e[a])}return this}if(n===false||typeof n==="function"){i=n;n=t}if(i===false){i=et}return this.each(function(){g.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){g(this.context).on(e,this.selector,t,n);return this},die:function(e,t){g(this.context).off(e,this.selector||"**",t);return this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){g.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0]){return g.event.trigger(e,t,this[0],true)}},toggle:function(e){var t=arguments,n=e.guid||g.guid++,i=0,r=function(n){var r=(g._data(this,"lastToggle"+e.guid)||0)%i;g._data(this,"lastToggle"+e.guid,r+1);n.preventDefault();return t[r].apply(this,arguments)||false};r.guid=n;while(i<t.length){t[i++].guid=n}return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});g.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(e,t){g.fn[t]=function(e,n){if(n==null){n=e;e=null}return arguments.length>0?this.on(t,null,e,n):this.trigger(t)};if(Y.test(t)){g.event.fixHooks[t]=g.event.keyHooks}if(G.test(t)){g.event.fixHooks[t]=g.event.mouseHooks}});!function(e,t){var n,i,r,a,o,s,u,l,f,c,p=true,d="undefined",h=("sizcache"+Math.random()).replace(".",""),m=e.document,v=m.documentElement,y=0,b=[].slice,w=[].push,x=function(e,t){e[h]=t||true;return e},T=function(){var e={},t=[];return x(function(n,i){if(t.push(n)>a.cacheLength){delete e[t.shift()]}return e[n]=i},e)},C=T(),k=T(),_=T(),E="[\\x20\\t\\r\\n\\f]",S="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",N=S.replace("w","w#"),j="([*^$|!~]?=)",A="\\["+E+"*("+S+")"+E+"*(?:"+j+E+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+N+")|)|)"+E+"*\\]",$=":("+S+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+A+")|[^:]|\\\\.)*|.*))\\)|)",q=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",D=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),L=new RegExp("^"+E+"*,"+E+"*"),F=new RegExp("^"+E+"*([\\x20\\t\\r\\n\\f>+~])"+E+"*"),M=new RegExp($),z=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,O=/^:not/,I=/[\x20\t\r\n\f]*[+~]/,P=/:not\($/,H=/h\d/i,R=/input|select|textarea|button/i,B=/\\(?!\\)/g,W={ID:new RegExp("^#("+S+")"),CLASS:new RegExp("^\\.("+S+")"),NAME:new RegExp("^\\[name=['\"]?("+S+")['\"]?\\]"),TAG:new RegExp("^("+S.replace("w","w*")+")"),ATTR:new RegExp("^"+A),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),POS:new RegExp(q,"ig"),needsContext:new RegExp("^"+E+"*[>+~]|"+q,"i")},U=function(e){var t=m.createElement("div");try{return e(t)}catch(n){return false}finally{t=null}},V=U(function(e){e.appendChild(m.createComment(""));return!e.getElementsByTagName("*").length}),X=U(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==d&&e.firstChild.getAttribute("href")==="#"}),J=U(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Q=U(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),Y=U(function(e){e.id=h+0;e.innerHTML="<a name='"+h+"'></a><div name='"+h+"'></div>";v.insertBefore(e,v.firstChild);var t=m.getElementsByName&&m.getElementsByName(h).length===2+m.getElementsByName(h+0).length;r=!m.getElementById(h);v.removeChild(e);return t});try{b.call(v.childNodes,0)[0].nodeType}catch(G){b=function(e){var t,n=[];for(;t=this[e];e++){n.push(t)}return n}}function K(e,t,n,i){n=n||[];t=t||m;var r,a,o,l,f=t.nodeType;if(f!==1&&f!==9){return[]}if(!e||typeof e!=="string"){return n}o=s(t);if(!o&&!i){if(r=z.exec(e)){if(l=r[1]){if(f===9){a=t.getElementById(l);if(a&&a.parentNode){if(a.id===l){n.push(a);return n}}else{return n}}else{if(t.ownerDocument&&(a=t.ownerDocument.getElementById(l))&&u(t,a)&&a.id===l){n.push(a);return n}}}else if(r[2]){w.apply(n,b.call(t.getElementsByTagName(e),0));return n}else if((l=r[3])&&Q&&t.getElementsByClassName){w.apply(n,b.call(t.getElementsByClassName(l),0));return n}}}return ft(e,t,n,i,o)}K.matches=function(e,t){return K(e,null,null,t)};K.matchesSelector=function(e,t){return K(t,null,null,[e]).length>0};function Z(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function et(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}o=K.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(r===1||r===9||r===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){n+=o(e)}}}else if(r===3||r===4){return e.nodeValue}}else{for(;t=e[i];i++){n+=o(t)}}return n};s=K.isXML=function ct(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};u=K.contains=v.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&i.nodeType===1&&n.contains&&n.contains(i))}:v.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode){if(t===e){return true}}return false};K.attr=function(e,t){var n,i=s(e);if(!i){t=t.toLowerCase()}if(a.attrHandle[t]){return a.attrHandle[t](e)}if(J||i){return e.getAttribute(t)}n=e.getAttributeNode(t);return n?typeof e[t]==="boolean"?e[t]?t:null:n.specified?n.value:null:null};a=K.selectors={cacheLength:50,createPseudo:x,match:W,order:new RegExp("ID|TAG"+(Y?"|NAME":"")+(Q?"|CLASS":"")),attrHandle:X?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==d&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==d&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==d&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:V?function(e,t){if(typeof t.getElementsByTagName!==d){return t.getElementsByTagName(e)}}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var i,r=[],a=0;for(;i=n[a];a++){if(i.nodeType===1){r.push(i)}}return r}return n},NAME:function(e,t){if(typeof t.getElementsByName!==d){return t.getElementsByName(name)}},CLASS:function(e,t,n){if(typeof t.getElementsByClassName!==d&&!n){return t.getElementsByClassName(e)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(B,"");e[3]=(e[4]||e[5]||"").replace(B,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){K.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+(e[6]+e[7]||e[2]==="odd")}else if(e[2]){K.error(e[0])}return e},PSEUDO:function(e,t,n){var i,r;if(W["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[3]}else if(i=e[4]){if(M.test(i)&&(r=nt(i,t,n,true))&&(r=i.indexOf(")",i.length-r)-i.length)){i=i.slice(0,r);e[0]=e[0].slice(0,r)}e[2]=i}return e.slice(0,3)}},filter:{ID:r?function(e){e=e.replace(B,"");return function(t){return t.getAttribute("id")===e}}:function(e){e=e.replace(B,"");return function(t){var n=typeof t.getAttributeNode!==d&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(B,"").toLowerCase();return function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(e){var t=C[h][e];if(!t){t=C(e,new RegExp("(^|"+E+")"+e+"("+E+"|$)"))}return function(e){return t.test(e.className||typeof e.getAttribute!==d&&e.getAttribute("class")||"")}},ATTR:function(e,t,n){if(!t){return function(t){return K.attr(t,e)!=null}}return function(i){var r=K.attr(i,e),a=r+"";if(r==null){return t==="!="}switch(t){case"=":return a===n;case"!=":return a!==n;case"^=":return n&&a.indexOf(n)===0;case"*=":return n&&a.indexOf(n)>-1;case"$=":return n&&a.substr(a.length-n.length)===n;case"~=":return(" "+a+" ").indexOf(n)>-1;case"|=":return a===n||a.substr(0,n.length+1)===n+"-"}}},CHILD:function(e,t,n,i){if(e==="nth"){var r=y++;return function(e){var t,a,o=0,s=e;if(n===1&&i===0){return true}t=e.parentNode;if(t&&(t[h]!==r||!e.sizset)){for(s=t.firstChild;s;s=s.nextSibling){if(s.nodeType===1){s.sizset=++o;if(s===e){break}}}t[h]=r}a=e.sizset-i;if(n===0){return a===0}else{return a%n===0&&a/n>=0}}}return function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling){if(n.nodeType===1){return false}}if(e==="first"){return true}n=t;case"last":while(n=n.nextSibling){if(n.nodeType===1){return false}}return true}}},PSEUDO:function(e,t,n,i){var r,o=a.pseudos[e]||a.pseudos[e.toLowerCase()];if(!o){K.error("unsupported pseudo: "+e)}if(!o[h]){if(o.length>1){r=[e,e,"",t];return function(e){return o(e,0,r)}}return o}return o(t,n,i)}},pseudos:{not:x(function(e,t,n){var i=l(e.replace(D,"$1"),t,n);return function(e){return!i(e)}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return!a.pseudos["empty"](e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4){return false}e=e.nextSibling}return true},contains:x(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),has:x(function(e){return function(t){return K(e,t).length>0}}),header:function(e){return H.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:Z("radio"),checkbox:Z("checkbox"),file:Z("file"),password:Z("password"),image:Z("image"),submit:et("submit"),reset:et("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return R.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var i=e.pop();return n?e:[i]},even:function(e,t,n){var i=[],r=n?1:0,a=e.length;for(;r<a;r=r+2){i.push(e[r])}return i},odd:function(e,t,n){var i=[],r=n?0:1,a=e.length;for(;r<a;r=r+2){i.push(e[r])}return i},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var i=e.splice(+t,1);return n?e:i}}};function tt(e,t,n){if(e===t){return n}var i=e.nextSibling;while(i){if(i===t){return-1}i=i.nextSibling}return 1}f=v.compareDocumentPosition?function(e,t){if(e===t){c=true;return 0}return(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t){c=true;return 0}else if(e.sourceIndex&&t.sourceIndex){return e.sourceIndex-t.sourceIndex}var n,i,r=[],a=[],o=e.parentNode,s=t.parentNode,u=o;if(o===s){return tt(e,t)}else if(!o){return-1}else if(!s){return 1}while(u){r.unshift(u);u=u.parentNode}u=s;while(u){a.unshift(u);u=u.parentNode}n=r.length;i=a.length;for(var l=0;l<n&&l<i;l++){if(r[l]!==a[l]){return tt(r[l],a[l])}}return l===n?tt(e,a[l],-1):tt(r[l],t,1)};[0,0].sort(f);p=!c;K.uniqueSort=function(e){var t,n=1;c=p;e.sort(f);if(c){for(;t=e[n];n++){if(t===e[n-1]){e.splice(n--,1)}}}return e};K.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function nt(e,t,n,i){var r,o,s,u,l,f,c,p,d,g,v=!n&&t!==m,y=(v?"<s>":"")+e.replace(D,"$1<s>"),w=k[h][y];if(w){return i?0:b.call(w,0)}l=e;f=[];p=0;d=a.preFilter;g=a.filter;while(l){if(!r||(o=L.exec(l))){if(o){l=l.slice(o[0].length);s.selector=c}f.push(s=[]);c="";if(v){l=" "+l}}r=false;if(o=F.exec(l)){c+=o[0];l=l.slice(o[0].length);r=s.push({part:o.pop().replace(D," "),string:o[0],captures:o})}for(u in g){if((o=W[u].exec(l))&&(!d[u]||(o=d[u](o,t,n)))){c+=o[0];l=l.slice(o[0].length);r=s.push({part:u,string:o.shift(),captures:o})}}if(!r){break}}if(c){s.selector=c}return i?l.length:l?K.error(e):b.call(k(y,f),0)}function it(e,t,r,a){var o=t.dir,s=y++;if(!e){e=function(e){return e===r}}return t.first?function(t){while(t=t[o]){if(t.nodeType===1){return e(t)&&t}}}:a?function(t){while(t=t[o]){if(t.nodeType===1){if(e(t)){return t}}}}:function(t){var r,a=s+"."+n,u=a+"."+i;while(t=t[o]){if(t.nodeType===1){if((r=t[h])===u){return t.sizset}else if(typeof r==="string"&&r.indexOf(a)===0){if(t.sizset){return t}}else{t[h]=u;if(e(t)){t.sizset=true;return t}t.sizset=false}}}}}function rt(e,t){return e?function(n){var i=t(n);return i&&e(i===true?n:i)}:t}function at(e,t,n){var i,r,o=0;for(;i=e[o];o++){if(a.relative[i.part]){r=it(r,a.relative[i.part],t,n)}else{r=rt(r,a.filter[i.part].apply(null,i.captures.concat(t,n)))}}return r}function ot(e){return function(t){var n,i=0;for(;n=e[i];i++){if(n(t)){return true}}return false}}l=K.compile=function(e,t,n){var i,r,a,o=_[h][e];if(o&&o.context===t){return o}i=nt(e,t,n);for(r=0,a=i.length;r<a;r++){i[r]=at(i[r],t,n)}o=_(e,ot(i));o.context=t;o.runs=o.dirruns=0;return o};function st(e,t,n,i){var r=0,a=t.length;for(;r<a;r++){K(e,t[r],n,i)}}function ut(e,t,n,i,r,o){var s,u=a.setFilters[t.toLowerCase()];if(!u){K.error(t)}if(e||!(s=r)){st(e||"*",i,s=[],r)}return s.length>0?u(s,n,o):[]}function lt(e,n,i,r){var a,o,s,u,l,f,c,p,d,h,g,m,v,y=0,b=e.length,x=W["POS"],T=new RegExp("^"+x.source+"(?!"+E+")","i"),C=function(){var e=1,n=arguments.length-2;for(;e<n;e++){if(arguments[e]===t){d[e]=t}}};for(;y<b;y++){a=e[y];o="";p=r;for(s=0,u=a.length;s<u;s++){l=a[s];f=l.string;if(l.part==="PSEUDO"){x.exec("");c=0;while(d=x.exec(f)){h=true;g=x.lastIndex=d.index+d[0].length;if(g>c){o+=f.slice(c,d.index);c=g;m=[n];if(F.test(o)){if(p){m=p}p=r}if(v=P.test(o)){o=o.slice(0,-5).replace(F,"$&*");c++}if(d.length>1){d[0].replace(T,C)}p=ut(o,d[1],d[2],m,p,v)}o=""}}if(!h){o+=f}h=false}if(o){if(F.test(o)){st(o,p||[n],i,r)}else{K(o,n,i,r?r.concat(p):p)}}else{w.apply(i,p)}}return b===1?i:K.uniqueSort(i)}function ft(e,t,r,o,s){e=e.replace(D,"$1");var u,f,c,p,d,h,g,m,v,y,x=nt(e,t,s),T=t.nodeType;if(W["POS"].test(e)){return lt(x,t,r,o)}if(o){u=b.call(o,0)}else if(x.length===1){if((h=b.call(x[0],0)).length>2&&(g=h[0]).part==="ID"&&T===9&&!s&&a.relative[h[1].part]){t=a.find["ID"](g.captures[0].replace(B,""),t,s)[0];if(!t){return r}e=e.slice(h.shift().string.length)}v=(x=I.exec(h[0].string))&&!x.index&&t.parentNode||t;m="";for(d=h.length-1;d>=0;d--){g=h[d];y=g.part;m=g.string+m;if(a.relative[y]){break}if(a.order.test(y)){u=a.find[y](g.captures[0].replace(B,""),v,s);if(u==null){continue}else{e=e.slice(0,e.length-m.length)+m.replace(W[y],"");if(!e){w.apply(r,b.call(u,0))}break}}}}if(e){f=l(e,t,s);n=f.dirruns++;if(u==null){u=a.find["TAG"]("*",I.test(e)&&t.parentNode||t)}for(d=0;p=u[d];d++){i=f.runs++;if(f(p)){r.push(p)}}}return r}if(m.querySelectorAll){!function(){var e,t=ft,n=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,r=[],a=[":active"],o=v.matchesSelector||v.mozMatchesSelector||v.webkitMatchesSelector||v.oMatchesSelector||v.msMatchesSelector;U(function(e){e.innerHTML="<select><option selected=''></option></select>";if(!e.querySelectorAll("[selected]").length){r.push("\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!e.querySelectorAll(":checked").length){r.push(":checked")}});U(function(e){e.innerHTML="<p test=''></p>";if(e.querySelectorAll("[test^='']").length){r.push("[*^$]="+E+"*(?:\"\"|'')")}e.innerHTML="<input type='hidden'/>";if(!e.querySelectorAll(":enabled").length){r.push(":enabled",":disabled")}});r=r.length&&new RegExp(r.join("|"));ft=function(e,i,a,o,s){if(!o&&!s&&(!r||!r.test(e))){if(i.nodeType===9){try{w.apply(a,b.call(i.querySelectorAll(e),0));return a}catch(u){}}else if(i.nodeType===1&&i.nodeName.toLowerCase()!=="object"){var l,f,c,p=i.getAttribute("id"),d=p||h,g=I.test(e)&&i.parentNode||i;if(p){d=d.replace(n,"\\$&")}else{i.setAttribute("id",d)}l=nt(e,i,s);d="[id='"+d+"']";for(f=0,c=l.length;f<c;f++){l[f]=d+l[f].selector}try{w.apply(a,b.call(g.querySelectorAll(l.join(",")),0));return a}catch(u){}finally{if(!p){i.removeAttribute("id")}}}}return t(e,i,a,o,s)};if(o){U(function(t){e=o.call(t,"div");try{o.call(t,"[test!='']:sizzle");a.push(W["PSEUDO"].source,W["POS"].source,"!=")}catch(n){}});a=new RegExp(a.join("|"));K.matchesSelector=function(t,n){n=n.replace(i,"='$1']");if(!s(t)&&!a.test(n)&&(!r||!r.test(n))){try{var u=o.call(t,n);if(u||e||t.document&&t.document.nodeType!==11){return u}}catch(l){}}return K(n,null,null,[t]).length>0}}}()}a.setFilters["nth"]=a.setFilters["eq"];a.filters=a.pseudos;K.attr=g.attr;g.find=K;g.expr=K.selectors;g.expr[":"]=g.expr.pseudos;g.unique=K.uniqueSort;g.text=K.getText;g.isXMLDoc=K.isXML;g.contains=K.contains}(e);var nt=/Until$/,it=/^(?:parents|prev(?:Until|All))/,rt=/^.[^:#\[\.,]*$/,at=g.expr.match.needsContext,ot={children:true,contents:true,next:true,prev:true};g.fn.extend({find:function(e){var t,n,i,r,a,o,s=this;if(typeof e!=="string"){return g(e).filter(function(){for(t=0,n=s.length;t<n;t++){if(g.contains(s[t],this)){return true}}})}o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){i=o.length;g.find(e,this[t],o);if(t>0){for(r=i;r<o.length;r++){for(a=0;a<i;a++){if(o[a]===o[r]){o.splice(r--,1);break}}}}}return o},has:function(e){var t,n=g(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++){if(g.contains(this,n[t])){return true}}})},not:function(e){return this.pushStack(lt(this,e,false),"not",e)},filter:function(e){return this.pushStack(lt(this,e,true),"filter",e)},is:function(e){return!!e&&(typeof e==="string"?at.test(e)?g(e,this.context).index(this[0])>=0:g.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,i=0,r=this.length,a=[],o=at.test(e)||typeof e!=="string"?g(e,t||this.context):0;for(;i<r;i++){n=this[i];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:g.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}}a=a.length>1?g.unique(a):a;return this.pushStack(a,"closest",e)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.prevAll().length:-1}if(typeof e==="string"){return g.inArray(this[0],g(e))}return g.inArray(e.jquery?e[0]:e,this)},add:function(e,t){var n=typeof e==="string"?g(e,t):g.makeArray(e&&e.nodeType?[e]:e),i=g.merge(this.get(),n);return this.pushStack(st(n[0])||st(i[0])?i:g.unique(i))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});g.fn.andSelf=g.fn.addBack;function st(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function ut(e,t){do{e=e[t]}while(e&&e.nodeType!==1);return e}g.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return g.dir(e,"parentNode")},parentsUntil:function(e,t,n){return g.dir(e,"parentNode",n)},next:function(e){return ut(e,"nextSibling")},prev:function(e){return ut(e,"previousSibling")},nextAll:function(e){return g.dir(e,"nextSibling")},prevAll:function(e){return g.dir(e,"previousSibling")},nextUntil:function(e,t,n){return g.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return g.dir(e,"previousSibling",n)},siblings:function(e){return g.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return g.sibling(e.firstChild)},contents:function(e){return g.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:g.merge([],e.childNodes)}},function(e,t){g.fn[e]=function(n,i){var r=g.map(this,t,n);if(!nt.test(e)){i=n}if(i&&typeof i==="string"){r=g.filter(i,r)}r=this.length>1&&!ot[e]?g.unique(r):r;if(this.length>1&&it.test(e)){r=r.reverse()}return this.pushStack(r,e,f.call(arguments).join(","))}});g.extend({filter:function(e,t,n){if(n){e=":not("+e+")"}return t.length===1?g.find.matchesSelector(t[0],e)?[t[0]]:[]:g.find.matches(e,t)},dir:function(e,n,i){var r=[],a=e[n];while(a&&a.nodeType!==9&&(i===t||a.nodeType!==1||!g(a).is(i))){if(a.nodeType===1){r.push(a)}a=a[n]}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){n.push(e)}}return n}});function lt(e,t,n){t=t||0;if(g.isFunction(t)){return g.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n})}else if(t.nodeType){return g.grep(e,function(e,i){return e===t===n})}else if(typeof t==="string"){var i=g.grep(e,function(e){return e.nodeType===1});if(rt.test(t)){return g.filter(t,i,!n)}else{t=g.filter(t,i)}}return g.grep(e,function(e,i){return g.inArray(e,t)>=0===n})}function ft(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement){while(t.length){n.createElement(t.pop())}}return n}var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",pt=/ jQuery\d+="(?:null|\d+)"/g,dt=/^\s+/,ht=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gt=/<([\w:]+)/,mt=/<tbody/i,vt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),xt=/^(?:checkbox|radio)$/,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ct=/\/(java|ecma)script/i,kt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Et=ft(r),St=Et.appendChild(r.createElement("div"));_t.optgroup=_t.option;_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead;_t.th=_t.td;if(!g.support.htmlSerialize){_t._default=[1,"X<div>","</div>"]}g.fn.extend({text:function(e){return g.access(this,function(e){return e===t?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(g.isFunction(e)){return this.each(function(t){g(this).wrapAll(e.call(this,t))})}if(this[0]){var t=g(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){if(g.isFunction(e)){return this.each(function(t){g(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=g(this),n=t.contents();if(n.length){n.wrapAll(e)}else{t.append(e)}})},wrap:function(e){var t=g.isFunction(e);return this.each(function(n){g(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){if(!g.nodeName(this,"body")){g(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!st(this[0])){return this.domManip(arguments,false,function(e){this.parentNode.insertBefore(e,this)})}if(arguments.length){var e=g.clean(arguments);return this.pushStack(g.merge(e,this),"before",this.selector)}},after:function(){if(!st(this[0])){return this.domManip(arguments,false,function(e){this.parentNode.insertBefore(e,this.nextSibling)})}if(arguments.length){var e=g.clean(arguments);return this.pushStack(g.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,i=0;for(;(n=this[i])!=null;i++){if(!e||g.filter(e,[n]).length){if(!t&&n.nodeType===1){g.cleanData(n.getElementsByTagName("*"));g.cleanData([n])}if(n.parentNode){n.parentNode.removeChild(n)}}}return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){g.cleanData(e.getElementsByTagName("*"))}while(e.firstChild){e.removeChild(e.firstChild)}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return g.clone(this,e,t)})},html:function(e){return g.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t){return n.nodeType===1?n.innerHTML.replace(pt,""):t}if(typeof e==="string"&&!yt.test(e)&&(g.support.htmlSerialize||!wt.test(e))&&(g.support.leadingWhitespace||!dt.test(e))&&!_t[(gt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ht,"<$1></$2>");try{for(;i<r;i++){n=this[i]||{};if(n.nodeType===1){g.cleanData(n.getElementsByTagName("*"));n.innerHTML=e}}n=0}catch(a){}}if(n){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(e){if(!st(this[0])){if(g.isFunction(e)){return this.each(function(t){var n=g(this),i=n.html();n.replaceWith(e.call(this,t,i))})}if(typeof e!=="string"){e=g(e).detach()}return this.each(function(){var t=this.nextSibling,n=this.parentNode;g(this).remove();if(t){g(t).before(e)}else{g(n).append(e)}})}return this.length?this.pushStack(g(g.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,a,o,s,u=0,l=e[0],f=[],c=this.length;if(!g.support.checkClone&&c>1&&typeof l==="string"&&Tt.test(l)){return this.each(function(){g(this).domManip(e,n,i)})}if(g.isFunction(l)){return this.each(function(r){var a=g(this);e[0]=l.call(this,r,n?a.html():t);a.domManip(e,n,i)})}if(this[0]){r=g.buildFragment(e,this,f);o=r.fragment;a=o.firstChild;if(o.childNodes.length===1){o=a}if(a){n=n&&g.nodeName(a,"tr");for(s=r.cacheable||c-1;u<c;u++){i.call(n&&g.nodeName(this[u],"table")?Nt(this[u],"tbody"):this[u],u===s?o:g.clone(o,true,true))}}o=a=null;if(f.length){g.each(f,function(e,t){if(t.src){if(g.ajax){g.ajax({url:t.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{g.error("no ajax")}}else{g.globalEval((t.text||t.textContent||t.innerHTML||"").replace(kt,""))}if(t.parentNode){t.parentNode.removeChild(t)}})}}return this}});function Nt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function jt(e,t){if(t.nodeType!==1||!g.hasData(e)){return}var n,i,r,a=g._data(e),o=g._data(t,a),s=a.events;if(s){delete o.handle;o.events={};for(n in s){for(i=0,r=s[n].length;i<r;i++){g.event.add(t,n,s[n][i])}}}if(o.data){o.data=g.extend({},o.data)}}function At(e,t){var n;if(t.nodeType!==1){return}if(t.clearAttributes){t.clearAttributes()}if(t.mergeAttributes){t.mergeAttributes(e)}n=t.nodeName.toLowerCase();if(n==="object"){if(t.parentNode){t.outerHTML=e.outerHTML}if(g.support.html5Clone&&e.innerHTML&&!g.trim(t.innerHTML)){t.innerHTML=e.innerHTML}}else if(n==="input"&&xt.test(e.type)){t.defaultChecked=t.checked=e.checked;if(t.value!==e.value){t.value=e.value}}else if(n==="option"){t.selected=e.defaultSelected}else if(n==="input"||n==="textarea"){t.defaultValue=e.defaultValue}else if(n==="script"&&t.text!==e.text){t.text=e.text}t.removeAttribute(g.expando)
}g.buildFragment=function(e,n,i){var a,o,s,u=e[0];n=n||r;n=!n.nodeType&&n[0]||n;n=n.ownerDocument||n;if(e.length===1&&typeof u==="string"&&u.length<512&&n===r&&u.charAt(0)==="<"&&!bt.test(u)&&(g.support.checkClone||!Tt.test(u))&&(g.support.html5Clone||!wt.test(u))){o=true;a=g.fragments[u];s=a!==t}if(!a){a=n.createDocumentFragment();g.clean(e,n,a,i);if(o){g.fragments[u]=s&&a}}return{fragment:a,cacheable:o}};g.fragments={};g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){g.fn[e]=function(n){var i,r=0,a=[],o=g(n),s=o.length,u=this.length===1&&this[0].parentNode;if((u==null||u&&u.nodeType===11&&u.childNodes.length===1)&&s===1){o[t](this[0]);return this}else{for(;r<s;r++){i=(r>0?this.clone(true):this).get();g(o[r])[t](i);a=a.concat(i)}return this.pushStack(a,e,o.selector)}}});function $t(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}function qt(e){if(xt.test(e.type)){e.defaultChecked=e.checked}}g.extend({clone:function(e,t,n){var i,r,a,o;if(g.support.html5Clone||g.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")){o=e.cloneNode(true)}else{St.innerHTML=e.outerHTML;St.removeChild(o=St.firstChild)}if((!g.support.noCloneEvent||!g.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!g.isXMLDoc(e)){At(e,o);i=$t(e);r=$t(o);for(a=0;i[a];++a){if(r[a]){At(i[a],r[a])}}}if(t){jt(e,o);if(n){i=$t(e);r=$t(o);for(a=0;i[a];++a){jt(i[a],r[a])}}}i=r=null;return o},clean:function(e,t,n,i){var a,o,s,u,l,f,c,p,d,h,m,v,y=t===r&&Et,b=[];if(!t||typeof t.createDocumentFragment==="undefined"){t=r}for(a=0;(s=e[a])!=null;a++){if(typeof s==="number"){s+=""}if(!s){continue}if(typeof s==="string"){if(!vt.test(s)){s=t.createTextNode(s)}else{y=y||ft(t);c=t.createElement("div");y.appendChild(c);s=s.replace(ht,"<$1></$2>");u=(gt.exec(s)||["",""])[1].toLowerCase();l=_t[u]||_t._default;f=l[0];c.innerHTML=l[1]+s+l[2];while(f--){c=c.lastChild}if(!g.support.tbody){p=mt.test(s);d=u==="table"&&!p?c.firstChild&&c.firstChild.childNodes:l[1]==="<table>"&&!p?c.childNodes:[];for(o=d.length-1;o>=0;--o){if(g.nodeName(d[o],"tbody")&&!d[o].childNodes.length){d[o].parentNode.removeChild(d[o])}}}if(!g.support.leadingWhitespace&&dt.test(s)){c.insertBefore(t.createTextNode(dt.exec(s)[0]),c.firstChild)}s=c.childNodes;c.parentNode.removeChild(c)}}if(s.nodeType){b.push(s)}else{g.merge(b,s)}}if(c){s=c=y=null}if(!g.support.appendChecked){for(a=0;(s=b[a])!=null;a++){if(g.nodeName(s,"input")){qt(s)}else if(typeof s.getElementsByTagName!=="undefined"){g.grep(s.getElementsByTagName("input"),qt)}}}if(n){m=function(e){if(!e.type||Ct.test(e.type)){return i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)}};for(a=0;(s=b[a])!=null;a++){if(!(g.nodeName(s,"script")&&m(s))){n.appendChild(s);if(typeof s.getElementsByTagName!=="undefined"){v=g.grep(g.merge([],s.getElementsByTagName("script")),m);b.splice.apply(b,[a+1,0].concat(v));a+=v.length}}}}return b},cleanData:function(e,t){var n,i,r,a,o=0,s=g.expando,u=g.cache,l=g.support.deleteExpando,f=g.event.special;for(;(r=e[o])!=null;o++){if(t||g.acceptData(r)){i=r[s];n=i&&u[i];if(n){if(n.events){for(a in n.events){if(f[a]){g.event.remove(r,a)}else{g.removeEvent(r,a,n.handle)}}}if(u[i]){delete u[i];if(l){delete r[s]}else if(r.removeAttribute){r.removeAttribute(s)}else{r[s]=null}g.deletedIds.push(i)}}}}}});!function(){var e,t;g.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}};e=g.uaMatch(o.userAgent);t={};if(e.browser){t[e.browser]=true;t.version=e.version}if(t.chrome){t.webkit=true}else if(t.webkit){t.safari=true}g.browser=t;g.sub=function(){function e(t,n){return new e.fn.init(t,n)}g.extend(true,e,this);e.superclass=this;e.fn=e.prototype=this();e.fn.constructor=e;e.sub=this.sub;e.fn.init=function n(n,i){if(i&&i instanceof g&&!(i instanceof e)){i=e(i)}return g.fn.init.call(this,n,i,t)};e.fn.init.prototype=e.fn;var t=e(r);return e}}();var Dt,Lt,Ft,Mt=/alpha\([^)]*\)/i,zt=/opacity=([^)]*)/,Ot=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,Pt=/^margin/,Ht=new RegExp("^("+m+")(.*)$","i"),Rt=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),Bt=new RegExp("^([-+])=("+m+")","i"),Wt={},Ut={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},Xt=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Qt=g.fn.toggle;function Yt(e,t){if(t in e){return t}var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Jt.length;while(r--){t=Jt[r]+n;if(t in e){return t}}return i}function Gt(e,t){e=t||e;return g.css(e,"display")==="none"||!g.contains(e.ownerDocument,e)}function Kt(e,t){var n,i,r=[],a=0,o=e.length;for(;a<o;a++){n=e[a];if(!n.style){continue}r[a]=g._data(n,"olddisplay");if(t){if(!r[a]&&n.style.display==="none"){n.style.display=""}if(n.style.display===""&&Gt(n)){r[a]=g._data(n,"olddisplay",nn(n.nodeName))}}else{i=Dt(n,"display");if(!r[a]&&i!=="none"){g._data(n,"olddisplay",i)}}}for(a=0;a<o;a++){n=e[a];if(!n.style){continue}if(!t||n.style.display==="none"||n.style.display===""){n.style.display=t?r[a]||"":"none"}}return e}g.fn.extend({css:function(e,n){return g.access(this,function(e,n,i){return i!==t?g.style(e,n,i):g.css(e,n)},e,n,arguments.length>1)},show:function(){return Kt(this,true)},hide:function(){return Kt(this)},toggle:function(e,t){var n=typeof e==="boolean";if(g.isFunction(e)&&g.isFunction(t)){return Qt.apply(this,arguments)}return this.each(function(){if(n?e:Gt(this)){g(this).show()}else{g(this).hide()}})}});g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":g.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var a,o,s,u=g.camelCase(n),l=e.style;n=g.cssProps[u]||(g.cssProps[u]=Yt(l,u));s=g.cssHooks[n]||g.cssHooks[u];if(i!==t){o=typeof i;if(o==="string"&&(a=Bt.exec(i))){i=(a[1]+1)*a[2]+parseFloat(g.css(e,n));o="number"}if(i==null||o==="number"&&isNaN(i)){return}if(o==="number"&&!g.cssNumber[u]){i+="px"}if(!s||!("set"in s)||(i=s.set(e,i,r))!==t){try{l[n]=i}catch(f){}}}else{if(s&&"get"in s&&(a=s.get(e,false,r))!==t){return a}return l[n]}},css:function(e,n,i,r){var a,o,s,u=g.camelCase(n);n=g.cssProps[u]||(g.cssProps[u]=Yt(e.style,u));s=g.cssHooks[n]||g.cssHooks[u];if(s&&"get"in s){a=s.get(e,true,r)}if(a===t){a=Dt(e,n)}if(a==="normal"&&n in Vt){a=Vt[n]}if(i||r!==t){o=parseFloat(a);return i||g.isNumeric(o)?o||0:a}return a},swap:function(e,t,n){var i,r,a={};for(r in t){a[r]=e.style[r];e.style[r]=t[r]}i=n.call(e);for(r in t){e.style[r]=a[r]}return i}});if(e.getComputedStyle){Dt=function(t,n){var i,r,a,o,s=e.getComputedStyle(t,null),u=t.style;if(s){i=s[n];if(i===""&&!g.contains(t.ownerDocument,t)){i=g.style(t,n)}if(Rt.test(i)&&Pt.test(n)){r=u.width;a=u.minWidth;o=u.maxWidth;u.minWidth=u.maxWidth=u.width=i;i=s.width;u.width=r;u.minWidth=a;u.maxWidth=o}}return i}}else if(r.documentElement.currentStyle){Dt=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],a=e.style;if(r==null&&a&&a[t]){r=a[t]}if(Rt.test(r)&&!Ot.test(t)){n=a.left;i=e.runtimeStyle&&e.runtimeStyle.left;if(i){e.runtimeStyle.left=e.currentStyle.left}a.left=t==="fontSize"?"1em":r;r=a.pixelLeft+"px";a.left=n;if(i){e.runtimeStyle.left=i}}return r===""?"auto":r}}function Zt(e,t,n){var i=Ht.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function en(e,t,n,i){var r=n===(i?"border":"content")?4:t==="width"?1:0,a=0;for(;r<4;r+=2){if(n==="margin"){a+=g.css(e,n+Xt[r],true)}if(i){if(n==="content"){a-=parseFloat(Dt(e,"padding"+Xt[r]))||0}if(n!=="margin"){a-=parseFloat(Dt(e,"border"+Xt[r]+"Width"))||0}}else{a+=parseFloat(Dt(e,"padding"+Xt[r]))||0;if(n!=="padding"){a+=parseFloat(Dt(e,"border"+Xt[r]+"Width"))||0}}}return a}function tn(e,t,n){var i=t==="width"?e.offsetWidth:e.offsetHeight,r=true,a=g.support.boxSizing&&g.css(e,"boxSizing")==="border-box";if(i<=0||i==null){i=Dt(e,t);if(i<0||i==null){i=e.style[t]}if(Rt.test(i)){return i}r=a&&(g.support.boxSizingReliable||i===e.style[t]);i=parseFloat(i)||0}return i+en(e,t,n||(a?"border":"content"),r)+"px"}function nn(e){if(Wt[e]){return Wt[e]}var t=g("<"+e+">").appendTo(r.body),n=t.css("display");t.remove();if(n==="none"||n===""){Lt=r.body.appendChild(Lt||g.extend(r.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ft||!Lt.createElement){Ft=(Lt.contentWindow||Lt.contentDocument).document;Ft.write("<!doctype html><html><body>");Ft.close()}t=Ft.body.appendChild(Ft.createElement(e));n=Dt(t,"display");r.body.removeChild(Lt)}Wt[e]=n;return n}g.each(["height","width"],function(e,t){g.cssHooks[t]={get:function(e,n,i){if(n){if(e.offsetWidth===0&&It.test(Dt(e,"display"))){return g.swap(e,Ut,function(){return tn(e,t,i)})}else{return tn(e,t,i)}}},set:function(e,n,i){return Zt(e,n,i?en(e,t,i,g.support.boxSizing&&g.css(e,"boxSizing")==="border-box"):0)}}});if(!g.support.opacity){g.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=g.isNumeric(t)?"alpha(opacity="+t*100+")":"",a=i&&i.filter||n.filter||"";n.zoom=1;if(t>=1&&g.trim(a.replace(Mt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(i&&!i.filter){return}}n.filter=Mt.test(a)?a.replace(Mt,r):a+" "+r}}}g(function(){if(!g.support.reliableMarginRight){g.cssHooks.marginRight={get:function(e,t){return g.swap(e,{display:"inline-block"},function(){if(t){return Dt(e,"marginRight")}})}}}if(!g.support.pixelPosition&&g.fn.position){g.each(["top","left"],function(e,t){g.cssHooks[t]={get:function(e,n){if(n){var i=Dt(e,t);return Rt.test(i)?g(e).position()[t]+"px":i}}}})}});if(g.expr&&g.expr.filters){g.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!g.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"};g.expr.filters.visible=function(e){return!g.expr.filters.hidden(e)}}g.each({margin:"",padding:"",border:"Width"},function(e,t){g.cssHooks[e+t]={expand:function(n){var i,r=typeof n==="string"?n.split(" "):[n],a={};for(i=0;i<4;i++){a[e+Xt[i]+t]=r[i]||r[i-2]||r[0]}return a}};if(!Pt.test(e)){g.cssHooks[e+t].set=Zt}});var rn=/%20/g,an=/\[\]$/,on=/\r?\n/g,sn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,un=/^(?:select|textarea)/i;g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?g.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||un.test(this.nodeName)||sn.test(this.type))}).map(function(e,t){var n=g(this).val();return n==null?null:g.isArray(n)?g.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}});g.param=function(e,n){var i,r=[],a=function(e,t){t=g.isFunction(t)?t():t==null?"":t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t){n=g.ajaxSettings&&g.ajaxSettings.traditional}if(g.isArray(e)||e.jquery&&!g.isPlainObject(e)){g.each(e,function(){a(this.name,this.value)})}else{for(i in e){ln(i,e[i],n,a)}}return r.join("&").replace(rn,"+")};function ln(e,t,n,i){var r;if(g.isArray(t)){g.each(t,function(t,r){if(n||an.test(e)){i(e,r)}else{ln(e+"["+(typeof r==="object"?t:"")+"]",r,n,i)}})}else if(!n&&g.type(t)==="object"){for(r in t){ln(e+"["+r+"]",t[r],n,i)}}else{i(e,t)}}var fn,cn,pn=/#.*$/,dn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,hn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,gn=/^(?:GET|HEAD)$/,mn=/^\/\//,vn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,xn=g.fn.load,Tn={},Cn={},kn=["*/"]+["*"];try{fn=a.href}catch(_n){fn=r.createElement("a");fn.href="";fn=fn.href}cn=wn.exec(fn.toLowerCase())||[];function En(e){return function(t,n){if(typeof t!=="string"){n=t;t="*"}var i,r,a,o=t.toLowerCase().split(y),s=0,u=o.length;if(g.isFunction(n)){for(;s<u;s++){i=o[s];a=/^\+/.test(i);if(a){i=i.substr(1)||"*"}r=e[i]=e[i]||[];r[a?"unshift":"push"](n)}}}}function Sn(e,n,i,r,a,o){a=a||n.dataTypes[0];o=o||{};o[a]=true;var s,u=e[a],l=0,f=u?u.length:0,c=e===Tn;for(;l<f&&(c||!s);l++){s=u[l](n,i,r);if(typeof s==="string"){if(!c||o[s]){s=t}else{n.dataTypes.unshift(s);s=Sn(e,n,i,r,s,o)}}}if((c||!s)&&!o["*"]){s=Sn(e,n,i,r,"*",o)}return s}function Nn(e,n){var i,r,a=g.ajaxSettings.flatOptions||{};for(i in n){if(n[i]!==t){(a[i]?e:r||(r={}))[i]=n[i]}}if(r){g.extend(true,e,r)}}g.fn.load=function(e,n,i){if(typeof e!=="string"&&xn){return xn.apply(this,arguments)}if(!this.length){return this}var r,a,o,s=this,u=e.indexOf(" ");if(u>=0){r=e.slice(u,e.length);e=e.slice(0,u)}if(g.isFunction(n)){i=n;n=t}else if(n&&typeof n==="object"){a="POST"}g.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t){if(i){s.each(i,o||[e.responseText,t,e])}}}).done(function(e){o=arguments;s.html(r?g("<div>").append(e.replace(yn,"")).find(r):e)});return this};g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){g.fn[t]=function(e){return this.on(t,e)}});g.each(["get","post"],function(e,n){g[n]=function(e,i,r,a){if(g.isFunction(i)){a=a||r;r=i;i=t}return g.ajax({type:n,url:e,data:i,success:r,dataType:a})}});g.extend({getScript:function(e,n){return g.get(e,t,n,"script")},getJSON:function(e,t,n){return g.get(e,t,n,"json")},ajaxSetup:function(e,t){if(t){Nn(e,g.ajaxSettings)}else{t=e;e=g.ajaxSettings}Nn(e,t);return e},ajaxSettings:{url:fn,isLocal:hn.test(cn[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":kn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":true,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:En(Tn),ajaxTransport:En(Cn),ajax:function(e,n){if(typeof e==="object"){n=e;e=t}n=n||{};var i,r,a,o,s,u,l,f,c=g.ajaxSetup({},n),p=c.context||c,d=p!==c&&(p.nodeType||p instanceof g)?g(p):g.event,h=g.Deferred(),m=g.Callbacks("once memory"),v=c.statusCode||{},b={},w={},x=0,T="canceled",C={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=w[n]=w[n]||e;b[e]=t}return this},getAllResponseHeaders:function(){return x===2?r:null},getResponseHeader:function(e){var n;if(x===2){if(!a){a={};while(n=dn.exec(r)){a[n[1].toLowerCase()]=n[2]}}n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){if(!x){c.mimeType=e}return this},abort:function(e){e=e||T;if(o){o.abort(e)}k(0,e);return this}};function k(e,n,a,u){var f,y,b,w,T,k=n;if(x===2){return}x=2;if(s){clearTimeout(s)}o=t;r=u||"";C.readyState=e>0?4:0;if(a){w=jn(c,C,a)}if(e>=200&&e<300||e===304){if(c.ifModified){T=C.getResponseHeader("Last-Modified");if(T){g.lastModified[i]=T}T=C.getResponseHeader("Etag");if(T){g.etag[i]=T}}if(e===304){k="notmodified";f=true}else{f=An(c,w);k=f.state;y=f.data;b=f.error;f=!b}}else{b=k;if(!k||e){k="error";if(e<0){e=0}}}C.status=e;C.statusText=""+(n||k);if(f){h.resolveWith(p,[y,k,C])}else{h.rejectWith(p,[C,k,b])}C.statusCode(v);v=t;if(l){d.trigger("ajax"+(f?"Success":"Error"),[C,c,f?y:b])}m.fireWith(p,[C,k]);if(l){d.trigger("ajaxComplete",[C,c]);if(!--g.active){g.event.trigger("ajaxStop")}}}h.promise(C);C.success=C.done;C.error=C.fail;C.complete=m.add;C.statusCode=function(e){if(e){var t;if(x<2){for(t in e){v[t]=[v[t],e[t]]}}else{t=e[C.status];C.always(t)}}return this};c.url=((e||c.url)+"").replace(pn,"").replace(mn,cn[1]+"//");c.dataTypes=g.trim(c.dataType||"*").toLowerCase().split(y);if(c.crossDomain==null){u=wn.exec(c.url.toLowerCase());c.crossDomain=!!(u&&(u[1]!=cn[1]||u[2]!=cn[2]||(u[3]||(u[1]==="http:"?80:443))!=(cn[3]||(cn[1]==="http:"?80:443))))}if(c.data&&c.processData&&typeof c.data!=="string"){c.data=g.param(c.data,c.traditional)}Sn(Tn,c,n,C);if(x===2){return C}l=c.global;c.type=c.type.toUpperCase();c.hasContent=!gn.test(c.type);if(l&&g.active++===0){g.event.trigger("ajaxStart")}if(!c.hasContent){if(c.data){c.url+=(vn.test(c.url)?"&":"?")+c.data;delete c.data}i=c.url;if(c.cache===false){var _=g.now(),E=c.url.replace(bn,"$1_="+_);c.url=E+(E===c.url?(vn.test(c.url)?"&":"?")+"_="+_:"")}}if(c.data&&c.hasContent&&c.contentType!==false||n.contentType){C.setRequestHeader("Content-Type",c.contentType)}if(c.ifModified){i=i||c.url;if(g.lastModified[i]){C.setRequestHeader("If-Modified-Since",g.lastModified[i])}if(g.etag[i]){C.setRequestHeader("If-None-Match",g.etag[i])}}C.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+kn+"; q=0.01":""):c.accepts["*"]);for(f in c.headers){C.setRequestHeader(f,c.headers[f])}if(c.beforeSend&&(c.beforeSend.call(p,C,c)===false||x===2)){return C.abort()}T="abort";for(f in{success:1,error:1,complete:1}){C[f](c[f])}o=Sn(Cn,c,n,C);if(!o){k(-1,"No Transport")}else{C.readyState=1;if(l){d.trigger("ajaxSend",[C,c])}if(c.async&&c.timeout>0){s=setTimeout(function(){C.abort("timeout")},c.timeout)}try{x=1;o.send(b,k)}catch(S){if(x<2){k(-1,S)}else{throw S}}}return C},active:0,lastModified:{},etag:{}});function jn(e,n,i){var r,a,o,s,u=e.contents,l=e.dataTypes,f=e.responseFields;for(a in f){if(a in i){n[f[a]]=i[a]}}while(l[0]==="*"){l.shift();if(r===t){r=e.mimeType||n.getResponseHeader("content-type")}}if(r){for(a in u){if(u[a]&&u[a].test(r)){l.unshift(a);break}}}if(l[0]in i){o=l[0]}else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}if(!s){s=a}}o=o||s}if(o){if(o!==l[0]){l.unshift(o)}return i[o]}}function An(e,t){var n,i,r,a,o=e.dataTypes.slice(),s=o[0],u={},l=0;if(e.dataFilter){t=e.dataFilter(t,e.dataType)}if(o[1]){for(n in e.converters){u[n.toLowerCase()]=e.converters[n]}}for(;r=o[++l];){if(r!=="*"){if(s!=="*"&&s!==r){n=u[s+" "+r]||u["* "+r];if(!n){for(i in u){a=i.split(" ");if(a[1]===r){n=u[s+" "+a[0]]||u["* "+a[0]];if(n){if(n===true){n=u[i]}else if(u[i]!==true){r=a[0];o.splice(l--,0,r)}break}}}}if(n!==true){if(n&&e["throws"]){t=n(t)}else{try{t=n(t)}catch(f){return{state:"parsererror",error:n?f:"No conversion from "+s+" to "+r}}}}}s=r}}return{state:"success",data:t}}var $n=[],qn=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Ln=g.now();g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$n.pop()||g.expando+"_"+Ln++;this[e]=true;return e}});g.ajaxPrefilter("json jsonp",function(n,i,r){var a,o,s,u=n.data,l=n.url,f=n.jsonp!==false,c=f&&Dn.test(l),p=f&&!c&&typeof u==="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(u);if(n.dataTypes[0]==="jsonp"||c||p){a=n.jsonpCallback=g.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback;o=e[a];if(c){n.url=l.replace(Dn,"$1"+a)}else if(p){n.data=u.replace(Dn,"$1"+a)}else if(f){n.url+=(qn.test(l)?"&":"?")+n.jsonp+"="+a}n.converters["script json"]=function(){if(!s){g.error(a+" was not called")}return s[0]};n.dataTypes[0]="json";e[a]=function(){s=arguments};r.always(function(){e[a]=o;if(n[a]){n.jsonpCallback=i.jsonpCallback;$n.push(a)}if(s&&g.isFunction(o)){o(s[0])}s=o=t});return"script"}});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){g.globalEval(e);return e}}});g.ajaxPrefilter("script",function(e){if(e.cache===t){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});g.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=r.head||r.getElementsByTagName("head")[0]||r.documentElement;return{send:function(a,o){n=r.createElement("script");n.async="async";if(e.scriptCharset){n.charset=e.scriptCharset}n.src=e.url;n.onload=n.onreadystatechange=function(e,r){if(r||!n.readyState||/loaded|complete/.test(n.readyState)){n.onload=n.onreadystatechange=null;if(i&&n.parentNode){i.removeChild(n)}n=t;if(!r){o(200,"success")}}};i.insertBefore(n,i.firstChild)},abort:function(){if(n){n.onload(0,1)}}}}});var Fn,Mn=e.ActiveXObject?function(){for(var e in Fn){Fn[e](0,1)}}:false,zn=0;function On(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}g.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&On()||In()}:On;!function(e){g.extend(g.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(g.ajaxSettings.xhr());if(g.support.ajax){g.ajaxTransport(function(n){if(!n.crossDomain||g.support.cors){var i;return{send:function(r,a){var o,s,u=n.xhr();if(n.username){u.open(n.type,n.url,n.async,n.username,n.password)}else{u.open(n.type,n.url,n.async)}if(n.xhrFields){for(s in n.xhrFields){u[s]=n.xhrFields[s]}}if(n.mimeType&&u.overrideMimeType){u.overrideMimeType(n.mimeType)}if(!n.crossDomain&&!r["X-Requested-With"]){r["X-Requested-With"]="XMLHttpRequest"}try{for(s in r){u.setRequestHeader(s,r[s])}}catch(l){}u.send(n.hasContent&&n.data||null);i=function(e,r){var s,l,f,c,p;try{if(i&&(r||u.readyState===4)){i=t;if(o){u.onreadystatechange=g.noop;if(Mn){delete Fn[o]}}if(r){if(u.readyState!==4){u.abort()}}else{s=u.status;f=u.getAllResponseHeaders();c={};p=u.responseXML;if(p&&p.documentElement){c.xml=p}try{c.text=u.responseText}catch(e){}try{l=u.statusText}catch(d){l=""}if(!s&&n.isLocal&&!n.crossDomain){s=c.text?200:404}else if(s===1223){s=204}}}}catch(h){if(!r){a(-1,h)}}if(c){a(s,l,c,f)}};if(!n.async){i()}else if(u.readyState===4){setTimeout(i,0)}else{o=++zn;if(Mn){if(!Fn){Fn={};g(e).unload(Mn)}Fn[o]=i}u.onreadystatechange=i}},abort:function(){if(i){i(0,1)}}}}})}var Pn,Hn,Rn=/^(?:toggle|show|hide)$/,Bn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Un=[Gn],Vn={"*":[function(e,t){var n,i,r,a=this.createTween(e,t),o=Bn.exec(t),s=a.cur(),u=+s||0,l=1;if(o){n=+o[2];i=o[3]||(g.cssNumber[e]?"":"px");if(i!=="px"&&u){u=g.css(a.elem,e,true)||n||1;do{r=l=l||".5";u=u/l;g.style(a.elem,e,u+i);l=a.cur()/s}while(l!==1&&l!==r)}a.unit=i;a.start=u;a.end=o[1]?u+(o[1]+1)*n:n}return a}]};function Xn(){setTimeout(function(){Pn=t},0);return Pn=g.now()}function Jn(e,t){g.each(t,function(t,n){var i=(Vn[t]||[]).concat(Vn["*"]),r=0,a=i.length;for(;r<a;r++){if(i[r].call(e,t,n)){return}}})}function Qn(e,t,n){var i,r=0,a=0,o=Un.length,s=g.Deferred().always(function(){delete u.elem}),u=function(){var t=Pn||Xn(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),r=0,a=l.tweens.length;for(;r<a;r++){l.tweens[r].run(i)}s.notifyWith(e,[l,i,n]);if(i<1&&a){return n}else{s.resolveWith(e,[l]);return false}},l=s.promise({elem:e,props:g.extend({},t),opts:g.extend(true,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Pn||Xn(),duration:n.duration,tweens:[],createTween:function(t,n,i){var r=g.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);l.tweens.push(r);return r},stop:function(t){var n=0,i=t?l.tweens.length:0;for(;n<i;n++){l.tweens[n].run(1)}if(t){s.resolveWith(e,[l,t])}else{s.rejectWith(e,[l,t])}return this}}),f=l.props;Yn(f,l.opts.specialEasing);for(;r<o;r++){i=Un[r].call(l,e,f,l.opts);if(i){return i}}Jn(l,f);if(g.isFunction(l.opts.start)){l.opts.start.call(e,l)}g.fx.timer(g.extend(u,{anim:l,queue:l.opts.queue,elem:e}));return l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Yn(e,t){var n,i,r,a,o;for(n in e){i=g.camelCase(n);r=t[i];a=e[n];if(g.isArray(a)){r=a[1];a=e[n]=a[0]}if(n!==i){e[i]=a;delete e[n]}o=g.cssHooks[i];if(o&&"expand"in o){a=o.expand(a);delete e[i];for(n in a){if(!(n in e)){e[n]=a[n];t[n]=r}}}else{t[i]=r}}}g.Animation=g.extend(Qn,{tweener:function(e,t){if(g.isFunction(e)){t=e;e=["*"]}else{e=e.split(" ")}var n,i=0,r=e.length;for(;i<r;i++){n=e[i];Vn[n]=Vn[n]||[];Vn[n].unshift(t)}},prefilter:function(e,t){if(t){Un.unshift(e)}else{Un.push(e)}}});function Gn(e,t,n){var i,r,a,o,s,u,l,f,c=this,p=e.style,d={},h=[],m=e.nodeType&&Gt(e);if(!n.queue){l=g._queueHooks(e,"fx");if(l.unqueued==null){l.unqueued=0;f=l.empty.fire;l.empty.fire=function(){if(!l.unqueued){f()}}}l.unqueued++;c.always(function(){c.always(function(){l.unqueued--;if(!g.queue(e,"fx").length){l.empty.fire()}})})}if(e.nodeType===1&&("height"in t||"width"in t)){n.overflow=[p.overflow,p.overflowX,p.overflowY];if(g.css(e,"display")==="inline"&&g.css(e,"float")==="none"){if(!g.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"){p.display="inline-block"}else{p.zoom=1}}}if(n.overflow){p.overflow="hidden";if(!g.support.shrinkWrapBlocks){c.done(function(){p.overflow=n.overflow[0];p.overflowX=n.overflow[1];p.overflowY=n.overflow[2]})}}for(i in t){a=t[i];if(Rn.exec(a)){delete t[i];if(a===(m?"hide":"show")){continue}h.push(i)}}o=h.length;if(o){s=g._data(e,"fxshow")||g._data(e,"fxshow",{});if(m){g(e).show()}else{c.done(function(){g(e).hide()})}c.done(function(){var t;g.removeData(e,"fxshow",true);for(t in d){g.style(e,t,d[t])}});for(i=0;i<o;i++){r=h[i];u=c.createTween(r,m?s[r]:0);d[r]=s[r]||g.style(e,r);if(!(r in s)){s[r]=u.start;if(m){u.end=u.start;u.start=r==="width"||r==="height"?1:0}}}}}function Kn(e,t,n,i,r){return new Kn.prototype.init(e,t,n,i,r)}g.Tween=Kn;Kn.prototype={constructor:Kn,init:function(e,t,n,i,r,a){this.elem=e;this.prop=n;this.easing=r||"swing";this.options=t;this.start=this.now=this.cur();this.end=i;this.unit=a||(g.cssNumber[n]?"":"px")},cur:function(){var e=Kn.propHooks[this.prop];return e&&e.get?e.get(this):Kn.propHooks._default.get(this)},run:function(e){var t,n=Kn.propHooks[this.prop];if(this.options.duration){this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(n&&n.set){n.set(this)}else{Kn.propHooks._default.set(this)}return this}};Kn.prototype.init.prototype=Kn.prototype;Kn.propHooks={_default:{get:function(e){var t;if(e.elem[e.prop]!=null&&(!e.elem.style||e.elem.style[e.prop]==null)){return e.elem[e.prop]}t=g.css(e.elem,e.prop,false,"");return!t||t==="auto"?0:t},set:function(e){if(g.fx.step[e.prop]){g.fx.step[e.prop](e)}else if(e.elem.style&&(e.elem.style[g.cssProps[e.prop]]!=null||g.cssHooks[e.prop])){g.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};Kn.propHooks.scrollTop=Kn.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};g.each(["toggle","show","hide"],function(e,t){var n=g.fn[t];g.fn[t]=function(i,r,a){return i==null||typeof i==="boolean"||!e&&g.isFunction(i)&&g.isFunction(r)?n.apply(this,arguments):this.animate(Zn(t,true),i,r,a)}});g.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=g.isEmptyObject(e),a=g.speed(t,n,i),o=function(){var t=Qn(this,g.extend({},e),a);if(r){t.stop(true)}};return r||a.queue===false?this.each(o):this.queue(a.queue,o)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop;t(i)};if(typeof e!=="string"){i=n;n=e;e=t}if(n&&e!==false){this.queue(e||"fx",[])}return this.each(function(){var t=true,n=e!=null&&e+"queueHooks",a=g.timers,o=g._data(this);if(n){if(o[n]&&o[n].stop){r(o[n])}}else{for(n in o){if(o[n]&&o[n].stop&&Wn.test(n)){r(o[n])}}}for(n=a.length;n--;){if(a[n].elem===this&&(e==null||a[n].queue===e)){a[n].anim.stop(i);t=false;a.splice(n,1)}}if(t||!i){g.dequeue(this,e)}})}});function Zn(e,t){var n,i={height:e},r=0;t=t?1:0;for(;r<4;r+=2-t){n=Xt[r];i["margin"+n]=i["padding"+n]=e}if(t){i.opacity=i.width=e}return i}g.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){g.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}});g.speed=function(e,t,n){var i=e&&typeof e==="object"?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};i.duration=g.fx.off?0:typeof i.duration==="number"?i.duration:i.duration in g.fx.speeds?g.fx.speeds[i.duration]:g.fx.speeds._default;if(i.queue==null||i.queue===true){i.queue="fx"}i.old=i.complete;i.complete=function(){if(g.isFunction(i.old)){i.old.call(this)}if(i.queue){g.dequeue(this,i.queue)}};return i};g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}};g.timers=[];g.fx=Kn.prototype.init;g.fx.tick=function(){var e,t=g.timers,n=0;for(;n<t.length;n++){e=t[n];if(!e()&&t[n]===e){t.splice(n--,1)}}if(!t.length){g.fx.stop()}};g.fx.timer=function(e){if(e()&&g.timers.push(e)&&!Hn){Hn=setInterval(g.fx.tick,g.fx.interval)}};g.fx.interval=13;g.fx.stop=function(){clearInterval(Hn);Hn=null};g.fx.speeds={slow:600,fast:200,_default:400};g.fx.step={};if(g.expr&&g.expr.filters){g.expr.filters.animated=function(e){return g.grep(g.timers,function(t){return e===t.elem}).length}}var ei=/^(?:body|html)$/i;g.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){g.offset.setOffset(this,e,t)})}var n,i,r,a,o,s,u,l,f,c,p=this[0],d=p&&p.ownerDocument;if(!d){return}if((r=d.body)===p){return g.offset.bodyOffset(p)}i=d.documentElement;if(!g.contains(i,p)){return{top:0,left:0}}n=p.getBoundingClientRect();a=ti(d);o=i.clientTop||r.clientTop||0;s=i.clientLeft||r.clientLeft||0;u=a.pageYOffset||i.scrollTop;l=a.pageXOffset||i.scrollLeft;f=n.top+u-o;c=n.left+l-s;return{top:f,left:c}};g.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;if(g.support.doesNotIncludeMarginInBodyOffset){t+=parseFloat(g.css(e,"marginTop"))||0;n+=parseFloat(g.css(e,"marginLeft"))||0}return{top:t,left:n}},setOffset:function(e,t,n){var i=g.css(e,"position");if(i==="static"){e.style.position="relative"}var r=g(e),a=r.offset(),o=g.css(e,"top"),s=g.css(e,"left"),u=(i==="absolute"||i==="fixed")&&g.inArray("auto",[o,s])>-1,l={},f={},c,p;if(u){f=r.position();c=f.top;p=f.left}else{c=parseFloat(o)||0;p=parseFloat(s)||0}if(g.isFunction(t)){t=t.call(e,n,a)}if(t.top!=null){l.top=t.top-a.top+c}if(t.left!=null){l.left=t.left-a.left+p}if("using"in t){t.using.call(e,l)}else{r.css(l)}}};g.fn.extend({position:function(){if(!this[0]){return}var e=this[0],t=this.offsetParent(),n=this.offset(),i=ei.test(t[0].nodeName)?{top:0,left:0}:t.offset();n.top-=parseFloat(g.css(e,"marginTop"))||0;n.left-=parseFloat(g.css(e,"marginLeft"))||0;i.top+=parseFloat(g.css(t[0],"borderTopWidth"))||0;i.left+=parseFloat(g.css(t[0],"borderLeftWidth"))||0;return{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||r.body;while(e&&!ei.test(e.nodeName)&&g.css(e,"position")==="static"){e=e.offsetParent}return e||r.body})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);g.fn[e]=function(r){return g.access(this,function(e,r,a){var o=ti(e);if(a===t){return o?n in o?o[n]:o.document.documentElement[r]:e[r]}if(o){o.scrollTo(!i?a:g(o).scrollLeft(),i?a:g(o).scrollTop())}else{e[r]=a}},e,r,arguments.length,null)}});function ti(e){return g.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}g.each({Height:"height",Width:"width"},function(e,n){g.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){g.fn[r]=function(r,a){var o=arguments.length&&(i||typeof r!=="boolean"),s=i||(r===true||a===true?"margin":"border");return g.access(this,function(n,i,r){var a;if(g.isWindow(n)){return n.document.documentElement["client"+e]}if(n.nodeType===9){a=n.documentElement;return Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])}return r===t?g.css(n,i,r,s):g.style(n,i,r,s)},n,o?r:t,o,null)
}})});e.jQuery=e.$=g;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return g})}return g}(window)});
},{}],55:[function(require,module,exports){
!function(){var e=require("../base"),t=e.extend({template:require("../../templates/layout/footer.hbs"),initialize:function(e){this.app=e.app;this.listenTo(this.app.getUser(),"change",this.render,this);this.renderOnReady(this.app.getUser())},context:function(){return this.getContext({copyrightYear:(new Date).getFullYear()})}});module.exports=t}();
},{"../../templates/layout/footer.hbs":78,"../base":56}],47:[function(require,module,exports){
!function(){var e=function(){function e(e){if(window.console){console.log(e)}}var t,n=["videojs","vjs","_V_"],i=[],r={},a=function(e,t){return hasOwnProperty.call(e,t)},o=function(e,t,n){if(e==null)return;if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach){e.forEach(t,n)}else if(e.length===+e.length){for(var i=0,o=e.length;i<o;i++){if(t.call(n,e[i],i,e)===r)return}}else{for(var s in e){if(a(e,s)){if(t.call(n,e[s],s,e)===r)return}}}},s=function(e){o(Array.prototype.slice.call(arguments,1),function(t){if(t){for(var n in t){e[n]=t[n]}}});return e};o(n,function(e){if(window[e]!==undefined){t=window[e];return false}});try{t=require("videojs")}catch(u){}this.resizeVideos=function(e){if(e){e.preventDefault();e.stopPropagation()}o(i,function(e){var n=document.getElementById(e.id);if(!n||!n.parentNode||!n.parentNode.parentNode){return false}var i=t(e.id),r,a,o=n.parentNode.parentNode;if(n&&n.id.match(/^.*html5_api/)==null&&n.parentNode){if(e.maxWidth&&e.maxWidth<o.offsetWidth){r=e.maxWidth}else{r=o.offsetWidth}if(!e.upscale&&r>e.width){r=e.width}a=e.height*(r/e.width);i.width(r);i.height(a);n.style.width=r+"px";n.style.height=a+"px";n.parentNode.style.width=r+"px";n.parentNode.style.height=a+"px"}})};this.loadVideo=function(e,n,r){var a=this,u,l,f,c,p,d,h=false,g,m={},v,y=false;n.sources=n.sources||[];n.attributes=n.attributes||{};f={id:"js_thumb_video","class":"video-js vjs-default-skin",controls:"controls",preload:"auto",resize:false,center:false,width:960,height:540,timeout:5e3};if(!t){r("Please include Video.js to use this function");return}if(!n.sources.length){r("Videos require at least one source");return}n.sources=s([],n.sources);n.attributes=s({},f,n.attributes);n.vjs=n.vjs||{};o(t.players,function(e,t){if(t===n.attributes.id){e.dispose();return false}});videoDims={};u=document.createElement("video");o(n.attributes,function(e,t){u.setAttribute(t,e)});o(n.sources,function(e){var t=document.createElement("source");t.setAttribute("src",e.src);t.setAttribute("type",e.type);u.appendChild(t)});l=document.createElement("div");l.appendChild(u);if(n.attributes.center){l.style.margin="0 auto"}e.appendChild(l);t(u,n.vjs,function(){o(l.childNodes,function(e){if(e.attributes&&e.attributes.id&&e.attributes.id.value===n.attributes.id){element=e;return false}});o(element.childNodes,function(e){if(e.tagName.toLowerCase()==="object"){h=true;return false}});onReady=function(e,t){if(!y){y=true;clearTimeout(v);if(e){m.width=e.target.videoWidth;m.height=e.target.videoHeight;a.resizeVideos()}r(null,element,this,t===undefined)}};if(n.attributes.resize){m={id:element.attributes.id.value,parent:e,width:this.width(),height:this.height(),upscale:n.attributes.resize.upscale===true};if(typeof n.attributes.resize==="object"){m.maxWidth=n.attributes.resize.maxWidth}i.push(m)}a.resizeVideos();if(h){onReady(null,true)}else{v=setTimeout(function(){onReady(null,true)},n.attributes.timeout);t(n.attributes.id).on("loadedmetadata",onReady)}})};this.screenshot=function(t,n){var i,r=document.createElement("canvas");n=n||{};var a=n.origWidth||t.videoWidth;var o=n.origHeight||t.videoHeight;if(!a||!o){e("Video has invalid dimensions or metadata has not yet loaded.");return false}r.width=a;r.height=o;i=r.getContext("2d");i.drawImage(t,0,0,a,o);return r.toDataURL("image/png")};this.resize=function(e,t){var n=t.maxWidth||50,i=t.maxHeight||50,r=document.createElement("canvas"),a=document.createElement("canvas"),o=r.getContext("2d"),s=a.getContext("2d"),u=e.width||t.origWidth,l=e.height||t.origHeight,f,c,p=t.maxWidth/u,d=l*p,h=t.maxHeight/l,g=u*h;a.width=u;a.height=l;s.drawImage(e,0,0);r.width=n;r.height=i;if(d<i){f=(n-a.width*h)/2;o.drawImage(a,0,0,a.width,a.height,f,0,a.width*h,a.height*h)}else{c=(i-a.height*p)/2;o.drawImage(a,0,0,a.width,a.height,0,c,a.width*p,a.height*p)}return r.toDataURL()};this.resizeData=function(e,t,n){t=t||{};var i=this,r=new Image;r.onload=function(){n(null,i.resize(r,t))};r.src=e}};var t=new e;if(typeof window!="undefined"&&typeof module=="undefined"){window.jsthumb=t;window.onresize=t.resizeVideos}else{module.exports=t}}();
},{"videojs":79}],61:[function(require,module,exports){
!function(){var e=require("../../base"),t=require("../../../helpers/lib/holder.js"),n=e.extend({template:require("../../../templates/routes/media/grid.hbs"),initialize:function(e){this.app=e.app;var t=this.app.db.fetchCollection("unprocessedUploads");this.fetchPage(e.pageName,function(){this.media=this.page.getMedia();this.media.fetch();this.listenTo(this.media,"ready change add remove sort",this.render,this);this.listenTo(t,"add change remove reset sync",function(){this.media.fetch()},this);this.render()})},context:function(){var e=[];var t=encodeURIComponent(this.page.attributes.name);if(this.media){this.media.forEach(function(n){e.push(n.templateVars(t))})}return this.getContext({media:e,page:this.page.attributes})},afterRender:function(){t.run()}});module.exports=n}();
},{"../../../helpers/lib/holder.js":63,"../../../templates/routes/media/grid.hbs":80,"../../base":56}],81:[function(require,module,exports){
!function(){var e=require("../../base"),t=e.extend({template:require("../../../templates/routes/media/thumb.hbs"),initialize:function(e){this.app=e.app;this.media=this.app.db.fetchModel(e.mediaType,e.mediaId);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.app,"iframeResize",this.resizeIframe,this);this.listenTo(this.app,"thumbnailCaptured",this.saveThumbnail,this);this.listenTo(this.app,"captureThumbnail",this.captureThumbnail,this);this.renderOnReady(this.media)},context:function(){var e=this.media.templateVars(),t={media:{sources:[],attributes:{id:"media_"+this.app.util.uuid(10),resize:{upscale:false},width:this.media.attributes.width||960,height:this.media.attributes.height||540}},dimensions:this.app.config.thumbnailDims,domain:document.domain+(window.location.port===80?"":":"+window.location.port)};if(this.media.attributes.type.toLowerCase()==="video"){t.media.sources=[{src:e.hdUrl,type:this.app.util.mime("video/mp4")}]}else{t.media.sources=[{src:e.url,type:this.app.util.mime(e.mimeType)}]}return this.getContext({media:e,thumberUrl:e.s3key?this.app.config.thumberUrl+"#"+encodeURIComponent(JSON.stringify(t)):null})},afterRender:function(){this.app.messenger.targetFrame=this.$el.find("iframe")[0]},resizeIframe:function(e){this.$el.find("iframe").attr("height",parseInt(e)+60)},saveThumbnail:function(e){this.app.setFlash("info","Please Wait, Saving Image...")},captureThumbnail:function(e,t,n){var i=this;i.app.messenger.send("capture",[t],function(r,a){if(r===t){var o=i.app.db.fetchModel(e,t);o.once("ready",function(){o.set(n);o.useThumbnail(a.substring(a.indexOf(",")+1))})}})}});module.exports=t}();
},{"../../../templates/routes/media/thumb.hbs":82,"../../base":56}],83:[function(require,module,exports){
!function(){var e=require("../../base"),t=require("../../../helpers/BackboneLoader.js"),n=require("../../../helpers/lib/holder.js"),i=e.extend({template:require("../../../templates/routes/media/carousel.hbs"),events:{"click a.bigClose":"exitPlayer","click a.reelToggle":"toggleReel","click a.app":"handleAppLink","click a.goLeft":"handleLeftButton","click a.goRight":"handleRightButton"},reelOpen:null,initialize:function(e){this.app=e.app;this.listenTo(this.app,"videoEnded",this.advance,this);this.fetchPage(e.pageName,function(){this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)})},context:function(){var e=[];var t=encodeURIComponent(this.page.attributes.name);if(this.media){this.media.forEach(function(n){e.push(n.templateVars(t,true))})}return this.getContext({media:e,page:this.page.attributes})},afterRender:function(){var e=this.currentMedia();this.$(".carousel").elastislide();if(this.reelOpen===null){this.toggleReel(null,false,0)}n.run();if(e){if(this.advance(e,true)){this.$("a.goRight").removeClass("hidden")}if(this.reverse(e,true)){this.$("a.goLeft").removeClass("hidden")}}},advance:function(e,t,n){var i=this,r=false,a=null,o,s=encodeURIComponent(i.page.attributes.name),u,l,f,c=this.page.getMedia();if(n==null){n=1e3}if(this.page&&c){for(u=0,l=c.models.length;u<l;u++){f=c.models[u];if(e.id===f.id){r=true;continue}if(r){a=f;break}}if(a){o=a.templateVars(s).playerUrl;if(t){return true}else{setTimeout(function(){i.app.navigate(o,{trigger:true})},n)}}}return false},reverse:function(e,t,n){var i=this,r=false,a=null,o,s=encodeURIComponent(i.page.attributes.name),u,l,f,c=this.page.getMedia();if(n==null){n=1e3}if(this.page&&c){for(u=c.models.length-1,l=0;u>=l;u--){f=c.models[u];if(e.id===f.id){r=true;continue}if(r){a=f;break}}if(a){o=a.templateVars(s).playerUrl;if(t){return true}else{setTimeout(function(){i.app.navigate(o,{trigger:true})},n)}}}return false},handleLeftButton:function(e){if(e){e.preventDefault();e.stopPropagation()}this.reverse(this.currentMedia(),false,0)},handleRightButton:function(e){if(e){e.preventDefault();e.stopPropagation()}this.advance(this.currentMedia(),false,0)},currentMedia:function(){if(!this.media){return false}return this.media.findWhere({id:t.history.fragment.split("/").pop()})},toggleReel:function(e,t,n){var i=this;if(n==null){n=400}if(e){e.preventDefault();e.stopPropagation()}if(t!==false){i.reelOpen=!i.reelOpen}if(i.reelOpen){i.$(".sliderWrap").slideDown(n);i.$(".symbol").html("&and;")}else{i.$(".sliderWrap").slideUp(n);i.$(".symbol").html("&or;")}},exitPlayer:function(e){e.preventDefault();e.stopPropagation();this.app.navigate("page/"+this.page.attributes.name,{trigger:true})}});module.exports=i}();
},{"../../../helpers/BackboneLoader.js":43,"../../../helpers/lib/holder.js":63,"../../../templates/routes/media/carousel.hbs":84,"../../base":56}],79:[function(require,module,exports){
!function(){document.createElement("video");document.createElement("audio");var vjs=function(e,t,n){var i;if(typeof e==="string"){if(e.indexOf("#")===0){e=e.slice(1)}if(vjs.players[e]){return vjs.players[e]}else{i=vjs.el(e)}}else{i=e}if(!i||!i.nodeName){throw new TypeError("The element or ID supplied is not valid. (videojs)")}return i["player"]||new vjs.Player(i,t,n)};var videojs=vjs;vjs.CDN_VERSION="4.0";vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://";vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};if(vjs.CDN_VERSION!=="GENERATED"+"_CDN_VSN"){videojs.options["flash"]["swf"]=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"}vjs.players={};vjs.CoreObject=vjs["CoreObject"]=function(){};vjs.CoreObject.extend=function(e){var t,n;e=e||{};t=e["init"]||e.init||this.prototype["init"]||this.prototype.init||function(){};n=function(){t.apply(this,arguments)};n.prototype=vjs.obj.create(this.prototype);n.prototype.constructor=n;n.extend=vjs.CoreObject.extend;n.create=vjs.CoreObject.create;for(var i in e){if(e.hasOwnProperty(i)){n.prototype[i]=e[i]}}return n};vjs.CoreObject.create=function(){var e=vjs.obj.create(this.prototype);this.apply(e,arguments);return e};vjs.on=function(e,t,n){var i=vjs.getData(e);if(!i.handlers)i.handlers={};if(!i.handlers[t])i.handlers[t]=[];if(!n.guid)n.guid=vjs.guid++;i.handlers[t].push(n);if(!i.dispatcher){i.disabled=false;i.dispatcher=function(t){if(i.disabled)return;t=vjs.fixEvent(t);var n=i.handlers[t.type];if(n){var r=n.slice(0);for(var s=0,o=r.length;s<o;s++){if(t.isImmediatePropagationStopped()){break}else{r[s].call(e,t)}}}}}if(i.handlers[t].length==1){if(document.addEventListener){e.addEventListener(t,i.dispatcher,false)}else if(document.attachEvent){e.attachEvent("on"+t,i.dispatcher)}}};vjs.off=function(e,t,n){if(!vjs.hasData(e))return;var i=vjs.getData(e);if(!i.handlers){return}var r=function(t){i.handlers[t]=[];vjs.cleanUpEvents(e,t)};if(!t){for(var s in i.handlers)r(s);return}var o=i.handlers[t];if(!o)return;if(!n){r(t);return}if(n.guid){for(var a=0;a<o.length;a++){if(o[a].guid===n.guid){o.splice(a--,1)}}}vjs.cleanUpEvents(e,t)};vjs.cleanUpEvents=function(e,t){var n=vjs.getData(e);if(n.handlers[t].length===0){delete n.handlers[t];if(document.removeEventListener){e.removeEventListener(t,n.dispatcher,false)}else if(document.detachEvent){e.detachEvent("on"+t,n.dispatcher)}}if(vjs.isEmpty(n.handlers)){delete n.handlers;delete n.dispatcher;delete n.disabled}if(vjs.isEmpty(n)){vjs.removeData(e)}};vjs.fixEvent=function(e){function t(){return true}function n(){return false}if(!e||!e.isPropagationStopped){var i=e||window.event;e={};for(var r in i){if(r!=="layerX"&&r!=="layerY"){e[r]=i[r]}}if(!e.target){e.target=e.srcElement||document}e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement;e.preventDefault=function(){if(i.preventDefault){i.preventDefault()}e.returnValue=false;e.isDefaultPrevented=t};e.isDefaultPrevented=n;e.stopPropagation=function(){if(i.stopPropagation){i.stopPropagation()}e.cancelBubble=true;e.isPropagationStopped=t};e.isPropagationStopped=n;e.stopImmediatePropagation=function(){if(i.stopImmediatePropagation){i.stopImmediatePropagation()}e.isImmediatePropagationStopped=t;e.stopPropagation()};e.isImmediatePropagationStopped=n;if(e.clientX!=null){var s=document.documentElement,o=document.body;e.pageX=e.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0);e.pageY=e.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode;if(e.button!=null){e.button=e.button&1?0:e.button&4?1:e.button&2?2:0}}return e};vjs.trigger=function(e,t){var n=vjs.hasData(e)?vjs.getData(e):{};var i=e.parentNode||e.ownerDocument;if(typeof t==="string"){t={type:t,target:e}}t=vjs.fixEvent(t);if(n.dispatcher){n.dispatcher.call(e,t)}if(i&&!t.isPropagationStopped()){vjs.trigger(i,t)}else if(!i&&!t.isDefaultPrevented()){var r=vjs.getData(t.target);if(t.target[t.type]){r.disabled=true;if(typeof t.target[t.type]==="function"){t.target[t.type]()}r.disabled=false}}return!t.isDefaultPrevented()};vjs.one=function(e,t,n){vjs.on(e,t,function(){vjs.off(e,t,arguments.callee);n.apply(this,arguments)})};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(e,t){var n=document.createElement(e||"div");for(var i in t){if(hasOwnProp.call(t,i)){if(i.indexOf("aria-")!==-1||i=="role"){n.setAttribute(i,t[i])}else{n[i]=t[i]}}}return n};vjs.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};vjs.obj={};vjs.obj.create=Object.create||function(e){function t(){}t.prototype=e;return new t};vjs.obj.each=function(e,t,n){for(var i in e){if(hasOwnProp.call(e,i)){t.call(n||this,i,e[i])}}};vjs.obj.merge=function(e,t){if(!t){return e}for(var n in t){if(hasOwnProp.call(t,n)){e[n]=t[n]}}return e};vjs.obj.deepMerge=function(e,t){var n,i,r,s;s="[object Object]";e=vjs.obj.copy(e);for(n in t){if(hasOwnProp.call(t,n)){i=e[n];r=t[n];if(vjs.obj.isPlain(i)&&vjs.obj.isPlain(r)){e[n]=vjs.obj.deepMerge(i,r)}else{e[n]=t[n]}}}return e};vjs.obj.copy=function(e){return vjs.obj.merge({},e)};vjs.obj.isPlain=function(e){return!!e&&typeof e==="object"&&e.toString()==="[object Object]"&&e.constructor===Object};vjs.bind=function(e,t,n){if(!t.guid){t.guid=vjs.guid++}var i=function(){return t.apply(e,arguments)};i.guid=n?n+"_"+t.guid:t.guid;return i};vjs.cache={};vjs.guid=1;vjs.expando="vdata"+(new Date).getTime();vjs.getData=function(e){var t=e[vjs.expando];if(!t){t=e[vjs.expando]=vjs.guid++;vjs.cache[t]={}}return vjs.cache[t]};vjs.hasData=function(e){var t=e[vjs.expando];return!(!t||vjs.isEmpty(vjs.cache[t]))};vjs.removeData=function(e){var t=e[vjs.expando];if(!t){return}delete vjs.cache[t];try{delete e[vjs.expando]}catch(n){if(e.removeAttribute){e.removeAttribute(vjs.expando)}else{e[vjs.expando]=null}}};vjs.isEmpty=function(e){for(var t in e){if(e[t]!==null){return false}}return true};vjs.addClass=function(e,t){if((" "+e.className+" ").indexOf(" "+t+" ")==-1){e.className=e.className===""?t:e.className+" "+t}};vjs.removeClass=function(e,t){if(e.className.indexOf(t)==-1){return}var n=e.className.split(" ");for(var i=n.length-1;i>=0;i--){if(n[i]===t){n.splice(i,1)}}e.className=n.join(" ")};vjs.TEST_VID=vjs.createEl("video");vjs.USER_AGENT=navigator.userAgent;vjs.IS_IPHONE=!!vjs.USER_AGENT.match(/iPhone/i);vjs.IS_IPAD=!!vjs.USER_AGENT.match(/iPad/i);vjs.IS_IPOD=!!vjs.USER_AGENT.match(/iPod/i);vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD;vjs.IOS_VERSION=function(){var e=vjs.USER_AGENT.match(/OS (\d+)_/i);if(e&&e[1]){return e[1]}}();vjs.IS_ANDROID=!!vjs.USER_AGENT.match(/Android.*AppleWebKit/i);vjs.ANDROID_VERSION=function(){var e=vjs.USER_AGENT.match(/Android (\d+)\./i);if(e&&e[1]){return e[1]}return null}();vjs.IS_FIREFOX=function(){return!!vjs.USER_AGENT.match("Firefox")};vjs.getAttributeValues=function(e){var t={};var n=","+"autoplay,controls,loop,muted,default"+",";if(e&&e.attributes&&e.attributes.length>0){var i=e.attributes;var r,s;for(var o=i.length-1;o>=0;o--){r=i[o].name;s=i[o].value;if(typeof e[r]==="boolean"||n.indexOf(","+r+",")!==-1){s=s!==null?true:false}t[r]=s}}return t};vjs.getComputedDimension=function(e,t){var n="";if(document.defaultView&&document.defaultView.getComputedStyle){n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t)}else if(e.currentStyle){n=e["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"}return n};vjs.insertFirst=function(e,t){if(t.firstChild){t.insertBefore(e,t.firstChild)}else{t.appendChild(e)}};vjs.support={};vjs.el=function(e){if(e.indexOf("#")===0){e=e.slice(1)}return document.getElementById(e)};vjs.formatTime=function(e,t){t=t||e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),s=Math.floor(t/60%60),o=Math.floor(t/3600);r=r>0||o>0?r+":":"";i=((r||s>=10)&&i<10?"0"+i:i)+":";n=n<10?"0"+n:n;return r+i+n};vjs.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return false}};vjs.unblockTextSelection=function(){document.onselectstart=function(){return true}};vjs.trim=function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")};vjs.round=function(e,t){if(!t){t=0}return Math.round(e*Math.pow(10,t))/Math.pow(10,t)};vjs.createTimeRange=function(e,t){return{length:1,start:function(){return e},end:function(){return t}}};vjs.get=function(e,t,n){var i=e.indexOf("file:")===0||window.location.href.indexOf("file:")===0&&e.indexOf("http")===-1;if(typeof XMLHttpRequest==="undefined"){window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")}}var r=new XMLHttpRequest;try{r.open("GET",e)}catch(s){n(s)}r.onreadystatechange=function(){if(r.readyState===4){if(r.status===200||i&&r.status===0){t(r.responseText)}else{if(n){n()}}}};try{r.send()}catch(s){if(n){n(s)}}};vjs.setLocalStorage=function(e,t){try{var n=window.localStorage||false;if(!n){return}n[e]=t}catch(i){if(i.code==22||i.code==1014){vjs.log("LocalStorage Full (VideoJS)",i)}else{if(i.code==18){vjs.log("LocalStorage not allowed (VideoJS)",i)}else{vjs.log("LocalStorage Error (VideoJS)",i)}}}};vjs.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){e=vjs.createEl("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href}return e};vjs.log=function(){vjs.log.history=vjs.log.history||[];vjs.log.history.push(arguments);if(window.console){window.console.log(Array.prototype.slice.call(arguments))}};vjs.findPosition=function(e){var t,n,i,r,s,o,a,l,u;if(e.getBoundingClientRect&&e.parentNode){t=e.getBoundingClientRect()}if(!t){return{left:0,top:0}}n=document.documentElement;i=document.body;r=n.clientLeft||i.clientLeft||0;s=window.pageXOffset||i.scrollLeft;o=t.left+s-r;a=n.clientTop||i.clientTop||0;l=window.pageYOffset||i.scrollTop;u=t.top+l-a;return{left:o,top:u}};vjs.Component=vjs.CoreObject.extend({init:function(e,t,n){this.player_=e;this.options_=vjs.obj.copy(this.options_);t=this.options(t);this.id_=t["id"]||(t["el"]&&t["el"]["id"]?t["el"]["id"]:e.id()+"_component_"+vjs.guid++);this.name_=t["name"]||null;this.el_=t["el"]||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(n)}});vjs.Component.prototype.dispose=function(){if(this.children_){for(var e=this.children_.length-1;e>=0;e--){if(this.children_[e].dispose){this.children_[e].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_)}vjs.removeData(this.el_);this.el_=null};vjs.Component.prototype.player_;vjs.Component.prototype.player=function(){return this.player_};vjs.Component.prototype.options_;vjs.Component.prototype.options=function(e){if(e===undefined)return this.options_;return this.options_=vjs.obj.deepMerge(this.options_,e)};vjs.Component.prototype.el_;vjs.Component.prototype.createEl=function(e,t){return vjs.createEl(e,t)};vjs.Component.prototype.el=function(){return this.el_};vjs.Component.prototype.contentEl_;vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};vjs.Component.prototype.id_;vjs.Component.prototype.id=function(){return this.id_};vjs.Component.prototype.name_;vjs.Component.prototype.name=function(){return this.name_};vjs.Component.prototype.children_;vjs.Component.prototype.children=function(){return this.children_};vjs.Component.prototype.childIndex_;vjs.Component.prototype.getChildById=function(e){return this.childIndex_[e]};vjs.Component.prototype.childNameIndex_;vjs.Component.prototype.getChild=function(e){return this.childNameIndex_[e]};vjs.Component.prototype.addChild=function(e,t){var n,i,r,s;if(typeof e==="string"){r=e;t=t||{};i=t["componentClass"]||vjs.capitalize(r);t["name"]=r;n=new vjs[i](this.player_||this,t)}else{n=e}this.children_.push(n);if(typeof n.id==="function"){this.childIndex_[n.id()]=n}r=r||n.name&&n.name();if(r){this.childNameIndex_[r]=n}if(typeof n["el"]==="function"&&n["el"]()){this.contentEl().appendChild(n["el"]())}return n};vjs.Component.prototype.removeChild=function(e){if(typeof e==="string"){e=this.getChild(e)}if(!e||!this.children_)return;var t=false;for(var n=this.children_.length-1;n>=0;n--){if(this.children_[n]===e){t=true;this.children_.splice(n,1);break}}if(!t)return;this.childIndex_[e.id]=null;this.childNameIndex_[e.name]=null;var i=e.el();if(i&&i.parentNode===this.contentEl()){this.contentEl().removeChild(e.el())}};vjs.Component.prototype.initChildren=function(){var e=this.options_;if(e&&e["children"]){var t=this;vjs.obj.each(e["children"],function(e,n){if(n===false)return;var i=function(){t[e]=t.addChild(e,n)};if(n["loadEvent"]){}else{i()}})}};vjs.Component.prototype.buildCSSClass=function(){return""};vjs.Component.prototype.on=function(e,t){vjs.on(this.el_,e,vjs.bind(this,t));return this};vjs.Component.prototype.off=function(e,t){vjs.off(this.el_,e,t);return this};vjs.Component.prototype.one=function(e,t){vjs.one(this.el_,e,vjs.bind(this,t));return this};vjs.Component.prototype.trigger=function(e,t){vjs.trigger(this.el_,e,t);return this};vjs.Component.prototype.isReady_;vjs.Component.prototype.isReadyOnInitFinish_=true;vjs.Component.prototype.readyQueue_;vjs.Component.prototype.ready=function(e){if(e){if(this.isReady_){e.call(this)}else{if(this.readyQueue_===undefined){this.readyQueue_=[]}this.readyQueue_.push(e)}}return this};vjs.Component.prototype.triggerReady=function(){this.isReady_=true;var e=this.readyQueue_;if(e&&e.length>0){for(var t=0,n=e.length;t<n;t++){e[t].call(this)}this.readyQueue_=[];this.trigger("ready")}};vjs.Component.prototype.addClass=function(e){vjs.addClass(this.el_,e);return this};vjs.Component.prototype.removeClass=function(e){vjs.removeClass(this.el_,e);return this};vjs.Component.prototype.show=function(){this.el_.style.display="block";return this};vjs.Component.prototype.hide=function(){this.el_.style.display="none";return this};vjs.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in");return this};vjs.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};vjs.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};vjs.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};vjs.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};vjs.Component.prototype.width=function(e,t){return this.dimension("width",e,t)};vjs.Component.prototype.height=function(e,t){return this.dimension("height",e,t)};vjs.Component.prototype.dimensions=function(e,t){return this.width(e,true).height(t)};vjs.Component.prototype.dimension=function(e,t,n){if(t!==undefined){if((""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1){this.el_.style[e]=t}else if(t==="auto"){this.el_.style[e]=""}else{this.el_.style[e]=t+"px"}if(!n){this.trigger("resize")}return this}if(!this.el_)return 0;var i=this.el_.style[e];var r=i.indexOf("px");if(r!==-1){return parseInt(i.slice(0,r),10)}else{return parseInt(this.el_["offset"+vjs.capitalize(e)],10)}};vjs.Button=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);var n=false;this.on("touchstart",function(){n=true});this.on("touchmove",function(){n=false});var i=this;this.on("touchend",function(e){if(n){i.onClick(e)}e.preventDefault();e.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});vjs.Button.prototype.createEl=function(e,t){t=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},t);return vjs.Component.prototype.createEl.call(this,e,t)};vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)};vjs.Button.prototype.onClick=function(){};vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Button.prototype.onKeyPress=function(e){if(e.which==32||e.which==13){e.preventDefault();this.onClick()}};vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);this.bar=this.getChild(this.options_["barName"]);this.handle=this.getChild(this.options_["handleName"]);e.on(this.playerEvent,vjs.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",vjs.bind(this,this.update));e.ready(vjs.bind(this,this.update));this.boundEvents={}}});vjs.Slider.prototype.createEl=function(e,t){t=t||{};t.className=t.className+" vjs-slider";t=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t);return vjs.Component.prototype.createEl.call(this,e,t)};vjs.Slider.prototype.onMouseDown=function(e){e.preventDefault();vjs.blockTextSelection();this.boundEvents.move=vjs.bind(this,this.onMouseMove);this.boundEvents.end=vjs.bind(this,this.onMouseUp);vjs.on(document,"mousemove",this.boundEvents.move);vjs.on(document,"mouseup",this.boundEvents.end);vjs.on(document,"touchmove",this.boundEvents.move);vjs.on(document,"touchend",this.boundEvents.end);this.onMouseMove(e)};vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection();vjs.off(document,"mousemove",this.boundEvents.move,false);vjs.off(document,"mouseup",this.boundEvents.end,false);vjs.off(document,"touchmove",this.boundEvents.move,false);vjs.off(document,"touchend",this.boundEvents.end,false);this.update()};vjs.Slider.prototype.update=function(){if(!this.el_)return;var e,t=this.getPercent(),n=this.handle,i=this.bar;if(isNaN(t)){t=0}e=t;if(n){var r=this.el_,s=r.offsetWidth,o=n.el().offsetWidth,a=o?o/s:0,l=1-a,u=t*l;e=u+a/2;n.el().style.left=vjs.round(u*100,2)+"%"}i.el().style.width=vjs.round(e*100,2)+"%"};vjs.Slider.prototype.calculateDistance=function(e){var t,n,i,r,s,o,a,l,u;t=this.el_;n=vjs.findPosition(t);s=o=t.offsetWidth;a=this.handle;if(this.options_.vertical){r=n.top;if(e.changedTouches){u=e.changedTouches[0].pageY}else{u=e.pageY}if(a){var c=a.el().offsetHeight;r=r+c/2;o=o-c}return Math.max(0,Math.min(1,(r-u+o)/o))}else{i=n.left;if(e.changedTouches){l=e.changedTouches[0].pageX}else{l=e.pageX}if(a){var f=a.el().offsetWidth;i=i+f/2;s=s-f}return Math.max(0,Math.min(1,(l-i)/s))}};vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider.prototype.onKeyPress=function(e){if(e.which==37){e.preventDefault();this.stepBack()}else if(e.which==39){e.preventDefault();this.stepForward()}};vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider.prototype.onClick=function(e){e.stopImmediatePropagation();e.preventDefault()};vjs.SliderHandle=vjs.Component.extend();vjs.SliderHandle.prototype.defaultValue=0;vjs.SliderHandle.prototype.createEl=function(e,t){t=t||{};t.className=t.className+" vjs-slider-handle";t=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},t);return vjs.Component.prototype.createEl.call(this,"div",t)};vjs.Menu=vjs.Component.extend();vjs.Menu.prototype.addItem=function(e){this.addChild(e);e.on("click",vjs.bind(this,function(){this.unlockShowing()}))};vjs.Menu.prototype.createEl=function(){var e=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(e,{className:"vjs-menu-content"});var t=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});t.appendChild(this.contentEl_);vjs.on(t,"click",function(e){e.preventDefault();e.stopImmediatePropagation()});return t};vjs.MenuItem=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t);this.selected(t["selected"])}});vjs.MenuItem.prototype.createEl=function(e,t){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_["label"]},t))};vjs.MenuItem.prototype.onClick=function(){this.selected(true)};vjs.MenuItem.prototype.selected=function(e){if(e){this.addClass("vjs-selected");this.el_.setAttribute("aria-selected",true)}else{this.removeClass("vjs-selected");this.el_.setAttribute("aria-selected",false)}};vjs.MenuButton=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t);this.menu=this.createMenu();this.addChild(this.menu);if(this.items&&this.items.length===0){this.hide()}this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",true);this.el_.setAttribute("role","button")}});vjs.MenuButton.prototype.buttonPressed_=false;vjs.MenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_);if(this.options().title){e.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))}this.items=this.createItems();if(this.items){for(var t=0;t<this.items.length;t++){e.addItem(this.items[t])}}return e};vjs.MenuButton.prototype.createItems=function(){};vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.MenuButton.prototype.onFocus=function(){};vjs.MenuButton.prototype.onBlur=function(){};vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};vjs.MenuButton.prototype.onKeyPress=function(e){e.preventDefault();if(e.which==32||e.which==13){if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}}else if(e.which==27){if(this.buttonPressed_){this.unpressButton()}}};vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=true;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",true);if(this.items&&this.items.length>0){this.items[0].el().focus()}};vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",false)};vjs.Player=vjs.Component.extend({init:function(e,t,n){this.tag=e;t=vjs.obj.merge(this.getTagSettings(e),t);this.cache_={};this.poster_=t["poster"];this.controls_=t["controls"];if(t["customControlsOnMobile"]!==true&&(vjs.IS_IOS||vjs.IS_ANDROID)){e.controls=t["controls"];this.controls_=false}else{e.controls=false}vjs.Component.call(this,this,t,n);this.one("play",function(e){var t={type:"firstplay",target:this.el_};var n=vjs.trigger(this.el_,t);if(!n){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()}});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);vjs.players[this.id_]=this;if(t["plugins"]){vjs.obj.each(t["plugins"],function(e,t){this[e](t)},this)}}});vjs.Player.prototype.options_=vjs.options;vjs.Player.prototype.dispose=function(){vjs.players[this.id_]=null;if(this.tag&&this.tag["player"]){this.tag["player"]=null}if(this.el_&&this.el_["player"]){this.el_["player"]=null}this.stopTrackingProgress();this.stopTrackingCurrentTime();if(this.tech){this.tech.dispose()}vjs.Component.prototype.dispose.call(this)};vjs.Player.prototype.getTagSettings=function(e){var t={sources:[],tracks:[]};vjs.obj.merge(t,vjs.getAttributeValues(e));if(e.hasChildNodes()){var n,i,r=e.childNodes,s=0,o=r.length;for(;s<o;s++){n=r[s];i=n.nodeName.toLowerCase();if(i==="source"){t["sources"].push(vjs.getAttributeValues(n))}else if(i==="track"){t["tracks"].push(vjs.getAttributeValues(n))}}}return t};vjs.Player.prototype.createEl=function(){var e=this.el_=vjs.Component.prototype.createEl.call(this,"div");var t=this.tag;t.removeAttribute("width");t.removeAttribute("height");if(t.hasChildNodes()){var n=t.childNodes.length;for(var i=0,r=t.childNodes;i<n;i++){if(r[0].nodeName.toLowerCase()=="source"||r[0].nodeName.toLowerCase()=="track"){t.removeChild(r[0])}}}t.id=t.id||"vjs_video_"+vjs.guid++;e.id=t.id;e.className=t.className;t.id+="_html5_api";t.className="vjs-tech";t["player"]=e["player"]=this;this.addClass("vjs-paused");this.width(this.options_["width"],true);this.height(this.options_["height"],true);if(t.parentNode){t.parentNode.insertBefore(e,t)}vjs.insertFirst(t,e);return e};vjs.Player.prototype.loadTech=function(e,t){if(this.tech){this.unloadTech()}else if(e!=="Html5"&&this.tag){this.el_.removeChild(this.tag);this.tag.player=null;this.tag=null}this.techName=e;this.isReady_=false;var n=function(){this.player_.triggerReady();if(!this.features.progressEvents){this.player_.manualProgressOn()}if(!this.features.timeupdateEvents){this.player_.manualTimeUpdatesOn()}};var i=vjs.obj.merge({source:t,parentEl:this.el_},this.options_[e.toLowerCase()]);if(t){if(t.src==this.cache_.src&&this.cache_.currentTime>0){i["startTime"]=this.cache_.currentTime}this.cache_.src=t.src}this.tech=new vjs[e](this,i);this.tech.ready(n)};vjs.Player.prototype.unloadTech=function(){this.isReady_=false;this.tech.dispose();if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}this.tech=false};vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=true;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=true;this.player_.manualProgressOff()})};vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=false;this.stopTrackingProgress()};vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){if(this.cache_.bufferEnd<this.buffered().end(0)){this.trigger("progress")}else if(this.bufferedPercent()==1){this.stopTrackingProgress();this.trigger("progress")}}),500)};vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=true;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=true;this.player_.manualTimeUpdatesOff()})};vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};vjs.Player.prototype.trackCurrentTime=function(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)};vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};vjs.Player.prototype.onEnded=function(){if(this.options_["loop"]){this.currentTime(0);this.play()}};vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused");vjs.addClass(this.el_,"vjs-playing")};vjs.Player.prototype.onFirstPlay=function(){if(this.options_["starttime"]){this.currentTime(this.options_["starttime"])}};vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing");vjs.addClass(this.el_,"vjs-paused")};vjs.Player.prototype.onProgress=function(){if(this.bufferedPercent()==1){this.trigger("loadedalldata")}};vjs.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))};vjs.Player.prototype.onError=function(e){vjs.log("Video Error",e)};vjs.Player.prototype.onFullscreenChange=function(){if(this.isFullScreen){this.addClass("vjs-fullscreen")}else{this.removeClass("vjs-fullscreen")}};vjs.Player.prototype.cache_;vjs.Player.prototype.getCache=function(){return this.cache_};vjs.Player.prototype.techCall=function(e,t){if(this.tech&&this.tech.isReady_){this.tech.ready(function(){this[e](t)})}else{try{this.tech[e](t)}catch(n){vjs.log(n);throw n}}};vjs.Player.prototype.techGet=function(e){if(!this.tech){return}if(this.tech.isReady_){try{return this.tech[e]()}catch(t){if(this.tech[e]===undefined){vjs.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t)}else{if(t.name=="TypeError"){vjs.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t);this.tech.isReady_=false}else{vjs.log(t)}}throw t}}return};vjs.Player.prototype.play=function(){this.techCall("play");return this};vjs.Player.prototype.pause=function(){this.techCall("pause");return this};vjs.Player.prototype.paused=function(){return this.techGet("paused")===false?false:true};vjs.Player.prototype.currentTime=function(e){if(e!==undefined){this.cache_.lastSetCurrentTime=e;this.techCall("setCurrentTime",e);if(this.manualTimeUpdates){this.trigger("timeupdate")}return this}return this.cache_.currentTime=this.techGet("currentTime")||0};vjs.Player.prototype.duration=function(e){if(e!==undefined){this.cache_.duration=parseFloat(e);return this}return this.cache_.duration};vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};vjs.Player.prototype.buffered=function(){var e=this.techGet("buffered"),t=0,n=this.cache_.bufferEnd=this.cache_.bufferEnd||0;if(e&&e.length>0&&e.end(0)!==n){n=e.end(0);this.cache_.bufferEnd=n}return vjs.createTimeRange(t,n)};vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0};vjs.Player.prototype.volume=function(e){var t;if(e!==undefined){t=Math.max(0,Math.min(1,parseFloat(e)));this.cache_.volume=t;this.techCall("setVolume",t);vjs.setLocalStorage("volume",t);return this}t=parseFloat(this.techGet("volume"));return isNaN(t)?1:t};vjs.Player.prototype.muted=function(e){if(e!==undefined){this.techCall("setMuted",e);return this}return this.techGet("muted")||false};vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||false};vjs.Player.prototype.requestFullScreen=function(){var e=vjs.support.requestFullScreen;this.isFullScreen=true;if(e){vjs.on(document,e.eventName,vjs.bind(this,function(t){this.isFullScreen=document[e.isFullScreen];if(this.isFullScreen===false){vjs.off(document,e.eventName,arguments.callee)}this.trigger("fullscreenchange")}));this.el_[e.requestFn]()}else if(this.tech.supportsFullScreen()){this.techCall("enterFullScreen")}else{this.enterFullWindow();this.trigger("fullscreenchange")}return this};vjs.Player.prototype.cancelFullScreen=function(){var e=vjs.support.requestFullScreen;this.isFullScreen=false;if(e){document[e.cancelFn]()}else if(this.tech.supportsFullScreen()){this.techCall("exitFullScreen")}else{this.exitFullWindow();this.trigger("fullscreenchange")}return this};vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=true;this.docOrigOverflow=document.documentElement.style.overflow;vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";vjs.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};vjs.Player.prototype.fullWindowOnEscKey=function(e){if(e.keyCode===27){if(this.isFullScreen===true){this.cancelFullScreen()}else{this.exitFullWindow()}}};vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=false;vjs.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;vjs.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};vjs.Player.prototype.selectSource=function(e){for(var t=0,n=this.options_["techOrder"];t<n.length;t++){var i=vjs.capitalize(n[t]),r=vjs[i];if(r.isSupported()){for(var s=0,o=e;s<o.length;s++){var a=o[s];if(r["canPlaySource"](a)){return{source:a,tech:i}}}}}return false};vjs.Player.prototype.src=function(e){if(e instanceof Array){var t=this.selectSource(e),n;
if(t){e=t.source;n=t.tech;if(n==this.techName){this.src(e)}else{this.loadTech(n,e)}}else{this.el_.appendChild(vjs.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}}else if(e instanceof Object){if(vjs[this.techName]["canPlaySource"](e)){this.src(e.src)}else{this.src([e])}}else{this.cache_.src=e;if(!this.isReady_){this.ready(function(){this.src(e)})}else{this.techCall("src",e);if(this.options_["preload"]=="auto"){this.load()}if(this.options_["autoplay"]){this.play()}}}return this};vjs.Player.prototype.load=function(){this.techCall("load");return this};vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};vjs.Player.prototype.preload=function(e){if(e!==undefined){this.techCall("setPreload",e);this.options_["preload"]=e;return this}return this.techGet("preload")};vjs.Player.prototype.autoplay=function(e){if(e!==undefined){this.techCall("setAutoplay",e);this.options_["autoplay"]=e;return this}return this.techGet("autoplay",e)};vjs.Player.prototype.loop=function(e){if(e!==undefined){this.techCall("setLoop",e);this.options_["loop"]=e;return this}return this.techGet("loop")};vjs.Player.prototype.poster_;vjs.Player.prototype.poster=function(e){if(e!==undefined){this.poster_=e}return this.poster_};vjs.Player.prototype.controls_;vjs.Player.prototype.controls=function(e){if(e!==undefined){if(this.controls_!==e){this.controls_=!!e;this.trigger("controlschange")}}return this.controls_};vjs.Player.prototype.error=function(){return this.techGet("error")};vjs.Player.prototype.ended=function(){return this.techGet("ended")};!function(){var e,t,n;n=document.createElement("div");t={};if(n.cancelFullscreen!==undefined){t.requestFn="requestFullscreen";t.cancelFn="exitFullscreen";t.eventName="fullscreenchange";t.isFullScreen="fullScreen"}else{if(document.mozCancelFullScreen){e="moz";t.isFullScreen=e+"FullScreen"}else{e="webkit";t.isFullScreen=e+"IsFullScreen"}if(n[e+"RequestFullScreen"]){t.requestFn=e+"RequestFullScreen";t.cancelFn=e+"CancelFullScreen"}t.eventName=e+"fullscreenchange"}if(document[t.cancelFn]){vjs.support.requestFullScreen=t}}();vjs.ControlBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);if(!e.controls()){this.disable()}e.one("play",vjs.bind(this,function(){var e,t=vjs.bind(this,this.fadeIn),n=vjs.bind(this,this.fadeOut);this.fadeOut();if(!("ontouchstart"in window)){this.player_.on("mouseover",t);this.player_.on("mouseout",n);this.player_.on("pause",vjs.bind(this,this.lockShowing));this.player_.on("play",vjs.bind(this,this.unlockShowing))}e=false;this.player_.on("touchstart",function(){e=true});this.player_.on("touchmove",function(){e=false});this.player_.on("touchend",vjs.bind(this,function(t){var n;if(e){n=this.el().className.search("fade-in");if(n!==-1){this.fadeOut()}else{this.fadeIn()}}e=false;if(!this.player_.paused()){t.preventDefault()}}))}))}});vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})};vjs.ControlBar.prototype.fadeIn=function(){vjs.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};vjs.ControlBar.prototype.fadeOut=function(){vjs.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};vjs.PlayToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t);e.on("play",vjs.bind(this,this.onPlay));e.on("pause",vjs.bind(this,this.onPause))}});vjs.PlayToggle.prototype.buttonText="Play";vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.PlayToggle.prototype.onClick=function(){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused");vjs.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML="Pause"};vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing");vjs.addClass(this.el_,"vjs-paused");this.el_.children[0].children[0].innerHTML="Play"};vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);e.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.CurrentTimeDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>'+"0:00","aria-live":"off"});e.appendChild(vjs.createEl("div").appendChild(this.content));return e};vjs.CurrentTimeDisplay.prototype.updateContent=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(e,this.player_.duration())};vjs.DurationDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);e.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.DurationDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>'+"0:00","aria-live":"off"});e.appendChild(vjs.createEl("div").appendChild(this.content));return e};vjs.DurationDisplay.prototype.updateContent=function(){if(this.player_.duration()){this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(this.player_.duration())}};vjs.TimeDivider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}});vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);e.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.RemainingTimeDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>'+"-0:00","aria-live":"off"});e.appendChild(vjs.createEl("div").appendChild(this.content));return e};vjs.RemainingTimeDisplay.prototype.updateContent=function(){if(this.player_.duration()){if(this.player_.duration()){this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>'+"-"+vjs.formatTime(this.player_.remainingTime())}}};vjs.FullscreenToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t)}});vjs.FullscreenToggle.prototype.buttonText="Fullscreen";vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.FullscreenToggle.prototype.onClick=function(){if(!this.player_.isFullScreen){this.player_.requestFullScreen();this.el_.children[0].children[0].innerHTML="Non-Fullscreen"}else{this.player_.cancelFullScreen();this.el_.children[0].children[0].innerHTML="Fullscreen"}};vjs.ProgressControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}});vjs.ProgressControl.prototype.options_={children:{seekBar:{}}};vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};vjs.SeekBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t);e.on("timeupdate",vjs.bind(this,this.updateARIAAttributes));e.ready(vjs.bind(this,this.updateARIAAttributes))}});vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};vjs.SeekBar.prototype.playerEvent="timeupdate";vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};vjs.SeekBar.prototype.updateARIAAttributes=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(this.getPercent()*100,2));this.el_.setAttribute("aria-valuetext",vjs.formatTime(e,this.player_.duration()))};vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};vjs.SeekBar.prototype.onMouseDown=function(e){vjs.Slider.prototype.onMouseDown.call(this,e);this.player_.scrubbing=true;this.videoWasPlaying=!this.player_.paused();this.player_.pause()};vjs.SeekBar.prototype.onMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();if(t==this.player_.duration()){t=t-.1}this.player_.currentTime(t)};vjs.SeekBar.prototype.onMouseUp=function(e){vjs.Slider.prototype.onMouseUp.call(this,e);this.player_.scrubbing=false;if(this.videoWasPlaying){this.player_.play()}};vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)};vjs.LoadProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);e.on("progress",vjs.bind(this,this.update))}});vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};vjs.LoadProgressBar.prototype.update=function(){if(this.el_.style){this.el_.style.width=vjs.round(this.player_.bufferedPercent()*100,2)+"%"}};vjs.PlayProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}});vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};vjs.SeekHandle=vjs.SliderHandle.extend();vjs.SeekHandle.prototype.defaultValue="00:00";vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};vjs.VolumeControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);if(e.tech&&e.tech.features&&e.tech.features.volumeControl===false){this.addClass("vjs-hidden")}e.on("loadstart",vjs.bind(this,function(){if(e.tech.features&&e.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}))}});vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}};vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};vjs.VolumeBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t);e.on("volumechange",vjs.bind(this,this.updateARIAAttributes));e.ready(vjs.bind(this,this.updateARIAAttributes));setTimeout(vjs.bind(this,this.update),0)}});vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(this.player_.volume()*100,2));this.el_.setAttribute("aria-valuetext",vjs.round(this.player_.volume()*100,2)+"%")};vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};vjs.VolumeBar.prototype.playerEvent="volumechange";vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};vjs.VolumeBar.prototype.onMouseMove=function(e){this.player_.volume(this.calculateDistance(e))};vjs.VolumeBar.prototype.getPercent=function(){if(this.player_.muted()){return 0}else{return this.player_.volume()}};vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)};vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)};vjs.VolumeLevel=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}});vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};vjs.VolumeHandle=vjs.SliderHandle.extend();vjs.VolumeHandle.prototype.defaultValue="00:00";vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})};vjs.MuteToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t);e.on("volumechange",vjs.bind(this,this.update));if(e.tech&&e.tech.features&&e.tech.features.volumeControl===false){this.addClass("vjs-hidden")}e.on("loadstart",vjs.bind(this,function(){if(e.tech.features&&e.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}))}});vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?false:true)};vjs.MuteToggle.prototype.update=function(){var e=this.player_.volume(),t=3;if(e===0||this.player_.muted()){t=0}else if(e<.33){t=1}else if(e<.67){t=2}if(this.player_.muted()){if(this.el_.children[0].children[0].innerHTML!="Unmute"){this.el_.children[0].children[0].innerHTML="Unmute"}}else{if(this.el_.children[0].children[0].innerHTML!="Mute"){this.el_.children[0].children[0].innerHTML="Mute"}}for(var n=0;n<4;n++){vjs.removeClass(this.el_,"vjs-vol-"+n)}vjs.addClass(this.el_,"vjs-vol-"+t)};vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t);e.on("volumechange",vjs.bind(this,this.update));if(e.tech&&e.tech.features&&e.tech.features.volumeControl===false){this.addClass("vjs-hidden")}e.on("loadstart",vjs.bind(this,function(){if(e.tech.features&&e.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}));this.addClass("vjs-menu-button")}});vjs.VolumeMenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_,{contentElType:"div"});var t=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:true},this.options_.volumeBar));e.addChild(t);return e};vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this);vjs.MenuButton.prototype.onClick.call(this)};vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update;vjs.PosterImage=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t);if(!e.poster()||!e.controls()){this.hide()}e.on("play",vjs.bind(this,this.hide))}});vjs.PosterImage.prototype.createEl=function(){var e=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1}),t=this.player_.poster();if(t){if("backgroundSize"in e.style){e.style.backgroundImage='url("'+t+'")'}else{e.appendChild(vjs.createEl("img",{src:t}))}}return e};vjs.PosterImage.prototype.onClick=function(){this.player_.play()};vjs.LoadingSpinner=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);e.on("canplay",vjs.bind(this,this.hide));e.on("canplaythrough",vjs.bind(this,this.hide));e.on("playing",vjs.bind(this,this.hide));e.on("seeked",vjs.bind(this,this.hide));e.on("seeking",vjs.bind(this,this.show));e.on("seeked",vjs.bind(this,this.hide));e.on("error",vjs.bind(this,this.show));e.on("waiting",vjs.bind(this,this.show))}});vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};vjs.BigPlayButton=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t);if(!e.controls()){this.hide()}e.on("play",vjs.bind(this,this.hide))}});vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()};vjs.MediaTechController=vjs.Component.extend({init:function(e,t,n){vjs.Component.call(this,e,t,n)}});vjs.MediaTechController.prototype.onClick=function(){if(vjs.IS_ANDROID){return function(){}}else{return function(){if(this.player_.controls()){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}}}}}();vjs.MediaTechController.prototype.features={volumeControl:true,fullscreenResize:false,progressEvents:false,timeupdateEvents:false};vjs.media={};vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");function createMethod(e){return function(){throw new Error('The "'+e+"\" method is not available on the playback technology's API")}}for(var i=vjs.media.ApiMethods.length-1;i>=0;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(e,t,n){this.features.volumeControl=vjs.Html5.canControlVolume();this.features.movingMediaElementInDOM=!vjs.IS_IOS;this.features.fullscreenResize=true;vjs.MediaTechController.call(this,e,t,n);var i=t["source"];if(i&&this.el_.currentSrc==i.src){e.trigger("loadstart")}else if(i){this.el_.src=i.src}e.ready(function(){if(this.options_["autoplay"]&&this.paused()){this.tag.poster=null;this.play()}});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};vjs.Html5.prototype.createEl=function(){var e=this.player_,t=e.tag,n;if(!t||this.features.movingMediaElementInDOM===false){if(t){e.el().removeChild(t);t=t.cloneNode(false)}else{t=vjs.createEl("video",{id:e.id()+"_html5_api",className:"vjs-tech"})}t["player"]=e;vjs.insertFirst(t,e.el())}var i=["autoplay","preload","loop","muted"];for(var r=i.length-1;r>=0;r--){var s=i[r];if(e.options_[s]!==null){t[s]=e.options_[s]}}return t};vjs.Html5.prototype.setupTriggers=function(){for(var e=vjs.Html5.Events.length-1;e>=0;e--){vjs.on(this.el_,vjs.Html5.Events[e],vjs.bind(this.player_,this.eventHandler))}};vjs.Html5.prototype.eventHandler=function(e){this.trigger(e);e.stopPropagation()};vjs.Html5.prototype.play=function(){this.el_.play()};vjs.Html5.prototype.pause=function(){this.el_.pause()};vjs.Html5.prototype.paused=function(){return this.el_.paused};vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime};vjs.Html5.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){vjs.log(t,"Video is not ready. (Video.js)")}};vjs.Html5.prototype.duration=function(){return this.el_.duration||0};vjs.Html5.prototype.buffered=function(){return this.el_.buffered};vjs.Html5.prototype.volume=function(){return this.el_.volume};vjs.Html5.prototype.setVolume=function(e){this.el_.volume=e};vjs.Html5.prototype.muted=function(){return this.el_.muted};vjs.Html5.prototype.setMuted=function(e){this.el_.muted=e};vjs.Html5.prototype.width=function(){return this.el_.offsetWidth};vjs.Html5.prototype.height=function(){return this.el_.offsetHeight};vjs.Html5.prototype.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){if(/Android/.test(vjs.USER_AGENT)||!/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)){return true}}return false};vjs.Html5.prototype.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA){this.el_.play();setTimeout(function(){e.pause();e.webkitEnterFullScreen()},0)}else{e.webkitEnterFullScreen()}};vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};vjs.Html5.prototype.src=function(e){this.el_.src=e};vjs.Html5.prototype.load=function(){this.el_.load()};vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};vjs.Html5.prototype.preload=function(){return this.el_.preload};vjs.Html5.prototype.setPreload=function(e){this.el_.preload=e};vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay};vjs.Html5.prototype.setAutoplay=function(e){this.el_.autoplay=e};vjs.Html5.prototype.loop=function(){return this.el_.loop};vjs.Html5.prototype.setLoop=function(e){this.el_.loop=e};vjs.Html5.prototype.error=function(){return this.el_.error};vjs.Html5.prototype.seeking=function(){return this.el_.seeking};vjs.Html5.prototype.ended=function(){return this.el_.ended};vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};vjs.Html5.isSupported=function(){return!!document.createElement("video").canPlayType};vjs.Html5.canPlaySource=function(e){return!!document.createElement("video").canPlayType(e.type)};vjs.Html5.canControlVolume=function(){var e=vjs.TEST_VID.volume;vjs.TEST_VID.volume=e/2+.1;return e!==vjs.TEST_VID.volume};vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(",");if(vjs.IS_ANDROID){if(vjs.ANDROID_VERSION<3){document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&e.toLowerCase().indexOf("video/mp4")!=-1?"maybe":""}}}vjs.Flash=vjs.MediaTechController.extend({init:function(e,t,n){vjs.MediaTechController.call(this,e,t,n);var i=t["source"],r=t["parentEl"],s=this.el_=vjs.createEl("div",{id:e.id()+"_temp_flash"}),o=e.id()+"_flash_api",a=e.options_,l=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:a.autoplay,preload:a.preload,loop:a.loop,muted:a.muted},t["flashVars"]),u=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},t["params"]),c=vjs.obj.merge({id:o,name:o,"class":"vjs-tech"},t["attributes"]);if(i){l["src"]=encodeURIComponent(vjs.getAbsoluteURL(i.src))}vjs.insertFirst(s,r);if(t["startTime"]){this.ready(function(){this.load();this.play();this.currentTime(t["startTime"])})}if(t["iFrameMode"]===true&&!vjs.IS_FIREFOX){var f=vjs.createEl("iframe",{id:o+"_iframe",name:o+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});l["readyFunction"]="ready";l["eventProxyFunction"]="events";l["errorEventProxyFunction"]="errors";vjs.on(f,"load",vjs.bind(this,function(){var e,n=f.contentWindow;e=f.contentDocument?f.contentDocument:f.contentWindow.document;e.write(vjs.Flash.getEmbedCode(t["swf"],l,u,c));n["player"]=this.player_;n["ready"]=vjs.bind(this.player_,function(t){var n=e.getElementById(t),i=this,r=i.tech;r.el_=n;vjs.on(n,"click",r.bind(r.onClick));vjs.Flash.checkReady(r)});n["events"]=vjs.bind(this.player_,function(e,t){var n=this;if(n&&n.techName==="flash"){n.trigger(t)}});n["errors"]=vjs.bind(this.player_,function(e,t){vjs.log("Flash Error",t)})}));s.parentNode.replaceChild(f,s)}else{vjs.Flash.embed(t["swf"],s,l,u,c)}}});vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};vjs.Flash.prototype.play=function(){this.el_.vjs_play()};vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()};vjs.Flash.prototype.src=function(e){e=vjs.getAbsoluteURL(e);this.el_.vjs_src(e);if(this.player_.autoplay()){var t=this;setTimeout(function(){t.play()},0)}};vjs.Flash.prototype.load=function(){this.el_.vjs_load()};vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};vjs.Flash.prototype.supportsFullScreen=function(){return false};vjs.Flash.prototype.enterFullScreen=function(){return false};var api=vjs.Flash.prototype,readWrite="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");var createSetter=function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);api["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}};var createGetter=function(e){api[e]=function(){return this.el_.vjs_getProperty(e)}};!function(){var e;for(e=0;e<readWrite.length;e++){createGetter(readWrite[e]);createSetter(readWrite[e])}for(e=0;e<readOnly.length;e++){createGetter(readOnly[e])}}();vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10};vjs.Flash.canPlaySource=function(e){if(e.type in vjs.Flash.formats){return"maybe"}};vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};vjs.Flash["onReady"]=function(e){var t=vjs.el(e);var n=t["player"]||t.parentNode["player"],i=n.tech;t["player"]=n;i.el_=t;i.on("click",i.onClick);vjs.Flash.checkReady(i)};vjs.Flash.checkReady=function(e){if(e.el().vjs_getProperty){e.triggerReady()}else{setTimeout(function(){vjs.Flash.checkReady(e)},50)}};vjs.Flash["onEvent"]=function(e,t){var n=vjs.el(e)["player"];n.trigger(t)};vjs.Flash["onError"]=function(e,t){var n=vjs.el(e)["player"];n.trigger("error");vjs.log("Flash Error",t,e)};vjs.Flash.version=function(){var e="0,0,0";try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(n){}}return e.split(",")};vjs.Flash.embed=function(e,t,n,i,r){var s=vjs.Flash.getEmbedCode(e,n,i,r),o=vjs.createEl("div",{innerHTML:s}).childNodes[0],a=t.parentNode;t.parentNode.replaceChild(o,t);var l=a.childNodes[0];setTimeout(function(){l.style.display="block"},1e3);return o};vjs.Flash.getEmbedCode=function(e,t,n,i){var r='<object type="application/x-shockwave-flash"',s="",o="",a="";if(t){vjs.obj.each(t,function(e,t){s+=e+"="+t+"&amp;"})}n=vjs.obj.merge({movie:e,flashvars:s,allowScriptAccess:"always",allowNetworking:"all"},n);vjs.obj.each(n,function(e,t){o+='<param name="'+e+'" value="'+t+'" />'});i=vjs.obj.merge({data:e,width:"100%",height:"100%"},i);vjs.obj.each(i,function(e,t){a+=e+'="'+t+'" '});return r+a+">"+o+"</object>"};vjs.MediaLoader=vjs.Component.extend({init:function(e,t,n){vjs.Component.call(this,e,t,n);if(!e.options_["sources"]||e.options_["sources"].length===0){for(var i=0,r=e.options_["techOrder"];i<r.length;i++){var s=vjs.capitalize(r[i]),o=vjs[s];if(o&&o.isSupported()){e.loadTech(s);break}}}else{e.src(e.options_["sources"])}}});vjs.Player.prototype.textTracks_;vjs.Player.prototype.textTracks=function(){this.textTracks_=this.textTracks_||[];return this.textTracks_};vjs.Player.prototype.addTextTrack=function(e,t,n,i){var r=this.textTracks_=this.textTracks_||[];i=i||{};i["kind"]=e;i["label"]=t;i["language"]=n;var s=vjs.capitalize(e||"subtitles");var o=new vjs[s+"Track"](this,i);r.push(o);return o};vjs.Player.prototype.addTextTracks=function(e){var t;for(var n=0;n<e.length;n++){t=e[n];this.addTextTrack(t["kind"],t["label"],t["language"],t)}return this};vjs.Player.prototype.showTextTrack=function(e,t){var n=this.textTracks_,i=0,r=n.length,s,o,a;for(;i<r;i++){s=n[i];if(s.id()===e){s.show();o=s}else if(t&&s.kind()==t&&s.mode()>0){s.disable()}}a=o?o.kind():t?t:false;if(a){this.trigger(a+"trackchange")}return this};vjs.TextTrack=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);this.id_=t["id"]||"vjs_"+t["kind"]+"_"+t["language"]+"_"+vjs.guid++;this.src_=t["src"];this.dflt_=t["default"]||t["dflt"];this.title_=t["title"];this.language_=t["srclang"];this.label_=t["label"];this.cues_=[];this.activeCues_=[];this.readyState_=0;this.mode_=0;this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}});vjs.TextTrack.prototype.kind_;vjs.TextTrack.prototype.kind=function(){return this.kind_};vjs.TextTrack.prototype.src_;vjs.TextTrack.prototype.src=function(){return this.src_};vjs.TextTrack.prototype.dflt_;vjs.TextTrack.prototype.dflt=function(){return this.dflt_};vjs.TextTrack.prototype.title_;vjs.TextTrack.prototype.title=function(){return this.title_};vjs.TextTrack.prototype.language_;vjs.TextTrack.prototype.language=function(){return this.language_};vjs.TextTrack.prototype.label_;vjs.TextTrack.prototype.label=function(){return this.label_};vjs.TextTrack.prototype.cues_;vjs.TextTrack.prototype.cues=function(){return this.cues_};vjs.TextTrack.prototype.activeCues_;vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_};vjs.TextTrack.prototype.readyState_;vjs.TextTrack.prototype.readyState=function(){return this.readyState_};vjs.TextTrack.prototype.mode_;vjs.TextTrack.prototype.mode=function(){return this.mode_};vjs.TextTrack.prototype.adjustFontSize=function(){if(this.player_.isFullScreen){this.el_.style.fontSize=screen.width/this.player_.width()*1.4*100+"%"}else{this.el_.style.fontSize=""}};vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};vjs.TextTrack.prototype.show=function(){this.activate();this.mode_=2;vjs.Component.prototype.show.call(this)};vjs.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;vjs.Component.prototype.hide.call(this)};vjs.TextTrack.prototype.disable=function(){if(this.mode_==2){this.hide()}this.deactivate();this.mode_=0};vjs.TextTrack.prototype.activate=function(){if(this.readyState_===0){this.load()}if(this.mode_===0){this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_));this.player_.on("ended",vjs.bind(this,this.reset,this.id_));if(this.kind_==="captions"||this.kind_==="subtitles"){this.player_.getChild("textTrackDisplay").addChild(this)}}};vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_));this.player_.off("ended",vjs.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};vjs.TextTrack.prototype.load=function(){if(this.readyState_===0){this.readyState_=1;vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError))}};vjs.TextTrack.prototype.onError=function(e){this.error=e;this.readyState_=3;this.trigger("error")};vjs.TextTrack.prototype.parseCues=function(e){var t,n,i,r=e.split("\n"),s="",o;for(var a=1,l=r.length;a<l;a++){s=vjs.trim(r[a]);if(s){if(s.indexOf("-->")==-1){o=s;s=vjs.trim(r[++a])}else{o=this.cues_.length}t={id:o,index:this.cues_.length};n=s.split(" --> ");t.startTime=this.parseCueTime(n[0]);t.endTime=this.parseCueTime(n[1]);i=[];while(r[++a]&&(s=vjs.trim(r[a]))){i.push(s)}t.text=i.join("<br/>");this.cues_.push(t)}}this.readyState_=2;this.trigger("loaded")};vjs.TextTrack.prototype.parseCueTime=function(e){var t=e.split(":"),n=0,i,r,s,o,a;if(t.length==3){i=t[0];r=t[1];s=t[2]}else{i=0;r=t[0];s=t[1]}s=s.split(/\s+/);o=s.splice(0,1)[0];o=o.split(/\.|,/);a=parseFloat(o[1]);o=o[0];n+=parseFloat(i)*3600;n+=parseFloat(r)*60;n+=parseFloat(o);if(a){n+=a/1e3}return n};vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var e=this.player_.currentTime();if(this.prevChange===undefined||e<this.prevChange||this.nextChange<=e){var t=this.cues_,n=this.player_.duration(),i=0,r=false,s=[],o,a,l,u;
if(e>=this.nextChange||this.nextChange===undefined){u=this.firstActiveIndex!==undefined?this.firstActiveIndex:0}else{r=true;u=this.lastActiveIndex!==undefined?this.lastActiveIndex:t.length-1}while(true){l=t[u];if(l.endTime<=e){i=Math.max(i,l.endTime);if(l.active){l.active=false}}else if(e<l.startTime){n=Math.min(n,l.startTime);if(l.active){l.active=false}if(!r){break}}else{if(r){s.splice(0,0,l);if(a===undefined){a=u}o=u}else{s.push(l);if(o===undefined){o=u}a=u}n=Math.min(n,l.endTime);i=Math.max(i,l.startTime);l.active=true}if(r){if(u===0){break}else{u--}}else{if(u===t.length-1){break}else{u++}}}this.activeCues_=s;this.nextChange=n;this.prevChange=i;this.firstActiveIndex=o;this.lastActiveIndex=a;this.updateDisplay();this.trigger("cuechange")}}};vjs.TextTrack.prototype.updateDisplay=function(){var e=this.activeCues_,t="",n=0,i=e.length;for(;n<i;n++){t+='<span class="vjs-tt-cue">'+e[n].text+"</span>"}this.el_.innerHTML=t};vjs.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.firstActiveIndex=0;this.lastActiveIndex=0};vjs.CaptionsTrack=vjs.TextTrack.extend();vjs.CaptionsTrack.prototype.kind_="captions";vjs.SubtitlesTrack=vjs.TextTrack.extend();vjs.SubtitlesTrack.prototype.kind_="subtitles";vjs.ChaptersTrack=vjs.TextTrack.extend();vjs.ChaptersTrack.prototype.kind_="chapters";vjs.TextTrackDisplay=vjs.Component.extend({init:function(e,t,n){vjs.Component.call(this,e,t,n);if(e.options_["tracks"]&&e.options_["tracks"].length>0){this.player_.addTextTracks(e.options_["tracks"])}}});vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(e,t){var n=this.track=t["track"];t["label"]=n.label();t["selected"]=n.dflt();vjs.MenuItem.call(this,e,t);this.player_.on(n.kind()+"trackchange",vjs.bind(this,this.update))}});vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.showTextTrack(this.track.id_,this.track.kind())};vjs.TextTrackMenuItem.prototype.update=function(){if(this.track.mode()==2){this.selected(true)}else{this.selected(false)}};vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(e,t){t["track"]={kind:function(){return t["kind"]},player:e,label:function(){return t["kind"]+" off"},dflt:function(){return false},mode:function(){return false}};vjs.TextTrackMenuItem.call(this,e,t);this.selected(true)}});vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this);this.player_.showTextTrack(this.track.id_,this.track.kind())};vjs.OffTextTrackMenuItem.prototype.update=function(){var e=this.player_.textTracks(),t=0,n=e.length,i,r=true;for(;t<n;t++){i=e[t];if(i.kind()==this.track.kind()&&i.mode()==2){r=false}}if(r){this.selected(true)}else{this.selected(false)}};vjs.TextTrackButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t);if(this.items.length<=1){this.hide()}}});vjs.TextTrackButton.prototype.createItems=function(){var e=[],t;e.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var n=0;n<this.player_.textTracks().length;n++){t=this.player_.textTracks()[n];if(t.kind()===this.kind_){e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}))}}return e};vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n);this.el_.setAttribute("aria-label","Captions Menu")}});vjs.CaptionsButton.prototype.kind_="captions";vjs.CaptionsButton.prototype.buttonText="Captions";vjs.CaptionsButton.prototype.className="vjs-captions-button";vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n);this.el_.setAttribute("aria-label","Subtitles Menu")}});vjs.SubtitlesButton.prototype.kind_="subtitles";vjs.SubtitlesButton.prototype.buttonText="Subtitles";vjs.SubtitlesButton.prototype.className="vjs-subtitles-button";vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n);this.el_.setAttribute("aria-label","Chapters Menu")}});vjs.ChaptersButton.prototype.kind_="chapters";vjs.ChaptersButton.prototype.buttonText="Chapters";vjs.ChaptersButton.prototype.className="vjs-chapters-button";vjs.ChaptersButton.prototype.createItems=function(){var e=[],t;for(var n=0;n<this.player_.textTracks().length;n++){t=this.player_.textTracks()[n];if(t.kind()===this.kind_){e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}))}}return e};vjs.ChaptersButton.prototype.createMenu=function(){var e=this.player_.textTracks(),t=0,n=e.length,i,r,s=this.items=[];for(;t<n;t++){i=e[t];if(i.kind()==this.kind_&&i.dflt()){if(i.readyState()<2){this.chaptersTrack=i;i.on("loaded",vjs.bind(this,this.createMenu));return}else{r=i;break}}}var o=this.menu=new vjs.Menu(this.player_);o.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}));if(r){var a=r.cues_,l,u;t=0;n=a.length;for(;t<n;t++){l=a[t];u=new vjs.ChaptersTrackMenuItem(this.player_,{track:r,cue:l});s.push(u);o.addChild(u)}}if(this.items.length>0){this.show()}return o};vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(e,t){var n=this.track=t["track"],i=this.cue=t["cue"],r=e.currentTime();t["label"]=i.text;t["selected"]=i.startTime<=r&&r<i.endTime;vjs.MenuItem.call(this,e,t);n.on("cuechange",vjs.bind(this,this.update))}});vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};vjs.ChaptersTrackMenuItem.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();if(e.startTime<=t&&t<e.endTime){this.selected(true)}else{this.selected(false)}};vjs.obj.merge(vjs.ControlBar.prototype.options_["children"],{subtitlesButton:{},captionsButton:{},chaptersButton:{}});vjs.JSON;if(typeof window.JSON!=="undefined"&&window.JSON.parse==="function"){vjs.JSON=window.JSON}else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,r=e[t];if(r&&typeof r==="object"){for(n in r){if(Object.prototype.hasOwnProperty.call(r,n)){i=walk(r,n);if(i!==undefined){r[n]=i}else{delete r[n]}}}}return reviver.call(e,t,r)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var e,t,n,i=document.getElementsByTagName("video");if(i&&i.length>0){for(var r=0,s=i.length;r<s;r++){t=i[r];if(t&&t.getAttribute){if(t["player"]===undefined){e=t.getAttribute("data-setup");if(e!==null){e=vjs.JSON.parse(e||"{}");n=videojs(t,e)}}}else{vjs.autoSetupTimeout(1);break}}}else if(!vjs.windowLoaded){vjs.autoSetupTimeout(1)}};vjs.autoSetupTimeout=function(e){setTimeout(vjs.autoSetup,e)};vjs.one(window,"load",function(){vjs.windowLoaded=true});vjs.autoSetupTimeout(1);vjs.plugin=function(e,t){vjs.Player.prototype[e]=t};module.exports=vjs}();
},{}],67:[function(require,module,exports){
!function(){var e=require("./base"),t=require("lodash"),n=require("./customization"),i=e.extend({name:"user",url:function(){return this.app.config.baseUrl+"/users/auth.json"},parse:function(e,i){var r=t.clone(e);try{r=r.user;r.customization=new n({},{app:this.app}).parse({customization:r.customization});e=r}catch(s){e={error:e.error}}return e},defaults:{username:"",password:"",token:false,policy:"",signature:"",path:"",customization:{},error:null}});module.exports=i}();
},{"./base":76,"./customization":69,"lodash":46}],68:[function(require,module,exports){
!function(){var e=require("./base"),t=require("./video"),n=require("./image"),i=require("../helpers/BackboneLoader"),r=require("lodash"),s=require("utilities/lib/string"),o=e.extend({name:"page",urlRoot:function(){return this.app.config.baseUrl+"/pages"},defaults:{name:"Untitled",items:[],userId:"",isPublished:false,errors:null},initialize:function(e,t){this.set(e);this.app=t.app||{}},validate:function(e,t){var n=[];if(!e.name||e.name.length==0){n.push({attr:"name",message:"Page title cannot be empty"})}if(!e.id){var i=this.app.db.fetchCollection("pages").filter(function(t){return t.attributes.name.toLowerCase()===e.name.toLowerCase()});if(i&&i.length>0){n.push({attr:"name",message:"Another page already exists with this name"})}}if(n.length){return n}},toJSON:function(){incoming=r.clone(this.attributes);if(incoming.items){incoming.itemList=JSON.stringify(incoming.items)}return incoming},parse:function(e,t){try{e.items=JSON.parse(e.itemList);delete e.itemList}catch(n){e={errors:"Bad response from server: "+n}}return e},getMedia:function(){return this.app.db.fetchCollection("pageMedia",{app:this.app,pageId:this.id})},removeMedia:function(e,t){var n=this,i=r.clone(n.attributes.items);i=r.reject(i,function(t){return t.ID===e});n.set("items",i);n.save(null,{success:function(){n.app.db.fetchCollection("unprocessedUploads").fetch();n.app.db.fetchCollection("pages").fetch();t(null)},error:function(e,n){t(n.responseText)}})},addMedia:function(e){var i=this;filepicker.pickAndStore({extensions:i.app.config.videoExts.concat(i.app.config.imageExts),multiple:false,signature:i.app.getUser().attributes.signature,policy:i.app.getUser().attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP"]},{location:"s3",path:i.app.getUser().attributes.path+s.uuid(10),access:"public"},function(s){i.app.setFlash("info","Just a second while we process your uploads...");if(Object.prototype.toString.call(s)!=="[object Array]"){s=[s]}var o=r.clone(i.attributes.items),a=s.length,l=function(t){var n=t.id,r=t.attributes.name,l=t.attributes.type.toLowerCase();o.push({ID:n,NAME:r,TYPE:l,THUMB:t.templateVars().thumbnailUrl});a--;if(a===0){i.set("items",o);i.save(null,{success:function(){i.app.db.fetchCollection("unprocessedUploads").fetch();i.app.db.fetchCollection("pages").fetch();e(null,s)},error:i.app.error})}};for(var u=0,c=s.length;u<c;u++){!function(e){var r,s,o={name:e.filename,fpkey:e.url,mimeType:e.mimetype,originalFilesize:e.size,userId:i.attributes.userId,attribs:[],status:0};if(i.app.util.isVideo(e.filename)){r=new t({},{app:i.app});s="video"}else if(i.app.util.isImage(e.filename)){r=new n({},{app:i.app});s="image"}r.set(o);if(s==="image"){r.cropThumbnail(null,function(e){if(e){i.app.error(e)}else{l(r)}})}else{r.save(null,{success:function(e,t){l(e)},error:i.app.error})}}(s[u])}},function(t){e(t)})}});module.exports=o}();
},{"../helpers/BackboneLoader":43,"./base":76,"./image":48,"./video":50,"lodash":46,"utilities/lib/string":85}],69:[function(require,module,exports){
!function(){var e=require("./base"),t=require("lodash"),n=require("../helpers/BackboneLoader"),i=e.extend({name:"customization",urlRoot:function(){return this.app.config.baseUrl+"/customizations"},toJSON:function(){incoming=t.clone(this.attributes);if(incoming.config){incoming.config=JSON.stringify(incoming.config)}if(incoming.diffs){incoming.diffs=JSON.stringify(incoming.diffs)}return incoming},parse:function(e,t){e=e.customization;delete e.customization;try{e.config=JSON.parse(e.config)}catch(n){e.config={}}try{e.diffs=JSON.parse(e.diffs)}catch(n){e.diffs={}}return e}});module.exports=i}();
},{"../helpers/BackboneLoader":43,"./base":76,"lodash":46}],70:[function(require,module,exports){
!function(){var e=require("./base"),t=require("lodash"),n=e.extend({name:"media",initialize:function(e,t){this.set(e);this.app=t.app||{};this.pageId=t.pageId||null;this.model=function(e,n){if(e.type.toLowerCase()==="image"){return t.app.db.createModel("image",e)}else{return t.app.db.createModel("video",e)}}},url:function(){return this.app.config.baseUrl+"/pages/"+this.pageId+"/media.json"}});module.exports=n}();
},{"./base":77,"lodash":46}],71:[function(require,module,exports){
!function(){var e=require("./base"),t=require("../models/page"),n=require("lodash"),i=e.extend({name:"page",url:function(){return this.app.config.baseUrl+"/pages.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(e,t){this.set(e);this.app=t.app||{};this.model=function(e,n){var i=t.app.db.createModel("page"),r=i.parse(e);return t.app.db.fetchModel("page",r.id,r)}},comparator:function(e){return e.get("priority")}});module.exports=i}();
},{"../models/page":68,"./base":77,"lodash":46}],72:[function(require,module,exports){
!function(){var e=require("./base"),t=require("../models/image.js"),n=require("../models/video.js"),i=require("lodash"),r=e.extend({name:"media",url:function(){return this.app.config.baseUrl+"/unprocessed.json"},initialize:function(e,t){this.set(e);this.app=t.app||{};this.model=function(e,n){if(e.type.toLowerCase()==="image"){return t.app.db.createModel("image").set(e)}else{return t.app.db.createModel("video").set(e)}}}});module.exports=r}();
},{"../models/image.js":48,"../models/video.js":50,"./base":77,"lodash":46}],74:[function(require,module,exports){
!function(){var e=require("./base"),t=require("../models/video"),n=require("lodash"),i=e.extend({name:"video",url:function(){return this.app.config.baseUrl+"/videos.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(e,t){this.set(e);this.app=t.app||{};this.model=function(e,n){var i=t.app.db.createModel("video");return t.app.db.createModel("video",i.parse(e))}}});module.exports=i}();
},{"../models/video":50,"./base":77,"lodash":46}],73:[function(require,module,exports){
!function(){var e=require("./base"),t=require("../models/image"),n=require("lodash"),i=e.extend({name:"image",url:function(){return this.app.config.baseUrl+"/images.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(e,t){this.set(e);this.app=t.app||{};this.model=function(e,n){var i=t.app.db.createModel("image");return t.app.db.createModel("image",i.parse(e))}}});module.exports=i}();
},{"../models/image":48,"./base":77,"lodash":46}],66:[function(require,module,exports){
!function(){var e=this;var t=e.Backbone;var i=[];var n=i.push;var r=i.slice;var s=i.splice;var o;if(typeof exports!=="undefined"){o=exports}else{o=e.Backbone={}}o.VERSION="1.0.0";var a=e._;if(!a&&typeof require!=="undefined")a=require("underscore");o.$=e.jQuery||e.Zepto||e.ender||e.$;o.noConflict=function(){e.Backbone=t;return this};o.emulateHTTP=false;o.emulateJSON=false;var l=o.Events={on:function(e,t,i){if(!c(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);n.push({callback:t,context:i,ctx:i||this});return this},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var n=this;var r=a.once(function(){n.off(e,r);t.apply(this,arguments)});r._callback=t;return this.on(e,r,i)},off:function(e,t,i){var n,r,s,o,l,u,f,h;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i){this._events={};return this}o=e?[e]:a.keys(this._events);for(l=0,u=o.length;l<u;l++){e=o[l];if(s=this._events[e]){this._events[e]=n=[];if(t||i){for(f=0,h=s.length;f<h;f++){r=s[f];if(t&&t!==r.callback&&t!==r.callback._callback||i&&i!==r.context){n.push(r)}}}if(!n.length)delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!c(this,"trigger",e,t))return this;var i=this._events[e];var n=this._events.all;if(i)f(i,t);if(n)f(n,arguments);return this},stopListening:function(e,t,i){var n=this._listeners;if(!n)return this;var r=!t&&!i;if(typeof t==="object")i=this;if(e)(n={})[e._listenerId]=e;for(var s in n){n[s].off(t,i,this);if(r)delete this._listeners[s]}return this}};var u=/\s+/;var c=function(e,t,i,n){if(!i)return true;if(typeof i==="object"){for(var r in i){e[t].apply(e,[r,i[r]].concat(n))}return false}if(u.test(i)){var s=i.split(u);for(var o=0,a=s.length;o<a;o++){e[t].apply(e,[s[o]].concat(n))}return false}return true};var f=function(e,t){var i,n=-1,r=e.length,s=t[0],o=t[1],a=t[2];switch(t.length){case 0:while(++n<r)(i=e[n]).callback.call(i.ctx);return;case 1:while(++n<r)(i=e[n]).callback.call(i.ctx,s);return;case 2:while(++n<r)(i=e[n]).callback.call(i.ctx,s,o);return;case 3:while(++n<r)(i=e[n]).callback.call(i.ctx,s,o,a);return;default:while(++n<r)(i=e[n]).callback.apply(i.ctx,t)}};var h={listenTo:"on",listenToOnce:"once"};a.each(h,function(e,t){l[t]=function(t,i,n){var r=this._listeners||(this._listeners={});var s=t._listenerId||(t._listenerId=a.uniqueId("l"));r[s]=t;if(typeof i==="object")n=this;t[e](i,n,this);return this}});l.bind=l.on;l.unbind=l.off;a.extend(o,l);var p=o.Model=function(e,t){var i;var n=e||{};t||(t={});this.cid=a.uniqueId("c");this.attributes={};a.extend(this,a.pick(t,d));if(t.parse)n=this.parse(n,t)||{};if(i=a.result(this,"defaults")){n=a.defaults({},n,i)}this.set(n,t);this.changed={};this.initialize.apply(this,arguments)};var d=["url","urlRoot","collection"];a.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return a.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,i){var n,r,s,o,l,u,c,f;if(e==null)return this;if(typeof e==="object"){r=e;i=t}else{(r={})[e]=t}i||(i={});if(!this._validate(r,i))return false;s=i.unset;l=i.silent;o=[];u=this._changing;this._changing=true;if(!u){this._previousAttributes=a.clone(this.attributes);this.changed={}}f=this.attributes,c=this._previousAttributes;if(this.idAttribute in r)this.id=r[this.idAttribute];for(n in r){t=r[n];if(!a.isEqual(f[n],t))o.push(n);if(!a.isEqual(c[n],t)){this.changed[n]=t}else{delete this.changed[n]}s?delete f[n]:f[n]=t}if(!l){if(o.length)this._pending=true;for(var h=0,p=o.length;h<p;h++){this.trigger("change:"+o[h],this,f[o[h]],i)}}if(u)return this;if(!l){while(this._pending){this._pending=false;this.trigger("change",this,i)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:true}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,a.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!a.isEmpty(this.changed);return a.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):false;var t,i=false;var n=this._changing?this._previousAttributes:this.attributes;for(var r in e){if(a.isEqual(n[r],t=e[r]))continue;(i||(i={}))[r]=t}return i},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{};if(e.parse===void 0)e.parse=true;var t=this;var i=e.success;e.success=function(n){if(!t.set(t.parse(n,e),e))return false;if(i)i(t,n,e);t.trigger("sync",t,n,e)};L(this,e);return this.sync("read",this,e)},save:function(e,t,i){var n,r,s,o=this.attributes;if(e==null||typeof e==="object"){n=e;i=t}else{(n={})[e]=t}if(n&&(!i||!i.wait)&&!this.set(n,i))return false;i=a.extend({validate:true},i);if(!this._validate(n,i))return false;if(n&&i.wait){this.attributes=a.extend({},o,n)}if(i.parse===void 0)i.parse=true;var l=this;var u=i.success;i.success=function(e){l.attributes=o;var t=l.parse(e,i);if(i.wait)t=a.extend(n||{},t);if(a.isObject(t)&&!l.set(t,i)){return false}if(u)u(l,e,i);l.trigger("sync",l,e,i)};L(this,i);r=this.isNew()?"create":i.patch?"patch":"update";if(r==="patch")i.attrs=n;s=this.sync(r,this,i);if(n&&i.wait)this.attributes=o;return s},destroy:function(e){e=e?a.clone(e):{};var t=this;var i=e.success;var n=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(r){if(e.wait||t.isNew())n();if(i)i(t,r,e);if(!t.isNew())t.trigger("sync",t,r,e)};if(this.isNew()){e.success();return false}L(this,e);var r=this.sync("delete",this,e);if(!e.wait)n();return r},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||D();if(this.isNew())return e;return e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},a.extend(e||{},{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=a.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;if(!i)return true;this.trigger("invalid",this,i,a.extend(t||{},{validationError:i}));return false}});var v=["keys","values","pairs","invert","pick","omit"];a.each(v,function(e){p.prototype[e]=function(){var t=r.call(arguments);t.unshift(this.attributes);return a[e].apply(a,t)}});var m=o.Collection=function(e,t){t||(t={});if(t.url)this.url=t.url;if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,a.extend({silent:true},t))};var g={add:true,remove:true,merge:true};var y={add:true,merge:false,remove:false};a.extend(m.prototype,l,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.defaults(t||{},y))},remove:function(e,t){e=a.isArray(e)?e.slice():[e];t||(t={});var i,n,r,s;for(i=0,n=e.length;i<n;i++){s=this.get(e[i]);if(!s)continue;delete this._byId[s.id];delete this._byId[s.cid];r=this.indexOf(s);this.models.splice(r,1);this.length--;if(!t.silent){t.index=r;s.trigger("remove",s,this,t)}this._removeReference(s)}return this},set:function(e,t){t=a.defaults(t||{},g);if(t.parse)e=this.parse(e,t);if(!a.isArray(e))e=e?[e]:[];var i,r,o,l,u,c;var f=t.at;var h=this.comparator&&f==null&&t.sort!==false;var p=a.isString(this.comparator)?this.comparator:null;var d=[],v=[],m={};for(i=0,r=e.length;i<r;i++){if(!(o=this._prepareModel(e[i],t)))continue;if(u=this.get(o)){if(t.remove)m[u.cid]=true;if(t.merge){u.set(o.attributes,t);if(h&&!c&&u.hasChanged(p))c=true}}else if(t.add){d.push(o);o.on("all",this._onModelEvent,this);this._byId[o.cid]=o;if(o.id!=null)this._byId[o.id]=o}}if(t.remove){for(i=0,r=this.length;i<r;++i){if(!m[(o=this.models[i]).cid])v.push(o)}if(v.length)this.remove(v,t)}if(d.length){if(h)c=true;this.length+=d.length;if(f!=null){s.apply(this.models,[f,0].concat(d))}else{n.apply(this.models,d)}}if(c)this.sort({silent:true});if(t.silent)return this;for(i=0,r=d.length;i<r;i++){(o=d[i]).trigger("add",o,this,t)}if(c)this.trigger("sort",this,t);return this},reset:function(e,t){t||(t={});for(var i=0,n=this.models.length;i<n;i++){this._removeReference(this.models[i])}t.previousModels=this.models;this._reset();this.add(e,a.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return this},push:function(e,t){e=this._prepareModel(e,t);this.add(e,a.extend({at:this.length},t));return e},pop:function(e){var t=this.at(this.length-1);this.remove(t,e);return t},unshift:function(e,t){e=this._prepareModel(e,t);this.add(e,a.extend({at:0},t));return e},shift:function(e){var t=this.at(0);this.remove(t,e);return t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){if(e==null)return void 0;return this._byId[e.id!=null?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){if(a.isEmpty(e))return t?void 0:[];return this[t?"find":"filter"](function(t){for(var i in e){if(e[i]!==t.get(i))return false}return true})},findWhere:function(e){return this.where(e,true)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");e||(e={});if(a.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(a.bind(this.comparator,this))}if(!e.silent)this.trigger("sort",this,e);return this},sortedIndex:function(e,t,i){t||(t=this.comparator);var n=a.isFunction(t)?t:function(e){return e.get(t)};return a.sortedIndex(this.models,e,n,i)},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{};if(e.parse===void 0)e.parse=true;var t=e.success;var i=this;e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e);if(t)t(i,n,e);i.trigger("sync",i,n,e)};L(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?a.clone(t):{};if(!(e=this._prepareModel(e,t)))return false;if(!t.wait)this.add(e,t);var i=this;var n=t.success;t.success=function(r){if(t.wait)i.add(e,t);if(n)n(e,r,t)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(e instanceof p){if(!e.collection)e.collection=this;return e}t||(t={});t.collection=this;var i=new this.model(e,t);if(!i._validate(e,t)){this.trigger("invalid",this,e,t);return false}return i},_removeReference:function(e){if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){if((e==="add"||e==="remove")&&i!==this)return;if(e==="destroy")this.remove(t,n);if(t&&e==="change:"+t.idAttribute){delete this._byId[t.previous(t.idAttribute)];if(t.id!=null)this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(b,function(e){m.prototype[e]=function(){var t=r.call(arguments);t.unshift(this.models);return a[e].apply(a,t)}});var j=["groupBy","countBy","sortBy"];a.each(j,function(e){m.prototype[e]=function(t,i){var n=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,n,i)}});var x=o.View=function(e){this.cid=a.uniqueId("view");this._configure(e||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var w=/^(\S+)\s*(.*)$/;var _=["model","collection","el","id","attributes","className","tagName","events"];a.extend(x.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(e,t){if(this.$el)this.undelegateEvents();this.$el=e instanceof o.$?e:o.$(e);this.el=this.$el[0];if(t!==false)this.delegateEvents();return this},delegateEvents:function(e){if(!(e||(e=a.result(this,"events"))))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(!a.isFunction(i))i=this[e[t]];if(!i)continue;var n=t.match(w);var r=n[1],s=n[2];i=a.bind(i,this);r+=".delegateEvents"+this.cid;if(s===""){this.$el.on(r,i)}else{this.$el.on(r,s,i)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(e){if(this.options)e=a.extend({},a.result(this,"options"),e);a.extend(this,a.pick(e,_));this.options=e},_ensureElement:function(){if(!this.el){var e=a.extend({},a.result(this,"attributes"));if(this.id)e.id=a.result(this,"id");if(this.className)e["class"]=a.result(this,"className");var t=o.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(t,false)}else{this.setElement(a.result(this,"el"),false)}}});o.sync=function(e,t,i){var n=T[e];a.defaults(i||(i={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var r={type:n,dataType:"json"};if(!i.url){r.url=a.result(t,"url")||D()}if(i.data==null&&t&&(e==="create"||e==="update"||e==="patch")){r.contentType="application/json";r.data=JSON.stringify(i.attrs||t.toJSON(i))}if(i.emulateJSON){r.contentType="application/x-www-form-urlencoded";r.data=r.data?{model:r.data}:{}}if(i.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){r.type="POST";if(i.emulateJSON)r.data._method=n;var s=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",n);if(s)return s.apply(this,arguments)}}if(r.type!=="GET"&&!i.emulateJSON){r.processData=false}if(r.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var l=i.xhr=o.ajax(a.extend(r,i));t.trigger("request",t,l,i);return l};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var C=o.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var k=/\((.*?)\)/g;var E=/(\(\?)?:\w+/g;var S=/\*\w+/g;var N=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(C.prototype,l,{initialize:function(){},route:function(e,t,i){if(!a.isRegExp(e))e=this._routeToRegExp(e);if(a.isFunction(t)){i=t;t=""}if(!i)i=this[t];var n=this;o.history.route(e,function(r){var s=n._extractParameters(e,r);i&&i.apply(n,s);n.trigger.apply(n,["route:"+t].concat(s));n.trigger("route",t,s);o.history.trigger("route",n,t,s)});return this},navigate:function(e,t){o.history.navigate(e,t);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=a.result(this,"routes");var e,t=a.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(N,"\\$&").replace(k,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/]+)"}).replace(S,"(.*?)");return new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return a.map(i,function(e){return e?decodeURIComponent(e):null})}});var P=o.History=function(){this.handlers=[];a.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var A=/^[#\/]|\s+$/g;var M=/^\/+|\/+$/g;var I=/msie [\w.]+/;var F=/\/$/;P.started=false;a.extend(P.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null){if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace(F,"");if(!e.indexOf(i))e=e.substr(i.length)}else{e=this.getHash()}}return e.replace(A,"")},start:function(e){if(P.started)throw new Error("Backbone.history has already been started");P.started=true;this.options=a.extend({},{root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment();var i=document.documentMode;var n=I.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(M,"/");if(n&&this._wantsHashChange){this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(t)}if(this._hasPushState){o.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!n){o.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=t;var r=this.location;var s=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&s&&r.hash){this.fragment=this.getHash().replace(A,"");this.history.replaceState({},document.title,this.root+this.fragment+r.search)}if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);P.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getFragment(this.getHash(this.iframe))}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e);var i=a.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}});return i},navigate:function(e,t){if(!P.started)return false;if(!t||t===true)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var i=this.root+e;if(this._hasPushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getFragment(this.getHash(this.iframe))){if(!t.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,e,t.replace)}}else{return this.location.assign(i)}if(t.trigger)this.loadUrl(e)},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else{e.hash="#"+t}}});o.history=new P;var O=function(e,t){var i=this;var n;if(e&&a.has(e,"constructor")){n=e.constructor}else{n=function(){return i.apply(this,arguments)}}a.extend(n,i,t);var r=function(){this.constructor=n};r.prototype=i.prototype;n.prototype=new r;if(e)a.extend(n.prototype,e);n.__super__=i.prototype;return n};p.extend=m.extend=C.extend=x.extend=P.extend=O;var D=function(){throw new Error('A "url" property or function must be specified')};var L=function(e,t){var i=t.error;t.error=function(n){if(i)i(e,n,t);e.trigger("error",e,n,t)}}}.call(this);
},{"underscore":86}],85:[function(require,module,exports){
var core=require("./core"),inflection=require("./inflection"),string;string=new function(){var e=/^\s+/,t=/\s+$/,i=/^\s+|\s+$/g,n=/\n|\r|\r\n/g,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o,a;o=function(e){return function(t){var i=t;if(typeof i==="undefined"||i===null||!i&&isNaN(i)){i=""}i=i.toString();var n,s,o;for(o in r){n=e=="to"?o:r[o];s=e=="to"?r[o]:o;i=i.replace(new RegExp(n,"gm"),s)}return i}};a=function(e){return function(t){var i="",n;for(n in r){i+=e=="to"?n:r[n];i+="|"}i=i.substr(0,i.length-1);i=new RegExp(i,"gm");return i.test(t)}};this.escapeXML=o("to");this.unescapeXML=o("from");this.needsEscape=a("to");this.needsUnescape=a("from");this.escapeRegExpChars=function(){var e=["^","$","/",".","*","+","?","|","(",")","[","]","{","}","\\"];sRE=new RegExp("(\\"+e.join("|\\")+")","g");return function(e){var t=e||"";t=String(t);return t.replace(sRE,"\\$1")}}.call(this);this.toArray=function(e){var t=e||"",i=[],n=-1;t=String(t);while(++n<t.length){i.push(t.substr(n,1))}return i};this.reverse=function(e){var t=e||"";t=String(t);return this.toArray(t).reverse().join("")};this.ltrim=function(t,i){var n=t||"",r=i?new RegExp("^"+i+"+"):e;n=String(n);return n.replace(r,"")};this.rtrim=function(e,i){var n=e||"",r=i?new RegExp(i+"+$"):t;n=String(n);return n.replace(r,"")};this.chomp=this.rtrim;this.trim=function(e,t){var n=e||"",r=t?new RegExp("^"+t+"+|"+t+"+$","g"):i;n=String(n);return n.replace(r,"")};this.chop=function(e){var t,i=e||"";i=String(i);if(i.length){t=i.indexOf("\r\n");if(t==i.length-2){return i.substring(0,t)}return i.substring(0,i.length-1)}else{return""}};this.lpad=function(e,t,i){var n=e||"",i;n=String(n);i=parseInt(i,10)||n.length;t=t||" ";while(n.length<i){n=t+n}return n};this.rpad=function(e,t,i){var n=e||"",i;n=String(n);i=parseInt(i,10)||n.length;t=t||" ";while(n.length<i){n+=t}return n};this.pad=function(e,t,i){var n=e||"",i;n=String(n);i=parseInt(i,10)||n.length;t=t||" ";while(n.length<i){n=t+n+t}return n};this.truncate=function(e,t,i){var n=e||"",r,s,o,a,l,u,c,f,h,p,d;n=String(n);r=n.length;if(typeof t==="number"){s={length:t}}else{s=t||{}}s.length=s.length||r;s.omission=s.omission||s.ellipsis||"...";o=s.length-s.omission.length;if(s.seperator){if(s.seperator instanceof RegExp){if(s.seperator.global){s.seperator=s.seperator}else{l=s.seperator.ignoreCase?"i":"";u=s.seperator.multiLine?"m":"";s.seperator=new RegExp(s.seperator.source,"g"+l+u)}c=n.substring(0,o+1);f=-1;h=0;while(p=s.seperator.exec(c)){f=p.index;s.seperator.lastIndex=++h}a=f}else{a=n.lastIndexOf(s.seperator,o)}if(a===-1){a=o}}else{a=o}if(r<s.length){return n}else{d=n.substring(0,a)+s.omission;d+=i&&typeof i==="function"?i():"";return d}};this.truncateHTML=function(e,t,i){var n=e||"",r="",s=t;n=String(n);if(typeof s==="number"){var o=s;s={};s.length=o}else s=s||{};s.once=s.once||false;var a=/(<[^>]*>)/,l=[],u=false,c=a.exec(n),f,h,p,d;while(c){h=c.index;p=a.lastIndex;if(h!==0){l.push(n.substring(0,h));n=n.slice(h)}l.push(c[0]);n=n.slice(c[0].length);c=a.exec(n)}if(n!==""){l.push(n)}d=-1;while(++d<l.length){f=l[d];switch(true){case f.indexOf("</")==0:r+=f;openTag=null;break;case f.indexOf("<")==0:r+=f;openTag=f;break;default:if(s.once&&u){r+=f}else{r+=this.truncate(f,s,i);u=true}break}}return r};this.nl2br=function(e){var t=e||"";t=String(t);return t.replace(n,"<br />")};this.snakeize=function(){var e=/([A-Z]+)/g,t=/^_/g;return function(i,n){var r=i||"",s=n||"_",o=n?new RegExp("^"+s,"g"):t;r=String(r);return r.replace(e,s+"$1").toLowerCase().replace(o,"")}}.call(this);this.underscorize=this.snakeize;this.underscoreize=this.snakeize;this.decamelize=this.snakeize;this.camelize=function(){var e=/[-_](\w)/g;return function(t,i){var n=t||"",r,s={initialCap:false,leadingUnderscore:false},o=i||{};n=String(n);if(typeof o=="boolean"){s={initialCap:true}}else{core.mixin(s,o)}r=n.replace(e,function(e,t){return t.toUpperCase()});if(s.leadingUnderscore&n.indexOf("_")===0){r="_"+this.decapitalize(r)}r=s.initialCap?this.capitalize(r):this.decapitalize(r);return r}}.call(this);this.decapitalize=function(e){var t=e||"";t=String(t);return t.substr(0,1).toLowerCase()+t.substr(1)};this.capitalize=function(e){var t=e||"";t=String(t);return t.substr(0,1).toUpperCase()+t.substr(1)};this.dasherize=function(e,t){var i=t||"-";return this.snakeize(e,i)};this.include=function(e,t){var i=t;if(!i&&typeof string!="string"){return false}i=String(i);return e.indexOf(i)>-1};this.getInflections=function(e){if(!e){return}var t=this,i=this.snakeize(inflection.pluralize(e)),n=inflection.singularize(i),r=inflection.pluralize(i);return{filename:{singular:n,plural:r},constructor:{singular:t.camelize(n,{initialCap:true}),plural:t.camelize(r,{initialCap:true})},property:{singular:t.camelize(n),plural:t.camelize(r)}}};this.getInflection=function(e,t,i){var n=this.getInflections(e);return n[t][i]};this.uuid=function(e,t){var i=s,n=[],r,o;t=t||i.length;if(e){o=-1;while(++o<e){n[o]=i[0|Math.random()*t]}}else{n[8]=n[13]=n[18]=n[23]="-";n[14]="4";o=-1;while(++o<36){if(!n[o]){r=0|Math.random()*16;n[o]=i[o==19?r&3|8:r]}}}return n.join("")}};module.exports=string;
},{"./core":87,"./inflection":88}],86:[function(require,module,exports){
!function(){var e=this;var t=e._;var n={};var i=Array.prototype,r=Object.prototype,s=Function.prototype;var o=i.push,a=i.slice,l=i.concat,u=r.toString,c=r.hasOwnProperty;var f=i.forEach,p=i.map,h=i.reduce,d=i.reduceRight,v=i.filter,m=i.every,g=i.some,y=i.indexOf,b=i.lastIndexOf,j=Array.isArray,x=Object.keys,w=s.bind;var _=function(e){if(e instanceof _)return e;if(!(this instanceof _))return new _(e);this._wrapped=e};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{e._=_}_.VERSION="1.5.1";var T=_.each=_.forEach=function(e,t,i){if(e==null)return;if(f&&e.forEach===f){e.forEach(t,i)}else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++){if(t.call(i,e[r],r,e)===n)return}}else{for(var o in e){if(_.has(e,o)){if(t.call(i,e[o],o,e)===n)return}}}};_.map=_.collect=function(e,t,n){var i=[];if(e==null)return i;if(p&&e.map===p)return e.map(t,n);T(e,function(e,r,s){i.push(t.call(n,e,r,s))});return i};var C="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(e,t,n,i){var r=arguments.length>2;if(e==null)e=[];if(h&&e.reduce===h){if(i)t=_.bind(t,i);return r?e.reduce(t,n):e.reduce(t)}T(e,function(e,s,o){if(!r){n=e;r=true}else{n=t.call(i,n,e,s,o)}});if(!r)throw new TypeError(C);return n};_.reduceRight=_.foldr=function(e,t,n,i){var r=arguments.length>2;if(e==null)e=[];if(d&&e.reduceRight===d){if(i)t=_.bind(t,i);return r?e.reduceRight(t,n):e.reduceRight(t)}var s=e.length;if(s!==+s){var o=_.keys(e);s=o.length}T(e,function(a,l,u){l=o?o[--s]:--s;if(!r){n=e[l];r=true}else{n=t.call(i,n,e[l],l,u)}});if(!r)throw new TypeError(C);return n};_.find=_.detect=function(e,t,n){var i;k(e,function(e,r,s){if(t.call(n,e,r,s)){i=e;return true}});return i};_.filter=_.select=function(e,t,n){var i=[];if(e==null)return i;if(v&&e.filter===v)return e.filter(t,n);T(e,function(e,r,s){if(t.call(n,e,r,s))i.push(e)});return i};_.reject=function(e,t,n){return _.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)};_.every=_.all=function(e,t,i){t||(t=_.identity);var r=true;if(e==null)return r;if(m&&e.every===m)return e.every(t,i);T(e,function(e,s,o){if(!(r=r&&t.call(i,e,s,o)))return n});return!!r};var k=_.some=_.any=function(e,t,i){t||(t=_.identity);var r=false;if(e==null)return r;if(g&&e.some===g)return e.some(t,i);T(e,function(e,s,o){if(r||(r=t.call(i,e,s,o)))return n});return!!r};_.contains=_.include=function(e,t){if(e==null)return false;if(y&&e.indexOf===y)return e.indexOf(t)!=-1;return k(e,function(e){return e===t})};_.invoke=function(e,t){var n=a.call(arguments,2);var i=_.isFunction(t);return _.map(e,function(e){return(i?t:e[t]).apply(e,n)})};_.pluck=function(e,t){return _.map(e,function(e){return e[t]})};_.where=function(e,t,n){if(_.isEmpty(t))return n?void 0:[];return _[n?"find":"filter"](e,function(e){for(var n in t){if(t[n]!==e[n])return false}return true})};_.findWhere=function(e,t){return _.where(e,t,true)};_.max=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.max.apply(Math,e)}if(!t&&_.isEmpty(e))return-Infinity;var i={computed:-Infinity,value:-Infinity};T(e,function(e,r,s){var o=t?t.call(n,e,r,s):e;o>i.computed&&(i={value:e,computed:o})});return i.value};_.min=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0]&&e.length<65535){return Math.min.apply(Math,e)}if(!t&&_.isEmpty(e))return Infinity;var i={computed:Infinity,value:Infinity};T(e,function(e,r,s){var o=t?t.call(n,e,r,s):e;o<i.computed&&(i={value:e,computed:o})});return i.value};_.shuffle=function(e){var t;var n=0;var i=[];T(e,function(e){t=_.random(n++);i[n-1]=i[t];i[t]=e});return i};var E=function(e){return _.isFunction(e)?e:function(t){return t[e]}};_.sortBy=function(e,t,n){var i=E(t);return _.pluck(_.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria;var i=t.criteria;if(n!==i){if(n>i||n===void 0)return 1;if(n<i||i===void 0)return-1}return e.index<t.index?-1:1}),"value")};var S=function(e,t,n,i){var r={};var s=E(t==null?_.identity:t);T(e,function(t,o){var a=s.call(n,t,o,e);i(r,a,t)});return r};_.groupBy=function(e,t,n){return S(e,t,n,function(e,t,n){(_.has(e,t)?e[t]:e[t]=[]).push(n)})};_.countBy=function(e,t,n){return S(e,t,n,function(e,t){if(!_.has(e,t))e[t]=0;e[t]++})};_.sortedIndex=function(e,t,n,i){n=n==null?_.identity:E(n);var r=n.call(i,t);var s=0,o=e.length;while(s<o){var a=s+o>>>1;n.call(i,e[a])<r?s=a+1:o=a}return s};_.toArray=function(e){if(!e)return[];if(_.isArray(e))return a.call(e);if(e.length===+e.length)return _.map(e,_.identity);return _.values(e)};_.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:_.keys(e).length};_.first=_.head=_.take=function(e,t,n){if(e==null)return void 0;return t!=null&&!n?a.call(e,0,t):e[0]};_.initial=function(e,t,n){return a.call(e,0,e.length-(t==null||n?1:t))};_.last=function(e,t,n){if(e==null)return void 0;if(t!=null&&!n){return a.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};_.rest=_.tail=_.drop=function(e,t,n){return a.call(e,t==null||n?1:t)};_.compact=function(e){return _.filter(e,_.identity)};var N=function(e,t,n){if(t&&_.every(e,_.isArray)){return l.apply(n,e)}T(e,function(e){if(_.isArray(e)||_.isArguments(e)){t?o.apply(n,e):N(e,t,n)}else{n.push(e)}});return n};_.flatten=function(e,t){return N(e,t,[])};_.without=function(e){return _.difference(e,a.call(arguments,1))};_.uniq=_.unique=function(e,t,n,i){if(_.isFunction(t)){i=n;n=t;t=false}var r=n?_.map(e,n,i):e;var s=[];var o=[];T(r,function(n,i){if(t?!i||o[o.length-1]!==n:!_.contains(o,n)){o.push(n);s.push(e[i])}});return s};_.union=function(){return _.uniq(_.flatten(arguments,true))};_.intersection=function(e){var t=a.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})};_.difference=function(e){var t=l.apply(i,a.call(arguments,1));return _.filter(e,function(e){return!_.contains(t,e)})};_.zip=function(){var e=_.max(_.pluck(arguments,"length").concat(0));var t=new Array(e);for(var n=0;n<e;n++){t[n]=_.pluck(arguments,""+n)}return t};_.object=function(e,t){if(e==null)return{};var n={};for(var i=0,r=e.length;i<r;i++){if(t){n[e[i]]=t[i]}else{n[e[i][0]]=e[i][1]}}return n};_.indexOf=function(e,t,n){if(e==null)return-1;var i=0,r=e.length;if(n){if(typeof n=="number"){i=n<0?Math.max(0,r+n):n}else{i=_.sortedIndex(e,t);return e[i]===t?i:-1}}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i<r;i++)if(e[i]===t)return i;return-1};_.lastIndexOf=function(e,t,n){if(e==null)return-1;var i=n!=null;if(b&&e.lastIndexOf===b){return i?e.lastIndexOf(t,n):e.lastIndexOf(t)}var r=i?n:e.length;while(r--)if(e[r]===t)return r;return-1};_.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var i=Math.max(Math.ceil((t-e)/n),0);var r=0;var s=new Array(i);while(r<i){s[r++]=e;e+=n}return s};var A=function(){};_.bind=function(e,t){var n,i;if(w&&e.bind===w)return w.apply(e,a.call(arguments,1));if(!_.isFunction(e))throw new TypeError;n=a.call(arguments,2);return i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));A.prototype=e.prototype;var r=new A;A.prototype=null;var s=e.apply(r,n.concat(a.call(arguments)));if(Object(s)===s)return s;return r}};_.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}};_.bindAll=function(e){var t=a.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");T(t,function(t){e[t]=_.bind(e[t],e)});return e};_.memoize=function(e,t){var n={};t||(t=_.identity);return function(){var i=t.apply(this,arguments);return _.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}};_.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};_.defer=function(e){return _.delay.apply(_,[e,1].concat(a.call(arguments,1)))};_.throttle=function(e,t,n){var i,r,s;var o=null;var a=0;n||(n={});var l=function(){a=n.leading===false?0:new Date;o=null;s=e.apply(i,r)};return function(){var u=new Date;if(!a&&n.leading===false)a=u;var c=t-(u-a);i=this;r=arguments;if(c<=0){clearTimeout(o);o=null;a=u;s=e.apply(i,r)}else if(!o&&n.trailing!==false){o=setTimeout(l,c)}return s}};_.debounce=function(e,t,n){var i;var r=null;return function(){var s=this,o=arguments;var a=function(){r=null;if(!n)i=e.apply(s,o)};var l=n&&!r;clearTimeout(r);r=setTimeout(a,t);if(l)i=e.apply(s,o);return i}};_.once=function(e){var t=false,n;return function(){if(t)return n;t=true;n=e.apply(this,arguments);e=null;return n}};_.wrap=function(e,t){return function(){var n=[e];o.apply(n,arguments);return t.apply(this,n)}};_.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};_.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};_.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)if(_.has(e,n))t.push(n);return t};_.values=function(e){var t=[];for(var n in e)if(_.has(e,n))t.push(e[n]);return t};_.pairs=function(e){var t=[];for(var n in e)if(_.has(e,n))t.push([n,e[n]]);return t};_.invert=function(e){var t={};for(var n in e)if(_.has(e,n))t[e[n]]=n;return t};_.functions=_.methods=function(e){var t=[];for(var n in e){if(_.isFunction(e[n]))t.push(n)}return t.sort()};_.extend=function(e){T(a.call(arguments,1),function(t){if(t){for(var n in t){e[n]=t[n]}}});return e};_.pick=function(e){var t={};var n=l.apply(i,a.call(arguments,1));T(n,function(n){if(n in e)t[n]=e[n]});return t};_.omit=function(e){var t={};var n=l.apply(i,a.call(arguments,1));for(var r in e){if(!_.contains(n,r))t[r]=e[r]}return t};_.defaults=function(e){T(a.call(arguments,1),function(t){if(t){for(var n in t){if(e[n]===void 0)e[n]=t[n]}}});return e};_.clone=function(e){if(!_.isObject(e))return e;return _.isArray(e)?e.slice():_.extend({},e)};_.tap=function(e,t){t(e);return e};var M=function(e,t,n,i){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e instanceof _)e=e._wrapped;if(t instanceof _)t=t._wrapped;var r=u.call(e);if(r!=u.call(t))return false;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var s=n.length;while(s--){if(n[s]==e)return i[s]==t}var o=e.constructor,a=t.constructor;if(o!==a&&!(_.isFunction(o)&&o instanceof o&&_.isFunction(a)&&a instanceof a)){return false}n.push(e);i.push(t);var l=0,c=true;if(r=="[object Array]"){l=e.length;c=l==t.length;if(c){while(l--){if(!(c=M(e[l],t[l],n,i)))break}}}else{for(var f in e){if(_.has(e,f)){l++;if(!(c=_.has(t,f)&&M(e[f],t[f],n,i)))break}}if(c){for(f in t){if(_.has(t,f)&&!l--)break}c=!l}}n.pop();i.pop();return c};_.isEqual=function(e,t){return M(e,t,[],[])};_.isEmpty=function(e){if(e==null)return true;if(_.isArray(e)||_.isString(e))return e.length===0;for(var t in e)if(_.has(e,t))return false;return true};_.isElement=function(e){return!!(e&&e.nodeType===1)};_.isArray=j||function(e){return u.call(e)=="[object Array]"};_.isObject=function(e){return e===Object(e)};T(["Arguments","Function","String","Number","Date","RegExp"],function(e){_["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}});if(!_.isArguments(arguments)){_.isArguments=function(e){return!!(e&&_.has(e,"callee"))}}if(typeof/./!=="function"){_.isFunction=function(e){return typeof e==="function"}}_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};_.isNaN=function(e){return _.isNumber(e)&&e!=+e};_.isBoolean=function(e){return e===true||e===false||u.call(e)=="[object Boolean]"};_.isNull=function(e){return e===null};_.isUndefined=function(e){return e===void 0};_.has=function(e,t){return c.call(e,t)};_.noConflict=function(){e._=t;return this};_.identity=function(e){return e};_.times=function(e,t,n){var i=Array(Math.max(0,e));for(var r=0;r<e;r++)i[r]=t.call(n,r);return i};_.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=_.invert(P.escape);var I={escape:new RegExp("["+_.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(P.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(e){_[e]=function(t){if(t==null)return"";return(""+t).replace(I[e],function(t){return P[e][t]})}});_.result=function(e,t){if(e==null)return void 0;var n=e[t];return _.isFunction(n)?n.call(e):n};_.mixin=function(e){T(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];o.apply(e,arguments);return q.call(this,n.apply(_,e))}})};var F=0;_.uniqueId=function(e){var t=++F+"";return e?e+t:t};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/;var D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var L=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(e,t,n){var i;n=_.defaults({},n,_.templateSettings);var r=new RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g");var s=0;var o="__p+='";e.replace(r,function(t,n,i,r,a){o+=e.slice(s,a).replace(L,function(e){return"\\"+D[e]});if(n){o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}if(i){o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"}if(r){o+="';\n"+r+"\n__p+='"}s=a+t.length;return t});o+="';\n";if(!n.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(a){a.source=o;throw a}if(t)return i(t,_);var l=function(e){return i.call(this,e,_)};l.source="function("+(n.variable||"obj")+"){\n"+o+"}";return l};_.chain=function(e){return _(e).chain()};var q=function(e){return this._chain?_(e).chain():e};_.mixin(_);T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];_.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e=="shift"||e=="splice")&&n.length===0)delete n[0];return q.call(this,n)}});T(["concat","join","slice"],function(e){var t=i[e];_.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}});_.extend(_.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}.call(this);
},{}],87:[function(require,module,exports){
var core=new function(){var e=function(t,n,i,r){for(var s in n){if(n.hasOwnProperty(s)||r){if(i&&typeof n[s]=="object"&&n[s]!==null&&!(n[s]instanceof Array)){if(t[s]==undefined){t[s]={}}e(t[s],n[s],i,r)}else{t[s]=n[s]}}}};this.mixin=function(){var t=Array.prototype.slice.apply(arguments),n=false,i,r;if(t.length>2){if(typeof t[t.length-1]=="boolean"){n=t.pop()}}i=t.shift();r=t;for(var s=0,o=r.length;s<o;s++){e(i,r[s],n)}return i};this.enhance=function(){var t=Array.prototype.slice.apply(arguments),n=false,i,r;if(t.length>2){if(typeof t[t.length-1]=="boolean"){n=t.pop()}}i=t.shift();r=t;for(var s=0,o=r.length;s<o;s++){e(i,r[s],n,true)}return i};this.isEmpty=function(e){if(e===""||e==undefined){return true}if(typeof e=="number"&&isNaN(e)){return true}if(e instanceof Date&&isNaN(e.getTime())){return true}return false}};module.exports=core;
},{}],88:[function(require,module,exports){
var inflection=new function(){this.inflections={plurals:[],singulars:[],uncountables:[]};var e=this,t,n,i,r,s;t=function(t,n,i){e.inflections[t].unshift([n,i])};n=function(e,n){t("plurals",e,n)};i=function(e,n){t("singulars",e,n)};s=function(e,t){if(e.substr(0,1).toUpperCase()==t.substr(0,1).toUpperCase()){n(new RegExp("("+e.substr(0,1)+")"+e.substr(1)+"$","i"),"$1"+t.substr(1));n(new RegExp("("+t.substr(0,1)+")"+t.substr(1)+"$","i"),"$1"+t.substr(1));i(new RegExp("("+t.substr(0,1)+")"+t.substr(1)+"$","i"),"$1"+e.substr(1))}else{n(new RegExp(e.substr(0,1).toUpperCase()+e.substr(1)+"$"),t.substr(0,1).toUpperCase()+t.substr(1));n(new RegExp(e.substr(0,1).toLowerCase()+e.substr(1)+"$"),t.substr(0,1).toLowerCase()+t.substr(1));n(new RegExp(t.substr(0,1).toUpperCase()+t.substr(1)+"$"),t.substr(0,1).toUpperCase()+t.substr(1));n(new RegExp(t.substr(0,1).toLowerCase()+t.substr(1)+"$"),t.substr(0,1).toLowerCase()+t.substr(1));i(new RegExp(t.substr(0,1).toUpperCase()+t.substr(1)+"$"),e.substr(0,1).toUpperCase()+e.substr(1));i(new RegExp(t.substr(0,1).toLowerCase()+t.substr(1)+"$"),e.substr(0,1).toLowerCase()+e.substr(1))}};r=function(t){e.inflections.uncountables[t]=true};!function(){n(/$/,"s");n(/s$/i,"s");n(/(ax|test)is$/i,"$1es");n(/(octop|vir)us$/i,"$1i");n(/(alias|status)$/i,"$1es");n(/(bu)s$/i,"$1ses");n(/(buffal|tomat)o$/i,"$1oes");n(/([ti])um$/i,"$1a");n(/sis$/i,"ses");n(/(?:([^f])fe|([lr])f)$/i,"$1$2ves");n(/(hive)$/i,"$1s");n(/([^aeiouy]|qu)y$/i,"$1ies");n(/(x|ch|ss|sh)$/i,"$1es");n(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices");n(/([m|l])ouse$/i,"$1ice");n(/^(ox)$/i,"$1en");n(/(quiz)$/i,"$1zes");i(/s$/i,"");i(/ss$/i,"ss");i(/(n)ews$/i,"$1ews");i(/([ti])a$/i,"$1um");i(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis");i(/(^analy)ses$/i,"$1sis");i(/([^f])ves$/i,"$1fe");i(/(hive)s$/i,"$1");i(/(tive)s$/i,"$1");i(/([lr])ves$/i,"$1f");i(/([^aeiouy]|qu)ies$/i,"$1y");i(/(s)eries$/i,"$1eries");i(/(m)ovies$/i,"$1ovie");i(/(x|ch|ss|sh)es$/i,"$1");i(/([m|l])ice$/i,"$1ouse");i(/(bus)es$/i,"$1");i(/(o)es$/i,"$1");i(/(shoe)s$/i,"$1");i(/(cris|ax|test)es$/i,"$1is");i(/(octop|vir)i$/i,"$1us");i(/(alias|status)es$/i,"$1");i(/^(ox)en/i,"$1");i(/(vert|ind)ices$/i,"$1ex");i(/(matr)ices$/i,"$1ix");i(/(quiz)zes$/i,"$1");i(/(database)s$/i,"$1");s("person","people");s("man","men");s("child","children");s("sex","sexes");s("move","moves");s("cow","kine");r("equipment");r("information");r("rice");r("money");r("species");r("series");r("fish");r("sheep");r("jeans")}();this.parse=function(e,t){var n=t.toLowerCase(),i=this.inflections[e];if(this.inflections.uncountables[n]){return t}var r=-1;while(++r<i.length){var s=i[r][0],o=i[r][1];if(s.test(t)){return t.replace(s,o)}}return t};this.pluralize=function(e){return this.parse("plurals",e)};this.singularize=function(e){return this.parse("singulars",e)}};module.exports=inflection;
},{}],21:[function(require,module,exports){
!function(){var e=require("../../base"),t=require("../../layout/navbar.js"),n=require("../../layout/footer.js"),i=require("lodash"),r=require("../../../helpers/BackboneLoader"),s=e.extend({template:require("../../../templates/routes/pages/create.hbs"),events:{submit:"performSave","click a.app":"handleAppLink"},initialize:function(e){this.app=e.app;this.model=this.app.db.createModel("page");this.listenTo(this.model,"invalid",function(e,t){this.app.error(this.model,t)},this);this.listenTo(this.app.getUser(),"change",this.render,this);this.toggleContact=i.bind(this.toggleContact,this)},remove:function(){this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact);r.View.prototype.remove.apply(this,arguments)},afterRender:function(){var e;var i=new t({app:this.app}),r=new n({app:this.app});this.appendSubview(i,this.$("#header"));this.appendSubview(r,this.$("#footer"));this.eachSubview(function(e){e.render()});e=this.$("input[name=name]");if(e.val().replace(/]w/,"")==""){e.val("").focus()}this.$(".switch").bootstrapSwitch();this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact)},context:function(){var e=this.app.getCustomization(),t;if(e&&e.attributes&&e.attributes.config){t=e.attributes.config;return this.getContext({showContact:t.showContact?t.showContact.value:false})}else{return this.getContext({showContact:false})}},performSave:function(e){var t=this;e.preventDefault();var n=this.$("input[name=name]").val();t.model.save({userId:t.app.getUser().id,name:n,priority:t.app.db.fetchCollection("pages").length},{success:function(){t.app.db.fetchCollection("pages").add(t.model);t.app.navigate("page/"+n,{trigger:true})},error:t.app.error})},toggleContact:function(e){var t=this,n=this.$("input[name=showContact]").parent().hasClass("switch-on"),i=this.app.getCustomization(),r=i.attributes.config;e.stopPropagation();e.preventDefault();this.app.setFlash("info","Turning contact page "+(n?"on":"off")+"...");if(!r.showContact){r.showContact={type:"boolean",name:"Show Contact Page","default":false}}r.showContact.value=n;i.set("config",r);i.save({},{success:function(){t.app.setFlash("success","Your contact page has been turned "+(n?"on":"off"));t.render()},error:t.app.error})}});module.exports=s}();
},{"../../../helpers/BackboneLoader":43,"../../../templates/routes/pages/create.hbs":89,"../../base":56,"../../layout/footer.js":55,"../../layout/navbar.js":53,"lodash":46}],31:[function(require,module,exports){
!function(){var e=require("../../base"),t=require("lodash"),n=require("../../layout/navbar.js"),i=require("../../layout/footer.js"),r=require("../../../helpers/lib/holder.js"),s=e.extend({template:require("../../../templates/routes/media/pick.hbs"),events:{"click .reelgrid a":"appendMedia"},initialize:function(e){this.app=e.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});this.images=this.app.db.fetchCollection("images");this.videos=this.app.db.fetchCollection("videos");var t=this.app.db.fetchCollection("pages");this.listenTo(this.images,"add remove change sort",this.render,this);this.listenTo(this.videos,"add remove change sort",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);t.once("ready",function(){var n=t.find(function(t){return t.attributes.name.toLowerCase()===e.pageName.toLowerCase()});if(n){this.page=n;this.listenTo(this.page,"change ready",this.render,this)}else{this.page.set({name:"404"});this.app.error("Error 404: The page could not be found")}},this)},afterRender:function(){var e=new n({app:this.app}),t=new i({app:this.app});this.appendSubview(e,this.$("#header"));this.appendSubview(t,this.$("#footer"));this.eachSubview(function(e){e.render()});r.run()},context:function(){var e=[];var t=encodeURIComponent(this.page.attributes.name);if(this.images){this.images.forEach(function(n){e.push(n.templateVars(t))})}if(this.videos){this.videos.forEach(function(n){e.push(n.templateVars(t))})}return this.getContext({media:e,page:this.page.attributes,uploadUrl:"page/"+t+"/addMedia"})},appendMedia:function(e){e.preventDefault();e.stopPropagation();var n=this,i=n.page.attributes?encodeURIComponent(n.page.attributes.name):"undefined",r,s=e.target,o;while(s.tagName.toLowerCase()!="a"){s=s.parentElement}s=$(s);n.app.setFlash("info","Adding to page...");o=this.app.db.fetchModel(s.attr("data-media-type"),s.attr("data-media-id"));o.once("ready",function(){if(n.page.attributes.name!=="Loading..."){r=t.clone(n.page.attributes.items);r.push({ID:o.id,NAME:o.attributes.name,TYPE:o.attributes.type.toLowerCase(),THUMB:o.templateVars().thumbnailUrl});n.page.save({items:r},{success:function(){n.app.navigate("page/"+i,{trigger:true});n.app.setFlash("success","Added!")},error:n.app.error})}else{n.app.error("Please wait for the page to load before picking a media file")}})}});module.exports=s}();
},{"../../../helpers/lib/holder.js":63,"../../../templates/routes/media/pick.hbs":90,"../../base":56,"../../layout/footer.js":55,"../../layout/navbar.js":53,"lodash":46}],35:[function(require,module,exports){
!function(){var e=require("../../base"),t=require("lodash"),n=require("../../layout/navbar.js"),i=require("../../layout/footer.js"),r=require("../../routes/media/thumb.js"),s=e.extend({template:require("../../../templates/routes/media/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.upload":"performPick","click a.crop":"performCapture","click a.capture":"performCapture","click a.app":"handleAppLink","click a.choose":"performChoose"},initialize:function(e){this.app=e.app;this.mediaType=e.mediaType;this.mediaId=e.mediaId;this.showThumbnailPicker=false;this.media=this.app.db.fetchModel(e.mediaType,e.mediaId);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.media,"invalid",function(){this.app.error(this.media.validationError)},this);this.renderOnReady(this.media)},afterRender:function(){var e;var s=new n({app:this.app}),o=new r({app:this.app,mediaType:this.mediaType,mediaId:this.mediaId}),a=new i({app:this.app});this.appendSubview(s,this.$("#header"));if(this.media.attributes&&this.media.attributes.status===2){this.appendSubview(o,this.$("#thumber"))}this.appendSubview(a,this.$("#footer"));this.eachSubview(function(e){e.render()});t.defer(function(){this.$("div.tagsinput").remove();this.$("input[name=attribs]").tagsInput();this.$("legend span").popover({placement:"right",trigger:"hover",html:true})},this);this.$("#useOriginalButton").button("reset");this.$("#useCaptureButton").button("reset")},context:function(){return this.getContext({media:this.media.templateVars(),isEncoded:this.media.attributes.status===2,showThumbnailPicker:this.showThumbnailPicker})},readInput:function(e){var t=this,n=this.readAttributes();if(e){e.preventDefault()}this.media.set(n)},readAttributes:function(){return{name:this.$("input[name=name]").val(),attribs:this.$("input[name=attribs]").val().split(",")}},performSave:function(e){var t=this;e.preventDefault();var n=this.$("input[name=name]").val();var i=this.$("input[name=attribs]").val().split(",");this.app.clearFlash();this.media.save({userId:t.app.getUser().attributes.id,name:n,attribs:i},{success:function(){t.app.db.fetchCollection("unprocessedUploads").fetch({success:function(){var e=t.media.attributes.type.charAt(0).toUpperCase();e+=t.media.attributes.type.substr(1);t.app.setFlash("success",e+" Saved!")},error:t.app.error})},error:t.app.error})},performDelete:function(e){e.preventDefault();e.stopPropagation();var t=this;var n=confirm("Are you sure you want to delete "+t.media.attributes.name+"?");if(n){filepicker.remove(t.media.fpfile(),{policy:t.app.getUser().attributes.policy,signature:t.app.getUser().attributes.signature},function(){t.media.destroy({success:function(){t.app.navigate("",{trigger:true})},error:t.app.error})},t.app.error)}else{return false}},performPick:function(e){e.preventDefault();e.stopPropagation();this.app.clearFlash();this.media.pickThumbnail()},performCapture:function(e){e.preventDefault();e.stopPropagation();this.app.clearFlash();this.app.trigger("captureThumbnail",this.mediaType,this.mediaId,this.readAttributes());this.$("#useCaptureButton").button("loading")},performChoose:function(e){e.preventDefault();e.stopPropagation();this.showThumbnailPicker=true;this.render()}});module.exports=s}();
},{"../../../templates/routes/media/edit.hbs":91,"../../base":56,"../../layout/footer.js":55,"../../layout/navbar.js":53,"../../routes/media/thumb.js":81,"lodash":46}],33:[function(require,module,exports){
!function(){var e=require("../../base"),t=require("lodash"),i=require("js-thumb"),n=require("./carousel"),r=require("videojs"),s=e.extend({template:require("../../../templates/routes/media/show.hbs"),events:{},initialize:function(e){this.app=e.app;this.pageName=e.pageName;this.mediaType=e.mediaType;this.mediaId=e.mediaId;this.media=this.app.db.fetchModel(e.mediaType,e.mediaId);if(this.media.id){this.media.fetch()}this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.media,"change",this.render,this);this.fetchPage(e.pageName,function(){this.render()})},beforeRender:function(){$("body").addClass("dark")},beforeClose:function(){$("body").removeClass("dark")},afterRender:function(){var e=this,r=this.media.templateVars(),s=new n({app:this.app,pageName:this.pageName}),a=function(t,i,n){if(t){e.app.error(t)}else{n.on("ended",function(){e.app.trigger("videoEnded",e.media)})}};this.appendSubview(s,this.$("#carouselWrapper"));this.eachSubview(function(e){e.render()});t.defer(function(){if(e.media&&e.media.attributes&&e.media.attributes.type.toLowerCase()==="video"&&e.media.attributes.status===2){e.$("#vid_placeholder").empty();i.loadVideo(e.$("#vid_placeholder")[0],{vjs:{autoplay:true},attributes:{center:true,resize:{maxWidth:960,upscale:false},width:e.media.attributes.width||960,height:e.media.attributes.height||540},sources:[{src:r.hdUrl,type:e.app.util.mime("video/mp4")}]},a)}})},context:function(){return this.getContext({media:this.media.templateVars()})}});module.exports=s}();
},{"../../../templates/routes/media/show.hbs":92,"../../base":56,"./carousel":83,"js-thumb":47,"lodash":46,"videojs":79}],49:[function(require,module,exports){
!function(){var e=require("./base"),t=require("../helpers/BackboneLoader.js"),i=require("lodash"),n=require("utilities/lib/string"),r=e.extend({name:"media",urlRoot:function(){return this.app.config.baseUrl+"/Media_is_an_abstract_class_do_not_use_it"},defaults:{name:"Untitled",s3key:null,fpkey:null,mimeType:null,originalFilesize:null,userId:null,thumbnailS3key:null,thumbnailFpkey:null,width:1280,height:720,attribs:[],reviewIssue:null,status:0,type:"unknown"},validate:function(e,t){var i=[];if(!e.name||e.name.length==0){i.push({attr:"name",message:"Media name cannot be empty"})}if(i.length){return i}},toJSON:function(){incoming=i.clone(this.attributes);if(incoming.attribs){incoming.userAttributes=JSON.stringify(incoming.attribs)}return incoming},sync:function(e,i,n){var r=this;var s=function(){if(!i.attributes.thumbnailS3key&&i.attributes.thumbnailFpkey&&i.attributes.debug!==true){filepicker.stat(r.thumbnailFpfile(),{path:true,policy:r.app.db.fetchModel("user").attributes.policy,signature:r.app.db.fetchModel("user").attributes.signature},function(r){i.set("thumbnailS3key",r.path);t.sync(e,i,n)})}else{t.sync(e,i,n)}};if(!i.attributes.s3key&&i.attributes.fpkey&&i.attributes.debug!==true){filepicker.stat(r.fpfile(),{path:true,policy:r.app.db.fetchModel("user").attributes.policy,signature:r.app.db.fetchModel("user").attributes.signature},function(e){i.set("s3key",e.path);s()})}else{s()}},destroy:function(e){var i=this;if(this.attributes.status===1){i.app.setFlash("error","Please wait until encoding is finished to delete this")}else{if(e.success){var n=e.success;e.success=function(){i.app.db.fetchCollection("unprocessedUploads").fetch();i.app.db.fetchCollection("images").fetch();i.app.db.fetchCollection("videos").fetch();if(n){n()}}}t.sync("delete",this,e)}},parse:function(e,t){try{e.attribs=JSON.parse(e.userAttributes)}catch(i){e.attribs=[]}finally{delete e.userAttributes}return e},pickThumbnail:function(){var e=this;filepicker.pick({extensions:e.app.config.imageExts,path:e.app.db.fetchModel("user").attributes.path+n.uuid(10),signature:e.app.db.fetchModel("user").attributes.signature,policy:e.app.db.fetchModel("user").attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP","URL","IMAGE_SEARCH"]},function(t){e.cropThumbnail(t)},function(t){if(t.code!==101){e.app.error(t)}})},cropThumbnail:function(e,t){var i=this;if(!e){e=i.fpfile()}if(!t){i.app.setFlash("info","Please wait while we process the image...")}filepicker.convert(e,{signature:i.app.db.fetchModel("user").attributes.signature,policy:i.app.db.fetchModel("user").attributes.policy,width:i.app.config.thumbnailDims.width,height:i.app.config.thumbnailDims.height,fit:"crop"},{path:i.app.getUser().attributes.path+n.uuid(10),location:"s3",access:"public"},function(e){i.save({thumbnailFpkey:e.url,thumbnailS3key:null,status:2},{success:function(){i.app.db.fetchCollection("unprocessedUploads").fetch();if(!t){i.app.setFlash("success","Thumbnail saved!")}else{t()}},error:function(e,n){if(t){t(n.responseText)}else{i.app.error.apply(this,arguments)}}})},function(e){i.app.error(e)})},useThumbnail:function(e){var t=this;t.app.setFlash("info","Please wait while we process the image...");filepicker.store(e,{signature:t.app.getUser().attributes.signature,policy:t.app.getUser().attributes.policy,mimetype:"image/png",base64decode:true,path:t.app.getUser().attributes.path+n.uuid(10),location:"s3",access:"public"},function(e){t.save({thumbnailFpkey:e.url,thumbnailS3key:null},{success:function(){t.app.setFlash("success","Thumbnail saved!");t.app.db.fetchCollection("unprocessedUploads").fetch()},error:t.app.error})},function(e){t.app.error(e)})},fpfile:function(){return{url:this.attributes.fpkey,filename:this.attributes.name,mimetype:this.attributes.mimeType,isWriteable:false,size:this.attributes.originalFilesize}},thumbnailFpfile:function(){return{url:this.attributes.thumbnailFpkey}},templateVars:function(e,t){var n=i.clone(this.attributes);t=t===true;if(n.s3key){n.url=this.app.config.s3prefix+n.s3key}else{n.thumbnailUrl=this.app.util.placeholderThumbnail(t)}if(n.thumbnailS3key){n.thumbnailUrl=this.app.config.s3prefix+n.thumbnailS3key}else{n.thumbnailUrl=this.app.util.placeholderThumbnail(t)}n.isImage=n.type.toLowerCase()==="image";n.isVideo=n.type.toLowerCase()==="video";if(n.isVideo&&n.status===1){if(t){n.thumbnailUrl=this.app.config.placeholders.encoding.half}else{n.thumbnailUrl=this.app.config.placeholders.encoding.full}}n.attributeList=n.attribs.join(",");if(this.app.isLoggedIn()){n.editHref="/media/"+n.type.toLowerCase()+"/"+n.id+"/edit";n.removeHref="/media/"+n.type.toLowerCase()+"/"+n.id+"/remove/"+e}if(e){n.playerUrl="page/"+e+"/"+n.type.toLowerCase()+"/"+n.id}switch(n.status){case 1:n.reviewIssue="Encoding in progress";break;case 2:n.reviewIssue="Encoding completed";n.hdUrl=n.url+"/hd.mp4";n.sdUrl=n.url+"/sd.mp4";break;case 3:n.reviewIssue="Encoding failed";break}n.isEncoding=n.status===1;return n}});module.exports=r}();
},{"../helpers/BackboneLoader.js":43,"./base":76,"lodash":46,"utilities/lib/string":85}],27:[function(require,module,exports){
!function(){var e=require("async"),t=require("../../base"),i=require("../../layout/navbar.js"),n=require("../../layout/footer.js"),r=t.extend({template:require("../../../templates/routes/pages/reorder.hbs"),events:{submit:"performSave"},initialize:function(e){this.app=e.app;this.pages=this.app.db.fetchCollection("pages");this.renderOnReady(this.pages)},context:function(){var e=this.pages.map(function(e){return e.attributes});return this.getContext({pages:e})},afterRender:function(){var e=this,t=new i({app:e.app}),r=new n({app:e.app});e.appendSubview(t,e.$("#header"));e.appendSubview(r,e.$("#footer"));e.eachSubview(function(e){e.render()});e.$(".sortable").sortable().bind("sortupdate",function(){})},readSortOrder:function(){var t=this;var i=t.$(".sortable").children(),n=[],r=[];i.each(function(e,i){var s=t.pages.get($(i).attr("data-uuid"));s.set("priority",e);n.push(s);r.push(function(e){s.save({},{success:e})})});t.pages.reset(n).sort();e.parallel(r,function(){t.app.setFlash("success","Page order saved!");t.$("button").button("reset")})},performSave:function(e){if(e){e.preventDefault();e.stopPropagation()}this.app.clearFlash();this.$("button").button("loading");this.readSortOrder()}});module.exports=r}();
},{"../../../templates/routes/pages/reorder.hbs":93,"../../base":56,"../../layout/footer.js":55,"../../layout/navbar.js":53,"async":94}],56:[function(require,module,exports){
!function(){var e=require("ribcage-view"),t=require("lodash"),i=e.extend({renderOnReady:function(){var e=Array.prototype.slice.call(arguments),i=this,n=e.length,r=function(){n--;if(n<0){i.render()}};t.each(e,function(e){e.once("ready",r,e)});r()},fetchPage:function(e,t){var i=this,n="Error 404: The page could not be found";e=e.toLowerCase();i.page=this.app.db.createModel("page").set({name:"Loading..."});i.pages=this.app.db.fetchCollection("pages");i.pages.once("ready",function(){var r,s=i.pages.find(function(t){return t.attributes.name.toLowerCase()===e.toLowerCase()});if(s){i.page=s;i.listenTo(i.page,"change",i.render,i)}else{i.page.set({name:"404"});i.app.error(n);r=new Error(n)}t.call(i,r,i.page)})},getContext:function(e){var i=e||{},n={isLoggedIn:this.app.isLoggedIn(),flash:t.clone(this.app.flash),debug:this.app.bootstrap.debug||undefined!=="production"?true:false},r=this.app.getUserVars();return t.extend({},r,n,i)},context:function(){return this.getContext()},handleAppLink:function(e){this.app.handleAppLink(e)},events:{"click a.app":"handleAppLink"},beforeRender:function(){this.eachSubview(function(e){e.close()});this.$el.empty()}});module.exports=i}();
},{"lodash":46,"ribcage-view":95}],53:[function(require,module,exports){
!function(){var e=require("../base"),t=require("../../helpers/BackboneLoader.js"),i=require("lodash"),n=e.extend({template:require("../../templates/layout/navbar.hbs"),initialize:function(e){this.app=e.app;this.pages=this.app.db.fetchCollection("pages");this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.pages,"change add remove sort",this.render,this);this.listenTo(this.unprocessed,"change add remove",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.app,"flash",this.render,this);this.renderOnReady(this.pages,this.unprocessed,this.app.getUser())},context:function(){var e=null,n=null,r=null,s=null,a=null,o=[],u=this.unprocessed.length,l=this.unprocessed.length===1?"":"s",c=this.unprocessed.length===1?"is":"are",f=this.unprocessed.length+" upload"+l+" "+c+" being encoded",p=this.app.getCustomization(),h,d;if(p&&p.attributes&&p.attributes.config){h=p.attributes.config;d=h.showContact?h.showContact.value:false}this.pages.forEach(function(u){if(!this.app.isLoggedIn()&&!u.attributes.isPublished){return}var l=encodeURIComponent(u.attributes.name),c=i.extend(i.clone(u.attributes),{href:"/page/"+l,editHref:"/page/"+l+"/edit",addHref:"/page/"+l+"/addMedia",active:false});if(t.history.fragment===c.href.replace(/^\//,"")||t.history.fragment.indexOf("page/"+l+"/")==0){c.active=true;n=c.editHref;r=c.editHref+"/makePublic/immediately";s=c.editHref+"/makePrivate/immediately";e=c.addHref;a=c.isPublished}o.push(c)},this);return this.getContext({pages:o,editPageHref:n,editPageMakePublicHref:r,editPageMakePrivateHref:s,addMediaHref:e,showContact:d,createHref:"/createPage",reviewHref:"/review",reorderHref:"/reorder",hasAtLeastTwoPages:this.pages.length>1,isHome:t.history.fragment==="",isPublished:a,isContact:t.history.fragment.match(/^contact/)?true:false,isPage:t.history.fragment.match(/^(edit)?[pP]age\//)?true:false,isEditingPage:t.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/edit$/)?true:false,isAddingMedia:t.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/(addMedia|pickMedia)$/)?true:false,isEditingMedia:t.history.fragment.match(/^media\/(image|video)\/[a-zA-Z0-9\-]+\/edit$/)?true:false,isCreatingPage:t.history.fragment.match(/^createPage/)?true:false,isReviewingUploads:t.history.fragment.match(/^review/)?true:false,isReorderingPages:t.history.fragment.match(/^reorder/)?true:false,unprocessedCount:u,unprocessedPrompt:f})},afterRender:function(){this.eachSubview(function(e){e.render()});this.$(".alert").alert()}});module.exports=n}();
},{"../../helpers/BackboneLoader.js":43,"../../templates/layout/navbar.hbs":96,"../base":56,"lodash":46}],54:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);r=r||{};var s="",a,o="function",u=this.escapeExpression;s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h1 class="title">'+u((a=(a=t.sitetitle,a==null||a===false?a:a.value),typeof a===o?a.apply(t):a))+'</h1>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>';return s});
},{"handlebars-runtime":97}],57:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);r=r||{};var s="",a,o="function",u=this.escapeExpression;s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h2>Sorry!</h2>\n      <p>\n        There are no pages on '+u((a=(a=t.sitetitle,a==null||a===false?a:a.value),typeof a===o?a.apply(t):a))+"'s site yet.\n      </p>\n      <p>\n        <strong>Are you "+u((a=(a=t.sitetitle,a==null||a===false?a:a.value),typeof a===o?a.apply(t):a))+'?</strong><br />\n        Log in with the link in the footer, create a page, and make it public to remove this message.\n      </p>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>';return s});
},{"handlebars-runtime":97}],58:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t){var i="",n;i+='\n        <div class="alert alert-info">\n          <h3>Welcome Back, '+l((n=(n=e.user,n==null||n===false?n:n.username),typeof n===o?n.apply(e):n))+'</h3>\n          <p>You\'re now able to edit your website.</p>\n          <a href="/" class="btn btn-info btn-wide app">Go to homepage</a>\n          <a href="/logout" class="btn btn-danger btn-wide app">Log Out</a>\n        </div>\n      ';return i}function f(e,t){var n="",r,s;n+="\n        ";r=i["if"].call(e,e.debug,{hash:{},inverse:u.noop,fn:u.program(4,p,t),data:t});if(r||r===0){n+=r}n+="\n        ";s=i["if"].call(e,(r=e.user,r==null||r===false?r:r.error),{hash:{},inverse:u.noop,fn:u.program(6,h,t),data:t});if(s||s===0){n+=s}n+='\n        <form>\n          <div class="control-group">\n            <input type="text" name="username" value="'+l((r=(r=e.user,r==null||r===false?r:r.username),typeof r===o?r.apply(e):r))+'" class="span6" placeholder="Username" />\n          </div>\n          <div class="control-group">\n            <input type="password" name="password" value="" class="span6" placeholder="Password" />\n          </div>\n          <div class="actions">\n            <button type="submit" class="btn btn-primary btn-block">Log In</button>\n          </div>\n        </form>\n      ';return n}function p(e,t){return'\n          <div class="alert alert-info">\n            <h3>Test Account Available</h3>\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\n            <a class="provisionTestAccount btn btn-info btn-block">Create Test Account</a>\n          </div>\n        '}function h(e,t){var i="",n;i+='\n          <div class="alert alert-error">\n            '+l((n=(n=e.user,n==null||n===false?n:n.error),typeof n===o?n.apply(e):n))+"\n          </div>\n        ";return i}s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3">\n      ';a=i["if"].call(t,t.isLoggedIn,{hash:{},inverse:u.program(3,f,r),fn:u.program(1,c,r),data:r});if(a||a===0){s+=a}s+='\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return s});
},{"handlebars-runtime":97}],59:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t){var n="",r;n+="\n            <tr>\n              <td><big>";if(r=i.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}n+=l(r)+"</big></td>\n              <td><big>";if(r=i.reviewIssue){r=r.call(e,{hash:{},data:t})}else{r=e.reviewIssue;r=typeof r===o?r.apply(e):r}n+=l(r)+"</big></td>\n            </tr>\n          ";return n}function f(e,t){return'\n            <tr>\n              <td colspan="2">All videos encoded!</td>\n            </tr>\n          '}s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>File</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          ';a=i.each.call(t,t.unprocessed,{hash:{},inverse:u.noop,fn:u.program(1,c,r),data:r});if(a||a===0){s+=a}s+="\n          ";a=i["if"].call(t,t.nothingToReview,{hash:{},inverse:u.noop,fn:u.program(3,f,r),data:r});if(a||a===0){s+=a}s+='\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>';return s});
},{"handlebars-runtime":97}],60:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,i,n,r){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression;s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6">\n      <form id="contact">\n        <fieldset>\n          <legend>Send Me A Message</legend>\n          <label class="control-label" for="name">Your Name</label>\n          <input type="text" id="name" name="name" placeholder="John Doe" class="span6" value="';if(a=i.nameVal){a=a.call(t,{hash:{},data:r})}else{a=t.nameVal;a=typeof a===o?a.apply(t):a}s+=l(a)+'">\n          <label class="control-label" for="email">Your Email</label>\n          <input type="email" id="email" name="email" placeholder="john@doe.com" class="span6" value="';if(a=i.emailVal){a=a.call(t,{hash:{},data:r})}else{a=t.emailVal;a=typeof a===o?a.apply(t):a}s+=l(a)+'">\n          <label class="control-label" for="message">Your Message</label>\n          <textarea id="message" name="message" placeholder="Your Message" rows="5" class="span6">';if(a=i.messageVal){a=a.call(t,{hash:{},data:r})}else{a=t.messageVal;a=typeof a===o?a.apply(t):a}s+=l(a)+'</textarea>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-inverse" data-loading-text="Sending...">Send</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>';return s});
},{"handlebars-runtime":97}],94:[function(require,module,exports){
var process=require("__browserify_process");!function(){var e={};var t,n;t=this;if(t!=null){n=t.async}e.noConflict=function(){t.async=n;return e};function i(e){var n=false;return function(){if(n)throw new Error("Callback was already called.");n=true;e.apply(t,arguments)}}var r=function(e,t){if(e.forEach){return e.forEach(t)}for(var n=0;n<e.length;n+=1){t(e[n],n,e)}};var s=function(e,t){if(e.map){return e.map(t)}var n=[];r(e,function(e,i,r){n.push(t(e,i,r))});return n};var a=function(e,t,n){if(e.reduce){return e.reduce(t,n)}r(e,function(e,i,r){n=t(n,e,i,r)});return n};var o=function(e){if(Object.keys){return Object.keys(e)}var t=[];for(var n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t};if(typeof process==="undefined"||!process.nextTick){if(typeof setImmediate==="function"){e.nextTick=function(e){setImmediate(e)};e.setImmediate=e.nextTick}else{e.nextTick=function(e){setTimeout(e,0)};e.setImmediate=e.nextTick}}else{e.nextTick=process.nextTick;if(typeof setImmediate!=="undefined"){e.setImmediate=setImmediate}else{e.setImmediate=e.nextTick}}e.each=function(e,t,n){n=n||function(){};if(!e.length){return n()}var s=0;r(e,function(r){t(r,i(function(t){if(t){n(t);n=function(){}}else{s+=1;if(s>=e.length){n(null)}}}))})};e.forEach=e.each;e.eachSeries=function(e,t,n){n=n||function(){};if(!e.length){return n()}var i=0;var r=function(){t(e[i],function(t){if(t){n(t);n=function(){}}else{i+=1;if(i>=e.length){n(null)}else{r()}}})};r()};e.forEachSeries=e.eachSeries;e.eachLimit=function(e,t,n,i){var r=u(t);r.apply(null,[e,n,i])};e.forEachLimit=e.eachLimit;var u=function(e){return function(t,n,i){i=i||function(){};if(!t.length||e<=0){return i()}var r=0;var s=0;var a=0;!function o(){if(r>=t.length){return i()}while(a<e&&s<t.length){s+=1;a+=1;n(t[s-1],function(e){if(e){i(e);i=function(){}}else{r+=1;a-=1;if(r>=t.length){i()}else{o()}}})}}()}};var l=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.each].concat(n))}};var c=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[u(e)].concat(n))}};var f=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.eachSeries].concat(n))}};var p=function(e,t,n,i){var r=[];t=s(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n,i){r[e.index]=i;t(n)})},function(e){i(e,r)})};e.map=l(p);e.mapSeries=f(p);e.mapLimit=function(e,t,n,i){return h(t)(e,n,i)};var h=function(e){return c(e,p)};e.reduce=function(t,n,i,r){e.eachSeries(t,function(e,t){i(n,e,function(e,i){n=i;t(e)})},function(e){r(e,n)})};e.inject=e.reduce;e.foldl=e.reduce;e.reduceRight=function(t,n,i,r){var a=s(t,function(e){return e}).reverse();e.reduce(a,n,i,r)};e.foldr=e.reduceRight;var d=function(e,t,n,i){var r=[];t=s(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n){if(n){r.push(e)}t()})},function(e){i(s(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.filter=l(d);e.filterSeries=f(d);e.select=e.filter;e.selectSeries=e.filterSeries;var v=function(e,t,n,i){var r=[];t=s(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n){if(!n){r.push(e)}t()})},function(e){i(s(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.reject=l(v);e.rejectSeries=f(v);var m=function(e,t,n,i){e(t,function(e,t){n(e,function(n){if(n){i(e);i=function(){}}else{t()}})},function(e){i()})};e.detect=l(m);e.detectSeries=f(m);e.some=function(t,n,i){e.each(t,function(e,t){n(e,function(e){if(e){i(true);i=function(){}}t()})},function(e){i(false)})};e.any=e.some;e.every=function(t,n,i){e.each(t,function(e,t){n(e,function(e){if(!e){i(false);i=function(){}}t()})},function(e){i(true)})};e.all=e.every;e.sortBy=function(t,n,i){e.map(t,function(e,t){n(e,function(n,i){if(n){t(n)}else{t(null,{value:e,criteria:i})}})},function(e,t){if(e){return i(e)}else{var n=function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0};i(null,s(t.sort(n),function(e){return e.value}))}})};e.auto=function(t,n){n=n||function(){};var i=o(t);if(!i.length){return n(null)}var s={};var u=[];var l=function(e){u.unshift(e)};var c=function(e){for(var t=0;t<u.length;t+=1){if(u[t]===e){u.splice(t,1);return}}};var f=function(){r(u.slice(0),function(e){e()})};l(function(){if(o(s).length===i.length){n(null,s);n=function(){}}});r(i,function(i){var u=t[i]instanceof Function?[t[i]]:t[i];var p=function(t){var a=Array.prototype.slice.call(arguments,1);if(a.length<=1){a=a[0]}if(t){var u={};r(o(s),function(e){u[e]=s[e]});u[i]=a;n(t,u);n=function(){}}else{s[i]=a;e.setImmediate(f)}};var h=u.slice(0,Math.abs(u.length-1))||[];var d=function(){return a(h,function(e,t){return e&&s.hasOwnProperty(t)},true)&&!s.hasOwnProperty(i)};if(d()){u[u.length-1](p,s)}else{var v=function(){if(d()){c(v);u[u.length-1](p,s)}};l(v)}})};e.waterfall=function(t,n){n=n||function(){};if(t.constructor!==Array){var i=new Error("First argument to waterfall must be an array of functions");return n(i)}if(!t.length){return n()}var r=function(t){return function(i){if(i){n.apply(null,arguments);n=function(){}}else{var s=Array.prototype.slice.call(arguments,1);var a=t.next();if(a){s.push(r(a))}else{s.push(n)}e.setImmediate(function(){t.apply(null,s)})}}};r(e.iterator(t))()};var g=function(e,t,n){n=n||function(){};if(t.constructor===Array){e.map(t,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},n)}else{var i={};e.each(o(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1){r=r[0]}i[e]=r;n(t)})},function(e){n(e,i)})}};e.parallel=function(t,n){g({map:e.map,each:e.each},t,n)};e.parallelLimit=function(e,t,n){g({map:h(t),each:u(t)},e,n)};e.series=function(t,n){n=n||function(){};if(t.constructor===Array){e.mapSeries(t,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},n)}else{var i={};e.eachSeries(o(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1){r=r[0]}i[e]=r;n(t)})},function(e){n(e,i)})}};e.iterator=function(e){var t=function(n){var i=function(){if(e.length){e[n].apply(null,arguments)}return i.next()};i.next=function(){return n<e.length-1?t(n+1):null};return i};return t(0)};e.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var y=function(e,t,n,i){var r=[];e(t,function(e,t){n(e,function(e,n){r=r.concat(n||[]);t(e)})},function(e){i(e,r)})};e.concat=l(y);e.concatSeries=f(y);e.whilst=function(t,n,i){if(t()){n(function(r){if(r){return i(r)}e.whilst(t,n,i)})}else{i()}};e.doWhilst=function(t,n,i){t(function(r){if(r){return i(r)}if(n()){e.doWhilst(t,n,i)}else{i()}})};e.until=function(t,n,i){if(!t()){n(function(r){if(r){return i(r)}e.until(t,n,i)})}else{i()}};e.doUntil=function(t,n,i){t(function(r){if(r){return i(r)}if(!n()){e.doUntil(t,n,i)}else{i()}})};e.queue=function(t,n){if(n===undefined){n=1}function s(t,i,s,a){if(i.constructor!==Array){i=[i]}r(i,function(i){var r={data:i,callback:typeof a==="function"?a:null};if(s){t.tasks.unshift(r)}else{t.tasks.push(r)}if(t.saturated&&t.tasks.length===n){t.saturated()}e.setImmediate(t.process)})}var a=0;var o={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(e,t){s(o,e,false,t)},unshift:function(e,t){s(o,e,true,t)},process:function(){if(a<o.concurrency&&o.tasks.length){var e=o.tasks.shift();if(o.empty&&o.tasks.length===0){o.empty()}a+=1;var n=function(){a-=1;if(e.callback){e.callback.apply(e,arguments)}if(o.drain&&o.tasks.length+a===0){o.drain()}o.process()};var r=i(n);t(e.data,r)}},length:function(){return o.tasks.length},running:function(){return a}};return o};e.cargo=function(t,n){var i=false,a=[];var o={tasks:a,payload:n,saturated:null,empty:null,drain:null,push:function(t,i){if(t.constructor!==Array){t=[t]}r(t,function(e){a.push({data:e,callback:typeof i==="function"?i:null});if(o.saturated&&a.length===n){o.saturated()}});e.setImmediate(o.process)},process:function u(){if(i)return;if(a.length===0){if(o.drain)o.drain();return}var e=typeof n==="number"?a.splice(0,n):a.splice(0);var l=s(e,function(e){return e.data});if(o.empty)o.empty();i=true;t(l,function(){i=false;var t=arguments;r(e,function(e){if(e.callback){e.callback.apply(null,t)}});u()})},length:function(){return a.length},running:function(){return i}};return o};var b=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(t){if(console.error){console.error(t)}}else if(console[e]){r(n,function(t){console[e](t)})}}}]))}};e.log=b("log");e.dir=b("dir");e.memoize=function(e,t){var n={};var i={};t=t||function(e){return e};var r=function(){var r=Array.prototype.slice.call(arguments);var s=r.pop();var a=t.apply(null,r);if(a in n){s.apply(null,n[a])}else if(a in i){i[a].push(s)}else{i[a]=[s];e.apply(null,r.concat([function(){n[a]=arguments;var e=i[a];delete i[a];for(var t=0,r=e.length;t<r;t++){e[t].apply(null,arguments)}}]))}};r.memo=n;r.unmemoized=e;return r};e.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};e.times=function(t,n,i){var r=[];for(var s=0;s<t;s++){r.push(s)}return e.map(r,n,i)};e.timesSeries=function(t,n,i){var r=[];for(var s=0;s<t;s++){r.push(s)}return e.mapSeries(r,n,i)};e.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var n=this;var i=Array.prototype.slice.call(arguments);var r=i.pop();e.reduce(t,i,function(e,t,i){t.apply(n,e.concat([function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,t){r.apply(n,[e].concat(t))})}};var j=function(e,t){var n=function(){var n=this;var i=Array.prototype.slice.call(arguments);var r=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}else{return n}};e.applyEach=l(j);e.applyEachSeries=f(j);e.forever=function(e,t){function n(i){if(i){if(t){return t(i)}throw i}e(n)}n()};if(typeof define!=="undefined"&&define.amd){define([],function(){return e})}else if(typeof module!=="undefined"&&module.exports){module.exports=e}else{t.async=e}}();
},{"__browserify_process":9}],97:[function(require,module,exports){
var Handlebars={};module.exports=Handlebars;!function(e,t){e.VERSION="1.0.0";e.COMPILER_REVISION=4;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};e.helpers={};e.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";e.registerHelper=function(t,i,s){if(n.call(t)===r){if(s||i){throw new e.Exception("Arg not supported with multiple helpers")}e.Utils.extend(this.helpers,t)}else{if(s){i.not=s}this.helpers[t]=i}};e.registerPartial=function(t,i){if(n.call(t)===r){e.Utils.extend(this.partials,t)}else{this.partials[t]=i}};e.registerHelper("helperMissing",function(e){if(arguments.length===2){return t}else{throw new Error("Missing helper: '"+e+"'")}});e.registerHelper("blockHelperMissing",function(t,r){var s=r.inverse||function(){},a=r.fn;var o=n.call(t);if(o===i){t=t.call(this)}if(t===true){return a(this)}else if(t===false||t==null){return s(this)}else if(o==="[object Array]"){if(t.length>0){return e.helpers.each(t,r)}else{return s(this)}}else{return a(t)}});e.K=function(){};e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;e.K.prototype=null;return n};e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var i=e.logger.methodMap[t];if(typeof console!=="undefined"&&console[i]){console[i].call(console,n)}}}};e.log=function(t,n){e.logger.log(t,n)};e.registerHelper("each",function(t,r){var s=r.fn,a=r.inverse;var o=0,l="",u;var c=n.call(t);if(c===i){t=t.call(this)}if(r.data){u=e.createFrame(r.data)}if(t&&typeof t==="object"){if(t instanceof Array){for(var f=t.length;o<f;o++){if(u){u.index=o}l=l+s(t[o],{data:u})}}else{for(var p in t){if(t.hasOwnProperty(p)){if(u){u.key=p}l=l+s(t[p],{data:u});o++}}}}if(o===0){l=a(this)}return l});e.registerHelper("if",function(t,r){var s=n.call(t);if(s===i){t=t.call(this)}if(!t||e.Utils.isEmpty(t)){return r.inverse(this)}else{return r.fn(this)}});e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})});e.registerHelper("with",function(t,r){var s=n.call(t);if(s===i){t=t.call(this)}if(!e.Utils.isEmpty(t))return r.fn(t)});e.registerHelper("log",function(t,n){var i=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(i,t)});var s=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n=0;n<s.length;n++){this[s[n]]=t[s[n]]}};e.Exception.prototype=new Error;e.SafeString=function(e){this.string=e};e.SafeString.prototype.toString=function(){return this.string.toString()};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var o=/[&<>"'`]/g;var l=/[&<>"'`]/;var u=function(e){return a[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}},escapeExpression:function(t){if(t instanceof e.SafeString){return t.toString()}else if(t==null||t===false){return""}t=t.toString();if(!l.test(t)){return t}return t.replace(o,u)},isEmpty:function(e){if(!e&&e!==0){return true}else if(n.call(e)==="[object Array]"&&e.length===0){return true}else{return false}}};e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,i){var r=this.programs[t];if(i){r=e.VM.program(t,n,i)}else if(!r){r=this.programs[t]=e.VM.program(t,n)}return r},merge:function(t,n){var i=t||n;if(t&&n){i={};e.Utils.extend(i,n);e.Utils.extend(i,t)}return i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var s=t.call(n,e,i,r.helpers,r.partials,r.data);var a=n.compilerInfo||[],o=a[0]||1,l=e.COMPILER_REVISION;if(o!==l){if(o<l){var u=e.REVISION_CHANGES[l],c=e.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+u+") or downgrade your runtime to an older version ("+c+")."}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+a[1]+")."}}return s}},programWithDepth:function(e,t,n){var i=Array.prototype.slice.call(arguments,3);var r=function(e,r){r=r||{};return t.apply(this,[e,r.data||n].concat(i))};r.program=e;r.depth=i.length;return r},program:function(e,t,n){var i=function(e,i){i=i||{};return t(e,i.data||n)};i.program=e;i.depth=0;return i},noop:function(){return""},invokePartial:function(n,i,r,s,a,o){var l={helpers:s,partials:a,data:o};if(n===t){throw new e.Exception("The partial "+i+" could not be found")}else if(n instanceof Function){return n(r,l)}else if(!e.compile){throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}else{a[i]=e.compile(n,{data:o!==t});return a[i](r,l)}}};e.template=e.VM.template}(Handlebars);
},{}],62:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};return'<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'});
},{"handlebars-runtime":97}],89:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o,l="function",u=this.escapeExpression,c=this;function f(e,t){return'checked="checked"'}s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>New Media Page</legend>\n          <div class="control-group">\n            <label class="control-label" for="name">Page Title</label>\n            <input type="text" id="name" name="name" placeholder="Untitled Page" value="'+u((a=(a=t.page,a==null||a===false?a:a.name),typeof a===l?a.apply(t):a))+'">\n          </div>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Create</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>Custom Pages</legend>\n          <div class="control-group">\n            <label class="control-label" for="showContact">Show Contact Page?</label>\n            <div class="switch switch-large"\n              data-on-label="Yes"\n              data-off-label="No">\n              <input name="showContact" ';o=n["if"].call(t,t.showContact,{hash:{},inverse:c.noop,fn:c.program(1,f,r),data:r});if(o||o===0){s+=o}s+=' type="checkbox" />\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return s});
},{"handlebars-runtime":97}],64:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t){var i="",r;i+='\n        <fieldset>\n          <legend>Title</legend>\n          <input type="text" id="name" name="name" placeholder="Untitled Page" value="';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+'">\n        </fieldset>\n        <fieldset>\n          <legend>Visible To Public?</legend>\n          <div class="switch switch-large"\n            data-on-label="Yes"\n            data-off-label="No">\n            <input name="isPublished" ';r=n["if"].call(e,e.isPublished,{hash:{},inverse:u.noop,fn:u.program(2,f,t),data:t});if(r||r===0){i+=r}i+=' type="checkbox" />\n          </div>\n        </fieldset>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <a class="btn btn-danger">Delete</a>\n          </div>\n        </div>\n        ';return i}function f(e,t){return'checked="checked"'}function p(e,t){var i="",r;i+='\n            <li class="span4" data-uuid="';if(r=n.id){r=r.call(e,{hash:{},data:t})}else{r=e.id;r=typeof r===o?r.apply(e):r}i+=l(r)+'">\n              <div class="relfix">\n                <img src="';if(r=n.thumbnailUrl){r=r.call(e,{hash:{},data:t})}else{r=e.thumbnailUrl;r=typeof r===o?r.apply(e):r}i+=l(r)+'" alt="';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+'" class="img-polaroid" />\n                <p class="absfix">\n                  <a href="';if(r=n.editHref){r=r.call(e,{hash:{},data:t})}else{r=e.editHref;r=typeof r===o?r.apply(e):r}i+=l(r)+'" class="app btn btn-mini btn-info">Edit</a>\n                </p>\n              </div>\n            </li>\n          ';return i}s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <form>\n      <div class="span3 centered">\n        ';a=n["with"].call(t,t.page,{hash:{},inverse:u.noop,fn:u.program(1,c,r),data:r});if(a||a===0){s+=a}s+='\n      </div>\n      <div class="span9">\n        <fieldset>\n          <div class="alert alert-info">\n            Drag to sort media\n          </div>\n          <ul class="mediagrid sortable">\n          ';a=n.each.call(t,t.media,{hash:{},inverse:u.noop,fn:u.program(4,p,r),data:r});if(a||a===0){s+=a}s+='\n          </ul>\n        </fieldset>\n      </div>\n    </form>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return s});
},{"handlebars-runtime":97}],93:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t){var i="",r;i+='\n          <li data-uuid="';if(r=n.id){r=r.call(e,{hash:{},data:t})}else{r=e.id;r=typeof r===o?r.apply(e):r}i+=l(r)+'">';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+"</li>\n        ";return i}s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span4 offset4 centered">\n    <form>\n      <fieldset>\n        <legend>Drag To Sort</legend>\n        <ul class="sortable pageSortable">\n        ';a=n.each.call(t,t.pages,{hash:{},inverse:u.noop,fn:u.program(1,c,r),data:r});if(a||a===0){s+=a}s+='\n        </ul>\n      </fieldset>\n      <div class="control-group">\n        <div class="controls">\n          <button type="submit" class="btn btn-success" data-loading-text="Saving...">Save</button>\n        </div>\n      </div>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return s});
},{"handlebars-runtime":97}],65:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o,l="function",u=this.escapeExpression,c=this;function f(e,t){var i="",r;i+='\n    <div class="span2 offset4 centered">\n      <div id="uploadFileLink">\n        <p>\n          <a href="#" class="filepicker">\n            <img class="flatIcon" src="/img/file_upload.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="filepicker btn btn-success">Upload File</a>\n        </p>\n      </div>\n    </div>\n    <div class="span2 centered">\n      <div id="pickFileLink">\n        <p>\n          <a href="';if(r=n.pickMediaUrl){r=r.call(e,{hash:{},data:t})}else{r=e.pickMediaUrl;r=typeof r===l?r.apply(e):r}i+=u(r)+'" class="app">\n            <img class="flatIcon" src="/img/folder.png" alt="pick-file" />\n          </a>\n        </p>\n        <p>\n          <a href="';if(r=n.pickMediaUrl){r=r.call(e,{hash:{},data:t})}else{r=e.pickMediaUrl;r=typeof r===l?r.apply(e):r}i+=u(r)+'" class="useExisting btn btn-info app">Use Existing</a>\n        </p>\n      </div>\n    </div>\n    ';return i}s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    ';o=n["if"].call(t,(a=t.page,a==null||a===false?a:a.id),{hash:{},inverse:c.noop,fn:c.program(1,f,r),data:r});if(o||o===0){s+=o}s+='\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return s});
},{"handlebars-runtime":97}],90:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o,l="function",u=this.escapeExpression,c=this;function f(e,t){var i="",r;i+='\n      <li>\n        <div class="relfix">\n          <a href="#" data-media-id="';if(r=n.id){r=r.call(e,{hash:{},data:t})}else{r=e.id;r=typeof r===l?r.apply(e):r}i+=u(r)+'" data-media-type="';if(r=n.type){r=r.call(e,{hash:{},data:t})}else{r=e.type;r=typeof r===l?r.apply(e):r}i+=u(r)+'">\n            <img src="';if(r=n.thumbnailUrl){r=r.call(e,{hash:{},data:t})}else{r=e.thumbnailUrl;r=typeof r===l?r.apply(e):r}i+=u(r)+'" alt="';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===l?r.apply(e):r}i+=u(r)+'" />\n            <div class="captions centered">\n              <h2>';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===l?r.apply(e):r}i+=u(r)+"</h2>\n            </div>\n          </a>\n        </div>\n      </li>\n    ";return i}s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="alert alert-block">\n      <h3>This Is All Your Media</h3>\n      <p>\n        Select a file to add it to '+u((a=(a=t.page,a==null||a===false?a:a.name),typeof a===l?a.apply(t):a))+', or <a href="';if(o=n.uploadUrl){o=o.call(t,{hash:{},data:r})}else{o=t.uploadUrl;o=typeof o===l?o.apply(t):o}s+=u(o)+'" class="app">Upload A New File</a>.\n      </p>\n    </div>\n    <ul class="reelgrid">\n    ';o=n.each.call(t,t.media,{hash:{},inverse:c.noop,fn:c.program(1,f,r),data:r});if(o||o===0){s+=o}s+='\n    </ul>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return s});
},{"handlebars-runtime":97}],92:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t){var i="",r;i+="\n      ";r=n["if"].call(e,e.isVideo,{hash:{},inverse:u.program(7,d,t),fn:u.program(2,f,t),data:t});if(r||r===0){i+=r}i+='\n      <div class="media_meta">\n        <h4>';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+"</h4>\n        <ul>\n        ";r=n.each.call(e,e.attribs,{hash:{},inverse:u.noop,fn:u.program(9,v,t),data:t});if(r||r===0){i+=r}i+="\n        </ul>\n      </div>\n    ";return i}function f(e,t){var i="",r;i+="\n        ";r=n["if"].call(e,e.isEncoding,{hash:{},inverse:u.program(5,h,t),fn:u.program(3,p,t),data:t});if(r||r===0){i+=r}i+="\n      ";return i}function p(e,t){var i="",r;i+='\n          <img id="media_image" class="pickerHolder" alt="';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+'" src="';if(r=n.thumbnailUrl){r=r.call(e,{hash:{},data:t})}else{r=e.thumbnailUrl;r=typeof r===o?r.apply(e):r}i+=l(r)+'" />\n        ';return i}function h(e,t){return'\n          <div id="vid_placeholder" />\n        '}function d(e,t){var i="",r;i+='\n        <img id="media_image" class="pickerHolder" alt="';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+'" src="';if(r=n.url){r=r.call(e,{hash:{},data:t})}else{r=e.url;r=typeof r===o?r.apply(e):r}i+=l(r)+'" />\n      ';return i}function v(e,t){var n="",i;n+="\n          <li>";i=typeof e===o?e.apply(e):e;if(i||i===0){n+=i}n+="</li>\n        ";return n}s+='<div id="carouselWrapper">\n</div>\n<div id="content" class="container">\n  <div class="row">\n    <div id="preview" class="span12 centered previewPadding">\n    ';a=n["with"].call(t,t.media,{hash:{},inverse:u.noop,fn:u.program(1,c,r),data:r});if(a||a===0){s+=a}s+="\n    </div>\n  </div>\n</div>\n";return s});
},{"handlebars-runtime":97}],91:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t,i){var r="",s;r+='\n<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <form>\n    <div class="span6">\n      <fieldset>\n        <legend>Title</legend>\n        <input type="text" id="fileNameField" name="name" placeholder="Untitled ';if(s=n.type){s=s.call(e,{hash:{},data:t})}else{s=e.type;s=typeof s===o?s.apply(e):s}r+=l(s)+'" value="';if(s=n.name){s=s.call(e,{hash:{},data:t})}else{s=e.name;s=typeof s===o?s.apply(e):s}r+=l(s)+'">\n      </fieldset>\n      <fieldset>\n        <legend>Labels <span data-toggle="tooltip" data-title="Example Labels" data-content="These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to bold the first word.&lt;/p&gt;" class="fui-question"></span></legend>\n        <input name="attribs" class="tagsinput tagsinput-primary" value="';if(s=n.attributeList){s=s.call(e,{hash:{},data:t})}else{s=e.attributeList;s=typeof s===o?s.apply(e):s}r+=l(s)+'" id="tags1371235017630" style="display: none;" />\n      </fieldset>\n      ';s=n["if"].call(e,i.isEncoded,{hash:{},inverse:u.noop,fn:u.programWithDepth(2,f,t,i),data:t});if(s||s===0){r+=s}r+='\n      <fieldset>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <!-- <a class="btn btn-danger">Delete</a> -->\n          </div>\n        </div>\n      </fieldset>\n    </div>\n    ';s=n["if"].call(e,i.showThumbnailPicker,{hash:{},inverse:u.noop,fn:u.program(12,g,t),data:t});if(s||s===0){r+=s}r+='\n    </form>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return r}function f(e,t,i){var r="",s;r+="\n      <fieldset>\n        <legend>Thumbnail</legend>\n        ";s=n["if"].call(e,e.thumbnailS3key,{hash:{},inverse:u.program(5,h,t),fn:u.program(3,p,t),data:t});if(s||s===0){r+=s}r+='\n        <input type="hidden" id="thumbnail" name="thumbnail" value="';if(s=n.thumbnail){s=s.call(e,{hash:{},data:t})}else{s=e.thumbnail;s=typeof s===o?s.apply(e):s}r+=l(s)+'">\n        ';s=n.unless.call(e,i.showThumbnailPicker,{hash:{},inverse:u.noop,fn:u.program(7,d,t),data:t});if(s||s===0){r+=s}r+="\n        ";s=n["if"].call(e,e.isImage,{hash:{},inverse:u.noop,fn:u.program(10,m,t),data:t});if(s||s===0){r+=s}r+='\n        <a id="useCustomButton" href="#" class="btn btn-inverse btn-mini upload">Upload Thumbnail</a>\n      </fieldset>\n      ';return r}function p(e,t){var i="",r;i+='\n          <p>\n            <img src="';if(r=n.thumbnailUrl){r=r.call(e,{hash:{},data:t})}else{r=e.thumbnailUrl;r=typeof r===o?r.apply(e):r}i+=l(r)+'" class="thumbHolder img-polaroid" alt="';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+' Thumbnail" />\n          </p>\n        ';return i}function h(e,t){return'\n          <div class="alert alert-warning">\n            <big>No thumbnail yet! Select or upload one.</big>\n          </div>\n        '}function d(e,t){var i="",r;i+="\n          ";r=n["if"].call(e,e.isVideo,{hash:{},inverse:u.noop,fn:u.program(8,v,t),data:t});if(r||r===0){i+=r}i+="\n        ";return i}function v(e,t){return'\n            <a id="chooseFrameButton" href="#" class="btn btn-info btn-mini choose">Choose A Frame</a>\n          '}function m(e,t){return'\n          <a id="useOriginalButton" href="#" class="btn btn-info btn-mini crop" data-loading-text="Processing...">Use Original</a>\n        '}function g(e,t){var i="",r;i+='\n    <div class="span6">\n      <div class="row centered">\n        <div id="thumber">\n        </div>\n        <div class="controls">\n          ';r=n["if"].call(e,e.isVideo,{hash:{},inverse:u.noop,fn:u.program(13,y,t),data:t});if(r||r===0){i+=r}i+="\n      </div>\n    </div>\n    ";return i}function y(e,t){return'\n            <a id="useCaptureButton" href="#" class="btn btn-info btn-mini capture" data-loading-text="Processing...">Use Current Frame</a>\n          '}a=n["with"].call(t,t.media,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,c,r,t),data:r});if(a||a===0){s+=a}s+="\n";return s});
},{"handlebars-runtime":97}],96:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o,l,u="function",c=this.escapeExpression,f=this,p=n.blockHelperMissing;function h(e,t,i){var r="",s;r+='\n<div class="row topbar">\n  <ul class="nav nav-boxes actionable">\n    ';s=n["if"].call(e,e.isPage,{hash:{},inverse:f.noop,fn:f.program(2,d,t),data:t});if(s||s===0){r+=s}r+="\n    ";s=n["if"].call(e,e.isCreatingPage,{hash:{},inverse:f.program(17,x,t),fn:f.program(15,w,t),data:t});if(s||s===0){r+=s}r+="\n    ";s=n["if"].call(e,e.hasAtLeastTwoPages,{hash:{},inverse:f.noop,fn:f.program(19,T,t),data:t});if(s||s===0){r+=s}r+="\n    <!--\n    ";s=n["if"].call(e,i.isLoggedIn,{hash:{},inverse:f.noop,fn:f.program(24,k,t),data:t});if(s||s===0){r+=s}r+="\n    -->\n  </ul>\n</div>\n";return r}function d(e,t){var i="",r;i+="\n      ";r=n["if"].call(e,e.isPublished,{hash:{},inverse:f.program(5,m,t),fn:f.program(3,v,t),data:t});if(r||r===0){i+=r}i+="\n      ";r=n["if"].call(e,e.isAddingMedia,{hash:{},inverse:f.program(9,y,t),fn:f.program(7,g,t),data:t});if(r||r===0){i+=r}i+="\n      ";r=n["if"].call(e,e.isEditingPage,{hash:{},inverse:f.program(13,j,t),fn:f.program(11,b,t),data:t});if(r||r===0){i+=r}i+="\n    ";return i}function v(e,t){var i="",r;i+='\n        <li class="privacy"><a href="';if(r=n.editPageMakePrivateHref){r=r.call(e,{hash:{},data:t})}else{r=e.editPageMakePrivateHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" class="current app boxed public">Public</a></li>\n      ';return i}function m(e,t){var i="",r;i+='\n        <li class="privacy"><a href="';if(r=n.editPageMakePublicHref){r=r.call(e,{hash:{},data:t})}else{r=e.editPageMakePublicHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" class="current app boxed private">Private</a></li>\n      ';return i}function g(e,t){var i="",r;i+='\n        <li><a href="';if(r=n.addMediaHref){r=r.call(e,{hash:{},data:t})}else{r=e.addMediaHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" id="addMediaLink" class="current app boxed">Add Media</a></li>\n      ';return i}function y(e,t){var i="",r;i+='\n        <li><a href="';if(r=n.addMediaHref){r=r.call(e,{hash:{},data:t})}else{r=e.addMediaHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" id="addMediaLink" class="app boxed">Add Media</a></li>\n      ';return i}function b(e,t){var i="",r;i+='\n        <li><a href="';if(r=n.editPageHref){r=r.call(e,{hash:{},data:t})}else{r=e.editPageHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" class="current app boxed">Edit Page</a></li>\n      ';return i}function j(e,t){var i="",r;i+='\n        <li><a href="';if(r=n.editPageHref){r=r.call(e,{hash:{},data:t})}else{r=e.editPageHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" class="app boxed">Edit Page</a></li>\n      ';return i}function w(e,t){var i="",r;i+='\n      <li><a href="';if(r=n.createHref){r=r.call(e,{hash:{},data:t})}else{r=e.createHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" id="newPageLink" class="current app boxed">New Page</a></li>\n    ';return i}function x(e,t){var i="",r;i+='\n      <li><a href="';if(r=n.createHref){r=r.call(e,{hash:{},data:t})}else{r=e.createHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" id="newPageLink" class="app boxed">New Page</a></li>\n    ';return i}function T(e,t){var i="",r;i+="\n      ";r=n["if"].call(e,e.isReorderingPages,{hash:{},inverse:f.program(22,_,t),fn:f.program(20,C,t),data:t});if(r||r===0){i+=r}i+="\n    ";return i}function C(e,t){var i="",r;i+='\n        <li><a href="';if(r=n.reorderHref){r=r.call(e,{hash:{},data:t})}else{r=e.reorderHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" id="reorderPageLink" class="current app boxed">Sort Pages</a></li>\n      ';return i}function _(e,t){var i="",r;i+='\n        <li><a href="';if(r=n.reorderHref){r=r.call(e,{hash:{},data:t})}else{r=e.reorderHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" id="reorderPageLink" class="app boxed">Sort Pages</a></li>\n      ';return i}function k(e,t){var i="",r;i+="\n      <br />\n      ";r=n["if"].call(e,e.isPublished,{hash:{},inverse:f.program(27,S,t),fn:f.program(25,E,t),data:t});if(r||r===0){i+=r}i+="\n    ";return i}function E(e,t){var i="",r;i+='\n        <a href="';if(r=n.editHref){r=r.call(e,{hash:{},data:t})}else{r=e.editHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" class="app pageStatus">Public</a>\n      ';return i}function S(e,t){var i="",r;i+='\n        <a href="';if(r=n.editHref){r=r.call(e,{hash:{},data:t})}else{r=e.editHref;r=typeof r===u?r.apply(e):r}i+=c(r)+'" class="app pageStatus">Private</a>\n      ';return i}function N(e,t){var i="",r;i+="\n          <li>\n          ";r=n["if"].call(e,e.active,{hash:{},inverse:f.program(32,A,t),fn:f.program(30,P,t),data:t});if(r||r===0){i+=r}i+="\n          </li>\n        ";return i}function P(e,t){var i="",r;i+='\n            <a href="';if(r=n.href){r=r.call(e,{hash:{},data:t})}else{r=e.href;r=typeof r===u?r.apply(e):r}i+=c(r)+'" class="current app boxed">';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===u?r.apply(e):r}i+=c(r)+"</a>\n          ";return i}function A(e,t){var i="",r;i+='\n            <a href="';if(r=n.href){r=r.call(e,{hash:{},data:t})}else{r=e.href;r=typeof r===u?r.apply(e):r}i+=c(r)+'" class="app boxed">';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===u?r.apply(e):r}i+=c(r)+"</a>\n          ";return i}function M(e,t){var i="",r;i+="\n          ";r=n["if"].call(e,e.isContact,{hash:{},inverse:f.program(37,$,t),fn:f.program(35,I,t),data:t});if(r||r===0){i+=r}i+="\n        ";return i}function I(e,t){return'\n            <li class="contact"><a href="/contact" class="current app boxed">Contact</a></li>\n          '}function $(e,t){return'\n            <li class="contact"><a href="/contact" class="app boxed">Contact</a></li>\n          '}function F(e,t){var i="",r;i+='\n    <div class="alert alert-';if(r=n.type){r=r.call(e,{hash:{},data:t})}else{r=e.type;r=typeof r===u?r.apply(e):r}i+=c(r)+'">\n      <button type="button" class="close fui-cross" data-dismiss="alert"></button>\n      ';if(r=n.message){r=r.call(e,{hash:{},data:t})}else{r=e.message;r=typeof r===u?r.apply(e):r}i+=c(r)+"\n    </div>\n    ";return i}a=n["if"].call(t,t.isLoggedIn,{hash:{},inverse:f.noop,fn:f.programWithDepth(1,h,r,t),data:r});if(a||a===0){s+=a}s+='\n<div class="row pagebar">\n  <div class="span4">\n    <h1><a href="#" class="app">'+c((a=(a=t.sitetitle,a==null||a===false?a:a.value),typeof a===u?a.apply(t):a))+'</a></h1>\n  </div>\n  <div id="header" class="span8">\n    <div class="rightaligned-boxes">\n      <ul id="mainnav" class="nav nav-boxes">\n        '+"\n        ";o=n.each.call(t,t.pages,{hash:{},inverse:f.noop,fn:f.program(29,N,r),data:r});if(o||o===0){s+=o}s+="\n        ";o=n["if"].call(t,t.showContact,{hash:{},inverse:f.noop,fn:f.program(34,M,r),data:r});if(o||o===0){s+=o}s+="\n      </ul>\n    </div>\n    ";l={hash:{},inverse:f.noop,fn:f.program(39,F,r),data:r};if(o=n.flash){o=o.call(t,l)}else{o=t.flash;o=typeof o===u?o.apply(t):o}if(!n.flash){o=p.call(t,o,l)}if(o||o===0){s+=o}s+="\n  </div>\n</div>\n\n";return s});
},{"handlebars-runtime":97}],78:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o,l=this,u="function",c=this.escapeExpression;function f(e,t){return'\n            <li><a href="/logout" class="app">Log Out</a></li>\n          '}function p(e,t){return'\n            <li><a href="/login" class="app">Log In</a></li>\n          '}s+='  <div class="container">\n    <div class="row">\n      <div class="span12">\n        <ul class="bottom-links">\n          ';a=n["if"].call(t,t.isLoggedIn,{hash:{},inverse:l.program(3,p,r),fn:l.program(1,f,r),data:r});if(a||a===0){s+=a}s+='\n        </ul>\n        <span class="pull-right">&copy; '+c((a=(a=t.sitetitle,a==null||a===false?a:a.value),typeof a===u?a.apply(t):a))+" ";if(o=n.copyrightYear){o=o.call(t,{hash:{},data:r})}else{o=t.copyrightYear;o=typeof o===u?o.apply(t):o}s+=c(o)+"</span>\n      </div>\n    </div>\n  </div>\n";return s});
},{"handlebars-runtime":97}],95:[function(require,module,exports){
var _=require("lodash"),$=require("jquery-browserify"),Backbone=require("backbone");Backbone._=_;Backbone.$=$;var Base=Backbone.View.extend({initialize:function(e){var t=this.templateName;if(this.beforeInit){this.beforeInit(e)}this.template=this.template||e.template;if(!this.template){this.template=function(){return""}}if(this.afterInit){this.afterInit(e)}this.render()},context:function(){return _.extend({},this.options,this.model)},close:function(){if(this.beforeClose){this.beforeClose()}this.closeSubviews();this.off();this.remove()},render:function(){var e=this,t=this.model;if(this.beforeRender){this.beforeRender()}this.closeSubviews();this.$el.empty();if(this.beforeTemplating){t=this.beforeTemplating()}if(this.context){t=this.context()}this.$el.html(this.template(t));_.defer(function(){e.trigger("afterRender")});if(this.afterRender){this.afterRender()}return this},proxy:function(e,t){var n=this;t.on(e,function(){var t=Array.prototype.slice.call(arguments,0);t.splice(0,0,e);n.trigger.apply(n,t)})},eachSubview:function(e){_.each(this.subviews,e)},appendSubview:function(e,t){t||(t=this.$el);this.subviews=this.subviews||{};this.subviews[e.cid]=e;t.append(e.el);_.defer(function(){e.trigger("afterAppend")});if(e.afterAppend){e.afterAppend()}},closeSubviews:function(){this.eachSubview(function(e){e.close()});this.subviews={}},detachSubview:function(e){if(this.subviews){delete this.subviews[e.cid]}e.$el.detach()}});module.exports=Base;
},{"backbone":66,"jquery-browserify":75,"lodash":98}],80:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t){var i="",r;i+='\n  <li>\n    <div class="relfix">\n      <a href="';if(r=n.playerUrl){r=r.call(e,{hash:{},data:t})}else{r=e.playerUrl;r=typeof r===o?r.apply(e):r}i+=l(r)+'" class="app">\n        <img src="';if(r=n.thumbnailUrl){r=r.call(e,{hash:{},data:t})}else{r=e.thumbnailUrl;r=typeof r===o?r.apply(e):r}i+=l(r)+'" alt="';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+'" />\n        ';r=n["if"].call(e,e.editHref,{hash:{},inverse:u.noop,fn:u.program(2,f,t),data:t});if(r||r===0){i+=r}i+='\n        <div class="captions centered">\n          <h2>';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+"</h2>\n        </div>\n      </a>\n    </div>\n  </li>\n";return i}function f(e,t){var i="",r;i+='\n          <p class="absfix">\n            <a href="';if(r=n.editHref){r=r.call(e,{hash:{},data:t})}else{r=e.editHref;r=typeof r===o?r.apply(e):r}i+=l(r)+'" class="app btn btn-mini btn-info"><i class="icon-edit"></i></a>\n            <a href="';if(r=n.removeHref){r=r.call(e,{hash:{},data:t})}else{r=e.removeHref;r=typeof r===o?r.apply(e):r}i+=l(r)+'" class="app btn btn-mini btn-danger"><i class="icon-trash"></i></a>\n          </p>\n        ';return i}s+='<ul class="reelgrid">\n';a=n.each.call(t,t.media,{hash:{},inverse:u.noop,fn:u.program(1,c,r),data:r});if(a||a===0){s+=a}s+="\n</ul>\n";return s});
},{"handlebars-runtime":97}],82:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t){var i="",r;i+='\n  <iframe src="';if(r=n.thumberUrl){r=r.call(e,{hash:{},data:t})}else{r=e.thumberUrl;r=typeof r===o?r.apply(e):r}i+=l(r)+'" frameborder="0" width="100%"></iframe>\n';return i}a=n["if"].call(t,t.thumberUrl,{hash:{},inverse:u.noop,fn:u.program(1,c,r),data:r});if(a||a===0){s+=a}s+="\n";return s});
},{"handlebars-runtime":97}],84:[function(require,module,exports){
var Handlebars=require("handlebars-runtime");module.exports=Handlebars.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"];n=this.merge(n,e.helpers);r=r||{};var s="",a,o="function",l=this.escapeExpression,u=this;function c(e,t){var i="",r;i+='\n    <li>\n      <div class="relfix">\n        <a href="';if(r=n.playerUrl){r=r.call(e,{hash:{},data:t})}else{r=e.playerUrl;r=typeof r===o?r.apply(e):r}i+=l(r)+'" class="app">\n          <img src="';if(r=n.thumbnailUrl){r=r.call(e,{hash:{},data:t})}else{r=e.thumbnailUrl;r=typeof r===o?r.apply(e):r}i+=l(r)+'" alt="';if(r=n.name){r=r.call(e,{hash:{},data:t})}else{r=e.name;r=typeof r===o?r.apply(e):r}i+=l(r)+'" />\n        </a>\n        ';r=n["if"].call(e,e.editHref,{hash:{},inverse:u.noop,fn:u.program(2,f,t),data:t});if(r||r===0){i+=r}i+="\n      </div>\n    </li>\n  ";return i}function f(e,t){var i="",r;i+='\n          <p class="absfix">\n            <a href="';if(r=n.editHref){r=r.call(e,{hash:{},data:t})}else{r=e.editHref;r=typeof r===o?r.apply(e):r}i+=l(r)+'" class="app btn btn-micro btn-info">Edit</a>\n          </p>\n        ';return i}s+='<div class="sliderWrap">\n  <ul class="carousel elastislide-list">\n  ';a=n.each.call(t,t.media,{hash:{},inverse:u.noop,fn:u.program(1,c,r),data:r});if(a||a===0){s+=a}s+='\n  </ul>\n</div>\n<div class="controls clearfix centered">\n  <div class="control-fix centered">\n    <a href="#" class="carouselControl goLeft hidden">&lt;</a>\n    <a href="#" class="carouselControl reelToggle"><span class="symbol">&and;</span><br /><small>Reel</small></a>\n    <a href="#" class="carouselControl goRight hidden">&gt;</a>\n  </div>\n  <a href="#" class="carouselControl bigClose pull-right">&times;</a>\n</div>\n';return s});
},{"handlebars-runtime":97}],98:[function(require,module,exports){
var global=self;!function(e){var t;var n=typeof exports=="object"&&exports;var i=typeof module=="object"&&module&&module.exports==n&&module;var r=typeof global=="object"&&global;if(r.global===r||r.window===r){e=r}var a=0;var s={};var o=+new Date+"";var l=200;var u=/\b__p \+= '';/g,c=/\b(__p \+=) '' \+/g,f=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var p=/&(?:amp|lt|gt|quot|#39);/g;var h=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var d=/\w*$/;var v=/<%=([\s\S]+?)%>/g;var m=" 	\f ﻿"+"\n\r\u2028\u2029"+" ᠎             　";var g=RegExp("^["+m+"]*0+(?=.$)");var y=/($^)/;var b=/[&<>"']/g;var w=/['\n\r\t\u2028\u2029\\]/g;var j=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"];var x=0;var _="[object Arguments]",C="[object Array]",T="[object Boolean]",k="[object Date]",E="[object Function]",S="[object Number]",N="[object Object]",A="[object RegExp]",P="[object String]";var I={};I[E]=false;I[_]=I[C]=I[T]=I[k]=I[S]=I[N]=I[A]=I[P]=true;var M={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};var $={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};function O(n){n=n?F.defaults(e.Object(),n,F.pick(e,j)):e;var r=n.Array,E=n.Boolean,H=n.Date,L=n.Function,q=n.Math,D=n.Number,R=n.Object,B=n.RegExp,z=n.String,U=n.TypeError;var W=r(),V=R();var X=n._;var J=B("^"+z(V.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");var G=q.ceil,Y=n.clearTimeout,Q=W.concat,K=q.floor,Z=J.test(Z=R.getPrototypeOf)&&Z,et=V.hasOwnProperty,tt=W.push,nt=n.setImmediate,it=n.setTimeout,rt=V.toString;var at=J.test(at=rt.bind)&&at,st=J.test(st=r.isArray)&&st,ot=n.isFinite,lt=n.isNaN,ut=J.test(ut=R.keys)&&ut,ct=q.max,ft=q.min,pt=n.parseInt,ht=q.random,dt=W.slice;var vt=J.test(n.attachEvent),mt=at&&!/\n|true/.test(at+vt);var gt={};gt[C]=r;gt[T]=E;gt[k]=H;gt[N]=R;gt[S]=D;gt[A]=B;gt[P]=z;function yt(e){return e&&typeof e=="object"&&!It(e)&&et.call(e,"__wrapped__")?e:new kt(e)}var bt=yt.support={};bt.fastBind=at&&!mt;yt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:v,variable:"",imports:{_:yt}};function wt(e){var t=e.length,n=t>=l;if(n){var i={},r=-1;while(++r<t){var a=o+e[r];(i[a]||(i[a]=[])).push(e[r])}}return function(t){if(n){var r=o+t;return i[r]&&Rn(i[r],t)>-1}return Rn(e,t)>-1}}function jt(e){return e.charCodeAt(0)}function xt(e,t){var n=e.index,i=t.index;e=e.criteria;t=t.criteria;if(e!==t){if(e>t||typeof e=="undefined"){return 1}if(e<t||typeof t=="undefined"){return-1}}return n<i?-1:1}function _t(e,t,n,i){var r=Zt(e),a=!n,s=t;if(a){var o=i;n=t}else if(!r){if(!i){throw new U}t=e}function l(){var i=arguments,u=a?this:t;if(!r){e=t[s]}if(n.length){i=i.length?(i=dt.call(i),o?i.concat(n):n.concat(i)):n}if(this instanceof l){Et.prototype=e.prototype;u=new Et;Et.prototype=null;var c=e.apply(u,i);return en(c)?c:u}return e.apply(u,i)}return l}function Ct(e){return"\\"+$[e]}function Tt(e){return Ot[e]}function kt(e){this.__wrapped__=e}kt.prototype=yt.prototype;function Et(){}function St(e){var t=false;if(!(e&&rt.call(e)==N)){return t}var n=e.constructor;if(Zt(n)?n instanceof n:true){Bt(e,function(e,n){t=n});return t===false||et.call(e,t)}return t}function Nt(e,t,n){t||(t=0);if(typeof n=="undefined"){n=e?e.length:0}var i=-1,a=n-t||0,s=r(a<0?0:a);while(++i<a){s[i]=e[t+i]}return s}function At(e){return Ft[e]}function Pt(e){return rt.call(e)==_}var It=st;var Mt=function(e){var t,n=e,i=[];if(!n)return i;if(!M[typeof e])return i;for(t in n){if(et.call(n,t)){i.push(t)}}return i};var $t=!ut?Mt:function(e){if(!en(e)){return[]}return ut(e)};var Ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var Ft=Vt(Ot);var Ht=function(e,t,n){var i,r=e,a=r;if(!r)return a;var s=arguments,o=0,l=typeof n=="number"?2:s.length;if(l>3&&typeof s[l-2]=="function"){var u=yt.createCallback(s[--l-1],s[l--],2)}else if(l>2&&typeof s[l-1]=="function"){u=s[--l]}while(++o<l){r=s[o];if(r&&M[typeof r]){var c=r.length;i=-1;if(It(r)){while(++i<c){a[i]=u?u(a[i],r[i]):r[i]}}else{var f=-1,p=M[typeof r]?$t(r):[],c=p.length;while(++f<c){i=p[f];a[i]=u?u(a[i],r[i]):r[i]}}}}return a};function Lt(e,n,i,r,a,s){var o=e;if(typeof n=="function"){r=i;i=n;n=false}if(typeof i=="function"){i=typeof r=="undefined"?i:yt.createCallback(i,r,1);o=i(o);if(typeof o!="undefined"){return o}o=e}var l=en(o);if(l){var u=rt.call(o);if(!I[u]){return o}var c=It(o)}if(!l||!n){return l?c?Nt(o):Ht({},o):o}var f=gt[u];switch(u){case T:case k:return new f(+o);case S:case P:return new f(o);case A:return f(o.source,d.exec(o))}a||(a=[]);s||(s=[]);var p=a.length;while(p--){if(a[p]==e){return s[p]}}o=c?f(o.length):{};if(c){if(et.call(e,"index")){o.index=e.index}if(et.call(e,"input")){o.input=e.input}}a.push(e);s.push(o);(c?wn:zt)(e,function(e,r){o[r]=Lt(e,n,i,t,a,s)});return o}function qt(e,t,n){return Lt(e,true,t,n)}var Dt=function(e,t,n){var i,r=e,a=r;if(!r)return a;var s=arguments,o=0,l=typeof n=="number"?2:s.length;while(++o<l){r=s[o];if(r&&M[typeof r]){var u=r.length;i=-1;if(It(r)){while(++i<u){if(typeof a[i]=="undefined")a[i]=r[i]}}else{var c=-1,f=M[typeof r]?$t(r):[],u=f.length;while(++c<u){i=f[c];if(typeof a[i]=="undefined")a[i]=r[i]}}}}return a};function Rt(e,t,n){var i;t=yt.createCallback(t,n);zt(e,function(e,n,r){if(t(e,n,r)){i=n;return false}});return i}var Bt=function(e,t,n){var i,r=e,a=r;if(!r)return a;if(!M[typeof r])return a;t=t&&typeof n=="undefined"?t:yt.createCallback(t,n);for(i in r){if(t(r[i],i,e)===false)return a}return a};var zt=function(e,t,n){var i,r=e,a=r;if(!r)return a;if(!M[typeof r])return a;t=t&&typeof n=="undefined"?t:yt.createCallback(t,n);var s=-1,o=M[typeof r]?$t(r):[],l=o.length;while(++s<l){i=o[s];if(t(r[i],i,e)===false)return a}return a};function Ut(e){var t=[];Bt(e,function(e,n){if(Zt(e)){t.push(n)}});return t.sort()}function Wt(e,t){return e?et.call(e,t):false}function Vt(e){var t=-1,n=$t(e),i=n.length,r={};while(++t<i){var a=n[t];r[e[a]]=a}return r}function Xt(e){return e===true||e===false||rt.call(e)==T}function Jt(e){return e?typeof e=="object"&&rt.call(e)==k:false}function Gt(e){return e?e.nodeType===1:false}function Yt(e){var t=true;if(!e){return t}var n=rt.call(e),i=e.length;if(n==C||n==P||n==_||n==N&&typeof i=="number"&&Zt(e.splice)){return!i}zt(e,function(){return t=false});return t}function Qt(e,t,n,i,r,a){var o=n===s;if(typeof n=="function"&&!o){n=yt.createCallback(n,i,2);var l=n(e,t);if(typeof l!="undefined"){return!!l}}if(e===t){return e!==0||1/e==1/t}var u=typeof e,c=typeof t;if(e===e&&(!e||u!="function"&&u!="object")&&(!t||c!="function"&&c!="object")){return false}if(e==null||t==null){return e===t}var f=rt.call(e),p=rt.call(t);if(f==_){f=N}if(p==_){p=N}if(f!=p){return false}switch(f){case T:case k:return+e==+t;case S:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case A:case P:return e==z(t)}var h=f==C;if(!h){if(et.call(e,"__wrapped__ ")||et.call(t,"__wrapped__")){return Qt(e.__wrapped__||e,t.__wrapped__||t,n,i,r,a)}if(f!=N){return false}var d=e.constructor,v=t.constructor;if(d!=v&&!(Zt(d)&&d instanceof d&&Zt(v)&&v instanceof v)){return false}}r||(r=[]);a||(a=[]);var m=r.length;while(m--){if(r[m]==e){return a[m]==t}}var g=0;l=true;r.push(e);a.push(t);if(h){m=e.length;g=t.length;l=g==e.length;if(!l&&!o){return l}while(g--){var y=m,b=t[g];if(o){while(y--){if(l=Qt(e[y],b,n,i,r,a)){break}}}else if(!(l=Qt(e[g],b,n,i,r,a))){break}}return l}Bt(t,function(t,s,o){if(et.call(o,s)){g++;return l=et.call(e,s)&&Qt(e[s],t,n,i,r,a)}});if(l&&!o){Bt(e,function(e,t,n){if(et.call(n,t)){return l=--g>-1}})}return l}function Kt(e){return ot(e)&&!lt(parseFloat(e))}function Zt(e){return typeof e=="function"}function en(e){return e?M[typeof e]:false}function tn(e){return rn(e)&&e!=+e}function nn(e){return e===null}function rn(e){return typeof e=="number"||rt.call(e)==S}var an=function(e){if(!(e&&rt.call(e)==N)){return false}var t=e.valueOf,n=typeof t=="function"&&(n=Z(t))&&Z(n);return n?e==n||Z(e)==n:St(e)};function sn(e){return e?typeof e=="object"&&rt.call(e)==A:false}function on(e){return typeof e=="string"||rt.call(e)==P}function ln(e){return typeof e=="undefined"}function un(e,t,n){var i=arguments,r=0,a=2;if(!en(e)){return e}if(n===s){var o=i[3],l=i[4],u=i[5]}else{l=[];u=[];if(typeof n!="number"){a=i.length}if(a>3&&typeof i[a-2]=="function"){o=yt.createCallback(i[--a-1],i[a--],2)}else if(a>2&&typeof i[a-1]=="function"){o=i[--a]}}while(++r<a){(It(i[r])?wn:zt)(i[r],function(t,n){var i,r,a=t,c=e[n];if(t&&((r=It(t))||an(t))){var f=l.length;while(f--){if(i=l[f]==t){c=u[f];break}}if(!i){var p;if(o){a=o(c,t);if(p=typeof a!="undefined"){c=a}}if(!p){c=r?It(c)?c:[]:an(c)?c:{}}l.push(t);u.push(c);if(!p){c=un(c,t,s,o,l,u)}}}else{if(o){a=o(c,t);if(typeof a=="undefined"){a=t}}if(typeof a!="undefined"){c=a}}e[n]=c})}return e}function cn(e,t,n){var i=typeof t=="function",r={};if(i){t=yt.createCallback(t,n)}else{var a=Q.apply(W,dt.call(arguments,1))}Bt(e,function(e,n,s){if(i?!t(e,n,s):Rn(a,n)<0){r[n]=e}});return r}function fn(e){var t=-1,n=$t(e),i=n.length,a=r(i);while(++t<i){var s=n[t];a[t]=[s,e[s]]}return a}function pn(e,t,n){var i={};if(typeof t!="function"){var r=-1,a=Q.apply(W,dt.call(arguments,1)),s=en(e)?a.length:0;while(++r<s){var o=a[r];if(o in e){i[o]=e[o]}}}else{t=yt.createCallback(t,n);Bt(e,function(e,n,r){if(t(e,n,r)){i[n]=e}})}return i}function hn(e){var t=-1,n=$t(e),i=n.length,a=r(i);while(++t<i){a[t]=e[n[t]]}return a}function dn(e){var t=-1,n=Q.apply(W,dt.call(arguments,1)),i=n.length,a=r(i);while(++t<i){a[t]=e[n[t]]}return a}function vn(e,t,n){var i=-1,r=e?e.length:0,a=false;n=(n<0?ct(0,r+n):n)||0;if(typeof r=="number"){a=(on(e)?e.indexOf(t,n):Rn(e,t,n))>-1}else{zt(e,function(e){if(++i>=n){return!(a=e===t)}})}return a}function mn(e,t,n){var i={};t=yt.createCallback(t,n);wn(e,function(e,n,r){n=z(t(e,n,r));et.call(i,n)?i[n]++:i[n]=1});return i}function gn(e,t,n){var i=true;t=yt.createCallback(t,n);var r=-1,a=e?e.length:0;if(typeof a=="number"){while(++r<a){if(!(i=!!t(e[r],r,e))){break}}}else{zt(e,function(e,n,r){return i=!!t(e,n,r)})}return i}function yn(e,t,n){var i=[];t=yt.createCallback(t,n);var r=-1,a=e?e.length:0;if(typeof a=="number"){while(++r<a){var s=e[r];if(t(s,r,e)){i.push(s)}}}else{zt(e,function(e,n,r){if(t(e,n,r)){i.push(e)}})}return i}function bn(e,t,n){t=yt.createCallback(t,n);var i=-1,r=e?e.length:0;if(typeof r=="number"){while(++i<r){var a=e[i];if(t(a,i,e)){return a}}}else{var s;zt(e,function(e,n,i){if(t(e,n,i)){s=e;return false}});return s}}function wn(e,t,n){var i=-1,r=e?e.length:0;t=t&&typeof n=="undefined"?t:yt.createCallback(t,n);if(typeof r=="number"){while(++i<r){if(t(e[i],i,e)===false){break}}}else{zt(e,t)}return e}function jn(e,t,n){var i={};t=yt.createCallback(t,n);wn(e,function(e,n,r){n=z(t(e,n,r));(et.call(i,n)?i[n]:i[n]=[]).push(e)});return i}function xn(e,t){var n=dt.call(arguments,2),i=-1,a=typeof t=="function",s=e?e.length:0,o=r(typeof s=="number"?s:0);wn(e,function(e){o[++i]=(a?t:e[t]).apply(e,n)});return o}function _n(e,t,n){var i=-1,a=e?e.length:0;t=yt.createCallback(t,n);if(typeof a=="number"){var s=r(a);while(++i<a){s[i]=t(e[i],i,e)}}else{s=[];zt(e,function(e,n,r){s[++i]=t(e,n,r)})}return s}function Cn(e,t,n){var i=-Infinity,r=i;if(!t&&It(e)){var a=-1,s=e.length;while(++a<s){var o=e[a];if(o>r){r=o}}}else{t=!t&&on(e)?jt:yt.createCallback(t,n);wn(e,function(e,n,a){var s=t(e,n,a);if(s>i){i=s;r=e}})}return r}function Tn(e,t,n){var i=Infinity,r=i;if(!t&&It(e)){var a=-1,s=e.length;while(++a<s){var o=e[a];if(o<r){r=o}}}else{t=!t&&on(e)?jt:yt.createCallback(t,n);wn(e,function(e,n,a){var s=t(e,n,a);if(s<i){i=s;r=e}})}return r}function kn(e,t){var n=-1,i=e?e.length:0;if(typeof i=="number"){var a=r(i);while(++n<i){a[n]=e[n][t]}}return a||_n(e,t)}function En(e,t,n,i){if(!e)return n;var r=arguments.length<3;t=yt.createCallback(t,i,4);var a=-1,s=e.length;if(typeof s=="number"){if(r){n=e[++a]}while(++a<s){n=t(n,e[a],a,e)}}else{zt(e,function(e,i,a){n=r?(r=false,e):t(n,e,i,a)})}return n}function Sn(e,t,n,i){var r=e,a=e?e.length:0,s=arguments.length<3;if(typeof a!="number"){var o=$t(e);a=o.length}t=yt.createCallback(t,i,4);wn(e,function(e,i,l){i=o?o[--a]:--a;n=s?(s=false,r[i]):t(n,r[i],i,l)});return n}function Nn(e,t,n){t=yt.createCallback(t,n);return yn(e,function(e,n,i){return!t(e,n,i)})}function An(e){var t=-1,n=e?e.length:0,i=r(typeof n=="number"?n:0);wn(e,function(e){var n=K(ht()*(++t+1));i[t]=i[n];i[n]=e});return i}function Pn(e){var t=e?e.length:0;return typeof t=="number"?t:$t(e).length}function In(e,t,n){var i;t=yt.createCallback(t,n);var r=-1,a=e?e.length:0;if(typeof a=="number"){while(++r<a){if(i=t(e[r],r,e)){break}}}else{zt(e,function(e,n,r){return!(i=t(e,n,r))})}return!!i}function Mn(e,t,n){var i=-1,a=e?e.length:0,s=r(typeof a=="number"?a:0);t=yt.createCallback(t,n);wn(e,function(e,n,r){s[++i]={criteria:t(e,n,r),index:i,value:e}});a=s.length;s.sort(xt);while(a--){s[a]=s[a].value}return s}function $n(e){if(e&&typeof e.length=="number"){return Nt(e)}return hn(e)}var On=yn;function Fn(e){var t=-1,n=e?e.length:0,i=[];while(++t<n){var r=e[t];if(r){i.push(r)}}return i}function Hn(e){var t=-1,n=e?e.length:0,i=Q.apply(W,dt.call(arguments,1)),r=wt(i),a=[];while(++t<n){var s=e[t];if(!r(s)){a.push(s)}}return a}function Ln(e,t,n){var i=-1,r=e?e.length:0;t=yt.createCallback(t,n);while(++i<r){if(t(e[i],i,e)){return i}}return-1}function qn(e,t,n){if(e){var i=0,r=e.length;if(typeof t!="number"&&t!=null){var a=-1;t=yt.createCallback(t,n);while(++a<r&&t(e[a],a,e)){i++}}else{i=t;if(i==null||n){return e[0]}}return Nt(e,0,ft(ct(0,i),r))}}function Dn(e,t,n,i){var r=-1,a=e?e.length:0,s=[];if(typeof t!="boolean"&&t!=null){i=n;n=t;t=false}if(n!=null){n=yt.createCallback(n,i)}while(++r<a){var o=e[r];if(n){o=n(o,r,e)}if(It(o)){tt.apply(s,t?o:Dn(o))}else{s.push(o)}}return s}function Rn(e,t,n){var i=-1,r=e?e.length:0;if(typeof n=="number"){i=(n<0?ct(0,r+n):n||0)-1}else if(n){i=Jn(e,t);return e[i]===t?i:-1}while(++i<r){if(e[i]===t){return i}}return-1}function Bn(e,t,n){if(!e){return[]}var i=0,r=e.length;if(typeof t!="number"&&t!=null){var a=r;t=yt.createCallback(t,n);while(a--&&t(e[a],a,e)){i++}}else{i=t==null||n?1:t||i}return Nt(e,0,ft(ct(0,r-i),r))}function zn(e){var t=arguments,n=t.length,i={0:{}},r=-1,a=e?e.length:0,s=a>=l,u=[],c=u;e:while(++r<a){var f=e[r];if(s){var p=o+f;var h=i[0][p]?!(c=i[0][p]):c=i[0][p]=[]}if(h||Rn(c,f)<0){if(s){c.push(f)}var d=n;while(--d){if(!(i[d]||(i[d]=wt(t[d])))(f)){continue e}}u.push(f)}}return u}function Un(e,t,n){if(e){var i=0,r=e.length;if(typeof t!="number"&&t!=null){var a=r;t=yt.createCallback(t,n);while(a--&&t(e[a],a,e)){i++}}else{i=t;if(i==null||n){return e[r-1]}}return Nt(e,ct(0,r-i))}}function Wn(e,t,n){var i=e?e.length:0;if(typeof n=="number"){i=(n<0?ct(0,i+n):ft(n,i-1))+1}while(i--){if(e[i]===t){return i}}return-1}function Vn(e,t,n){e=+e||0;n=+n||1;if(t==null){t=e;e=0}var i=-1,a=ct(0,G((t-e)/n)),s=r(a);while(++i<a){s[i]=e;e+=n}return s}function Xn(e,t,n){if(typeof t!="number"&&t!=null){var i=0,r=-1,a=e?e.length:0;t=yt.createCallback(t,n);while(++r<a&&t(e[r],r,e)){i++}}else{i=t==null||n?1:ct(0,t)}return Nt(e,i)}function Jn(e,t,n,i){var r=0,a=e?e.length:r;n=n?yt.createCallback(n,i,1):gi;t=n(t);while(r<a){var s=r+a>>>1;n(e[s])<t?r=s+1:a=s}return r}function Gn(e){if(!It(e)){arguments[0]=e?dt.call(e):W}return Yn(Q.apply(W,arguments))}function Yn(e,t,n,i){var r=-1,a=e?e.length:0,s=[],u=s;if(typeof t!="boolean"&&t!=null){i=n;n=t;t=false}var c=!t&&a>=l;if(c){var f={}}if(n!=null){u=[];n=yt.createCallback(n,i)}while(++r<a){var p=e[r],h=n?n(p,r,e):p;if(c){var d=o+h;var v=f[d]?!(u=f[d]):u=f[d]=[]}if(t?!r||u[u.length-1]!==h:v||Rn(u,h)<0){if(n||c){u.push(h)}s.push(p)}}return s}function Qn(e){var t=-1,n=e?e.length:0,i=n?Cn(kn(e,"length")):0,a=r(i);while(++t<n){var s=-1,o=e[t];while(++s<i){(a[s]||(a[s]=r(n)))[t]=o[s]}}return a}function Kn(e){return Hn(e,dt.call(arguments,1))}function Zn(e){var t=-1,n=e?Cn(kn(arguments,"length")):0,i=r(n);while(++t<n){i[t]=kn(arguments,t)}return i}function ei(e,t){var n=-1,i=e?e.length:0,r={};while(++n<i){var a=e[n];if(t){r[a]=t[n]}else{r[a[0]]=a[1]}}return r}function ti(e,t){if(e<1){return t()}return function(){if(--e<1){return t.apply(this,arguments)}}}function ni(e,t){return bt.fastBind||at&&arguments.length>2?at.call.apply(at,arguments):_t(e,t,dt.call(arguments,2))}function ii(e){var t=arguments.length>1?Q.apply(W,dt.call(arguments,1)):Ut(e),n=-1,i=t.length;while(++n<i){var r=t[n];e[r]=ni(e[r],e)}return e}function ri(e,t){return _t(e,t,dt.call(arguments,2),s)}function ai(){var e=arguments;return function(){var t=arguments,n=e.length;while(n--){t=[e[n].apply(this,t)]}return t[0]}}function si(e,t,n){if(e==null){return gi}var i=typeof e;if(i!="function"){if(i!="object"){return function(t){return t[e]}}var r=$t(e);return function(t){var n=r.length,i=false;while(n--){if(!(i=Qt(t[r[n]],e[r[n]],s))){break}}return i}}if(typeof t!="undefined"){if(n===1){return function(n){return e.call(t,n)}}if(n===2){return function(n,i){return e.call(t,n,i)}}if(n===4){return function(n,i,r,a){return e.call(t,n,i,r,a)}}return function(n,i,r){return e.call(t,n,i,r)}}return e}function oi(e,t,n){var i,r,a,s,o,l=true;function u(){r=o=null;if(l){a=e.apply(s,i)}}if(n===true){var c=true;l=false}else if(n&&M[typeof n]){c=n.leading;l="trailing"in n?n.trailing:l}return function(){i=arguments;s=this;Y(o);if(!r&&c){r=true;a=e.apply(s,i)}else{o=it(u,t)}return a}}function li(e){var n=dt.call(arguments,1);return it(function(){e.apply(t,n)},1)}if(mt&&i&&typeof nt=="function"){li=ni(nt,n)}function ui(e,n){var i=dt.call(arguments,2);return it(function(){e.apply(t,i)},n)}function ci(e,t){var n={};return function(){var i=o+(t?t.apply(this,arguments):arguments[0]);return et.call(n,i)?n[i]:n[i]=e.apply(this,arguments)}}function fi(e){var t,n;return function(){if(t){return n}t=true;n=e.apply(this,arguments);e=null;return n}}function pi(e){return _t(e,dt.call(arguments,1))}function hi(e){return _t(e,dt.call(arguments,1),null,s)}function di(e,t,n){var i,r,a,s,o=0,l=true,u=true;function c(){s=null;if(u){o=new H;r=e.apply(a,i)}}if(n===false){l=false}else if(n&&M[typeof n]){l="leading"in n?n.leading:l;u="trailing"in n?n.trailing:u}return function(){var n=new H;if(!s&&!l){o=n}var u=t-(n-o);i=arguments;a=this;if(u<=0){Y(s);s=null;o=n;r=e.apply(a,i)}else if(!s){s=it(c,u)}return r}}function vi(e,t){return function(){var n=[e];tt.apply(n,arguments);return t.apply(this,n)}}function mi(e){return e==null?"":z(e).replace(b,Tt)}function gi(e){return e}function yi(e){wn(Ut(e),function(t){var n=yt[t]=e[t];yt.prototype[t]=function(){var e=this.__wrapped__,t=[e];tt.apply(t,arguments);var i=n.apply(yt,t);return e&&typeof e=="object"&&e==i?this:new kt(i)}})}function bi(){n._=X;return this}var wi=pt(m+"08")==8?pt:function(e,t){return pt(on(e)?e.replace(g,""):e,t||0)};function ji(e,t){if(e==null&&t==null){t=1}e=+e||0;if(t==null){t=e;e=0}return e+K(ht()*((+t||0)-e+1))}function xi(e,n){var i=e?e[n]:t;return Zt(i)?e[n]():i}function _i(e,n,i){var r=yt.templateSettings;e||(e="");i=Dt({},i,r);var a=Dt({},i.imports,r.imports),s=$t(a),o=hn(a);var l,p=0,d=i.interpolate||y,m="__p += '";var g=B((i.escape||y).source+"|"+d.source+"|"+(d===v?h:y).source+"|"+(i.evaluate||y).source+"|$","g");e.replace(g,function(t,n,i,r,a,s){i||(i=r);m+=e.slice(p,s).replace(w,Ct);if(n){m+="' +\n__e("+n+") +\n'"}if(a){l=true;m+="';\n"+a+";\n__p += '"}if(i){m+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"}p=s+t.length;return t});m+="';\n";var b=i.variable,j=b;if(!j){b="obj";m="with ("+b+") {\n"+m+"\n}\n"}m=(l?m.replace(u,""):m).replace(c,"$1").replace(f,"$1;");m="function("+b+") {\n"+(j?"":b+" || ("+b+" = {});\n")+"var __t, __p = '', __e = _.escape"+(l?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var _="\n/*\n//@ sourceURL="+(i.sourceURL||"/lodash/template/source["+x++ +"]")+"\n*/";try{var C=L(s,"return "+m+_).apply(t,o)}catch(T){T.source=m;throw T}if(n){return C(n)}C.source=m;return C}function Ci(e,t,n){e=(e=+e)>-1?e:0;var i=-1,a=r(e);t=yt.createCallback(t,n,1);while(++i<e){a[i]=t(i)}return a}function Ti(e){return e==null?"":z(e).replace(p,At)}function ki(e){var t=++a;return z(e==null?"":e)+t}function Ei(e,t){t(e);return e}function Si(){return z(this.__wrapped__)}function Ni(){return this.__wrapped__}yt.after=ti;yt.assign=Ht;yt.at=dn;yt.bind=ni;yt.bindAll=ii;yt.bindKey=ri;yt.compact=Fn;yt.compose=ai;yt.countBy=mn;yt.createCallback=si;yt.debounce=oi;yt.defaults=Dt;yt.defer=li;yt.delay=ui;yt.difference=Hn;yt.filter=yn;yt.flatten=Dn;yt.forEach=wn;yt.forIn=Bt;yt.forOwn=zt;yt.functions=Ut;yt.groupBy=jn;yt.initial=Bn;yt.intersection=zn;yt.invert=Vt;yt.invoke=xn;yt.keys=$t;yt.map=_n;yt.max=Cn;yt.memoize=ci;yt.merge=un;yt.min=Tn;yt.omit=cn;yt.once=fi;yt.pairs=fn;yt.partial=pi;yt.partialRight=hi;yt.pick=pn;yt.pluck=kn;yt.range=Vn;yt.reject=Nn;yt.rest=Xn;yt.shuffle=An;yt.sortBy=Mn;yt.tap=Ei;yt.throttle=di;yt.times=Ci;yt.toArray=$n;yt.union=Gn;yt.uniq=Yn;yt.unzip=Qn;yt.values=hn;yt.where=On;yt.without=Kn;yt.wrap=vi;yt.zip=Zn;yt.zipObject=ei;yt.collect=_n;yt.drop=Xn;yt.each=wn;yt.extend=Ht;yt.methods=Ut;yt.object=ei;yt.select=yn;yt.tail=Xn;yt.unique=Yn;yi(yt);yt.clone=Lt;yt.cloneDeep=qt;yt.contains=vn;yt.escape=mi;yt.every=gn;yt.find=bn;yt.findIndex=Ln;yt.findKey=Rt;yt.has=Wt;yt.identity=gi;yt.indexOf=Rn;yt.isArguments=Pt;yt.isArray=It;yt.isBoolean=Xt;yt.isDate=Jt;yt.isElement=Gt;yt.isEmpty=Yt;yt.isEqual=Qt;yt.isFinite=Kt;yt.isFunction=Zt;yt.isNaN=tn;yt.isNull=nn;yt.isNumber=rn;yt.isObject=en;yt.isPlainObject=an;yt.isRegExp=sn;yt.isString=on;yt.isUndefined=ln;yt.lastIndexOf=Wn;yt.mixin=yi;yt.noConflict=bi;yt.parseInt=wi;yt.random=ji;yt.reduce=En;yt.reduceRight=Sn;yt.result=xi;yt.runInContext=O;yt.size=Pn;yt.some=In;yt.sortedIndex=Jn;yt.template=_i;yt.unescape=Ti;yt.uniqueId=ki;yt.all=gn;yt.any=In;yt.detect=bn;yt.foldl=En;yt.foldr=Sn;yt.include=vn;yt.inject=En;zt(yt,function(e,t){if(!yt.prototype[t]){yt.prototype[t]=function(){var t=[this.__wrapped__];tt.apply(t,arguments);return e.apply(yt,t)}}});yt.first=qn;yt.last=Un;yt.take=qn;yt.head=qn;zt(yt,function(e,t){if(!yt.prototype[t]){yt.prototype[t]=function(t,n){var i=e(this.__wrapped__,t,n);return t==null||n&&typeof t!="function"?i:new kt(i)}}});yt.VERSION="1.2.1";yt.prototype.toString=Si;yt.prototype.value=Ni;yt.prototype.valueOf=Ni;wn(["join","pop","shift"],function(e){var t=W[e];yt.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}});wn(["push","reverse","sort","unshift"],function(e){var t=W[e];yt.prototype[e]=function(){t.apply(this.__wrapped__,arguments);return this}});wn(["concat","slice","splice"],function(e){var t=W[e];yt.prototype[e]=function(){return new kt(t.apply(this.__wrapped__,arguments))}});return yt}var F=O();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){e._=F;define(function(){return F})}else if(n&&!n.nodeType){if(i){(i.exports=F)._=F}else{n._=F}}else{e._=F}}(this);
},{}]},{},[1])
;;;
//@ sourceMappingURL=/js/scripts.map
