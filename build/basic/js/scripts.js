!function(t,e,n){function i(n,a){if(!e[n]){if(!t[n]){var o="function"==typeof require&&require;if(!a&&o)return o(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var s=e[n]={exports:{}};t[n][0].call(s.exports,function(e){var r=t[n][1][e];return i(r?r:e)},s,s.exports)}return e[n].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t){window.onload=function(){var e=t("./app");window.app=new e(document.getElementById("app")),window.app.start(window.bootstrap)}},{"./app":2}],3:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(t,e,n){function i(t,e){for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}function r(t,e){for(var n=0,i=t.length;i>=0;i--){var r=t[i];"."==r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var a=t("__browserify_process"),o=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){for(var t="",e=!1,n=arguments.length;n>=-1&&!e;n--){var o=n>=0?arguments[n]:a.cwd();"string"==typeof o&&o&&(t=o+"/"+t,e="/"===o.charAt(0))}return t=r(i(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},n.normalize=function(t){var e="/"===t.charAt(0),n="/"===t.slice(-1);return t=r(i(t.split("/"),function(t){return!!t}),!e).join("/"),t||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i(t,function(t){return t&&"string"==typeof t}).join("/"))},n.dirname=function(t){var e=o.exec(t)[1]||"",n=!1;return e?1===e.length||n&&e.length<=3&&":"===e.charAt(1)?e:e.substring(0,e.length-1):"."},n.basename=function(t,e){var n=o.exec(t)[2]||"";return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o.exec(t)[3]||""},n.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var r=i(t.split("/")),a=i(e.split("/")),o=Math.min(r.length,a.length),s=o,l=0;o>l;l++)if(r[l]!==a[l]){s=l;break}for(var u=[],l=s;l<r.length;l++)u.push("..");return u=u.concat(a.slice(s)),u.join("/")},n.sep="/"},{__browserify_process:3}],5:[function(t,e){!function(){function t(t,e,n){this.init(t,e,n)}t.prototype={init:function(t,e,n){this.targetFrame=t,this.targetDomain=e,this.prefix=n,this.replies={},this.nextTicket=0,this.ready=!1,this.queue=[];var i=this;window.addEventListener("message",function(t){i.receive(t)},!1)},send:function(t,e,n){var i="ticket_"+this.prefix+"_"+this.nextTicket++,r=JSON.stringify({"function":t,args:e,ticket:i});n&&(this.replies[i]=n),this.sendInternal(r)},receive:function(t){if(t.origin.replace(/https?:\/\//,"")===this.targetDomain.replace(/\/$/,"").replace(/https?:\/\//,"")){var e;try{e=JSON.parse(t.data)}catch(n){return alert("Syntax error in response from "+t.origin+": "+t.data),void 0}if("ready"===e.event)return this.ready=!0,this.sendQueuedEvents(),void 0;if(e.ticket in this.replies){var i=this.replies[e.ticket];delete this.replies[e.ticket];var r=[];"args"in e&&(r=e.args),i.apply(void 0,r)}}},sendInternal:function(t){this.ready?this.targetFrame.contentWindow.postMessage(t,this.targetDomain):this.queue.push(t)},sendQueuedEvents:function(){for(var t=0;t<this.queue.length;t++)this.targetFrame.contentWindow.postMessage(this.queue[t],this.targetDomain);this.queue.length=0}},e.exports=t}()},{}],6:[function(t,e){!function(){var t={};t.baseUrl="http://www.toolkitt.com",t.videoExts=[".mp4",".m4v",".f4v",".webm",".ogv",".flv",".mov"],t.imageExts=[".gif",".png",".jpeg",".jpg",".bmp"],t.thumbnailDims={width:340,height:192},t.flashMessage=null,t.s3prefix="https://toolkitt.s3.amazonaws.com/",t.thumberUrl="https://toolkitt.s3.amazonaws.com/thumber.html",t.videoPlayerId="media_video",t.imageViewerId="media_image",t.placeholders={addMedia:{full:"http://toolkitt.s3.amazonaws.com/addmedia.png",half:"http://toolkitt.s3.amazonaws.com/addmedia-half.png"},encoding:{full:"http://toolkitt.s3.amazonaws.com/encoding.gif",half:"http://toolkitt.s3.amazonaws.com/encoding-half.gif"}},e.exports=t}()},{}],7:[function(t,e){e.exports=function(t){var e={};return e.placeholderThumbnail=function(e){var n=t.thumbnailDims.width,i=t.thumbnailDims.height;return e&&(n=Math.round(n/2),i=Math.round(i/2)),"http://holder.js/"+n+"x"+i+"/text:No Thumbnail"},e.isVideo=function(e){var n="."+e.split(".").pop().toLowerCase();return t.videoExts.indexOf(n)>=0},e.isImage=function(e){var n="."+e.split(".").pop().toLowerCase();return t.imageExts.indexOf(n)>=0},e.ucfirst=function(t){var e=t.charAt(0).toUpperCase();return e+t.substr(1)},e.uuid=function(t){var e="abcdefghijklmnopqrstuvwxyz",t=t||10,n=[];for(i=0;t>i;i++)n.push(e.charAt(Math.floor(Math.random()*e.length)));return n.join("")},e.mime=function(t){return"video/quicktime"===t?"video/mp4":t},e}},{}],8:[function(t,e){!function(){var t=function(){var t=this;t.getUser().save({id:"logout",token:null},{success:function(){t.db.fetchCollection("pages").fetch(),t.getCustomization()&&t.getCustomization().fetch(),t.navigate("",{trigger:!0})}})};e.exports=t}()},{}],9:[function(t,e){!function(){var t=function(t,e,n){var i,r=this,a=this.db.fetchCollection("pages"),n=decodeURIComponent(n);a.once("ready",function(){var o=a.find(function(t){return t.attributes.name.toLowerCase()===n.toLowerCase()});o?(i=r.db.fetchModel(t,e),i.once("ready",function(){var t="Are you sure you want to remove "+i.attributes.name+" from "+o.attributes.name+"?";confirm(t)?o.removeMedia(i.id,function(t){r.navigate("page/"+n,{trigger:!0}),t&&r.error(t)}):r.navigate("page/"+n,{trigger:!0})})):(r.navigate("page/"+n,{trigger:!0}),r.error("Error 404: The page could not be found"))})};e.exports=t}()},{}],10:[function(t,e){var n=t("__browserify_process");!function(){var i=(t("../views/routes/index"),t("../views/errors/no_pages")),r=function(){var t=this,e=this.db.fetchCollection("pages"),r=this.getUser(),a=2,o=function(){var r,a=new i({app:t});n.env.tests||(r=t.isLoggedIn()?e.sort().at(0):e.sort().findWhere({isPublished:!0}),r?t.navigate("page/"+encodeURIComponent(r.attributes.name),{trigger:!0}):t.isLoggedIn()?t.navigate("createPage",{trigger:!0}):t.show(a))},s=function(){a--,0===a&&o()};e.once("ready",s),r.once("ready",s)};e.exports=r}()},{"../views/errors/no_pages":12,"../views/routes/index":11,__browserify_process:3}],13:[function(t,e){!function(){var n=t("../views/routes/login"),i=function(){var t=new n({app:this});this.show(t)};e.exports=i}()},{"../views/routes/login":14}],15:[function(t,e){!function(){var n=t("../views/routes/review"),i=function(){var t=new n({app:this});this.show(t)};e.exports=i}()},{"../views/routes/review":16}],17:[function(t,e){!function(){var n=t("../views/routes/contact"),i=function(){var t=new n({app:this});this.show(t)};e.exports=i}()},{"../views/routes/contact":18}],19:[function(t,e){!function(){var n=t("../../views/routes/pages/create"),i=function(){var t=new n({app:this});this.show(t)};e.exports=i}()},{"../../views/routes/pages/create":20}],21:[function(t,e){!function(){var n=t("../../views/routes/pages/reorder"),i=function(){var t=new n({app:this});this.show(t)};e.exports=i}()},{"../../views/routes/pages/reorder":22}],23:[function(t,e){!function(){var n=t("../../views/routes/pages/show"),i=function(t){var e=new n({app:this,pageName:t});this.show(e)};e.exports=i}()},{"../../views/routes/pages/show":24}],25:[function(t,e){!function(){var n=t("../../views/routes/pages/edit"),i=function(t){var e=new n({app:this,pageName:t});this.show(e)};e.exports=i}()},{"../../views/routes/pages/edit":26}],27:[function(t,e){!function(){var n=t("../../views/routes/media/add"),i=function(t){var e=new n({app:this,pageName:t});this.show(e)};e.exports=i}()},{"../../views/routes/media/add":28}],29:[function(t,e){!function(){var n=t("../../views/routes/media/pick"),i=function(t){var e=new n({app:this,pageName:t});this.show(e)};e.exports=i}()},{"../../views/routes/media/pick":30}],31:[function(t,e){!function(){var n=t("../../views/routes/media/show"),i=function(t,e,i){var r=new n({app:this,mediaType:e,mediaId:i,pageName:t});this.show(r)};e.exports=i}()},{"../../views/routes/media/show":32}],33:[function(t,e){!function(){var n=t("../../views/routes/media/edit"),i=function(t,e){var i=new n({app:this,mediaType:t,mediaId:e});this.show(i)};e.exports=i}()},{"../../views/routes/media/edit":34}],35:[function(t,e){e.exports=function(t){"use strict";t.fn.bootstrapSwitch=function(e){var n={init:function(){return this.each(function(){var e,n,i,r,a,o,s=t(this),l="",u=s.attr("class"),c="ON",p="OFF",h=!1;t.each(["switch-mini","switch-small","switch-large"],function(t,e){u.indexOf(e)>=0&&(l=e)}),s.addClass("has-switch"),void 0!==s.data("on")&&(a="switch-"+s.data("on")),void 0!==s.data("on-label")&&(c=s.data("on-label")),void 0!==s.data("off-label")&&(p=s.data("off-label")),void 0!==s.data("icon")&&(h=s.data("icon")),n=t("<span>").addClass("switch-left").addClass(l).addClass(a).html(c),a="",void 0!==s.data("off")&&(a="switch-"+s.data("off")),i=t("<span>").addClass("switch-right").addClass(l).addClass(a).html(p),r=t("<label>").html("&nbsp;").addClass(l).attr("for",s.find("input").attr("id")),h&&r.html('<i class="'+h+'"></i>'),e=s.find(":checkbox").wrap(t("<div>")).parent().data("animated",!1),s.data("animated")!==!1&&e.addClass("switch-animate").data("animated",!0),e.append(n).append(r).append(i),s.find(">div").addClass(s.find("input").is(":checked")?"switch-on":"switch-off"),s.find("input").is(":disabled")&&t(this).addClass("deactivate");var d=function(t){t.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};s.on("keydown",function(e){32===e.keyCode&&(e.stopImmediatePropagation(),e.preventDefault(),d(t(e.target).find("span:first")))}),n.on("click",function(){d(t(this))}),i.on("click",function(){d(t(this))}),s.find("input").on("change",function(e){var n=t(this),i=n.parent(),r=n.is(":checked"),a=i.is(".switch-off");e.preventDefault(),i.css("left",""),a===r&&(r?i.removeClass("switch-off").addClass("switch-on"):i.removeClass("switch-on").addClass("switch-off"),i.data("animated")!==!1&&i.addClass("switch-animate"),i.parent().trigger("switch-change",{el:n,value:r}))}),s.find("label").on("mousedown touchstart",function(e){var n=t(this);o=!1,e.preventDefault(),e.stopImmediatePropagation(),n.closest("div").removeClass("switch-animate"),n.closest(".has-switch").is(".deactivate")?n.unbind("click"):(n.on("mousemove touchmove",function(e){var n=t(this).closest(".switch"),i=(e.pageX||e.originalEvent.targetTouches[0].pageX)-n.offset().left,r=100*(i/n.width()),a=25,s=75;o=!0,a>r?r=a:r>s&&(r=s),n.find(">div").css("left",r-s+"%")}),n.on("click touchend",function(e){var n=t(this),i=t(e.target),r=i.siblings("input");e.stopImmediatePropagation(),e.preventDefault(),n.unbind("mouseleave"),o?r.prop("checked",!(parseInt(n.parent().css("left"))<-25)):r.prop("checked",!r.is(":checked")),o=!1,r.trigger("change")}),n.on("mouseleave",function(e){var n=t(this),i=n.siblings("input");e.preventDefault(),e.stopImmediatePropagation(),n.unbind("mouseleave"),n.trigger("mouseup"),i.prop("checked",!(parseInt(n.parent().css("left"))<-25)).trigger("change")}),n.on("mouseup",function(e){e.stopImmediatePropagation(),e.preventDefault(),t(this).unbind("mousemove")}))})})},toggleActivation:function(){t(this).toggleClass("deactivate")},isActive:function(){return!t(this).hasClass("deactivate")},setActive:function(e){e?t(this).removeClass("deactivate"):t(this).addClass("deactivate")},toggleState:function(e){var n=t(this).find("input:checkbox");n.prop("checked",!n.is(":checked")).trigger("change",e)},setState:function(e,n){t(this).find("input:checkbox").prop("checked",e).trigger("change",n)},status:function(){return t(this).find("input:checkbox").is(":checked")},destroy:function(){var e,n=t(this).find("div");return n.find(":not(input:checkbox)").remove(),e=n.children(),e.unwrap().unwrap(),e.unbind("change"),e}};return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist!"),void 0):n.init.apply(this,arguments)}}},{}],36:[function(t,e){e.exports=function(t){var e,n=t();t.fn.sortable=function(i){var r=String(i);return i=t.extend({connectWith:!1},i),this.each(function(){if(/^enable|disable|destroy$/.test(r)){var a=t(this).children(t(this).data("items")),o=t(this).children(t(this).data("handles")).attr("draggable","enable"==r);return"destroy"==r&&(a.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s"),o.off("selectstart.h5s")),void 0}var s,l,a=t(this).children(i.items),o=i.handle?a.find(i.handle):a,u=t("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');t(this).data("items",i.items),t(this).data("handles",i.handle?i.handle:i.items),n=n.add(u),i.connectWith&&t(i.connectWith).add(this).data("connectWith",i.connectWith),o.attr("draggable","true").not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end(),a.on("dragstart.h5s",function(n){var i=n.originalEvent.dataTransfer;i.effectAllowed="move",i.setData("Text","dummy"),s=(e=t(this)).addClass("sortable-dragging").index(),l=e.parent(),n.stopPropagation()}).on("dragend.h5s",function(){e&&(e.removeClass("sortable-dragging").show(),n.detach(),s==e.index()&&l.is(e.parent())||e.parent().trigger("sortupdate",{item:e}),e=null,l=null)}).add([this,u]).on("dragover.h5s dragenter.h5s drop.h5s",function(r){return a.is(e)||i.connectWith===t(e).parent().data("connectWith")?"drop"==r.type?(r.stopPropagation(),n.filter(":visible").after(e),e.trigger("dragend.h5s"),!1):(r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="move",a.is(this)?(i.forcePlaceholderSize&&u.height(e.outerHeight()),e.hide(),t(this)[u.index()<t(this).index()?"after":"before"](u),n.not(u).detach()):n.is(this)||t(this).children(i.items).length||(n.detach(),t(this).append(u)),!1):!0})})}}},{}],37:[function(t,e){e.exports=function(t){var e=new Array,n=new Array;t.fn.doAutosize=function(e){var n=t(this).data("minwidth"),i=t(this).data("maxwidth"),r="",a=t(this),o=t("#"+t(this).data("tester_id"));if(r!==(r=a.val())){var s=r.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");o.html(s);var l=o.width(),u=l+e.comfortZone>=n?l+e.comfortZone:n,c=a.width(),p=c>u&&u>=n||u>n&&i>u;p&&a.width(u)}},t.fn.resetAutosize=function(e){var n=t(this).data("minwidth")||e.minInputWidth||t(this).width(),i=t(this).data("maxwidth")||e.maxInputWidth||t(this).closest(".tagsinput").width()-e.inputPadding,r=t(this),a=t("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),o=t(this).attr("id")+"_autosize_tester";!t("#"+o).length>0&&(a.attr("id",o),a.appendTo("body")),r.data("minwidth",n),r.data("maxwidth",i),r.data("tester_id",o),r.css("width",n)},t.fn.addTag=function(i,r){return r=jQuery.extend({focus:!1,callback:!0},r),this.each(function(){var a=t(this).attr("id"),o=t(this).val().split(e[a]);if(""==o[0]&&(o=new Array),i=jQuery.trim(i),r.unique){var s=t(this).tagExist(i);1==s&&t("#"+a+"_tag").addClass("not_valid")}else var s=!1;if(""!=i&&1!=s){if(t("<span>").addClass("tag").append(t("<span>").text(i).append("&nbsp;&nbsp;"),t('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return t("#"+a).removeTag(escape(i))})).insertBefore("#"+a+"_addTag"),o.push(i),t("#"+a+"_tag").val(""),r.focus?t("#"+a+"_tag").focus():t("#"+a+"_tag").blur(),t.fn.tagsInput.updateTagsField(this,o),r.callback&&n[a]&&n[a].onAddTag){var l=n[a].onAddTag;l.call(this,i)}if(n[a]&&n[a].onChange){var u=o.length,l=n[a].onChange;l.call(this,t(this),o[u-1])}}}),!1},t.fn.removeTag=function(r){return r=unescape(r),this.each(function(){var a=t(this).attr("id"),o=t(this).val().split(e[a]);for(t("#"+a+"_tagsinput .tag").remove(),str="",i=0;i<o.length;i++)o[i]!=r&&(str=str+e[a]+o[i]);if(t.fn.tagsInput.importTags(this,str),n[a]&&n[a].onRemoveTag){var s=n[a].onRemoveTag;s.call(this,r)}}),!1},t.fn.tagExist=function(n){var i=t(this).attr("id"),r=t(this).val().split(e[i]);return jQuery.inArray(n,r)>=0},t.fn.importTags=function(e){id=t(this).attr("id"),t("#"+id+"_tagsinput .tag").remove(),t.fn.tagsInput.importTags(this,e)},t.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){r.hide&&t(this).hide();var i=t(this).attr("id");(!i||e[t(this).attr("id")])&&(i=t(this).attr("id","tags"+(new Date).getTime()).attr("id"));var a=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);e[i]=a.delimiter,(r.onAddTag||r.onRemoveTag||r.onChange)&&(n[i]=new Array,n[i].onAddTag=r.onAddTag,n[i].onRemoveTag=r.onRemoveTag,n[i].onChange=r.onChange);var o=t("#"+i).attr("class").replace("tagsinput",""),s='<div id="'+i+'_tagsinput" class="tagsinput '+o+'"><div class="tagsinput-add-container" id="'+i+'_addTag"><div class="tagsinput-add"></div>';if(r.interactive&&(s=s+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),s+="</div></div>",t(s).insertAfter(this),t(a.holder).css("width",r.width),t(a.holder).css("min-height",r.height),t(a.holder).css("height","100%"),""!=t(a.real_input).val()&&t.fn.tagsInput.importTags(t(a.real_input),t(a.real_input).val()),r.interactive){if(t(a.fake_input).val(t(a.fake_input).attr("data-default")),t(a.fake_input).css("color",r.placeholderColor),t(a.fake_input).resetAutosize(r),t(a.holder).bind("click",a,function(e){t(e.data.fake_input).focus()}),t(a.fake_input).bind("focus",a,function(e){t(e.data.fake_input).val()==t(e.data.fake_input).attr("data-default")&&t(e.data.fake_input).val(""),t(e.data.fake_input).css("color","#000000")}),void 0!=r.autocomplete_url){autocomplete_options={source:r.autocomplete_url};for(attrname in r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];void 0!==jQuery.Autocompleter?(t(a.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),t(a.fake_input).bind("result",a,function(e,n){n&&t("#"+i).addTag(n[0]+"",{focus:!0,unique:r.unique})})):void 0!==jQuery.ui.autocomplete&&(t(a.fake_input).autocomplete(autocomplete_options),t(a.fake_input).bind("autocompleteselect",a,function(e,n){return t(e.data.real_input).addTag(n.item.value,{focus:!0,unique:r.unique}),!1}))}else t(a.fake_input).bind("blur",a,function(e){var n=t(this).attr("data-default");return""!=t(e.data.fake_input).val()&&t(e.data.fake_input).val()!=n?e.data.minChars<=t(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=t(e.data.fake_input).val().length)&&t(e.data.real_input).addTag(t(e.data.fake_input).val(),{focus:!0,unique:r.unique}):(t(e.data.fake_input).val(t(e.data.fake_input).attr("data-default")),t(e.data.fake_input).css("color",r.placeholderColor)),!1});t(a.fake_input).bind("keypress",a,function(e){return e.which==e.data.delimiter.charCodeAt(0)||13==e.which?(e.preventDefault(),e.data.minChars<=t(e.data.fake_input).val().length&&(!e.data.maxChars||e.data.maxChars>=t(e.data.fake_input).val().length)&&t(e.data.real_input).addTag(t(e.data.fake_input).val(),{focus:!0,unique:r.unique}),t(e.data.fake_input).resetAutosize(r),!1):(e.data.autosize&&t(e.data.fake_input).doAutosize(r),void 0)}),a.removeWithBackspace&&t(a.fake_input).bind("keydown",function(e){if(8==e.keyCode&&""==t(this).val()){e.preventDefault();var n=t(this).closest(".tagsinput").find(".tag:last").text(),i=t(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s\u00a0]+x$/,""),t("#"+i).removeTag(escape(n)),t(this).trigger("focus")}}),t(a.fake_input).blur(),a.unique&&t(a.fake_input).keydown(function(e){(8==e.keyCode||String.fromCharCode(e.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/))&&t(this).removeClass("not_valid")})}}),this},t.fn.tagsInput.updateTagsField=function(n,i){var r=t(n).attr("id");t(n).val(i.join(e[r]))},t.fn.tagsInput.importTags=function(r,a){t(r).val("");var o=t(r).attr("id"),s=a.split(e[o]);for(i=0;i<s.length;i++)t(r).addTag(s[i],{focus:!1,callback:!1});if(n[o]&&n[o].onChange){var l=n[o].onChange;l.call(r,r,s[i])}}}},{}],38:[function(t,e){e.exports=function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),r=i.data("button"),a="object"==typeof n&&n;r||i.data("button",r=new e(this,a)),"toggle"==n?r.toggle():n&&r.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}},{}],39:[function(t,e){e.exports=function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var r,a,o,s,l;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,o=this.options.trigger.split(" "),l=o.length;l--;)s=o[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",a="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,r={};return this._options&&t.each(this._options,function(t,e){i[t]!=e&&(r[t]=e)},this),n=t(e.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,n,i,r,a,o,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,r=e[0].offsetHeight,a){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":o={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(o,a),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,r,a,o=this.tip(),s=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(t).addClass(e).addClass("in"),n=o[0].offsetWidth,i=o[0].offsetHeight,"top"==e&&i!=l&&(t.top=t.top+l-i,a=!0),"bottom"==e||"top"==e?(r=0,t.left<0&&(r=-2*t.left,t.left=0,o.offset(t),n=o[0].offsetWidth,i=o[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),a&&o.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),i=t.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("tooltip"),a="object"==typeof n&&n;r||i.data("tooltip",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}},{}],40:[function(t,e){e.exports=function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("popover"),a="object"==typeof n&&n;r||i.data("popover",r=new e(this,a)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}},{}],41:[function(t,e){e.exports=function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){i.trigger("closed").remove()}var i,r=t(this),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i=t(a),e&&e.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(e=t.Event("close")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.on(t.support.transition.end,n):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,n.prototype.close)}},{}],2:[function(t,e){!function(){var n=t("lodash"),i=t("./helpers/JqueryLoader"),r=t("js-thumb"),a=(t("path"),t("./helpers/BackboneLoader.js")),o=t("./helpers/lib/messenger.js"),s=t("./helpers/db"),l={"":t("./routes/index"),login:t("./routes/login"),logout:t("./routes/logout"),createPage:t("./routes/pages/create"),"page/:name":t("./routes/pages/show"),"page/:name/edit":t("./routes/pages/edit"),reorder:t("./routes/pages/reorder"),"page/:name/addMedia":t("./routes/media/add"),"page/:name/pickMedia":t("./routes/media/pick"),review:t("./routes/review"),"page/:name/:type/:id":t("./routes/media/show"),"media/:type/:id/edit":t("./routes/media/edit"),"media/:type/:id/remove/:page":t("./routes/media/remove"),contact:t("./routes/contact")},u=a.Router.extend({initialize:function(e){var a,u;return n.each(l,function(t,e){this.route(e,n.bind(t,this))},this),e=e||document.body,this.el=e,this.$el=i(e),this.db=new s(this),this.config=n.clone(t("./config/config.js")),this.util=t("./helpers/util.js")(this.config),this.messenger=new o(null,this.config.s3prefix,"thumbnailer"),this.listenTo(this.getUser(),"change",function(){this.bootstrap.userId&&this.getUser().attributes.token&&this.getUser().id!==this.bootstrap.userId&&(this.navigate("logout",{trigger:!0}),this.setFlash("info","You have been logged out because this is not your portfolio."))},this),a=this.db.fetchCollection("unprocessedUploads"),this.listenTo(a,"ready add change remove sync reset",function(){a.length>0?u=setTimeout(function(){clearTimeout(u),a.fetch()},3e3):clearTimeout(u)}),this.error=n.bind(this.error,this),this.setFlash=n.bind(this.setFlash,this),this.clearFlash=n.bind(this.clearFlash,this),window.onresize=r.resizeVideos,this},start:function(t){return this.bootstrap=t||{},a.history.start(),this},handleAppLink:function(t){t.preventDefault(),t.stopPropagation();for(var e=t.target;null==e.pathname;)e=e.parentElement;return this.navigate(e.pathname,{trigger:!0}),this},isLoggedIn:function(){return this.getUser().attributes&&this.getUser().attributes.token},show:function(t){return this.currentView&&(this.currentView.close(),this.currentView=null),this.currentView=t,t.render(),this.$el.append(t.$el),this},flash:null,setFlash:function(t,e){return t||(t="info"),this.flash={message:e,type:t},this.trigger("flash"),this.listenToOnce(this,"route",function(){this.clearFlash()}),this},clearFlash:function(){return this.flash=null,this.trigger("flash"),this},error:function(t,e){e?"timeout"===e.statusText?e="The request timed out":t.responseText?e=t.responseText:e.responseText&&(e=e.responseText):e=t;
var n=this,i=e,r="";if("string"==typeof i)try{i=JSON.parse(i)}catch(a){}if(i.message&&(i=i.message),null==i&&(i="Unknown (Null) Error"),403===parseInt(i,10))this.logoutFromInactivity();else if("object"==typeof i){if(r=[],i instanceof Array)for(var o=0,s=i.length;s>o;o++)r.push(n.util.ucfirst(i[o].attr)+": "+n.util.ucfirst(i[o].message));else if(i.toString)r=[i.toString()];else for(var l in i)r.push(n.util.ucfirst(l)+": "+n.util.ucfirst(i[l]));r=r.join(",")}else r+=i;this.setFlash("error",r)},getUser:function(){return this.db.fetchModel("user")},getCustomization:function(){var t,e;return this.bootstrap&&this.bootstrap.customizationId?(t=this.bootstrap.customizationId,e=this.db.fetchModel("customization",t)):this.isLoggedIn()&&(t=this.getUser().attributes.customization.id,e=this.db.fetchModel("customization",t),e.set(this.getUser().attributes.customization)),t?e:!1},getUserVars:function(){var t=this.getCustomization();return t?t.attributes.config:this.bootstrap.userVars},logoutFromInactivity:function(){var t=this;this.navigate("logout",{trigger:!0}),setTimeout(function(){t.setFlash("info","You were logged out due to inactivity")},1e3)}});e.exports=u}()},{"./config/config.js":6,"./helpers/BackboneLoader.js":42,"./helpers/JqueryLoader":43,"./helpers/db":44,"./helpers/lib/messenger.js":5,"./helpers/util.js":7,"./routes/contact":17,"./routes/index":10,"./routes/login":13,"./routes/logout":8,"./routes/media/add":27,"./routes/media/edit":33,"./routes/media/pick":29,"./routes/media/remove":9,"./routes/media/show":31,"./routes/pages/create":19,"./routes/pages/edit":25,"./routes/pages/reorder":21,"./routes/pages/show":23,"./routes/review":15,"js-thumb":46,lodash:45,path:4}],45:[function(t,e,n){var i=self;!function(t){function r(t,e,n){for(var i=(n||0)-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function a(t,e){var n=typeof e;if(t=t.cache,"boolean"==n||null==e)return t[e];"number"!=n&&"string"!=n&&(n="object");var i="number"==n?e:w+e;return t=t[n]||(t[n]={}),"object"==n?t[i]&&r(t[i],e)>-1?0:-1:t[i]?0:-1}function o(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:w+t,r=e[n]||(e[n]={});"object"==n?(r[i]||(r[i]=[])).push(t)==this.array.length&&(e[n]=!1):r[i]=!0}}function s(t){return t.charCodeAt(0)}function l(t,e){var n=t.index,i=e.index;if(t=t.criteria,e=e.criteria,t!==e){if(t>e||"undefined"==typeof t)return 1;if(e>t||"undefined"==typeof e)return-1}return i>n?-1:1}function u(t){var e=-1,n=t.length,i=h();i["false"]=i["null"]=i["true"]=i.undefined=!1;var r=h();for(r.array=t,r.cache=i,r.push=o;++e<n;)r.push(t[e]);return i.object===!1?(f(r),null):r}function c(t){return"\\"+K[t]}function p(){return y.pop()||[]}function h(){return b.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function d(t){t.length=0,y.length<C&&y.push(t)}function f(t){var e=t.cache;e&&f(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,b.length<C&&b.push(t)}function v(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,a=Array(0>r?0:r);++i<r;)a[i]=t[e+i];return a}function m(e){function n(t){return t&&"object"==typeof t&&!Si(t)&&li.call(t,"__wrapped__")?t:new i(t)}function i(t){this.__wrapped__=t}function o(t,e,n,i){function r(){var i=arguments,u=o?this:e;if(a||(t=e[s]),n.length&&(i=i.length?(i=_i.call(i),l?i.concat(n):n.concat(i)):n),this instanceof r){u=y(t.prototype);var c=t.apply(u,i);return me(c)?c:u}return t.apply(u,i)}var a=ve(t),o=!n,s=e;if(o){var l=i;n=e}else if(!a){if(!i)throw new Kn;e=t}return r}function y(t){return me(t)?fi(t):{}}function b(t){return Pi[t]}function C(){var t=(t=n.indexOf)===tn?r:t;return t}function K(t){return function(e,i,r,a){return"boolean"!=typeof i&&null!=i&&(a=r,r=a&&a[i]===e?g:i,i=!1),null!=r&&(r=n.createCallback(r,a)),t(e,i,r,a)}}function Q(t){var e,n;return t&&hi.call(t)==V&&(e=t.constructor,!ve(e)||e instanceof e)?(Oi(t,function(t,e){n=e}),n===g||li.call(t,n)):!1}function te(t){return Mi[t]}function ne(t){return hi.call(t)==R}function ie(t,e,i,r,a,o){var s=t;if("boolean"!=typeof e&&null!=e&&(r=i,i=e,e=!1),"function"==typeof i){if(i="undefined"==typeof r?i:n.createCallback(i,r,1),s=i(s),"undefined"!=typeof s)return s;s=t}var l=me(s);if(l){var u=hi.call(s);if(!G[u])return s;var c=Si(s)}if(!l||!e)return l?c?v(s):Ii({},s):s;var h=ki[u];switch(u){case z:case U:return new h(+s);case W:case J:return new h(s);case X:return h(s.source,A.exec(s))}var f=!a;a||(a=p()),o||(o=p());for(var m=a.length;m--;)if(a[m]==t)return o[m];return s=c?h(s.length):{},c&&(li.call(t,"index")&&(s.index=t.index),li.call(t,"input")&&(s.input=t.input)),a.push(t),o.push(s),(c?Oe:Fi)(t,function(t,n){s[n]=ie(t,e,i,g,a,o)}),f&&(d(a),d(o)),s}function re(t,e,n){return ie(t,!0,e,n)}function ae(t,e,i){var r;return e=n.createCallback(e,i),Fi(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function oe(t){var e=[];return Oi(t,function(t,n){ve(t)&&e.push(n)}),e.sort()}function se(t,e){return t?li.call(t,e):!1}function le(t){for(var e=-1,n=Ai(t),i=n.length,r={};++e<i;){var a=n[e];r[t[a]]=a}return r}function ue(t){return t===!0||t===!1||hi.call(t)==z}function ce(t){return t?"object"==typeof t&&hi.call(t)==U:!1}function pe(t){return t?1===t.nodeType:!1}function he(t){var e=!0;if(!t)return e;var n=hi.call(t),i=t.length;return n==B||n==J||n==R||n==V&&"number"==typeof i&&ve(t.splice)?!i:(Fi(t,function(){return e=!1}),e)}function de(t,e,i,r,a,o){var s=i===x;if("function"==typeof i&&!s){i=n.createCallback(i,r,2);var l=i(t,e);if("undefined"!=typeof l)return!!l}if(t===e)return 0!==t||1/t==1/e;var u=typeof t,c=typeof e;if(t===t&&(!t||"function"!=u&&"object"!=u)&&(!e||"function"!=c&&"object"!=c))return!1;if(null==t||null==e)return t===e;var h=hi.call(t),f=hi.call(e);if(h==R&&(h=V),f==R&&(f=V),h!=f)return!1;switch(h){case z:case U:return+t==+e;case W:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case X:case J:return t==Yn(e)}var v=h==B;if(!v){if(li.call(t,"__wrapped__ ")||li.call(e,"__wrapped__"))return de(t.__wrapped__||t,e.__wrapped__||e,i,r,a,o);if(h!=V)return!1;var m=t.constructor,g=e.constructor;if(m!=g&&!(ve(m)&&m instanceof m&&ve(g)&&g instanceof g))return!1}var y=!a;a||(a=p()),o||(o=p());for(var b=a.length;b--;)if(a[b]==t)return o[b]==e;var j=0;if(l=!0,a.push(t),o.push(e),v){if(b=t.length,j=e.length,l=j==t.length,!l&&!s)return l;for(;j--;){var w=b,_=e[j];if(s)for(;w--&&!(l=de(t[w],_,i,r,a,o)););else if(!(l=de(t[j],_,i,r,a,o)))break}return l}return Oi(e,function(e,n,s){return li.call(s,n)?(j++,l=li.call(t,n)&&de(t[n],e,i,r,a,o)):void 0}),l&&!s&&Oi(t,function(t,e,n){return li.call(n,e)?l=--j>-1:void 0}),y&&(d(a),d(o)),l}function fe(t){return mi(t)&&!gi(parseFloat(t))}function ve(t){return"function"==typeof t}function me(t){return!(!t||!Y[typeof t])}function ge(t){return be(t)&&t!=+t}function ye(t){return null===t}function be(t){return"number"==typeof t||hi.call(t)==W}function je(t){return t?"object"==typeof t&&hi.call(t)==X:!1}function xe(t){return"string"==typeof t||hi.call(t)==J}function we(t){return"undefined"==typeof t}function _e(t,e,i){var r=arguments,a=0,o=2;if(!me(t))return t;if(i===x)var s=r[3],l=r[4],u=r[5];else{var c=!0;l=p(),u=p(),"number"!=typeof i&&(o=r.length),o>3&&"function"==typeof r[o-2]?s=n.createCallback(r[--o-1],r[o--],2):o>2&&"function"==typeof r[o-1]&&(s=r[--o])}for(;++a<o;)(Si(r[a])?Oe:Fi)(r[a],function(e,n){var i,r,a=e,o=t[n];if(e&&((r=Si(e))||Li(e))){for(var c=l.length;c--;)if(i=l[c]==e){o=u[c];break}if(!i){var p;s&&(a=s(o,e),(p="undefined"!=typeof a)&&(o=a)),p||(o=r?Si(o)?o:[]:Li(o)?o:{}),l.push(e),u.push(o),p||(o=_e(o,e,x,s,l,u))}}else s&&(a=s(o,e),"undefined"==typeof a&&(a=e)),"undefined"!=typeof a&&(o=a);t[n]=o});return c&&(d(l),d(u)),t}function Ce(t,e,i){var r=C(),a="function"==typeof e,o={};if(a)e=n.createCallback(e,i);else var s=ri.apply(Qn,_i.call(arguments,1));return Oi(t,function(t,n,i){(a?!e(t,n,i):r(s,n)<0)&&(o[n]=t)}),o}function Te(t){for(var e=-1,n=Ai(t),i=n.length,r=zn(i);++e<i;){var a=n[e];r[e]=[a,t[a]]}return r}function ke(t,e,i){var r={};if("function"!=typeof e)for(var a=-1,o=ri.apply(Qn,_i.call(arguments,1)),s=me(t)?o.length:0;++a<s;){var l=o[a];l in t&&(r[l]=t[l])}else e=n.createCallback(e,i),Oi(t,function(t,n,i){e(t,n,i)&&(r[n]=t)});return r}function Ee(t,e,i,r){var a=Si(t);if(e=n.createCallback(e,r,4),null==i)if(a)i=[];else{var o=t&&t.constructor,s=o&&o.prototype;i=y(s)}return(a?Oe:Fi)(t,function(t,n,r){return e(i,t,n,r)}),i}function Se(t){for(var e=-1,n=Ai(t),i=n.length,r=zn(i);++e<i;)r[e]=t[n[e]];return r}function Ne(t){for(var e=-1,n=ri.apply(Qn,_i.call(arguments,1)),i=n.length,r=zn(i);++e<i;)r[e]=t[n[e]];return r}function Ae(t,e,n){var i=-1,r=C(),a=t?t.length:0,o=!1;return n=(0>n?bi(0,a+n):n)||0,a&&"number"==typeof a?o=(xe(t)?t.indexOf(e,n):r(t,e,n))>-1:Fi(t,function(t){return++i>=n?!(o=t===e):void 0}),o}function Pe(t,e,i){var r={};return e=n.createCallback(e,i),Oe(t,function(t,n,i){n=Yn(e(t,n,i)),li.call(r,n)?r[n]++:r[n]=1}),r}function Me(t,e,i){var r=!0;e=n.createCallback(e,i);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;++a<o&&(r=!!e(t[a],a,t)););else Fi(t,function(t,n,i){return r=!!e(t,n,i)});return r}function Ie(t,e,i){var r=[];e=n.createCallback(e,i);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;++a<o;){var s=t[a];e(s,a,t)&&r.push(s)}else Fi(t,function(t,n,i){e(t,n,i)&&r.push(t)});return r}function $e(t,e,i){e=n.createCallback(e,i);var r=-1,a=t?t.length:0;if("number"!=typeof a){var o;return Fi(t,function(t,n,i){return e(t,n,i)?(o=t,!1):void 0}),o}for(;++r<a;){var s=t[r];if(e(s,r,t))return s}}function Oe(t,e,i){var r=-1,a=t?t.length:0;if(e=e&&"undefined"==typeof i?e:n.createCallback(e,i),"number"==typeof a)for(;++r<a&&e(t[r],r,t)!==!1;);else Fi(t,e);return t}function Fe(t,e,i){var r={};return e=n.createCallback(e,i),Oe(t,function(t,n,i){n=Yn(e(t,n,i)),(li.call(r,n)?r[n]:r[n]=[]).push(t)}),r}function Le(t,e){var n=_i.call(arguments,2),i=-1,r="function"==typeof e,a=t?t.length:0,o=zn("number"==typeof a?a:0);return Oe(t,function(t){o[++i]=(r?e:t[e]).apply(t,n)}),o}function De(t,e,i){var r=-1,a=t?t.length:0;if(e=n.createCallback(e,i),"number"==typeof a)for(var o=zn(a);++r<a;)o[r]=e(t[r],r,t);else o=[],Fi(t,function(t,n,i){o[++r]=e(t,n,i)});return o}function He(t,e,i){var r=-1/0,a=r;if(!e&&Si(t))for(var o=-1,l=t.length;++o<l;){var u=t[o];u>a&&(a=u)}else e=!e&&xe(t)?s:n.createCallback(e,i),Oe(t,function(t,n,i){var o=e(t,n,i);o>r&&(r=o,a=t)});return a}function Re(t,e,i){var r=1/0,a=r;if(!e&&Si(t))for(var o=-1,l=t.length;++o<l;){var u=t[o];a>u&&(a=u)}else e=!e&&xe(t)?s:n.createCallback(e,i),Oe(t,function(t,n,i){var o=e(t,n,i);r>o&&(r=o,a=t)});return a}function Be(t,e){var n=-1,i=t?t.length:0;if("number"==typeof i)for(var r=zn(i);++n<i;)r[n]=t[n][e];return r||De(t,e)}function ze(t,e,i,r){if(!t)return i;var a=arguments.length<3;e=n.createCallback(e,r,4);var o=-1,s=t.length;if("number"==typeof s)for(a&&(i=t[++o]);++o<s;)i=e(i,t[o],o,t);else Fi(t,function(t,n,r){i=a?(a=!1,t):e(i,t,n,r)});return i}function Ue(t,e,i,r){var a=t,o=t?t.length:0,s=arguments.length<3;if("number"!=typeof o){var l=Ai(t);o=l.length}return e=n.createCallback(e,r,4),Oe(t,function(t,n,r){n=l?l[--o]:--o,i=s?(s=!1,a[n]):e(i,a[n],n,r)}),i}function qe(t,e,i){return e=n.createCallback(e,i),Ie(t,function(t,n,i){return!e(t,n,i)})}function We(t){var e=-1,n=t?t.length:0,i=zn("number"==typeof n?n:0);return Oe(t,function(t){var n=ai(wi()*(++e+1));i[e]=i[n],i[n]=t}),i}function Ve(t){var e=t?t.length:0;return"number"==typeof e?e:Ai(t).length}function Xe(t,e,i){var r;e=n.createCallback(e,i);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;++a<o&&!(r=e(t[a],a,t)););else Fi(t,function(t,n,i){return!(r=e(t,n,i))});return!!r}function Je(t,e,i){var r=-1,a=t?t.length:0,o=zn("number"==typeof a?a:0);for(e=n.createCallback(e,i),Oe(t,function(t,n,i){var a=o[++r]=h();a.criteria=e(t,n,i),a.index=r,a.value=t}),a=o.length,o.sort(l);a--;){var s=o[a];o[a]=s.value,f(s)}return o}function Ge(t){return t&&"number"==typeof t.length?v(t):Se(t)}function Ye(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i}function Ke(t){var e=-1,n=C(),i=t?t.length:0,o=ri.apply(Qn,_i.call(arguments,1)),s=[],l=i>=_&&n===r;if(l){var c=u(o);c?(n=a,o=c):l=!1}for(;++e<i;){var p=t[e];n(o,p)<0&&s.push(p)}return l&&f(o),s}function Qe(t,e,i){var r=-1,a=t?t.length:0;for(e=n.createCallback(e,i);++r<a;)if(e(t[r],r,t))return r;return-1}function Ze(t,e,i){if(t){var r=0,a=t.length;if("number"!=typeof e&&null!=e){var o=-1;for(e=n.createCallback(e,i);++o<a&&e(t[o],o,t);)r++}else if(r=e,null==r||i)return t[0];return v(t,0,ji(bi(0,r),a))}}function tn(t,e,n){if("number"==typeof n){var i=t?t.length:0;n=0>n?bi(0,i+n):n||0}else if(n){var a=ln(t,e);return t[a]===e?a:-1}return t?r(t,e,n):-1}function en(t,e,i){if(!t)return[];var r=0,a=t.length;if("number"!=typeof e&&null!=e){var o=a;for(e=n.createCallback(e,i);o--&&e(t[o],o,t);)r++}else r=null==e||i?1:e||r;return v(t,0,ji(bi(0,a-r),a))}function nn(t){for(var e=arguments,n=e.length,i=-1,o=p(),s=-1,l=C(),c=t?t.length:0,h=[],v=p();++i<n;){var m=e[i];o[i]=l===r&&(m?m.length:0)>=_&&u(i?e[i]:v)}t:for(;++s<c;){var g=o[0];if(m=t[s],(g?a(g,m):l(v,m))<0){for(i=n,(g||v).push(m);--i;)if(g=o[i],(g?a(g,m):l(e[i],m))<0)continue t;h.push(m)}}for(;n--;)g=o[n],g&&f(g);return d(o),d(v),h}function rn(t,e,i){if(t){var r=0,a=t.length;if("number"!=typeof e&&null!=e){var o=a;for(e=n.createCallback(e,i);o--&&e(t[o],o,t);)r++}else if(r=e,null==r||i)return t[a-1];return v(t,bi(0,a-r))}}function an(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?bi(0,i+n):ji(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function on(t,e,n){t=+t||0,n=+n||1,null==e&&(e=t,t=0);for(var i=-1,r=bi(0,ni((e-t)/n)),a=zn(r);++i<r;)a[i]=t,t+=n;return a}function sn(t,e,i){if("number"!=typeof e&&null!=e){var r=0,a=-1,o=t?t.length:0;for(e=n.createCallback(e,i);++a<o&&e(t[a],a,t);)r++}else r=null==e||i?1:bi(0,e);return v(t,r)}function ln(t,e,i,r){var a=0,o=t?t.length:a;for(i=i?n.createCallback(i,r,1):An,e=i(e);o>a;){var s=a+o>>>1;i(t[s])<e?a=s+1:o=s}return a}function un(t){return Si(t)||(arguments[0]=t?_i.call(t):Qn),Ri(ri.apply(Qn,arguments))}function cn(t){for(var e=-1,n=t?He(Be(t,"length")):0,i=zn(0>n?0:n);++e<n;)i[e]=Be(t,e);return i}function pn(t){return Ke(t,_i.call(arguments,1))}function hn(t){return t?cn(arguments):[]}function dn(t,e){for(var n=-1,i=t?t.length:0,r={};++n<i;){var a=t[n];e?r[a]=e[n]:r[a[0]]=a[1]}return r}function fn(t,e){return 1>t?e():function(){return--t<1?e.apply(this,arguments):void 0}}function vn(t,e){return Ei.fastBind||di&&arguments.length>2?di.call.apply(di,arguments):o(t,e,_i.call(arguments,2))}function mn(t){for(var e=arguments.length>1?ri.apply(Qn,_i.call(arguments,1)):oe(t),n=-1,i=e.length;++n<i;){var r=e[n];t[r]=vn(t[r],t)}return t}function gn(t,e){return o(t,e,_i.call(arguments,2),x)}function yn(){var t=arguments;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function bn(t,e,n){if(null==t)return An;var i=typeof t;if("function"!=i){if("object"!=i)return function(e){return e[t]};var r=Ai(t);return function(e){for(var n=r.length,i=!1;n--&&(i=de(e[r[n]],t[r[n]],x)););return i}}return"undefined"==typeof e||M&&!M.test(oi.call(t))?t:1===n?function(n){return t.call(e,n)}:2===n?function(n,i){return t.call(e,n,i)}:4===n?function(n,i,r,a){return t.call(e,n,i,r,a)}:function(n,i,r){return t.call(e,n,i,r)}}function jn(t,e,n){function i(){ii(h),ii(d),u=0,h=d=null}function r(){var e=f&&(!v||u>1);i(),e&&(p!==!1&&(c=new qn),s=t.apply(l,o))}function a(){i(),(f||p!==e)&&(c=new qn,s=t.apply(l,o))}var o,s,l,u=0,c=0,p=!1,h=null,d=null,f=!0;if(e=bi(0,e||0),n===!0){var v=!0;f=!1}else me(n)&&(v=n.leading,p="maxWait"in n&&bi(e,n.maxWait||0),f="trailing"in n?n.trailing:f);return function(){if(o=arguments,l=this,u++,ii(d),p===!1)v&&2>u&&(s=t.apply(l,o));else{var n=new qn;h||v||(c=n);var i=p-(n-c);0>=i?(ii(h),h=null,c=n,s=t.apply(l,o)):h||(h=pi(a,i))}return e!==p&&(d=pi(r,e)),s}}function xn(t){var e=_i.call(arguments,1);return pi(function(){t.apply(g,e)},1)}function wn(t,e){var n=_i.call(arguments,2);return pi(function(){t.apply(g,n)},e)}function _n(t,e){function n(){var i=n.cache,r=w+(e?e.apply(this,arguments):arguments[0]);return li.call(i,r)?i[r]:i[r]=t.apply(this,arguments)}return n.cache={},n}function Cn(t){var e,n;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Tn(t){return o(t,_i.call(arguments,1))}function kn(t){return o(t,_i.call(arguments,1),null,x)}function En(t,e,n){var i=!0,r=!0;n===!1?i=!1:me(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),n=h(),n.leading=i,n.maxWait=e,n.trailing=r;var a=jn(t,e,n);return f(n),a}function Sn(t,e){return function(){var n=[t];return ui.apply(n,arguments),e.apply(this,n)}}function Nn(t){return null==t?"":Yn(t).replace(F,b)}function An(t){return t}function Pn(t){Oe(oe(t),function(e){var r=n[e]=t[e];n.prototype[e]=function(){var t=this.__wrapped__,e=[t];ui.apply(e,arguments);var a=r.apply(n,e);return t&&"object"==typeof t&&t===a?this:new i(a)}})}function Mn(){return e._=ti,this}function In(t,e){null==t&&null==e&&(e=1),t=+t||0,null==e?(e=t,t=0):e=+e||0;var n=wi();return t%1||e%1?t+ji(n*(e-t+parseFloat("1e-"+((n+"").length-1))),e):t+ai(n*(e-t+1))}function $n(t,e){var n=t?t[e]:g;return ve(n)?t[e]():n}function On(t,e,i){var r=n.templateSettings;t||(t=""),i=$i({},i,r);var a,o=$i({},i.imports,r.imports),s=Ai(o),l=Se(o),u=0,p=i.interpolate||O,h="__p += '",d=Gn((i.escape||O).source+"|"+p.source+"|"+(p===P?N:O).source+"|"+(i.evaluate||O).source+"|$","g");t.replace(d,function(e,n,i,r,o,s){return i||(i=r),h+=t.slice(u,s).replace(L,c),n&&(h+="' +\n__e("+n+") +\n'"),o&&(a=!0,h+="';\n"+o+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=s+e.length,e}),h+="';\n";var f=i.variable,v=f;v||(f="obj",h="with ("+f+") {\n"+h+"\n}\n"),h=(a?h.replace(T,""):h).replace(k,"$1").replace(E,"$1;"),h="function("+f+") {\n"+(v?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m="\n/*\n//@ sourceURL="+(i.sourceURL||"/lodash/template/source["+H++ +"]")+"\n*/";try{var y=Wn(s,"return "+h+m).apply(g,l)}catch(b){throw b.source=h,b}return e?y(e):(y.source=h,y)}function Fn(t,e,i){t=(t=+t)>-1?t:0;var r=-1,a=zn(t);for(e=n.createCallback(e,i,1);++r<t;)a[r]=e(r);return a}function Ln(t){return null==t?"":Yn(t).replace(S,te)}function Dn(t){var e=++j;return Yn(null==t?"":t)+e}function Hn(t,e){return e(t),t}function Rn(){return Yn(this.__wrapped__)}function Bn(){return this.__wrapped__}e=e?ee.defaults(t.Object(),e,ee.pick(t,D)):t;var zn=e.Array,Un=e.Boolean,qn=e.Date,Wn=e.Function,Vn=e.Math,Xn=e.Number,Jn=e.Object,Gn=e.RegExp,Yn=e.String,Kn=e.TypeError,Qn=[],Zn=Jn.prototype;Yn.prototype;var ti=e._,ei=Gn("^"+Yn(Zn.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),ni=Vn.ceil,ii=e.clearTimeout,ri=Qn.concat,ai=Vn.floor,oi=Wn.prototype.toString,si=ei.test(si=Jn.getPrototypeOf)&&si,li=Zn.hasOwnProperty,ui=Qn.push,ci=(Zn.propertyIsEnumerable,e.setImmediate),pi=e.setTimeout,hi=Zn.toString,di=ei.test(di=hi.bind)&&di,fi=ei.test(fi=Jn.create)&&fi,vi=ei.test(vi=zn.isArray)&&vi,mi=e.isFinite,gi=e.isNaN,yi=ei.test(yi=Jn.keys)&&yi,bi=Vn.max,ji=Vn.min,xi=e.parseInt,wi=Vn.random,_i=Qn.slice,Ci=ei.test(e.attachEvent),Ti=di&&!/\n|true/.test(di+Ci),ki={};ki[B]=zn,ki[z]=Un,ki[U]=qn,ki[q]=Wn,ki[V]=Jn,ki[W]=Xn,ki[X]=Gn,ki[J]=Yn,i.prototype=n.prototype;var Ei=n.support={};Ei.fastBind=di&&!Ti,n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:P,variable:"",imports:{_:n}};var Si=vi,Ni=function(t){var e,n=t,i=[];if(!n)return i;if(!Y[typeof t])return i;for(e in n)li.call(n,e)&&i.push(e);return i},Ai=yi?function(t){return me(t)?yi(t):[]}:Ni,Pi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mi=le(Pi),Ii=function(t,e,i){var r,a=t,o=a;if(!a)return o;var s=arguments,l=0,u="number"==typeof i?2:s.length;if(u>3&&"function"==typeof s[u-2])var c=n.createCallback(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(c=s[--u]);for(;++l<u;)if(a=s[l],a&&Y[typeof a])for(var p=-1,h=Y[typeof a]&&Ai(a),d=h?h.length:0;++p<d;)r=h[p],o[r]=c?c(o[r],a[r]):a[r];return o},$i=function(t,e,n){var i,r=t,a=r;if(!r)return a;for(var o=arguments,s=0,l="number"==typeof n?2:o.length;++s<l;)if(r=o[s],r&&Y[typeof r])for(var u=-1,c=Y[typeof r]&&Ai(r),p=c?c.length:0;++u<p;)i=c[u],"undefined"==typeof a[i]&&(a[i]=r[i]);return a},Oi=function(t,e,i){var r,a=t,o=a;if(!a)return o;if(!Y[typeof a])return o;e=e&&"undefined"==typeof i?e:n.createCallback(e,i);for(r in a)if(e(a[r],r,t)===!1)return o;return o},Fi=function(t,e,i){var r,a=t,o=a;if(!a)return o;if(!Y[typeof a])return o;e=e&&"undefined"==typeof i?e:n.createCallback(e,i);for(var s=-1,l=Y[typeof a]&&Ai(a),u=l?l.length:0;++s<u;)if(r=l[s],e(a[r],r,t)===!1)return o;return o},Li=function(t){if(!t||hi.call(t)!=V)return!1;var e=t.valueOf,n="function"==typeof e&&(n=si(e))&&si(n);return n?t==n||si(t)==n:Q(t)},Di=Ie,Hi=K(function zi(t,e,n){for(var i=-1,r=t?t.length:0,a=[];++i<r;){var o=t[i];n&&(o=n(o,i,t)),Si(o)?ui.apply(a,e?o:zi(o)):a.push(o)}return a}),Ri=K(function(t,e,n){var i=-1,o=C(),s=t?t.length:0,l=[],c=!e&&s>=_&&o===r,h=n||c?p():l;if(c){var v=u(h);v?(o=a,h=v):(c=!1,h=n?h:(d(h),l))}for(;++i<s;){var m=t[i],g=n?n(m,i,t):m;(e?!i||h[h.length-1]!==g:o(h,g)<0)&&((n||c)&&h.push(g),l.push(m))}return c?(d(h.array),f(h)):n&&d(h),l});Ti&&Z&&"function"==typeof ci&&(xn=vn(ci,e));var Bi=8==xi(I+"08")?xi:function(t,e){return xi(xe(t)?t.replace($,""):t,e||0)};return n.after=fn,n.assign=Ii,n.at=Ne,n.bind=vn,n.bindAll=mn,n.bindKey=gn,n.compact=Ye,n.compose=yn,n.countBy=Pe,n.createCallback=bn,n.debounce=jn,n.defaults=$i,n.defer=xn,n.delay=wn,n.difference=Ke,n.filter=Ie,n.flatten=Hi,n.forEach=Oe,n.forIn=Oi,n.forOwn=Fi,n.functions=oe,n.groupBy=Fe,n.initial=en,n.intersection=nn,n.invert=le,n.invoke=Le,n.keys=Ai,n.map=De,n.max=He,n.memoize=_n,n.merge=_e,n.min=Re,n.omit=Ce,n.once=Cn,n.pairs=Te,n.partial=Tn,n.partialRight=kn,n.pick=ke,n.pluck=Be,n.range=on,n.reject=qe,n.rest=sn,n.shuffle=We,n.sortBy=Je,n.tap=Hn,n.throttle=En,n.times=Fn,n.toArray=Ge,n.transform=Ee,n.union=un,n.uniq=Ri,n.unzip=cn,n.values=Se,n.where=Di,n.without=pn,n.wrap=Sn,n.zip=hn,n.zipObject=dn,n.collect=De,n.drop=sn,n.each=Oe,n.extend=Ii,n.methods=oe,n.object=dn,n.select=Ie,n.tail=sn,n.unique=Ri,Pn(n),n.chain=n,n.prototype.chain=function(){return this},n.clone=ie,n.cloneDeep=re,n.contains=Ae,n.escape=Nn,n.every=Me,n.find=$e,n.findIndex=Qe,n.findKey=ae,n.has=se,n.identity=An,n.indexOf=tn,n.isArguments=ne,n.isArray=Si,n.isBoolean=ue,n.isDate=ce,n.isElement=pe,n.isEmpty=he,n.isEqual=de,n.isFinite=fe,n.isFunction=ve,n.isNaN=ge,n.isNull=ye,n.isNumber=be,n.isObject=me,n.isPlainObject=Li,n.isRegExp=je,n.isString=xe,n.isUndefined=we,n.lastIndexOf=an,n.mixin=Pn,n.noConflict=Mn,n.parseInt=Bi,n.random=In,n.reduce=ze,n.reduceRight=Ue,n.result=$n,n.runInContext=m,n.size=Ve,n.some=Xe,n.sortedIndex=ln,n.template=On,n.unescape=Ln,n.uniqueId=Dn,n.all=Me,n.any=Xe,n.detect=$e,n.findWhere=$e,n.foldl=ze,n.foldr=Ue,n.include=Ae,n.inject=ze,Fi(n,function(t,e){n.prototype[e]||(n.prototype[e]=function(){var e=[this.__wrapped__];return ui.apply(e,arguments),t.apply(n,e)})}),n.first=Ze,n.last=rn,n.take=Ze,n.head=Ze,Fi(n,function(t,e){n.prototype[e]||(n.prototype[e]=function(e,n){var r=t(this.__wrapped__,e,n);return null==e||n&&"function"!=typeof e?r:new i(r)})}),n.VERSION="1.3.1",n.prototype.toString=Rn,n.prototype.value=Bn,n.prototype.valueOf=Bn,Oe(["join","pop","shift"],function(t){var e=Qn[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments)}}),Oe(["push","reverse","sort","unshift"],function(t){var e=Qn[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),Oe(["concat","slice","splice"],function(t){var e=Qn[t];n.prototype[t]=function(){return new i(e.apply(this.__wrapped__,arguments))}}),n}var g,y=[],b=[],j=0,x={},w=+new Date+"",_=75,C=40,T=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/&(?:amp|lt|gt|quot|#39);/g,N=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,P=/<%=([\s\S]+?)%>/g,M=(M=/\bthis\b/)&&M.test(m)&&M,I=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",$=RegExp("^["+I+"]*0+(?=.$)"),O=/($^)/,F=/[&<>"']/g,L=/['\n\r\t\u2028\u2029\\]/g,D=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],H=0,R="[object Arguments]",B="[object Array]",z="[object Boolean]",U="[object Date]",q="[object Function]",W="[object Number]",V="[object Object]",X="[object RegExp]",J="[object String]",G={};G[q]=!1,G[R]=G[B]=G[z]=G[U]=G[W]=G[V]=G[X]=G[J]=!0;var Y={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},K={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Q=Y[typeof n]&&n,Z=Y[typeof e]&&e&&e.exports==Q&&e,te=Y[typeof i]&&i;!te||te.global!==te&&te.window!==te||(t=te);var ee=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t._=ee,define(function(){return ee})):Q&&!Q.nodeType?Z?(Z.exports=ee)._=ee:Q._=ee:t._=ee}(this)},{}],47:[function(t,e){!function(){var n=t("./media"),i=n.extend({name:"image",urlRoot:function(){return this.app.config.baseUrl+"/images"}});e.exports=i}()},{"./media":48}],49:[function(t,e){!function(){var n=t("./media"),i=n.extend({name:"video",urlRoot:function(){return this.app.config.baseUrl+"/videos"}});e.exports=i}()},{"./media":48}],50:[function(t,e){e.exports=function(e,n,i){"use strict";var r,a,o=e.event;r=o.special.debouncedresize={setup:function(){e(this).on("resize",r.handler)},teardown:function(){e(this).off("resize",r.handler)},handler:function(t,e){var n=this,i=arguments,s=function(){t.type="debouncedresize",o.dispatch.apply(n,i)};a&&clearTimeout(a),e?s():a=setTimeout(s,r.threshold)},threshold:150};var s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(t){function n(){var n=e(p),i=e(h);o&&(h.length?o.reject(u,n,i):o.resolve(u)),e.isFunction(t)&&t.call(a,u,n,i)}function r(t,i){t.src!==s&&-1===e.inArray(t,c)&&(c.push(t),i?h.push(t):p.push(t),e.data(t,"imagesLoaded",{isBroken:i,src:t.src}),l&&o.notifyWith(e(t),[i,u,e(p),e(h)]),u.length===c.length&&(setTimeout(n),u.unbind(".imagesLoaded")))}var a=this,o=e.isFunction(e.Deferred)?e.Deferred():0,l=e.isFunction(o.notify),u=a.find("img").add(a.filter("img")),c=[],p=[],h=[];return e.isPlainObject(t)&&e.each(t,function(e,n){"callback"===e?t=n:o&&o[e](n)}),u.length?u.bind("load.imagesLoaded error.imagesLoaded",function(t){r(t.target,"error"===t.type)}).each(function(t,n){var a=n.src,o=e.data(n,"imagesLoaded");return o&&o.src===a?(r(n,o.isBroken),void 0):n.complete&&n.naturalWidth!==i?(r(n,0===n.naturalWidth||0===n.naturalHeight),void 0):((n.readyState||n.complete)&&(n.src=s,n.src=a),void 0)}):n(),o?o.promise(a):a};var l=e(n);n.Modernizr,e.Elastislide=function(t,n){this.$el=e(n),this._init(t)},e.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},e.Elastislide.prototype={_init:function(n){var i=t("./modernizr");this.options=e.extend(!0,{},e.Elastislide.defaults,n);var r=this,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};return this.transEndEventName=a[i.prefixed("transition")],this.support=i.csstransitions&&i.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount?!1:(this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout(function(){r._addTransition()},100),this.$el.imagesLoaded(function(){r.$el.show(),r._layout(),r._configure(),r.hasTransition?(r._removeTransition(),r._slideToItem(r.current),r.$el.on(r.transEndEventName,function(){r.$el.off(r.transEndEventName),r._setWrapperSize(),r._addTransition(),r._initEvents()})):(clearTimeout(r.hasTransitionTimeout),r._setWrapperSize(),r._initEvents(),r._slideToItem(r.current),setTimeout(function(){r._addTransition()},25)),r.options.onReady()}),void 0)},_validate:function(){this.options.speed<0&&(this.options.speed=500),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),(this.options.start<0||this.options.start>this.itemsCount-1)&&(this.options.start=0),"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var t=this.$items.find("img:first");this.imgSize={width:t.outerWidth(!0),height:t.outerHeight(!0)},this._setItemsSize(),"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var t=this;this.$navigation=e('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper),this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(){return t._slide("prev"),!1}),this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(){return t._slide("next"),!1})},_setItemsSize:function(){var t="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:t+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height}),"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var t=this;l.on("debouncedresize.elastislide",function(){t._setItemsSize(),t._configure(),t._slideToItem(t.current)}),this.$el.on(this.transEndEventName,function(){t._onEndTransition()}),"horizontal"===this.options.orientation?this.$el.on({swipeleft:function(){t._slide("next")},swiperight:function(){t._slide("prev")}}):this.$el.on({swipeup:function(){t._slide("next")},swipedown:function(){t._slide("prev")}}),this.$el.on("click.elastislide","li",function(n){var i=e(this);t.options.onClick(i,i.index(),n)})},_destroy:function(t){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide"),l.off(".elastislide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),t&&t.call()
},_toggleControls:function(t,e){e?"next"===t?this.$navNext.show():this.$navPrev.show():"next"===t?this.$navNext.hide():this.$navPrev.hide()},_slide:function(t,n){if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var r=this,a=this.translation||0,o="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),s=this.itemsCount*o,l="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(n===i){var u=this.fitCount*o;if(0>u)return!1;if("next"===t&&s-(Math.abs(a)+u)<l)u=s-(Math.abs(a)+l),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===t&&Math.abs(a)-u<0)u=Math.abs(a),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var c="next"===t?Math.abs(a)+Math.abs(u):Math.abs(a)-Math.abs(u);c>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),s-l>c?this._toggleControls("next",!0):this._toggleControls("next",!1)}n="next"===t?a-u:a+u}else{var u=Math.abs(n);Math.max(s,l)-u<l&&(n=-(Math.max(s,l)-l)),u>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(s,l)-l>u?this._toggleControls("next",!0):this._toggleControls("next",!1)}if(this.translation=n,a===n)return this._onEndTransition(),!1;if(this.support)"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+n+"px)"):this.$el.css("transform","translateY("+n+"px)");else{e.fn.applyStyle=this.hasTransition?e.fn.animate:e.fn.css;var p="horizontal"===this.options.orientation?{left:n}:{top:n};this.$el.stop().applyStyle(p,e.extend(!0,[],{duration:this.options.speed,complete:function(){r._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(t){var t=t||this.current,e=Math.abs(this.translation)||0,n="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),i=e+this.$carousel.width(),r=Math.abs(t*n);(r+n>i||e>r)&&this._slideToItem(t)},_slideToItem:function(t){var e="horizontal"===this.options.orientation?t*this.$items.outerWidth(!0):t*this.$items.outerHeight(!0);this._slide("",-e)},add:function(t){var e=this,n=this.current,i=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=i.index(),this._setItemsSize(),this._configure(),this._removeTransition(),n<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout(function(){e._addTransition()},25),t&&t.call()},setCurrent:function(t,e){this.current=t,this._slideTo(),e&&e.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(t){this._destroy(t)}};var u=function(t){n.console&&n.console.error(t)};e.fn.elastislide=function(t){var n=e.data(this,"elastislide");if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){return n?e.isFunction(n[t])&&"_"!==t.charAt(0)?(n[t].apply(n,i),void 0):(u("no such method '"+t+"' for elastislide self"),void 0):(u("cannot call methods on elastislide prior to initialization; attempted to call method '"+t+"'"),void 0)})}else this.each(function(){n?n._init():n=e.data(this,"elastislide",new e.Elastislide(t,this))});return n}}},{"./modernizr":51}],11:[function(t,e){!function(){var n=t("../base"),i=t("../layout/navbar.js"),r=t("../layout/footer.js"),a=n.extend({template:t("../../templates/routes/index.hbs"),initialize:function(t){this.app=t.app,this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var t=new i({app:this.app}),e=new r({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(e,this.$("#footer")),this.eachSubview(function(t){t.render()})},context:function(){return this.getContext()}});e.exports=a}()},{"../../templates/routes/index.hbs":54,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],12:[function(t,e){!function(){var n=t("../base"),i=t("../layout/navbar.js"),r=t("../layout/footer.js"),a=n.extend({template:t("../../templates/errors/no_pages.hbs"),initialize:function(t){this.app=t.app,this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var t=new i({app:this.app}),e=new r({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(e,this.$("#footer")),this.eachSubview(function(t){t.render()})},context:function(){return this.getContext()}});e.exports=a}()},{"../../templates/errors/no_pages.hbs":56,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],14:[function(t,e){!function(){var n=t("../base"),i=t("../layout/navbar.js"),r=t("../layout/footer.js"),a=n.extend({template:t("../../templates/routes/login.hbs"),initialize:function(t){this.app=t.app,this.user=this.app.getUser(),this.listenTo(this.user,"change",this.render,this),this.renderOnReady(this.user)},afterRender:function(){var t=new i({app:this.app}),e=new r({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(e,this.$("#footer")),this.eachSubview(function(t){t.render()})},context:function(){return this.getContext({user:this.user.attributes})},events:{submit:"login","click a.app":"handleAppLink","click a.provisionTestAccount":"provisionTestAccount"},login:function(t){t.preventDefault(),t.stopPropagation();var e=this.$("input[name=username]").val(),n=this.$("input[name=password]").val();this.user.set({username:e,password:n,id:null,path:null,policy:null,token:null}).save()},provisionTestAccount:function(t){t.preventDefault(),t.stopPropagation(),this.user.set({id:"test"}).save()}});e.exports=a}()},{"../../templates/routes/login.hbs":57,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],16:[function(t,e){!function(){var n=t("../base"),i=t("../layout/navbar.js"),r=t("../layout/footer.js"),a=n.extend({template:t("../../templates/routes/review.hbs"),initialize:function(t){this.app=t.app,this.unprocessed=this.app.db.fetchCollection("unprocessedUploads"),this.listenTo(this.app.getUser(),"change",this.render,this),this.listenTo(this.unprocessed,"add change remove sort",this.render,this)},afterRender:function(){var t=new i({app:this.app}),e=new r({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(e,this.$("#footer")),this.eachSubview(function(t){t.render()})},context:function(){var t=[];return this.unprocessed.forEach(function(e){t.push(e.templateVars())}),this.getContext({unprocessed:t,nothingToReview:0===t.length})}});e.exports=a}()},{"../../templates/routes/review.hbs":58,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],18:[function(t,e){!function(){var n=t("../base"),i=t("../../helpers/JqueryLoader"),r=t("../layout/navbar.js"),a=t("../layout/footer.js"),o=n.extend({template:t("../../templates/routes/contact.hbs"),initialize:function(t){this.app=t.app},events:{submit:"send","click a.app":"handleAppLink"},afterRender:function(){var t=new r({app:this.app}),e=new a({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(e,this.$("#footer")),this.eachSubview(function(t){t.render()})},nameVal:"",emailVal:"",messageVal:"",context:function(){return this.getContext({nameVal:this.nameVal,emailVal:this.emailVal,messageVal:this.messageVal})},send:function(t){t.preventDefault(),t.stopPropagation();var e=this;e.nameVal=e.$('form input[name="name"]').val(),e.emailVal=e.$('form input[name="email"]').val(),e.messageVal=e.$("form textarea").val(),e.app.clearFlash(),e.app.setFlash("info","Sending message..."),e.$("form button").button("loading"),i.ajax({url:e.app.config.baseUrl+"/users/contact.json",success:function(t){t.error?e.app.error(t.error):e.app.setFlash("success","Message sent!")},error:function(t,n,i){e.app.error(i)},complete:function(){e.$("form button").button("reset"),e.render()},data:{name:e.nameVal,email:e.emailVal,message:e.messageVal,id:e.app.bootstrap.userId},dataType:"json",timeout:2e4,type:"POST"})}});e.exports=o}()},{"../../helpers/JqueryLoader":43,"../../templates/routes/contact.hbs":59,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],24:[function(t,e){!function(){var n=t("../../base"),i=t("../../layout/navbar.js"),r=t("../../layout/footer.js"),a=t("../../routes/media/grid.js"),o=n.extend({template:t("../../../templates/routes/pages/show.hbs"),initialize:function(t){this.app=t.app,this.pageName=t.pageName,this.listenTo(this.app.getUser(),"change",this.render,this),this.fetchPage(t.pageName,function(){this.render()})},afterRender:function(){var t=new i({app:this.app}),e=new a({app:this.app,pageName:this.pageName}),n=new r({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(e,this.$("#content")),this.appendSubview(n,this.$("#footer")),this.eachSubview(function(t){t.render()})},context:function(){return this.getContext()}});e.exports=o}()},{"../../../templates/routes/pages/show.hbs":61,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,"../../routes/media/grid.js":60}],26:[function(t,e){!function(){var n=t("../../base"),i=t("../../../helpers/lib/holder.js"),r=t("../../layout/navbar.js"),a=t("../../layout/footer.js"),o=n.extend({template:t("../../../templates/routes/pages/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.app":"handleAppLink"},initialize:function(t){this.app=t.app,this.fetchPage(t.pageName,function(){this.listenTo(this.page,"invalid",function(){this.app.error(this.page.validationError)},this),this.media=this.page.getMedia(),this.listenTo(this.media,"change add remove sort",this.render,this),this.media.once("ready",this.render,this),this.render()})},context:function(){var t=[],e=encodeURIComponent(this.page.attributes.name);return this.media&&this.media.forEach(function(n){t.push(n.templateVars(e))}),this.getContext({media:t,page:this.page.attributes})},afterRender:function(){var t=this,e=new r({app:t.app}),n=new a({app:t.app});t.appendSubview(e,t.$("#header")),t.appendSubview(n,t.$("#footer")),t.eachSubview(function(t){t.render()}),t.$(".sortable").sortable().bind("sortupdate",function(){t.readSortOrder.apply(t,arguments)}),t.$(".switch").bootstrapSwitch(),i.run()},performSave:function(t){var e=this;t.preventDefault();var n=this.$("input[name=name]").val(),i=this.$("input[name=isPublished]").parent().hasClass("switch-on");this.app.clearFlash(),this.page.save({userId:e.app.getUser().attributes.id,name:n,isPublished:i},{success:function(){e.app.db.fetchCollection("pages").fetch(),e.app.setFlash("success","Page Saved!")},error:e.app.error})},performDelete:function(t){t.preventDefault(),t.stopPropagation();var e=this,n=confirm("Are you sure you want to delete "+e.page.attributes.name+"?");return n?(e.page.destroy({success:function(){e.app.db.fetchCollection("pages").remove(e.page),e.app.navigate("",{trigger:!0})},error:e.app.error}),void 0):!1},readSortOrder:function(t){t.preventDefault(),t.stopPropagation();var e=this,n=e.$(".sortable").children(),i=[],r=[];n.each(function(t,n){var a=e.page.getMedia().get($(n).attr("data-uuid"));i.push(a),r.push({ID:a.attributes.id,NAME:a.attributes.name,TYPE:a.attributes.type.toLowerCase(),THUMB:a.attributes.thumbnailS3key})}),e.page.getMedia().reset(i),e.page.set("items",r),e.page.save({},{success:function(){e.app.setFlash("success","Page Saved!")},error:e.app.error})}});e.exports=o}()},{"../../../helpers/lib/holder.js":62,"../../../templates/routes/pages/edit.hbs":63,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52}],28:[function(t,e){!function(){var n=t("../../base"),i=t("../../layout/navbar.js"),r=t("../../layout/footer.js"),a=n.extend({template:t("../../../templates/routes/media/add.hbs"),events:{"click a.filepicker":"startFilepicker","click a.app":"handleAppLink"},initialize:function(t){this.app=t.app,this.listenTo(this.app.getUser(),"change",this.render,this),this.fetchPage(t.pageName,function(){this.render()})},afterRender:function(){var t=new i({app:this.app}),e=new r({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(e,this.$("#footer")),this.eachSubview(function(t){t.render()})},context:function(){var t=encodeURIComponent(this.page.attributes.name);return this.getContext({page:this.page.attributes,pickMediaUrl:"page/"+t+"/pickMedia"})},startFilepicker:function(t,e){var n=this,i=encodeURIComponent(this.page.attributes.name);return t&&(t.preventDefault(),t.stopPropagation()),this.page.id?(this.page.addMedia(function(t,e){t?304===t.code?n.app.logoutFromInactivity():101!==t.code&&n.app.error(t):e&&n.app.navigate("page/"+i,{trigger:!0})},e),void 0):(n.app.error("The page hasn't loaded yet, try again in a few seconds"),void 0)}});e.exports=a}()},{"../../../templates/routes/media/add.hbs":64,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52}],51:[function(t,e){!function(){var t=function(t,e,n){function i(t){y.cssText=t}function r(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function o(t,e){for(var i in t){var r=t[i];if(!a(r,"-")&&y[r]!==n)return"pfx"==e?r:!0}return!1}function s(t,e,i){for(var a in t){var o=e[t[a]];if(o!==n)return i===!1?t[a]:r(o,"function")?o.bind(i||e):o}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+x.join(i+" ")+i).split(" ");return r(e,"string")||r(e,"undefined")?o(a,e):(a=(t+" "+w.join(i+" ")+i).split(" "),s(a,e,n))}var u,c,p,h="2.6.2",d={},f=!0,v=e.documentElement,m="modernizr",g=e.createElement(m),y=g.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),j="Webkit Moz O ms",x=j.split(" "),w=j.toLowerCase().split(" "),_={},C=[],T=C.slice,k=function(t,n,i,r){var a,o,s,l,u=e.createElement("div"),c=e.body,p=c||e.createElement("body");if(parseInt(i,10))for(;i--;)s=e.createElement("div"),s.id=r?r[i]:m+(i+1),u.appendChild(s);return a=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),u.id=m,(c?u:p).innerHTML+=a,p.appendChild(u),c||(p.style.background="",p.style.overflow="hidden",l=v.style.overflow,v.style.overflow="hidden",v.appendChild(p)),o=n(u,t),c?u.parentNode.removeChild(u):(p.parentNode.removeChild(p),v.style.overflow=l),!!o},E={}.hasOwnProperty;p=r(E,"undefined")||r(E.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return E.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=T.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var a=new r,o=e.apply(a,n.concat(T.call(arguments)));return Object(o)===o?o:a}return e.apply(t,n.concat(T.call(arguments)))};return i}),_.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:k(["@media (",b.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},_.csstransforms=function(){return!!l("transform")},_.csstransitions=function(){return l("transition")};for(var S in _)p(_,S)&&(c=S.toLowerCase(),d[c]=_[S](),C.push((d[c]?"":"no-")+c));return d.addTest=function(t,e){if("object"==typeof t)for(var i in t)p(t,i)&&d.addTest(i,t[i]);else{if(t=t.toLowerCase(),d[t]!==n)return d;e="function"==typeof e?e():e,"undefined"!=typeof f&&f&&(v.className+=" "+(e?"":"no-")+t),d[t]=e}return d},i(""),g=u=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=g.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=m[t[f]];return e||(e={},v++,t[f]=v,m[v]=e),e}function a(t,n,i){if(n||(n=e),c)return n.createElement(t);i||(i=r(n));var a;return a=i.cache[t]?i.cache[t].cloneNode():d.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),a.canHaveChildren&&!h.test(t)?i.frag.appendChild(a):a}function o(t,n){if(t||(t=e),c)return t.createDocumentFragment();n=n||r(t);for(var a=n.frag.cloneNode(),o=0,s=i(),l=s.length;l>o;o++)a.createElement(s[o]);return a}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return g.shivMethods?a(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(g,e.frag)}function l(t){t||(t=e);var i=r(t);return!g.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),c||s(t,i),t}var u,c,p=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",v=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){u=!0,c=!0}}();var g={elements:p.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:p.shivCSS!==!1,supportsUnknownElements:c,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:o};t.html5=g,l(e)}(this,e),d._version=h,d._prefixes=b,d._domPrefixes=w,d._cssomPrefixes=x,d.testProp=function(t){return o([t])},d.testAllProps=l,d.testStyles=k,d.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+C.join(" "):""),d}(this,this.document);!function(t,e,n){function i(t){return"[object Function]"==m.call(t)}function r(t){return"string"==typeof t}function a(){}function o(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=g.shift();y=1,t?t.t?f(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):y=0}function l(t,n,i,r,a,l,u){function c(e){if(!d&&o(p.readyState)&&(b.r=d=1,!y&&s(),p.onload=p.onreadystatechange=null,e)){"img"!=t&&f(function(){x.removeChild(p)},50);for(var i in k[n])k[n].hasOwnProperty(i)&&k[n][i].onload()}}var u=u||h.errorTimeout,p=e.createElement(t),d=0,m=0,b={t:i,s:n,e:a,a:l,x:u};1===k[n]&&(m=1,k[n]=[]),"object"==t?p.data=n:(p.src=n,p.type=t),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){c.call(this,m)},g.splice(r,0,b),"img"!=t&&(m||2===k[n]?(x.insertBefore(p,j?null:v),f(c,u)):k[n].push(p))}function u(t,e,n,i,a){return y=0,e=e||"j",r(t)?l("c"==e?_:w,t,e,this.i++,n,i,a):(g.splice(this.i++,0,t),1==g.length&&s()),this}function c(){var t=h;return t.loader={load:u,i:0},t}var p,h,d=e.documentElement,f=t.setTimeout,v=e.getElementsByTagName("script")[0],m={}.toString,g=[],y=0,b="MozAppearance"in d.style,j=b&&!!e.createRange().compareNode,x=j?d:v.parentNode,d=t.opera&&"[object Opera]"==m.call(t.opera),d=!!e.attachEvent&&!d,w=b?"object":d?"script":"img",_=d?"script":w,C=Array.isArray||function(t){return"[object Array]"==m.call(t)},T=[],k={},E={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,n,i,t=t.split("!"),r=T.length,a=t.pop(),o=t.length,a={url:a,origUrl:a,prefixes:t};for(n=0;o>n;n++)i=t[n].split("="),(e=E[i.shift()])&&(a=e(a,i));for(n=0;r>n;n++)a=T[n](a);return a}function o(t,r,a,o,s){var l=e(t),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[t]||r[o]||r[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,r,a,o,s):(k[l.url]?l.noexec=!0:k[l.url]=1,a.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(u))&&a.load(function(){c(),r&&r(l.origUrl,s,o),u&&u(l.origUrl,s,o),k[l.url]=2})))}function s(t,e){function n(t,n){if(t){if(r(t))n||(p=function(){var t=[].slice.call(arguments);h.apply(this,t),d()}),o(t,p,e,0,u);else if(Object(t)===t)for(l in s=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!n&&!--s&&(i(p)?p=function(){var t=[].slice.call(arguments);h.apply(this,t),d()}:p[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),d()}}(h[l])),o(t[l],p,e,l,u))}else!n&&d()}var s,l,u=!!t.test,c=t.load||t.both,p=t.callback||a,h=p,d=t.complete||a;n(u?t.yep:t.nope,!!c),c&&n(c)}var l,u,p=this.yepnope.loader;if(r(t))o(t,0,p,0);else if(C(t))for(l=0;l<t.length;l++)u=t[l],r(u)?o(u,0,p,0):C(u)?h(u):Object(u)===u&&s(u,p);else Object(t)===t&&s(t,p)},h.addPrefix=function(t,e){E[t]=e},h.addFilter=function(t){T.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",p=function(){e.removeEventListener("DOMContentLoaded",p,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,i,r,l,u){var c,p,d=e.createElement("script"),r=r||h.errorTimeout;d.src=t;for(p in i)d.setAttribute(p,i[p]);n=u?s:n||a,d.onreadystatechange=d.onload=function(){!c&&o(d.readyState)&&(c=1,n(),d.onload=d.onreadystatechange=null)},f(function(){c||(c=1,n(1))},r),l?d.onload():v.parentNode.insertBefore(d,v)},t.yepnope.injectCss=function(t,n,i,r,o,l){var u,r=e.createElement("link"),n=l?s:n||a;r.href=t,r.rel="stylesheet",r.type="text/css";for(u in i)r.setAttribute(u,i[u]);o||(v.parentNode.insertBefore(r,v),f(n,0))}}(this,document),t.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},e.exports=t}()},{}],62:[function(t,e){!function(){var t=t||{};!function(t,e){function n(t,e){var n="complete",i="readystatechange",r=!1,a=r,o=!0,s=t.document,l=s.documentElement,u=s.addEventListener?"addEventListener":"attachEvent",c=s.addEventListener?"removeEventListener":"detachEvent",p=s.addEventListener?"":"on",h=function(o){(o.type!=i||s.readyState==n)&&(("load"==o.type?t:s)[c](p+o.type,h,r),!a&&(a=!0)&&e.call(t,null))},d=function(){try{l.doScroll("left")}catch(t){return setTimeout(d,50),void 0}h("poll")};if(s.readyState==n)e.call(t,"lazy");else{if(s.createEventObject&&l.doScroll){try{o=!t.frameElement}catch(f){}o&&d()}s[u](p+"DOMContentLoaded",h,r),s[u](p+i,h,r),t[u](p+"load",h,r)}}function r(t){t=t.match(/^(\W)?(.*)/);var e=document["getElement"+(t[1]?"#"==t[1]?"ById":"sByClassName":"sByTagName")](t[2]),n=[];return null!=e&&(n=e.length?e:0==e.length?e:[e]),n}function a(t,e){var n={};for(var i in t)n[i]=t[i];for(var r in e)n[r]=e[r];return n}function o(t,e,n){var i=[e,t].sort(),r=Math.round(i[1]/16);Math.round(i[0]/16);var a=Math.max(n.size,r);return{height:a}}function s(t,e,n,i){var r=o(e.width,e.height,n),a=r.height,s=e.width*i,l=e.height*i,u=n.font?n.font:"sans-serif";f.width=s,f.height=l,t.textAlign="center",t.textBaseline="middle",t.fillStyle=n.background,t.fillRect(0,0,s,l),t.fillStyle=n.foreground,t.font="bold "+a+"px "+u;var c=n.text?n.text:e.width+"x"+e.height;return t.measureText(c).width/s>1&&(a=n.size/(t.measureText(c).width/s)),t.font="bold "+a*i+"px "+u,t.fillText(c,s/2,l/2,s),f.toDataURL("image/png")}function l(t,e,n,i){var r=n.dimensions,o=n.theme,l=n.text?decodeURIComponent(n.text):n.text,u=r.width+"x"+r.height;o=l?a(o,{text:l}):o,o=n.font?a(o,{font:n.font}):o;var c=1;window.devicePixelRatio&&window.devicePixelRatio>1&&(c=window.devicePixelRatio),"image"==t?(e.setAttribute("data-src",i),e.setAttribute("alt",l?l:o.text?o.text+" ["+u+"]":u),(d||!n.auto)&&(e.style.width=r.width+"px",e.style.height=r.height+"px"),d?e.style.backgroundColor=o.background:e.setAttribute("src",s(v,r,o,c))):d||(e.style.backgroundImage="url("+s(v,r,o,c)+")",e.style.backgroundSize=r.width+"px "+r.height+"px")}function u(t,e){var n=e.dimensions,i=e.theme,r=e.text,o=n.width+"x"+n.height;i=r?a(i,{text:r}):i;var s=document.createElement("div");s.style.backgroundColor=i.background,s.style.color=i.foreground,s.className=t.className+" holderjs-fluid",s.style.width=e.dimensions.width+(e.dimensions.width.indexOf("%")>0?"":"px"),s.style.height=e.dimensions.height+(e.dimensions.height.indexOf("%")>0?"":"px"),s.id=t.id,t.style.width=0,t.style.height=0,i.text?s.appendChild(document.createTextNode(i.text)):(s.appendChild(document.createTextNode(o)),m.push(s),setTimeout(c,0)),t.parentNode.insertBefore(s,t.nextSibling),window.jQuery&&jQuery(function(e){e(t).on("load",function(){t.style.width=s.style.width,t.style.height=s.style.height,e(t).show(),e(s).remove()})})}function c(){for(i in m)if(m.hasOwnProperty(i)){var t=m[i],e=t.firstChild;t.style.lineHeight=t.offsetHeight+"px",e.data=t.offsetWidth+"x"+t.offsetHeight}}function p(e,n){var i={theme:g.themes.gray},r=!1;for(sl=e.length,j=0;sl>j;j++){var a=e[j];t.flags.dimensions.match(a)?(r=!0,i.dimensions=t.flags.dimensions.output(a)):t.flags.fluid.match(a)?(r=!0,i.dimensions=t.flags.fluid.output(a),i.fluid=!0):t.flags.colors.match(a)?i.theme=t.flags.colors.output(a):n.themes[a]?i.theme=n.themes[a]:t.flags.text.match(a)?i.text=t.flags.text.output(a):t.flags.font.match(a)?i.font=t.flags.font.output(a):t.flags.auto.match(a)&&(i.auto=!0)}return r?i:!1}var h=!1,d=!1,f=document.createElement("canvas");if(document.getElementsByClassName||(document.getElementsByClassName=function(t){var e,n,i,r=document,a=[];if(r.querySelectorAll)return r.querySelectorAll("."+t);if(r.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+t+" ')]",e=r.evaluate(n,r,null,0,null);i=e.iterateNext();)a.push(i);else for(e=r.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+t+"(\\s|$)"),i=0;i<e.length;i++)n.test(e[i].className)&&a.push(e[i]);return a}),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var n=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),f.getContext)if(f.toDataURL("image/png").indexOf("data:image/png")<0)d=!0;else var v=f.getContext("2d");else d=!0;var m=[],g={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};t.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(t){var e=this.regex.exec(t);return{width:+e[1],height:+e[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(t){var e=this.regex.exec(t);return{width:e[1],height:e[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(t){var e=this.regex.exec(t);return{size:g.themes.gray.size,foreground:"#"+e[2],background:"#"+e[1]}}},text:{regex:/text\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},font:{regex:/font\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},auto:{regex:/^auto$/}};for(var y in t.flags)t.flags.hasOwnProperty(y)&&(t.flags[y].match=function(t){return t.match(this.regex)});t.add_theme=function(e,n){return null!=e&&null!=n&&(g.themes[e]=n),t},t.add_image=function(e,n){var i=r(n);if(i.length)for(var a=0,o=i.length;o>a;a++){var s=document.createElement("img");s.setAttribute("data-src",e),i[a].appendChild(s)}return t},t.run=function(e){var n=a(g,e),i=[];for(imageNodes=n.images instanceof window.NodeList?n.images:n.images instanceof window.Node?[n.images]:r(n.images),bgnodes=n.elements instanceof window.NodeList?n.bgnodes:n.bgnodes instanceof window.Node?[n.bgnodes]:r(n.bgnodes),h=!0,d=0,c=imageNodes.length;c>d;d++)i.push(imageNodes[d]);var o=document.getElementById("holderjs-style");o||(o=document.createElement("style"),o.setAttribute("id","holderjs-style"),o.type="text/css",document.getElementsByTagName("head")[0].appendChild(o)),o.styleSheet?o.styleSheet+=n.stylesheet:o.textContent+=n.stylesheet;for(var s=new RegExp(n.domain+'/(.*?)"?\\)'),c=bgnodes.length,d=0;c>d;d++){var f=window.getComputedStyle(bgnodes[d],null).getPropertyValue("background-image"),v=f.match(s);if(v){var m=p(v[1].split("/"),n);m&&l("background",bgnodes[d],m,f)}}for(var c=i.length,d=0;c>d;d++){var f=i[d].getAttribute("src")||i[d].getAttribute("data-src");if(null!=f&&f.indexOf(n.domain)>=0){var m=p(f.substr(f.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n);m&&(m.fluid?u(i[d],m,f):l("image",i[d],m,f))}}return t},n(e,function(){window.addEventListener?(window.addEventListener("resize",c,!1),window.addEventListener("orientationchange",c,!1)):window.attachEvent("onresize",c),h||t.run()}),"function"==typeof define&&define.amd&&define("Holder",[],function(){return t})}(t,window),e.exports=t}()},{}],42:[function(t,e){!function(){var n=t("backbone"),i=t("lodash"),r=t("./JqueryLoader.js"),a=n.sync;n.$=r,n.sync=function(t,e,n){if(n=n||{},n.attrs=n.attrs||i.clone(e.toJSON()),n.timeout=n.timeout||2e4,n.parse=n.parse||!0,e.urlRoot&&e.methodUrl?n.url=e.methodUrl(t.toLowerCase()):"function"==typeof e.url?n.url=e.url():e.url&&(n.url=e.url),n.crossDomain||(n.crossDomain=!0),n.xhrFields||(n.xhrFields={withCredentials:!0}),n.success){var r=n.success;n.success=function(i,a,o){var s;if(i[e.name]&&i[e.name].errors?s=i[e.name].errors:i.error?s=i.error:i.errors&&(s=i.errors),!s)return r(i,a,o);if(!n.error)return r(i,a,o);var l=function(){n.error({responseText:JSON.stringify({errors:s})})};"read"!==t?e.fetch({success:function(){l()},error:function(){l()}}):l()}}return a(t,e,n)},e.exports=n}()},{"./JqueryLoader.js":43,backbone:65,lodash:45}],43:[function(t,e){!function(){var n=t("jquery-browserify");t("./lib/elastislide")(n,window),t("./lib/switch")(n,window),t("./lib/sortable")(n,window),t("./lib/tags")(n,window),t("./lib/bootstrap-button")(n,window),t("./lib/bootstrap-tooltip")(n,window),t("./lib/bootstrap-popover")(n,window),t("./lib/bootstrap-alert")(n,window),e.exports=n}()},{"./lib/bootstrap-alert":41,"./lib/bootstrap-button":38,"./lib/bootstrap-popover":40,"./lib/bootstrap-tooltip":39,"./lib/elastislide":50,"./lib/sortable":36,"./lib/switch":35,"./lib/tags":37,"jquery-browserify":66}],44:[function(t,e){!function(){var n=(t("path"),t("lodash")),i=1,r={user:t("../models/user"),image:t("../models/image"),video:t("../models/video"),page:t("../models/page"),customization:t("../models/customization")},a={pagemedia:t("../collections/pageMedia"),pages:t("../collections/pages"),unprocesseduploads:t("../collections/unprocessedUploads"),images:t("../collections/images"),videos:t("../collections/videos")},o=function(t){var e=this;this.cache={},this.createModel=function(e,i){if(e=e.toLowerCase(),i=i||{},n.find(r,function(t,n){return n===e}))return new r[e](i,{app:t});throw new Error('Cannot find Model "'+e+'"')},this.createCollection=function(e,i){if(e=e.toLowerCase(),i=i||{},i=n.clone(i),i.app=t,n.find(a,function(t,n){return n===e}))return new a[e]([],i);throw new Error('Cannot find Collection "'+e+'"')},this.fetchModel=function(n,r,a){n=n.toLowerCase();var o,s="uuid://models/"+n+(r?"/"+r:"");return e.cache[s]?(o=e.cache[s],setTimeout(function(){o.isFetched&&o.trigger("ready")},i)):(o=this.createModel(n),e.cache[s]=o,a&&o.set(a),r&&o.set({id:r}),setTimeout(function(){a?(o.isFetched=!0,o.trigger("ready")):o.fetch({success:function(){o.isFetched=!0,o.trigger("ready")},error:function(){o.isFetched=!0,o.trigger("ready"),t.error.apply(t,arguments)}})},i)),o},this.fetchCollection=function(t,r){t=t.toLowerCase();var a,o=n.filter(r,function(t,e){return"app"!=e}),s="uuid://collections/"+t+"/"+JSON.stringify(o);return e.cache[s]?(a=e.cache[s],setTimeout(function(){a.isFetched&&a.trigger("ready")},i)):(a=this.createCollection(t,r),e.cache[s]=a,setTimeout(function(){a.fetch({success:function(){a.isFetched=!0,a.trigger("ready")
}})},i)),a}};e.exports=o}()},{"../collections/images":73,"../collections/pageMedia":70,"../collections/pages":71,"../collections/unprocessedUploads":72,"../collections/videos":74,"../models/customization":69,"../models/image":47,"../models/page":68,"../models/user":67,"../models/video":49,lodash:45,path:4}],66:[function(t,e,n){!function(t,i){"object"==typeof n?e.exports=i():"function"==typeof define&&define.amd?define([],i):t.returnExports=i()}(this,function(){return function(t,e){function n(t){var e=fe[t]={};return Q.each(t.split(ee),function(t,n){e[n]=!0}),e}function i(t,n,i){if(i===e&&1===t.nodeType){var r="data-"+n.replace(me,"-$1").toLowerCase();if(i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ve.test(i)?Q.parseJSON(i):i}catch(a){}Q.data(t,n,i)}else i=e}return i}function r(t){var e;for(e in t)if(("data"!==e||!Q.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function a(){return!1}function o(){return!0}function s(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function l(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function u(t,e,n){if(e=e||0,Q.isFunction(e))return Q.grep(t,function(t,i){var r=!!e.call(t,i,t);return r===n});if(e.nodeType)return Q.grep(t,function(t){return t===e===n});if("string"==typeof e){var i=Q.grep(t,function(t){return 1===t.nodeType});if(Fe.test(e))return Q.filter(e,i,!n);e=Q.filter(e,i)}return Q.grep(t,function(t){return Q.inArray(t,e)>=0===n})}function c(t){var e=He.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function h(t,e){if(1===e.nodeType&&Q.hasData(t)){var n,i,r,a=Q._data(t),o=Q._data(e,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)Q.event.add(e,n,s[n][i])}o.data&&(o.data=Q.extend({},o.data))}}function d(t,e){var n;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),n=e.nodeName.toLowerCase(),"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),Q.support.html5Clone&&t.innerHTML&&!Q.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ge.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.selected=t.defaultSelected:"input"===n||"textarea"===n?e.defaultValue=t.defaultValue:"script"===n&&e.text!==t.text&&(e.text=t.text),e.removeAttribute(Q.expando))}function f(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function v(t){Ge.test(t.type)&&(t.defaultChecked=t.checked)}function m(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=yn.length;r--;)if(e=yn[r]+n,e in t)return e;return i}function g(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)}function y(t,e){for(var n,i,r=[],a=0,o=t.length;o>a;a++)n=t[a],n.style&&(r[a]=Q._data(n,"olddisplay"),e?(r[a]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&g(n)&&(r[a]=Q._data(n,"olddisplay",w(n.nodeName)))):(i=nn(n,"display"),r[a]||"none"===i||Q._data(n,"olddisplay",i)));for(a=0;o>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[a]||"":"none"));return t}function b(t,e,n){var i=pn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function j(t,e,n,i){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=Q.css(t,n+gn[r],!0)),i?("content"===n&&(a-=parseFloat(nn(t,"padding"+gn[r]))||0),"margin"!==n&&(a-=parseFloat(nn(t,"border"+gn[r]+"Width"))||0)):(a+=parseFloat(nn(t,"padding"+gn[r]))||0,"padding"!==n&&(a+=parseFloat(nn(t,"border"+gn[r]+"Width"))||0));return a}function x(t,e,n){var i="width"===e?t.offsetWidth:t.offsetHeight,r=!0,a=Q.support.boxSizing&&"border-box"===Q.css(t,"boxSizing");if(0>=i||null==i){if(i=nn(t,e),(0>i||null==i)&&(i=t.style[e]),hn.test(i))return i;r=a&&(Q.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+j(t,e,n||(a?"border":"content"),r)+"px"}function w(t){if(fn[t])return fn[t];var e=Q("<"+t+">").appendTo(B.body),n=e.css("display");return e.remove(),("none"===n||""===n)&&(rn=B.body.appendChild(rn||Q.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0})),an&&rn.createElement||(an=(rn.contentWindow||rn.contentDocument).document,an.write("<!doctype html><html><body>"),an.close()),e=an.body.appendChild(an.createElement(t)),n=nn(e,"display"),B.body.removeChild(rn)),fn[t]=n,n}function _(t,e,n,i){var r;if(Q.isArray(e))Q.each(e,function(e,r){n||xn.test(t)?i(t,r):_(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Q.type(e))i(t,e);else for(r in e)_(t+"["+r+"]",e[r],n,i)}function C(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r,a,o=e.toLowerCase().split(ee),s=0,l=o.length;if(Q.isFunction(n))for(;l>s;s++)i=o[s],a=/^\+/.test(i),a&&(i=i.substr(1)||"*"),r=t[i]=t[i]||[],r[a?"unshift":"push"](n)}}function T(t,n,i,r,a,o){a=a||n.dataTypes[0],o=o||{},o[a]=!0;for(var s,l=t[a],u=0,c=l?l.length:0,p=t===Ln;c>u&&(p||!s);u++)s=l[u](n,i,r),"string"==typeof s&&(!p||o[s]?s=e:(n.dataTypes.unshift(s),s=T(t,n,i,r,s,o)));return!p&&s||o["*"]||(s=T(t,n,i,r,"*",o)),s}function k(t,n){var i,r,a=Q.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((a[i]?t:r||(r={}))[i]=n[i]);r&&Q.extend(!0,t,r)}function E(t,n,i){var r,a,o,s,l=t.contents,u=t.dataTypes,c=t.responseFields;for(a in c)a in i&&(n[c[a]]=i[a]);for(;"*"===u[0];)u.shift(),r===e&&(r=t.mimeType||n.getResponseHeader("content-type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){u.unshift(a);break}if(u[0]in i)o=u[0];else{for(a in i){if(!u[0]||t.converters[a+" "+u[0]]){o=a;break}s||(s=a)}o=o||s}return o?(o!==u[0]&&u.unshift(o),i[o]):void 0}function S(t,e){var n,i,r,a,o=t.dataTypes.slice(),s=o[0],l={},u=0;if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),o[1])for(n in t.converters)l[n.toLowerCase()]=t.converters[n];for(;r=o[++u];)if("*"!==r){if("*"!==s&&s!==r){if(n=l[s+" "+r]||l["* "+r],!n)for(i in l)if(a=i.split(" "),a[1]===r&&(n=l[s+" "+a[0]]||l["* "+a[0]])){n===!0?n=l[i]:l[i]!==!0&&(r=a[0],o.splice(u--,0,r));break}if(n!==!0)if(n&&t["throws"])e=n(e);else try{e=n(e)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+r}}}s=r}return{state:"success",data:e}}function N(){try{return new t.XMLHttpRequest}catch(e){}}function A(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function P(){return setTimeout(function(){Jn=e},0),Jn=Q.now()}function M(t,e){Q.each(e,function(e,n){for(var i=(ti[e]||[]).concat(ti["*"]),r=0,a=i.length;a>r;r++)if(i[r].call(t,e,n))return})}function I(t,e,n){var i,r=0,a=Zn.length,o=Q.Deferred().always(function(){delete s.elem}),s=function(){for(var e=Jn||P(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),r=0,a=l.tweens.length;a>r;r++)l.tweens[r].run(i);return o.notifyWith(t,[l,i,n]),1>i&&a?n:(o.resolveWith(t,[l]),!1)},l=o.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Jn||P(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Q.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){for(var n=0,i=e?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return e?o.resolveWith(t,[l,e]):o.rejectWith(t,[l,e]),this}}),u=l.props;for($(u,l.opts.specialEasing);a>r;r++)if(i=Zn[r].call(l,t,u,l.opts))return i;return M(l,u),Q.isFunction(l.opts.start)&&l.opts.start.call(t,l),Q.fx.timer(Q.extend(s,{anim:l,queue:l.opts.queue,elem:t})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function $(t,e){var n,i,r,a,o;for(n in t)if(i=Q.camelCase(n),r=e[i],a=t[n],Q.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),o=Q.cssHooks[i],o&&"expand"in o){a=o.expand(a),delete t[i];for(n in a)n in t||(t[n]=a[n],e[n]=r)}else e[i]=r}function O(t,e,n){var i,r,a,o,s,l,u,c,p=this,h=t.style,d={},f=[],v=t.nodeType&&g(t);n.queue||(u=Q._queueHooks(t,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,Q.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===Q.css(t,"display")&&"none"===Q.css(t,"float")&&(Q.support.inlineBlockNeedsLayout&&"inline"!==w(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",Q.support.shrinkWrapBlocks||p.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(a=e[i],Yn.exec(a)){if(delete e[i],a===(v?"hide":"show"))continue;f.push(i)}if(o=f.length)for(s=Q._data(t,"fxshow")||Q._data(t,"fxshow",{}),v?Q(t).show():p.done(function(){Q(t).hide()}),p.done(function(){var e;Q.removeData(t,"fxshow",!0);for(e in d)Q.style(t,e,d[e])}),i=0;o>i;i++)r=f[i],l=p.createTween(r,v?s[r]:0),d[r]=s[r]||Q.style(t,r),r in s||(s[r]=l.start,v&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}function F(t,e,n,i,r){return new F.prototype.init(t,e,n,i,r)}function L(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=gn[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function D(t){return Q.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var H,R,B=t.document,z=t.location,U=t.navigator,q=t.jQuery,W=t.$,V=Array.prototype.push,X=Array.prototype.slice,J=Array.prototype.indexOf,G=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,K=String.prototype.trim,Q=function(t,e){return new Q.fn.init(t,e,H)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,te=/\S/,ee=/\s+/,ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ie=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^[\],:{}\s]*$/,oe=/(?:^|:|,)(?:\s*\[)+/g,se=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,le=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ue=/^-ms-/,ce=/-([\da-z])/gi,pe=function(t,e){return(e+"").toUpperCase()},he=function(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",he,!1),Q.ready()):"complete"===B.readyState&&(B.detachEvent("onreadystatechange",he),Q.ready())},de={};Q.fn=Q.prototype={constructor:Q,init:function(t,n,i){var r,a,o;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ie.exec(t),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(r[1])return n=n instanceof Q?n[0]:n,o=n&&n.nodeType?n.ownerDocument||n:B,t=Q.parseHTML(r[1],o,!0),re.test(r[1])&&Q.isPlainObject(n)&&this.attr.call(t,n,!0),Q.merge(this,t);if(a=B.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return i.find(t);this.length=1,this[0]=a}return this.context=B,this.selector=t,this}return Q.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return X.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,n){var i=Q.merge(this.constructor(),t);return i.prevObject=this,i.context=this.context,"find"===e?i.selector=this.selector+(this.selector?" ":"")+n:e&&(i.selector=this.selector+"."+e+"("+n+")"),i},each:function(t,e){return Q.each(this,t,e)},ready:function(t){return Q.ready.promise().done(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(X.apply(this,arguments),"slice",X.call(arguments).join(","))},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},Q.fn.init.prototype=Q.fn,Q.extend=Q.fn.extend=function(){var t,n,i,r,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||Q.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(t=arguments[l]))for(n in t)i=s[n],r=t[n],s!==r&&(c&&r&&(Q.isPlainObject(r)||(a=Q.isArray(r)))?(a?(a=!1,o=i&&Q.isArray(i)?i:[]):o=i&&Q.isPlainObject(i)?i:{},s[n]=Q.extend(c,o,r)):r!==e&&(s[n]=r));return s},Q.extend({noConflict:function(e){return t.$===Q&&(t.$=W),e&&t.jQuery===Q&&(t.jQuery=q),Q},isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){if(t===!0?!--Q.readyWait:!Q.isReady){if(!B.body)return setTimeout(Q.ready,1);Q.isReady=!0,t!==!0&&--Q.readyWait>0||(R.resolveWith(B,[Q]),Q.fn.trigger&&Q(B).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray||function(t){return"array"===Q.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):de[G.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==Q.type(t)||t.nodeType||Q.isWindow(t))return!1;try{if(t.constructor&&!Y.call(t,"constructor")&&!Y.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in t);return i===e||Y.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,n){var i;return t&&"string"==typeof t?("boolean"==typeof e&&(n=e,e=0),e=e||B,(i=re.exec(t))?[e.createElement(i[1])]:(i=Q.buildFragment([t],e,n?null:[]),Q.merge([],(i.cacheable?Q.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=Q.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):ae.test(e.replace(se,"@").replace(le,"]").replace(oe,""))?new Function("return "+e)():(Q.error("Invalid JSON: "+e),void 0)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{t.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(a){i=e}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(e){e&&te.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ue,"ms-").replace(ce,pe)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,n,i){var r,a=0,o=t.length,s=o===e||Q.isFunction(t);if(i)if(s){for(r in t)if(n.apply(t[r],i)===!1)break}else for(;o>a&&n.apply(t[a++],i)!==!1;);else if(s){for(r in t)if(n.call(t[r],r,t[r])===!1)break}else for(;o>a&&n.call(t[a],a,t[a++])!==!1;);return t},trim:K&&!K.call("﻿ ")?function(t){return null==t?"":K.call(t)}:function(t){return null==t?"":t.toString().replace(ne,"")},makeArray:function(t,e){var n,i=e||[];return null!=t&&(n=Q.type(t),null==t.length||"string"===n||"function"===n||"regexp"===n||Q.isWindow(t)?V.call(i,t):Q.merge(i,t)),i},inArray:function(t,e,n){var i;if(e){if(J)return J.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var i=n.length,r=t.length,a=0;if("number"==typeof i)for(;i>a;a++)t[r++]=n[a];else for(;n[a]!==e;)t[r++]=n[a++];return t.length=r,t},grep:function(t,e,n){var i,r=[],a=0,o=t.length;for(n=!!n;o>a;a++)i=!!e(t[a],a),n!==i&&r.push(t[a]);return r},map:function(t,n,i){var r,a,o=[],s=0,l=t.length,u=t instanceof Q||l!==e&&"number"==typeof l&&(l>0&&t[0]&&t[l-1]||0===l||Q.isArray(t));if(u)for(;l>s;s++)r=n(t[s],s,i),null!=r&&(o[o.length]=r);else for(a in t)r=n(t[a],a,i),null!=r&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(t,n){var i,r,a;return"string"==typeof n&&(i=t[n],n=t,t=i),Q.isFunction(t)?(r=X.call(arguments,2),a=function(){return t.apply(n,r.concat(X.call(arguments)))},a.guid=t.guid=t.guid||a.guid||Q.guid++,a):e},access:function(t,n,i,r,a,o,s){var l,u=null==i,c=0,p=t.length;if(i&&"object"==typeof i){for(c in i)Q.access(t,n,c,i[c],1,o,r);a=1}else if(r!==e){if(l=s===e&&Q.isFunction(r),u&&(l?(l=n,n=function(t,e,n){return l.call(Q(t),n)}):(n.call(t,r),n=null)),n)for(;p>c;c++)n(t[c],i,l?r.call(t[c],c,n(t[c],i)):r,s);a=1}return a?t:u?n.call(t):p?n(t[0],i):o},now:function(){return(new Date).getTime()}}),Q.ready.promise=function(e){if(!R)if(R=Q.Deferred(),"complete"===B.readyState)setTimeout(Q.ready,1);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",he,!1),t.addEventListener("load",Q.ready,!1);else{B.attachEvent("onreadystatechange",he),t.attachEvent("onload",Q.ready);var n=!1;try{n=null==t.frameElement&&B.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!Q.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}Q.ready()}}()}return R.promise(e)},Q.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){de["[object "+e+"]"]=e.toLowerCase()}),H=Q(B);var fe={};Q.Callbacks=function(t){t="string"==typeof t?fe[t]||n(t):Q.extend({},t);var i,r,a,o,s,l,u=[],c=!t.once&&[],p=function(e){for(i=t.memory&&e,r=!0,l=o||0,o=0,s=u.length,a=!0;u&&s>l;l++)if(u[l].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}a=!1,u&&(c?c.length&&p(c.shift()):i?u=[]:h.disable())},h={add:function(){if(u){var e=u.length;!function n(e){Q.each(e,function(e,i){var r=Q.type(i);"function"!==r||t.unique&&h.has(i)?i&&i.length&&"string"!==r&&n(i):u.push(i)})}(arguments),a?s=u.length:i&&(o=e,p(i))}return this},remove:function(){return u&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,u,n))>-1;)u.splice(n,1),a&&(s>=n&&s--,l>=n&&l--)}),this},has:function(t){return Q.inArray(t,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=i=e,this},disabled:function(){return!u},lock:function(){return c=e,i||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!u||r&&!c||(a?c.push(e):p(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,i){var a=i[0],o=t[e];r[i[1]](Q.isFunction(o)?function(){var t=o.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n:this,[t])}:n[a])}),t=null}).promise()},promise:function(t){return"object"==typeof t?Q.extend(t,i):i}},r={};return i.pipe=i.then,Q.each(e,function(t,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=o.fire,r[a[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,a=X.call(arguments),o=a.length,s=1!==o||t&&Q.isFunction(t.promise)?o:0,l=1===s?t:Q.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?X.call(arguments):r,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&Q.isFunction(a[r].promise)?a[r].promise().done(u(r,i,a)).fail(l.reject).progress(u(r,n,e)):--s;return s||l.resolveWith(i,a),l.promise()}}),Q.support=function(){var e,n,i,r,a,o,s,l,u,c,p,h=B.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],i.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length||!i)return{};r=B.createElement("select"),a=r.appendChild(B.createElement("option")),o=h.getElementsByTagName("input")[0],e={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===o.value,optSelected:a.selected,getSetAttribute:"t"!==h.className,enctype:!!B.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==B.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===B.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!a.disabled;try{delete h.test}catch(d){e.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",p=function(){e.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",p)),o=B.createElement("input"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),h.appendChild(o),s=B.createDocumentFragment(),s.appendChild(h.lastChild),e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=o.checked,s.removeChild(o),s.appendChild(h),h.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in h,c||(h.setAttribute(l,"return;"),c="function"==typeof h[l]),e[u+"Bubbles"]=c;return Q(function(){var n,i,r,a,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=B.getElementsByTagName("body")[0];s&&(n=B.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),i=B.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===i.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(i,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(i,null)||{width:"4px"}).width,a=B.createElement("div"),a.style.cssText=i.style.cssText=o,a.style.marginRight=a.style.width="0",i.style.width="1px",i.appendChild(a),e.reliableMarginRight=!parseFloat((t.getComputedStyle(a,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),s.removeChild(n),n=i=r=a=null)}),s.removeChild(h),n=i=r=a=o=s=h=null,e}();var ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,me=/([A-Z])/g;Q.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Q.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?Q.cache[t[Q.expando]]:t[Q.expando],!!t&&!r(t)},data:function(t,n,i,r){if(Q.acceptData(t)){var a,o,s=Q.expando,l="string"==typeof n,u=t.nodeType,c=u?Q.cache:t,p=u?t[s]:t[s]&&s;if(p&&c[p]&&(r||c[p].data)||!l||i!==e)return p||(u?t[s]=p=Q.deletedIds.pop()||++Q.uuid:p=s),c[p]||(c[p]={},u||(c[p].toJSON=Q.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[p]=Q.extend(c[p],n):c[p].data=Q.extend(c[p].data,n)),a=c[p],r||(a.data||(a.data={}),a=a.data),i!==e&&(a[Q.camelCase(n)]=i),l?(o=a[n],null==o&&(o=a[Q.camelCase(n)])):o=a,o}},removeData:function(t,e,n){if(Q.acceptData(t)){var i,a,o,s=t.nodeType,l=s?Q.cache:t,u=s?t[Q.expando]:Q.expando;if(l[u]){if(e&&(i=n?l[u]:l[u].data)){Q.isArray(e)||(e in i?e=[e]:(e=Q.camelCase(e),e=e in i?[e]:e.split(" ")));for(a=0,o=e.length;o>a;a++)delete i[e[a]];if(!(n?r:Q.isEmptyObject)(i))return}(n||(delete l[u].data,r(l[u])))&&(s?Q.cleanData([t],!0):Q.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(t,e,n){return Q.data(t,e,n,!0)},acceptData:function(t){var e=t.nodeName&&Q.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),Q.fn.extend({data:function(t,n){var r,a,o,s,l,u=this[0],c=0,p=null;if(t===e){if(this.length&&(p=Q.data(u),1===u.nodeType&&!Q._data(u,"parsedAttrs"))){for(o=u.attributes,l=o.length;l>c;c++)s=o[c].name,0===s.indexOf("data-")&&(s=Q.camelCase(s.substring(5)),i(u,s,p[s]));Q._data(u,"parsedAttrs",!0)}return p}return"object"==typeof t?this.each(function(){Q.data(this,t)}):(r=t.split(".",2),r[1]=r[1]?"."+r[1]:"",a=r[1]+"!",Q.access(this,function(n){return n===e?(p=this.triggerHandler("getData"+a,[r[0]]),p===e&&u&&(p=Q.data(u,t),p=i(u,t,p)),p===e&&r[1]?this.data(r[0]):p):(r[1]=n,this.each(function(){var e=Q(this);e.triggerHandler("setData"+a,r),Q.data(this,t,n),e.triggerHandler("changeData"+a,r)}),void 0)},null,n,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){Q.removeData(this,t)})}}),Q.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Q._data(t,e),n&&(!i||Q.isArray(n)?i=Q._data(t,e,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),i=n.length,r=n.shift(),a=Q._queueHooks(t,e),o=function(){Q.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q._data(t,n)||Q._data(t,n,{empty:Q.Callbacks("once memory").add(function(){Q.removeData(t,e+"queue",!0),Q.removeData(t,n,!0)})})}}),Q.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),arguments.length<i?Q.queue(this[0],t):n===e?this:this.each(function(){var e=Q.queue(this,t,n);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},delay:function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,r=1,a=Q.Deferred(),o=this,s=this.length,l=function(){--r||a.resolveWith(o,[o])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";s--;)i=Q._data(o[s],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),a.promise(n)}});var ge,ye,be,je=/[\t\r\n]/g,xe=/\r/g,we=/^(?:button|input)$/i,_e=/^(?:button|input|object|select|textarea)$/i,Ce=/^a(?:rea|)$/i,Te=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ke=Q.support.getSetAttribute;Q.fn.extend({attr:function(t,e){return Q.access(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})},prop:function(t,e){return Q.access(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return t=Q.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,i,r,a,o,s;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(ee),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==e.length){for(a=" "+r.className+" ",o=0,s=e.length;s>o;o++)~a.indexOf(" "+e[o]+" ")||(a+=e[o]+" ");r.className=Q.trim(a)}else r.className=t;return this},removeClass:function(t){var n,i,r,a,o,s,l;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(n=(t||"").split(ee),s=0,l=this.length;l>s;s++)if(r=this[s],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(je," "),a=0,o=n.length;o>a;a++)for(;i.indexOf(" "+n[a]+" ")>-1;)i=i.replace(" "+n[a]+" "," ");r.className=t?Q.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return Q.isFunction(t)?this.each(function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var r,a=0,o=Q(this),s=e,l=t.split(ee);r=l[a++];)s=i?s:!o.hasClass(r),o[s?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Q._data(this,"__className__",this.className),this.className=this.className||t===!1?"":Q._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(je," ").indexOf(e)>-1)return!0;return!1},val:function(t){var n,i,r,a=this[0];{if(arguments.length)return r=Q.isFunction(t),this.each(function(i){var a,o=Q(this);1===this.nodeType&&(a=r?t.call(this,i,o.val()):t,null==a?a="":"number"==typeof a?a+="":Q.isArray(a)&&(a=Q.map(a,function(t){return null==t?"":t+""})),n=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==e||(this.value=a))});if(a)return n=Q.valHooks[a.type]||Q.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(a,"value"))!==e?i:(i=a.value,"string"==typeof i?i.replace(xe,""):null==i?"":i)}}}),Q.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,n,i,r,a=t.selectedIndex,o=[],s=t.options,l="select-one"===t.type;if(0>a)return null;for(n=l?a:0,i=l?a+1:s.length;i>n;n++)if(r=s[n],!(!r.selected||(Q.support.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&Q.nodeName(r.parentNode,"optgroup"))){if(e=Q(r).val(),l)return e;o.push(e)}return l&&!o.length&&s.length?Q(s[a]).val():o},set:function(t,e){var n=Q.makeArray(e);return Q(t).find("option").each(function(){this.selected=Q.inArray(Q(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attrFn:{},attr:function(t,n,i,r){var a,o,s,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return r&&Q.isFunction(Q.fn[n])?Q(t)[n](i):"undefined"==typeof t.getAttribute?Q.prop(t,n,i):(s=1!==l||!Q.isXMLDoc(t),s&&(n=n.toLowerCase(),o=Q.attrHooks[n]||(Te.test(n)?ye:ge)),i!==e?null===i?(Q.removeAttr(t,n),void 0):o&&"set"in o&&s&&(a=o.set(t,i,n))!==e?a:(t.setAttribute(n,""+i),i):o&&"get"in o&&s&&null!==(a=o.get(t,n))?a:(a=t.getAttribute(n),null===a?e:a))},removeAttr:function(t,e){var n,i,r,a,o=0;if(e&&1===t.nodeType)for(i=e.split(ee);o<i.length;o++)r=i[o],r&&(n=Q.propFix[r]||r,a=Te.test(r),a||Q.attr(t,r,""),t.removeAttribute(ke?r:n),a&&n in t&&(t[n]=!1))},attrHooks:{type:{set:function(t,e){if(we.test(t.nodeName)&&t.parentNode)Q.error("type property can't be changed");else if(!Q.support.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}},value:{get:function(t,e){return ge&&Q.nodeName(t,"button")?ge.get(t,e):e in t?t.value:null},set:function(t,e,n){return ge&&Q.nodeName(t,"button")?ge.set(t,e,n):(t.value=e,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,n,i){var r,a,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Q.isXMLDoc(t),o&&(n=Q.propFix[n]||n,a=Q.propHooks[n]),i!==e?a&&"set"in a&&(r=a.set(t,i,n))!==e?r:t[n]=i:a&&"get"in a&&null!==(r=a.get(t,n))?r:t[n]},propHooks:{tabIndex:{get:function(t){var n=t.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):_e.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:e}}}}),ye={get:function(t,n){var i,r=Q.prop(t,n);return r===!0||"boolean"!=typeof r&&(i=t.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():e},set:function(t,e,n){var i;
return e===!1?Q.removeAttr(t,n):(i=Q.propFix[n]||n,i in t&&(t[i]=!0),t.setAttribute(n,n.toLowerCase())),n}},ke||(be={name:!0,id:!0,coords:!0},ge=Q.valHooks.button={get:function(t,n){var i;return i=t.getAttributeNode(n),i&&(be[n]?""!==i.value:i.specified)?i.value:e},set:function(t,e,n){var i=t.getAttributeNode(n);return i||(i=B.createAttribute(n),t.setAttributeNode(i)),i.value=e+""}},Q.each(["width","height"],function(t,e){Q.attrHooks[e]=Q.extend(Q.attrHooks[e],{set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}})}),Q.attrHooks.contenteditable={get:ge.get,set:function(t,e,n){""===e&&(e="false"),ge.set(t,e,n)}}),Q.support.hrefNormalized||Q.each(["href","src","width","height"],function(t,n){Q.attrHooks[n]=Q.extend(Q.attrHooks[n],{get:function(t){var i=t.getAttribute(n,2);return null===i?e:i}})}),Q.support.style||(Q.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),Q.support.optSelected||(Q.propHooks.selected=Q.extend(Q.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),Q.support.enctype||(Q.propFix.enctype="encoding"),Q.support.checkOn||Q.each(["radio","checkbox"],function(){Q.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]=Q.extend(Q.valHooks[this],{set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}})});var Ee=/^(?:textarea|input|select)$/i,Se=/^([^\.]*|)(?:\.(.+)|)$/,Ne=/(?:^|\s)hover(\.\S+|)\b/,Ae=/^key/,Pe=/^(?:mouse|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Ie=function(t){return Q.event.special.hover?t:t.replace(Ne,"mouseenter$1 mouseleave$1")};Q.event={add:function(t,n,i,r,a){var o,s,l,u,c,p,h,d,f,v,m;if(3!==t.nodeType&&8!==t.nodeType&&n&&i&&(o=Q._data(t))){for(i.handler&&(f=i,i=f.handler,a=f.selector),i.guid||(i.guid=Q.guid++),l=o.events,l||(o.events=l={}),s=o.handle,s||(o.handle=s=function(t){return"undefined"==typeof Q||t&&Q.event.triggered===t.type?e:Q.event.dispatch.apply(s.elem,arguments)},s.elem=t),n=Q.trim(Ie(n)).split(" "),u=0;u<n.length;u++)c=Se.exec(n[u])||[],p=c[1],h=(c[2]||"").split(".").sort(),m=Q.event.special[p]||{},p=(a?m.delegateType:m.bindType)||p,m=Q.event.special[p]||{},d=Q.extend({type:p,origType:c[1],data:r,handler:i,guid:i.guid,selector:a,namespace:h.join(".")},f),v=l[p],v||(v=l[p]=[],v.delegateCount=0,m.setup&&m.setup.call(t,r,h,s)!==!1||(t.addEventListener?t.addEventListener(p,s,!1):t.attachEvent&&t.attachEvent("on"+p,s))),m.add&&(m.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),a?v.splice(v.delegateCount++,0,d):v.push(d),Q.event.global[p]=!0;t=null}},global:{},remove:function(t,e,n,i,r){var a,o,s,l,u,c,p,h,d,f,v,m=Q.hasData(t)&&Q._data(t);if(m&&(h=m.events)){for(e=Q.trim(Ie(e||"")).split(" "),a=0;a<e.length;a++)if(o=Se.exec(e[a])||[],s=l=o[1],u=o[2],s){for(d=Q.event.special[s]||{},s=(i?d.delegateType:d.bindType)||s,f=h[s]||[],c=f.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p=0;p<f.length;p++)v=f[p],!r&&l!==v.origType||n&&n.guid!==v.guid||u&&!u.test(v.namespace)||i&&i!==v.selector&&("**"!==i||!v.selector)||(f.splice(p--,1),v.selector&&f.delegateCount--,d.remove&&d.remove.call(t,v));0===f.length&&c!==f.length&&(d.teardown&&d.teardown.call(t,u,m.handle)!==!1||Q.removeEvent(t,s,m.handle),delete h[s])}else for(s in h)Q.event.remove(t,s+e[a],n,i,!0);Q.isEmptyObject(h)&&(delete m.handle,Q.removeData(t,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,a){if(!r||3!==r.nodeType&&8!==r.nodeType){var o,s,l,u,c,p,h,d,f,v,m=n.type||n,g=[];if(!Me.test(m+Q.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort()),r&&!Q.event.customEvent[m]||Q.event.global[m]))if(n="object"==typeof n?n[Q.expando]?n:new Q.Event(m,n):new Q.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p=m.indexOf(":")<0?"on"+m:"",r){if(n.result=e,n.target||(n.target=r),i=null!=i?Q.makeArray(i):[],i.unshift(n),h=Q.event.special[m]||{},!h.trigger||h.trigger.apply(r,i)!==!1){if(f=[[r,h.bindType||m]],!a&&!h.noBubble&&!Q.isWindow(r)){for(v=h.delegateType||m,u=Me.test(v+m)?r:r.parentNode,c=r;u;u=u.parentNode)f.push([u,v]),c=u;c===(r.ownerDocument||B)&&f.push([c.defaultView||c.parentWindow||t,v])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)u=f[l][0],n.type=f[l][1],d=(Q._data(u,"events")||{})[n.type]&&Q._data(u,"handle"),d&&d.apply(u,i),d=p&&u[p],d&&Q.acceptData(u)&&d.apply(u,i)===!1&&n.preventDefault();return n.type=m,a||n.isDefaultPrevented()||h._default&&h._default.apply(r.ownerDocument,i)!==!1||"click"===m&&Q.nodeName(r,"a")||!Q.acceptData(r)||p&&r[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!Q.isWindow(r)&&(c=r[p],c&&(r[p]=null),Q.event.triggered=m,r[m](),Q.event.triggered=e,c&&(r[p]=c)),n.result}}else{o=Q.cache;for(l in o)o[l].events&&o[l].events[m]&&Q.event.trigger(n,i,o[l].handle.elem,!0)}}},dispatch:function(n){n=Q.event.fix(n||t.event);var i,r,a,o,s,l,u,c,p,h=(Q._data(this,"events")||{})[n.type]||[],d=h.delegateCount,f=[].slice.call(arguments),v=!n.exclusive&&!n.namespace,m=Q.event.special[n.type]||{},g=[];if(f[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(d&&(!n.button||"click"!==n.type))for(a=n.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==n.type){for(s={},u=[],i=0;d>i;i++)c=h[i],p=c.selector,s[p]===e&&(s[p]=Q(p,this).index(a)>=0),s[p]&&u.push(c);u.length&&g.push({elem:a,matches:u})}for(h.length>d&&g.push({elem:this,matches:h.slice(d)}),i=0;i<g.length&&!n.isPropagationStopped();i++)for(l=g[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(v||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,o=((Q.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,f),o!==e&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,r,a,o=n.button,s=n.fromElement;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||B,r=i.documentElement,a=i.body,t.pageX=n.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),t.pageY=n.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?n.toElement:s),t.which||o===e||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,i=t,r=Q.event.fixHooks[t.type]||{},a=r.props?this.props.concat(r.props):this.props;for(t=Q.Event(i),e=a.length;e;)n=a[--e],t[n]=i[n];return t.target||(t.target=i.srcElement||B),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,i):t},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,n){Q.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,n,i){var r=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,e):Q.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.event.handle=Q.event.dispatch,Q.removeEvent=B.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?o:a):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),this[Q.expando]=!0,void 0):new Q.Event(t,e)},Q.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},Q.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,a=t.handleObj;return a.selector,(!r||r!==i&&!Q.contains(i,r))&&(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),Q.support.submitBubbles||(Q.event.special.submit={setup:function(){return Q.nodeName(this,"form")?!1:(Q.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,i=Q.nodeName(n,"input")||Q.nodeName(n,"button")?n.form:e;i&&!Q._data(i,"_submit_attached")&&(Q.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),Q._data(i,"_submit_attached",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&Q.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return Q.nodeName(this,"form")?!1:(Q.event.remove(this,"._submit"),void 0)}}),Q.support.changeBubbles||(Q.event.special.change={setup:function(){return Ee.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Q.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),Q.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),Q.event.simulate("change",this,t,!0)})),!1):(Q.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ee.test(e.nodeName)&&!Q._data(e,"_change_attached")&&(Q.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||Q.event.simulate("change",this.parentNode,t,!0)}),Q._data(e,"_change_attached",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Q.event.remove(this,"._change"),!Ee.test(this.nodeName)}}),Q.support.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){0===n++&&B.addEventListener(t,i,!0)},teardown:function(){0===--n&&B.removeEventListener(t,i,!0)}}}),Q.fn.extend({on:function(t,n,i,r,o){var s,l;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(l in t)this.on(l,n,i,t[l],o);return this}if(null==i&&null==r?(r=n,i=n=e):null==r&&("string"==typeof n?(r=i,i=e):(r=i,i=n,n=e)),r===!1)r=a;else if(!r)return this;return 1===o&&(s=r,r=function(t){return Q().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,r,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Q(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=a),this.each(function(){Q.event.remove(this,t,i,n)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,n){return Q(this.context).on(t,this.selector,e,n),this},die:function(t,e){return Q(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1==arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?Q.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,n=t.guid||Q.guid++,i=0,r=function(n){var r=(Q._data(this,"lastToggle"+t.guid)||0)%i;return Q._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),e[r].apply(this,arguments)||!1};for(r.guid=n;i<e.length;)e[i++].guid=n;return this.click(r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return null==n&&(n=t,t=null),arguments.length>0?this.on(e,null,t,n):this.trigger(e)},Ae.test(e)&&(Q.event.fixHooks[e]=Q.event.keyHooks),Pe.test(e)&&(Q.event.fixHooks[e]=Q.event.mouseHooks)}),function(t,e){function n(t,e,n,i){n=n||[],e=e||S;var r,a,o,s,l=e.nodeType;if(1!==l&&9!==l)return[];if(!t||"string"!=typeof t)return n;if(o=j(e),!o&&!i&&(r=G.exec(t)))if(s=r[1]){if(9===l){if(a=e.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(s))&&x(e,a)&&a.id===s)return n.push(a),n}else{if(r[2])return M.apply(n,P.call(e.getElementsByTagName(t),0)),n;if((s=r[3])&&se&&e.getElementsByClassName)return M.apply(n,P.call(e.getElementsByClassName(s),0)),n}return f(t,e,n,i,o)}function i(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function r(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function a(t,e,n){if(t===e)return n;for(var i=t.nextSibling;i;){if(i===e)return-1;i=i.nextSibling}return 1}function o(t,e,i,r){var a,o,s,l,u,c,p,h,d,f,v=!i&&e!==S,m=(v?"<s>":"")+t.replace(W,"$1<s>"),g=F[E][m];if(g)return r?0:P.call(g,0);for(u=t,c=[],h=0,d=y.preFilter,f=y.filter;u;){(!a||(o=V.exec(u)))&&(o&&(u=u.slice(o[0].length),s.selector=p),c.push(s=[]),p="",v&&(u=" "+u)),a=!1,(o=X.exec(u))&&(p+=o[0],u=u.slice(o[0].length),a=s.push({part:o.pop().replace(W," "),string:o[0],captures:o}));for(l in f)!(o=ne[l].exec(u))||d[l]&&!(o=d[l](o,e,i))||(p+=o[0],u=u.slice(o[0].length),a=s.push({part:l,string:o.shift(),captures:o}));if(!a)break}return p&&(s.selector=p),r?u.length:u?n.error(t):P.call(F(m,c),0)}function s(t,e,n,i){var r=e.dir,a=A++;return t||(t=function(t){return t===n}),e.first?function(e){for(;e=e[r];)if(1===e.nodeType)return t(e)&&e}:i?function(e){for(;e=e[r];)if(1===e.nodeType&&t(e))return e}:function(e){for(var n,i=a+"."+v,o=i+"."+m;e=e[r];)if(1===e.nodeType){if((n=e[E])===o)return e.sizset;if("string"==typeof n&&0===n.indexOf(i)){if(e.sizset)return e}else{if(e[E]=o,t(e))return e.sizset=!0,e;e.sizset=!1}}}}function l(t,e){return t?function(n){var i=e(n);return i&&t(i===!0?n:i)}:e}function u(t,e,n){for(var i,r,a=0;i=t[a];a++)r=y.relative[i.part]?s(r,y.relative[i.part],e,n):l(r,y.filter[i.part].apply(null,i.captures.concat(e,n)));return r}function c(t){return function(e){for(var n,i=0;n=t[i];i++)if(n(e))return!0;return!1}}function p(t,e,i,r){for(var a=0,o=e.length;o>a;a++)n(t,e[a],i,r)}function h(t,e,i,r,a,o){var s,l=y.setFilters[e.toLowerCase()];return l||n.error(e),(t||!(s=a))&&p(t||"*",r,s=[],a),s.length>0?l(s,i,o):[]}function d(t,i,r,a){for(var o,s,l,u,c,d,f,v,m,g,y,b,j,x=0,w=t.length,_=ne.POS,C=new RegExp("^"+_.source+"(?!"+D+")","i"),T=function(){for(var t=1,n=arguments.length-2;n>t;t++)arguments[t]===e&&(m[t]=e)};w>x;x++){for(o=t[x],s="",v=a,l=0,u=o.length;u>l;l++){if(c=o[l],d=c.string,"PSEUDO"===c.part)for(_.exec(""),f=0;m=_.exec(d);)g=!0,y=_.lastIndex=m.index+m[0].length,y>f&&(s+=d.slice(f,m.index),f=y,b=[i],X.test(s)&&(v&&(b=v),v=a),(j=K.test(s))&&(s=s.slice(0,-5).replace(X,"$&*"),f++),m.length>1&&m[0].replace(C,T),v=h(s,m[1],m[2],b,v,j)),s="";g||(s+=d),g=!1}s?X.test(s)?p(s,v||[i],r,a):n(s,i,r,a?a.concat(v):v):M.apply(r,v)}return 1===w?r:n.uniqueSort(r)}function f(t,e,n,i,r){t=t.replace(W,"$1");var a,s,l,u,c,p,h,f,g,b=o(t,e,r),j=e.nodeType;if(ne.POS.test(t))return d(b,e,n,i);if(i)a=P.call(i,0);else if(1===b.length){if((c=P.call(b[0],0)).length>2&&"ID"===(p=c[0]).part&&9===j&&!r&&y.relative[c[1].part]){if(e=y.find.ID(p.captures[0].replace(ee,""),e,r)[0],!e)return n;t=t.slice(c.shift().string.length)}for(f=(b=Y.exec(c[0].string))&&!b.index&&e.parentNode||e,h="",u=c.length-1;u>=0&&(p=c[u],g=p.part,h=p.string+h,!y.relative[g]);u--)if(y.order.test(g)){if(a=y.find[g](p.captures[0].replace(ee,""),f,r),null==a)continue;t=t.slice(0,t.length-h.length)+h.replace(ne[g],""),t||M.apply(n,P.call(a,0));break}}if(t)for(s=w(t,e,r),v=s.dirruns++,null==a&&(a=y.find.TAG("*",Y.test(t)&&e.parentNode||e)),u=0;l=a[u];u++)m=s.runs++,s(l)&&n.push(l);return n}var v,m,g,y,b,j,x,w,_,C,T=!0,k="undefined",E=("sizcache"+Math.random()).replace(".",""),S=t.document,N=S.documentElement,A=0,P=[].slice,M=[].push,I=function(t,e){return t[E]=e||!0,t},$=function(){var t={},e=[];return I(function(n,i){return e.push(n)>y.cacheLength&&delete t[e.shift()],t[n]=i},t)},O=$(),F=$(),L=$(),D="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",R=H.replace("w","w#"),B="([*^$|!~]?=)",z="\\["+D+"*("+H+")"+D+"*(?:"+B+D+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+D+"*\\]",U=":("+H+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+z+")|[^:]|\\\\.)*|.*))\\)|)",q=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",W=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),V=new RegExp("^"+D+"*,"+D+"*"),X=new RegExp("^"+D+"*([\\x20\\t\\r\\n\\f>+~])"+D+"*"),J=new RegExp(U),G=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Y=/[\x20\t\r\n\f]*[+~]/,K=/:not\($/,Z=/h\d/i,te=/input|select|textarea|button/i,ee=/\\(?!\\)/g,ne={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),NAME:new RegExp("^\\[name=['\"]?("+H+")['\"]?\\]"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),POS:new RegExp(q,"ig"),needsContext:new RegExp("^"+D+"*[>+~]|"+q,"i")},ie=function(t){var e=S.createElement("div");try{return t(e)}catch(n){return!1}finally{e=null}},re=ie(function(t){return t.appendChild(S.createComment("")),!t.getElementsByTagName("*").length}),ae=ie(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==k&&"#"===t.firstChild.getAttribute("href")}),oe=ie(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),se=ie(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),le=ie(function(t){t.id=E+0,t.innerHTML="<a name='"+E+"'></a><div name='"+E+"'></div>",N.insertBefore(t,N.firstChild);var e=S.getElementsByName&&S.getElementsByName(E).length===2+S.getElementsByName(E+0).length;return g=!S.getElementById(E),N.removeChild(t),e});try{P.call(N.childNodes,0)[0].nodeType}catch(ue){P=function(t){for(var e,n=[];e=this[t];t++)n.push(e);return n}}n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){return n(e,null,null,[t]).length>0},b=n.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=b(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=b(e);return n},j=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},x=n.contains=N.contains?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:N.compareDocumentPosition?function(t,e){return e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1},n.attr=function(t,e){var n,i=j(t);return i||(e=e.toLowerCase()),y.attrHandle[e]?y.attrHandle[e](t):oe||i?t.getAttribute(e):(n=t.getAttributeNode(e),n?"boolean"==typeof t[e]?t[e]?e:null:n.specified?n.value:null:null)},y=n.selectors={cacheLength:50,createPseudo:I,match:ne,order:new RegExp("ID|TAG"+(le?"|NAME":"")+(se?"|CLASS":"")),attrHandle:ae?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},find:{ID:g?function(t,e,n){if(typeof e.getElementById!==k&&!n){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}}:function(t,n,i){if(typeof n.getElementById!==k&&!i){var r=n.getElementById(t);return r?r.id===t||typeof r.getAttributeNode!==k&&r.getAttributeNode("id").value===t?[r]:e:[]}},TAG:re?function(t,e){return typeof e.getElementsByTagName!==k?e.getElementsByTagName(t):void 0}:function(t,e){var n=e.getElementsByTagName(t);if("*"===t){for(var i,r=[],a=0;i=n[a];a++)1===i.nodeType&&r.push(i);return r}return n},NAME:function(t,e){return typeof e.getElementsByName!==k?e.getElementsByName(name):void 0},CLASS:function(t,e,n){return typeof e.getElementsByClassName===k||n?void 0:e.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ee,""),t[3]=(t[4]||t[5]||"").replace(ee,""),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1]?(t[2]||n.error(t[0]),t[3]=+(t[3]?t[4]+(t[5]||1):2*("even"===t[2]||"odd"===t[2])),t[4]=+(t[6]+t[7]||"odd"===t[2])):t[2]&&n.error(t[0]),t},PSEUDO:function(t,e,n){var i,r;return ne.CHILD.test(t[0])?null:(t[3]?t[2]=t[3]:(i=t[4])&&(J.test(i)&&(r=o(i,e,n,!0))&&(r=i.indexOf(")",i.length-r)-i.length)&&(i=i.slice(0,r),t[0]=t[0].slice(0,r)),t[2]=i),t.slice(0,3))}},filter:{ID:g?function(t){return t=t.replace(ee,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(ee,""),function(e){var n=typeof e.getAttributeNode!==k&&e.getAttributeNode("id");return n&&n.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(ee,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=O[E][t];return e||(e=O(t,new RegExp("(^|"+D+")"+t+"("+D+"|$)"))),function(t){return e.test(t.className||typeof t.getAttribute!==k&&t.getAttribute("class")||"")}},ATTR:function(t,e,i){return e?function(r){var a=n.attr(r,t),o=a+"";if(null==a)return"!="===e;switch(e){case"=":return o===i;case"!=":return o!==i;case"^=":return i&&0===o.indexOf(i);case"*=":return i&&o.indexOf(i)>-1;case"$=":return i&&o.substr(o.length-i.length)===i;case"~=":return(" "+o+" ").indexOf(i)>-1;case"|=":return o===i||o.substr(0,i.length+1)===i+"-"}}:function(e){return null!=n.attr(e,t)}},CHILD:function(t,e,n,i){if("nth"===t){var r=A++;return function(t){var e,a,o=0,s=t;if(1===n&&0===i)return!0;if(e=t.parentNode,e&&(e[E]!==r||!t.sizset)){for(s=e.firstChild;s&&(1!==s.nodeType||(s.sizset=++o,s!==t));s=s.nextSibling);e[E]=r}return a=t.sizset-i,0===n?0===a:0===a%n&&a/n>=0}}return function(e){var n=e;switch(t){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===t)return!0;n=e;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(t,e,i,r){var a,o=y.pseudos[t]||y.pseudos[t.toLowerCase()];return o||n.error("unsupported pseudo: "+t),o[E]?o(e,i,r):o.length>1?(a=[t,t,"",e],function(t){return o(t,0,a)}):o}},pseudos:{not:I(function(t,e,n){var i=w(t.replace(W,"$1"),e,n);return function(t){return!i(t)}}),enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!y.pseudos.empty(t)},empty:function(t){var e;for(t=t.firstChild;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},contains:I(function(t){return function(e){return(e.textContent||e.innerText||b(e)).indexOf(t)>-1}}),has:I(function(t){return function(e){return n(t,e).length>0}}),header:function(t){return Z.test(t.nodeName)},text:function(t){var e,n;return"input"===t.nodeName.toLowerCase()&&"text"===(e=t.type)&&(null==(n=t.getAttribute("type"))||n.toLowerCase()===e)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return te.test(t.nodeName)},focus:function(t){var e=t.ownerDocument;return!(t!==e.activeElement||e.hasFocus&&!e.hasFocus()||!t.type&&!t.href)},active:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e,n){return n?t.slice(1):[t[0]]},last:function(t,e,n){var i=t.pop();return n?t:[i]},even:function(t,e,n){for(var i=[],r=n?1:0,a=t.length;a>r;r+=2)i.push(t[r]);return i},odd:function(t,e,n){for(var i=[],r=n?0:1,a=t.length;a>r;r+=2)i.push(t[r]);return i},lt:function(t,e,n){return n?t.slice(+e):t.slice(0,+e)},gt:function(t,e,n){return n?t.slice(0,+e+1):t.slice(+e+1)},eq:function(t,e,n){var i=t.splice(+e,1);return n?t:i}}},_=N.compareDocumentPosition?function(t,e){return t===e?(C=!0,0):(t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e):t.compareDocumentPosition)?-1:1}:function(t,e){if(t===e)return C=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var n,i,r=[],o=[],s=t.parentNode,l=e.parentNode,u=s;if(s===l)return a(t,e);if(!s)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==o[c])return a(r[c],o[c]);return c===n?a(t,o[c],-1):a(r[c],e,1)},[0,0].sort(_),T=!C,n.uniqueSort=function(t){var e,n=1;if(C=T,t.sort(_),C)for(;e=t[n];n++)e===t[n-1]&&t.splice(n--,1);return t},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},w=n.compile=function(t,e,n){var i,r,a,s=L[E][t];if(s&&s.context===e)return s;for(i=o(t,e,n),r=0,a=i.length;a>r;r++)i[r]=u(i[r],e,n);return s=L(t,c(i)),s.context=e,s.runs=s.dirruns=0,s},S.querySelectorAll&&function(){var t,e=f,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,a=[],s=[":active"],l=N.matchesSelector||N.mozMatchesSelector||N.webkitMatchesSelector||N.oMatchesSelector||N.msMatchesSelector;ie(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||a.push("\\["+D+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||a.push(":checked")}),ie(function(t){t.innerHTML="<p test=''></p>",t.querySelectorAll("[test^='']").length&&a.push("[*^$]="+D+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||a.push(":enabled",":disabled")}),a=a.length&&new RegExp(a.join("|")),f=function(t,n,r,s,l){if(!(s||l||a&&a.test(t)))if(9===n.nodeType)try{return M.apply(r,P.call(n.querySelectorAll(t),0)),r}catch(u){}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c,p,h,d=n.getAttribute("id"),f=d||E,v=Y.test(t)&&n.parentNode||n;for(d?f=f.replace(i,"\\$&"):n.setAttribute("id",f),c=o(t,n,l),f="[id='"+f+"']",p=0,h=c.length;h>p;p++)c[p]=f+c[p].selector;try{return M.apply(r,P.call(v.querySelectorAll(c.join(",")),0)),r}catch(u){}finally{d||n.removeAttribute("id")}}return e(t,n,r,s,l)},l&&(ie(function(e){t=l.call(e,"div");try{l.call(e,"[test!='']:sizzle"),s.push(ne.PSEUDO.source,ne.POS.source,"!=")}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(e,i){if(i=i.replace(r,"='$1']"),!(j(e)||s.test(i)||a&&a.test(i)))try{var o=l.call(e,i);if(o||t||e.document&&11!==e.document.nodeType)return o}catch(u){}return n(i,null,null,[e]).length>0})}(),y.setFilters.nth=y.setFilters.eq,y.filters=y.pseudos,n.attr=Q.attr,Q.find=n,Q.expr=n.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=n.uniqueSort,Q.text=n.getText,Q.isXMLDoc=n.isXML,Q.contains=n.contains}(t);var $e=/Until$/,Oe=/^(?:parents|prev(?:Until|All))/,Fe=/^.[^:#\[\.,]*$/,Le=Q.expr.match.needsContext,De={children:!0,contents:!0,next:!0,prev:!0};Q.fn.extend({find:function(t){var e,n,i,r,a,o,s=this;if("string"!=typeof t)return Q(t).filter(function(){for(e=0,n=s.length;n>e;e++)if(Q.contains(s[e],this))return!0});for(o=this.pushStack("","find",t),e=0,n=this.length;n>e;e++)if(i=o.length,Q.find(t,this[e],o),e>0)for(r=i;r<o.length;r++)for(a=0;i>a;a++)if(o[a]===o[r]){o.splice(r--,1);break}return o},has:function(t){var e,n=Q(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(Q.contains(this,n[e]))return!0})},not:function(t){return this.pushStack(u(this,t,!1),"not",t)},filter:function(t){return this.pushStack(u(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?Le.test(t)?Q(t,this.context).index(this[0])>=0:Q.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,i=0,r=this.length,a=[],o=Le.test(t)||"string"!=typeof t?Q(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==e&&11!==n.nodeType;){if(o?o.index(n)>-1:Q.find.matchesSelector(n,t)){a.push(n);break}n=n.parentNode}return a=a.length>1?Q.unique(a):a,this.pushStack(a,"closest",t)},index:function(t){return t?"string"==typeof t?Q.inArray(this[0],Q(t)):Q.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var n="string"==typeof t?Q(t,e):Q.makeArray(t&&t.nodeType?[t]:t),i=Q.merge(this.get(),n);return this.pushStack(s(n[0])||s(i[0])?i:Q.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.fn.andSelf=Q.fn.addBack,Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return Q.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,i){var r=Q.map(this,e,n);return $e.test(t)||(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),r=this.length>1&&!De[t]?Q.unique(r):r,this.length>1&&Oe.test(t)&&(r=r.reverse()),this.pushStack(r,t,X.call(arguments).join(","))}}),Q.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?Q.find.matchesSelector(e[0],t)?[e[0]]:[]:Q.find.matches(t,e)},dir:function(t,n,i){for(var r=[],a=t[n];a&&9!==a.nodeType&&(i===e||1!==a.nodeType||!Q(a).is(i));)1===a.nodeType&&r.push(a),a=a[n];return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var He="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Re=/ jQuery\d+="(?:null|\d+)"/g,Be=/^\s+/,ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ue=/<([\w:]+)/,qe=/<tbody/i,We=/<|&#?\w+;/,Ve=/<(?:script|style|link)/i,Xe=/<(?:script|object|embed|option|style)/i,Je=new RegExp("<(?:"+He+")[\\s/>]","i"),Ge=/^(?:checkbox|radio)$/,Ye=/checked\s*(?:[^=]|=\s*.checked.)/i,Ke=/\/(java|ecma)script/i,Qe=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ze={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},tn=c(B),en=tn.appendChild(B.createElement("div"));
Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td,Q.support.htmlSerialize||(Ze._default=[1,"X<div>","</div>"]),Q.fn.extend({text:function(t){return Q.access(this,function(t){return t===e?Q.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(Q.isFunction(t))return this.each(function(e){Q(this).wrapAll(t.call(this,e))});if(this[0]){var e=Q(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return Q.isFunction(t)?this.each(function(e){Q(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=Q.clean(arguments);return this.pushStack(Q.merge(t,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=Q.clean(arguments);return this.pushStack(Q.merge(this,t),"after",this.selector)}},remove:function(t,e){for(var n,i=0;null!=(n=this[i]);i++)(!t||Q.filter(t,[n]).length)&&(e||1!==n.nodeType||(Q.cleanData(n.getElementsByTagName("*")),Q.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&Q.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return Q.access(this,function(t){var n=this[0]||{},i=0,r=this.length;if(t===e)return 1===n.nodeType?n.innerHTML.replace(Re,""):e;if(!("string"!=typeof t||Ve.test(t)||!Q.support.htmlSerialize&&Je.test(t)||!Q.support.leadingWhitespace&&Be.test(t)||Ze[(Ue.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(ze,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Q.cleanData(n.getElementsByTagName("*")),n.innerHTML=t);n=0}catch(a){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return s(this[0])?this.length?this.pushStack(Q(Q.isFunction(t)?t():t),"replaceWith",t):this:Q.isFunction(t)?this.each(function(e){var n=Q(this),i=n.html();n.replaceWith(t.call(this,e,i))}):("string"!=typeof t&&(t=Q(t).detach()),this.each(function(){var e=this.nextSibling,n=this.parentNode;Q(this).remove(),e?Q(e).before(t):Q(n).append(t)}))},detach:function(t){return this.remove(t,!0)},domManip:function(t,n,i){t=[].concat.apply([],t);var r,a,o,s,l=0,u=t[0],c=[],h=this.length;if(!Q.support.checkClone&&h>1&&"string"==typeof u&&Ye.test(u))return this.each(function(){Q(this).domManip(t,n,i)});if(Q.isFunction(u))return this.each(function(r){var a=Q(this);t[0]=u.call(this,r,n?a.html():e),a.domManip(t,n,i)});if(this[0]){if(r=Q.buildFragment(t,this,c),o=r.fragment,a=o.firstChild,1===o.childNodes.length&&(o=a),a)for(n=n&&Q.nodeName(a,"tr"),s=r.cacheable||h-1;h>l;l++)i.call(n&&Q.nodeName(this[l],"table")?p(this[l],"tbody"):this[l],l===s?o:Q.clone(o,!0,!0));o=a=null,c.length&&Q.each(c,function(t,e){e.src?Q.ajax?Q.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Q.error("no ajax"):Q.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Qe,"")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),Q.buildFragment=function(t,n,i){var r,a,o,s=t[0];return n=n||B,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===t.length&&"string"==typeof s&&s.length<512&&n===B&&"<"===s.charAt(0))||Xe.test(s)||!Q.support.checkClone&&Ye.test(s)||!Q.support.html5Clone&&Je.test(s)||(a=!0,r=Q.fragments[s],o=r!==e),r||(r=n.createDocumentFragment(),Q.clean(t,n,r,i),a&&(Q.fragments[s]=o&&r)),{fragment:r,cacheable:a}},Q.fragments={},Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(n){var i,r=0,a=[],o=Q(n),s=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return o[e](this[0]),this;for(;s>r;r++)i=(r>0?this.clone(!0):this).get(),Q(o[r])[e](i),a=a.concat(i);return this.pushStack(a,t,o.selector)}}),Q.extend({clone:function(t,e,n){var i,r,a,o;if(Q.support.html5Clone||Q.isXMLDoc(t)||!Je.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(en.innerHTML=t.outerHTML,en.removeChild(o=en.firstChild)),!(Q.support.noCloneEvent&&Q.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(d(t,o),i=f(t),r=f(o),a=0;i[a];++a)r[a]&&d(i[a],r[a]);if(e&&(h(t,o),n))for(i=f(t),r=f(o),a=0;i[a];++a)h(i[a],r[a]);return i=r=null,o},clean:function(t,e,n,i){var r,a,o,s,l,u,p,h,d,f,m,g=e===B&&tn,y=[];for(e&&"undefined"!=typeof e.createDocumentFragment||(e=B),r=0;null!=(o=t[r]);r++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(We.test(o)){for(g=g||c(e),p=e.createElement("div"),g.appendChild(p),o=o.replace(ze,"<$1></$2>"),s=(Ue.exec(o)||["",""])[1].toLowerCase(),l=Ze[s]||Ze._default,u=l[0],p.innerHTML=l[1]+o+l[2];u--;)p=p.lastChild;if(!Q.support.tbody)for(h=qe.test(o),d="table"!==s||h?"<table>"!==l[1]||h?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,a=d.length-1;a>=0;--a)Q.nodeName(d[a],"tbody")&&!d[a].childNodes.length&&d[a].parentNode.removeChild(d[a]);!Q.support.leadingWhitespace&&Be.test(o)&&p.insertBefore(e.createTextNode(Be.exec(o)[0]),p.firstChild),o=p.childNodes,p.parentNode.removeChild(p)}else o=e.createTextNode(o);o.nodeType?y.push(o):Q.merge(y,o)}if(p&&(o=p=g=null),!Q.support.appendChecked)for(r=0;null!=(o=y[r]);r++)Q.nodeName(o,"input")?v(o):"undefined"!=typeof o.getElementsByTagName&&Q.grep(o.getElementsByTagName("input"),v);if(n)for(f=function(t){return!t.type||Ke.test(t.type)?i?i.push(t.parentNode?t.parentNode.removeChild(t):t):n.appendChild(t):void 0},r=0;null!=(o=y[r]);r++)Q.nodeName(o,"script")&&f(o)||(n.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(m=Q.grep(Q.merge([],o.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(m)),r+=m.length));return y},cleanData:function(t,e){for(var n,i,r,a,o=0,s=Q.expando,l=Q.cache,u=Q.support.deleteExpando,c=Q.event.special;null!=(r=t[o]);o++)if((e||Q.acceptData(r))&&(i=r[s],n=i&&l[i])){if(n.events)for(a in n.events)c[a]?Q.event.remove(r,a):Q.removeEvent(r,a,n.handle);l[i]&&(delete l[i],u?delete r[s]:r.removeAttribute?r.removeAttribute(s):r[s]=null,Q.deletedIds.push(i))}}}),function(){var t,e;Q.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=Q.uaMatch(U.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),Q.browser=e,Q.sub=function(){function t(e,n){return new t.fn.init(e,n)}Q.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,i){return i&&i instanceof Q&&!(i instanceof t)&&(i=t(i)),Q.fn.init.call(this,n,i,e)},t.fn.init.prototype=t.fn;var e=t(B);return t}}();var nn,rn,an,on=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,un=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,pn=new RegExp("^("+Z+")(.*)$","i"),hn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),dn=new RegExp("^([-+])=("+Z+")","i"),fn={},vn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},gn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Q.fn.toggle;Q.fn.extend({css:function(t,n){return Q.access(this,function(t,n,i){return i!==e?Q.style(t,n,i):Q.css(t,n)},t,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t,e){var n="boolean"==typeof t;return Q.isFunction(t)&&Q.isFunction(e)?bn.apply(this,arguments):this.each(function(){(n?t:g(this))?Q(this).show():Q(this).hide()})}}),Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=nn(t,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Q.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,o,s,l=Q.camelCase(n),u=t.style;if(n=Q.cssProps[l]||(Q.cssProps[l]=m(u,l)),s=Q.cssHooks[n]||Q.cssHooks[l],i===e)return s&&"get"in s&&(a=s.get(t,!1,r))!==e?a:u[n];if(o=typeof i,"string"===o&&(a=dn.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(Q.css(t,n)),o="number"),!(null==i||"number"===o&&isNaN(i)||("number"!==o||Q.cssNumber[l]||(i+="px"),s&&"set"in s&&(i=s.set(t,i,r))===e)))try{u[n]=i}catch(c){}}},css:function(t,n,i,r){var a,o,s,l=Q.camelCase(n);return n=Q.cssProps[l]||(Q.cssProps[l]=m(t.style,l)),s=Q.cssHooks[n]||Q.cssHooks[l],s&&"get"in s&&(a=s.get(t,!0,r)),a===e&&(a=nn(t,n)),"normal"===a&&n in mn&&(a=mn[n]),i||r!==e?(o=parseFloat(a),i||Q.isNumeric(o)?o||0:a):a},swap:function(t,e,n){var i,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];i=n.call(t);for(r in e)t.style[r]=a[r];return i}}),t.getComputedStyle?nn=function(e,n){var i,r,a,o,s=t.getComputedStyle(e,null),l=e.style;return s&&(i=s[n],""!==i||Q.contains(e.ownerDocument,e)||(i=Q.style(e,n)),hn.test(i)&&cn.test(n)&&(r=l.width,a=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=s.width,l.width=r,l.minWidth=a,l.maxWidth=o)),i}:B.documentElement.currentStyle&&(nn=function(t,e){var n,i,r=t.currentStyle&&t.currentStyle[e],a=t.style;return null==r&&a&&a[e]&&(r=a[e]),hn.test(r)&&!ln.test(e)&&(n=a.left,i=t.runtimeStyle&&t.runtimeStyle.left,i&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":r,r=a.pixelLeft+"px",a.left=n,i&&(t.runtimeStyle.left=i)),""===r?"auto":r}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&un.test(nn(t,"display"))?Q.swap(t,vn,function(){return x(t,e,i)}):x(t,e,i):void 0},set:function(t,n,i){return b(t,n,i?j(t,e,i,Q.support.boxSizing&&"border-box"===Q.css(t,"boxSizing")):0)}}}),Q.support.opacity||(Q.cssHooks.opacity={get:function(t,e){return sn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=Q.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,e>=1&&""===Q.trim(a.replace(on,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=on.test(a)?a.replace(on,r):a+" "+r)}}),Q(function(){Q.support.reliableMarginRight||(Q.cssHooks.marginRight={get:function(t,e){return Q.swap(t,{display:"inline-block"},function(){return e?nn(t,"marginRight"):void 0})}}),!Q.support.pixelPosition&&Q.fn.position&&Q.each(["top","left"],function(t,e){Q.cssHooks[e]={get:function(t,n){if(n){var i=nn(t,e);return hn.test(i)?Q(t).position()[e]+"px":i}}}})}),Q.expr&&Q.expr.filters&&(Q.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!Q.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||nn(t,"display"))},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],a={};for(i=0;4>i;i++)a[t+gn[i]+e]=r[i]||r[i-2]||r[0];return a}},cn.test(t)||(Q.cssHooks[t+e].set=b)});var jn=/%20/g,xn=/\[\]$/,wn=/\r?\n/g,_n=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cn=/^(?:select|textarea)/i;Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Q.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cn.test(this.nodeName)||_n.test(this.type))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(wn,"\r\n")}}):{name:e.name,value:n.replace(wn,"\r\n")}}).get()}}),Q.param=function(t,n){var i,r=[],a=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){a(this.name,this.value)});else for(i in t)_(i,t[i],n,a);return r.join("&").replace(jn,"+")};var Tn,kn,En=/#.*$/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,An=/^(?:GET|HEAD)$/,Pn=/^\/\//,Mn=/\?/,In=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,$n=/([?&])_=[^&]*/,On=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fn=Q.fn.load,Ln={},Dn={},Hn=["*/"]+["*"];try{Tn=z.href}catch(Rn){Tn=B.createElement("a"),Tn.href="",Tn=Tn.href}kn=On.exec(Tn.toLowerCase())||[],Q.fn.load=function(t,n,i){if("string"!=typeof t&&Fn)return Fn.apply(this,arguments);if(!this.length)return this;var r,a,o,s=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),Q.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(a="POST"),Q.ajax({url:t,type:a,dataType:"html",data:n,complete:function(t,e){i&&s.each(i,o||[t.responseText,e,t])}}).done(function(t){o=arguments,s.html(r?Q("<div>").append(t.replace(In,"")).find(r):t)}),this},Q.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.each(["get","post"],function(t,n){Q[n]=function(t,i,r,a){return Q.isFunction(i)&&(a=a||r,r=i,i=e),Q.ajax({type:n,url:t,data:i,success:r,dataType:a})}}),Q.extend({getScript:function(t,n){return Q.get(t,e,n,"script")},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},ajaxSetup:function(t,e){return e?k(t,Q.ajaxSettings):(e=t,t=Q.ajaxSettings),k(t,e),t},ajaxSettings:{url:Tn,isLocal:Nn.test(kn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Hn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(Ln),ajaxTransport:C(Dn),ajax:function(t,n){function i(t,n,i,o){var u,p,y,b,x,_=n;2!==j&&(j=2,l&&clearTimeout(l),s=e,a=o||"",w.readyState=t>0?4:0,i&&(b=E(h,w,i)),t>=200&&300>t||304===t?(h.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Q.lastModified[r]=x),x=w.getResponseHeader("Etag"),x&&(Q.etag[r]=x)),304===t?(_="notmodified",u=!0):(u=S(h,b),_=u.state,p=u.data,y=u.error,u=!y)):(y=_,(!_||t)&&(_="error",0>t&&(t=0))),w.status=t,w.statusText=""+(n||_),u?v.resolveWith(d,[p,_,w]):v.rejectWith(d,[w,_,y]),w.statusCode(g),g=e,c&&f.trigger("ajax"+(u?"Success":"Error"),[w,h,u?p:y]),m.fireWith(d,[w,_]),c&&(f.trigger("ajaxComplete",[w,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var r,a,o,s,l,u,c,p,h=Q.ajaxSetup({},n),d=h.context||h,f=d!==h&&(d.nodeType||d instanceof Q)?Q(d):Q.event,v=Q.Deferred(),m=Q.Callbacks("once memory"),g=h.statusCode||{},y={},b={},j=0,x="canceled",w={readyState:0,setRequestHeader:function(t,e){if(!j){var n=t.toLowerCase();t=b[n]=b[n]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===j?a:null},getResponseHeader:function(t){var n;if(2===j){if(!o)for(o={};n=Sn.exec(a);)o[n[1].toLowerCase()]=n[2];n=o[t.toLowerCase()]}return n===e?null:n},overrideMimeType:function(t){return j||(h.mimeType=t),this},abort:function(t){return t=t||x,s&&s.abort(t),i(0,t),this}};if(v.promise(w),w.success=w.done,w.error=w.fail,w.complete=m.add,w.statusCode=function(t){if(t){var e;if(2>j)for(e in t)g[e]=[g[e],t[e]];else e=t[w.status],w.always(e)}return this},h.url=((t||h.url)+"").replace(En,"").replace(Pn,kn[1]+"//"),h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().split(ee),null==h.crossDomain&&(u=On.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]==kn[1]&&u[2]==kn[2]&&(u[3]||("http:"===u[1]?80:443))==(kn[3]||("http:"===kn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),T(Ln,h,n,w),2===j)return w;if(c=h.global,h.type=h.type.toUpperCase(),h.hasContent=!An.test(h.type),c&&0===Q.active++&&Q.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Mn.test(h.url)?"&":"?")+h.data,delete h.data),r=h.url,h.cache===!1)){var _=Q.now(),C=h.url.replace($n,"$1_="+_);h.url=C+(C===h.url?(Mn.test(h.url)?"&":"?")+"_="+_:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(r=r||h.url,Q.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&w.setRequestHeader("If-None-Match",Q.etag[r])),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Hn+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)w.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===j))return w.abort();x="abort";for(p in{success:1,error:1,complete:1})w[p](h[p]);if(s=T(Dn,h,n,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},h.timeout));try{j=1,s.send(y,i)}catch(k){if(!(2>j))throw k;i(-1,k)}}else i(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Bn=[],zn=/\?/,Un=/(=)\?(?=&|$)|\?\?/,qn=Q.now();Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Bn.pop()||Q.expando+"_"+qn++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(n,i,r){var a,o,s,l=n.data,u=n.url,c=n.jsonp!==!1,p=c&&Un.test(u),h=c&&!p&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(l);return"jsonp"===n.dataTypes[0]||p||h?(a=n.jsonpCallback=Q.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=t[a],p?n.url=u.replace(Un,"$1"+a):h?n.data=l.replace(Un,"$1"+a):c&&(n.url+=(zn.test(u)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||Q.error(a+" was not called"),s[0]},n.dataTypes[0]="json",t[a]=function(){s=arguments},r.always(function(){t[a]=o,n[a]&&(n.jsonpCallback=i.jsonpCallback,Bn.push(a)),s&&Q.isFunction(o)&&o(s[0]),s=o=e}),"script"):void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var n,i=B.head||B.getElementsByTagName("head")[0]||B.documentElement;return{send:function(r,a){n=B.createElement("script"),n.async="async",t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=e,r||a(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Wn,Vn=t.ActiveXObject?function(){for(var t in Wn)Wn[t](0,1)}:!1,Xn=0;Q.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&N()||A()}:N,function(t){Q.extend(Q.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(Q.ajaxSettings.xhr()),Q.support.ajax&&Q.ajaxTransport(function(n){if(!n.crossDomain||Q.support.cors){var i;return{send:function(r,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(t,r){var s,u,c,p,h;try{if(i&&(r||4===l.readyState))if(i=e,o&&(l.onreadystatechange=Q.noop,Vn&&delete Wn[o]),r)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),p={},h=l.responseXML,h&&h.documentElement&&(p.xml=h);try{p.text=l.responseText}catch(t){}try{u=l.statusText}catch(d){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(f){r||a(-1,f)}p&&a(s,u,p,c)},n.async?4===l.readyState?setTimeout(i,0):(o=++Xn,Vn&&(Wn||(Wn={},Q(t).unload(Vn)),Wn[o]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Jn,Gn,Yn=/^(?:toggle|show|hide)$/,Kn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Qn=/queueHooks$/,Zn=[O],ti={"*":[function(t,e){var n,i,r,a=this.createTween(t,e),o=Kn.exec(e),s=a.cur(),l=+s||0,u=1;if(o){if(n=+o[2],i=o[3]||(Q.cssNumber[t]?"":"px"),"px"!==i&&l){l=Q.css(a.elem,t,!0)||n||1;do r=u=u||".5",l/=u,Q.style(a.elem,t,l+i),u=a.cur()/s;while(1!==u&&u!==r)}a.unit=i,a.start=l,a.end=o[1]?l+(o[1]+1)*n:n}return a}]};Q.Animation=Q.extend(I,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],ti[n]=ti[n]||[],ti[n].unshift(e)},prefilter:function(t,e){e?Zn.unshift(t):Zn.push(t)}}),Q.Tween=F,F.prototype={constructor:F,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(Q.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,!1,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(i,r,a){return null==i||"boolean"==typeof i||!t&&Q.isFunction(i)&&Q.isFunction(r)?n.apply(this,arguments):this.animate(L(e,!0),i,r,a)}}),Q.fn.extend({fadeTo:function(t,e,n,i){return this.filter(g).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Q.isEmptyObject(t),a=Q.speed(e,n,i),o=function(){var e=I(this,Q.extend({},t),a);r&&e.stop(!0)};return r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(t,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",a=Q.timers,o=Q._data(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&Qn.test(n)&&r(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=t&&a[n].queue!==t||(a[n].anim.stop(i),e=!1,a.splice(n,1));(e||!i)&&Q.dequeue(this,t)})}}),Q.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Q.speed=function(t,e,n){var i=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.timers=[],Q.fx=F.prototype.init,Q.fx.tick=function(){for(var t,e=Q.timers,n=0;n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||Q.fx.stop()},Q.fx.timer=function(t){t()&&Q.timers.push(t)&&!Gn&&(Gn=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.interval=13,Q.fx.stop=function(){clearInterval(Gn),Gn=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fx.step={},Q.expr&&Q.expr.filters&&(Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length});var ei=/^(?:body|html)$/i;return Q.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var n,i,r,a,o,s,l,u,c,p,h=this[0],d=h&&h.ownerDocument;if(d)return(r=d.body)===h?Q.offset.bodyOffset(h):(i=d.documentElement,Q.contains(i,h)?(n=h.getBoundingClientRect(),a=D(d),o=i.clientTop||r.clientTop||0,s=i.clientLeft||r.clientLeft||0,l=a.pageYOffset||i.scrollTop,u=a.pageXOffset||i.scrollLeft,c=n.top+l-o,p=n.left+u-s,{top:c,left:p}):{top:0,left:0})},Q.offset={bodyOffset:function(t){var e=t.offsetTop,n=t.offsetLeft;return Q.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(Q.css(t,"marginTop"))||0,n+=parseFloat(Q.css(t,"marginLeft"))||0),{top:e,left:n}},setOffset:function(t,e,n){var i=Q.css(t,"position");"static"===i&&(t.style.position="relative");var r,a,o=Q(t),s=o.offset(),l=Q.css(t,"top"),u=Q.css(t,"left"),c=("absolute"===i||"fixed"===i)&&Q.inArray("auto",[l,u])>-1,p={},h={};c?(h=o.position(),r=h.top,a=h.left):(r=parseFloat(l)||0,a=parseFloat(u)||0),Q.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(p.top=e.top-s.top+r),null!=e.left&&(p.left=e.left-s.left+a),"using"in e?e.using.call(t,p):o.css(p)}},Q.fn.extend({position:function(){if(this[0]){var t=this[0],e=this.offsetParent(),n=this.offset(),i=ei.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(Q.css(t,"marginTop"))||0,n.left-=parseFloat(Q.css(t,"marginLeft"))||0,i.top+=parseFloat(Q.css(e[0],"borderTopWidth"))||0,i.left+=parseFloat(Q.css(e[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||B.body;t&&!ei.test(t.nodeName)&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||B.body})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i=/Y/.test(n);Q.fn[t]=function(r){return Q.access(this,function(t,r,a){var o=D(t);return a===e?o?n in o?o[n]:o.document.documentElement[r]:t[r]:(o?o.scrollTo(i?Q(o).scrollLeft():a,i?a:Q(o).scrollTop()):t[r]=a,void 0)},t,r,arguments.length,null)}}),Q.each({Height:"height",Width:"width"},function(t,n){Q.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,r){Q.fn[r]=function(r,a){var o=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||a===!0?"margin":"border");return Q.access(this,function(n,i,r){var a;return Q.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+t],a["scroll"+t],n.body["offset"+t],a["offset"+t],a["client"+t])):r===e?Q.css(n,i,r,s):Q.style(n,i,r,s)},n,o?r:e,o,null)}})}),t.jQuery=t.$=Q,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Q}),Q}(window)})},{}],75:[function(t,e){!function(){var n=t("../helpers/BackboneLoader.js"),i=n.Model.extend({initialize:function(t,e){this.set(t),this.app=e.app||{}},methodUrl:function(t){var e;return"function"==typeof this.urlRoot?e=this.urlRoot():this.urlRoot&&(e=this.urlRoot),"delete"==t?e+"/"+this.attributes.id+".json":"update"==t?e+"/"+this.attributes.id+".json":"read"==t?e+"/"+this.attributes.id+".json":"create"==t?e+".json":!1}});e.exports=i}()},{"../helpers/BackboneLoader.js":42}],76:[function(t,e){!function(){var n=t("../helpers/BackboneLoader.js"),i=n.Collection.extend({initialize:function(t,e){this.set(t),this.app=e.app||{}}});e.exports=i}()},{"../helpers/BackboneLoader.js":42}],53:[function(t,e){!function(){var n=t("../base"),i=n.extend({template:t("../../templates/layout/footer.hbs"),initialize:function(t){this.app=t.app,this.listenTo(this.app.getUser(),"change",this.render,this),this.renderOnReady(this.app.getUser())},context:function(){return this.getContext({copyrightYear:(new Date).getFullYear()})}});e.exports=i}()},{"../../templates/layout/footer.hbs":77,"../base":55}],46:[function(t,e){!function(){var n=function(){function e(t){window.console&&console.log(t)}var n,i=["videojs","vjs","_V_"],r=[],a={},o=function(t,e){return hasOwnProperty.call(t,e)},s=function(t,e,n){if(null!=t)if(Array.prototype.forEach&&t.forEach===Array.prototype.forEach)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,r=t.length;r>i;i++)if(e.call(n,t[i],i,t)===a)return}else for(var s in t)if(o(t,s)&&e.call(n,t[s],s,t)===a)return},l=function(t){return s(Array.prototype.slice.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t};s(i,function(t){return void 0!==window[t]?(n=window[t],!1):void 0});try{n=t("videojs")}catch(u){}this.resizeVideos=function(t){t&&(t.preventDefault(),t.stopPropagation()),s(r,function(t){var e=document.getElementById(t.id);if(!e||!e.parentNode||!e.parentNode.parentNode)return!1;var i,r,a=n(t.id),o=e.parentNode.parentNode;e&&null==e.id.match(/^.*html5_api/)&&e.parentNode&&(i=t.maxWidth&&t.maxWidth<o.offsetWidth?t.maxWidth:o.offsetWidth,!t.upscale&&i>t.width&&(i=t.width),r=t.height*(i/t.width),a.width(i),a.height(r),e.style.width=i+"px",e.style.height=r+"px",e.parentNode.style.width=i+"px",e.parentNode.style.height=r+"px")})},this.loadVideo=function(t,e,i){var a,o,u,c,p=this,h=!1,d={},f=!1;return e.sources=e.sources||[],e.attributes=e.attributes||{},u={id:"js_thumb_video","class":"video-js vjs-default-skin",controls:"controls",preload:"auto",resize:!1,center:!1,width:960,height:540,timeout:5e3},n?e.sources.length?(e.sources=l([],e.sources),e.attributes=l({},u,e.attributes),e.vjs=e.vjs||{},s(n.players,function(t,n){return n===e.attributes.id?(t.dispose(),!1):void 0}),videoDims={},a=document.createElement("video"),s(e.attributes,function(t,e){a.setAttribute(e,t)}),s(e.sources,function(t){var e=document.createElement("source");e.setAttribute("src",t.src),e.setAttribute("type",t.type),a.appendChild(e)}),o=document.createElement("div"),o.appendChild(a),e.attributes.center&&(o.style.margin="0 auto"),t.appendChild(o),n(a,e.vjs,function(){s(o.childNodes,function(t){return t.attributes&&t.attributes.id&&t.attributes.id.value===e.attributes.id?(element=t,!1):void 0}),s(element.childNodes,function(t){return"object"===t.tagName.toLowerCase()?(h=!0,!1):void 0}),onReady=function(t,e){f||(f=!0,clearTimeout(c),t&&(d.width=t.target.videoWidth,d.height=t.target.videoHeight,p.resizeVideos()),i(null,element,this,void 0===e))},e.attributes.resize&&(d={id:element.attributes.id.value,parent:t,width:this.width(),height:this.height(),upscale:e.attributes.resize.upscale===!0},"object"==typeof e.attributes.resize&&(d.maxWidth=e.attributes.resize.maxWidth),r.push(d)),p.resizeVideos(),h?onReady(null,!0):(c=setTimeout(function(){onReady(null,!0)},e.attributes.timeout),n(e.attributes.id).on("loadedmetadata",onReady))}),void 0):(i("Videos require at least one source"),void 0):(i("Please include Video.js to use this function"),void 0)},this.screenshot=function(t,n){var i,r=document.createElement("canvas");
n=n||{};var a=n.origWidth||t.videoWidth,o=n.origHeight||t.videoHeight;return a&&o?(r.width=a,r.height=o,i=r.getContext("2d"),i.drawImage(t,0,0,a,o),r.toDataURL("image/png")):(e("Video has invalid dimensions or metadata has not yet loaded."),!1)},this.resize=function(t,e){var n,i,r=e.maxWidth||50,a=e.maxHeight||50,o=document.createElement("canvas"),s=document.createElement("canvas"),l=o.getContext("2d"),u=s.getContext("2d"),c=t.width||e.origWidth,p=t.height||e.origHeight,h=e.maxWidth/c,d=p*h,f=e.maxHeight/p;return s.width=c,s.height=p,u.drawImage(t,0,0),o.width=r,o.height=a,a>d?(n=(r-s.width*f)/2,l.drawImage(s,0,0,s.width,s.height,n,0,s.width*f,s.height*f)):(i=(a-s.height*h)/2,l.drawImage(s,0,0,s.width,s.height,0,i,s.width*h,s.height*h)),o.toDataURL()},this.resizeData=function(t,e,n){e=e||{};var i=this,r=new Image;r.onload=function(){n(null,i.resize(r,e))},r.src=t}},i=new n;"undefined"!=typeof window&&"undefined"==typeof e?(window.jsthumb=i,window.onresize=i.resizeVideos):e.exports=i}()},{videojs:78}],60:[function(t,e){!function(){var n=t("../../base"),i=t("../../../helpers/lib/holder.js"),r=n.extend({template:t("../../../templates/routes/media/grid.hbs"),initialize:function(t){this.app=t.app;var e=this.app.db.fetchCollection("unprocessedUploads");this.fetchPage(t.pageName,function(){this.media=this.page.getMedia(),this.media.fetch(),this.listenTo(this.media,"change add remove sort",this.render,this),this.media.once("ready",this.render,this),this.listenTo(e,"add change remove reset sync",function(){this.media.fetch()},this),this.render()})},context:function(){var t=[],e=encodeURIComponent(this.page.attributes.name);return this.media&&this.media.forEach(function(n){t.push(n.templateVars(e))}),this.getContext({media:t,page:this.page.attributes})},afterRender:function(){i.run()}});e.exports=r}()},{"../../../helpers/lib/holder.js":62,"../../../templates/routes/media/grid.hbs":79,"../../base":55}],80:[function(t,e){!function(){var n=t("../../base"),i=n.extend({template:t("../../../templates/routes/media/thumb.hbs"),initialize:function(t){this.app=t.app,this.media=this.app.db.fetchModel(t.mediaType,t.mediaId),this.listenTo(this.media,"change",this.render,this),this.listenTo(this.app,"iframeResize",this.resizeIframe,this),this.listenTo(this.app,"thumbnailCaptured",this.saveThumbnail,this),this.listenTo(this.app,"captureThumbnail",this.captureThumbnail,this),this.renderOnReady(this.media)},context:function(){var t=this.media.templateVars(),e={media:{sources:[],attributes:{id:"media_"+this.app.util.uuid(10),resize:{upscale:!1},width:this.media.attributes.width||960,height:this.media.attributes.height||540}},dimensions:this.app.config.thumbnailDims,domain:document.domain+(80===window.location.port?"":":"+window.location.port)};return e.media.sources="video"===this.media.attributes.type.toLowerCase()?[{src:t.hdUrl,type:this.app.util.mime("video/mp4")}]:[{src:t.url,type:this.app.util.mime(t.mimeType)}],this.getContext({media:t,thumberUrl:t.s3key?this.app.config.thumberUrl+"#"+encodeURIComponent(JSON.stringify(e)):null})},afterRender:function(){this.app.messenger.targetFrame=this.$el.find("iframe")[0]},resizeIframe:function(t){this.$el.find("iframe").attr("height",parseInt(t)+60)},saveThumbnail:function(){this.app.setFlash("info","Please Wait, Saving Image...")},captureThumbnail:function(t,e,n){var i=this;i.app.messenger.send("capture",[e],function(r,a){if(r===e){var o=i.app.db.fetchModel(t,e);o.once("ready",function(){o.set(n),o.useThumbnail(a.substring(a.indexOf(",")+1))})}})}});e.exports=i}()},{"../../../templates/routes/media/thumb.hbs":81,"../../base":55}],82:[function(t,e){!function(){var n=t("../../base"),i=t("../../../helpers/BackboneLoader.js"),r=t("../../../helpers/lib/holder.js"),a=n.extend({template:t("../../../templates/routes/media/carousel.hbs"),events:{"click a.bigClose":"exitPlayer","click a.reelToggle":"toggleReel","click a.app":"handleAppLink","click a.goLeft":"handleLeftButton","click a.goRight":"handleRightButton"},reelOpen:null,initialize:function(t){this.app=t.app,this.listenTo(this.app,"videoEnded",this.advance,this),this.fetchPage(t.pageName,function(){this.media=this.page.getMedia(),this.listenTo(this.media,"change add remove sort",this.render,this),this.media.once("ready",this.render,this)})},context:function(){var t=[],e=encodeURIComponent(this.page.attributes.name);return this.media&&this.media.forEach(function(n){t.push(n.templateVars(e,!0))}),this.getContext({media:t,page:this.page.attributes})},afterRender:function(){var t=this.currentMedia();this.$(".carousel").elastislide(),null===this.reelOpen&&this.toggleReel(null,!1,0),r.run(),t&&(this.advance(t,!0)&&this.$("a.goRight").removeClass("hidden"),this.reverse(t,!0)&&this.$("a.goLeft").removeClass("hidden"))},advance:function(t,e,n){var i,r,a,o,s=this,l=!1,u=null,c=encodeURIComponent(s.page.attributes.name),p=this.page.getMedia();if(null==n&&(n=1e3),this.page&&p){for(r=0,a=p.models.length;a>r;r++)if(o=p.models[r],t.id!==o.id){if(l){u=o;break}}else l=!0;if(u){if(i=u.templateVars(c).playerUrl,e)return!0;setTimeout(function(){s.app.navigate(i,{trigger:!0})},n)}}return!1},reverse:function(t,e,n){var i,r,a,o,s=this,l=!1,u=null,c=encodeURIComponent(s.page.attributes.name),p=this.page.getMedia();if(null==n&&(n=1e3),this.page&&p){for(r=p.models.length-1,a=0;r>=a;r--)if(o=p.models[r],t.id!==o.id){if(l){u=o;break}}else l=!0;if(u){if(i=u.templateVars(c).playerUrl,e)return!0;setTimeout(function(){s.app.navigate(i,{trigger:!0})},n)}}return!1},handleLeftButton:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.reverse(this.currentMedia(),!1,0)},handleRightButton:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.advance(this.currentMedia(),!1,0)},currentMedia:function(){return this.media?this.media.findWhere({id:i.history.fragment.split("/").pop()}):!1},toggleReel:function(t,e,n){var i=this;null==n&&(n=400),t&&(t.preventDefault(),t.stopPropagation()),e!==!1&&(i.reelOpen=!i.reelOpen),i.reelOpen?(i.$(".sliderWrap").slideDown(n),i.$(".symbol").html("&and;")):(i.$(".sliderWrap").slideUp(n),i.$(".symbol").html("&or;"))},exitPlayer:function(t){t.preventDefault(),t.stopPropagation(),this.app.navigate("page/"+this.page.attributes.name,{trigger:!0})}});e.exports=a}()},{"../../../helpers/BackboneLoader.js":42,"../../../helpers/lib/holder.js":62,"../../../templates/routes/media/carousel.hbs":83,"../../base":55}],78:[function(require,module,exports){!function(){function createMethod(t){return function(){throw new Error('The "'+t+"\" method is not available on the playback technology's API")}}document.createElement("video"),document.createElement("audio");var vjs=function(t,e,n){var i;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),vjs.players[t])return vjs.players[t];i=vjs.el(t)}else i=t;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||new vjs.Player(i,e,n)},videojs=vjs;vjs.CDN_VERSION="4.0",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.players={},vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(t){var e,n;t=t||{},e=t.init||t.init||this.prototype.init||this.prototype.init||function(){},n=function(){e.apply(this,arguments)},n.prototype=vjs.obj.create(this.prototype),n.prototype.constructor=n,n.extend=vjs.CoreObject.extend,n.create=vjs.CoreObject.create;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);return n},vjs.CoreObject.create=function(){var t=vjs.obj.create(this.prototype);return this.apply(t,arguments),t},vjs.on=function(t,e,n){var i=vjs.getData(t);i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=vjs.guid++),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e){if(!i.disabled){e=vjs.fixEvent(e);var n=i.handlers[e.type];if(n)for(var r=n.slice(0),a=0,o=r.length;o>a&&!e.isImmediatePropagationStopped();a++)r[a].call(t,e)}}),1==i.handlers[e].length&&(document.addEventListener?t.addEventListener(e,i.dispatcher,!1):document.attachEvent&&t.attachEvent("on"+e,i.dispatcher))},vjs.off=function(t,e,n){if(vjs.hasData(t)){var i=vjs.getData(t);if(i.handlers){var r=function(e){i.handlers[e]=[],vjs.cleanUpEvents(t,e)};if(e){var a=i.handlers[e];if(a){if(!n)return r(e),void 0;if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);vjs.cleanUpEvents(t,e)}}else for(var s in i.handlers)r(s)}}},vjs.cleanUpEvents=function(t,e){var n=vjs.getData(t);0===n.handlers[e].length&&(delete n.handlers[e],document.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):document.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),vjs.isEmpty(n.handlers)&&(delete n.handlers,delete n.dispatcher,delete n.disabled),vjs.isEmpty(n)&&vjs.removeData(t)},vjs.fixEvent=function(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||window.event;t={};for(var r in i)"layerX"!==r&&"layerY"!==r&&(t[r]=i[r]);if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,t.isDefaultPrevented=e},t.isDefaultPrevented=n,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!=t.clientX){var a=document.documentElement,o=document.body;t.pageX=t.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},vjs.trigger=function(t,e){var n=vjs.hasData(t)?vjs.getData(t):{},i=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=vjs.fixEvent(e),n.dispatcher&&n.dispatcher.call(t,e),i&&!e.isPropagationStopped())vjs.trigger(i,e);else if(!i&&!e.isDefaultPrevented()){var r=vjs.getData(e.target);e.target[e.type]&&(r.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),r.disabled=!1)}return!e.isDefaultPrevented()},vjs.one=function(t,e,n){vjs.on(t,e,function(){vjs.off(t,e,arguments.callee),n.apply(this,arguments)})};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(t,e){var n=document.createElement(t||"div");for(var i in e)hasOwnProp.call(e,i)&&(-1!==i.indexOf("aria-")||"role"==i?n.setAttribute(i,e[i]):n[i]=e[i]);return n},vjs.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(t){function e(){}return e.prototype=t,new e},vjs.obj.each=function(t,e,n){for(var i in t)hasOwnProp.call(t,i)&&e.call(n||this,i,t[i])},vjs.obj.merge=function(t,e){if(!e)return t;for(var n in e)hasOwnProp.call(e,n)&&(t[n]=e[n]);return t},vjs.obj.deepMerge=function(t,e){var n,i,r,a;a="[object Object]",t=vjs.obj.copy(t);for(n in e)hasOwnProp.call(e,n)&&(i=t[n],r=e[n],t[n]=vjs.obj.isPlain(i)&&vjs.obj.isPlain(r)?vjs.obj.deepMerge(i,r):e[n]);return t},vjs.obj.copy=function(t){return vjs.obj.merge({},t)},vjs.obj.isPlain=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},vjs.bind=function(t,e,n){e.guid||(e.guid=vjs.guid++);var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(t){var e=t[vjs.expando];return e||(e=t[vjs.expando]=vjs.guid++,vjs.cache[e]={}),vjs.cache[e]},vjs.hasData=function(t){var e=t[vjs.expando];return!(!e||vjs.isEmpty(vjs.cache[e]))},vjs.removeData=function(t){var e=t[vjs.expando];if(e){delete vjs.cache[e];try{delete t[vjs.expando]}catch(n){t.removeAttribute?t.removeAttribute(vjs.expando):t[vjs.expando]=null}}},vjs.isEmpty=function(t){for(var e in t)if(null!==t[e])return!1;return!0},vjs.addClass=function(t,e){-1==(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className=""===t.className?e:t.className+" "+e)},vjs.removeClass=function(t,e){if(-1!=t.className.indexOf(e)){for(var n=t.className.split(" "),i=n.length-1;i>=0;i--)n[i]===e&&n.splice(i,1);t.className=n.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=!!vjs.USER_AGENT.match(/iPhone/i),vjs.IS_IPAD=!!vjs.USER_AGENT.match(/iPad/i),vjs.IS_IPOD=!!vjs.USER_AGENT.match(/iPod/i),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var t=vjs.USER_AGENT.match(/OS (\d+)_/i);return t&&t[1]?t[1]:void 0}(),vjs.IS_ANDROID=!!vjs.USER_AGENT.match(/Android.*AppleWebKit/i),vjs.ANDROID_VERSION=function(){var t=vjs.USER_AGENT.match(/Android (\d+)\./i);return t&&t[1]?t[1]:null}(),vjs.IS_FIREFOX=function(){return!!vjs.USER_AGENT.match("Firefox")},vjs.getAttributeValues=function(t){var e={},n=",autoplay,controls,loop,muted,default,";if(t&&t.attributes&&t.attributes.length>0)for(var i,r,a=t.attributes,o=a.length-1;o>=0;o--)i=a[o].name,r=a[o].value,("boolean"==typeof t[i]||-1!==n.indexOf(","+i+","))&&(r=null!==r?!0:!1),e[i]=r;return e},vjs.getComputedDimension=function(t,e){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(n=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),n},vjs.insertFirst=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},vjs.support={},vjs.el=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},vjs.formatTime=function(t,e){e=e||t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),a=Math.floor(e/60%60),o=Math.floor(e/3600);return r=r>0||o>0?r+":":"",i=((r||a>=10)&&10>i?"0"+i:i)+":",n=10>n?"0"+n:n,r+i+n},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(t){return t.toString().replace(/^\s+/,"").replace(/\s+$/,"")},vjs.round=function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},vjs.createTimeRange=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},vjs.get=function(t,e,n){var i=0===t.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===t.indexOf("http");"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")});var r=new XMLHttpRequest;try{r.open("GET",t)}catch(a){n(a)}r.onreadystatechange=function(){4===r.readyState&&(200===r.status||i&&0===r.status?e(r.responseText):n&&n())};try{r.send()}catch(a){n&&n(a)}},vjs.setLocalStorage=function(t,e){try{var n=window.localStorage||!1;if(!n)return;n[t]=e}catch(i){22==i.code||1014==i.code?vjs.log("LocalStorage Full (VideoJS)",i):18==i.code?vjs.log("LocalStorage not allowed (VideoJS)",i):vjs.log("LocalStorage Error (VideoJS)",i)}},vjs.getAbsoluteURL=function(t){return t.match(/^https?:\/\//)||(t=vjs.createEl("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},vjs.log=function(){vjs.log.history=vjs.log.history||[],vjs.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},vjs.findPosition=function(t){var e,n,i,r,a,o,s,l,u;return t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),e?(n=document.documentElement,i=document.body,r=n.clientLeft||i.clientLeft||0,a=window.pageXOffset||i.scrollLeft,o=e.left+a-r,s=n.clientTop||i.clientTop||0,l=window.pageYOffset||i.scrollTop,u=e.top+l-s,{left:o,top:u}):{left:0,top:0}},vjs.Component=vjs.CoreObject.extend({init:function(t,e,n){this.player_=t,this.options_=vjs.obj.copy(this.options_),e=this.options(e),this.id_=e.id||(e.el&&e.el.id?e.el.id:t.id()+"_component_"+vjs.guid++),this.name_=e.name||null,this.el_=e.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(n)}}),vjs.Component.prototype.dispose=function(){if(this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(t){return void 0===t?this.options_:this.options_=vjs.obj.deepMerge(this.options_,t)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(t,e){return vjs.createEl(t,e)},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(t){return this.childIndex_[t]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(t){return this.childNameIndex_[t]},vjs.Component.prototype.addChild=function(t,e){var n,i,r;return"string"==typeof t?(r=t,e=e||{},i=e.componentClass||vjs.capitalize(r),e.name=r,n=new vjs[i](this.player_||this,e)):n=t,this.children_.push(n),"function"==typeof n.id&&(this.childIndex_[n.id()]=n),r=r||n.name&&n.name(),r&&(this.childNameIndex_[r]=n),"function"==typeof n.el&&n.el()&&this.contentEl().appendChild(n.el()),n},vjs.Component.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id]=null,this.childNameIndex_[t.name]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},vjs.Component.prototype.initChildren=function(){var t=this.options_;if(t&&t.children){var e=this;vjs.obj.each(t.children,function(t,n){if(n!==!1){var i=function(){e[t]=e.addChild(t,n)};n.loadEvent||i()}})}},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(t,e){return vjs.on(this.el_,t,vjs.bind(this,e)),this},vjs.Component.prototype.off=function(t,e){return vjs.off(this.el_,t,e),this},vjs.Component.prototype.one=function(t,e){return vjs.one(this.el_,t,vjs.bind(this,e)),this},vjs.Component.prototype.trigger=function(t,e){return vjs.trigger(this.el_,t,e),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(t){return t&&(this.isReady_?t.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(t))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var t=this.readyQueue_;if(t&&t.length>0){for(var e=0,n=t.length;n>e;e++)t[e].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(t){return vjs.addClass(this.el_,t),this},vjs.Component.prototype.removeClass=function(t){return vjs.removeClass(this.el_,t),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.fadeIn=function(){return this.removeClass("vjs-fade-out"),this.addClass("vjs-fade-in"),this},vjs.Component.prototype.fadeOut=function(){return this.removeClass("vjs-fade-in"),this.addClass("vjs-fade-out"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){},this.fadeIn=function(){}},vjs.Component.prototype.width=function(t,e){return this.dimension("width",t,e)},vjs.Component.prototype.height=function(t,e){return this.dimension("height",t,e)},vjs.Component.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},vjs.Component.prototype.dimension=function(t,e,n){if(void 0!==e)return this.el_.style[t]=-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?e:"auto"===e?"":e+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+vjs.capitalize(t)],10)},vjs.Button=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e);var n=!1;this.on("touchstart",function(){n=!0}),this.on("touchmove",function(){n=!1});var i=this;this.on("touchend",function(t){n&&i.onClick(t),t.preventDefault(),t.stopPropagation()}),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(t,e){return e=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},e),vjs.Component.prototype.createEl.call(this,t,e)},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(t){(32==t.which||13==t.which)&&(t.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),t.on(this.playerEvent,vjs.bind(this,this.update)),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),t.ready(vjs.bind(this,this.update)),this.boundEvents={}}}),vjs.Slider.prototype.createEl=function(t,e){return e=e||{},e.className=e.className+" vjs-slider",e=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),vjs.Component.prototype.createEl.call(this,t,e)},vjs.Slider.prototype.onMouseDown=function(t){t.preventDefault(),vjs.blockTextSelection(),this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(t)},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var t,e=this.getPercent(),n=this.handle,i=this.bar;if(isNaN(e)&&(e=0),t=e,n){var r=this.el_,a=r.offsetWidth,o=n.el().offsetWidth,s=o?o/a:0,l=1-s,u=e*l;t=u+s/2,n.el().style.left=vjs.round(100*u,2)+"%"}i.el().style.width=vjs.round(100*t,2)+"%"}},vjs.Slider.prototype.calculateDistance=function(t){var e,n,i,r,a,o,s,l,u;if(e=this.el_,n=vjs.findPosition(e),a=o=e.offsetWidth,s=this.handle,this.options_.vertical){if(r=n.top,u=t.changedTouches?t.changedTouches[0].pageY:t.pageY,s){var c=s.el().offsetHeight;r+=c/2,o-=c}return Math.max(0,Math.min(1,(r-u+o)/o))}if(i=n.left,l=t.changedTouches?t.changedTouches[0].pageX:t.pageX,s){var p=s.el().offsetWidth;i+=p/2,a-=p}return Math.max(0,Math.min(1,(l-i)/a))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(t){37==t.which?(t.preventDefault(),this.stepBack()):39==t.which&&(t.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(t,e){return e=e||{},e.className=e.className+" vjs-slider-handle",e=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},e),vjs.Component.prototype.createEl.call(this,"div",e)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(t){this.addChild(t),t.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var t=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(t,{className:"vjs-menu-content"});var e=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),vjs.on(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},vjs.MenuItem=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.selected(e.selected)}}),vjs.MenuItem.prototype.createEl=function(t,e){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},e))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(t){t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_);if(this.options().title&&t.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),this.items=this.createItems(),this.items)for(var e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(t){t.preventDefault(),32==t.which||13==t.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==t.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.Player=vjs.Component.extend({init:function(t,e,n){this.tag=t,e=vjs.obj.merge(this.getTagSettings(t),e),this.cache_={},this.poster_=e.poster,this.controls_=e.controls,e.customControlsOnMobile!==!0&&(vjs.IS_IOS||vjs.IS_ANDROID)?(t.controls=e.controls,this.controls_=!1):t.controls=!1,vjs.Component.call(this,this,e,n),this.one("play",function(t){var e={type:"firstplay",target:this.el_},n=vjs.trigger(this.el_,e);n||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("error",this.onError),this.on("fullscreenchange",this.onFullscreenChange),vjs.players[this.id_]=this,e.plugins&&vjs.obj.each(e.plugins,function(t,e){this[t](e)},this)}}),vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.stopTrackingProgress(),this.stopTrackingCurrentTime(),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(t){var e={sources:[],tracks:[]};if(vjs.obj.merge(e,vjs.getAttributeValues(t)),t.hasChildNodes())for(var n,i,r=t.childNodes,a=0,o=r.length;o>a;a++)n=r[a],i=n.nodeName.toLowerCase(),"source"===i?e.sources.push(vjs.getAttributeValues(n)):"track"===i&&e.tracks.push(vjs.getAttributeValues(n));return e},vjs.Player.prototype.createEl=function(){var t=this.el_=vjs.Component.prototype.createEl.call(this,"div"),e=this.tag;if(e.removeAttribute("width"),e.removeAttribute("height"),e.hasChildNodes())for(var n=e.childNodes.length,i=0,r=e.childNodes;n>i;i++)("source"==r[0].nodeName.toLowerCase()||"track"==r[0].nodeName.toLowerCase())&&e.removeChild(r[0]);return e.id=e.id||"vjs_video_"+vjs.guid++,t.id=e.id,t.className=e.className,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),e.parentNode&&e.parentNode.insertBefore(t,e),vjs.insertFirst(e,t),t},vjs.Player.prototype.loadTech=function(t,e){this.tech?this.unloadTech():"Html5"!==t&&this.tag&&(this.el_.removeChild(this.tag),this.tag.player=null,this.tag=null),this.techName=t,this.isReady_=!1;var n=function(){this.player_.triggerReady(),this.features.progressEvents||this.player_.manualProgressOn(),this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()},i=vjs.obj.merge({source:e,parentEl:this.el_},this.options_[t.toLowerCase()]);e&&(e.src==this.cache_.src&&this.cache_.currentTime>0&&(i.startTime=this.cache_.currentTime),this.cache_.src=e.src),this.tech=new vjs[t](this,i),this.tech.ready(n)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress(),this.tech.one("progress",function(){this.features.progressEvents=!0,this.player_.manualProgressOff()})},vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)},vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0,this.player_.manualTimeUpdatesOff()
})},vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)},vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)},vjs.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())},vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime)},vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused")},vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))},vjs.Player.prototype.onError=function(t){vjs.log("Video Error",t)},vjs.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(t,e){if(this.tech&&this.tech.isReady_)this.tech.ready(function(){this[t](e)});else try{this.tech[t](e)}catch(n){throw vjs.log(n),n}},vjs.Player.prototype.techGet=function(t){if(this.tech&&this.tech.isReady_)try{return this.tech[t]()}catch(e){throw void 0===this.tech[t]?vjs.log("Video.js: "+t+" method not defined for "+this.techName+" playback technology.",e):"TypeError"==e.name?(vjs.log("Video.js: "+t+" unavailable on "+this.techName+" playback technology element.",e),this.tech.isReady_=!1):vjs.log(e),e}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(t){return void 0!==t?(this.cache_.lastSetCurrentTime=t,this.techCall("setCurrentTime",t),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(t){return void 0!==t?(this.cache_.duration=parseFloat(t),this):this.cache_.duration},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var t=this.techGet("buffered"),e=0,n=this.cache_.bufferEnd=this.cache_.bufferEnd||0;return t&&t.length>0&&t.end(0)!==n&&(n=t.end(0),this.cache_.bufferEnd=n),vjs.createTimeRange(e,n)},vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},vjs.Player.prototype.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall("setVolume",e),vjs.setLocalStorage("volume",e),this):(e=parseFloat(this.techGet("volume")),isNaN(e)?1:e)},vjs.Player.prototype.muted=function(t){return void 0!==t?(this.techCall("setMuted",t),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.requestFullScreen=function(){var t=vjs.support.requestFullScreen;return this.isFullScreen=!0,t?(vjs.on(document,t.eventName,vjs.bind(this,function(){this.isFullScreen=document[t.isFullScreen],this.isFullScreen===!1&&vjs.off(document,t.eventName,arguments.callee),this.trigger("fullscreenchange")})),this.el_[t.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){var t=vjs.support.requestFullScreen;return this.isFullScreen=!1,t?document[t.cancelFn]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(this.isFullScreen===!0?this.cancelFullScreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(t){for(var e=0,n=this.options_.techOrder;e<n.length;e++){var i=vjs.capitalize(n[e]),r=vjs[i];if(r.isSupported())for(var a=0,o=t;a<o.length;a++){var s=o[a];if(r.canPlaySource(s))return{source:s,tech:i}}}return!1},vjs.Player.prototype.src=function(t){if(t instanceof Array){var e,n=this.selectSource(t);n?(t=n.source,e=n.tech,e==this.techName?this.src(t):this.loadTech(e,t)):this.el_.appendChild(vjs.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else t instanceof Object?vjs[this.techName].canPlaySource(t)?this.src(t.src):this.src([t]):(this.cache_.src=t,this.isReady_?(this.techCall("src",t),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(t)}));return this},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.preload=function(t){return void 0!==t?(this.techCall("setPreload",t),this.options_.preload=t,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(t){return void 0!==t?(this.techCall("setAutoplay",t),this.options_.autoplay=t,this):this.techGet("autoplay",t)},vjs.Player.prototype.loop=function(t){return void 0!==t?(this.techCall("setLoop",t),this.options_.loop=t,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(t){return void 0!==t&&(this.poster_=t),this.poster_},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(t){return void 0!==t&&this.controls_!==t&&(this.controls_=!!t,this.trigger("controlschange")),this.controls_},vjs.Player.prototype.error=function(){return this.techGet("error")},vjs.Player.prototype.ended=function(){return this.techGet("ended")},function(){var t,e,n;n=document.createElement("div"),e={},void 0!==n.cancelFullscreen?(e.requestFn="requestFullscreen",e.cancelFn="exitFullscreen",e.eventName="fullscreenchange",e.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(t="moz",e.isFullScreen=t+"FullScreen"):(t="webkit",e.isFullScreen=t+"IsFullScreen"),n[t+"RequestFullScreen"]&&(e.requestFn=t+"RequestFullScreen",e.cancelFn=t+"CancelFullScreen"),e.eventName=t+"fullscreenchange"),document[e.cancelFn]&&(vjs.support.requestFullScreen=e)}(),vjs.ControlBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.controls()||this.disable(),t.one("play",vjs.bind(this,function(){var t,e=vjs.bind(this,this.fadeIn),n=vjs.bind(this,this.fadeOut);this.fadeOut(),"ontouchstart"in window||(this.player_.on("mouseover",e),this.player_.on("mouseout",n),this.player_.on("pause",vjs.bind(this,this.lockShowing)),this.player_.on("play",vjs.bind(this,this.unlockShowing))),t=!1,this.player_.on("touchstart",function(){t=!0}),this.player_.on("touchmove",function(){t=!1}),this.player_.on("touchend",vjs.bind(this,function(e){var n;t&&(n=this.el().className.search("fade-in"),-1!==n?this.fadeOut():this.fadeIn()),t=!1,this.player_.paused()||e.preventDefault()}))}))}}),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.ControlBar.prototype.fadeIn=function(){vjs.Component.prototype.fadeIn.call(this),this.player_.trigger("controlsvisible")},vjs.ControlBar.prototype.fadeOut=function(){vjs.Component.prototype.fadeOut.call(this),this.player_.trigger("controlshidden")},vjs.PlayToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.on("play",vjs.bind(this,this.onPlay)),t.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),this.el_.children[0].children[0].innerHTML="Pause"},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML="Play"},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),t.appendChild(vjs.createEl("div").appendChild(this.content)),t},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(t,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),t.appendChild(vjs.createEl("div").appendChild(this.content)),t},vjs.DurationDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(this.player_.duration()))},vjs.TimeDivider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),t.appendChild(vjs.createEl("div").appendChild(this.content)),t},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")},vjs.ProgressControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(t,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(t){vjs.Slider.prototype.onMouseDown.call(this,t),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e==this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},vjs.SeekBar.prototype.onMouseUp=function(t){vjs.Slider.prototype.onMouseUp.call(this,t),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},vjs.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=vjs.round(100*this.player_.bufferedPercent(),2)+"%")},vjs.PlayProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},vjs.SeekHandle=vjs.SliderHandle.extend(),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})},vjs.VolumeControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.tech&&t.tech.features&&t.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&t.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),t.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),t.ready(vjs.bind(this,this.updateARIAAttributes)),setTimeout(vjs.bind(this,this.update),0)}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(t){this.player_.volume(this.calculateDistance(t))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.on("volumechange",vjs.bind(this,this.update)),t.tech&&t.tech.features&&t.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&t.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:.33>t?e=1:.67>t&&(e=2),this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Mute");for(var n=0;4>n;n++)vjs.removeClass(this.el_,"vjs-vol-"+n);vjs.addClass(this.el_,"vjs-vol-"+e)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),t.on("volumechange",vjs.bind(this,this.update)),t.tech&&t.tech.features&&t.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&t.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_,{contentElType:"div"}),e=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return t.addChild(e),t},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PosterImage=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.poster()&&t.controls()||this.hide(),t.on("play",vjs.bind(this,this.hide))}}),vjs.PosterImage.prototype.createEl=function(){var t=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1}),e=this.player_.poster();return e&&("backgroundSize"in t.style?t.style.backgroundImage='url("'+e+'")':t.appendChild(vjs.createEl("img",{src:e}))),t},vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("canplay",vjs.bind(this,this.hide)),t.on("canplaythrough",vjs.bind(this,this.hide)),t.on("playing",vjs.bind(this,this.hide)),t.on("seeked",vjs.bind(this,this.hide)),t.on("seeking",vjs.bind(this,this.show)),t.on("seeked",vjs.bind(this,this.hide)),t.on("error",vjs.bind(this,this.show)),t.on("waiting",vjs.bind(this,this.show))}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.controls()||this.hide(),t.on("play",vjs.bind(this,this.hide))}}),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.MediaTechController=vjs.Component.extend({init:function(t,e,n){vjs.Component.call(this,t,e,n)}}),vjs.MediaTechController.prototype.onClick=function(){return vjs.IS_ANDROID?function(){}:function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())}}(),vjs.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1},vjs.media={},vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");for(var i=vjs.media.ApiMethods.length-1;i>=0;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(t,e,n){this.features.volumeControl=vjs.Html5.canControlVolume(),this.features.movingMediaElementInDOM=!vjs.IS_IOS,this.features.fullscreenResize=!0,vjs.MediaTechController.call(this,t,e,n);var i=e.source;i&&this.el_.currentSrc==i.src?t.trigger("loadstart"):i&&(this.el_.src=i.src),t.ready(function(){this.options_.autoplay&&this.paused()&&(this.tag.poster=null,this.play())}),this.on("click",this.onClick),this.setupTriggers(),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var t=this.player_,e=t.tag;e&&this.features.movingMediaElementInDOM!==!1||(e?(t.el().removeChild(e),e=e.cloneNode(!1)):e=vjs.createEl("video",{id:t.id()+"_html5_api",className:"vjs-tech"}),e.player=t,vjs.insertFirst(e,t.el()));for(var n=["autoplay","preload","loop","muted"],i=n.length-1;i>=0;i--){var r=n[i];null!==t.options_[r]&&(e[r]=t.options_[r])}return e},vjs.Html5.prototype.setupTriggers=function(){for(var t=vjs.Html5.Events.length-1;t>=0;t--)vjs.on(this.el_,vjs.Html5.Events[t],vjs.bind(this.player_,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(t){this.trigger(t),t.stopPropagation()},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){vjs.log(e,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(t){this.el_.volume=t},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(t){this.el_.muted=t},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)?!1:!0},vjs.Html5.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(t){this.el_.src=t},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(t){this.el_.preload=t},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(t){this.el_.autoplay=t},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(t){this.el_.loop=t},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.isSupported=function(){return!!document.createElement("video").canPlayType},vjs.Html5.canPlaySource=function(t){return!!document.createElement("video").canPlayType(t.type)},vjs.Html5.canControlVolume=function(){var t=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=t/2+.1,t!==vjs.TEST_VID.volume},vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.IS_ANDROID&&vjs.ANDROID_VERSION<3&&(document.createElement("video").constructor.prototype.canPlayType=function(t){return t&&-1!=t.toLowerCase().indexOf("video/mp4")?"maybe":""}),vjs.Flash=vjs.MediaTechController.extend({init:function(t,e,n){vjs.MediaTechController.call(this,t,e,n);var i=e.source,r=e.parentEl,a=this.el_=vjs.createEl("div",{id:t.id()+"_temp_flash"}),o=t.id()+"_flash_api",s=t.options_,l=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:s.autoplay,preload:s.preload,loop:s.loop,muted:s.muted},e.flashVars),u=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},e.params),c=vjs.obj.merge({id:o,name:o,"class":"vjs-tech"},e.attributes);if(i&&(l.src=encodeURIComponent(vjs.getAbsoluteURL(i.src))),vjs.insertFirst(a,r),e.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)}),e.iFrameMode!==!0||vjs.IS_FIREFOX)vjs.Flash.embed(e.swf,a,l,u,c);else{var p=vjs.createEl("iframe",{id:o+"_iframe",name:o+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});l.readyFunction="ready",l.eventProxyFunction="events",l.errorEventProxyFunction="errors",vjs.on(p,"load",vjs.bind(this,function(){var t,n=p.contentWindow;t=p.contentDocument?p.contentDocument:p.contentWindow.document,t.write(vjs.Flash.getEmbedCode(e.swf,l,u,c)),n.player=this.player_,n.ready=vjs.bind(this.player_,function(e){var n=t.getElementById(e),i=this,r=i.tech;r.el_=n,vjs.on(n,"click",r.bind(r.onClick)),vjs.Flash.checkReady(r)}),n.events=vjs.bind(this.player_,function(t,e){var n=this;n&&"flash"===n.techName&&n.trigger(e)}),n.errors=vjs.bind(this.player_,function(t,e){vjs.log("Flash Error",e)})})),a.parentNode.replaceChild(p,a)}}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(t){if(t=vjs.getAbsoluteURL(t),this.el_.vjs_src(t),this.player_.autoplay()){var e=this;setTimeout(function(){e.play()},0)}},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1};var api=vjs.Flash.prototype,readWrite="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),createSetter=function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);api["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}},createGetter=function(t){api[t]=function(){return this.el_.vjs_getProperty(t)}};if(function(){var t;for(t=0;t<readWrite.length;t++)createGetter(readWrite[t]),createSetter(readWrite[t]);for(t=0;t<readOnly.length;t++)createGetter(readOnly[t])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(t){return t.type in vjs.Flash.formats?"maybe":void 0},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(t){var e=vjs.el(t),n=e.player||e.parentNode.player,i=n.tech;e.player=n,i.el_=e,i.on("click",i.onClick),vjs.Flash.checkReady(i)},vjs.Flash.checkReady=function(t){t.el().vjs_getProperty?t.triggerReady():setTimeout(function(){vjs.Flash.checkReady(t)},50)},vjs.Flash.onEvent=function(t,e){var n=vjs.el(t).player;n.trigger(e)},vjs.Flash.onError=function(t,e){var n=vjs.el(t).player;n.trigger("error"),vjs.log("Flash Error",e,t)},vjs.Flash.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return t.split(",")},vjs.Flash.embed=function(t,e,n,i,r){var a=vjs.Flash.getEmbedCode(t,n,i,r),o=vjs.createEl("div",{innerHTML:a}).childNodes[0],s=e.parentNode;e.parentNode.replaceChild(o,e);var l=s.childNodes[0];return setTimeout(function(){l.style.display="block"},1e3),o},vjs.Flash.getEmbedCode=function(t,e,n,i){var r='<object type="application/x-shockwave-flash"',a="",o="",s="";return e&&vjs.obj.each(e,function(t,e){a+=t+"="+e+"&amp;"}),n=vjs.obj.merge({movie:t,flashvars:a,allowScriptAccess:"always",allowNetworking:"all"},n),vjs.obj.each(n,function(t,e){o+='<param name="'+t+'" value="'+e+'" />'}),i=vjs.obj.merge({data:t,width:"100%",height:"100%"},i),vjs.obj.each(i,function(t,e){s+=t+'="'+e+'" '}),r+s+">"+o+"</object>"},vjs.MediaLoader=vjs.Component.extend({init:function(t,e,n){if(vjs.Component.call(this,t,e,n),t.options_.sources&&0!==t.options_.sources.length)t.src(t.options_.sources);else for(var i=0,r=t.options_.techOrder;i<r.length;i++){var a=vjs.capitalize(r[i]),o=vjs[a];if(o&&o.isSupported()){t.loadTech(a);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_
},vjs.Player.prototype.addTextTrack=function(t,e,n,i){var r=this.textTracks_=this.textTracks_||[];i=i||{},i.kind=t,i.label=e,i.language=n;var a=vjs.capitalize(t||"subtitles"),o=new vjs[a+"Track"](this,i);return r.push(o),o},vjs.Player.prototype.addTextTracks=function(t){for(var e,n=0;n<t.length;n++)e=t[n],this.addTextTrack(e.kind,e.label,e.language,e);return this},vjs.Player.prototype.showTextTrack=function(t,e){for(var n,i,r,a=this.textTracks_,o=0,s=a.length;s>o;o++)n=a[o],n.id()===t?(n.show(),i=n):e&&n.kind()==e&&n.mode()>0&&n.disable();return r=i?i.kind():e?e:!1,r&&this.trigger(r+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.id_=e.id||"vjs_"+e.kind+"_"+e.language+"_"+vjs.guid++,this.src_=e.src,this.dflt_=e["default"]||e.dflt,this.title_=e.title,this.language_=e.srclang,this.label_=e.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?100*1.4*(screen.width/this.player_.width())+"%":""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),("captions"===this.kind_||"subtitles"===this.kind_)&&this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(t){this.error=t,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(t){for(var e,n,i,r,a=t.split("\n"),o="",s=1,l=a.length;l>s;s++)if(o=vjs.trim(a[s])){for(-1==o.indexOf("-->")?(r=o,o=vjs.trim(a[++s])):r=this.cues_.length,e={id:r,index:this.cues_.length},n=o.split(" --> "),e.startTime=this.parseCueTime(n[0]),e.endTime=this.parseCueTime(n[1]),i=[];a[++s]&&(o=vjs.trim(a[s]));)i.push(o);e.text=i.join("<br/>"),this.cues_.push(e)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(t){var e,n,i,r,a,o=t.split(":"),s=0;return 3==o.length?(e=o[0],n=o[1],i=o[2]):(e=0,n=o[0],i=o[1]),i=i.split(/\s+/),r=i.splice(0,1)[0],r=r.split(/\.|,/),a=parseFloat(r[1]),r=r[0],s+=3600*parseFloat(e),s+=60*parseFloat(n),s+=parseFloat(r),a&&(s+=a/1e3),s},vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var t=this.player_.currentTime();if(void 0===this.prevChange||t<this.prevChange||this.nextChange<=t){var e,n,i,r,a=this.cues_,o=this.player_.duration(),s=0,l=!1,u=[];for(t>=this.nextChange||void 0===this.nextChange?r=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(l=!0,r=void 0!==this.lastActiveIndex?this.lastActiveIndex:a.length-1);;){if(i=a[r],i.endTime<=t)s=Math.max(s,i.endTime),i.active&&(i.active=!1);else if(t<i.startTime){if(o=Math.min(o,i.startTime),i.active&&(i.active=!1),!l)break}else l?(u.splice(0,0,i),void 0===n&&(n=r),e=r):(u.push(i),void 0===e&&(e=r),n=r),o=Math.min(o,i.endTime),s=Math.max(s,i.startTime),i.active=!0;if(l){if(0===r)break;r--}else{if(r===a.length-1)break;r++}}this.activeCues_=u,this.nextChange=o,this.prevChange=s,this.firstActiveIndex=e,this.lastActiveIndex=n,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var t=this.activeCues_,e="",n=0,i=t.length;i>n;n++)e+='<span class="vjs-tt-cue">'+t[n].text+"</span>";this.el_.innerHTML=e},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(t,e,n){vjs.Component.call(this,t,e,n),t.options_.tracks&&t.options_.tracks.length>0&&this.player_.addTextTracks(t.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(t,e){var n=this.track=e.track;e.label=n.label(),e.selected=n.dflt(),vjs.MenuItem.call(this,t,e),this.player_.on(n.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){2==this.track.mode()?this.selected(!0):this.selected(!1)},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(t,e){e.track={kind:function(){return e.kind},player:t,label:function(){return e.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,t,e),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var t,e=this.player_.textTracks(),n=0,i=e.length,r=!0;i>n;n++)t=e[n],t.kind()==this.track.kind()&&2==t.mode()&&(r=!1);r?this.selected(!0):this.selected(!1)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var t,e=[];e.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var n=0;n<this.player_.textTracks().length;n++)t=this.player_.textTracks()[n],t.kind()===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}));return e},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(t,e,n){vjs.TextTrackButton.call(this,t,e,n),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(t,e,n){vjs.TextTrackButton.call(this,t,e,n),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(t,e,n){vjs.TextTrackButton.call(this,t,e,n),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var t,e=[],n=0;n<this.player_.textTracks().length;n++)t=this.player_.textTracks()[n],t.kind()===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}));return e},vjs.ChaptersButton.prototype.createMenu=function(){for(var t,e,n=this.player_.textTracks(),i=0,r=n.length,a=this.items=[];r>i;i++)if(t=n[i],t.kind()==this.kind_&&t.dflt()){if(t.readyState()<2)return this.chaptersTrack=t,t.on("loaded",vjs.bind(this,this.createMenu)),void 0;e=t;break}var o=this.menu=new vjs.Menu(this.player_);if(o.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),e){var s,l,u=e.cues_;for(i=0,r=u.length;r>i;i++)s=u[i],l=new vjs.ChaptersTrackMenuItem(this.player_,{track:e,cue:s}),a.push(l),o.addChild(l)}return this.items.length>0&&this.show(),o},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(t,e){var n=this.track=e.track,i=this.cue=e.cue,r=t.currentTime();e.label=i.text,e.selected=i.startTime<=r&&r<i.endTime,vjs.MenuItem.call(this,t,e),n.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var t=this.cue,e=this.player_.currentTime();t.startTime<=e&&e<t.endTime?this.selected(!0):this.selected(!1)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var t,e,n,i=document.getElementsByTagName("video");if(i&&i.length>0)for(var r=0,a=i.length;a>r;r++){if(e=i[r],!e||!e.getAttribute){vjs.autoSetupTimeout(1);break}void 0===e.player&&(t=e.getAttribute("data-setup"),null!==t&&(t=vjs.JSON.parse(t||"{}"),n=videojs(e,t)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(t){setTimeout(vjs.autoSetup,t)},vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(t,e){vjs.Player.prototype[t]=e},module.exports=vjs}()},{}],65:[function(t,e,n){!function(){var e,i=this,r=i.Backbone,a=[],o=a.push,s=a.slice,l=a.splice;e="undefined"!=typeof n?n:i.Backbone={},e.VERSION="1.0.0";var u=i._;u||"undefined"==typeof t||(u=t("underscore")),e.$=i.jQuery||i.Zepto||i.ender||i.$,e.noConflict=function(){return i.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var c=e.Events={on:function(t,e,n){if(!h(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!h(this,"once",t,[e,n])||!e)return this;var i=this,r=u.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var i,r,a,o,s,l,c,p;if(!this._events||!h(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(o=t?[t]:u.keys(this._events),s=0,l=o.length;l>s;s++)if(t=o[s],a=this._events[t]){if(this._events[t]=i=[],e||n)for(c=0,p=a.length;p>c;c++)r=a[c],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!h(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&d(n,e),i&&d(i,arguments),this},stopListening:function(t,e,n){var i=this._listeners;if(!i)return this;var r=!e&&!n;"object"==typeof e&&(n=this),t&&((i={})[t._listenerId]=t);for(var a in i)i[a].off(e,n,this),r&&delete this._listeners[a];return this}},p=/\s+/,h=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(p.test(n)){for(var a=n.split(p),o=0,s=a.length;s>o;o++)t[e].apply(t,[a[o]].concat(i));return!1}return!0},d=function(t,e){var n,i=-1,r=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},f={listenTo:"on",listenToOnce:"once"};u.each(f,function(t,e){c[e]=function(e,n,i){var r=this._listeners||(this._listeners={}),a=e._listenerId||(e._listenerId=u.uniqueId("l"));return r[a]=e,"object"==typeof n&&(i=this),e[t](n,i,this),this}}),c.bind=c.on,c.unbind=c.off,u.extend(e,c);var v=e.Model=function(t,e){var n,i=t||{};e||(e={}),this.cid=u.uniqueId("c"),this.attributes={},u.extend(this,u.pick(e,m)),e.parse&&(i=this.parse(i,e)||{}),(n=u.result(this,"defaults"))&&(i=u.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},m=["url","urlRoot","collection"];u.extend(v.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return u.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return u.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,a,o,s,l,c,p;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;a=n.unset,s=n.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=u.clone(this.attributes),this.changed={}),p=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)e=r[i],u.isEqual(p[i],e)||o.push(i),u.isEqual(c[i],e)?delete this.changed[i]:this.changed[i]=e,a?delete p[i]:p[i]=e;if(!s){o.length&&(this._pending=!0);for(var h=0,d=o.length;d>h;h++)this.trigger("change:"+o[h],this,p[o[h]],n)}if(l)return this;if(!s)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,u.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,u.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!u.isEmpty(this.changed):u.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?u.clone(this.changed):!1;var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in t)u.isEqual(i[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(t){t=t?u.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(n&&n(e,i,t),e.trigger("sync",e,i,t),void 0):!1},H(this,t),this.sync("read",this,t)},save:function(t,e,n){var i,r,a,o=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=u.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=u.extend({},o,i)),void 0===n.parse&&(n.parse=!0);var s=this,l=n.success;return n.success=function(t){s.attributes=o;var e=s.parse(t,n);return n.wait&&(e=u.extend(i||{},e)),u.isObject(e)&&!s.set(e,n)?!1:(l&&l(s,t,n),s.trigger("sync",s,t,n),void 0)},H(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),a=this.sync(r,this,n),i&&n.wait&&(this.attributes=o),a},destroy:function(t){t=t?u.clone(t):{};var e=this,n=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(r){(t.wait||e.isNew())&&i(),n&&n(e,r,t),e.isNew()||e.trigger("sync",e,r,t)},this.isNew())return t.success(),!1;H(this,t);var r=this.sync("delete",this,t);return t.wait||i(),r},url:function(){var t=u.result(this,"urlRoot")||u.result(this.collection,"url")||D();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},u.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=u.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,u.extend(e||{},{validationError:n})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];u.each(g,function(t){v.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),u[t].apply(u,e)}});var y=e.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,u.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},j={add:!0,merge:!1,remove:!1};u.extend(y.prototype,c,{model:v,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,u.defaults(e||{},j))},remove:function(t,e){t=u.isArray(t)?t.slice():[t],e||(e={});var n,i,r,a;for(n=0,i=t.length;i>n;n++)a=this.get(t[n]),a&&(delete this._byId[a.id],delete this._byId[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,e.silent||(e.index=r,a.trigger("remove",a,this,e)),this._removeReference(a));return this},set:function(t,e){e=u.defaults(e||{},b),e.parse&&(t=this.parse(t,e)),u.isArray(t)||(t=t?[t]:[]);var n,i,r,a,s,c=e.at,p=this.comparator&&null==c&&e.sort!==!1,h=u.isString(this.comparator)?this.comparator:null,d=[],f=[],v={};for(n=0,i=t.length;i>n;n++)(r=this._prepareModel(t[n],e))&&((a=this.get(r))?(e.remove&&(v[a.cid]=!0),e.merge&&(a.set(r.attributes,e),p&&!s&&a.hasChanged(h)&&(s=!0))):e.add&&(d.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(e.remove){for(n=0,i=this.length;i>n;++n)v[(r=this.models[n]).cid]||f.push(r);f.length&&this.remove(f,e)}if(d.length&&(p&&(s=!0),this.length+=d.length,null!=c?l.apply(this.models,[c,0].concat(d)):o.apply(this.models,d)),s&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=d.length;i>n;n++)(r=d[n]).trigger("add",r,this,e);return s&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,u.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,u.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,u.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return u.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),u.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=u.isFunction(e)?e:function(t){return t.get(e)};return u.sortedIndex(this.models,t,i,n)},pluck:function(t){return u.invoke(this.models,"get",t)},fetch:function(t){t=t?u.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?u.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,i=e.success;return e.success=function(r){e.wait&&n.add(t,e),i&&i(t,r,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof v)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var x=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(x,function(t){y.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),u[t].apply(u,e)}});var w=["groupBy","countBy","sortBy"];u.each(w,function(t){y.prototype[t]=function(e,n){var i=u.isFunction(e)?e:function(t){return t.get(e)};return u[t](this.models,i,n)}});var _=e.View=function(t){this.cid=u.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},C=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];u.extend(_.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=u.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(u.isFunction(n)||(n=this[t[e]]),n){var i=e.match(C),r=i[1],a=i[2];n=u.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,n):this.$el.on(r,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=u.extend({},u.result(this,"options"),t)),u.extend(this,u.pick(t,T)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"),!1);else{var t=u.extend({},u.result(this,"attributes"));this.id&&(t.id=u.result(this,"id")),this.className&&(t["class"]=u.result(this,"className"));var n=e.$("<"+u.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var r=k[t];u.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(i.url||(a.url=u.result(n,"url")||D()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",i.emulateJSON&&(a.data._method=r);var o=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"!==a.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var s=i.xhr=e.ajax(u.extend(a,i));return n.trigger("request",n,s,i),s};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,A=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(E.prototype,c,{initialize:function(){},route:function(t,n,i){u.isRegExp(t)||(t=this._routeToRegExp(t)),u.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(a){var o=r._extractParameters(t,a);i&&i.apply(r,o),r.trigger.apply(r,["route:"+n].concat(o)),r.trigger("route",n,o),e.history.trigger("route",r,n,o)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=u.result(this,"routes");for(var t,e=u.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(P,"\\$&").replace(S,"(?:$1)?").replace(N,function(t,e){return e?t:"([^/]+)"}).replace(A,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return u.map(n,function(t){return t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,$=/^\/+|\/+$/g,O=/msie [\w.]+/,F=/\/$/;M.started=!1,u.extend(M.prototype,c,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(F,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(I,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=u.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=O.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace($,"/"),r&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location,o=a.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&a.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=u.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!M.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new M;var L=function(t,e){var n,i=this;n=t&&u.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},u.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&u.extend(n.prototype,t),n.__super__=i.prototype,n};v.extend=y.extend=E.extend=_.extend=M.extend=L;var D=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}}}.call(this)},{underscore:84}],67:[function(t,e){!function(){var n=t("./base"),i=t("lodash"),r=t("./customization"),a=n.extend({name:"user",url:function(){return this.app.config.baseUrl+"/users/auth.json"},parse:function(t){var e=i.clone(t);try{e=e.user,e.customization=new r({},{app:this.app}).parse({customization:e.customization}),t=e}catch(n){t={error:t.error}}return t},defaults:{username:"",password:"",token:!1,policy:"",signature:"",path:"",customization:{},error:null}});e.exports=a}()},{"./base":75,"./customization":69,lodash:45}],68:[function(t,e){!function(){var n=t("./base"),i=t("./video"),r=t("./image"),a=(t("../helpers/BackboneLoader"),t("lodash")),o=t("utilities/lib/string"),s=n.extend({name:"page",urlRoot:function(){return this.app.config.baseUrl+"/pages"},defaults:{name:"Untitled",items:[],userId:"",isPublished:!1,errors:null},initialize:function(t,e){this.set(t),this.app=e.app||{}},validate:function(t){var e=[];if(t.name&&0!=t.name.length||e.push({attr:"name",message:"Page title cannot be empty"}),!t.id){var n=this.app.db.fetchCollection("pages").filter(function(e){return e.attributes.name.toLowerCase()===t.name.toLowerCase()});n&&n.length>0&&e.push({attr:"name",message:"Another page already exists with this name"})}return e.length?e:void 0},toJSON:function(){return incoming=a.clone(this.attributes),incoming.items&&(incoming.itemList=JSON.stringify(incoming.items)),incoming},parse:function(t){try{t.items=JSON.parse(t.itemList),delete t.itemList}catch(e){t={errors:"Bad response from server: "+e}}return t},getMedia:function(){return this.app.db.fetchCollection("pageMedia",{app:this.app,pageId:this.id})},removeMedia:function(t,e){var n=this,i=a.clone(n.attributes.items);i=a.reject(i,function(e){return e.ID===t
}),n.set("items",i),n.save(null,{success:function(){n.app.db.fetchCollection("unprocessedUploads").fetch(),n.app.db.fetchCollection("pages").fetch(),e(null)},error:function(t,n){e(n.responseText)}})},addMedia:function(t){var e=this;filepicker.pickAndStore({extensions:e.app.config.videoExts.concat(e.app.config.imageExts),multiple:!1,signature:e.app.getUser().attributes.signature,policy:e.app.getUser().attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP"]},{location:"s3",path:e.app.getUser().attributes.path+o.uuid(10),access:"public"},function(n){e.app.setFlash("info","Just a second while we process your uploads..."),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);for(var o=a.clone(e.attributes.items),s=n.length,l=function(i){var r=i.id,a=i.attributes.name,l=i.attributes.type.toLowerCase();o.push({ID:r,NAME:a,TYPE:l,THUMB:i.templateVars().thumbnailUrl}),s--,0===s&&(e.set("items",o),e.save(null,{success:function(){e.app.db.fetchCollection("unprocessedUploads").fetch(),e.app.db.fetchCollection("pages").fetch(),t(null,n)},error:e.app.error}))},u=0,c=n.length;c>u;u++)!function(t){var n,a,o={name:t.filename,fpkey:t.url,mimeType:t.mimetype,originalFilesize:t.size,userId:e.attributes.userId,attribs:[],status:0};e.app.util.isVideo(t.filename)?(n=new i({},{app:e.app}),a="video"):e.app.util.isImage(t.filename)&&(n=new r({},{app:e.app}),a="image"),n.set(o),"image"===a?n.cropThumbnail(null,function(t){t?e.app.error(t):l(n)}):n.save(null,{success:function(t){l(t)},error:e.app.error})}(n[u])},function(e){t(e)})}});e.exports=s}()},{"../helpers/BackboneLoader":42,"./base":75,"./image":47,"./video":49,lodash:45,"utilities/lib/string":85}],69:[function(t,e){!function(){var n=t("./base"),i=t("lodash"),r=(t("../helpers/BackboneLoader"),n.extend({name:"customization",urlRoot:function(){return this.app.config.baseUrl+"/customizations"},toJSON:function(){return incoming=i.clone(this.attributes),incoming.config&&(incoming.config=JSON.stringify(incoming.config)),incoming.diffs&&(incoming.diffs=JSON.stringify(incoming.diffs)),incoming},parse:function(t){t=t.customization,delete t.customization;try{t.config=JSON.parse(t.config),t.diffs=JSON.parse(t.diffs)}catch(e){t.config={},t.diffs={}}return t}}));e.exports=r}()},{"../helpers/BackboneLoader":42,"./base":75,lodash:45}],70:[function(t,e){!function(){var n=t("./base"),i=(t("lodash"),n.extend({name:"media",initialize:function(t,e){this.set(t),this.app=e.app||{},this.pageId=e.pageId||null,this.model=function(t){return"image"===t.type.toLowerCase()?e.app.db.createModel("image",t):e.app.db.createModel("video",t)}},url:function(){return this.app.config.baseUrl+"/pages/"+this.pageId+"/media.json"}}));e.exports=i}()},{"./base":76,lodash:45}],71:[function(t,e){!function(){var n=t("./base"),i=(t("../models/page"),t("lodash"),n.extend({name:"page",url:function(){return this.app.config.baseUrl+"/pages.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(t,e){this.set(t),this.app=e.app||{},this.model=function(t){var n=e.app.db.createModel("page"),i=n.parse(t);return e.app.db.fetchModel("page",i.id,i)}},comparator:function(t){return t.get("priority")}}));e.exports=i}()},{"../models/page":68,"./base":76,lodash:45}],72:[function(t,e){!function(){var n=t("./base"),i=(t("../models/image.js"),t("../models/video.js"),t("lodash"),n.extend({name:"media",url:function(){return this.app.config.baseUrl+"/unprocessed.json"},initialize:function(t,e){this.set(t),this.app=e.app||{},this.model=function(t){return"image"===t.type.toLowerCase()?e.app.db.createModel("image").set(t):e.app.db.createModel("video").set(t)}}}));e.exports=i}()},{"../models/image.js":47,"../models/video.js":49,"./base":76,lodash:45}],73:[function(t,e){!function(){var n=t("./base"),i=(t("../models/image"),t("lodash"),n.extend({name:"image",url:function(){return this.app.config.baseUrl+"/images.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(t,e){this.set(t),this.app=e.app||{},this.model=function(t){var n=e.app.db.createModel("image");return e.app.db.createModel("image",n.parse(t))}}}));e.exports=i}()},{"../models/image":47,"./base":76,lodash:45}],74:[function(t,e){!function(){var n=t("./base"),i=(t("../models/video"),t("lodash"),n.extend({name:"video",url:function(){return this.app.config.baseUrl+"/videos.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(t,e){this.set(t),this.app=e.app||{},this.model=function(t){var n=e.app.db.createModel("video");return e.app.db.createModel("video",n.parse(t))}}}));e.exports=i}()},{"../models/video":49,"./base":76,lodash:45}],84:[function(t,e,n){!function(){var t=this,i=t._,r={},a=Array.prototype,o=Object.prototype,s=Function.prototype,l=a.push,u=a.slice,c=a.concat,p=o.toString,h=o.hasOwnProperty,d=a.forEach,f=a.map,v=a.reduce,m=a.reduceRight,g=a.filter,y=a.every,b=a.some,j=a.indexOf,x=a.lastIndexOf,w=Array.isArray,_=Object.keys,C=s.bind,T=function(t){return t instanceof T?t:this instanceof T?(this._wrapped=t,void 0):new T(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=T),n._=T):t._=T,T.VERSION="1.5.1";var k=T.each=T.forEach=function(t,e,n){if(null!=t)if(d&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,a=t.length;a>i;i++)if(e.call(n,t[i],i,t)===r)return}else for(var o in t)if(T.has(t,o)&&e.call(n,t[o],o,t)===r)return};T.map=T.collect=function(t,e,n){var i=[];return null==t?i:f&&t.map===f?t.map(e,n):(k(t,function(t,r,a){i.push(e.call(n,t,r,a))}),i)};var E="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),v&&t.reduce===v)return i&&(e=T.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(k(t,function(t,a,o){r?n=e.call(i,n,t,a,o):(n=t,r=!0)}),!r)throw new TypeError(E);return n},T.reduceRight=T.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),m&&t.reduceRight===m)return i&&(e=T.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var a=t.length;if(a!==+a){var o=T.keys(t);a=o.length}if(k(t,function(s,l,u){l=o?o[--a]:--a,r?n=e.call(i,n,t[l],l,u):(n=t[l],r=!0)}),!r)throw new TypeError(E);return n},T.find=T.detect=function(t,e,n){var i;return S(t,function(t,r,a){return e.call(n,t,r,a)?(i=t,!0):void 0}),i},T.filter=T.select=function(t,e,n){var i=[];return null==t?i:g&&t.filter===g?t.filter(e,n):(k(t,function(t,r,a){e.call(n,t,r,a)&&i.push(t)}),i)},T.reject=function(t,e,n){return T.filter(t,function(t,i,r){return!e.call(n,t,i,r)},n)},T.every=T.all=function(t,e,n){e||(e=T.identity);var i=!0;return null==t?i:y&&t.every===y?t.every(e,n):(k(t,function(t,a,o){return(i=i&&e.call(n,t,a,o))?void 0:r}),!!i)};var S=T.some=T.any=function(t,e,n){e||(e=T.identity);var i=!1;return null==t?i:b&&t.some===b?t.some(e,n):(k(t,function(t,a,o){return i||(i=e.call(n,t,a,o))?r:void 0}),!!i)};T.contains=T.include=function(t,e){return null==t?!1:j&&t.indexOf===j?-1!=t.indexOf(e):S(t,function(t){return t===e})},T.invoke=function(t,e){var n=u.call(arguments,2),i=T.isFunction(e);return T.map(t,function(t){return(i?e:t[e]).apply(t,n)})},T.pluck=function(t,e){return T.map(t,function(t){return t[e]})},T.where=function(t,e,n){return T.isEmpty(e)?n?void 0:[]:T[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},T.findWhere=function(t,e){return T.where(t,e,!0)},T.max=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&T.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return k(t,function(t,r,a){var o=e?e.call(n,t,r,a):t;o>i.computed&&(i={value:t,computed:o})}),i.value},T.min=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&T.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return k(t,function(t,r,a){var o=e?e.call(n,t,r,a):t;o<i.computed&&(i={value:t,computed:o})}),i.value},T.shuffle=function(t){var e,n=0,i=[];return k(t,function(t){e=T.random(n++),i[n-1]=i[e],i[e]=t}),i};var N=function(t){return T.isFunction(t)?t:function(e){return e[t]}};T.sortBy=function(t,e,n){var i=N(e);return T.pluck(T.map(t,function(t,e,r){return{value:t,index:e,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index<e.index?-1:1}),"value")};var A=function(t,e,n,i){var r={},a=N(null==e?T.identity:e);return k(t,function(e,o){var s=a.call(n,e,o,t);i(r,s,e)}),r};T.groupBy=function(t,e,n){return A(t,e,n,function(t,e,n){(T.has(t,e)?t[e]:t[e]=[]).push(n)})},T.countBy=function(t,e,n){return A(t,e,n,function(t,e){T.has(t,e)||(t[e]=0),t[e]++})},T.sortedIndex=function(t,e,n,i){n=null==n?T.identity:N(n);for(var r=n.call(i,e),a=0,o=t.length;o>a;){var s=a+o>>>1;n.call(i,t[s])<r?a=s+1:o=s}return a},T.toArray=function(t){return t?T.isArray(t)?u.call(t):t.length===+t.length?T.map(t,T.identity):T.values(t):[]},T.size=function(t){return null==t?0:t.length===+t.length?t.length:T.keys(t).length},T.first=T.head=T.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:u.call(t,0,e)},T.initial=function(t,e,n){return u.call(t,0,t.length-(null==e||n?1:e))},T.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:u.call(t,Math.max(t.length-e,0))},T.rest=T.tail=T.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},T.compact=function(t){return T.filter(t,T.identity)};var P=function(t,e,n){return e&&T.every(t,T.isArray)?c.apply(n,t):(k(t,function(t){T.isArray(t)||T.isArguments(t)?e?l.apply(n,t):P(t,e,n):n.push(t)}),n)};T.flatten=function(t,e){return P(t,e,[])},T.without=function(t){return T.difference(t,u.call(arguments,1))},T.uniq=T.unique=function(t,e,n,i){T.isFunction(e)&&(i=n,n=e,e=!1);var r=n?T.map(t,n,i):t,a=[],o=[];return k(r,function(n,i){(e?i&&o[o.length-1]===n:T.contains(o,n))||(o.push(n),a.push(t[i]))}),a},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(t){var e=u.call(arguments,1);return T.filter(T.uniq(t),function(t){return T.every(e,function(e){return T.indexOf(e,t)>=0})})},T.difference=function(t){var e=c.apply(a,u.call(arguments,1));return T.filter(t,function(t){return!T.contains(e,t)})},T.zip=function(){for(var t=T.max(T.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=T.pluck(arguments,""+n);return e},T.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},T.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return i=T.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,r+n):n}if(j&&t.indexOf===j)return t.indexOf(e,n);for(;r>i;i++)if(t[i]===e)return i;return-1},T.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(x&&t.lastIndexOf===x)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},T.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,a=new Array(i);i>r;)a[r++]=t,t+=n;return a};var M=function(){};T.bind=function(t,e){var n,i;if(C&&t.bind===C)return C.apply(t,u.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return n=u.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(u.call(arguments)));M.prototype=t.prototype;var r=new M;M.prototype=null;var a=t.apply(r,n.concat(u.call(arguments)));return Object(a)===a?a:r}},T.partial=function(t){var e=u.call(arguments,1);return function(){return t.apply(this,e.concat(u.call(arguments)))}},T.bindAll=function(t){var e=u.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return k(e,function(e){t[e]=T.bind(t[e],t)}),t},T.memoize=function(t,e){var n={};return e||(e=T.identity),function(){var i=e.apply(this,arguments);return T.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},T.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},T.defer=function(t){return T.delay.apply(T,[t,1].concat(u.call(arguments,1)))},T.throttle=function(t,e,n){var i,r,a,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,o=null,a=t.apply(i,r)};return function(){var u=new Date;s||n.leading!==!1||(s=u);var c=e-(u-s);return i=this,r=arguments,0>=c?(clearTimeout(o),o=null,s=u,a=t.apply(i,r)):o||n.trailing===!1||(o=setTimeout(l,c)),a}},T.debounce=function(t,e,n){var i,r=null;return function(){var a=this,o=arguments,s=function(){r=null,n||(i=t.apply(a,o))},l=n&&!r;return clearTimeout(r),r=setTimeout(s,e),l&&(i=t.apply(a,o)),i}},T.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},T.wrap=function(t,e){return function(){var n=[t];return l.apply(n,arguments),e.apply(this,n)}},T.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},T.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},T.keys=_||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)T.has(t,n)&&e.push(n);return e},T.values=function(t){var e=[];for(var n in t)T.has(t,n)&&e.push(t[n]);return e},T.pairs=function(t){var e=[];for(var n in t)T.has(t,n)&&e.push([n,t[n]]);return e},T.invert=function(t){var e={};for(var n in t)T.has(t,n)&&(e[t[n]]=n);return e},T.functions=T.methods=function(t){var e=[];for(var n in t)T.isFunction(t[n])&&e.push(n);return e.sort()},T.extend=function(t){return k(u.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},T.pick=function(t){var e={},n=c.apply(a,u.call(arguments,1));return k(n,function(n){n in t&&(e[n]=t[n])}),e},T.omit=function(t){var e={},n=c.apply(a,u.call(arguments,1));for(var i in t)T.contains(n,i)||(e[i]=t[i]);return e},T.defaults=function(t){return k(u.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},T.clone=function(t){return T.isObject(t)?T.isArray(t)?t.slice():T.extend({},t):t},T.tap=function(t,e){return e(t),t};var I=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof T&&(t=t._wrapped),e instanceof T&&(e=e._wrapped);var r=p.call(t);if(r!=p.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var a=n.length;a--;)if(n[a]==t)return i[a]==e;var o=t.constructor,s=e.constructor;if(o!==s&&!(T.isFunction(o)&&o instanceof o&&T.isFunction(s)&&s instanceof s))return!1;n.push(t),i.push(e);var l=0,u=!0;if("[object Array]"==r){if(l=t.length,u=l==e.length)for(;l--&&(u=I(t[l],e[l],n,i)););}else{for(var c in t)if(T.has(t,c)&&(l++,!(u=T.has(e,c)&&I(t[c],e[c],n,i))))break;if(u){for(c in e)if(T.has(e,c)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};T.isEqual=function(t,e){return I(t,e,[],[])},T.isEmpty=function(t){if(null==t)return!0;if(T.isArray(t)||T.isString(t))return 0===t.length;for(var e in t)if(T.has(t,e))return!1;return!0},T.isElement=function(t){return!(!t||1!==t.nodeType)},T.isArray=w||function(t){return"[object Array]"==p.call(t)},T.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){T["is"+t]=function(e){return p.call(e)=="[object "+t+"]"}}),T.isArguments(arguments)||(T.isArguments=function(t){return!(!t||!T.has(t,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(t){return"function"==typeof t}),T.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},T.isNaN=function(t){return T.isNumber(t)&&t!=+t},T.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==p.call(t)},T.isNull=function(t){return null===t},T.isUndefined=function(t){return void 0===t},T.has=function(t,e){return h.call(t,e)},T.noConflict=function(){return t._=i,this},T.identity=function(t){return t},T.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;t>r;r++)i[r]=e.call(n,r);return i},T.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var $={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};$.unescape=T.invert($.escape);var O={escape:new RegExp("["+T.keys($.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys($.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(t){T[t]=function(e){return null==e?"":(""+e).replace(O[t],function(e){return $[t][e]})}}),T.result=function(t,e){if(null==t)return void 0;var n=t[e];return T.isFunction(n)?n.call(t):n},T.mixin=function(t){k(T.functions(t),function(e){var n=T[e]=t[e];T.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),R.call(this,n.apply(T,t))}})};var F=0;T.uniqueId=function(t){var e=++F+"";return t?t+e:e},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(t,e,n){var i;n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),a=0,o="__p+='";t.replace(r,function(e,n,i,r,s){return o+=t.slice(a,s).replace(H,function(t){return"\\"+D[t]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+e.length,e}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(e)return i(e,T);var l=function(t){return i.call(this,t,T)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},T.chain=function(t){return T(t).chain()};var R=function(t){return this._chain?T(t).chain():t};T.mixin(T),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];T.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],R.call(this,n)}}),k(["concat","join","slice"],function(t){var e=a[t];T.prototype[t]=function(){return R.call(this,e.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this)},{}],85:[function(t,e){var n,i=t("./core"),r=t("./inflection");n=new function(){var t,e,a=/^\s+/,o=/\s+$/,s=/^\s+|\s+$/g,l=/\n|\r|\r\n/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t=function(t){return function(e){var n=e;("undefined"==typeof n||null===n||!n&&isNaN(n))&&(n=""),n=n.toString();var i,r,a;for(a in u)i="to"==t?a:u[a],r="to"==t?u[a]:a,n=n.replace(new RegExp(i,"gm"),r);return n}},e=function(t){return function(e){var n,i="";for(n in u)i+="to"==t?n:u[n],i+="|";return i=i.substr(0,i.length-1),i=new RegExp(i,"gm"),i.test(e)}},this.escapeXML=t("to"),this.unescapeXML=t("from"),this.needsEscape=e("to"),this.needsUnescape=e("from"),this.escapeRegExpChars=function(){var t=["^","$","/",".","*","+","?","|","(",")","[","]","{","}","\\"];return sRE=new RegExp("(\\"+t.join("|\\")+")","g"),function(t){var e=t||"";return e=String(e),e.replace(sRE,"\\$1")}}.call(this),this.toArray=function(t){var e=t||"",n=[],i=-1;for(e=String(e);++i<e.length;)n.push(e.substr(i,1));return n},this.reverse=function(t){var e=t||"";return e=String(e),this.toArray(e).reverse().join("")},this.ltrim=function(t,e){var n=t||"",i=e?new RegExp("^"+e+"+"):a;return n=String(n),n.replace(i,"")},this.rtrim=function(t,e){var n=t||"",i=e?new RegExp(e+"+$"):o;return n=String(n),n.replace(i,"")},this.chomp=this.rtrim,this.trim=function(t,e){var n=t||"",i=e?new RegExp("^"+e+"+|"+e+"+$","g"):s;return n=String(n),n.replace(i,"")},this.chop=function(t){var e,n=t||"";return n=String(n),n.length?(e=n.indexOf("\r\n"),e==n.length-2?n.substring(0,e):n.substring(0,n.length-1)):""},this.lpad=function(t,e,n){var n,i=t||"";for(i=String(i),n=parseInt(n,10)||i.length,e=e||" ";i.length<n;)i=e+i;return i},this.rpad=function(t,e,n){var n,i=t||"";for(i=String(i),n=parseInt(n,10)||i.length,e=e||" ";i.length<n;)i+=e;return i},this.pad=function(t,e,n){var n,i=t||"";for(i=String(i),n=parseInt(n,10)||i.length,e=e||" ";i.length<n;)i=e+i+e;return i},this.truncate=function(t,e,n){var i,r,a,o,s,l,u,c,p,h,d,f=t||"";if(f=String(f),i=f.length,r="number"==typeof e?{length:e}:e||{},r.length=r.length||i,r.omission=r.omission||r.ellipsis||"...",a=r.length-r.omission.length,r.seperator){if(r.seperator instanceof RegExp){for(r.seperator.global?r.seperator=r.seperator:(s=r.seperator.ignoreCase?"i":"",l=r.seperator.multiLine?"m":"",r.seperator=new RegExp(r.seperator.source,"g"+s+l)),u=f.substring(0,a+1),c=-1,p=0;h=r.seperator.exec(u);)c=h.index,r.seperator.lastIndex=++p;o=c}else o=f.lastIndexOf(r.seperator,a);-1===o&&(o=a)}else o=a;return i<r.length?f:(d=f.substring(0,o)+r.omission,d+=n&&"function"==typeof n?n():"")},this.truncateHTML=function(t,e,n){var i=t||"",r="",a=e;if(i=String(i),"number"==typeof a){var o=a;a={},a.length=o}else a=a||{};a.once=a.once||!1;for(var s,l,u,c,p=/(<[^>]*>)/,h=[],d=!1,f=p.exec(i);f;)l=f.index,u=p.lastIndex,0!==l&&(h.push(i.substring(0,l)),i=i.slice(l)),h.push(f[0]),i=i.slice(f[0].length),f=p.exec(i);for(""!==i&&h.push(i),c=-1;++c<h.length;)switch(s=h[c],!0){case 0==s.indexOf("</"):r+=s,openTag=null;break;case 0==s.indexOf("<"):r+=s,openTag=s;break;default:a.once&&d?r+=s:(r+=this.truncate(s,a,n),d=!0)}return r},this.nl2br=function(t){var e=t||"";return e=String(e),e.replace(l,"<br />")},this.snakeize=function(){var t=/([A-Z]+)/g,e=/^_/g;return function(n,i){var r=n||"",a=i||"_",o=i?new RegExp("^"+a,"g"):e;return r=String(r),r.replace(t,a+"$1").toLowerCase().replace(o,"")}}.call(this),this.underscorize=this.snakeize,this.underscoreize=this.snakeize,this.decamelize=this.snakeize,this.camelize=function(){var t=/[-_](\w)/g;return function(e,n){var r,a=e||"",o={initialCap:!1,leadingUnderscore:!1},s=n||{};return a=String(a),"boolean"==typeof s?o={initialCap:!0}:i.mixin(o,s),r=a.replace(t,function(t,e){return e.toUpperCase()}),o.leadingUnderscore&0===a.indexOf("_")&&(r="_"+this.decapitalize(r)),r=o.initialCap?this.capitalize(r):this.decapitalize(r)}}.call(this),this.decapitalize=function(t){var e=t||"";return e=String(e),e.substr(0,1).toLowerCase()+e.substr(1)},this.capitalize=function(t){var e=t||"";return e=String(e),e.substr(0,1).toUpperCase()+e.substr(1)},this.dasherize=function(t,e){var n=e||"-";return this.snakeize(t,n)},this.include=function(t,e){var i=e;return i||"string"==typeof n?(i=String(i),t.indexOf(i)>-1):!1},this.getInflections=function(t){if(t){var e=this,n=this.snakeize(r.pluralize(t)),i=r.singularize(n),a=r.pluralize(n);return{filename:{singular:i,plural:a},constructor:{singular:e.camelize(i,{initialCap:!0}),plural:e.camelize(a,{initialCap:!0})},property:{singular:e.camelize(i),plural:e.camelize(a)}}}},this.getInflection=function(t,e,n){var i=this.getInflections(t);return i[e][n]},this.uuid=function(t,e){var n,i,r=c,a=[];if(e=e||r.length,t)for(i=-1;++i<t;)a[i]=r[0|Math.random()*e];else for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",i=-1;++i<36;)a[i]||(n=0|16*Math.random(),a[i]=r[19==i?8|3&n:n]);return a.join("")}},e.exports=n},{"./core":86,"./inflection":87}],86:[function(t,e){var n=new function(){var t=function(e,n,i,r){for(var a in n)(n.hasOwnProperty(a)||r)&&(!i||"object"!=typeof n[a]||null===n[a]||n[a]instanceof Array?e[a]=n[a]:(void 0==e[a]&&(e[a]={}),t(e[a],n[a],i,r)))};this.mixin=function(){var e,n,i=Array.prototype.slice.apply(arguments),r=!1;i.length>2&&"boolean"==typeof i[i.length-1]&&(r=i.pop()),e=i.shift(),n=i;for(var a=0,o=n.length;o>a;a++)t(e,n[a],r);return e},this.enhance=function(){var e,n,i=Array.prototype.slice.apply(arguments),r=!1;i.length>2&&"boolean"==typeof i[i.length-1]&&(r=i.pop()),e=i.shift(),n=i;for(var a=0,o=n.length;o>a;a++)t(e,n[a],r,!0);return e},this.isEmpty=function(t){return""===t||void 0==t?!0:"number"==typeof t&&isNaN(t)?!0:t instanceof Date&&isNaN(t.getTime())?!0:!1}};e.exports=n},{}],87:[function(t,e){var n=new function(){this.inflections={plurals:[],singulars:[],uncountables:[]};var t,e,n,i,r,a=this;t=function(t,e,n){a.inflections[t].unshift([e,n])},e=function(e,n){t("plurals",e,n)},n=function(e,n){t("singulars",e,n)},r=function(t,i){t.substr(0,1).toUpperCase()==i.substr(0,1).toUpperCase()?(e(new RegExp("("+t.substr(0,1)+")"+t.substr(1)+"$","i"),"$1"+i.substr(1)),e(new RegExp("("+i.substr(0,1)+")"+i.substr(1)+"$","i"),"$1"+i.substr(1)),n(new RegExp("("+i.substr(0,1)+")"+i.substr(1)+"$","i"),"$1"+t.substr(1))):(e(new RegExp(t.substr(0,1).toUpperCase()+t.substr(1)+"$"),i.substr(0,1).toUpperCase()+i.substr(1)),e(new RegExp(t.substr(0,1).toLowerCase()+t.substr(1)+"$"),i.substr(0,1).toLowerCase()+i.substr(1)),e(new RegExp(i.substr(0,1).toUpperCase()+i.substr(1)+"$"),i.substr(0,1).toUpperCase()+i.substr(1)),e(new RegExp(i.substr(0,1).toLowerCase()+i.substr(1)+"$"),i.substr(0,1).toLowerCase()+i.substr(1)),n(new RegExp(i.substr(0,1).toUpperCase()+i.substr(1)+"$"),t.substr(0,1).toUpperCase()+t.substr(1)),n(new RegExp(i.substr(0,1).toLowerCase()+i.substr(1)+"$"),t.substr(0,1).toLowerCase()+t.substr(1)))},i=function(t){a.inflections.uncountables[t]=!0},function(){e(/$/,"s"),e(/s$/i,"s"),e(/(ax|test)is$/i,"$1es"),e(/(octop|vir)us$/i,"$1i"),e(/(alias|status)$/i,"$1es"),e(/(bu)s$/i,"$1ses"),e(/(buffal|tomat)o$/i,"$1oes"),e(/([ti])um$/i,"$1a"),e(/sis$/i,"ses"),e(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),e(/(hive)$/i,"$1s"),e(/([^aeiouy]|qu)y$/i,"$1ies"),e(/(x|ch|ss|sh)$/i,"$1es"),e(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),e(/([m|l])ouse$/i,"$1ice"),e(/^(ox)$/i,"$1en"),e(/(quiz)$/i,"$1zes"),n(/s$/i,""),n(/ss$/i,"ss"),n(/(n)ews$/i,"$1ews"),n(/([ti])a$/i,"$1um"),n(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"),n(/(^analy)ses$/i,"$1sis"),n(/([^f])ves$/i,"$1fe"),n(/(hive)s$/i,"$1"),n(/(tive)s$/i,"$1"),n(/([lr])ves$/i,"$1f"),n(/([^aeiouy]|qu)ies$/i,"$1y"),n(/(s)eries$/i,"$1eries"),n(/(m)ovies$/i,"$1ovie"),n(/(x|ch|ss|sh)es$/i,"$1"),n(/([m|l])ice$/i,"$1ouse"),n(/(bus)es$/i,"$1"),n(/(o)es$/i,"$1"),n(/(shoe)s$/i,"$1"),n(/(cris|ax|test)es$/i,"$1is"),n(/(octop|vir)i$/i,"$1us"),n(/(alias|status)es$/i,"$1"),n(/^(ox)en/i,"$1"),n(/(vert|ind)ices$/i,"$1ex"),n(/(matr)ices$/i,"$1ix"),n(/(quiz)zes$/i,"$1"),n(/(database)s$/i,"$1"),r("person","people"),r("man","men"),r("child","children"),r("sex","sexes"),r("move","moves"),r("cow","kine"),i("equipment"),i("information"),i("rice"),i("money"),i("species"),i("series"),i("fish"),i("sheep"),i("jeans")}(),this.parse=function(t,e){var n=e.toLowerCase(),i=this.inflections[t];if(this.inflections.uncountables[n])return e;for(var r=-1;++r<i.length;){var a=i[r][0],o=i[r][1];if(a.test(e))return e.replace(a,o)}return e},this.pluralize=function(t){return this.parse("plurals",t)},this.singularize=function(t){return this.parse("singulars",t)}};e.exports=n},{}],20:[function(t,e){!function(){var n=t("../../base"),i=t("../../layout/navbar.js"),r=t("../../layout/footer.js"),a=t("lodash"),o=t("../../../helpers/BackboneLoader"),s=n.extend({template:t("../../../templates/routes/pages/create.hbs"),events:{submit:"performSave","click a.app":"handleAppLink"},initialize:function(t){this.app=t.app,this.model=this.app.db.createModel("page"),this.listenTo(this.model,"invalid",function(t,e){this.app.error(this.model,e)},this),this.listenTo(this.app.getUser(),"change",this.render,this),this.toggleContact=a.bind(this.toggleContact,this)},remove:function(){this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact),o.View.prototype.remove.apply(this,arguments)},afterRender:function(){var t,e=new i({app:this.app}),n=new r({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(n,this.$("#footer")),this.eachSubview(function(t){t.render()}),t=this.$("input[name=name]"),""==t.val().replace(/]w/,"")&&t.val("").focus(),this.$(".switch").bootstrapSwitch(),this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact)},context:function(){var t,e=this.app.getCustomization();return e&&e.attributes&&e.attributes.config?(t=e.attributes.config,this.getContext({showContact:t.showContact?t.showContact.value:!1})):this.getContext({showContact:!1})},performSave:function(t){var e=this;t.preventDefault();var n=this.$("input[name=name]").val();e.model.save({userId:e.app.getUser().id,name:n,priority:e.app.db.fetchCollection("pages").length},{success:function(){e.app.db.fetchCollection("pages").add(e.model),e.app.navigate("page/"+n,{trigger:!0})},error:e.app.error})},toggleContact:function(t){var e=this,n=this.$("input[name=showContact]").parent().hasClass("switch-on"),i=this.app.getCustomization(),r=i.attributes.config;t.stopPropagation(),t.preventDefault(),this.app.setFlash("info","Turning contact page "+(n?"on":"off")+"..."),r.showContact||(r.showContact={type:"boolean",name:"Show Contact Page","default":!1}),r.showContact.value=n,i.set("config",r),i.save({},{success:function(){e.app.setFlash("success","Your contact page has been turned "+(n?"on":"off")),e.render()},error:e.app.error})}});e.exports=s}()},{"../../../helpers/BackboneLoader":42,"../../../templates/routes/pages/create.hbs":88,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,lodash:45}],30:[function(t,e){!function(){var n=t("../../base"),i=t("lodash"),r=t("../../layout/navbar.js"),a=t("../../layout/footer.js"),o=t("../../../helpers/lib/holder.js"),s=n.extend({template:t("../../../templates/routes/media/pick.hbs"),events:{"click .reelgrid a":"appendMedia"},initialize:function(t){this.app=t.app,this.page=this.app.db.createModel("page").set({name:"Loading..."}),this.images=this.app.db.fetchCollection("images"),this.videos=this.app.db.fetchCollection("videos");var e=this.app.db.fetchCollection("pages");this.listenTo(this.images,"add remove change sort",this.render,this),this.listenTo(this.videos,"add remove change sort",this.render,this),this.listenTo(this.app.getUser(),"change",this.render,this),e.once("ready",function(){var n=e.find(function(e){return e.attributes.name.toLowerCase()===t.pageName.toLowerCase()});n?(this.page=n,this.listenTo(this.page,"change ready",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var t=new r({app:this.app}),e=new a({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(e,this.$("#footer")),this.eachSubview(function(t){t.render()}),o.run()},context:function(){var t=[],e=encodeURIComponent(this.page.attributes.name);return this.images&&this.images.forEach(function(n){t.push(n.templateVars(e))}),this.videos&&this.videos.forEach(function(n){t.push(n.templateVars(e))}),this.getContext({media:t,page:this.page.attributes,uploadUrl:"page/"+e+"/addMedia"})},appendMedia:function(t){t.preventDefault(),t.stopPropagation();for(var e,n,r=this,a=r.page.attributes?encodeURIComponent(r.page.attributes.name):"undefined",o=t.target;"a"!=o.tagName.toLowerCase();)o=o.parentElement;o=$(o),r.app.setFlash("info","Adding to page..."),n=this.app.db.fetchModel(o.attr("data-media-type"),o.attr("data-media-id")),n.once("ready",function(){"Loading..."!==r.page.attributes.name?(e=i.clone(r.page.attributes.items),e.push({ID:n.id,NAME:n.attributes.name,TYPE:n.attributes.type.toLowerCase(),THUMB:n.templateVars().thumbnailUrl}),r.page.save({items:e},{success:function(){r.app.navigate("page/"+a,{trigger:!0}),r.app.setFlash("success","Added!")},error:r.app.error})):r.app.error("Please wait for the page to load before picking a media file")})}});e.exports=s}()},{"../../../helpers/lib/holder.js":62,"../../../templates/routes/media/pick.hbs":89,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,lodash:45}],34:[function(t,e){!function(){var n=t("../../base"),i=t("lodash"),r=t("../../layout/navbar.js"),a=t("../../layout/footer.js"),o=t("../../routes/media/thumb.js"),s=n.extend({template:t("../../../templates/routes/media/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.upload":"performPick","click a.crop":"performCapture","click a.capture":"performCapture","click a.app":"handleAppLink","click a.choose":"performChoose"},initialize:function(t){this.app=t.app,this.mediaType=t.mediaType,this.mediaId=t.mediaId,this.showThumbnailPicker=!1,this.media=this.app.db.fetchModel(t.mediaType,t.mediaId),this.listenTo(this.app.getUser(),"change",this.render,this),this.listenTo(this.media,"change",this.render,this),this.listenTo(this.media,"invalid",function(){this.app.error(this.media.validationError)
},this),this.renderOnReady(this.media)},afterRender:function(){var t=new r({app:this.app}),e=new o({app:this.app,mediaType:this.mediaType,mediaId:this.mediaId}),n=new a({app:this.app});this.appendSubview(t,this.$("#header")),this.media.attributes&&2===this.media.attributes.status&&this.appendSubview(e,this.$("#thumber")),this.appendSubview(n,this.$("#footer")),this.eachSubview(function(t){t.render()}),i.defer(function(){this.$("div.tagsinput").remove(),this.$("input[name=attribs]").tagsInput(),this.$("legend span").popover({placement:"right",trigger:"hover",html:!0})},this),this.$("#useOriginalButton").button("reset"),this.$("#useCaptureButton").button("reset")},context:function(){return this.getContext({media:this.media.templateVars(),isEncoded:2===this.media.attributes.status,showThumbnailPicker:this.showThumbnailPicker})},readInput:function(t){var e=this.readAttributes();t&&t.preventDefault(),this.media.set(e)},readAttributes:function(){return{name:this.$("input[name=name]").val(),attribs:this.$("input[name=attribs]").val().split(",")}},performSave:function(t){var e=this;t.preventDefault();var n=this.$("input[name=name]").val(),i=this.$("input[name=attribs]").val().split(",");this.app.clearFlash(),this.media.save({userId:e.app.getUser().attributes.id,name:n,attribs:i},{success:function(){e.app.db.fetchCollection("unprocessedUploads").fetch({success:function(){var t=e.media.attributes.type.charAt(0).toUpperCase();t+=e.media.attributes.type.substr(1),e.app.setFlash("success",t+" Saved!")},error:e.app.error})},error:e.app.error})},performDelete:function(t){t.preventDefault(),t.stopPropagation();var e=this,n=confirm("Are you sure you want to delete "+e.media.attributes.name+"?");return n?(filepicker.remove(e.media.fpfile(),{policy:e.app.getUser().attributes.policy,signature:e.app.getUser().attributes.signature},function(){e.media.destroy({success:function(){e.app.navigate("",{trigger:!0})},error:e.app.error})},e.app.error),void 0):!1},performPick:function(t){t.preventDefault(),t.stopPropagation(),this.app.clearFlash(),this.media.pickThumbnail()},performCapture:function(t){t.preventDefault(),t.stopPropagation(),this.app.clearFlash(),this.app.trigger("captureThumbnail",this.mediaType,this.mediaId,this.readAttributes()),this.$("#useCaptureButton").button("loading")},performChoose:function(t){t.preventDefault(),t.stopPropagation(),this.showThumbnailPicker=!0,this.render()}});e.exports=s}()},{"../../../templates/routes/media/edit.hbs":90,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,"../../routes/media/thumb.js":80,lodash:45}],22:[function(t,e){!function(){var n=t("async"),i=t("../../base"),r=t("../../layout/navbar.js"),a=t("../../layout/footer.js"),o=i.extend({template:t("../../../templates/routes/pages/reorder.hbs"),events:{submit:"performSave"},initialize:function(t){this.app=t.app,this.pages=this.app.db.fetchCollection("pages"),this.renderOnReady(this.pages)},context:function(){var t=this.pages.map(function(t){return t.attributes});return this.getContext({pages:t})},afterRender:function(){var t=this,e=new r({app:t.app}),n=new a({app:t.app});t.appendSubview(e,t.$("#header")),t.appendSubview(n,t.$("#footer")),t.eachSubview(function(t){t.render()}),t.$(".sortable").sortable().bind("sortupdate",function(){})},readSortOrder:function(){var t=this,e=t.$(".sortable").children(),i=[],r=[];e.each(function(e,n){var a=t.pages.get($(n).attr("data-uuid"));a.set("priority",e),i.push(a),r.push(function(t){a.save({},{success:t})})}),t.pages.reset(i).sort(),n.parallel(r,function(){t.app.setFlash("success","Page order saved!"),t.$("button").button("reset")})},performSave:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.app.clearFlash(),this.$("button").button("loading"),this.readSortOrder()}});e.exports=o}()},{"../../../templates/routes/pages/reorder.hbs":91,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,async:92}],32:[function(t,e){!function(){var n=t("../../base"),i=t("lodash"),r=t("js-thumb"),a=t("./carousel"),o=(t("videojs"),n.extend({template:t("../../../templates/routes/media/show.hbs"),events:{},initialize:function(t){this.app=t.app,this.pageName=t.pageName,this.mediaType=t.mediaType,this.mediaId=t.mediaId,this.media=this.app.db.fetchModel(t.mediaType,t.mediaId),this.media.id&&this.media.fetch(),this.listenTo(this.app.getUser(),"change",this.render,this),this.listenTo(this.media,"change",this.render,this),this.fetchPage(t.pageName,function(){this.render()})},afterRender:function(){var t=this,e=this.media.templateVars(),n=new a({app:this.app,pageName:this.pageName}),o=function(e,n,i){e?t.app.error(e):i.on("ended",function(){t.app.trigger("videoEnded",t.media)})};this.appendSubview(n,this.$("#carouselWrapper")),this.eachSubview(function(t){t.render()}),i.defer(function(){t.media&&t.media.attributes&&"video"===t.media.attributes.type.toLowerCase()&&2===t.media.attributes.status&&(t.$("#vid_placeholder").empty(),r.loadVideo(t.$("#vid_placeholder")[0],{vjs:{autoplay:!0},attributes:{center:!0,resize:{maxWidth:960,upscale:!1},width:t.media.attributes.width||960,height:t.media.attributes.height||540},sources:[{src:e.hdUrl,type:t.app.util.mime("video/mp4")}]},o))})},context:function(){return this.getContext({media:this.media.templateVars()})}}));e.exports=o}()},{"../../../templates/routes/media/show.hbs":93,"../../base":55,"./carousel":82,"js-thumb":46,lodash:45,videojs:78}],48:[function(t,e){!function(){var n=t("./base"),i=t("../helpers/BackboneLoader.js"),r=t("lodash"),a=t("utilities/lib/string"),o=n.extend({name:"media",urlRoot:function(){return this.app.config.baseUrl+"/Media_is_an_abstract_class_do_not_use_it"},defaults:{name:"Untitled",s3key:null,fpkey:null,mimeType:null,originalFilesize:null,userId:null,thumbnailS3key:null,thumbnailFpkey:null,width:1280,height:720,attribs:[],reviewIssue:null,status:0,type:"unknown"},validate:function(t){var e=[];return t.name&&0!=t.name.length||e.push({attr:"name",message:"Media name cannot be empty"}),e.length?e:void 0},toJSON:function(){return incoming=r.clone(this.attributes),incoming.attribs&&(incoming.userAttributes=JSON.stringify(incoming.attribs)),incoming},sync:function(t,e,n){var r=this,a=function(){!e.attributes.thumbnailS3key&&e.attributes.thumbnailFpkey&&e.attributes.debug!==!0?filepicker.stat(r.thumbnailFpfile(),{path:!0,policy:r.app.db.fetchModel("user").attributes.policy,signature:r.app.db.fetchModel("user").attributes.signature},function(r){e.set("thumbnailS3key",r.path),i.sync(t,e,n)}):i.sync(t,e,n)};!e.attributes.s3key&&e.attributes.fpkey&&e.attributes.debug!==!0?filepicker.stat(r.fpfile(),{path:!0,policy:r.app.db.fetchModel("user").attributes.policy,signature:r.app.db.fetchModel("user").attributes.signature},function(t){e.set("s3key",t.path),a()}):a()},destroy:function(t){var e=this;if(1===this.attributes.status)e.app.setFlash("error","Please wait until encoding is finished to delete this");else{if(t.success){var n=t.success;t.success=function(){e.app.db.fetchCollection("unprocessedUploads").fetch(),e.app.db.fetchCollection("images").fetch(),e.app.db.fetchCollection("videos").fetch(),n&&n()}}i.sync("delete",this,t)}},parse:function(t){try{t.attribs=JSON.parse(t.userAttributes)}catch(e){t.attribs=[]}finally{delete t.userAttributes}return t},pickThumbnail:function(){var t=this;filepicker.pick({extensions:t.app.config.imageExts,path:t.app.db.fetchModel("user").attributes.path+a.uuid(10),signature:t.app.db.fetchModel("user").attributes.signature,policy:t.app.db.fetchModel("user").attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP","URL","IMAGE_SEARCH"]},function(e){t.cropThumbnail(e)},function(e){101!==e.code&&t.app.error(e)})},cropThumbnail:function(t,e){var n=this;t||(t=n.fpfile()),e||n.app.setFlash("info","Please wait while we process the image..."),filepicker.convert(t,{signature:n.app.db.fetchModel("user").attributes.signature,policy:n.app.db.fetchModel("user").attributes.policy,width:n.app.config.thumbnailDims.width,height:n.app.config.thumbnailDims.height,fit:"crop"},{path:n.app.getUser().attributes.path+a.uuid(10),location:"s3",access:"public"},function(t){n.save({thumbnailFpkey:t.url,thumbnailS3key:null,status:2},{success:function(){n.app.db.fetchCollection("unprocessedUploads").fetch(),e?e():n.app.setFlash("success","Thumbnail saved!")},error:function(t,i){e?e(i.responseText):n.app.error.apply(this,arguments)}})},function(t){n.app.error(t)})},useThumbnail:function(t){var e=this;e.app.setFlash("info","Please wait while we process the image..."),filepicker.store(t,{signature:e.app.getUser().attributes.signature,policy:e.app.getUser().attributes.policy,mimetype:"image/png",base64decode:!0,path:e.app.getUser().attributes.path+a.uuid(10),location:"s3",access:"public"},function(t){e.save({thumbnailFpkey:t.url,thumbnailS3key:null},{success:function(){e.app.setFlash("success","Thumbnail saved!"),e.app.db.fetchCollection("unprocessedUploads").fetch()},error:e.app.error})},function(t){e.app.error(t)})},fpfile:function(){return{url:this.attributes.fpkey,filename:this.attributes.name,mimetype:this.attributes.mimeType,isWriteable:!1,size:this.attributes.originalFilesize}},thumbnailFpfile:function(){return{url:this.attributes.thumbnailFpkey}},templateVars:function(t,e){var n=r.clone(this.attributes);switch(e=e===!0,n.s3key?n.url=this.app.config.s3prefix+n.s3key:n.thumbnailUrl=this.app.util.placeholderThumbnail(e),n.thumbnailUrl=n.thumbnailS3key?this.app.config.s3prefix+n.thumbnailS3key:this.app.util.placeholderThumbnail(e),n.isImage="image"===n.type.toLowerCase(),n.isVideo="video"===n.type.toLowerCase(),n.isVideo&&1===n.status&&(n.thumbnailUrl=e?this.app.config.placeholders.encoding.half:this.app.config.placeholders.encoding.full),n.attributeList=n.attribs.join(","),n.attribs=r.map(n.attribs,function(t){return t.replace(/^(.*:)/,"<strong>$1</strong>")}),this.app.isLoggedIn()&&(n.editHref="/media/"+n.type.toLowerCase()+"/"+n.id+"/edit",n.removeHref="/media/"+n.type.toLowerCase()+"/"+n.id+"/remove/"+t),t&&(n.playerUrl="page/"+t+"/"+n.type.toLowerCase()+"/"+n.id),n.status){case 1:n.reviewIssue="Encoding in progress";break;case 2:n.reviewIssue="Encoding completed",n.hdUrl=n.url+"/hd.mp4",n.sdUrl=n.url+"/sd.mp4";break;case 3:n.reviewIssue="Encoding failed"}return n.isEncoding=1===n.status,n}});e.exports=o}()},{"../helpers/BackboneLoader.js":42,"./base":75,lodash:45,"utilities/lib/string":85}],55:[function(t,e){!function(){var n=t("ribcage-view"),i=t("lodash"),r=n.extend({renderOnReady:function(){var t=Array.prototype.slice.call(arguments),e=this,n=t.length,r=function(){n--,0>n&&e.render()};i.each(t,function(t){t.once("ready",r,t)}),r()},fetchPage:function(t,e){var n=this,i="Error 404: The page could not be found";t=t.toLowerCase(),n.page=this.app.db.createModel("page").set({name:"Loading..."}),n.pages=this.app.db.fetchCollection("pages"),n.pages.once("ready",function(){var r,a=n.pages.find(function(e){return e.attributes.name.toLowerCase()===t.toLowerCase()});a?(n.page=a,n.listenTo(n.page,"change",n.render,n)):(n.page.set({name:"404"}),n.app.error(i),r=new Error(i)),e.call(n,r,n.page)})},getContext:function(t){var e=t||{},n={isLoggedIn:this.app.isLoggedIn(),flash:i.clone(this.app.flash),debug:this.app.bootstrap.debug?!0:!1},r=this.app.getUserVars();return i.extend({},r,n,e)},context:function(){return this.getContext()},handleAppLink:function(t){this.app.handleAppLink(t)},events:{"click a.app":"handleAppLink"},beforeRender:function(){this.eachSubview(function(t){t.close()}),this.$el.empty()}});e.exports=r}()},{lodash:45,"ribcage-view":94}],92:[function(t,e){var n=t("__browserify_process");!function(){function t(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(i,arguments)}}var i,r,a={};i=this,null!=i&&(r=i.async),a.noConflict=function(){return i.async=r,a};var o=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},s=function(t,e){if(t.map)return t.map(e);var n=[];return o(t,function(t,i,r){n.push(e(t,i,r))}),n},l=function(t,e,n){return t.reduce?t.reduce(e,n):(o(t,function(t,i,r){n=e(n,t,i,r)}),n)},u=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof n&&n.nextTick?(a.nextTick=n.nextTick,a.setImmediate="undefined"!=typeof setImmediate?setImmediate:a.nextTick):"function"==typeof setImmediate?(a.nextTick=function(t){setImmediate(t)},a.setImmediate=a.nextTick):(a.nextTick=function(t){setTimeout(t,0)},a.setImmediate=a.nextTick),a.each=function(e,n,i){if(i=i||function(){},!e.length)return i();var r=0;o(e,function(a){n(a,t(function(t){t?(i(t),i=function(){}):(r+=1,r>=e.length&&i(null))}))})},a.forEach=a.each,a.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var i=0,r=function(){e(t[i],function(e){e?(n(e),n=function(){}):(i+=1,i>=t.length?n(null):r())})};r()},a.forEachSeries=a.eachSeries,a.eachLimit=function(t,e,n,i){var r=c(e);r.apply(null,[t,n,i])},a.forEachLimit=a.eachLimit;var c=function(t){return function(e,n,i){if(i=i||function(){},!e.length||0>=t)return i();var r=0,a=0,o=0;!function s(){if(r>=e.length)return i();for(;t>o&&a<e.length;)a+=1,o+=1,n(e[a-1],function(t){t?(i(t),i=function(){}):(r+=1,o-=1,r>=e.length?i():s())})}()}},p=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a.each].concat(e))}},h=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[c(t)].concat(n))}},d=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a.eachSeries].concat(e))}},f=function(t,e,n,i){var r=[];e=s(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n,i){r[t.index]=i,e(n)})},function(t){i(t,r)})};a.map=p(f),a.mapSeries=d(f),a.mapLimit=function(t,e,n,i){return v(e)(t,n,i)};var v=function(t){return h(t,f)};a.reduce=function(t,e,n,i){a.eachSeries(t,function(t,i){n(e,t,function(t,n){e=n,i(t)})},function(t){i(t,e)})},a.inject=a.reduce,a.foldl=a.reduce,a.reduceRight=function(t,e,n,i){var r=s(t,function(t){return t}).reverse();a.reduce(r,e,n,i)},a.foldr=a.reduceRight;var m=function(t,e,n,i){var r=[];e=s(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&r.push(t),e()})},function(){i(s(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};a.filter=p(m),a.filterSeries=d(m),a.select=a.filter,a.selectSeries=a.filterSeries;var g=function(t,e,n,i){var r=[];e=s(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||r.push(t),e()})},function(){i(s(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};a.reject=p(g),a.rejectSeries=d(g);var y=function(t,e,n,i){t(e,function(t,e){n(t,function(n){n?(i(t),i=function(){}):e()})},function(){i()})};a.detect=p(y),a.detectSeries=d(y),a.some=function(t,e,n){a.each(t,function(t,i){e(t,function(t){t&&(n(!0),n=function(){}),i()})},function(){n(!1)})},a.any=a.some,a.every=function(t,e,n){a.each(t,function(t,i){e(t,function(t){t||(n(!1),n=function(){}),i()})},function(){n(!0)})},a.all=a.every,a.sortBy=function(t,e,n){a.map(t,function(t,n){e(t,function(e,i){e?n(e):n(null,{value:t,criteria:i})})},function(t,e){if(t)return n(t);var i=function(t,e){var n=t.criteria,i=e.criteria;return i>n?-1:n>i?1:0};n(null,s(e.sort(i),function(t){return t.value}))})},a.auto=function(t,e){e=e||function(){};var n=u(t);if(!n.length)return e(null);var i={},r=[],s=function(t){r.unshift(t)},c=function(t){for(var e=0;e<r.length;e+=1)if(r[e]===t)return r.splice(e,1),void 0},p=function(){o(r.slice(0),function(t){t()})};s(function(){u(i).length===n.length&&(e(null,i),e=function(){})}),o(n,function(n){var r=t[n]instanceof Function?[t[n]]:t[n],h=function(t){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),t){var s={};o(u(i),function(t){s[t]=i[t]}),s[n]=r,e(t,s),e=function(){}}else i[n]=r,a.setImmediate(p)},d=r.slice(0,Math.abs(r.length-1))||[],f=function(){return l(d,function(t,e){return t&&i.hasOwnProperty(e)},!0)&&!i.hasOwnProperty(n)};if(f())r[r.length-1](h,i);else{var v=function(){f()&&(c(v),r[r.length-1](h,i))};s(v)}})},a.waterfall=function(t,e){if(e=e||function(){},t.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var i=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=t.next();o?r.push(i(o)):r.push(e),a.setImmediate(function(){t.apply(null,r)})}}};i(a.iterator(t))()};var b=function(t,e,n){if(n=n||function(){},e.constructor===Array)t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var i={};t.each(u(e),function(t,n){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,n(e)})},function(t){n(t,i)})}};a.parallel=function(t,e){b({map:a.map,each:a.each},t,e)},a.parallelLimit=function(t,e,n){b({map:v(e),each:c(e)},t,n)},a.series=function(t,e){if(e=e||function(){},t.constructor===Array)a.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};a.eachSeries(u(t),function(e,i){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[e]=r,i(t)})},function(t){e(t,n)})}},a.iterator=function(t){var e=function(n){var i=function(){return t.length&&t[n].apply(null,arguments),i.next()};return i.next=function(){return n<t.length-1?e(n+1):null},i};return e(0)},a.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var j=function(t,e,n,i){var r=[];t(e,function(t,e){n(t,function(t,n){r=r.concat(n||[]),e(t)})},function(t){i(t,r)})};a.concat=p(j),a.concatSeries=d(j),a.whilst=function(t,e,n){t()?e(function(i){return i?n(i):(a.whilst(t,e,n),void 0)}):n()},a.doWhilst=function(t,e,n){t(function(i){return i?n(i):(e()?a.doWhilst(t,e,n):n(),void 0)})},a.until=function(t,e,n){t()?n():e(function(i){return i?n(i):(a.until(t,e,n),void 0)})},a.doUntil=function(t,e,n){t(function(i){return i?n(i):(e()?n():a.doUntil(t,e,n),void 0)})},a.queue=function(e,n){function i(t,e,i,r){e.constructor!==Array&&(e=[e]),o(e,function(e){var o={data:e,callback:"function"==typeof r?r:null};i?t.tasks.unshift(o):t.tasks.push(o),t.saturated&&t.tasks.length===n&&t.saturated(),a.setImmediate(t.process)})}void 0===n&&(n=1);var r=0,s={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(t,e){i(s,t,!1,e)},unshift:function(t,e){i(s,t,!0,e)},process:function(){if(r<s.concurrency&&s.tasks.length){var n=s.tasks.shift();s.empty&&0===s.tasks.length&&s.empty(),r+=1;var i=function(){r-=1,n.callback&&n.callback.apply(n,arguments),s.drain&&0===s.tasks.length+r&&s.drain(),s.process()},a=t(i);e(n.data,a)}},length:function(){return s.tasks.length},running:function(){return r}};return s},a.cargo=function(t,e){var n=!1,i=[],r={tasks:i,payload:e,saturated:null,empty:null,drain:null,push:function(t,n){t.constructor!==Array&&(t=[t]),o(t,function(t){i.push({data:t,callback:"function"==typeof n?n:null}),r.saturated&&i.length===e&&r.saturated()}),a.setImmediate(r.process)},process:function l(){if(!n){if(0===i.length)return r.drain&&r.drain(),void 0;var a="number"==typeof e?i.splice(0,e):i.splice(0),u=s(a,function(t){return t.data});r.empty&&r.empty(),n=!0,t(u,function(){n=!1;var t=arguments;o(a,function(e){e.callback&&e.callback.apply(null,t)}),l()})}},length:function(){return i.length},running:function(){return n}};return r};var x=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&o(n,function(e){console[t](e)}))}]))}};a.log=x("log"),a.dir=x("dir"),a.memoize=function(t,e){var n={},i={};e=e||function(t){return t};var r=function(){var r=Array.prototype.slice.call(arguments),a=r.pop(),o=e.apply(null,r);o in n?a.apply(null,n[o]):o in i?i[o].push(a):(i[o]=[a],t.apply(null,r.concat([function(){n[o]=arguments;var t=i[o];delete i[o];for(var e=0,r=t.length;r>e;e++)t[e].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=t,r},a.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},a.times=function(t,e,n){for(var i=[],r=0;t>r;r++)i.push(r);return a.map(i,e,n)},a.timesSeries=function(t,e,n){for(var i=[],r=0;t>r;r++)i.push(r);return a.mapSeries(i,e,n)},a.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var e=this,n=Array.prototype.slice.call(arguments),i=n.pop();a.reduce(t,n,function(t,n,i){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,n){i.apply(e,[t].concat(n))})}};var w=function(t,e){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return t(e,function(t,e){t.apply(n,i.concat([e]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};a.applyEach=p(w),a.applyEachSeries=d(w),a.forever=function(t,e){function n(i){if(i){if(e)return e(i);throw i}t(n)}n()},"undefined"!=typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof e&&e.exports?e.exports=a:i.async=a}()},{__browserify_process:3}],52:[function(t,e){!function(){var n=t("../base"),i=t("../../helpers/BackboneLoader.js"),r=t("lodash"),a=n.extend({template:t("../../templates/layout/navbar.hbs"),initialize:function(t){this.app=t.app,this.pages=this.app.db.fetchCollection("pages"),this.unprocessed=this.app.db.fetchCollection("unprocessedUploads"),this.listenTo(this.pages,"change add remove sort",this.render,this),this.listenTo(this.unprocessed,"change add remove",this.render,this),this.listenTo(this.app.getUser(),"change",this.render,this),this.listenTo(this.app,"flash",this.render,this),this.renderOnReady(this.pages,this.unprocessed,this.app.getUser())},context:function(){var t,e,n=null,a=null,o=[],s=this.unprocessed.length,l=1===this.unprocessed.length?"":"s",u=1===this.unprocessed.length?"is":"are",c=this.unprocessed.length+" upload"+l+" "+u+" being encoded",p=this.app.getCustomization();return p&&p.attributes&&p.attributes.config&&(t=p.attributes.config,e=t.showContact?t.showContact.value:!1),this.pages.forEach(function(t){if(this.app.isLoggedIn()||t.attributes.isPublished){var e=encodeURIComponent(t.attributes.name),s=r.extend(r.clone(t.attributes),{href:"/page/"+e,editHref:"/page/"+e+"/edit",addHref:"/page/"+e+"/addMedia",active:!1});(i.history.fragment===s.href.replace(/^\//,"")||0==i.history.fragment.indexOf("page/"+e+"/"))&&(s.active=!0,a=s.editHref,n=s.addHref),o.push(s)}},this),this.getContext({pages:o,editPageHref:a,addMediaHref:n,showContact:e,createHref:"/createPage",reviewHref:"/review",reorderHref:"/reorder",hasAtLeastTwoPages:this.pages.length>1,isHome:""===i.history.fragment,isContact:i.history.fragment.match(/^contact/)?!0:!1,isPage:i.history.fragment.match(/^(edit)?[pP]age\//)?!0:!1,isEditingPage:i.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isAddingMedia:i.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/(addMedia|pickMedia)$/)?!0:!1,isEditingMedia:i.history.fragment.match(/^media\/(image|video)\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isCreatingPage:i.history.fragment.match(/^createPage/)?!0:!1,isReviewingUploads:i.history.fragment.match(/^review/)?!0:!1,isReorderingPages:i.history.fragment.match(/^reorder/)?!0:!1,unprocessedCount:s,unprocessedPrompt:c})},afterRender:function(){this.eachSubview(function(t){t.render()}),this.$(".alert").alert()}});e.exports=a}()},{"../../helpers/BackboneLoader.js":42,"../../templates/layout/navbar.hbs":95,"../base":55,lodash:45}],54:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var a,o="",s="function",l=this.escapeExpression;return o+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h1 class="title">'+l((a=e.sitetitle,a=null==a||a===!1?a:a.value,typeof a===s?a.apply(e):a))+'</h1>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":96}],56:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var a,o="",s="function",l=this.escapeExpression;return o+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h2>Sorry!</h2>\n      <p>\n        There are no pages on '+l((a=e.sitetitle,a=null==a||a===!1?a:a.value,typeof a===s?a.apply(e):a))+"'s site yet.\n      </p>\n      <p>\n        <strong>Are you "+l((a=e.sitetitle,a=null==a||a===!1?a:a.value,typeof a===s?a.apply(e):a))+'?</strong><br />\n        Log in with the link in the footer, create a page, and make it public to remove this message.\n      </p>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":96}],57:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t){var e,n="";return n+='\n        <div class="alert alert-info">\n          <h3>Welcome Back, '+h((e=t.user,e=null==e||e===!1?e:e.username,typeof e===p?e.apply(t):e))+'</h3>\n          <p>You\'re now able to edit your website.</p>\n          <a href="/" class="btn btn-info btn-wide app">Go to homepage</a>\n          <a href="/logout" class="btn btn-danger btn-wide app">Log Out</a>\n        </div>\n      '}function o(t,e){var i,r,a="";return a+="\n        ",i=n["if"].call(t,t.debug,{hash:{},inverse:d.noop,fn:d.program(4,s,e),data:e}),(i||0===i)&&(a+=i),a+="\n        ",r=n["if"].call(t,(i=t.user,null==i||i===!1?i:i.error),{hash:{},inverse:d.noop,fn:d.program(6,l,e),data:e}),(r||0===r)&&(a+=r),a+='\n        <form>\n          <div class="control-group">\n            <input type="text" name="username" value="'+h((i=t.user,i=null==i||i===!1?i:i.username,typeof i===p?i.apply(t):i))+'" class="span6" placeholder="Username" />\n          </div>\n          <div class="control-group">\n            <input type="password" name="password" value="" class="span6" placeholder="Password" />\n          </div>\n          <div class="actions">\n            <button type="submit" class="btn btn-primary btn-block">Log In</button>\n          </div>\n        </form>\n      '}function s(){return'\n          <div class="alert alert-info">\n            <h3>Test Account Available</h3>\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\n            <a class="provisionTestAccount btn btn-info btn-block">Create Test Account</a>\n          </div>\n        '}function l(t){var e,n="";return n+='\n          <div class="alert alert-error">\n            '+h((e=t.user,e=null==e||e===!1?e:e.error,typeof e===p?e.apply(t):e))+"\n          </div>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var u,c="",p="function",h=this.escapeExpression,d=this;return c+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3">\n      ',u=n["if"].call(e,e.isLoggedIn,{hash:{},inverse:d.program(3,o,r),fn:d.program(1,a,r),data:r}),(u||0===u)&&(c+=u),c+='\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":96}],58:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+="\n            <tr>\n              <td><big>",(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===u?i.apply(t):i),r+=c(i)+"</big></td>\n              <td><big>",(i=n.reviewIssue)?i=i.call(t,{hash:{},data:e}):(i=t.reviewIssue,i=typeof i===u?i.apply(t):i),r+=c(i)+"</big></td>\n            </tr>\n          "}function o(){return'\n            <tr>\n              <td colspan="2">All videos encoded!</td>\n            </tr>\n          '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>File</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          ',s=n.each.call(e,e.unprocessed,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+="\n          ",s=n["if"].call(e,e.nothingToReview,{hash:{},inverse:p.noop,fn:p.program(3,o,r),data:r}),(s||0===s)&&(l+=s),l+='\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":96}],59:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var a,o,s="",l="function",u=this.escapeExpression;return s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3 centered">\n      <form>\n        <fieldset>\n          <legend>Send '+u((a=e.sitetitle,a=null==a||a===!1?a:a.value,typeof a===l?a.apply(e):a))+' A Message</legend>\n          <label class="control-label" for="name">Your Name</label>\n          <input type="text" id="name" name="name" placeholder="John Doe" class="span6" value="',(o=n.nameVal)?o=o.call(e,{hash:{},data:r}):(o=e.nameVal,o=typeof o===l?o.apply(e):o),s+=u(o)+'">\n          <label class="control-label" for="email">Your Email</label>\n          <input type="email" id="email" name="email" placeholder="john@doe.com" class="span6" value="',(o=n.emailVal)?o=o.call(e,{hash:{},data:r}):(o=e.emailVal,o=typeof o===l?o.apply(e):o),s+=u(o)+'">\n          <label class="control-label" for="message">Your Message</label>\n          <textarea id="message" name="message" placeholder="Your Message" rows="5" class="span6">',(o=n.messageVal)?o=o.call(e,{hash:{},data:r}):(o=e.messageVal,o=typeof o===l?o.apply(e):o),s+=u(o)+'</textarea>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success" data-loading-text="Sending...">Send</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":96}],96:[function(t,e){var n={};e.exports=n,function(t,e){t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";t.registerHelper=function(e,i,a){if(n.call(e)===r){if(a||i)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else a&&(i.not=a),this.helpers[e]=i},t.registerPartial=function(e,i){n.call(e)===r?t.Utils.extend(this.partials,e):this.partials[e]=i},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,r){var a=r.inverse||function(){},o=r.fn,s=n.call(e);return s===i&&(e=e.call(this)),e===!0?o(this):e===!1||null==e?a(this):"[object Array]"===s?e.length>0?t.helpers.each(e,r):a(this):o(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var n=new t.K;return t.K.prototype=null,n},t.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,n){if(t.logger.level<=e){var i=t.logger.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)
}}},t.log=function(e,n){t.logger.log(e,n)},t.registerHelper("each",function(e,r){var a,o=r.fn,s=r.inverse,l=0,u="",c=n.call(e);if(c===i&&(e=e.call(this)),r.data&&(a=t.createFrame(r.data)),e&&"object"==typeof e)if(e instanceof Array)for(var p=e.length;p>l;l++)a&&(a.index=l),u+=o(e[l],{data:a});else for(var h in e)e.hasOwnProperty(h)&&(a&&(a.key=h),u+=o(e[h],{data:a}),l++);return 0===l&&(u=s(this)),u}),t.registerHelper("if",function(e,r){var a=n.call(e);return a===i&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?r.inverse(this):r.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn})}),t.registerHelper("with",function(e,r){var a=n.call(e);return a===i&&(e=e.call(this)),t.Utils.isEmpty(e)?void 0:r.fn(e)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)});var a=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;e<a.length;e++)this[a[e]]=t[a[e]]},t.Exception.prototype=new Error,t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return this.string.toString()};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/[&<>"'`]/g,l=/[&<>"'`]/,u=function(t){return o[t]||"&amp;"};t.Utils={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},escapeExpression:function(e){return e instanceof t.SafeString?e.toString():null==e||e===!1?"":(e=e.toString(),l.test(e)?e.replace(s,u):e)},isEmpty:function(t){return t||0===t?"[object Array]"===n.call(t)&&0===t.length?!0:!1:!0}},t.VM={template:function(e){var n={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,n,i){var r=this.programs[e];return i?r=t.VM.program(e,n,i):r||(r=this.programs[e]=t.VM.program(e,n)),r},merge:function(e,n){var i=e||n;return e&&n&&(i={},t.Utils.extend(i,n),t.Utils.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var a=e.call(n,t,i,r.helpers,r.partials,r.data),o=n.compilerInfo||[],s=o[0]||1,l=t.COMPILER_REVISION;if(s!==l){if(l>s){var u=t.REVISION_CHANGES[l],c=t.REVISION_CHANGES[s];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+u+") or downgrade your runtime to an older version ("+c+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return a}},programWithDepth:function(t,e,n){var i=Array.prototype.slice.call(arguments,3),r=function(t,r){return r=r||{},e.apply(this,[t,r.data||n].concat(i))};return r.program=t,r.depth=i.length,r},program:function(t,e,n){var i=function(t,i){return i=i||{},e(t,i.data||n)};return i.program=t,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,a,o,s){var l={helpers:a,partials:o,data:s};if(n===e)throw new t.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,l);if(t.compile)return o[i]=t.compile(n,{data:s!==e}),o[i](r,l);throw new t.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template}(n)},{}],91:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+='\n          <li data-uuid="',(i=n.id)?i=i.call(t,{hash:{},data:e}):(i=t.id,i=typeof i===l?i.apply(t):i),r+=u(i)+'">',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===l?i.apply(t):i),r+=u(i)+"</li>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s="",l="function",u=this.escapeExpression,c=this;return s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span4 offset4 centered">\n    <form>\n      <fieldset>\n        <legend>Drag To Sort</legend>\n        <ul class="sortable pageSortable">\n        ',o=n.each.call(e,e.pages,{hash:{},inverse:c.noop,fn:c.program(1,a,r),data:r}),(o||0===o)&&(s+=o),s+='\n        </ul>\n      </fieldset>\n      <div class="control-group">\n        <div class="controls">\n          <button type="submit" class="btn btn-success" data-loading-text="Saving...">Save</button>\n        </div>\n      </div>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":96}],88:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>New Media Page</legend>\n          <div class="control-group">\n            <label class="control-label" for="name">Page Title</label>\n            <input type="text" id="name" name="name" placeholder="Untitled Page" value="'+c((o=e.page,o=null==o||o===!1?o:o.name,typeof o===u?o.apply(e):o))+'">\n          </div>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Create</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>Custom Pages</legend>\n          <div class="control-group">\n            <label class="control-label" for="showContact">Show Contact Page?</label>\n            <div class="switch switch-large"\n              data-on-label="Yes"\n              data-off-label="No">\n              <input name="showContact" ',s=n["if"].call(e,e.showContact,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+=' type="checkbox" />\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":96}],61:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{},'<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":96}],63:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+='\n        <fieldset>\n          <legend>Title</legend>\n          <input type="text" id="name" name="name" placeholder="Untitled Page" value="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===c?i.apply(t):i),r+=p(i)+'">\n        </fieldset>\n        <fieldset>\n          <legend>Visible To Public?</legend>\n          <div class="switch switch-large"\n            data-on-label="Yes"\n            data-off-label="No">\n            <input name="isPublished" ',i=n["if"].call(t,t.isPublished,{hash:{},inverse:h.noop,fn:h.program(2,o,e),data:e}),(i||0===i)&&(r+=i),r+=' type="checkbox" />\n          </div>\n        </fieldset>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <a class="btn btn-danger">Delete</a>\n          </div>\n        </div>\n        '}function o(){return'checked="checked"'}function s(t,e){var i,r="";return r+='\n            <li class="span4" data-uuid="',(i=n.id)?i=i.call(t,{hash:{},data:e}):(i=t.id,i=typeof i===c?i.apply(t):i),r+=p(i)+'">\n              <div class="relfix">\n                <img src="',(i=n.thumbnailUrl)?i=i.call(t,{hash:{},data:e}):(i=t.thumbnailUrl,i=typeof i===c?i.apply(t):i),r+=p(i)+'" alt="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===c?i.apply(t):i),r+=p(i)+'" class="img-polaroid" />\n                <p class="absfix">\n                  <a href="',(i=n.editHref)?i=i.call(t,{hash:{},data:e}):(i=t.editHref,i=typeof i===c?i.apply(t):i),r+=p(i)+'" class="app btn btn-mini btn-info">Edit</a>\n                </p>\n              </div>\n            </li>\n          '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var l,u="",c="function",p=this.escapeExpression,h=this;return u+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <form>\n      <div class="span3 centered">\n        ',l=n["with"].call(e,e.page,{hash:{},inverse:h.noop,fn:h.program(1,a,r),data:r}),(l||0===l)&&(u+=l),u+='\n      </div>\n      <div class="span9">\n        <fieldset>\n          <div class="alert alert-info">\n            Drag to sort media\n          </div>\n          <ul class="mediagrid sortable">\n          ',l=n.each.call(e,e.media,{hash:{},inverse:h.noop,fn:h.program(4,s,r),data:r}),(l||0===l)&&(u+=l),u+='\n          </ul>\n        </fieldset>\n      </div>\n    </form>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":96}],64:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+='\n    <div class="span2 offset4 centered">\n      <div id="uploadFileLink">\n        <p>\n          <a href="#" class="filepicker">\n            <img class="flatIcon" src="/img/file_upload.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="filepicker btn btn-success">Upload File</a>\n        </p>\n      </div>\n    </div>\n    <div class="span2 centered">\n      <div id="pickFileLink">\n        <p>\n          <a href="',(i=n.pickMediaUrl)?i=i.call(t,{hash:{},data:e}):(i=t.pickMediaUrl,i=typeof i===u?i.apply(t):i),r+=c(i)+'" class="app">\n            <img class="flatIcon" src="/img/folder.png" alt="pick-file" />\n          </a>\n        </p>\n        <p>\n          <a href="',(i=n.pickMediaUrl)?i=i.call(t,{hash:{},data:e}):(i=t.pickMediaUrl,i=typeof i===u?i.apply(t):i),r+=c(i)+'" class="useExisting btn btn-info app">Use Existing</a>\n        </p>\n      </div>\n    </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    ',s=n["if"].call(e,(o=e.page,null==o||o===!1?o:o.id),{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+='\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":96}],89:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+='\n      <li>\n        <div class="relfix">\n          <a href="#" data-media-id="',(i=n.id)?i=i.call(t,{hash:{},data:e}):(i=t.id,i=typeof i===u?i.apply(t):i),r+=c(i)+'" data-media-type="',(i=n.type)?i=i.call(t,{hash:{},data:e}):(i=t.type,i=typeof i===u?i.apply(t):i),r+=c(i)+'">\n            <img src="',(i=n.thumbnailUrl)?i=i.call(t,{hash:{},data:e}):(i=t.thumbnailUrl,i=typeof i===u?i.apply(t):i),r+=c(i)+'" alt="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===u?i.apply(t):i),r+=c(i)+'" />\n            <div class="captions centered">\n              <h2>',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===u?i.apply(t):i),r+=c(i)+"</h2>\n            </div>\n          </a>\n        </div>\n      </li>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="alert alert-block">\n      <h3>This Is All Your Media</h3>\n      <p>\n        Select a file to add it to '+c((o=e.page,o=null==o||o===!1?o:o.name,typeof o===u?o.apply(e):o))+', or <a href="',(s=n.uploadUrl)?s=s.call(e,{hash:{},data:r}):(s=e.uploadUrl,s=typeof s===u?s.apply(e):s),l+=c(s)+'" class="app">Upload A New File</a>.\n      </p>\n    </div>\n    <ul class="reelgrid">\n    ',s=n.each.call(e,e.media,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+='\n    </ul>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":96}],93:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+="\n      ",i=n["if"].call(t,t.isVideo,{hash:{},inverse:v.program(7,u,e),fn:v.program(2,o,e),data:e}),(i||0===i)&&(r+=i),r+='\n      <div class="media_meta">\n        <h4>',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===d?i.apply(t):i),r+=f(i)+"</h4>\n        <ul>\n        ",i=n.each.call(t,t.attribs,{hash:{},inverse:v.noop,fn:v.program(9,c,e),data:e}),(i||0===i)&&(r+=i),r+="\n        </ul>\n      </div>\n    "}function o(t,e){var i,r="";return r+="\n        ",i=n["if"].call(t,t.isEncoding,{hash:{},inverse:v.program(5,l,e),fn:v.program(3,s,e),data:e}),(i||0===i)&&(r+=i),r+="\n      "}function s(t,e){var i,r="";return r+='\n          <img id="media_image" class="pickerHolder" alt="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===d?i.apply(t):i),r+=f(i)+'" src="',(i=n.thumbnailUrl)?i=i.call(t,{hash:{},data:e}):(i=t.thumbnailUrl,i=typeof i===d?i.apply(t):i),r+=f(i)+'" />\n        '}function l(){return'\n          <div id="vid_placeholder" />\n        '}function u(t,e){var i,r="";return r+='\n        <img id="media_image" class="pickerHolder" alt="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===d?i.apply(t):i),r+=f(i)+'" src="',(i=n.url)?i=i.call(t,{hash:{},data:e}):(i=t.url,i=typeof i===d?i.apply(t):i),r+=f(i)+'" />\n      '}function c(t){var e,n="";return n+="\n          <li>",e=typeof t===d?t.apply(t):t,(e||0===e)&&(n+=e),n+="</li>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var p,h="",d="function",f=this.escapeExpression,v=this;return h+='<div id="carouselWrapper">\n</div>\n<div id="content" class="container">\n  <div class="row">\n    <div id="preview" class="span12 centered previewPadding">\n    ',p=n["with"].call(e,e.media,{hash:{},inverse:v.noop,fn:v.program(1,a,r),data:r}),(p||0===p)&&(h+=p),h+="\n    </div>\n  </div>\n</div>\n"})},{"handlebars-runtime":96}],90:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e,i){var r,a="";return a+='\n<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <form>\n    <div class="span6">\n      <fieldset>\n        <legend>Title</legend>\n        <input type="text" id="fileNameField" name="name" placeholder="Untitled ',(r=n.type)?r=r.call(t,{hash:{},data:e}):(r=t.type,r=typeof r===m?r.apply(t):r),a+=g(r)+'" value="',(r=n.name)?r=r.call(t,{hash:{},data:e}):(r=t.name,r=typeof r===m?r.apply(t):r),a+=g(r)+'">\n      </fieldset>\n      <fieldset>\n        <legend>Labels <span data-toggle="tooltip" data-title="Example Labels" data-content="These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to bold the first word.&lt;/p&gt;" class="fui-question"></span></legend>\n        <input name="attribs" class="tagsinput tagsinput-primary" value="',(r=n.attributeList)?r=r.call(t,{hash:{},data:e}):(r=t.attributeList,r=typeof r===m?r.apply(t):r),a+=g(r)+'" id="tags1371235017630" style="display: none;" />\n      </fieldset>\n      ',r=n["if"].call(t,i.isEncoded,{hash:{},inverse:y.noop,fn:y.programWithDepth(2,o,e,i),data:e}),(r||0===r)&&(a+=r),a+='\n      <fieldset>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <!-- <a class="btn btn-danger">Delete</a> -->\n          </div>\n        </div>\n      </fieldset>\n    </div>\n    ',r=n["if"].call(t,i.showThumbnailPicker,{hash:{},inverse:y.noop,fn:y.program(12,h,e),data:e}),(r||0===r)&&(a+=r),a+='\n    </form>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'}function o(t,e,i){var r,a="";return a+="\n      <fieldset>\n        <legend>Thumbnail</legend>\n        ",r=n["if"].call(t,t.thumbnailS3key,{hash:{},inverse:y.program(5,l,e),fn:y.program(3,s,e),data:e}),(r||0===r)&&(a+=r),a+='\n        <input type="hidden" id="thumbnail" name="thumbnail" value="',(r=n.thumbnail)?r=r.call(t,{hash:{},data:e}):(r=t.thumbnail,r=typeof r===m?r.apply(t):r),a+=g(r)+'">\n        ',r=n.unless.call(t,i.showThumbnailPicker,{hash:{},inverse:y.noop,fn:y.program(7,u,e),data:e}),(r||0===r)&&(a+=r),a+="\n        ",r=n["if"].call(t,t.isImage,{hash:{},inverse:y.noop,fn:y.program(10,p,e),data:e}),(r||0===r)&&(a+=r),a+='\n        <a id="useCustomButton" href="#" class="btn btn-inverse btn-mini upload">Upload Thumbnail</a>\n      </fieldset>\n      '}function s(t,e){var i,r="";return r+='\n          <p>\n            <img src="',(i=n.thumbnailUrl)?i=i.call(t,{hash:{},data:e}):(i=t.thumbnailUrl,i=typeof i===m?i.apply(t):i),r+=g(i)+'" class="thumbHolder img-polaroid" alt="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===m?i.apply(t):i),r+=g(i)+' Thumbnail" />\n          </p>\n        '}function l(){return'\n          <div class="alert alert-warning">\n            <big>No thumbnail yet! Select or upload one.</big>\n          </div>\n        '}function u(t,e){var i,r="";return r+="\n          ",i=n["if"].call(t,t.isVideo,{hash:{},inverse:y.noop,fn:y.program(8,c,e),data:e}),(i||0===i)&&(r+=i),r+="\n        "}function c(){return'\n            <a id="chooseFrameButton" href="#" class="btn btn-info btn-mini choose">Choose A Frame</a>\n          '}function p(){return'\n          <a id="useOriginalButton" href="#" class="btn btn-info btn-mini crop" data-loading-text="Processing...">Use Original</a>\n        '}function h(t,e){var i,r="";return r+='\n    <div class="span6">\n      <div class="row centered">\n        <div id="thumber">\n        </div>\n        <div class="controls">\n          ',i=n["if"].call(t,t.isVideo,{hash:{},inverse:y.noop,fn:y.program(13,d,e),data:e}),(i||0===i)&&(r+=i),r+="\n      </div>\n    </div>\n    "}function d(){return'\n            <a id="useCaptureButton" href="#" class="btn btn-info btn-mini capture" data-loading-text="Processing...">Use Current Frame</a>\n          '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var f,v="",m="function",g=this.escapeExpression,y=this;return f=n["with"].call(e,e.media,{hash:{},inverse:y.noop,fn:y.programWithDepth(1,a,r,e),data:r}),(f||0===f)&&(v+=f),v+="\n"})},{"handlebars-runtime":96}],97:[function(t,e,n){var i=self;!function(t){function r(e){function n(t){return t&&"object"==typeof t&&!yi(t)&&Zn.call(t,"__wrapped__")?t:new z(t)}function i(t){var e=t.length,n=e>=h;if(n)for(var i={},r=-1;++r<e;){var a=p+t[r];(i[a]||(i[a]=[])).push(t[r])}return function(e){if(n){var r=p+e;return i[r]&&We(i[r],e)>-1}return We(t,e)>-1}}function o(t){return t.charCodeAt(0)}function l(t,e){var n=t.index,i=e.index;if(t=t.criteria,e=e.criteria,t!==e){if(t>e||"undefined"==typeof t)return 1;if(e>t||"undefined"==typeof e)return-1}return i>n?-1:1}function P(t,e,n,i){function r(){var i=arguments,u=o?this:e;if(a||(t=e[s]),n.length&&(i=i.length?(i=di.call(i),l?i.concat(n):n.concat(i)):n),this instanceof r){U.prototype=t.prototype,u=new U,U.prototype=null;var c=t.apply(u,i);return se(c)?c:u}return t.apply(u,i)}var a=oe(t),o=!n,s=e;if(o){var l=i;n=e}else if(!a){if(!i)throw new Un;e=t}return r}function R(t){return"\\"+D[t]}function B(t){return xi[t]}function z(t){this.__wrapped__=t}function U(){}function q(t){var e=!1;if(!t||ii.call(t)!=I)return e;var n=t.constructor;return(oe(n)?n instanceof n:!0)?(Ti(t,function(t,n){e=n}),e===!1||Zn.call(t,e)):e}function W(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,a=$n(0>r?0:r);++i<r;)a[i]=t[e+i];return a}function V(t){return wi[t]}function X(t){return ii.call(t)==E}function J(t,e,i,r,o,s){var l=t;if("function"==typeof e&&(r=i,i=e,e=!1),"function"==typeof i){if(i="undefined"==typeof r?i:n.createCallback(i,r,1),l=i(l),"undefined"!=typeof l)return l;l=t}var u=se(l);if(u){var c=ii.call(l);if(!F[c])return l;var p=yi(l)}if(!u||!e)return u?p?W(l):_i({},l):l;var h=mi[c];switch(c){case N:case A:return new h(+l);case M:case O:return new h(l);case $:return h(l.source,y.exec(l))}o||(o=[]),s||(s=[]);for(var d=o.length;d--;)if(o[d]==t)return s[d];return l=p?h(l.length):{},p&&(Zn.call(t,"index")&&(l.index=t.index),Zn.call(t,"input")&&(l.input=t.input)),o.push(t),s.push(l),(p?Te:ki)(t,function(t,n){l[n]=J(t,e,i,a,o,s)}),l}function G(t,e,n){return J(t,!0,e,n)}function Y(t,e,i){var r;return e=n.createCallback(e,i),ki(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function K(t){var e=[];return Ti(t,function(t,n){oe(t)&&e.push(n)}),e.sort()}function Q(t,e){return t?Zn.call(t,e):!1}function Z(t){for(var e=-1,n=ji(t),i=n.length,r={};++e<i;){var a=n[e];r[t[a]]=a}return r}function te(t){return t===!0||t===!1||ii.call(t)==N}function ee(t){return t?"object"==typeof t&&ii.call(t)==A:!1}function ne(t){return t?1===t.nodeType:!1}function ie(t){var e=!0;if(!t)return e;var n=ii.call(t),i=t.length;return n==S||n==O||n==E||n==I&&"number"==typeof i&&oe(t.splice)?!i:(ki(t,function(){return e=!1}),e)}function re(t,e,i,r,a,o){var s=i===c;if("function"==typeof i&&!s){i=n.createCallback(i,r,2);var l=i(t,e);if("undefined"!=typeof l)return!!l}if(t===e)return 0!==t||1/t==1/e;var u=typeof t,p=typeof e;if(t===t&&(!t||"function"!=u&&"object"!=u)&&(!e||"function"!=p&&"object"!=p))return!1;if(null==t||null==e)return t===e;var h=ii.call(t),d=ii.call(e);if(h==E&&(h=I),d==E&&(d=I),h!=d)return!1;switch(h){case N:case A:return+t==+e;case M:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case $:case O:return t==zn(e)}var f=h==S;if(!f){if(Zn.call(t,"__wrapped__ ")||Zn.call(e,"__wrapped__"))return re(t.__wrapped__||t,e.__wrapped__||e,i,r,a,o);if(h!=I)return!1;var v=t.constructor,m=e.constructor;if(v!=m&&!(oe(v)&&v instanceof v&&oe(m)&&m instanceof m))return!1}a||(a=[]),o||(o=[]);for(var g=a.length;g--;)if(a[g]==t)return o[g]==e;var y=0;if(l=!0,a.push(t),o.push(e),f){if(g=t.length,y=e.length,l=y==t.length,!l&&!s)return l;for(;y--;){var b=g,j=e[y];if(s)for(;b--&&!(l=re(t[b],j,i,r,a,o)););else if(!(l=re(t[y],j,i,r,a,o)))break}return l}return Ti(e,function(e,n,s){return Zn.call(s,n)?(y++,l=Zn.call(t,n)&&re(t[n],e,i,r,a,o)):void 0}),l&&!s&&Ti(t,function(t,e,n){return Zn.call(n,e)?l=--y>-1:void 0}),l}function ae(t){return oi(t)&&!si(parseFloat(t))}function oe(t){return"function"==typeof t}function se(t){return t?L[typeof t]:!1}function le(t){return ce(t)&&t!=+t}function ue(t){return null===t}function ce(t){return"number"==typeof t||ii.call(t)==M}function pe(t){return t?"object"==typeof t&&ii.call(t)==$:!1}function he(t){return"string"==typeof t||ii.call(t)==O}function de(t){return"undefined"==typeof t}function fe(t,e,i){var r=arguments,a=0,o=2;if(!se(t))return t;if(i===c)var s=r[3],l=r[4],u=r[5];else l=[],u=[],"number"!=typeof i&&(o=r.length),o>3&&"function"==typeof r[o-2]?s=n.createCallback(r[--o-1],r[o--],2):o>2&&"function"==typeof r[o-1]&&(s=r[--o]);for(;++a<o;)(yi(r[a])?Te:ki)(r[a],function(e,n){var i,r,a=e,o=t[n];if(e&&((r=yi(e))||Ei(e))){for(var p=l.length;p--;)if(i=l[p]==e){o=u[p];break}if(!i){var h;s&&(a=s(o,e),(h="undefined"!=typeof a)&&(o=a)),h||(o=r?yi(o)?o:[]:Ei(o)?o:{}),l.push(e),u.push(o),h||(o=fe(o,e,c,s,l,u))}}else s&&(a=s(o,e),"undefined"==typeof a&&(a=e)),"undefined"!=typeof a&&(o=a);t[n]=o});return t}function ve(t,e,i){var r="function"==typeof e,a={};if(r)e=n.createCallback(e,i);else var o=Yn.apply(qn,di.call(arguments,1));return Ti(t,function(t,n,i){(r?!e(t,n,i):We(o,n)<0)&&(a[n]=t)}),a}function me(t){for(var e=-1,n=ji(t),i=n.length,r=$n(i);++e<i;){var a=n[e];r[e]=[a,t[a]]}return r}function ge(t,e,i){var r={};if("function"!=typeof e)for(var a=-1,o=Yn.apply(qn,di.call(arguments,1)),s=se(t)?o.length:0;++a<s;){var l=o[a];l in t&&(r[l]=t[l])}else e=n.createCallback(e,i),Ti(t,function(t,n,i){e(t,n,i)&&(r[n]=t)});return r}function ye(t){for(var e=-1,n=ji(t),i=n.length,r=$n(i);++e<i;)r[e]=t[n[e]];return r}function be(t){for(var e=-1,n=Yn.apply(qn,di.call(arguments,1)),i=n.length,r=$n(i);++e<i;)r[e]=t[n[e]];return r}function je(t,e,n){var i=-1,r=t?t.length:0,a=!1;return n=(0>n?ui(0,r+n):n)||0,"number"==typeof r?a=(he(t)?t.indexOf(e,n):We(t,e,n))>-1:ki(t,function(t){return++i>=n?!(a=t===e):void 0}),a}function xe(t,e,i){var r={};return e=n.createCallback(e,i),Te(t,function(t,n,i){n=zn(e(t,n,i)),Zn.call(r,n)?r[n]++:r[n]=1}),r}function we(t,e,i){var r=!0;e=n.createCallback(e,i);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;++a<o&&(r=!!e(t[a],a,t)););else ki(t,function(t,n,i){return r=!!e(t,n,i)});return r}function _e(t,e,i){var r=[];e=n.createCallback(e,i);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;++a<o;){var s=t[a];e(s,a,t)&&r.push(s)}else ki(t,function(t,n,i){e(t,n,i)&&r.push(t)});return r}function Ce(t,e,i){e=n.createCallback(e,i);var r=-1,a=t?t.length:0;if("number"!=typeof a){var o;return ki(t,function(t,n,i){return e(t,n,i)?(o=t,!1):void 0}),o}for(;++r<a;){var s=t[r];if(e(s,r,t))return s}}function Te(t,e,i){var r=-1,a=t?t.length:0;if(e=e&&"undefined"==typeof i?e:n.createCallback(e,i),"number"==typeof a)for(;++r<a&&e(t[r],r,t)!==!1;);else ki(t,e);return t}function ke(t,e,i){var r={};return e=n.createCallback(e,i),Te(t,function(t,n,i){n=zn(e(t,n,i)),(Zn.call(r,n)?r[n]:r[n]=[]).push(t)}),r}function Ee(t,e){var n=di.call(arguments,2),i=-1,r="function"==typeof e,a=t?t.length:0,o=$n("number"==typeof a?a:0);return Te(t,function(t){o[++i]=(r?e:t[e]).apply(t,n)}),o}function Se(t,e,i){var r=-1,a=t?t.length:0;if(e=n.createCallback(e,i),"number"==typeof a)for(var o=$n(a);++r<a;)o[r]=e(t[r],r,t);else o=[],ki(t,function(t,n,i){o[++r]=e(t,n,i)});return o}function Ne(t,e,i){var r=-1/0,a=r;if(!e&&yi(t))for(var s=-1,l=t.length;++s<l;){var u=t[s];u>a&&(a=u)}else e=!e&&he(t)?o:n.createCallback(e,i),Te(t,function(t,n,i){var o=e(t,n,i);o>r&&(r=o,a=t)});return a}function Ae(t,e,i){var r=1/0,a=r;if(!e&&yi(t))for(var s=-1,l=t.length;++s<l;){var u=t[s];a>u&&(a=u)}else e=!e&&he(t)?o:n.createCallback(e,i),Te(t,function(t,n,i){var o=e(t,n,i);r>o&&(r=o,a=t)});return a}function Pe(t,e){var n=-1,i=t?t.length:0;if("number"==typeof i)for(var r=$n(i);++n<i;)r[n]=t[n][e];return r||Se(t,e)}function Me(t,e,i,r){if(!t)return i;var a=arguments.length<3;e=n.createCallback(e,r,4);var o=-1,s=t.length;if("number"==typeof s)for(a&&(i=t[++o]);++o<s;)i=e(i,t[o],o,t);else ki(t,function(t,n,r){i=a?(a=!1,t):e(i,t,n,r)});return i}function Ie(t,e,i,r){var a=t,o=t?t.length:0,s=arguments.length<3;if("number"!=typeof o){var l=ji(t);o=l.length}return e=n.createCallback(e,r,4),Te(t,function(t,n,r){n=l?l[--o]:--o,i=s?(s=!1,a[n]):e(i,a[n],n,r)}),i}function $e(t,e,i){return e=n.createCallback(e,i),_e(t,function(t,n,i){return!e(t,n,i)})}function Oe(t){var e=-1,n=t?t.length:0,i=$n("number"==typeof n?n:0);return Te(t,function(t){var n=Kn(hi()*(++e+1));i[e]=i[n],i[n]=t}),i}function Fe(t){var e=t?t.length:0;return"number"==typeof e?e:ji(t).length}function Le(t,e,i){var r;e=n.createCallback(e,i);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;++a<o&&!(r=e(t[a],a,t)););else ki(t,function(t,n,i){return!(r=e(t,n,i))});return!!r}function De(t,e,i){var r=-1,a=t?t.length:0,o=$n("number"==typeof a?a:0);for(e=n.createCallback(e,i),Te(t,function(t,n,i){o[++r]={criteria:e(t,n,i),index:r,value:t}}),a=o.length,o.sort(l);a--;)o[a]=o[a].value;return o}function He(t){return t&&"number"==typeof t.length?W(t):ye(t)}function Re(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i}function Be(t){for(var e=-1,n=t?t.length:0,r=Yn.apply(qn,di.call(arguments,1)),a=i(r),o=[];++e<n;){var s=t[e];a(s)||o.push(s)}return o}function ze(t,e,i){var r=-1,a=t?t.length:0;for(e=n.createCallback(e,i);++r<a;)if(e(t[r],r,t))return r;return-1}function Ue(t,e,i){if(t){var r=0,a=t.length;if("number"!=typeof e&&null!=e){var o=-1;for(e=n.createCallback(e,i);++o<a&&e(t[o],o,t);)r++}else if(r=e,null==r||i)return t[0];return W(t,0,ci(ui(0,r),a))}}function qe(t,e,i,r){var a=-1,o=t?t.length:0,s=[];for("boolean"!=typeof e&&null!=e&&(r=i,i=e,e=!1),null!=i&&(i=n.createCallback(i,r));++a<o;){var l=t[a];i&&(l=i(l,a,t)),yi(l)?ti.apply(s,e?l:qe(l)):s.push(l)}return s}function We(t,e,n){var i=-1,r=t?t.length:0;if("number"==typeof n)i=(0>n?ui(0,r+n):n||0)-1;else if(n)return i=Qe(t,e),t[i]===e?i:-1;for(;++i<r;)if(t[i]===e)return i;return-1}function Ve(t,e,i){if(!t)return[];var r=0,a=t.length;if("number"!=typeof e&&null!=e){var o=a;for(e=n.createCallback(e,i);o--&&e(t[o],o,t);)r++}else r=null==e||i?1:e||r;return W(t,0,ci(ui(0,a-r),a))}function Xe(t){var e=arguments,n=e.length,r={0:{}},a=-1,o=t?t.length:0,s=o>=h,l=[],u=l;t:for(;++a<o;){var c=t[a];if(s)var d=p+c,f=r[0][d]?!(u=r[0][d]):u=r[0][d]=[];if(f||We(u,c)<0){s&&u.push(c);for(var v=n;--v;)if(!(r[v]||(r[v]=i(e[v])))(c))continue t;l.push(c)}}return l}function Je(t,e,i){if(t){var r=0,a=t.length;if("number"!=typeof e&&null!=e){var o=a;for(e=n.createCallback(e,i);o--&&e(t[o],o,t);)r++}else if(r=e,null==r||i)return t[a-1];return W(t,ui(0,a-r))}}function Ge(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?ui(0,i+n):ci(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function Ye(t,e,n){t=+t||0,n=+n||1,null==e&&(e=t,t=0);for(var i=-1,r=ui(0,Jn((e-t)/n)),a=$n(r);++i<r;)a[i]=t,t+=n;return a}function Ke(t,e,i){if("number"!=typeof e&&null!=e){var r=0,a=-1,o=t?t.length:0;for(e=n.createCallback(e,i);++a<o&&e(t[a],a,t);)r++}else r=null==e||i?1:ui(0,e);return W(t,r)}function Qe(t,e,i,r){var a=0,o=t?t.length:a;for(i=i?n.createCallback(i,r,1):wn,e=i(e);o>a;){var s=a+o>>>1;i(t[s])<e?a=s+1:o=s}return a}function Ze(t){return yi(t)||(arguments[0]=t?di.call(t):qn),tn(Yn.apply(qn,arguments))}function tn(t,e,i,r){var a=-1,o=t?t.length:0,s=[],l=s;"boolean"!=typeof e&&null!=e&&(r=i,i=e,e=!1);var u=!e&&o>=h;if(u)var c={};for(null!=i&&(l=[],i=n.createCallback(i,r));++a<o;){var d=t[a],f=i?i(d,a,t):d;if(u)var v=p+f,m=c[v]?!(l=c[v]):l=c[v]=[];(e?!a||l[l.length-1]!==f:m||We(l,f)<0)&&((i||u)&&l.push(f),s.push(d))}return s}function en(t){for(var e=-1,n=t?t.length:0,i=n?Ne(Pe(t,"length")):0,r=$n(i);++e<n;)for(var a=-1,o=t[e];++a<i;)(r[a]||(r[a]=$n(n)))[e]=o[a];return r}function nn(t){return Be(t,di.call(arguments,1))}function rn(t){for(var e=-1,n=t?Ne(Pe(arguments,"length")):0,i=$n(n);++e<n;)i[e]=Pe(arguments,e);return i}function an(t,e){for(var n=-1,i=t?t.length:0,r={};++n<i;){var a=t[n];e?r[a]=e[n]:r[a[0]]=a[1]}return r}function on(t,e){return 1>t?e():function(){return--t<1?e.apply(this,arguments):void 0}}function sn(t,e){return gi.fastBind||ri&&arguments.length>2?ri.call.apply(ri,arguments):P(t,e,di.call(arguments,2))}function ln(t){for(var e=arguments.length>1?Yn.apply(qn,di.call(arguments,1)):K(t),n=-1,i=e.length;++n<i;){var r=e[n];t[r]=sn(t[r],t)}return t}function un(t,e){return P(t,e,di.call(arguments,2),c)}function cn(){var t=arguments;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function pn(t,e,n){if(null==t)return wn;var i=typeof t;if("function"!=i){if("object"!=i)return function(e){return e[t]};var r=ji(t);return function(e){for(var n=r.length,i=!1;n--&&(i=re(e[r[n]],t[r[n]],c)););return i}}return"undefined"!=typeof e?1===n?function(n){return t.call(e,n)}:2===n?function(n,i){return t.call(e,n,i)}:4===n?function(n,i,r,a){return t.call(e,n,i,r,a)}:function(n,i,r){return t.call(e,n,i,r)}:t}function hn(t,e,n){function i(){a=l=null,u&&(o=t.apply(s,r))}var r,a,o,s,l,u=!0;if(n===!0){var c=!0;u=!1}else n&&L[typeof n]&&(c=n.leading,u="trailing"in n?n.trailing:u);return function(){return r=arguments,s=this,Gn(l),!a&&c?(a=!0,o=t.apply(s,r)):l=ni(i,e),o}}function dn(t){var e=di.call(arguments,1);return ni(function(){t.apply(a,e)
},1)}function fn(t,e){var n=di.call(arguments,2);return ni(function(){t.apply(a,n)},e)}function vn(t,e){var n={};return function(){var i=p+(e?e.apply(this,arguments):arguments[0]);return Zn.call(n,i)?n[i]:n[i]=t.apply(this,arguments)}}function mn(t){var e,n;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function gn(t){return P(t,di.call(arguments,1))}function yn(t){return P(t,di.call(arguments,1),null,c)}function bn(t,e,n){function i(){s=null,c&&(l=new Fn,a=t.apply(o,r))}var r,a,o,s,l=0,u=!0,c=!0;return n===!1?u=!1:n&&L[typeof n]&&(u="leading"in n?n.leading:u,c="trailing"in n?n.trailing:c),function(){var n=new Fn;s||u||(l=n);var c=e-(n-l);return r=arguments,o=this,0>=c?(Gn(s),s=null,l=n,a=t.apply(o,r)):s||(s=ni(i,c)),a}}function jn(t,e){return function(){var n=[t];return ti.apply(n,arguments),e.apply(this,n)}}function xn(t){return null==t?"":zn(t).replace(_,B)}function wn(t){return t}function _n(t){Te(K(t),function(e){var i=n[e]=t[e];n.prototype[e]=function(){var t=this.__wrapped__,e=[t];ti.apply(e,arguments);var r=i.apply(n,e);return t&&"object"==typeof t&&t==r?this:new z(r)}})}function Cn(){return e._=Vn,this}function Tn(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e&&(e=t,t=0),t+Kn(hi()*((+e||0)-t+1))}function kn(t,e){var n=t?t[e]:a;return oe(n)?t[e]():n}function En(t,e,i){var r=n.templateSettings;t||(t=""),i=Ci({},i,r);var o,s=Ci({},i.imports,r.imports),l=ji(s),u=ye(s),c=0,p=i.interpolate||w,h="__p += '",m=Bn((i.escape||w).source+"|"+p.source+"|"+(p===b?g:w).source+"|"+(i.evaluate||w).source+"|$","g");t.replace(m,function(e,n,i,r,a,s){return i||(i=r),h+=t.slice(c,s).replace(C,R),n&&(h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),h+="';\n";var y=i.variable,j=y;j||(y="obj",h="with ("+y+") {\n"+h+"\n}\n"),h=(o?h.replace(d,""):h).replace(f,"$1").replace(v,"$1;"),h="function("+y+") {\n"+(j?"":y+" || ("+y+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var x="\n/*\n//@ sourceURL="+(i.sourceURL||"/lodash/template/source["+k++ +"]")+"\n*/";try{var _=Ln(l,"return "+h+x).apply(a,u)}catch(T){throw T.source=h,T}return e?_(e):(_.source=h,_)}function Sn(t,e,i){t=(t=+t)>-1?t:0;var r=-1,a=$n(t);for(e=n.createCallback(e,i,1);++r<t;)a[r]=e(r);return a}function Nn(t){return null==t?"":zn(t).replace(m,V)}function An(t){var e=++u;return zn(null==t?"":t)+e}function Pn(t,e){return e(t),t}function Mn(){return zn(this.__wrapped__)}function In(){return this.__wrapped__}e=e?H.defaults(t.Object(),e,H.pick(t,T)):t;var $n=e.Array,On=e.Boolean,Fn=e.Date,Ln=e.Function,Dn=e.Math,Hn=e.Number,Rn=e.Object,Bn=e.RegExp,zn=e.String,Un=e.TypeError,qn=$n(),Wn=Rn(),Vn=e._,Xn=Bn("^"+zn(Wn.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Jn=Dn.ceil,Gn=e.clearTimeout,Yn=qn.concat,Kn=Dn.floor,Qn=Xn.test(Qn=Rn.getPrototypeOf)&&Qn,Zn=Wn.hasOwnProperty,ti=qn.push,ei=e.setImmediate,ni=e.setTimeout,ii=Wn.toString,ri=Xn.test(ri=ii.bind)&&ri,ai=Xn.test(ai=$n.isArray)&&ai,oi=e.isFinite,si=e.isNaN,li=Xn.test(li=Rn.keys)&&li,ui=Dn.max,ci=Dn.min,pi=e.parseInt,hi=Dn.random,di=qn.slice,fi=Xn.test(e.attachEvent),vi=ri&&!/\n|true/.test(ri+fi),mi={};mi[S]=$n,mi[N]=On,mi[A]=Fn,mi[I]=Rn,mi[M]=Hn,mi[$]=Bn,mi[O]=zn;var gi=n.support={};gi.fastBind=ri&&!vi,n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:b,variable:"",imports:{_:n}},z.prototype=n.prototype;var yi=ai,bi=function(t){var e,n=t,i=[];if(!n)return i;if(!L[typeof t])return i;for(e in n)Zn.call(n,e)&&i.push(e);return i},ji=li?function(t){return se(t)?li(t):[]}:bi,xi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wi=Z(xi),_i=function(t,e,i){var r,a=t,o=a;if(!a)return o;var s=arguments,l=0,u="number"==typeof i?2:s.length;if(u>3&&"function"==typeof s[u-2])var c=n.createCallback(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(c=s[--u]);for(;++l<u;)if(a=s[l],a&&L[typeof a]){var p=a.length;if(r=-1,yi(a))for(;++r<p;)o[r]=c?c(o[r],a[r]):a[r];else for(var h=-1,d=L[typeof a]?ji(a):[],p=d.length;++h<p;)r=d[h],o[r]=c?c(o[r],a[r]):a[r]}return o},Ci=function(t,e,n){var i,r=t,a=r;if(!r)return a;for(var o=arguments,s=0,l="number"==typeof n?2:o.length;++s<l;)if(r=o[s],r&&L[typeof r]){var u=r.length;if(i=-1,yi(r))for(;++i<u;)"undefined"==typeof a[i]&&(a[i]=r[i]);else for(var c=-1,p=L[typeof r]?ji(r):[],u=p.length;++c<u;)i=p[c],"undefined"==typeof a[i]&&(a[i]=r[i])}return a},Ti=function(t,e,i){var r,a=t,o=a;if(!a)return o;if(!L[typeof a])return o;e=e&&"undefined"==typeof i?e:n.createCallback(e,i);for(r in a)if(e(a[r],r,t)===!1)return o;return o},ki=function(t,e,i){var r,a=t,o=a;if(!a)return o;if(!L[typeof a])return o;e=e&&"undefined"==typeof i?e:n.createCallback(e,i);for(var s=-1,l=L[typeof a]?ji(a):[],u=l.length;++s<u;)if(r=l[s],e(a[r],r,t)===!1)return o;return o},Ei=function(t){if(!t||ii.call(t)!=I)return!1;var e=t.valueOf,n="function"==typeof e&&(n=Qn(e))&&Qn(n);return n?t==n||Qn(t)==n:q(t)},Si=_e;vi&&s&&"function"==typeof ei&&(dn=sn(ei,e));var Ni=8==pi(j+"08")?pi:function(t,e){return pi(he(t)?t.replace(x,""):t,e||0)};return n.after=on,n.assign=_i,n.at=be,n.bind=sn,n.bindAll=ln,n.bindKey=un,n.compact=Re,n.compose=cn,n.countBy=xe,n.createCallback=pn,n.debounce=hn,n.defaults=Ci,n.defer=dn,n.delay=fn,n.difference=Be,n.filter=_e,n.flatten=qe,n.forEach=Te,n.forIn=Ti,n.forOwn=ki,n.functions=K,n.groupBy=ke,n.initial=Ve,n.intersection=Xe,n.invert=Z,n.invoke=Ee,n.keys=ji,n.map=Se,n.max=Ne,n.memoize=vn,n.merge=fe,n.min=Ae,n.omit=ve,n.once=mn,n.pairs=me,n.partial=gn,n.partialRight=yn,n.pick=ge,n.pluck=Pe,n.range=Ye,n.reject=$e,n.rest=Ke,n.shuffle=Oe,n.sortBy=De,n.tap=Pn,n.throttle=bn,n.times=Sn,n.toArray=He,n.union=Ze,n.uniq=tn,n.unzip=en,n.values=ye,n.where=Si,n.without=nn,n.wrap=jn,n.zip=rn,n.zipObject=an,n.collect=Se,n.drop=Ke,n.each=Te,n.extend=_i,n.methods=K,n.object=an,n.select=_e,n.tail=Ke,n.unique=tn,_n(n),n.clone=J,n.cloneDeep=G,n.contains=je,n.escape=xn,n.every=we,n.find=Ce,n.findIndex=ze,n.findKey=Y,n.has=Q,n.identity=wn,n.indexOf=We,n.isArguments=X,n.isArray=yi,n.isBoolean=te,n.isDate=ee,n.isElement=ne,n.isEmpty=ie,n.isEqual=re,n.isFinite=ae,n.isFunction=oe,n.isNaN=le,n.isNull=ue,n.isNumber=ce,n.isObject=se,n.isPlainObject=Ei,n.isRegExp=pe,n.isString=he,n.isUndefined=de,n.lastIndexOf=Ge,n.mixin=_n,n.noConflict=Cn,n.parseInt=Ni,n.random=Tn,n.reduce=Me,n.reduceRight=Ie,n.result=kn,n.runInContext=r,n.size=Fe,n.some=Le,n.sortedIndex=Qe,n.template=En,n.unescape=Nn,n.uniqueId=An,n.all=we,n.any=Le,n.detect=Ce,n.foldl=Me,n.foldr=Ie,n.include=je,n.inject=Me,ki(n,function(t,e){n.prototype[e]||(n.prototype[e]=function(){var e=[this.__wrapped__];return ti.apply(e,arguments),t.apply(n,e)})}),n.first=Ue,n.last=Je,n.take=Ue,n.head=Ue,ki(n,function(t,e){n.prototype[e]||(n.prototype[e]=function(e,n){var i=t(this.__wrapped__,e,n);return null==e||n&&"function"!=typeof e?i:new z(i)})}),n.VERSION="1.2.1",n.prototype.toString=Mn,n.prototype.value=In,n.prototype.valueOf=In,Te(["join","pop","shift"],function(t){var e=qn[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments)}}),Te(["push","reverse","sort","unshift"],function(t){var e=qn[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),Te(["concat","slice","splice"],function(t){var e=qn[t];n.prototype[t]=function(){return new z(e.apply(this.__wrapped__,arguments))}}),n}var a,o="object"==typeof n&&n,s="object"==typeof e&&e&&e.exports==o&&e,l="object"==typeof i&&i;(l.global===l||l.window===l)&&(t=l);var u=0,c={},p=+new Date+"",h=200,d=/\b__p \+= '';/g,f=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/&(?:amp|lt|gt|quot|#39);/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/\w*$/,b=/<%=([\s\S]+?)%>/g,j=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",x=RegExp("^["+j+"]*0+(?=.$)"),w=/($^)/,_=/[&<>"']/g,C=/['\n\r\t\u2028\u2029\\]/g,T=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],k=0,E="[object Arguments]",S="[object Array]",N="[object Boolean]",A="[object Date]",P="[object Function]",M="[object Number]",I="[object Object]",$="[object RegExp]",O="[object String]",F={};F[P]=!1,F[E]=F[S]=F[N]=F[A]=F[M]=F[I]=F[$]=F[O]=!0;var L={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},D={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},H=r();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t._=H,define(function(){return H})):o&&!o.nodeType?s?(s.exports=H)._=H:o._=H:t._=H}(this)},{}],95:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e,i){var r,a="";return a+="\n      <li>\n      ",r=n["if"].call(t,t.active,{hash:{},inverse:P.program(4,s,e),fn:P.program(2,o,e),data:e}),(r||0===r)&&(a+=r),a+="\n      ",r=n["if"].call(t,i.isLoggedIn,{hash:{},inverse:P.noop,fn:P.program(6,l,e),data:e}),(r||0===r)&&(a+=r),a+="\n      </li>\n    "}function o(t,e){var i,r="";return r+='\n        <a href="',(i=n.href)?i=i.call(t,{hash:{},data:e}):(i=t.href,i=typeof i===N?i.apply(t):i),r+=A(i)+'" class="current app boxed">',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===N?i.apply(t):i),r+=A(i)+"</a>\n      "}function s(t,e){var i,r="";return r+='\n        <a href="',(i=n.href)?i=i.call(t,{hash:{},data:e}):(i=t.href,i=typeof i===N?i.apply(t):i),r+=A(i)+'" class="app boxed">',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===N?i.apply(t):i),r+=A(i)+"</a>\n      "}function l(t,e){var i,r="";return r+="\n        <br />\n        ",i=n["if"].call(t,t.isPublished,{hash:{},inverse:P.program(9,c,e),fn:P.program(7,u,e),data:e}),(i||0===i)&&(r+=i),r+="\n      "}function u(t,e){var i,r="";return r+='\n          <a href="',(i=n.editHref)?i=i.call(t,{hash:{},data:e}):(i=t.editHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" class="app pageStatus">Public</a>\n        '}function c(t,e){var i,r="";return r+='\n          <a href="',(i=n.editHref)?i=i.call(t,{hash:{},data:e}):(i=t.editHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" class="app pageStatus">Private</a>\n        '}function p(t,e){var i,r="";return r+="\n      ",i=n["if"].call(t,t.isContact,{hash:{},inverse:P.program(14,d,e),fn:P.program(12,h,e),data:e}),(i||0===i)&&(r+=i),r+="\n    "}function h(){return'\n        <li class="contact"><a href="/contact" class="current app boxed">Contact</a></li>\n      '}function d(){return'\n        <li class="contact"><a href="/contact" class="app boxed">Contact</a></li>\n      '}function f(t,e){var i,r="";return r+='\n<div class="centered-boxes">\n  <ul class="nav nav-boxes actionable">\n    ',i=n["if"].call(t,t.isPage,{hash:{},inverse:P.noop,fn:P.program(17,v,e),data:e}),(i||0===i)&&(r+=i),r+="\n    ",i=n["if"].call(t,t.isCreatingPage,{hash:{},inverse:P.program(28,x,e),fn:P.program(26,j,e),data:e}),(i||0===i)&&(r+=i),r+="\n    ",i=n["if"].call(t,t.hasAtLeastTwoPages,{hash:{},inverse:P.noop,fn:P.program(30,w,e),data:e}),(i||0===i)&&(r+=i),r+="\n  </ul>\n</div>\n"}function v(t,e){var i,r="";return r+="\n      ",i=n["if"].call(t,t.isAddingMedia,{hash:{},inverse:P.program(20,g,e),fn:P.program(18,m,e),data:e}),(i||0===i)&&(r+=i),r+="\n      ",i=n["if"].call(t,t.isEditingPage,{hash:{},inverse:P.program(24,b,e),fn:P.program(22,y,e),data:e}),(i||0===i)&&(r+=i),r+="\n    "}function m(t,e){var i,r="";return r+='\n        <li><a href="',(i=n.addMediaHref)?i=i.call(t,{hash:{},data:e}):(i=t.addMediaHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" id="addMediaLink" class="current app boxed">Add Media</a></li>\n      '}function g(t,e){var i,r="";return r+='\n        <li><a href="',(i=n.addMediaHref)?i=i.call(t,{hash:{},data:e}):(i=t.addMediaHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" id="addMediaLink" class="app boxed">Add Media</a></li>\n      '}function y(t,e){var i,r="";return r+='\n        <li><a href="',(i=n.editPageHref)?i=i.call(t,{hash:{},data:e}):(i=t.editPageHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" class="current app boxed">Edit Page</a></li>\n      '}function b(t,e){var i,r="";return r+='\n        <li><a href="',(i=n.editPageHref)?i=i.call(t,{hash:{},data:e}):(i=t.editPageHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" class="app boxed">Edit Page</a></li>\n      '}function j(t,e){var i,r="";return r+='\n      <li><a href="',(i=n.createHref)?i=i.call(t,{hash:{},data:e}):(i=t.createHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" id="newPageLink" class="current app boxed">New Page</a></li>\n    '}function x(t,e){var i,r="";return r+='\n      <li><a href="',(i=n.createHref)?i=i.call(t,{hash:{},data:e}):(i=t.createHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" id="newPageLink" class="app boxed">New Page</a></li>\n    '}function w(t,e){var i,r="";return r+="\n      ",i=n["if"].call(t,t.isReorderingPages,{hash:{},inverse:P.program(33,C,e),fn:P.program(31,_,e),data:e}),(i||0===i)&&(r+=i),r+="\n    "}function _(t,e){var i,r="";return r+='\n        <li><a href="',(i=n.reorderHref)?i=i.call(t,{hash:{},data:e}):(i=t.reorderHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" id="reorderPageLink" class="current app boxed">Sort Pages</a></li>\n      '}function C(t,e){var i,r="";return r+='\n        <li><a href="',(i=n.reorderHref)?i=i.call(t,{hash:{},data:e}):(i=t.reorderHref,i=typeof i===N?i.apply(t):i),r+=A(i)+'" id="reorderPageLink" class="app boxed">Sort Pages</a></li>\n      '}function T(t,e){var i,r="";return r+='\n<div class="alert alert-',(i=n.type)?i=i.call(t,{hash:{},data:e}):(i=t.type,i=typeof i===N?i.apply(t):i),r+=A(i)+'">\n  <button type="button" class="close fui-cross" data-dismiss="alert"></button>\n  ',(i=n.message)?i=i.call(t,{hash:{},data:e}):(i=t.message,i=typeof i===N?i.apply(t):i),r+=A(i)+"\n</div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var k,E,S="",N="function",A=this.escapeExpression,P=this,M=n.blockHelperMissing;return S+='<div class="centered-boxes">\n  <ul id="mainnav" class="nav nav-boxes">\n    \n    ',k=n.each.call(e,e.pages,{hash:{},inverse:P.noop,fn:P.programWithDepth(1,a,r,e),data:r}),(k||0===k)&&(S+=k),S+="\n    ",k=n["if"].call(e,e.showContact,{hash:{},inverse:P.noop,fn:P.program(11,p,r),data:r}),(k||0===k)&&(S+=k),S+="\n  </ul>\n</div>\n",k=n["if"].call(e,e.isLoggedIn,{hash:{},inverse:P.noop,fn:P.program(16,f,r),data:r}),(k||0===k)&&(S+=k),S+="\n",E={hash:{},inverse:P.noop,fn:P.program(35,T,r),data:r},(k=n.flash)?k=k.call(e,E):(k=e.flash,k=typeof k===N?k.apply(e):k),n.flash||(k=M.call(e,k,E)),(k||0===k)&&(S+=k),S+="\n"})},{"handlebars-runtime":96}],77:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(){return'\n            <li><a href="/logout" class="app">Log Out</a></li>\n          '}function o(){return'\n            <li><a href="/login" class="app">Log In</a></li>\n          '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,l,u="",c=this,p="function",h=this.escapeExpression;return u+='  <div class="container">\n    <div class="row">\n      <div class="span12">\n        <ul class="bottom-links">\n          ',s=n["if"].call(e,e.isLoggedIn,{hash:{},inverse:c.program(3,o,r),fn:c.program(1,a,r),data:r}),(s||0===s)&&(u+=s),u+='\n        </ul>\n        <span class="pull-right">&copy; '+h((s=e.sitetitle,s=null==s||s===!1?s:s.value,typeof s===p?s.apply(e):s))+" ",(l=n.copyrightYear)?l=l.call(e,{hash:{},data:r}):(l=e.copyrightYear,l=typeof l===p?l.apply(e):l),u+=h(l)+"</span>\n      </div>\n    </div>\n  </div>\n"})},{"handlebars-runtime":96}],94:[function(t,e){var n=t("lodash"),i=t("jquery-browserify"),r=t("backbone");r._=n,r.$=i;var a=r.View.extend({initialize:function(t){this.templateName,this.beforeInit&&this.beforeInit(t),this.template=this.template||t.template,this.template||(this.template=function(){return""}),this.afterInit&&this.afterInit(t),this.render()},context:function(){return n.extend({},this.options,this.model)},close:function(){this.beforeClose&&this.beforeClose(),this.closeSubviews(),this.off(),this.remove()},render:function(){var t=this,e=this.model;return this.beforeRender&&this.beforeRender(),this.closeSubviews(),this.$el.empty(),this.beforeTemplating&&(e=this.beforeTemplating()),this.context&&(e=this.context()),this.$el.html(this.template(e)),n.defer(function(){t.trigger("afterRender")}),this.afterRender&&this.afterRender(),this},proxy:function(t,e){var n=this;e.on(t,function(){var e=Array.prototype.slice.call(arguments,0);e.splice(0,0,t),n.trigger.apply(n,e)})},eachSubview:function(t){n.each(this.subviews,t)},appendSubview:function(t,e){e||(e=this.$el),this.subviews=this.subviews||{},this.subviews[t.cid]=t,e.append(t.el),n.defer(function(){t.trigger("afterAppend")}),t.afterAppend&&t.afterAppend()},closeSubviews:function(){this.eachSubview(function(t){t.close()}),this.subviews={}},detachSubview:function(t){this.subviews&&delete this.subviews[t.cid],t.$el.detach()}});e.exports=a},{backbone:65,"jquery-browserify":66,lodash:97}],79:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+='\n  <li>\n    <div class="relfix">\n      <a href="',(i=n.playerUrl)?i=i.call(t,{hash:{},data:e}):(i=t.playerUrl,i=typeof i===u?i.apply(t):i),r+=c(i)+'" class="app">\n        <img src="',(i=n.thumbnailUrl)?i=i.call(t,{hash:{},data:e}):(i=t.thumbnailUrl,i=typeof i===u?i.apply(t):i),r+=c(i)+'" alt="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===u?i.apply(t):i),r+=c(i)+'" />\n        ',i=n["if"].call(t,t.editHref,{hash:{},inverse:p.noop,fn:p.program(2,o,e),data:e}),(i||0===i)&&(r+=i),r+='\n        <div class="captions centered">\n          <h2>',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===u?i.apply(t):i),r+=c(i)+"</h2>\n        </div>\n      </a>\n    </div>\n  </li>\n"}function o(t,e){var i,r="";return r+='\n          <p class="absfix">\n            <a href="',(i=n.editHref)?i=i.call(t,{hash:{},data:e}):(i=t.editHref,i=typeof i===u?i.apply(t):i),r+=c(i)+'" class="app btn btn-mini btn-info"><i class="icon-edit"></i></a>\n            <a href="',(i=n.removeHref)?i=i.call(t,{hash:{},data:e}):(i=t.removeHref,i=typeof i===u?i.apply(t):i),r+=c(i)+'" class="app btn btn-mini btn-danger"><i class="icon-trash"></i></a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,l="",u="function",c=this.escapeExpression,p=this;return l+='<ul class="reelgrid">\n',s=n.each.call(e,e.media,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+="\n</ul>\n"})},{"handlebars-runtime":96}],81:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+='\n  <iframe src="',(i=n.thumberUrl)?i=i.call(t,{hash:{},data:e}):(i=t.thumberUrl,i=typeof i===l?i.apply(t):i),r+=u(i)+'" frameborder="0" width="100%"></iframe>\n'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var o,s="",l="function",u=this.escapeExpression,c=this;return o=n["if"].call(e,e.thumberUrl,{hash:{},inverse:c.noop,fn:c.program(1,a,r),data:r}),(o||0===o)&&(s+=o),s+="\n"})},{"handlebars-runtime":96}],83:[function(t,e){var n=t("handlebars-runtime");e.exports=n.template(function(t,e,n,i,r){function a(t,e){var i,r="";return r+='\n    <li>\n      <div class="relfix">\n        <a href="',(i=n.playerUrl)?i=i.call(t,{hash:{},data:e}):(i=t.playerUrl,i=typeof i===u?i.apply(t):i),r+=c(i)+'" class="app">\n          <img src="',(i=n.thumbnailUrl)?i=i.call(t,{hash:{},data:e}):(i=t.thumbnailUrl,i=typeof i===u?i.apply(t):i),r+=c(i)+'" alt="',(i=n.name)?i=i.call(t,{hash:{},data:e}):(i=t.name,i=typeof i===u?i.apply(t):i),r+=c(i)+'" />\n        </a>\n        ',i=n["if"].call(t,t.editHref,{hash:{},inverse:p.noop,fn:p.program(2,o,e),data:e}),(i||0===i)&&(r+=i),r+="\n      </div>\n    </li>\n  "}function o(t,e){var i,r="";return r+='\n          <p class="absfix">\n            <a href="',(i=n.editHref)?i=i.call(t,{hash:{},data:e}):(i=t.editHref,i=typeof i===u?i.apply(t):i),r+=c(i)+'" class="app btn btn-micro btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),r=r||{};var s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="sliderWrap">\n  <ul class="carousel elastislide-list">\n  ',s=n.each.call(e,e.media,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+='\n  </ul>\n</div>\n<div class="controls clearfix centered">\n  <div class="control-fix centered">\n    <a href="#" class="carouselControl goLeft hidden">&lt;</a>\n    <a href="#" class="carouselControl reelToggle"><span class="symbol">&and;</span><br /><small>Reel</small></a>\n    <a href="#" class="carouselControl goRight hidden">&gt;</a>\n  </div>\n  <a href="#" class="carouselControl bigClose pull-right">&times;</a>\n</div>\n'})},{"handlebars-runtime":96}]},{},[1]);;;;
/*
//@ sourceMappingURL=/js/scripts.map
*/
