!function(e,t,n){function i(n,a){if(!t[n]){if(!e[n]){var o="function"==typeof require&&require;if(!a&&o)return o(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var s=t[n]={exports:{}};e[n][0].call(s.exports,function(t){var r=e[n][1][t];return i(r?r:t)},s,s.exports)}return t[n].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e){window.onload=function(){var t=e("./app");window.app=new t(document.getElementById("app")),window.app.start(window.bootstrap)}},{"./app":2}],3:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){if(e.source===window&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var t=n.shift();t()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(e,t,n){function i(e,t){for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}function r(e,t){for(var n=0,i=e.length;i>=0;i--){var r=e[i];"."==r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var a=e("__browserify_process"),o=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){for(var e="",t=!1,n=arguments.length;n>=-1&&!t;n--){var o=n>=0?arguments[n]:a.cwd();"string"==typeof o&&o&&(e=o+"/"+e,t="/"===o.charAt(0))}return e=r(i(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t="/"===e.charAt(0),n="/"===e.slice(-1);return e=r(i(e.split("/"),function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e){return e&&"string"==typeof e}).join("/"))},n.dirname=function(e){var t=o.exec(e)[1]||"",n=!1;return t?1===t.length||n&&t.length<=3&&":"===t.charAt(1)?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=o.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o.exec(e)[3]||""},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=i(e.split("/")),a=i(t.split("/")),o=Math.min(r.length,a.length),s=o,l=0;o>l;l++)if(r[l]!==a[l]){s=l;break}for(var u=[],l=s;l<r.length;l++)u.push("..");return u=u.concat(a.slice(s)),u.join("/")},n.sep="/"},{__browserify_process:3}],5:[function(e,t){!function(){function e(e,t,n){this.init(e,t,n)}e.prototype={init:function(e,t,n){this.targetFrame=e,this.targetDomain=t,this.prefix=n,this.replies={},this.nextTicket=0,this.ready=!1,this.queue=[];var i=this;window.addEventListener("message",function(e){i.receive(e)},!1)},send:function(e,t,n){var i="ticket_"+this.prefix+"_"+this.nextTicket++,r=JSON.stringify({"function":e,args:t,ticket:i});n&&(this.replies[i]=n),this.sendInternal(r)},receive:function(e){if(e.origin.replace(/https?:\/\//,"")===this.targetDomain.replace(/\/$/,"").replace(/https?:\/\//,"")){var t;try{t=JSON.parse(e.data)}catch(n){return alert("Syntax error in response from "+e.origin+": "+e.data),void 0}if("ready"===t.event)return this.ready=!0,this.sendQueuedEvents(),void 0;if(t.ticket in this.replies){var i=this.replies[t.ticket];delete this.replies[t.ticket];var r=[];"args"in t&&(r=t.args),i.apply(void 0,r)}}},sendInternal:function(e){this.ready?this.targetFrame.contentWindow.postMessage(e,this.targetDomain):this.queue.push(e)},sendQueuedEvents:function(){for(var e=0;e<this.queue.length;e++)this.targetFrame.contentWindow.postMessage(this.queue[e],this.targetDomain);this.queue.length=0}},t.exports=e}()},{}],6:[function(e,t){!function(){var e={};e.baseUrl="http://www.toolkitt.com",e.videoExts=[".mp4",".m4v",".f4v",".webm",".ogv",".flv",".mov"],e.imageExts=[".gif",".png",".jpeg",".jpg",".bmp"],e.thumbnailDims={width:340,height:192},e.flashMessage=null,e.s3prefix="https://toolkitt.s3.amazonaws.com/",e.thumberUrl="https://toolkitt.s3.amazonaws.com/thumber.html",e.videoPlayerId="media_video",e.imageViewerId="media_image",e.placeholders={addMedia:{full:"http://toolkitt.s3.amazonaws.com/addmedia.png",half:"http://toolkitt.s3.amazonaws.com/addmedia-half.png"},encoding:{full:"http://toolkitt.s3.amazonaws.com/encoding.gif",half:"http://toolkitt.s3.amazonaws.com/encoding-half.gif"}},t.exports=e}()},{}],7:[function(e,t){t.exports=function(e){var t={};return t.placeholderThumbnail=function(t){var n=e.thumbnailDims.width,i=e.thumbnailDims.height;return t&&(n=Math.round(n/2),i=Math.round(i/2)),"http://holder.js/"+n+"x"+i+"/text:No Thumbnail"},t.isVideo=function(t){var n="."+t.split(".").pop().toLowerCase();return e.videoExts.indexOf(n)>=0},t.isImage=function(t){var n="."+t.split(".").pop().toLowerCase();return e.imageExts.indexOf(n)>=0},t.ucfirst=function(e){var t=e.charAt(0).toUpperCase();return t+e.substr(1)},t.uuid=function(e){var t="abcdefghijklmnopqrstuvwxyz",e=e||10,n=[];for(i=0;e>i;i++)n.push(t.charAt(Math.floor(Math.random()*t.length)));return n.join("")},t.mime=function(e){return"video/quicktime"===e?"video/mp4":e},t}},{}],8:[function(e,t){!function(){var e=function(){var e=this;e.getUser().save({id:"logout",token:null},{success:function(){e.db.fetchCollection("pages").fetch(),e.getCustomization()&&e.getCustomization().fetch(),e.navigate("",{trigger:!0})}})};t.exports=e}()},{}],9:[function(e,t){!function(){var e=function(e,t){var n=this,i=this.db.fetchCollection("pages"),e=decodeURIComponent(e);i.once("ready",function(){var r=i.find(function(t){return t.attributes.name.toLowerCase()===e.toLowerCase()});if(r){switch(t){case"makePublic":r.set("isPublished",!0);break;case"makePrivate":r.set("isPublished",!1)}r.save({},{success:function(){n.navigate("page/"+e,{trigger:!0})},error:n.error})}else n.navigate("page/"+e,{trigger:!0}),n.error("Error 404: The page could not be found")})};t.exports=e}()},{}],10:[function(e,t){!function(){var e=function(e,t,n){var i,r=this,a=this.db.fetchCollection("pages"),n=decodeURIComponent(n);a.once("ready",function(){var o=a.find(function(e){return e.attributes.name.toLowerCase()===n.toLowerCase()});o?(i=r.db.fetchModel(e,t),i.once("ready",function(){var e="Are you sure you want to remove "+i.attributes.name+" from "+o.attributes.name+"?";confirm(e)?o.removeMedia(i.id,function(e){r.navigate("page/"+n,{trigger:!0}),e&&r.error(e)}):r.navigate("page/"+n,{trigger:!0})})):(r.navigate("page/"+n,{trigger:!0}),r.error("Error 404: The page could not be found"))})};t.exports=e}()},{}],11:[function(e,t){!function(){var n=e("../views/routes/login"),i=function(){var e=new n({app:this});this.show(e)};t.exports=i}()},{"../views/routes/login":12}],13:[function(e,t){var n=e("__browserify_process");!function(){var i=(e("../views/routes/index"),e("../views/errors/no_pages")),r=function(){var e=this,t=this.db.fetchCollection("pages"),r=this.getUser(),a=2,o=function(){var r,a=new i({app:e});n.env.tests||(r=e.isLoggedIn()?t.sort().at(0):t.sort().findWhere({isPublished:!0}),r?e.navigate("page/"+encodeURIComponent(r.attributes.name),{trigger:!0}):e.isLoggedIn()?e.navigate("createPage",{trigger:!0}):e.show(a))},s=function(){a--,0===a&&o()};t.once("ready",s),r.once("ready",s)};t.exports=r}()},{"../views/errors/no_pages":15,"../views/routes/index":14,__browserify_process:3}],16:[function(e,t){!function(){var n=e("../views/routes/contact"),i=function(){var e=new n({app:this});this.show(e)};t.exports=i}()},{"../views/routes/contact":17}],18:[function(e,t){!function(){var n=e("../views/routes/review"),i=function(){var e=new n({app:this});this.show(e)};t.exports=i}()},{"../views/routes/review":19}],20:[function(e,t){!function(){var n=e("../../views/routes/pages/create"),i=function(){var e=new n({app:this});this.show(e)};t.exports=i}()},{"../../views/routes/pages/create":21}],22:[function(e,t){!function(){var n=e("../../views/routes/pages/show"),i=function(e){var t=new n({app:this,pageName:e});this.show(t)};t.exports=i}()},{"../../views/routes/pages/show":23}],24:[function(e,t){!function(){var n=e("../../views/routes/pages/edit"),i=function(e){var t=new n({app:this,pageName:e});this.show(t)};t.exports=i}()},{"../../views/routes/pages/edit":25}],26:[function(e,t){!function(){var n=e("../../views/routes/pages/reorder"),i=function(){var e=new n({app:this});this.show(e)};t.exports=i}()},{"../../views/routes/pages/reorder":27}],28:[function(e,t){!function(){var n=e("../../views/routes/media/add"),i=function(e){var t=new n({app:this,pageName:e});this.show(t)};t.exports=i}()},{"../../views/routes/media/add":29}],30:[function(e,t){!function(){var n=e("../../views/routes/media/pick"),i=function(e){var t=new n({app:this,pageName:e});this.show(t)};t.exports=i}()},{"../../views/routes/media/pick":31}],32:[function(e,t){!function(){var n=e("../../views/routes/media/show"),i=function(e,t,i){var r=new n({app:this,mediaType:t,mediaId:i,pageName:e});this.show(r)};t.exports=i}()},{"../../views/routes/media/show":33}],34:[function(e,t){!function(){var n=e("../../views/routes/media/edit"),i=function(e,t){var i=new n({app:this,mediaType:e,mediaId:t});this.show(i)};t.exports=i}()},{"../../views/routes/media/edit":35}],36:[function(e,t){t.exports=function(e){"use strict";e.fn.bootstrapSwitch=function(t){var n={init:function(){return this.each(function(){var t,n,i,r,a,o,s=e(this),l="",u=s.attr("class"),c="ON",p="OFF",h=!1;e.each(["switch-mini","switch-small","switch-large"],function(e,t){u.indexOf(t)>=0&&(l=t)}),s.addClass("has-switch"),void 0!==s.data("on")&&(a="switch-"+s.data("on")),void 0!==s.data("on-label")&&(c=s.data("on-label")),void 0!==s.data("off-label")&&(p=s.data("off-label")),void 0!==s.data("icon")&&(h=s.data("icon")),n=e("<span>").addClass("switch-left").addClass(l).addClass(a).html(c),a="",void 0!==s.data("off")&&(a="switch-"+s.data("off")),i=e("<span>").addClass("switch-right").addClass(l).addClass(a).html(p),r=e("<label>").html("&nbsp;").addClass(l).attr("for",s.find("input").attr("id")),h&&r.html('<i class="'+h+'"></i>'),t=s.find(":checkbox").wrap(e("<div>")).parent().data("animated",!1),s.data("animated")!==!1&&t.addClass("switch-animate").data("animated",!0),t.append(n).append(r).append(i),s.find(">div").addClass(s.find("input").is(":checked")?"switch-on":"switch-off"),s.find("input").is(":disabled")&&e(this).addClass("deactivate");var d=function(e){e.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};s.on("keydown",function(t){32===t.keyCode&&(t.stopImmediatePropagation(),t.preventDefault(),d(e(t.target).find("span:first")))}),n.on("click",function(){d(e(this))}),i.on("click",function(){d(e(this))}),s.find("input").on("change",function(t){var n=e(this),i=n.parent(),r=n.is(":checked"),a=i.is(".switch-off");t.preventDefault(),i.css("left",""),a===r&&(r?i.removeClass("switch-off").addClass("switch-on"):i.removeClass("switch-on").addClass("switch-off"),i.data("animated")!==!1&&i.addClass("switch-animate"),i.parent().trigger("switch-change",{el:n,value:r}))}),s.find("label").on("mousedown touchstart",function(t){var n=e(this);o=!1,t.preventDefault(),t.stopImmediatePropagation(),n.closest("div").removeClass("switch-animate"),n.closest(".has-switch").is(".deactivate")?n.unbind("click"):(n.on("mousemove touchmove",function(t){var n=e(this).closest(".switch"),i=(t.pageX||t.originalEvent.targetTouches[0].pageX)-n.offset().left,r=100*(i/n.width()),a=25,s=75;o=!0,a>r?r=a:r>s&&(r=s),n.find(">div").css("left",r-s+"%")}),n.on("click touchend",function(t){var n=e(this),i=e(t.target),r=i.siblings("input");t.stopImmediatePropagation(),t.preventDefault(),n.unbind("mouseleave"),o?r.prop("checked",!(parseInt(n.parent().css("left"))<-25)):r.prop("checked",!r.is(":checked")),o=!1,r.trigger("change")}),n.on("mouseleave",function(t){var n=e(this),i=n.siblings("input");t.preventDefault(),t.stopImmediatePropagation(),n.unbind("mouseleave"),n.trigger("mouseup"),i.prop("checked",!(parseInt(n.parent().css("left"))<-25)).trigger("change")}),n.on("mouseup",function(t){t.stopImmediatePropagation(),t.preventDefault(),e(this).unbind("mousemove")}))})})},toggleActivation:function(){e(this).toggleClass("deactivate")},isActive:function(){return!e(this).hasClass("deactivate")},setActive:function(t){t?e(this).removeClass("deactivate"):e(this).addClass("deactivate")},toggleState:function(t){var n=e(this).find("input:checkbox");n.prop("checked",!n.is(":checked")).trigger("change",t)},setState:function(t,n){e(this).find("input:checkbox").prop("checked",t).trigger("change",n)},status:function(){return e(this).find("input:checkbox").is(":checked")},destroy:function(){var t,n=e(this).find("div");return n.find(":not(input:checkbox)").remove(),t=n.children(),t.unwrap().unwrap(),t.unbind("change"),t}};return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist!"),void 0):n.init.apply(this,arguments)}}},{}],37:[function(e,t){t.exports=function(e){var t,n=e();e.fn.sortable=function(i){var r=String(i);return i=e.extend({connectWith:!1},i),this.each(function(){if(/^enable|disable|destroy$/.test(r)){var a=e(this).children(e(this).data("items")),o=e(this).children(e(this).data("handles")).attr("draggable","enable"==r);return"destroy"==r&&(a.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s"),o.off("selectstart.h5s")),void 0}var s,l,a=e(this).children(i.items),o=i.handle?a.find(i.handle):a,u=e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');e(this).data("items",i.items),e(this).data("handles",i.handle?i.handle:i.items),n=n.add(u),i.connectWith&&e(i.connectWith).add(this).data("connectWith",i.connectWith),o.attr("draggable","true").not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end(),a.on("dragstart.h5s",function(n){var i=n.originalEvent.dataTransfer;i.effectAllowed="move",i.setData("Text","dummy"),s=(t=e(this)).addClass("sortable-dragging").index(),l=t.parent(),n.stopPropagation()}).on("dragend.h5s",function(){t&&(t.removeClass("sortable-dragging").show(),n.detach(),s==t.index()&&l.is(t.parent())||t.parent().trigger("sortupdate",{item:t}),t=null,l=null)}).add([this,u]).on("dragover.h5s dragenter.h5s drop.h5s",function(r){return a.is(t)||i.connectWith===e(t).parent().data("connectWith")?"drop"==r.type?(r.stopPropagation(),n.filter(":visible").after(t),t.trigger("dragend.h5s"),!1):(r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="move",a.is(this)?(i.forcePlaceholderSize&&u.height(t.outerHeight()),t.hide(),e(this)[u.index()<e(this).index()?"after":"before"](u),n.not(u).detach()):n.is(this)||e(this).children(i.items).length||(n.detach(),e(this).append(u)),!1):!0})})}}},{}],38:[function(e,t){t.exports=function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var n=e(this).data("minwidth"),i=e(this).data("maxwidth"),r="",a=e(this),o=e("#"+e(this).data("tester_id"));if(r!==(r=a.val())){var s=r.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");o.html(s);var l=o.width(),u=l+t.comfortZone>=n?l+t.comfortZone:n,c=a.width(),p=c>u&&u>=n||u>n&&i>u;p&&a.width(u)}},e.fn.resetAutosize=function(t){var n=e(this).data("minwidth")||t.minInputWidth||e(this).width(),i=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,r=e(this),a=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:r.css("fontSize"),fontFamily:r.css("fontFamily"),fontWeight:r.css("fontWeight"),letterSpacing:r.css("letterSpacing"),whiteSpace:"nowrap"}),o=e(this).attr("id")+"_autosize_tester";!e("#"+o).length>0&&(a.attr("id",o),a.appendTo("body")),r.data("minwidth",n),r.data("maxwidth",i),r.data("tester_id",o),r.css("width",n)},e.fn.addTag=function(i,r){return r=jQuery.extend({focus:!1,callback:!0},r),this.each(function(){var a=e(this).attr("id"),o=e(this).val().split(t[a]);if(""==o[0]&&(o=new Array),i=jQuery.trim(i),r.unique){var s=e(this).tagExist(i);1==s&&e("#"+a+"_tag").addClass("not_valid")}else var s=!1;if(""!=i&&1!=s){if(e("<span>").addClass("tag").append(e("<span>").text(i).append("&nbsp;&nbsp;"),e('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return e("#"+a).removeTag(escape(i))})).insertBefore("#"+a+"_addTag"),o.push(i),e("#"+a+"_tag").val(""),r.focus?e("#"+a+"_tag").focus():e("#"+a+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,o),r.callback&&n[a]&&n[a].onAddTag){var l=n[a].onAddTag;l.call(this,i)}if(n[a]&&n[a].onChange){var u=o.length,l=n[a].onChange;l.call(this,e(this),o[u-1])}}}),!1},e.fn.removeTag=function(r){return r=unescape(r),this.each(function(){var a=e(this).attr("id"),o=e(this).val().split(t[a]);for(e("#"+a+"_tagsinput .tag").remove(),str="",i=0;i<o.length;i++)o[i]!=r&&(str=str+t[a]+o[i]);if(e.fn.tagsInput.importTags(this,str),n[a]&&n[a].onRemoveTag){var s=n[a].onRemoveTag;s.call(this,r)}}),!1},e.fn.tagExist=function(n){var i=e(this).attr("id"),r=e(this).val().split(t[i]);return jQuery.inArray(n,r)>=0},e.fn.importTags=function(t){id=e(this).attr("id"),e("#"+id+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i);return this.each(function(){r.hide&&e(this).hide();var i=e(this).attr("id");(!i||t[e(this).attr("id")])&&(i=e(this).attr("id","tags"+(new Date).getTime()).attr("id"));var a=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);t[i]=a.delimiter,(r.onAddTag||r.onRemoveTag||r.onChange)&&(n[i]=new Array,n[i].onAddTag=r.onAddTag,n[i].onRemoveTag=r.onRemoveTag,n[i].onChange=r.onChange);var o=e("#"+i).attr("class").replace("tagsinput",""),s='<div id="'+i+'_tagsinput" class="tagsinput '+o+'"><div class="tagsinput-add-container" id="'+i+'_addTag"><div class="tagsinput-add"></div>';if(r.interactive&&(s=s+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),s+="</div></div>",e(s).insertAfter(this),e(a.holder).css("width",r.width),e(a.holder).css("min-height",r.height),e(a.holder).css("height","100%"),""!=e(a.real_input).val()&&e.fn.tagsInput.importTags(e(a.real_input),e(a.real_input).val()),r.interactive){if(e(a.fake_input).val(e(a.fake_input).attr("data-default")),e(a.fake_input).css("color",r.placeholderColor),e(a.fake_input).resetAutosize(r),e(a.holder).bind("click",a,function(t){e(t.data.fake_input).focus()}),e(a.fake_input).bind("focus",a,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#000000")}),void 0!=r.autocomplete_url){autocomplete_options={source:r.autocomplete_url};for(attrname in r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(a.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),e(a.fake_input).bind("result",a,function(t,n){n&&e("#"+i).addTag(n[0]+"",{focus:!0,unique:r.unique})})):void 0!==jQuery.ui.autocomplete&&(e(a.fake_input).autocomplete(autocomplete_options),e(a.fake_input).bind("autocompleteselect",a,function(t,n){return e(t.data.real_input).addTag(n.item.value,{focus:!0,unique:r.unique}),!1}))}else e(a.fake_input).bind("blur",a,function(t){var n=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=n?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",r.placeholderColor)),!1});e(a.fake_input).bind("keypress",a,function(t){return t.which==t.data.delimiter.charCodeAt(0)||13==t.which?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}),e(t.data.fake_input).resetAutosize(r),!1):(t.data.autosize&&e(t.data.fake_input).doAutosize(r),void 0)}),a.removeWithBackspace&&e(a.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var n=e(this).closest(".tagsinput").find(".tag:last").text(),i=e(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s\u00a0]+x$/,""),e("#"+i).removeTag(escape(n)),e(this).trigger("focus")}}),e(a.fake_input).blur(),a.unique&&e(a.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/))&&e(this).removeClass("not_valid")})}}),this},e.fn.tagsInput.updateTagsField=function(n,i){var r=e(n).attr("id");e(n).val(i.join(t[r]))},e.fn.tagsInput.importTags=function(r,a){e(r).val("");var o=e(r).attr("id"),s=a.split(t[o]);for(i=0;i<s.length;i++)e(r).addTag(s[i],{focus:!1,callback:!1});if(n[o]&&n[o].onChange){var l=n[o].onChange;l.call(r,r,s[i])}}}},{}],39:[function(e,t){t.exports=function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),a="object"==typeof n&&n;r||i.data("button",r=new t(this,a)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}},{}],40:[function(e,t){t.exports=function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,a,o,s,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,o=this.options.trigger.split(" "),l=o.length;l--;)s=o[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",a="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,a,o,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),a="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,a){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":o={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(o,a),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,a,o=this.tip(),s=o[0].offsetWidth,l=o[0].offsetHeight;o.offset(e).addClass(t).addClass("in"),n=o[0].offsetWidth,i=o[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,a=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,o.offset(e),n=o[0].offsetWidth,i=o[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),a&&o.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),a="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}},{}],41:[function(e,t){t.exports=function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),a="object"==typeof n&&n;r||i.data("popover",r=new t(this,a)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}},{}],42:[function(e,t){t.exports=function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i=e(a),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}},{}],2:[function(e,t){!function(){var n=e("lodash"),i=e("./helpers/JqueryLoader"),r=e("js-thumb"),a=(e("path"),e("./helpers/BackboneLoader.js")),o=e("./helpers/lib/messenger.js"),s=e("./helpers/db"),l={"":e("./routes/index"),login:e("./routes/login"),logout:e("./routes/logout"),createPage:e("./routes/pages/create"),"page/:name":e("./routes/pages/show"),"page/:name/edit":e("./routes/pages/edit"),"page/:name/edit/:action/immediately":e("./routes/pages/quickEdit"),reorder:e("./routes/pages/reorder"),"page/:name/addMedia":e("./routes/media/add"),"page/:name/pickMedia":e("./routes/media/pick"),review:e("./routes/review"),"page/:name/:type/:id":e("./routes/media/show"),"media/:type/:id/edit":e("./routes/media/edit"),"media/:type/:id/remove/:page":e("./routes/media/remove"),contact:e("./routes/contact")},u=a.Router.extend({initialize:function(t){var a,u;return n.each(l,function(e,t){this.route(t,n.bind(e,this))},this),t=t||document.body,this.el=t,this.$el=i(t),this.db=new s(this),this.config=n.clone(e("./config/config.js")),this.util=e("./helpers/util.js")(this.config),this.messenger=new o(null,this.config.s3prefix,"thumbnailer"),this.listenTo(this.getUser(),"change",function(){this.bootstrap.userId&&this.getUser().attributes.token&&this.getUser().id!==this.bootstrap.userId&&(this.navigate("logout",{trigger:!0}),this.setFlash("info","You have been logged out because this is not your portfolio."))},this),a=this.db.fetchCollection("unprocessedUploads"),this.listenTo(a,"ready add change remove sync reset",function(){a.length>0?u=setTimeout(function(){clearTimeout(u),a.fetch()},3e3):clearTimeout(u)}),this.error=n.bind(this.error,this),this.setFlash=n.bind(this.setFlash,this),this.clearFlash=n.bind(this.clearFlash,this),window.onresize=r.resizeVideos,this},start:function(e){return this.bootstrap=e||{},a.history.start(),this},handleAppLink:function(e){e.preventDefault(),e.stopPropagation();for(var t=e.target;null==t.pathname;)t=t.parentElement;
return this.navigate(t.pathname,{trigger:!0}),this},isLoggedIn:function(){return this.getUser().attributes&&this.getUser().attributes.token},show:function(e){return this.currentView&&(this.currentView.close(),this.currentView=null),this.currentView=e,e.render(),this.$el.append(e.$el),this},flash:null,setFlash:function(e,t){return e||(e="info"),this.flash={message:t,type:e},this.trigger("flash"),this.listenToOnce(this,"route",function(){this.clearFlash()}),this},clearFlash:function(){return this.flash=null,this.trigger("flash"),this},error:function(e,t){console.log(arguments),t?"timeout"===t.statusText?t="The request timed out":e.responseText?t=e.responseText:t.responseText&&(t=t.responseText):t=e;var n=this,i=t,r="";if("string"==typeof i)try{i=JSON.parse(i)}catch(a){}if(i.message&&(i=i.message),null==i&&(i="Unknown (Null) Error"),403===parseInt(i,10))this.logoutFromInactivity();else if("object"==typeof i){if(r=[],i instanceof Array)for(var o=0,s=i.length;s>o;o++)r.push(n.util.ucfirst(i[o].attr)+": "+n.util.ucfirst(i[o].message));else if(i.toString)r=[i.toString()];else for(var l in i)r.push(n.util.ucfirst(l)+": "+n.util.ucfirst(i[l]));r=r.join(",")}else r+=i;this.setFlash("error",r)},getUser:function(){return this.db.fetchModel("user")},getCustomization:function(){var e,t;return this.bootstrap&&this.bootstrap.customizationId?(e=this.bootstrap.customizationId,t=this.db.fetchModel("customization",e)):this.isLoggedIn()&&(e=this.getUser().attributes.customization.id,t=this.db.fetchModel("customization",e),t.set(this.getUser().attributes.customization)),e?t:!1},getUserVars:function(){var e=this.getCustomization();return e?e.attributes.config:this.bootstrap.userVars},logoutFromInactivity:function(){var e=this;this.navigate("logout",{trigger:!0}),setTimeout(function(){e.setFlash("info","You were logged out due to inactivity")},1e3)}});t.exports=u}()},{"./config/config.js":6,"./helpers/BackboneLoader.js":43,"./helpers/JqueryLoader":44,"./helpers/db":45,"./helpers/lib/messenger.js":5,"./helpers/util.js":7,"./routes/contact":16,"./routes/index":13,"./routes/login":11,"./routes/logout":8,"./routes/media/add":28,"./routes/media/edit":34,"./routes/media/pick":30,"./routes/media/remove":10,"./routes/media/show":32,"./routes/pages/create":20,"./routes/pages/edit":24,"./routes/pages/quickEdit":9,"./routes/pages/reorder":26,"./routes/pages/show":22,"./routes/review":18,"js-thumb":47,lodash:46,path:4}],46:[function(e,t,n){var i=self;!function(e){function r(e,t,n){for(var i=(n||0)-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function a(e,t){var n=typeof t;if(e=e.cache,"boolean"==n||null==t)return e[t];"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:w+t;return e=e[n]||(e[n]={}),"object"==n?e[i]&&r(e[i],t)>-1?0:-1:e[i]?0:-1}function o(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?e:w+e,r=t[n]||(t[n]={});"object"==n?(r[i]||(r[i]=[])).push(e)==this.array.length&&(t[n]=!1):r[i]=!0}}function s(e){return e.charCodeAt(0)}function l(e,t){var n=e.index,i=t.index;if(e=e.criteria,t=t.criteria,e!==t){if(e>t||"undefined"==typeof e)return 1;if(t>e||"undefined"==typeof t)return-1}return i>n?-1:1}function u(e){var t=-1,n=e.length,i=h();i["false"]=i["null"]=i["true"]=i.undefined=!1;var r=h();for(r.array=e,r.cache=i,r.push=o;++t<n;)r.push(e[t]);return i.object===!1?(f(r),null):r}function c(e){return"\\"+K[e]}function p(){return y.pop()||[]}function h(){return b.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function d(e){e.length=0,y.length<C&&y.push(e)}function f(e){var t=e.cache;t&&f(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,b.length<C&&b.push(e)}function v(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,a=Array(0>r?0:r);++i<r;)a[i]=e[t+i];return a}function m(t){function n(e){return e&&"object"==typeof e&&!Si(e)&&li.call(e,"__wrapped__")?e:new i(e)}function i(e){this.__wrapped__=e}function o(e,t,n,i){function r(){var i=arguments,u=o?this:t;if(a||(e=t[s]),n.length&&(i=i.length?(i=_i.call(i),l?i.concat(n):n.concat(i)):n),this instanceof r){u=y(e.prototype);var c=e.apply(u,i);return mt(c)?c:u}return e.apply(u,i)}var a=vt(e),o=!n,s=t;if(o){var l=i;n=t}else if(!a){if(!i)throw new Kn;t=e}return r}function y(e){return mt(e)?fi(e):{}}function b(e){return Pi[e]}function C(){var e=(e=n.indexOf)===en?r:e;return e}function K(e){return function(t,i,r,a){return"boolean"!=typeof i&&null!=i&&(a=r,r=a&&a[i]===t?g:i,i=!1),null!=r&&(r=n.createCallback(r,a)),e(t,i,r,a)}}function Q(e){var t,n;return e&&hi.call(e)==V&&(t=e.constructor,!vt(t)||t instanceof t)?(Oi(e,function(e,t){n=t}),n===g||li.call(e,n)):!1}function et(e){return Mi[e]}function nt(e){return hi.call(e)==R}function it(e,t,i,r,a,o){var s=e;if("boolean"!=typeof t&&null!=t&&(r=i,i=t,t=!1),"function"==typeof i){if(i="undefined"==typeof r?i:n.createCallback(i,r,1),s=i(s),"undefined"!=typeof s)return s;s=e}var l=mt(s);if(l){var u=hi.call(s);if(!G[u])return s;var c=Si(s)}if(!l||!t)return l?c?v(s):Ii({},s):s;var h=ki[u];switch(u){case z:case U:return new h(+s);case W:case J:return new h(s);case X:return h(s.source,A.exec(s))}var f=!a;a||(a=p()),o||(o=p());for(var m=a.length;m--;)if(a[m]==e)return o[m];return s=c?h(s.length):{},c&&(li.call(e,"index")&&(s.index=e.index),li.call(e,"input")&&(s.input=e.input)),a.push(e),o.push(s),(c?Ot:Fi)(e,function(e,n){s[n]=it(e,t,i,g,a,o)}),f&&(d(a),d(o)),s}function rt(e,t,n){return it(e,!0,t,n)}function at(e,t,i){var r;return t=n.createCallback(t,i),Fi(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function ot(e){var t=[];return Oi(e,function(e,n){vt(e)&&t.push(n)}),t.sort()}function st(e,t){return e?li.call(e,t):!1}function lt(e){for(var t=-1,n=Ai(e),i=n.length,r={};++t<i;){var a=n[t];r[e[a]]=a}return r}function ut(e){return e===!0||e===!1||hi.call(e)==z}function ct(e){return e?"object"==typeof e&&hi.call(e)==U:!1}function pt(e){return e?1===e.nodeType:!1}function ht(e){var t=!0;if(!e)return t;var n=hi.call(e),i=e.length;return n==B||n==J||n==R||n==V&&"number"==typeof i&&vt(e.splice)?!i:(Fi(e,function(){return t=!1}),t)}function dt(e,t,i,r,a,o){var s=i===x;if("function"==typeof i&&!s){i=n.createCallback(i,r,2);var l=i(e,t);if("undefined"!=typeof l)return!!l}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,c=typeof t;if(e===e&&(!e||"function"!=u&&"object"!=u)&&(!t||"function"!=c&&"object"!=c))return!1;if(null==e||null==t)return e===t;var h=hi.call(e),f=hi.call(t);if(h==R&&(h=V),f==R&&(f=V),h!=f)return!1;switch(h){case z:case U:return+e==+t;case W:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case X:case J:return e==Yn(t)}var v=h==B;if(!v){if(li.call(e,"__wrapped__ ")||li.call(t,"__wrapped__"))return dt(e.__wrapped__||e,t.__wrapped__||t,i,r,a,o);if(h!=V)return!1;var m=e.constructor,g=t.constructor;if(m!=g&&!(vt(m)&&m instanceof m&&vt(g)&&g instanceof g))return!1}var y=!a;a||(a=p()),o||(o=p());for(var b=a.length;b--;)if(a[b]==e)return o[b]==t;var j=0;if(l=!0,a.push(e),o.push(t),v){if(b=e.length,j=t.length,l=j==e.length,!l&&!s)return l;for(;j--;){var w=b,_=t[j];if(s)for(;w--&&!(l=dt(e[w],_,i,r,a,o)););else if(!(l=dt(e[j],_,i,r,a,o)))break}return l}return Oi(t,function(t,n,s){return li.call(s,n)?(j++,l=li.call(e,n)&&dt(e[n],t,i,r,a,o)):void 0}),l&&!s&&Oi(e,function(e,t,n){return li.call(n,t)?l=--j>-1:void 0}),y&&(d(a),d(o)),l}function ft(e){return mi(e)&&!gi(parseFloat(e))}function vt(e){return"function"==typeof e}function mt(e){return!(!e||!Y[typeof e])}function gt(e){return bt(e)&&e!=+e}function yt(e){return null===e}function bt(e){return"number"==typeof e||hi.call(e)==W}function jt(e){return e?"object"==typeof e&&hi.call(e)==X:!1}function xt(e){return"string"==typeof e||hi.call(e)==J}function wt(e){return"undefined"==typeof e}function _t(e,t,i){var r=arguments,a=0,o=2;if(!mt(e))return e;if(i===x)var s=r[3],l=r[4],u=r[5];else{var c=!0;l=p(),u=p(),"number"!=typeof i&&(o=r.length),o>3&&"function"==typeof r[o-2]?s=n.createCallback(r[--o-1],r[o--],2):o>2&&"function"==typeof r[o-1]&&(s=r[--o])}for(;++a<o;)(Si(r[a])?Ot:Fi)(r[a],function(t,n){var i,r,a=t,o=e[n];if(t&&((r=Si(t))||Li(t))){for(var c=l.length;c--;)if(i=l[c]==t){o=u[c];break}if(!i){var p;s&&(a=s(o,t),(p="undefined"!=typeof a)&&(o=a)),p||(o=r?Si(o)?o:[]:Li(o)?o:{}),l.push(t),u.push(o),p||(o=_t(o,t,x,s,l,u))}}else s&&(a=s(o,t),"undefined"==typeof a&&(a=t)),"undefined"!=typeof a&&(o=a);e[n]=o});return c&&(d(l),d(u)),e}function Ct(e,t,i){var r=C(),a="function"==typeof t,o={};if(a)t=n.createCallback(t,i);else var s=ri.apply(Qn,_i.call(arguments,1));return Oi(e,function(e,n,i){(a?!t(e,n,i):r(s,n)<0)&&(o[n]=e)}),o}function Tt(e){for(var t=-1,n=Ai(e),i=n.length,r=zn(i);++t<i;){var a=n[t];r[t]=[a,e[a]]}return r}function kt(e,t,i){var r={};if("function"!=typeof t)for(var a=-1,o=ri.apply(Qn,_i.call(arguments,1)),s=mt(e)?o.length:0;++a<s;){var l=o[a];l in e&&(r[l]=e[l])}else t=n.createCallback(t,i),Oi(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Et(e,t,i,r){var a=Si(e);if(t=n.createCallback(t,r,4),null==i)if(a)i=[];else{var o=e&&e.constructor,s=o&&o.prototype;i=y(s)}return(a?Ot:Fi)(e,function(e,n,r){return t(i,e,n,r)}),i}function St(e){for(var t=-1,n=Ai(e),i=n.length,r=zn(i);++t<i;)r[t]=e[n[t]];return r}function Nt(e){for(var t=-1,n=ri.apply(Qn,_i.call(arguments,1)),i=n.length,r=zn(i);++t<i;)r[t]=e[n[t]];return r}function At(e,t,n){var i=-1,r=C(),a=e?e.length:0,o=!1;return n=(0>n?bi(0,a+n):n)||0,a&&"number"==typeof a?o=(xt(e)?e.indexOf(t,n):r(e,t,n))>-1:Fi(e,function(e){return++i>=n?!(o=e===t):void 0}),o}function Pt(e,t,i){var r={};return t=n.createCallback(t,i),Ot(e,function(e,n,i){n=Yn(t(e,n,i)),li.call(r,n)?r[n]++:r[n]=1}),r}function Mt(e,t,i){var r=!0;t=n.createCallback(t,i);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o&&(r=!!t(e[a],a,e)););else Fi(e,function(e,n,i){return r=!!t(e,n,i)});return r}function It(e,t,i){var r=[];t=n.createCallback(t,i);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o;){var s=e[a];t(s,a,e)&&r.push(s)}else Fi(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function $t(e,t,i){t=n.createCallback(t,i);var r=-1,a=e?e.length:0;if("number"!=typeof a){var o;return Fi(e,function(e,n,i){return t(e,n,i)?(o=e,!1):void 0}),o}for(;++r<a;){var s=e[r];if(t(s,r,e))return s}}function Ot(e,t,i){var r=-1,a=e?e.length:0;if(t=t&&"undefined"==typeof i?t:n.createCallback(t,i),"number"==typeof a)for(;++r<a&&t(e[r],r,e)!==!1;);else Fi(e,t);return e}function Ft(e,t,i){var r={};return t=n.createCallback(t,i),Ot(e,function(e,n,i){n=Yn(t(e,n,i)),(li.call(r,n)?r[n]:r[n]=[]).push(e)}),r}function Lt(e,t){var n=_i.call(arguments,2),i=-1,r="function"==typeof t,a=e?e.length:0,o=zn("number"==typeof a?a:0);return Ot(e,function(e){o[++i]=(r?t:e[t]).apply(e,n)}),o}function Dt(e,t,i){var r=-1,a=e?e.length:0;if(t=n.createCallback(t,i),"number"==typeof a)for(var o=zn(a);++r<a;)o[r]=t(e[r],r,e);else o=[],Fi(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function Ht(e,t,i){var r=-1/0,a=r;if(!t&&Si(e))for(var o=-1,l=e.length;++o<l;){var u=e[o];u>a&&(a=u)}else t=!t&&xt(e)?s:n.createCallback(t,i),Ot(e,function(e,n,i){var o=t(e,n,i);o>r&&(r=o,a=e)});return a}function Rt(e,t,i){var r=1/0,a=r;if(!t&&Si(e))for(var o=-1,l=e.length;++o<l;){var u=e[o];a>u&&(a=u)}else t=!t&&xt(e)?s:n.createCallback(t,i),Ot(e,function(e,n,i){var o=t(e,n,i);r>o&&(r=o,a=e)});return a}function Bt(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i)for(var r=zn(i);++n<i;)r[n]=e[n][t];return r||Dt(e,t)}function zt(e,t,i,r){if(!e)return i;var a=arguments.length<3;t=n.createCallback(t,r,4);var o=-1,s=e.length;if("number"==typeof s)for(a&&(i=e[++o]);++o<s;)i=t(i,e[o],o,e);else Fi(e,function(e,n,r){i=a?(a=!1,e):t(i,e,n,r)});return i}function Ut(e,t,i,r){var a=e,o=e?e.length:0,s=arguments.length<3;if("number"!=typeof o){var l=Ai(e);o=l.length}return t=n.createCallback(t,r,4),Ot(e,function(e,n,r){n=l?l[--o]:--o,i=s?(s=!1,a[n]):t(i,a[n],n,r)}),i}function qt(e,t,i){return t=n.createCallback(t,i),It(e,function(e,n,i){return!t(e,n,i)})}function Wt(e){var t=-1,n=e?e.length:0,i=zn("number"==typeof n?n:0);return Ot(e,function(e){var n=ai(wi()*(++t+1));i[t]=i[n],i[n]=e}),i}function Vt(e){var t=e?e.length:0;return"number"==typeof t?t:Ai(e).length}function Xt(e,t,i){var r;t=n.createCallback(t,i);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o&&!(r=t(e[a],a,e)););else Fi(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function Jt(e,t,i){var r=-1,a=e?e.length:0,o=zn("number"==typeof a?a:0);for(t=n.createCallback(t,i),Ot(e,function(e,n,i){var a=o[++r]=h();a.criteria=t(e,n,i),a.index=r,a.value=e}),a=o.length,o.sort(l);a--;){var s=o[a];o[a]=s.value,f(s)}return o}function Gt(e){return e&&"number"==typeof e.length?v(e):St(e)}function Yt(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function Kt(e){var t=-1,n=C(),i=e?e.length:0,o=ri.apply(Qn,_i.call(arguments,1)),s=[],l=i>=_&&n===r;if(l){var c=u(o);c?(n=a,o=c):l=!1}for(;++t<i;){var p=e[t];n(o,p)<0&&s.push(p)}return l&&f(o),s}function Qt(e,t,i){var r=-1,a=e?e.length:0;for(t=n.createCallback(t,i);++r<a;)if(t(e[r],r,e))return r;return-1}function Zt(e,t,i){if(e){var r=0,a=e.length;if("number"!=typeof t&&null!=t){var o=-1;for(t=n.createCallback(t,i);++o<a&&t(e[o],o,e);)r++}else if(r=t,null==r||i)return e[0];return v(e,0,ji(bi(0,r),a))}}function en(e,t,n){if("number"==typeof n){var i=e?e.length:0;n=0>n?bi(0,i+n):n||0}else if(n){var a=ln(e,t);return e[a]===t?a:-1}return e?r(e,t,n):-1}function tn(e,t,i){if(!e)return[];var r=0,a=e.length;if("number"!=typeof t&&null!=t){var o=a;for(t=n.createCallback(t,i);o--&&t(e[o],o,e);)r++}else r=null==t||i?1:t||r;return v(e,0,ji(bi(0,a-r),a))}function nn(e){for(var t=arguments,n=t.length,i=-1,o=p(),s=-1,l=C(),c=e?e.length:0,h=[],v=p();++i<n;){var m=t[i];o[i]=l===r&&(m?m.length:0)>=_&&u(i?t[i]:v)}e:for(;++s<c;){var g=o[0];if(m=e[s],(g?a(g,m):l(v,m))<0){for(i=n,(g||v).push(m);--i;)if(g=o[i],(g?a(g,m):l(t[i],m))<0)continue e;h.push(m)}}for(;n--;)g=o[n],g&&f(g);return d(o),d(v),h}function rn(e,t,i){if(e){var r=0,a=e.length;if("number"!=typeof t&&null!=t){var o=a;for(t=n.createCallback(t,i);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||i)return e[a-1];return v(e,bi(0,a-r))}}function an(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(0>n?bi(0,i+n):ji(n,i-1))+1);i--;)if(e[i]===t)return i;return-1}function on(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);for(var i=-1,r=bi(0,ni((t-e)/n)),a=zn(r);++i<r;)a[i]=e,e+=n;return a}function sn(e,t,i){if("number"!=typeof t&&null!=t){var r=0,a=-1,o=e?e.length:0;for(t=n.createCallback(t,i);++a<o&&t(e[a],a,e);)r++}else r=null==t||i?1:bi(0,t);return v(e,r)}function ln(e,t,i,r){var a=0,o=e?e.length:a;for(i=i?n.createCallback(i,r,1):An,t=i(t);o>a;){var s=a+o>>>1;i(e[s])<t?a=s+1:o=s}return a}function un(e){return Si(e)||(arguments[0]=e?_i.call(e):Qn),Ri(ri.apply(Qn,arguments))}function cn(e){for(var t=-1,n=e?Ht(Bt(e,"length")):0,i=zn(0>n?0:n);++t<n;)i[t]=Bt(e,t);return i}function pn(e){return Kt(e,_i.call(arguments,1))}function hn(e){return e?cn(arguments):[]}function dn(e,t){for(var n=-1,i=e?e.length:0,r={};++n<i;){var a=e[n];t?r[a]=t[n]:r[a[0]]=a[1]}return r}function fn(e,t){return 1>e?t():function(){return--e<1?t.apply(this,arguments):void 0}}function vn(e,t){return Ei.fastBind||di&&arguments.length>2?di.call.apply(di,arguments):o(e,t,_i.call(arguments,2))}function mn(e){for(var t=arguments.length>1?ri.apply(Qn,_i.call(arguments,1)):ot(e),n=-1,i=t.length;++n<i;){var r=t[n];e[r]=vn(e[r],e)}return e}function gn(e,t){return o(e,t,_i.call(arguments,2),x)}function yn(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function bn(e,t,n){if(null==e)return An;var i=typeof e;if("function"!=i){if("object"!=i)return function(t){return t[e]};var r=Ai(e);return function(t){for(var n=r.length,i=!1;n--&&(i=dt(t[r[n]],e[r[n]],x)););return i}}return"undefined"==typeof t||M&&!M.test(oi.call(e))?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,i){return e.call(t,n,i)}:4===n?function(n,i,r,a){return e.call(t,n,i,r,a)}:function(n,i,r){return e.call(t,n,i,r)}}function jn(e,t,n){function i(){ii(h),ii(d),u=0,h=d=null}function r(){var t=f&&(!v||u>1);i(),t&&(p!==!1&&(c=new qn),s=e.apply(l,o))}function a(){i(),(f||p!==t)&&(c=new qn,s=e.apply(l,o))}var o,s,l,u=0,c=0,p=!1,h=null,d=null,f=!0;if(t=bi(0,t||0),n===!0){var v=!0;f=!1}else mt(n)&&(v=n.leading,p="maxWait"in n&&bi(t,n.maxWait||0),f="trailing"in n?n.trailing:f);return function(){if(o=arguments,l=this,u++,ii(d),p===!1)v&&2>u&&(s=e.apply(l,o));else{var n=new qn;h||v||(c=n);var i=p-(n-c);0>=i?(ii(h),h=null,c=n,s=e.apply(l,o)):h||(h=pi(a,i))}return t!==p&&(d=pi(r,t)),s}}function xn(e){var t=_i.call(arguments,1);return pi(function(){e.apply(g,t)},1)}function wn(e,t){var n=_i.call(arguments,2);return pi(function(){e.apply(g,n)},t)}function _n(e,t){function n(){var i=n.cache,r=w+(t?t.apply(this,arguments):arguments[0]);return li.call(i,r)?i[r]:i[r]=e.apply(this,arguments)}return n.cache={},n}function Cn(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Tn(e){return o(e,_i.call(arguments,1))}function kn(e){return o(e,_i.call(arguments,1),null,x)}function En(e,t,n){var i=!0,r=!0;n===!1?i=!1:mt(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),n=h(),n.leading=i,n.maxWait=t,n.trailing=r;var a=jn(e,t,n);return f(n),a}function Sn(e,t){return function(){var n=[e];return ui.apply(n,arguments),t.apply(this,n)}}function Nn(e){return null==e?"":Yn(e).replace(F,b)}function An(e){return e}function Pn(e){Ot(ot(e),function(t){var r=n[t]=e[t];n.prototype[t]=function(){var e=this.__wrapped__,t=[e];ui.apply(t,arguments);var a=r.apply(n,t);return e&&"object"==typeof e&&e===a?this:new i(a)}})}function Mn(){return t._=ei,this}function In(e,t){null==e&&null==t&&(t=1),e=+e||0,null==t?(t=e,e=0):t=+t||0;var n=wi();return e%1||t%1?e+ji(n*(t-e+parseFloat("1e-"+((n+"").length-1))),t):e+ai(n*(t-e+1))}function $n(e,t){var n=e?e[t]:g;return vt(n)?e[t]():n}function On(e,t,i){var r=n.templateSettings;e||(e=""),i=$i({},i,r);var a,o=$i({},i.imports,r.imports),s=Ai(o),l=St(o),u=0,p=i.interpolate||O,h="__p += '",d=Gn((i.escape||O).source+"|"+p.source+"|"+(p===P?N:O).source+"|"+(i.evaluate||O).source+"|$","g");e.replace(d,function(t,n,i,r,o,s){return i||(i=r),h+=e.slice(u,s).replace(L,c),n&&(h+="' +\n__e("+n+") +\n'"),o&&(a=!0,h+="';\n"+o+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=s+t.length,t}),h+="';\n";var f=i.variable,v=f;v||(f="obj",h="with ("+f+") {\n"+h+"\n}\n"),h=(a?h.replace(T,""):h).replace(k,"$1").replace(E,"$1;"),h="function("+f+") {\n"+(v?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m="\n/*\n//@ sourceURL="+(i.sourceURL||"/lodash/template/source["+H++ +"]")+"\n*/";try{var y=Wn(s,"return "+h+m).apply(g,l)}catch(b){throw b.source=h,b}return t?y(t):(y.source=h,y)}function Fn(e,t,i){e=(e=+e)>-1?e:0;var r=-1,a=zn(e);for(t=n.createCallback(t,i,1);++r<e;)a[r]=t(r);return a}function Ln(e){return null==e?"":Yn(e).replace(S,et)}function Dn(e){var t=++j;return Yn(null==e?"":e)+t}function Hn(e,t){return t(e),e}function Rn(){return Yn(this.__wrapped__)}function Bn(){return this.__wrapped__}t=t?tt.defaults(e.Object(),t,tt.pick(e,D)):e;var zn=t.Array,Un=t.Boolean,qn=t.Date,Wn=t.Function,Vn=t.Math,Xn=t.Number,Jn=t.Object,Gn=t.RegExp,Yn=t.String,Kn=t.TypeError,Qn=[],Zn=Jn.prototype;Yn.prototype;var ei=t._,ti=Gn("^"+Yn(Zn.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),ni=Vn.ceil,ii=t.clearTimeout,ri=Qn.concat,ai=Vn.floor,oi=Wn.prototype.toString,si=ti.test(si=Jn.getPrototypeOf)&&si,li=Zn.hasOwnProperty,ui=Qn.push,ci=(Zn.propertyIsEnumerable,t.setImmediate),pi=t.setTimeout,hi=Zn.toString,di=ti.test(di=hi.bind)&&di,fi=ti.test(fi=Jn.create)&&fi,vi=ti.test(vi=zn.isArray)&&vi,mi=t.isFinite,gi=t.isNaN,yi=ti.test(yi=Jn.keys)&&yi,bi=Vn.max,ji=Vn.min,xi=t.parseInt,wi=Vn.random,_i=Qn.slice,Ci=ti.test(t.attachEvent),Ti=di&&!/\n|true/.test(di+Ci),ki={};ki[B]=zn,ki[z]=Un,ki[U]=qn,ki[q]=Wn,ki[V]=Jn,ki[W]=Xn,ki[X]=Gn,ki[J]=Yn,i.prototype=n.prototype;var Ei=n.support={};Ei.fastBind=di&&!Ti,n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:P,variable:"",imports:{_:n}};var Si=vi,Ni=function(e){var t,n=e,i=[];if(!n)return i;if(!Y[typeof e])return i;for(t in n)li.call(n,t)&&i.push(t);return i},Ai=yi?function(e){return mt(e)?yi(e):[]}:Ni,Pi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mi=lt(Pi),Ii=function(e,t,i){var r,a=e,o=a;if(!a)return o;var s=arguments,l=0,u="number"==typeof i?2:s.length;if(u>3&&"function"==typeof s[u-2])var c=n.createCallback(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(c=s[--u]);for(;++l<u;)if(a=s[l],a&&Y[typeof a])for(var p=-1,h=Y[typeof a]&&Ai(a),d=h?h.length:0;++p<d;)r=h[p],o[r]=c?c(o[r],a[r]):a[r];return o},$i=function(e,t,n){var i,r=e,a=r;if(!r)return a;for(var o=arguments,s=0,l="number"==typeof n?2:o.length;++s<l;)if(r=o[s],r&&Y[typeof r])for(var u=-1,c=Y[typeof r]&&Ai(r),p=c?c.length:0;++u<p;)i=c[u],"undefined"==typeof a[i]&&(a[i]=r[i]);return a},Oi=function(e,t,i){var r,a=e,o=a;if(!a)return o;if(!Y[typeof a])return o;t=t&&"undefined"==typeof i?t:n.createCallback(t,i);for(r in a)if(t(a[r],r,e)===!1)return o;return o},Fi=function(e,t,i){var r,a=e,o=a;if(!a)return o;if(!Y[typeof a])return o;t=t&&"undefined"==typeof i?t:n.createCallback(t,i);for(var s=-1,l=Y[typeof a]&&Ai(a),u=l?l.length:0;++s<u;)if(r=l[s],t(a[r],r,e)===!1)return o;return o},Li=function(e){if(!e||hi.call(e)!=V)return!1;var t=e.valueOf,n="function"==typeof t&&(n=si(t))&&si(n);return n?e==n||si(e)==n:Q(e)},Di=It,Hi=K(function zi(e,t,n){for(var i=-1,r=e?e.length:0,a=[];++i<r;){var o=e[i];n&&(o=n(o,i,e)),Si(o)?ui.apply(a,t?o:zi(o)):a.push(o)}return a}),Ri=K(function(e,t,n){var i=-1,o=C(),s=e?e.length:0,l=[],c=!t&&s>=_&&o===r,h=n||c?p():l;if(c){var v=u(h);v?(o=a,h=v):(c=!1,h=n?h:(d(h),l))}for(;++i<s;){var m=e[i],g=n?n(m,i,e):m;(t?!i||h[h.length-1]!==g:o(h,g)<0)&&((n||c)&&h.push(g),l.push(m))}return c?(d(h.array),f(h)):n&&d(h),l});Ti&&Z&&"function"==typeof ci&&(xn=vn(ci,t));var Bi=8==xi(I+"08")?xi:function(e,t){return xi(xt(e)?e.replace($,""):e,t||0)};return n.after=fn,n.assign=Ii,n.at=Nt,n.bind=vn,n.bindAll=mn,n.bindKey=gn,n.compact=Yt,n.compose=yn,n.countBy=Pt,n.createCallback=bn,n.debounce=jn,n.defaults=$i,n.defer=xn,n.delay=wn,n.difference=Kt,n.filter=It,n.flatten=Hi,n.forEach=Ot,n.forIn=Oi,n.forOwn=Fi,n.functions=ot,n.groupBy=Ft,n.initial=tn,n.intersection=nn,n.invert=lt,n.invoke=Lt,n.keys=Ai,n.map=Dt,n.max=Ht,n.memoize=_n,n.merge=_t,n.min=Rt,n.omit=Ct,n.once=Cn,n.pairs=Tt,n.partial=Tn,n.partialRight=kn,n.pick=kt,n.pluck=Bt,n.range=on,n.reject=qt,n.rest=sn,n.shuffle=Wt,n.sortBy=Jt,n.tap=Hn,n.throttle=En,n.times=Fn,n.toArray=Gt,n.transform=Et,n.union=un,n.uniq=Ri,n.unzip=cn,n.values=St,n.where=Di,n.without=pn,n.wrap=Sn,n.zip=hn,n.zipObject=dn,n.collect=Dt,n.drop=sn,n.each=Ot,n.extend=Ii,n.methods=ot,n.object=dn,n.select=It,n.tail=sn,n.unique=Ri,Pn(n),n.chain=n,n.prototype.chain=function(){return this},n.clone=it,n.cloneDeep=rt,n.contains=At,n.escape=Nn,n.every=Mt,n.find=$t,n.findIndex=Qt,n.findKey=at,n.has=st,n.identity=An,n.indexOf=en,n.isArguments=nt,n.isArray=Si,n.isBoolean=ut,n.isDate=ct,n.isElement=pt,n.isEmpty=ht,n.isEqual=dt,n.isFinite=ft,n.isFunction=vt,n.isNaN=gt,n.isNull=yt,n.isNumber=bt,n.isObject=mt,n.isPlainObject=Li,n.isRegExp=jt,n.isString=xt,n.isUndefined=wt,n.lastIndexOf=an,n.mixin=Pn,n.noConflict=Mn,n.parseInt=Bi,n.random=In,n.reduce=zt,n.reduceRight=Ut,n.result=$n,n.runInContext=m,n.size=Vt,n.some=Xt,n.sortedIndex=ln,n.template=On,n.unescape=Ln,n.uniqueId=Dn,n.all=Mt,n.any=Xt,n.detect=$t,n.findWhere=$t,n.foldl=zt,n.foldr=Ut,n.include=At,n.inject=zt,Fi(n,function(e,t){n.prototype[t]||(n.prototype[t]=function(){var t=[this.__wrapped__];return ui.apply(t,arguments),e.apply(n,t)})}),n.first=Zt,n.last=rn,n.take=Zt,n.head=Zt,Fi(n,function(e,t){n.prototype[t]||(n.prototype[t]=function(t,n){var r=e(this.__wrapped__,t,n);return null==t||n&&"function"!=typeof t?r:new i(r)})}),n.VERSION="1.3.1",n.prototype.toString=Rn,n.prototype.value=Bn,n.prototype.valueOf=Bn,Ot(["join","pop","shift"],function(e){var t=Qn[e];n.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),Ot(["push","reverse","sort","unshift"],function(e){var t=Qn[e];n.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Ot(["concat","slice","splice"],function(e){var t=Qn[e];n.prototype[e]=function(){return new i(t.apply(this.__wrapped__,arguments))}}),n}var g,y=[],b=[],j=0,x={},w=+new Date+"",_=75,C=40,T=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/&(?:amp|lt|gt|quot|#39);/g,N=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,P=/<%=([\s\S]+?)%>/g,M=(M=/\bthis\b/)&&M.test(m)&&M,I=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",$=RegExp("^["+I+"]*0+(?=.$)"),O=/($^)/,F=/[&<>"']/g,L=/['\n\r\t\u2028\u2029\\]/g,D=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],H=0,R="[object Arguments]",B="[object Array]",z="[object Boolean]",U="[object Date]",q="[object Function]",W="[object Number]",V="[object Object]",X="[object RegExp]",J="[object String]",G={};G[q]=!1,G[R]=G[B]=G[z]=G[U]=G[W]=G[V]=G[X]=G[J]=!0;var Y={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},K={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Q=Y[typeof n]&&n,Z=Y[typeof t]&&t&&t.exports==Q&&t,et=Y[typeof i]&&i;!et||et.global!==et&&et.window!==et||(e=et);var tt=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e._=tt,define(function(){return tt})):Q&&!Q.nodeType?Z?(Z.exports=tt)._=tt:Q._=tt:e._=tt}(this)},{}],48:[function(e,t){!function(){var n=e("./media"),i=n.extend({name:"image",urlRoot:function(){return this.app.config.baseUrl+"/images"}});t.exports=i}()},{"./media":49}],50:[function(e,t){!function(){var n=e("./media"),i=n.extend({name:"video",urlRoot:function(){return this.app.config.baseUrl+"/videos"}});t.exports=i}()},{"./media":49}],51:[function(e,t){t.exports=function(t,n,i){"use strict";var r,a,o=t.event;r=o.special.debouncedresize={setup:function(){t(this).on("resize",r.handler)},teardown:function(){t(this).off("resize",r.handler)},handler:function(e,t){var n=this,i=arguments,s=function(){e.type="debouncedresize",o.dispatch.apply(n,i)};a&&clearTimeout(a),t?s():a=setTimeout(s,r.threshold)},threshold:150};var s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(e){function n(){var n=t(p),i=t(h);o&&(h.length?o.reject(u,n,i):o.resolve(u)),t.isFunction(e)&&e.call(a,u,n,i)}function r(e,i){e.src!==s&&-1===t.inArray(e,c)&&(c.push(e),i?h.push(e):p.push(e),t.data(e,"imagesLoaded",{isBroken:i,src:e.src}),l&&o.notifyWith(t(e),[i,u,t(p),t(h)]),u.length===c.length&&(setTimeout(n),u.unbind(".imagesLoaded")))}var a=this,o=t.isFunction(t.Deferred)?t.Deferred():0,l=t.isFunction(o.notify),u=a.find("img").add(a.filter("img")),c=[],p=[],h=[];return t.isPlainObject(e)&&t.each(e,function(t,n){"callback"===t?e=n:o&&o[t](n)}),u.length?u.bind("load.imagesLoaded error.imagesLoaded",function(e){r(e.target,"error"===e.type)}).each(function(e,n){var a=n.src,o=t.data(n,"imagesLoaded");return o&&o.src===a?(r(n,o.isBroken),void 0):n.complete&&n.naturalWidth!==i?(r(n,0===n.naturalWidth||0===n.naturalHeight),void 0):((n.readyState||n.complete)&&(n.src=s,n.src=a),void 0)}):n(),o?o.promise(a):a};var l=t(n);n.Modernizr,t.Elastislide=function(e,n){this.$el=t(n),this._init(e)},t.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},t.Elastislide.prototype={_init:function(n){var i=e("./modernizr");this.options=t.extend(!0,{},t.Elastislide.defaults,n);var r=this,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};return this.transEndEventName=a[i.prefixed("transition")],this.support=i.csstransitions&&i.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount?!1:(this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout(function(){r._addTransition()},100),this.$el.imagesLoaded(function(){r.$el.show(),r._layout(),r._configure(),r.hasTransition?(r._removeTransition(),r._slideToItem(r.current),r.$el.on(r.transEndEventName,function(){r.$el.off(r.transEndEventName),r._setWrapperSize(),r._addTransition(),r._initEvents()})):(clearTimeout(r.hasTransitionTimeout),r._setWrapperSize(),r._initEvents(),r._slideToItem(r.current),setTimeout(function(){r._addTransition()},25)),r.options.onReady()}),void 0)},_validate:function(){this.options.speed<0&&(this.options.speed=500),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),(this.options.start<0||this.options.start>this.itemsCount-1)&&(this.options.start=0),"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var e=this.$items.find("img:first");this.imgSize={width:e.outerWidth(!0),height:e.outerHeight(!0)},this._setItemsSize(),"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var e=this;this.$navigation=t('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper),this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(){return e._slide("prev"),!1}),this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(){return e._slide("next"),!1})},_setItemsSize:function(){var e="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:e+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height}),"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var e=this;l.on("debouncedresize.elastislide",function(){e._setItemsSize(),e._configure(),e._slideToItem(e.current)
}),this.$el.on(this.transEndEventName,function(){e._onEndTransition()}),"horizontal"===this.options.orientation?this.$el.on({swipeleft:function(){e._slide("next")},swiperight:function(){e._slide("prev")}}):this.$el.on({swipeup:function(){e._slide("next")},swipedown:function(){e._slide("prev")}}),this.$el.on("click.elastislide","li",function(n){var i=t(this);e.options.onClick(i,i.index(),n)})},_destroy:function(e){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide"),l.off(".elastislide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),e&&e.call()},_toggleControls:function(e,t){t?"next"===e?this.$navNext.show():this.$navPrev.show():"next"===e?this.$navNext.hide():this.$navPrev.hide()},_slide:function(e,n){if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var r=this,a=this.translation||0,o="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),s=this.itemsCount*o,l="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(n===i){var u=this.fitCount*o;if(0>u)return!1;if("next"===e&&s-(Math.abs(a)+u)<l)u=s-(Math.abs(a)+l),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===e&&Math.abs(a)-u<0)u=Math.abs(a),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var c="next"===e?Math.abs(a)+Math.abs(u):Math.abs(a)-Math.abs(u);c>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),s-l>c?this._toggleControls("next",!0):this._toggleControls("next",!1)}n="next"===e?a-u:a+u}else{var u=Math.abs(n);Math.max(s,l)-u<l&&(n=-(Math.max(s,l)-l)),u>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(s,l)-l>u?this._toggleControls("next",!0):this._toggleControls("next",!1)}if(this.translation=n,a===n)return this._onEndTransition(),!1;if(this.support)"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+n+"px)"):this.$el.css("transform","translateY("+n+"px)");else{t.fn.applyStyle=this.hasTransition?t.fn.animate:t.fn.css;var p="horizontal"===this.options.orientation?{left:n}:{top:n};this.$el.stop().applyStyle(p,t.extend(!0,[],{duration:this.options.speed,complete:function(){r._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(e){var e=e||this.current,t=Math.abs(this.translation)||0,n="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),i=t+this.$carousel.width(),r=Math.abs(e*n);(r+n>i||t>r)&&this._slideToItem(e)},_slideToItem:function(e){var t="horizontal"===this.options.orientation?e*this.$items.outerWidth(!0):e*this.$items.outerHeight(!0);this._slide("",-t)},add:function(e){var t=this,n=this.current,i=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=i.index(),this._setItemsSize(),this._configure(),this._removeTransition(),n<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout(function(){t._addTransition()},25),e&&e.call()},setCurrent:function(e,t){this.current=e,this._slideTo(),t&&t.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(e){this._destroy(e)}};var u=function(e){n.console&&n.console.error(e)};t.fn.elastislide=function(e){var n=t.data(this,"elastislide");if("string"==typeof e){var i=Array.prototype.slice.call(arguments,1);this.each(function(){return n?t.isFunction(n[e])&&"_"!==e.charAt(0)?(n[e].apply(n,i),void 0):(u("no such method '"+e+"' for elastislide self"),void 0):(u("cannot call methods on elastislide prior to initialization; attempted to call method '"+e+"'"),void 0)})}else this.each(function(){n?n._init():n=t.data(this,"elastislide",new t.Elastislide(e,this))});return n}}},{"./modernizr":52}],14:[function(e,t){!function(){var n=e("../base"),i=e("../layout/navbar.js"),r=e("../layout/footer.js"),a=n.extend({template:e("../../templates/routes/index.hbs"),initialize:function(e){this.app=e.app,this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var e=new i({app:this.app}),t=new r({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(t,this.$("#footer")),this.eachSubview(function(e){e.render()})},context:function(){return this.getContext()}});t.exports=a}()},{"../../templates/routes/index.hbs":55,"../base":56,"../layout/footer.js":54,"../layout/navbar.js":53}],12:[function(e,t){!function(){var n=e("../base"),i=e("../layout/navbar.js"),r=e("../layout/footer.js"),a=n.extend({template:e("../../templates/routes/login.hbs"),initialize:function(e){this.app=e.app,this.user=this.app.getUser(),this.listenTo(this.user,"change",this.render,this),this.renderOnReady(this.user)},afterRender:function(){var e=new i({app:this.app}),t=new r({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(t,this.$("#footer")),this.eachSubview(function(e){e.render()})},context:function(){return this.getContext({user:this.user.attributes})},events:{submit:"login","click a.app":"handleAppLink","click a.provisionTestAccount":"provisionTestAccount"},login:function(e){e.preventDefault(),e.stopPropagation();var t=this.$("input[name=username]").val(),n=this.$("input[name=password]").val();this.user.set({username:t,password:n,id:null,path:null,policy:null,token:null}).save()},provisionTestAccount:function(e){e.preventDefault(),e.stopPropagation(),this.user.set({id:"test"}).save()}});t.exports=a}()},{"../../templates/routes/login.hbs":57,"../base":56,"../layout/footer.js":54,"../layout/navbar.js":53}],15:[function(e,t){!function(){var n=e("../base"),i=e("../layout/navbar.js"),r=e("../layout/footer.js"),a=n.extend({template:e("../../templates/errors/no_pages.hbs"),initialize:function(e){this.app=e.app,this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var e=new i({app:this.app}),t=new r({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(t,this.$("#footer")),this.eachSubview(function(e){e.render()})},context:function(){return this.getContext()}});t.exports=a}()},{"../../templates/errors/no_pages.hbs":58,"../base":56,"../layout/footer.js":54,"../layout/navbar.js":53}],17:[function(e,t){!function(){var n=e("../base"),i=e("../../helpers/JqueryLoader"),r=e("../layout/navbar.js"),a=e("../layout/footer.js"),o=n.extend({template:e("../../templates/routes/contact.hbs"),initialize:function(e){this.app=e.app},events:{submit:"send","click a.app":"handleAppLink"},afterRender:function(){var e=new r({app:this.app}),t=new a({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(t,this.$("#footer")),this.eachSubview(function(e){e.render()})},nameVal:"",emailVal:"",messageVal:"",context:function(){return this.getContext({nameVal:this.nameVal,emailVal:this.emailVal,messageVal:this.messageVal})},send:function(e){e.preventDefault(),e.stopPropagation();var t=this;t.nameVal=t.$('form input[name="name"]').val(),t.emailVal=t.$('form input[name="email"]').val(),t.messageVal=t.$("form textarea").val(),t.app.clearFlash(),t.app.setFlash("info","Sending message..."),t.$("form button").button("loading"),i.ajax({url:t.app.config.baseUrl+"/users/contact.json",success:function(e){e.error?t.app.error(e.error):t.app.setFlash("success","Message sent!")},error:function(e,n,i){t.app.error(i)},complete:function(){t.$("form button").button("reset"),t.render()},data:{name:t.nameVal,email:t.emailVal,message:t.messageVal,id:t.app.bootstrap.userId},dataType:"json",timeout:2e4,type:"POST"})}});t.exports=o}()},{"../../helpers/JqueryLoader":44,"../../templates/routes/contact.hbs":59,"../base":56,"../layout/footer.js":54,"../layout/navbar.js":53}],19:[function(e,t){!function(){var n=e("../base"),i=e("../layout/navbar.js"),r=e("../layout/footer.js"),a=n.extend({template:e("../../templates/routes/review.hbs"),initialize:function(e){this.app=e.app,this.unprocessed=this.app.db.fetchCollection("unprocessedUploads"),this.listenTo(this.app.getUser(),"change",this.render,this),this.listenTo(this.unprocessed,"add change remove sort",this.render,this)},afterRender:function(){var e=new i({app:this.app}),t=new r({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(t,this.$("#footer")),this.eachSubview(function(e){e.render()})},context:function(){var e=[];return this.unprocessed.forEach(function(t){e.push(t.templateVars())}),this.getContext({unprocessed:e,nothingToReview:0===e.length})}});t.exports=a}()},{"../../templates/routes/review.hbs":60,"../base":56,"../layout/footer.js":54,"../layout/navbar.js":53}],23:[function(e,t){!function(){var n=e("../../base"),i=e("../../layout/navbar.js"),r=e("../../layout/footer.js"),a=e("../../routes/media/grid.js"),o=n.extend({template:e("../../../templates/routes/pages/show.hbs"),initialize:function(e){this.app=e.app,this.pageName=e.pageName,this.listenTo(this.app.getUser(),"change",this.render,this),this.fetchPage(e.pageName,function(){this.render()})},afterRender:function(){var e=new i({app:this.app}),t=new a({app:this.app,pageName:this.pageName}),n=new r({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(t,this.$("#content")),this.appendSubview(n,this.$("#footer")),this.eachSubview(function(e){e.render()})},context:function(){return this.getContext()}});t.exports=o}()},{"../../../templates/routes/pages/show.hbs":62,"../../base":56,"../../layout/footer.js":54,"../../layout/navbar.js":53,"../../routes/media/grid.js":61}],25:[function(e,t){!function(){var n=e("../../base"),i=e("../../../helpers/lib/holder.js"),r=e("../../layout/navbar.js"),a=e("../../layout/footer.js"),o=n.extend({template:e("../../../templates/routes/pages/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.app":"handleAppLink"},initialize:function(e){this.app=e.app,this.fetchPage(e.pageName,function(){this.listenTo(this.page,"invalid",function(){this.app.error(this.page.validationError)},this),this.media=this.page.getMedia(),this.listenTo(this.media,"change add remove sort",this.render,this),this.media.once("ready",this.render,this),this.render()})},context:function(){var e=[],t=encodeURIComponent(this.page.attributes.name);return this.media&&this.media.forEach(function(n){e.push(n.templateVars(t))}),this.getContext({media:e,page:this.page.attributes})},afterRender:function(){var e=this,t=new r({app:e.app}),n=new a({app:e.app});e.appendSubview(t,e.$("#header")),e.appendSubview(n,e.$("#footer")),e.eachSubview(function(e){e.render()}),e.$(".sortable").sortable().bind("sortupdate",function(){e.readSortOrder.apply(e,arguments)}),e.$(".switch").bootstrapSwitch(),i.run()},performSave:function(e){var t=this;e.preventDefault();var n=this.$("input[name=name]").val(),i=this.$("input[name=isPublished]").parent().hasClass("switch-on");this.app.clearFlash(),this.page.save({userId:t.app.getUser().attributes.id,name:n,isPublished:i},{success:function(){t.app.db.fetchCollection("pages").fetch(),t.app.setFlash("success","Page Saved!")},error:t.app.error})},performDelete:function(e){e.preventDefault(),e.stopPropagation();var t=this,n=confirm("Are you sure you want to delete "+t.page.attributes.name+"?");return n?(t.page.destroy({success:function(){t.app.db.fetchCollection("pages").remove(t.page),t.app.navigate("",{trigger:!0})},error:t.app.error}),void 0):!1},readSortOrder:function(e){e.preventDefault(),e.stopPropagation();var t=this,n=t.$(".sortable").children(),i=[],r=[];n.each(function(e,n){var a=t.page.getMedia().get($(n).attr("data-uuid"));i.push(a),r.push({ID:a.attributes.id,NAME:a.attributes.name,TYPE:a.attributes.type.toLowerCase(),THUMB:a.attributes.thumbnailS3key})}),t.page.getMedia().reset(i),t.page.set("items",r),t.page.save({},{success:function(){t.app.setFlash("success","Page Saved!")},error:t.app.error})}});t.exports=o}()},{"../../../helpers/lib/holder.js":63,"../../../templates/routes/pages/edit.hbs":64,"../../base":56,"../../layout/footer.js":54,"../../layout/navbar.js":53}],29:[function(e,t){!function(){var n=e("../../base"),i=e("../../layout/navbar.js"),r=e("../../layout/footer.js"),a=n.extend({template:e("../../../templates/routes/media/add.hbs"),events:{"click a.filepicker":"startFilepicker","click a.app":"handleAppLink"},initialize:function(e){this.app=e.app,this.listenTo(this.app.getUser(),"change",this.render,this),this.fetchPage(e.pageName,function(){this.render()})},afterRender:function(){var e=new i({app:this.app}),t=new r({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(t,this.$("#footer")),this.eachSubview(function(e){e.render()})},context:function(){var e=encodeURIComponent(this.page.attributes.name);return this.getContext({page:this.page.attributes,pickMediaUrl:"page/"+e+"/pickMedia"})},startFilepicker:function(e,t){var n=this,i=encodeURIComponent(this.page.attributes.name);return e&&(e.preventDefault(),e.stopPropagation()),this.page.id?(this.page.addMedia(function(e,t){e?304===e.code?n.app.logoutFromInactivity():101!==e.code&&n.app.error(e):t&&n.app.navigate("page/"+i,{trigger:!0})},t),void 0):(n.app.error("The page hasn't loaded yet, try again in a few seconds"),void 0)}});t.exports=a}()},{"../../../templates/routes/media/add.hbs":65,"../../base":56,"../../layout/footer.js":54,"../../layout/navbar.js":53}],52:[function(e,t){!function(){var e=function(e,t,n){function i(e){y.cssText=e}function r(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var i in e){var r=e[i];if(!a(r,"-")&&y[r]!==n)return"pfx"==t?r:!0}return!1}function s(e,t,i){for(var a in e){var o=t[e[a]];if(o!==n)return i===!1?e[a]:r(o,"function")?o.bind(i||t):o}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+x.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?o(a,t):(a=(e+" "+w.join(i+" ")+i).split(" "),s(a,t,n))}var u,c,p,h="2.6.2",d={},f=!0,v=t.documentElement,m="modernizr",g=t.createElement(m),y=g.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),j="Webkit Moz O ms",x=j.split(" "),w=j.toLowerCase().split(" "),_={},C=[],T=C.slice,k=function(e,n,i,r){var a,o,s,l,u=t.createElement("div"),c=t.body,p=c||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=r?r[i]:m+(i+1),u.appendChild(s);return a=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),u.id=m,(c?u:p).innerHTML+=a,p.appendChild(u),c||(p.style.background="",p.style.overflow="hidden",l=v.style.overflow,v.style.overflow="hidden",v.appendChild(p)),o=n(u,e),c?u.parentNode.removeChild(u):(p.parentNode.removeChild(p),v.style.overflow=l),!!o},E={}.hasOwnProperty;p=r(E,"undefined")||r(E.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return E.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=T.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var a=new r,o=t.apply(a,n.concat(T.call(arguments)));return Object(o)===o?o:a}return t.apply(e,n.concat(T.call(arguments)))};return i}),_.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:k(["@media (",b.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},_.csstransforms=function(){return!!l("transform")},_.csstransitions=function(){return l("transition")};for(var S in _)p(_,S)&&(c=S.toLowerCase(),d[c]=_[S](),C.push((d[c]?"":"no-")+c));return d.addTest=function(e,t){if("object"==typeof e)for(var i in e)p(e,i)&&d.addTest(i,e[i]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(v.className+=" "+(t?"":"no-")+e),d[e]=t}return d},i(""),g=u=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=g.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=m[e[f]];return t||(t={},v++,e[f]=v,m[v]=t),t}function a(e,n,i){if(n||(n=t),c)return n.createElement(e);i||(i=r(n));var a;return a=i.cache[e]?i.cache[e].cloneNode():d.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),a.canHaveChildren&&!h.test(e)?i.frag.appendChild(a):a}function o(e,n){if(e||(e=t),c)return e.createDocumentFragment();n=n||r(e);for(var a=n.frag.cloneNode(),o=0,s=i(),l=s.length;l>o;o++)a.createElement(s[o]);return a}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function l(e){e||(e=t);var i=r(e);return!g.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),c||s(e,i),e}var u,c,p=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",v=0,m={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,c=!0}}();var g={elements:p.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:p.shivCSS!==!1,supportsUnknownElements:c,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:o};e.html5=g,l(t)}(this,t),d._version=h,d._prefixes=b,d._domPrefixes=w,d._cssomPrefixes=x,d.testProp=function(e){return o([e])},d.testAllProps=l,d.testStyles=k,d.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+C.join(" "):""),d}(this,this.document);!function(e,t,n){function i(e){return"[object Function]"==m.call(e)}function r(e){return"string"==typeof e}function a(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=g.shift();y=1,e?e.t?f(function(){("c"==e.t?h.injectCss:h.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):y=0}function l(e,n,i,r,a,l,u){function c(t){if(!d&&o(p.readyState)&&(b.r=d=1,!y&&s(),p.onload=p.onreadystatechange=null,t)){"img"!=e&&f(function(){x.removeChild(p)},50);for(var i in k[n])k[n].hasOwnProperty(i)&&k[n][i].onload()}}var u=u||h.errorTimeout,p=t.createElement(e),d=0,m=0,b={t:i,s:n,e:a,a:l,x:u};1===k[n]&&(m=1,k[n]=[]),"object"==e?p.data=n:(p.src=n,p.type=e),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){c.call(this,m)},g.splice(r,0,b),"img"!=e&&(m||2===k[n]?(x.insertBefore(p,j?null:v),f(c,u)):k[n].push(p))}function u(e,t,n,i,a){return y=0,t=t||"j",r(e)?l("c"==t?_:w,e,t,this.i++,n,i,a):(g.splice(this.i++,0,e),1==g.length&&s()),this}function c(){var e=h;return e.loader={load:u,i:0},e}var p,h,d=t.documentElement,f=e.setTimeout,v=t.getElementsByTagName("script")[0],m={}.toString,g=[],y=0,b="MozAppearance"in d.style,j=b&&!!t.createRange().compareNode,x=j?d:v.parentNode,d=e.opera&&"[object Opera]"==m.call(e.opera),d=!!t.attachEvent&&!d,w=b?"object":d?"script":"img",_=d?"script":w,C=Array.isArray||function(e){return"[object Array]"==m.call(e)},T=[],k={},E={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};h=function(e){function t(e){var t,n,i,e=e.split("!"),r=T.length,a=e.pop(),o=e.length,a={url:a,origUrl:a,prefixes:e};for(n=0;o>n;n++)i=e[n].split("="),(t=E[i.shift()])&&(a=t(a,i));for(n=0;r>n;n++)a=T[n](a);return a}function o(e,r,a,o,s){var l=t(e),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[e]||r[o]||r[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,r,a,o,s):(k[l.url]?l.noexec=!0:k[l.url]=1,a.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(u))&&a.load(function(){c(),r&&r(l.origUrl,s,o),u&&u(l.origUrl,s,o),k[l.url]=2})))}function s(e,t){function n(e,n){if(e){if(r(e))n||(p=function(){var e=[].slice.call(arguments);h.apply(this,e),d()}),o(e,p,t,0,u);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--s&&(i(p)?p=function(){var e=[].slice.call(arguments);h.apply(this,e),d()}:p[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),d()}}(h[l])),o(e[l],p,t,l,u))}else!n&&d()}var s,l,u=!!e.test,c=e.load||e.both,p=e.callback||a,h=p,d=e.complete||a;n(u?e.yep:e.nope,!!c),c&&n(c)}var l,u,p=this.yepnope.loader;if(r(e))o(e,0,p,0);else if(C(e))for(l=0;l<e.length;l++)u=e[l],r(u)?o(u,0,p,0):C(u)?h(u):Object(u)===u&&s(u,p);else Object(e)===e&&s(e,p)},h.addPrefix=function(e,t){E[e]=t},h.addFilter=function(e){T.push(e)},h.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",p=function(){t.removeEventListener("DOMContentLoaded",p,0),t.readyState="complete"},0)),e.yepnope=c(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,i,r,l,u){var c,p,d=t.createElement("script"),r=r||h.errorTimeout;d.src=e;for(p in i)d.setAttribute(p,i[p]);n=u?s:n||a,d.onreadystatechange=d.onload=function(){!c&&o(d.readyState)&&(c=1,n(),d.onload=d.onreadystatechange=null)},f(function(){c||(c=1,n(1))},r),l?d.onload():v.parentNode.insertBefore(d,v)},e.yepnope.injectCss=function(e,n,i,r,o,l){var u,r=t.createElement("link"),n=l?s:n||a;r.href=e,r.rel="stylesheet",r.type="text/css";for(u in i)r.setAttribute(u,i[u]);o||(v.parentNode.insertBefore(r,v),f(n,0))}}(this,document),e.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},t.exports=e}()},{}],63:[function(e,t){!function(){var e=e||{};!function(e,t){function n(e,t){var n="complete",i="readystatechange",r=!1,a=r,o=!0,s=e.document,l=s.documentElement,u=s.addEventListener?"addEventListener":"attachEvent",c=s.addEventListener?"removeEventListener":"detachEvent",p=s.addEventListener?"":"on",h=function(o){(o.type!=i||s.readyState==n)&&(("load"==o.type?e:s)[c](p+o.type,h,r),!a&&(a=!0)&&t.call(e,null))},d=function(){try{l.doScroll("left")}catch(e){return setTimeout(d,50),void 0}h("poll")};if(s.readyState==n)t.call(e,"lazy");else{if(s.createEventObject&&l.doScroll){try{o=!e.frameElement}catch(f){}o&&d()}s[u](p+"DOMContentLoaded",h,r),s[u](p+i,h,r),e[u](p+"load",h,r)}}function r(e){e=e.match(/^(\W)?(.*)/);var t=document["getElement"+(e[1]?"#"==e[1]?"ById":"sByClassName":"sByTagName")](e[2]),n=[];return null!=t&&(n=t.length?t:0==t.length?t:[t]),n}function a(e,t){var n={};for(var i in e)n[i]=e[i];for(var r in t)n[r]=t[r];return n}function o(e,t,n){var i=[t,e].sort(),r=Math.round(i[1]/16);Math.round(i[0]/16);var a=Math.max(n.size,r);return{height:a}}function s(e,t,n,i){var r=o(t.width,t.height,n),a=r.height,s=t.width*i,l=t.height*i,u=n.font?n.font:"sans-serif";f.width=s,f.height=l,e.textAlign="center",e.textBaseline="middle",e.fillStyle=n.background,e.fillRect(0,0,s,l),e.fillStyle=n.foreground,e.font="bold "+a+"px "+u;var c=n.text?n.text:t.width+"x"+t.height;return e.measureText(c).width/s>1&&(a=n.size/(e.measureText(c).width/s)),e.font="bold "+a*i+"px "+u,e.fillText(c,s/2,l/2,s),f.toDataURL("image/png")}function l(e,t,n,i){var r=n.dimensions,o=n.theme,l=n.text?decodeURIComponent(n.text):n.text,u=r.width+"x"+r.height;o=l?a(o,{text:l}):o,o=n.font?a(o,{font:n.font}):o;var c=1;window.devicePixelRatio&&window.devicePixelRatio>1&&(c=window.devicePixelRatio),"image"==e?(t.setAttribute("data-src",i),t.setAttribute("alt",l?l:o.text?o.text+" ["+u+"]":u),(d||!n.auto)&&(t.style.width=r.width+"px",t.style.height=r.height+"px"),d?t.style.backgroundColor=o.background:t.setAttribute("src",s(v,r,o,c))):d||(t.style.backgroundImage="url("+s(v,r,o,c)+")",t.style.backgroundSize=r.width+"px "+r.height+"px")}function u(e,t){var n=t.dimensions,i=t.theme,r=t.text,o=n.width+"x"+n.height;i=r?a(i,{text:r}):i;var s=document.createElement("div");s.style.backgroundColor=i.background,s.style.color=i.foreground,s.className=e.className+" holderjs-fluid",s.style.width=t.dimensions.width+(t.dimensions.width.indexOf("%")>0?"":"px"),s.style.height=t.dimensions.height+(t.dimensions.height.indexOf("%")>0?"":"px"),s.id=e.id,e.style.width=0,e.style.height=0,i.text?s.appendChild(document.createTextNode(i.text)):(s.appendChild(document.createTextNode(o)),m.push(s),setTimeout(c,0)),e.parentNode.insertBefore(s,e.nextSibling),window.jQuery&&jQuery(function(t){t(e).on("load",function(){e.style.width=s.style.width,e.style.height=s.style.height,t(e).show(),t(s).remove()})})}function c(){for(i in m)if(m.hasOwnProperty(i)){var e=m[i],t=e.firstChild;e.style.lineHeight=e.offsetHeight+"px",t.data=e.offsetWidth+"x"+e.offsetHeight}}function p(t,n){var i={theme:g.themes.gray},r=!1;for(sl=t.length,j=0;sl>j;j++){var a=t[j];e.flags.dimensions.match(a)?(r=!0,i.dimensions=e.flags.dimensions.output(a)):e.flags.fluid.match(a)?(r=!0,i.dimensions=e.flags.fluid.output(a),i.fluid=!0):e.flags.colors.match(a)?i.theme=e.flags.colors.output(a):n.themes[a]?i.theme=n.themes[a]:e.flags.text.match(a)?i.text=e.flags.text.output(a):e.flags.font.match(a)?i.font=e.flags.font.output(a):e.flags.auto.match(a)&&(i.auto=!0)}return r?i:!1}var h=!1,d=!1,f=document.createElement("canvas");if(document.getElementsByClassName||(document.getElementsByClassName=function(e){var t,n,i,r=document,a=[];if(r.querySelectorAll)return r.querySelectorAll("."+e);if(r.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]",t=r.evaluate(n,r,null,0,null);i=t.iterateNext();)a.push(i);else for(t=r.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=0;i<t.length;i++)n.test(t[i].className)&&a.push(t[i]);return a}),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])}),f.getContext)if(f.toDataURL("image/png").indexOf("data:image/png")<0)d=!0;else var v=f.getContext("2d");else d=!0;var m=[],g={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};e.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{size:g.themes.gray.size,foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},font:{regex:/font\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},auto:{regex:/^auto$/}};for(var y in e.flags)e.flags.hasOwnProperty(y)&&(e.flags[y].match=function(e){return e.match(this.regex)});e.add_theme=function(t,n){return null!=t&&null!=n&&(g.themes[t]=n),e},e.add_image=function(t,n){var i=r(n);if(i.length)for(var a=0,o=i.length;o>a;a++){var s=document.createElement("img");s.setAttribute("data-src",t),i[a].appendChild(s)}return e},e.run=function(t){var n=a(g,t),i=[];for(imageNodes=n.images instanceof window.NodeList?n.images:n.images instanceof window.Node?[n.images]:r(n.images),bgnodes=n.elements instanceof window.NodeList?n.bgnodes:n.bgnodes instanceof window.Node?[n.bgnodes]:r(n.bgnodes),h=!0,d=0,c=imageNodes.length;c>d;d++)i.push(imageNodes[d]);var o=document.getElementById("holderjs-style");o||(o=document.createElement("style"),o.setAttribute("id","holderjs-style"),o.type="text/css",document.getElementsByTagName("head")[0].appendChild(o)),o.styleSheet?o.styleSheet+=n.stylesheet:o.textContent+=n.stylesheet;for(var s=new RegExp(n.domain+'/(.*?)"?\\)'),c=bgnodes.length,d=0;c>d;d++){var f=window.getComputedStyle(bgnodes[d],null).getPropertyValue("background-image"),v=f.match(s);if(v){var m=p(v[1].split("/"),n);m&&l("background",bgnodes[d],m,f)}}for(var c=i.length,d=0;c>d;d++){var f=i[d].getAttribute("src")||i[d].getAttribute("data-src");if(null!=f&&f.indexOf(n.domain)>=0){var m=p(f.substr(f.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n);m&&(m.fluid?u(i[d],m,f):l("image",i[d],m,f))}}return e},n(t,function(){window.addEventListener?(window.addEventListener("resize",c,!1),window.addEventListener("orientationchange",c,!1)):window.attachEvent("onresize",c),h||e.run()}),"function"==typeof define&&define.amd&&define("Holder",[],function(){return e})}(e,window),t.exports=e}()},{}],43:[function(e,t){!function(){var n=e("backbone"),i=e("lodash"),r=e("./JqueryLoader.js"),a=n.sync;n.$=r,n.sync=function(e,t,n){if(n=n||{},n.attrs=n.attrs||i.clone(t.toJSON()),n.timeout=n.timeout||2e4,n.parse=n.parse||!0,t.urlRoot&&t.methodUrl?n.url=t.methodUrl(e.toLowerCase()):"function"==typeof t.url?n.url=t.url():t.url&&(n.url=t.url),n.crossDomain||(n.crossDomain=!0),n.xhrFields||(n.xhrFields={withCredentials:!0}),n.success){var r=n.success;n.success=function(i,a,o){var s;if(i[t.name]&&i[t.name].errors?s=i[t.name].errors:i.error?s=i.error:i.errors&&(s=i.errors),!s)return r(i,a,o);if(!n.error)return r(i,a,o);var l=function(){n.error({responseText:JSON.stringify({errors:s})})};"read"!==e?t.fetch({success:function(){l()},error:function(){l()}}):l()}}return a(e,t,n)},t.exports=n}()},{"./JqueryLoader.js":44,backbone:66,lodash:46}],44:[function(e,t){!function(){var n=e("jquery-browserify");e("./lib/elastislide")(n,window),e("./lib/switch")(n,window),e("./lib/sortable")(n,window),e("./lib/tags")(n,window),e("./lib/bootstrap-button")(n,window),e("./lib/bootstrap-tooltip")(n,window),e("./lib/bootstrap-popover")(n,window),e("./lib/bootstrap-alert")(n,window),t.exports=n}()},{"./lib/bootstrap-alert":42,"./lib/bootstrap-button":39,"./lib/bootstrap-popover":41,"./lib/bootstrap-tooltip":40,"./lib/elastislide":51,"./lib/sortable":37,"./lib/switch":36,"./lib/tags":38,"jquery-browserify":67}],45:[function(e,t){!function(){var n=(e("path"),e("lodash")),i=1,r={user:e("../models/user"),image:e("../models/image"),video:e("../models/video"),page:e("../models/page"),customization:e("../models/customization")},a={pagemedia:e("../collections/pageMedia"),pages:e("../collections/pages"),unprocesseduploads:e("../collections/unprocessedUploads"),images:e("../collections/images"),videos:e("../collections/videos")},o=function(e){var t=this;this.cache={},this.createModel=function(t,i){if(t=t.toLowerCase(),i=i||{},n.find(r,function(e,n){return n===t}))return new r[t](i,{app:e});throw new Error('Cannot find Model "'+t+'"')},this.createCollection=function(t,i){if(t=t.toLowerCase(),i=i||{},i=n.clone(i),i.app=e,n.find(a,function(e,n){return n===t}))return new a[t]([],i);throw new Error('Cannot find Collection "'+t+'"')
},this.fetchModel=function(n,r,a){n=n.toLowerCase();var o,s="uuid://models/"+n+(r?"/"+r:"");return t.cache[s]?(o=t.cache[s],setTimeout(function(){o.isFetched&&o.trigger("ready")},i)):(o=this.createModel(n),t.cache[s]=o,a&&o.set(a),r&&o.set({id:r}),setTimeout(function(){a?(o.isFetched=!0,o.trigger("ready")):o.fetch({success:function(){o.isFetched=!0,o.trigger("ready")},error:function(){o.isFetched=!0,o.trigger("ready"),e.error.apply(e,arguments)}})},i)),o},this.fetchCollection=function(e,r){e=e.toLowerCase();var a,o=n.filter(r,function(e,t){return"app"!=t}),s="uuid://collections/"+e+"/"+JSON.stringify(o);return t.cache[s]?(a=t.cache[s],setTimeout(function(){a.isFetched&&a.trigger("ready")},i)):(a=this.createCollection(e,r),t.cache[s]=a,setTimeout(function(){a.fetch({success:function(){a.isFetched=!0,a.trigger("ready")}})},i)),a}};t.exports=o}()},{"../collections/images":74,"../collections/pageMedia":71,"../collections/pages":72,"../collections/unprocessedUploads":73,"../collections/videos":75,"../models/customization":70,"../models/image":48,"../models/page":68,"../models/user":69,"../models/video":50,lodash:46,path:4}],67:[function(e,t,n){!function(e,i){"object"==typeof n?t.exports=i():"function"==typeof define&&define.amd?define([],i):e.returnExports=i()}(this,function(){return function(e,t){function n(e){var t=ft[e]={};return Q.each(e.split(tt),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(mt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:vt.test(i)?Q.parseJSON(i):i}catch(a){}Q.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!Q.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(){return!1}function o(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,Q.isFunction(t))return Q.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return Q.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=Q.grep(e,function(e){return 1===e.nodeType});if(Ft.test(t))return Q.filter(t,i,!n);t=Q.filter(t,i)}return Q.grep(e,function(e){return Q.inArray(e,t)>=0===n})}function c(e){var t=Ht.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(1===t.nodeType&&Q.hasData(e)){var n,i,r,a=Q._data(e),o=Q._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)Q.event.add(t,n,s[n][i])}o.data&&(o.data=Q.extend({},o.data))}}function d(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Q.support.html5Clone&&e.innerHTML&&!Q.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Gt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Q.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function v(e){Gt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=yn.length;r--;)if(t=yn[r]+n,t in e)return t;return i}function g(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)}function y(e,t){for(var n,i,r=[],a=0,o=e.length;o>a;a++)n=e[a],n.style&&(r[a]=Q._data(n,"olddisplay"),t?(r[a]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&g(n)&&(r[a]=Q._data(n,"olddisplay",w(n.nodeName)))):(i=nn(n,"display"),r[a]||"none"===i||Q._data(n,"olddisplay",i)));for(a=0;o>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function b(e,t,n){var i=pn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function j(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=Q.css(e,n+gn[r],!0)),i?("content"===n&&(a-=parseFloat(nn(e,"padding"+gn[r]))||0),"margin"!==n&&(a-=parseFloat(nn(e,"border"+gn[r]+"Width"))||0)):(a+=parseFloat(nn(e,"padding"+gn[r]))||0,"padding"!==n&&(a+=parseFloat(nn(e,"border"+gn[r]+"Width"))||0));return a}function x(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,a=Q.support.boxSizing&&"border-box"===Q.css(e,"boxSizing");if(0>=i||null==i){if(i=nn(e,t),(0>i||null==i)&&(i=e.style[t]),hn.test(i))return i;r=a&&(Q.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r)+"px"}function w(e){if(fn[e])return fn[e];var t=Q("<"+e+">").appendTo(B.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=B.body.appendChild(rn||Q.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0})),an&&rn.createElement||(an=(rn.contentWindow||rn.contentDocument).document,an.write("<!doctype html><html><body>"),an.close()),t=an.body.appendChild(an.createElement(e)),n=nn(t,"display"),B.body.removeChild(rn)),fn[e]=n,n}function _(e,t,n,i){var r;if(Q.isArray(t))Q.each(t,function(t,r){n||xn.test(e)?i(e,r):_(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Q.type(t))i(e,t);else for(r in t)_(e+"["+r+"]",t[r],n,i)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,a,o=t.toLowerCase().split(tt),s=0,l=o.length;if(Q.isFunction(n))for(;l>s;s++)i=o[s],a=/^\+/.test(i),a&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[a?"unshift":"push"](n)}}function T(e,n,i,r,a,o){a=a||n.dataTypes[0],o=o||{},o[a]=!0;for(var s,l=e[a],u=0,c=l?l.length:0,p=e===Ln;c>u&&(p||!s);u++)s=l[u](n,i,r),"string"==typeof s&&(!p||o[s]?s=t:(n.dataTypes.unshift(s),s=T(e,n,i,r,s,o)));return!p&&s||o["*"]||(s=T(e,n,i,r,"*",o)),s}function k(e,n){var i,r,a=Q.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((a[i]?e:r||(r={}))[i]=n[i]);r&&Q.extend(!0,e,r)}function E(e,n,i){var r,a,o,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(a in c)a in i&&(n[c[a]]=i[a]);for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){u.unshift(a);break}if(u[0]in i)o=u[0];else{for(a in i){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}s||(s=a)}o=o||s}return o?(o!==u[0]&&u.unshift(o),i[o]):void 0}function S(e,t){var n,i,r,a,o=e.dataTypes.slice(),s=o[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;r=o[++u];)if("*"!==r){if("*"!==s&&s!==r){if(n=l[s+" "+r]||l["* "+r],!n)for(i in l)if(a=i.split(" "),a[1]===r&&(n=l[s+" "+a[0]]||l["* "+a[0]])){n===!0?n=l[i]:l[i]!==!0&&(r=a[0],o.splice(u--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+r}}}s=r}return{state:"success",data:t}}function N(){try{return new e.XMLHttpRequest}catch(t){}}function A(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function P(){return setTimeout(function(){Jn=t},0),Jn=Q.now()}function M(e,t){Q.each(t,function(t,n){for(var i=(ei[t]||[]).concat(ei["*"]),r=0,a=i.length;a>r;r++)if(i[r].call(e,t,n))return})}function I(e,t,n){var i,r=0,a=Zn.length,o=Q.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Jn||P(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),r=0,a=l.tweens.length;a>r;r++)l.tweens[r].run(i);return o.notifyWith(e,[l,i,n]),1>i&&a?n:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Jn||P(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Q.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){for(var n=0,i=t?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),u=l.props;for($(u,l.opts.specialEasing);a>r;r++)if(i=Zn[r].call(l,e,u,l.opts))return i;return M(l,u),Q.isFunction(l.opts.start)&&l.opts.start.call(e,l),Q.fx.timer(Q.extend(s,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function $(e,t){var n,i,r,a,o;for(n in e)if(i=Q.camelCase(n),r=t[i],a=e[n],Q.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),o=Q.cssHooks[i],o&&"expand"in o){a=o.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function O(e,t,n){var i,r,a,o,s,l,u,c,p=this,h=e.style,d={},f=[],v=e.nodeType&&g(e);n.queue||(u=Q._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,c=u.empty.fire,u.empty.fire=function(){u.unqueued||c()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,Q.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===Q.css(e,"display")&&"none"===Q.css(e,"float")&&(Q.support.inlineBlockNeedsLayout&&"inline"!==w(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",Q.support.shrinkWrapBlocks||p.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Yn.exec(a)){if(delete t[i],a===(v?"hide":"show"))continue;f.push(i)}if(o=f.length)for(s=Q._data(e,"fxshow")||Q._data(e,"fxshow",{}),v?Q(e).show():p.done(function(){Q(e).hide()}),p.done(function(){var t;Q.removeData(e,"fxshow",!0);for(t in d)Q.style(e,t,d[t])}),i=0;o>i;i++)r=f[i],l=p.createTween(r,v?s[r]:0),d[r]=s[r]||Q.style(e,r),r in s||(s[r]=l.start,v&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}function F(e,t,n,i,r){return new F.prototype.init(e,t,n,i,r)}function L(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=gn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function D(e){return Q.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var H,R,B=e.document,z=e.location,U=e.navigator,q=e.jQuery,W=e.$,V=Array.prototype.push,X=Array.prototype.slice,J=Array.prototype.indexOf,G=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,K=String.prototype.trim,Q=function(e,t){return new Q.fn.init(e,t,H)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^[\],:{}\s]*$/,ot=/(?:^|:|,)(?:\s*\[)+/g,st=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,ct=/-([\da-z])/gi,pt=function(e,t){return(t+"").toUpperCase()},ht=function(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",ht,!1),Q.ready()):"complete"===B.readyState&&(B.detachEvent("onreadystatechange",ht),Q.ready())},dt={};Q.fn=Q.prototype={constructor:Q,init:function(e,n,i){var r,a,o;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:it.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof Q?n[0]:n,o=n&&n.nodeType?n.ownerDocument||n:B,e=Q.parseHTML(r[1],o,!0),rt.test(r[1])&&Q.isPlainObject(n)&&this.attr.call(e,n,!0),Q.merge(this,e);if(a=B.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return i.find(e);this.length=1,this[0]=a}return this.context=B,this.selector=e,this}return Q.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return X.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Q.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Q.each(this,e,t)},ready:function(e){return Q.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(X.apply(this,arguments),"slice",X.call(arguments).join(","))},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},Q.fn.init.prototype=Q.fn,Q.extend=Q.fn.extend=function(){var e,n,i,r,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||Q.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)i=s[n],r=e[n],s!==r&&(c&&r&&(Q.isPlainObject(r)||(a=Q.isArray(r)))?(a?(a=!1,o=i&&Q.isArray(i)?i:[]):o=i&&Q.isPlainObject(i)?i:{},s[n]=Q.extend(c,o,r)):r!==t&&(s[n]=r));return s},Q.extend({noConflict:function(t){return e.$===Q&&(e.$=W),t&&e.jQuery===Q&&(e.jQuery=q),Q},isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){if(e===!0?!--Q.readyWait:!Q.isReady){if(!B.body)return setTimeout(Q.ready,1);Q.isReady=!0,e!==!0&&--Q.readyWait>0||(R.resolveWith(B,[Q]),Q.fn.trigger&&Q(B).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray||function(e){return"array"===Q.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):dt[G.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Q.type(e)||e.nodeType||Q.isWindow(e))return!1;try{if(e.constructor&&!Y.call(e,"constructor")&&!Y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||Y.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||B,(i=rt.exec(e))?[t.createElement(i[1])]:(i=Q.buildFragment([e],t,n?null:[]),Q.merge([],(i.cacheable?Q.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Q.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):at.test(t.replace(st,"@").replace(lt,"]").replace(ot,""))?new Function("return "+t)():(Q.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(a){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ut,"ms-").replace(ct,pt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var r,a=0,o=e.length,s=o===t||Q.isFunction(e);if(i)if(s){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;o>a&&n.apply(e[a++],i)!==!1;);else if(s){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;o>a&&n.call(e[a],a,e[a++])!==!1;);return e},trim:K&&!K.call("﻿ ")?function(e){return null==e?"":K.call(e)}:function(e){return null==e?"":e.toString().replace(nt,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=Q.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Q.isWindow(e)?V.call(i,e):Q.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,a=0;if("number"==typeof i)for(;i>a;a++)e[r++]=n[a];else for(;n[a]!==t;)e[r++]=n[a++];return e.length=r,e},grep:function(e,t,n){var i,r=[],a=0,o=e.length;for(n=!!n;o>a;a++)i=!!t(e[a],a),n!==i&&r.push(e[a]);return r},map:function(e,n,i){var r,a,o=[],s=0,l=e.length,u=e instanceof Q||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Q.isArray(e));if(u)for(;l>s;s++)r=n(e[s],s,i),null!=r&&(o[o.length]=r);else for(a in e)r=n(e[a],a,i),null!=r&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var i,r,a;return"string"==typeof n&&(i=e[n],n=e,e=i),Q.isFunction(e)?(r=X.call(arguments,2),a=function(){return e.apply(n,r.concat(X.call(arguments)))},a.guid=e.guid=e.guid||a.guid||Q.guid++,a):t},access:function(e,n,i,r,a,o,s){var l,u=null==i,c=0,p=e.length;if(i&&"object"==typeof i){for(c in i)Q.access(e,n,c,i[c],1,o,r);a=1}else if(r!==t){if(l=s===t&&Q.isFunction(r),u&&(l?(l=n,n=function(e,t,n){return l.call(Q(e),n)}):(n.call(e,r),n=null)),n)for(;p>c;c++)n(e[c],i,l?r.call(e[c],c,n(e[c],i)):r,s);a=1}return a?e:u?n.call(e):p?n(e[0],i):o},now:function(){return(new Date).getTime()}}),Q.ready.promise=function(t){if(!R)if(R=Q.Deferred(),"complete"===B.readyState)setTimeout(Q.ready,1);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",Q.ready,!1);else{B.attachEvent("onreadystatechange",ht),e.attachEvent("onload",Q.ready);var n=!1;try{n=null==e.frameElement&&B.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!Q.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Q.ready()}}()}return R.promise(t)},Q.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){dt["[object "+t+"]"]=t.toLowerCase()}),H=Q(B);var ft={};Q.Callbacks=function(e){e="string"==typeof e?ft[e]||n(e):Q.extend({},e);var i,r,a,o,s,l,u=[],c=!e.once&&[],p=function(t){for(i=e.memory&&t,r=!0,l=o||0,o=0,s=u.length,a=!0;u&&s>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}a=!1,u&&(c?c.length&&p(c.shift()):i?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;!function n(t){Q.each(t,function(t,i){var r=Q.type(i);"function"!==r||e.unique&&h.has(i)?i&&i.length&&"string"!==r&&n(i):u.push(i)})}(arguments),a?s=u.length:i&&(o=t,p(i))}return this},remove:function(){return u&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,u,n))>-1;)u.splice(n,1),a&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return Q.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||r&&!c||(a?c.push(t):p(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,i){var a=i[0],o=e[t];r[i[1]](Q.isFunction(o)?function(){var e=o.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n:this,[e])}:n[a])}),e=null}).promise()},promise:function(e){return"object"==typeof e?Q.extend(e,i):i}},r={};return i.pipe=i.then,Q.each(t,function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=o.fire,r[a[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=X.call(arguments),o=a.length,s=1!==o||e&&Q.isFunction(e.promise)?o:0,l=1===s?e:Q.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?X.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&Q.isFunction(a[r].promise)?a[r].promise().done(u(r,i,a)).fail(l.reject).progress(u(r,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}}),Q.support=function(){var t,n,i,r,a,o,s,l,u,c,p,h=B.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],i.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length||!i)return{};r=B.createElement("select"),a=r.appendChild(B.createElement("option")),o=h.getElementsByTagName("input")[0],t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===o.value,optSelected:a.selected,getSetAttribute:"t"!==h.className,enctype:!!B.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==B.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===B.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete h.test}catch(d){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",p=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",p)),o=B.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),h.appendChild(o),s=B.createDocumentFragment(),s.appendChild(h.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,s.removeChild(o),s.appendChild(h),h.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in h,c||(h.setAttribute(l,"return;"),c="function"==typeof h[l]),t[u+"Bubbles"]=c;return Q(function(){var n,i,r,a,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=B.getElementsByTagName("body")[0];s&&(n=B.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),i=B.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,a=B.createElement("div"),a.style.cssText=i.style.cssText=o,a.style.marginRight=a.style.width="0",i.style.width="1px",i.appendChild(a),t.reliableMarginRight=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),s.removeChild(n),n=i=r=a=null)}),s.removeChild(h),n=i=r=a=o=s=h=null,t}();var vt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Q.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Q.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Q.cache[e[Q.expando]]:e[Q.expando],!!e&&!r(e)},data:function(e,n,i,r){if(Q.acceptData(e)){var a,o,s=Q.expando,l="string"==typeof n,u=e.nodeType,c=u?Q.cache:e,p=u?e[s]:e[s]&&s;if(p&&c[p]&&(r||c[p].data)||!l||i!==t)return p||(u?e[s]=p=Q.deletedIds.pop()||++Q.uuid:p=s),c[p]||(c[p]={},u||(c[p].toJSON=Q.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[p]=Q.extend(c[p],n):c[p].data=Q.extend(c[p].data,n)),a=c[p],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[Q.camelCase(n)]=i),l?(o=a[n],null==o&&(o=a[Q.camelCase(n)])):o=a,o}},removeData:function(e,t,n){if(Q.acceptData(e)){var i,a,o,s=e.nodeType,l=s?Q.cache:e,u=s?e[Q.expando]:Q.expando;if(l[u]){if(t&&(i=n?l[u]:l[u].data)){Q.isArray(t)||(t in i?t=[t]:(t=Q.camelCase(t),t=t in i?[t]:t.split(" ")));for(a=0,o=t.length;o>a;a++)delete i[t[a]];if(!(n?r:Q.isEmptyObject)(i))return}(n||(delete l[u].data,r(l[u])))&&(s?Q.cleanData([e],!0):Q.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return Q.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Q.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Q.fn.extend({data:function(e,n){var r,a,o,s,l,u=this[0],c=0,p=null;if(e===t){if(this.length&&(p=Q.data(u),1===u.nodeType&&!Q._data(u,"parsedAttrs"))){for(o=u.attributes,l=o.length;l>c;c++)s=o[c].name,0===s.indexOf("data-")&&(s=Q.camelCase(s.substring(5)),i(u,s,p[s]));Q._data(u,"parsedAttrs",!0)}return p}return"object"==typeof e?this.each(function(){Q.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",a=r[1]+"!",Q.access(this,function(n){return n===t?(p=this.triggerHandler("getData"+a,[r[0]]),p===t&&u&&(p=Q.data(u,e),p=i(u,e,p)),p===t&&r[1]?this.data(r[0]):p):(r[1]=n,this.each(function(){var t=Q(this);t.triggerHandler("setData"+a,r),Q.data(this,e,n),t.triggerHandler("changeData"+a,r)}),void 0)},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Q.removeData(this,e)})}}),Q.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Q._data(e,t),n&&(!i||Q.isArray(n)?i=Q._data(e,t,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),i=n.length,r=n.shift(),a=Q._queueHooks(e,t),o=function(){Q.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q._data(e,n)||Q._data(e,n,{empty:Q.Callbacks("once memory").add(function(){Q.removeData(e,t+"queue",!0),Q.removeData(e,n,!0)})})}}),Q.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?Q.queue(this[0],e):n===t?this:this.each(function(){var t=Q.queue(this,e,n);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},delay:function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,a=Q.Deferred(),o=this,s=this.length,l=function(){--r||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=Q._data(o[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),a.promise(n)}});var gt,yt,bt,jt=/[\t\r\n]/g,xt=/\r/g,wt=/^(?:button|input)$/i,_t=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,Tt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,kt=Q.support.getSetAttribute;Q.fn.extend({attr:function(e,t){return Q.access(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})},prop:function(e,t){return Q.access(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Q.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,a,o,s;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(a=" "+r.className+" ",o=0,s=t.length;s>o;o++)~a.indexOf(" "+t[o]+" ")||(a+=t[o]+" ");r.className=Q.trim(a)}else r.className=e;return this},removeClass:function(e){var n,i,r,a,o,s,l;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),s=0,l=this.length;l>s;s++)if(r=this[s],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(jt," "),a=0,o=n.length;o>a;a++)for(;i.indexOf(" "+n[a]+" ")>-1;)i=i.replace(" "+n[a]+" "," ");r.className=e?Q.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return Q.isFunction(e)?this.each(function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,a=0,o=Q(this),s=t,l=e.split(tt);r=l[a++];)s=i?s:!o.hasClass(r),o[s?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Q._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Q._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(jt," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,i,r,a=this[0];{if(arguments.length)return r=Q.isFunction(e),this.each(function(i){var a,o=Q(this);1===this.nodeType&&(a=r?e.call(this,i,o.val()):e,null==a?a="":"number"==typeof a?a+="":Q.isArray(a)&&(a=Q.map(a,function(e){return null==e?"":e+""})),n=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))});if(a)return n=Q.valHooks[a.type]||Q.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(a,"value"))!==t?i:(i=a.value,"string"==typeof i?i.replace(xt,""):null==i?"":i)}}}),Q.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,r,a=e.selectedIndex,o=[],s=e.options,l="select-one"===e.type;if(0>a)return null;for(n=l?a:0,i=l?a+1:s.length;i>n;n++)if(r=s[n],!(!r.selected||(Q.support.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&Q.nodeName(r.parentNode,"optgroup"))){if(t=Q(r).val(),l)return t;o.push(t)}return l&&!o.length&&s.length?Q(s[a]).val():o},set:function(e,t){var n=Q.makeArray(t);return Q(e).find("option").each(function(){this.selected=Q.inArray(Q(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var a,o,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&Q.isFunction(Q.fn[n])?Q(e)[n](i):"undefined"==typeof e.getAttribute?Q.prop(e,n,i):(s=1!==l||!Q.isXMLDoc(e),s&&(n=n.toLowerCase(),o=Q.attrHooks[n]||(Tt.test(n)?yt:gt)),i!==t?null===i?(Q.removeAttr(e,n),void 0):o&&"set"in o&&s&&(a=o.set(e,i,n))!==t?a:(e.setAttribute(n,""+i),i):o&&"get"in o&&s&&null!==(a=o.get(e,n))?a:(a=e.getAttribute(n),null===a?t:a))},removeAttr:function(e,t){var n,i,r,a,o=0;if(t&&1===e.nodeType)for(i=t.split(tt);o<i.length;o++)r=i[o],r&&(n=Q.propFix[r]||r,a=Tt.test(r),a||Q.attr(e,r,""),e.removeAttribute(kt?r:n),a&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(wt.test(e.nodeName)&&e.parentNode)Q.error("type property can't be changed");else if(!Q.support.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return gt&&Q.nodeName(e,"button")?gt.get(e,t):t in e?e.value:null},set:function(e,t,n){return gt&&Q.nodeName(e,"button")?gt.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,a,o,s=e.nodeType;
if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Q.isXMLDoc(e),o&&(n=Q.propFix[n]||n,a=Q.propHooks[n]),i!==t?a&&"set"in a&&(r=a.set(e,i,n))!==t?r:e[n]=i:a&&"get"in a&&null!==(r=a.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):_t.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,n){var i,r=Q.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Q.removeAttr(e,n):(i=Q.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},kt||(bt={name:!0,id:!0,coords:!0},gt=Q.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(bt[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=B.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Q.each(["width","height"],function(e,t){Q.attrHooks[t]=Q.extend(Q.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Q.attrHooks.contenteditable={get:gt.get,set:function(e,t,n){""===t&&(t="false"),gt.set(e,t,n)}}),Q.support.hrefNormalized||Q.each(["href","src","width","height"],function(e,n){Q.attrHooks[n]=Q.extend(Q.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),Q.support.style||(Q.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),Q.support.optSelected||(Q.propHooks.selected=Q.extend(Q.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Q.support.enctype||(Q.propFix.enctype="encoding"),Q.support.checkOn||Q.each(["radio","checkbox"],function(){Q.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]=Q.extend(Q.valHooks[this],{set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}})});var Et=/^(?:textarea|input|select)$/i,St=/^([^\.]*|)(?:\.(.+)|)$/,Nt=/(?:^|\s)hover(\.\S+|)\b/,At=/^key/,Pt=/^(?:mouse|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,It=function(e){return Q.event.special.hover?e:e.replace(Nt,"mouseenter$1 mouseleave$1")};Q.event={add:function(e,n,i,r,a){var o,s,l,u,c,p,h,d,f,v,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(o=Q._data(e))){for(i.handler&&(f=i,i=f.handler,a=f.selector),i.guid||(i.guid=Q.guid++),l=o.events,l||(o.events=l={}),s=o.handle,s||(o.handle=s=function(e){return"undefined"==typeof Q||e&&Q.event.triggered===e.type?t:Q.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=Q.trim(It(n)).split(" "),u=0;u<n.length;u++)c=St.exec(n[u])||[],p=c[1],h=(c[2]||"").split(".").sort(),m=Q.event.special[p]||{},p=(a?m.delegateType:m.bindType)||p,m=Q.event.special[p]||{},d=Q.extend({type:p,origType:c[1],data:r,handler:i,guid:i.guid,selector:a,namespace:h.join(".")},f),v=l[p],v||(v=l[p]=[],v.delegateCount=0,m.setup&&m.setup.call(e,r,h,s)!==!1||(e.addEventListener?e.addEventListener(p,s,!1):e.attachEvent&&e.attachEvent("on"+p,s))),m.add&&(m.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),a?v.splice(v.delegateCount++,0,d):v.push(d),Q.event.global[p]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var a,o,s,l,u,c,p,h,d,f,v,m=Q.hasData(e)&&Q._data(e);if(m&&(h=m.events)){for(t=Q.trim(It(t||"")).split(" "),a=0;a<t.length;a++)if(o=St.exec(t[a])||[],s=l=o[1],u=o[2],s){for(d=Q.event.special[s]||{},s=(i?d.delegateType:d.bindType)||s,f=h[s]||[],c=f.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p=0;p<f.length;p++)v=f[p],!r&&l!==v.origType||n&&n.guid!==v.guid||u&&!u.test(v.namespace)||i&&i!==v.selector&&("**"!==i||!v.selector)||(f.splice(p--,1),v.selector&&f.delegateCount--,d.remove&&d.remove.call(e,v));0===f.length&&c!==f.length&&(d.teardown&&d.teardown.call(e,u,m.handle)!==!1||Q.removeEvent(e,s,m.handle),delete h[s])}else for(s in h)Q.event.remove(e,s+t[a],n,i,!0);Q.isEmptyObject(h)&&(delete m.handle,Q.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,a){if(!r||3!==r.nodeType&&8!==r.nodeType){var o,s,l,u,c,p,h,d,f,v,m=n.type||n,g=[];if(!Mt.test(m+Q.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort()),r&&!Q.event.customEvent[m]||Q.event.global[m]))if(n="object"==typeof n?n[Q.expando]?n:new Q.Event(m,n):new Q.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p=m.indexOf(":")<0?"on"+m:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?Q.makeArray(i):[],i.unshift(n),h=Q.event.special[m]||{},!h.trigger||h.trigger.apply(r,i)!==!1){if(f=[[r,h.bindType||m]],!a&&!h.noBubble&&!Q.isWindow(r)){for(v=h.delegateType||m,u=Mt.test(v+m)?r:r.parentNode,c=r;u;u=u.parentNode)f.push([u,v]),c=u;c===(r.ownerDocument||B)&&f.push([c.defaultView||c.parentWindow||e,v])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)u=f[l][0],n.type=f[l][1],d=(Q._data(u,"events")||{})[n.type]&&Q._data(u,"handle"),d&&d.apply(u,i),d=p&&u[p],d&&Q.acceptData(u)&&d.apply(u,i)===!1&&n.preventDefault();return n.type=m,a||n.isDefaultPrevented()||h._default&&h._default.apply(r.ownerDocument,i)!==!1||"click"===m&&Q.nodeName(r,"a")||!Q.acceptData(r)||p&&r[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!Q.isWindow(r)&&(c=r[p],c&&(r[p]=null),Q.event.triggered=m,r[m](),Q.event.triggered=t,c&&(r[p]=c)),n.result}}else{o=Q.cache;for(l in o)o[l].events&&o[l].events[m]&&Q.event.trigger(n,i,o[l].handle.elem,!0)}}},dispatch:function(n){n=Q.event.fix(n||e.event);var i,r,a,o,s,l,u,c,p,h=(Q._data(this,"events")||{})[n.type]||[],d=h.delegateCount,f=[].slice.call(arguments),v=!n.exclusive&&!n.namespace,m=Q.event.special[n.type]||{},g=[];if(f[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(d&&(!n.button||"click"!==n.type))for(a=n.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==n.type){for(s={},u=[],i=0;d>i;i++)c=h[i],p=c.selector,s[p]===t&&(s[p]=Q(p,this).index(a)>=0),s[p]&&u.push(c);u.length&&g.push({elem:a,matches:u})}for(h.length>d&&g.push({elem:this,matches:h.slice(d)}),i=0;i<g.length&&!n.isPropagationStopped();i++)for(l=g[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(v||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,o=((Q.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,f),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,a,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||B,r=i.documentElement,a=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,i=e,r=Q.event.fixHooks[e.type]||{},a=r.props?this.props.concat(r.props):this.props;for(e=Q.Event(i),t=a.length;t;)n=a[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||B),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Q.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,t):Q.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.event.handle=Q.event.dispatch,Q.removeEvent=B.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:a):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),this[Q.expando]=!0,void 0):new Q.Event(e,t)},Q.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},Q.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return a.selector,(!r||r!==i&&!Q.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Q.support.submitBubbles||(Q.event.special.submit={setup:function(){return Q.nodeName(this,"form")?!1:(Q.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Q.nodeName(n,"input")||Q.nodeName(n,"button")?n.form:t;i&&!Q._data(i,"_submit_attached")&&(Q.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Q._data(i,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Q.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Q.nodeName(this,"form")?!1:(Q.event.remove(this,"._submit"),void 0)}}),Q.support.changeBubbles||(Q.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Q.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Q.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Q.event.simulate("change",this,e,!0)})),!1):(Q.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!Q._data(t,"_change_attached")&&(Q.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Q.event.simulate("change",this.parentNode,e,!0)}),Q._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Q.event.remove(this,"._change"),!Et.test(this.nodeName)}}),Q.support.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){0===n++&&B.addEventListener(e,i,!0)},teardown:function(){0===--n&&B.removeEventListener(e,i,!0)}}}),Q.fn.extend({on:function(e,n,i,r,o){var s,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=a;else if(!r)return this;return 1===o&&(s=r,r=function(e){return Q().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Q(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=a),this.each(function(){Q.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Q(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Q(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Q.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Q.guid++,i=0,r=function(n){var r=(Q._data(this,"lastToggle"+e.guid)||0)%i;return Q._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},At.test(t)&&(Q.event.fixHooks[t]=Q.event.keyHooks),Pt.test(t)&&(Q.event.fixHooks[t]=Q.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[],t=t||S;var r,a,o,s,l=t.nodeType;if(1!==l&&9!==l)return[];if(!e||"string"!=typeof e)return n;if(o=j(t),!o&&!i&&(r=G.exec(e)))if(s=r[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&x(t,a)&&a.id===s)return n.push(a),n}else{if(r[2])return M.apply(n,P.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&st&&t.getElementsByClassName)return M.apply(n,P.call(t.getElementsByClassName(s),0)),n}return f(e,t,n,i,o)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function a(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function o(e,t,i,r){var a,o,s,l,u,c,p,h,d,f,v=!i&&t!==S,m=(v?"<s>":"")+e.replace(W,"$1<s>"),g=F[E][m];if(g)return r?0:P.call(g,0);for(u=e,c=[],h=0,d=y.preFilter,f=y.filter;u;){(!a||(o=V.exec(u)))&&(o&&(u=u.slice(o[0].length),s.selector=p),c.push(s=[]),p="",v&&(u=" "+u)),a=!1,(o=X.exec(u))&&(p+=o[0],u=u.slice(o[0].length),a=s.push({part:o.pop().replace(W," "),string:o[0],captures:o}));for(l in f)!(o=nt[l].exec(u))||d[l]&&!(o=d[l](o,t,i))||(p+=o[0],u=u.slice(o[0].length),a=s.push({part:l,string:o.shift(),captures:o}));if(!a)break}return p&&(s.selector=p),r?u.length:u?n.error(e):P.call(F(m,c),0)}function s(e,t,n,i){var r=t.dir,a=A++;return e||(e=function(e){return e===n}),t.first?function(t){for(;t=t[r];)if(1===t.nodeType)return e(t)&&t}:i?function(t){for(;t=t[r];)if(1===t.nodeType&&e(t))return t}:function(t){for(var n,i=a+"."+v,o=i+"."+m;t=t[r];)if(1===t.nodeType){if((n=t[E])===o)return t.sizset;if("string"==typeof n&&0===n.indexOf(i)){if(t.sizset)return t}else{if(t[E]=o,e(t))return t.sizset=!0,t;t.sizset=!1}}}}function l(e,t){return e?function(n){var i=t(n);return i&&e(i===!0?n:i)}:t}function u(e,t,n){for(var i,r,a=0;i=e[a];a++)r=y.relative[i.part]?s(r,y.relative[i.part],t,n):l(r,y.filter[i.part].apply(null,i.captures.concat(t,n)));return r}function c(e){return function(t){for(var n,i=0;n=e[i];i++)if(n(t))return!0;return!1}}function p(e,t,i,r){for(var a=0,o=t.length;o>a;a++)n(e,t[a],i,r)}function h(e,t,i,r,a,o){var s,l=y.setFilters[t.toLowerCase()];return l||n.error(t),(e||!(s=a))&&p(e||"*",r,s=[],a),s.length>0?l(s,i,o):[]}function d(e,i,r,a){for(var o,s,l,u,c,d,f,v,m,g,y,b,j,x=0,w=e.length,_=nt.POS,C=new RegExp("^"+_.source+"(?!"+D+")","i"),T=function(){for(var e=1,n=arguments.length-2;n>e;e++)arguments[e]===t&&(m[e]=t)};w>x;x++){for(o=e[x],s="",v=a,l=0,u=o.length;u>l;l++){if(c=o[l],d=c.string,"PSEUDO"===c.part)for(_.exec(""),f=0;m=_.exec(d);)g=!0,y=_.lastIndex=m.index+m[0].length,y>f&&(s+=d.slice(f,m.index),f=y,b=[i],X.test(s)&&(v&&(b=v),v=a),(j=K.test(s))&&(s=s.slice(0,-5).replace(X,"$&*"),f++),m.length>1&&m[0].replace(C,T),v=h(s,m[1],m[2],b,v,j)),s="";g||(s+=d),g=!1}s?X.test(s)?p(s,v||[i],r,a):n(s,i,r,a?a.concat(v):v):M.apply(r,v)}return 1===w?r:n.uniqueSort(r)}function f(e,t,n,i,r){e=e.replace(W,"$1");var a,s,l,u,c,p,h,f,g,b=o(e,t,r),j=t.nodeType;if(nt.POS.test(e))return d(b,t,n,i);if(i)a=P.call(i,0);else if(1===b.length){if((c=P.call(b[0],0)).length>2&&"ID"===(p=c[0]).part&&9===j&&!r&&y.relative[c[1].part]){if(t=y.find.ID(p.captures[0].replace(tt,""),t,r)[0],!t)return n;e=e.slice(c.shift().string.length)}for(f=(b=Y.exec(c[0].string))&&!b.index&&t.parentNode||t,h="",u=c.length-1;u>=0&&(p=c[u],g=p.part,h=p.string+h,!y.relative[g]);u--)if(y.order.test(g)){if(a=y.find[g](p.captures[0].replace(tt,""),f,r),null==a)continue;e=e.slice(0,e.length-h.length)+h.replace(nt[g],""),e||M.apply(n,P.call(a,0));break}}if(e)for(s=w(e,t,r),v=s.dirruns++,null==a&&(a=y.find.TAG("*",Y.test(e)&&t.parentNode||t)),u=0;l=a[u];u++)m=s.runs++,s(l)&&n.push(l);return n}var v,m,g,y,b,j,x,w,_,C,T=!0,k="undefined",E=("sizcache"+Math.random()).replace(".",""),S=e.document,N=S.documentElement,A=0,P=[].slice,M=[].push,I=function(e,t){return e[E]=t||!0,e},$=function(){var e={},t=[];return I(function(n,i){return t.push(n)>y.cacheLength&&delete e[t.shift()],e[n]=i},e)},O=$(),F=$(),L=$(),D="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",R=H.replace("w","w#"),B="([*^$|!~]?=)",z="\\["+D+"*("+H+")"+D+"*(?:"+B+D+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+D+"*\\]",U=":("+H+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+z+")|[^:]|\\\\.)*|.*))\\)|)",q=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",W=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),V=new RegExp("^"+D+"*,"+D+"*"),X=new RegExp("^"+D+"*([\\x20\\t\\r\\n\\f>+~])"+D+"*"),J=new RegExp(U),G=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Y=/[\x20\t\r\n\f]*[+~]/,K=/:not\($/,Z=/h\d/i,et=/input|select|textarea|button/i,tt=/\\(?!\\)/g,nt={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),NAME:new RegExp("^\\[name=['\"]?("+H+")['\"]?\\]"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),POS:new RegExp(q,"ig"),needsContext:new RegExp("^"+D+"*[>+~]|"+q,"i")},it=function(e){var t=S.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},rt=it(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),at=it(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==k&&"#"===e.firstChild.getAttribute("href")}),ot=it(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),st=it(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),lt=it(function(e){e.id=E+0,e.innerHTML="<a name='"+E+"'></a><div name='"+E+"'></div>",N.insertBefore(e,N.firstChild);var t=S.getElementsByName&&S.getElementsByName(E).length===2+S.getElementsByName(E+0).length;return g=!S.getElementById(E),N.removeChild(e),t});try{P.call(N.childNodes,0)[0].nodeType}catch(ut){P=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},b=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=b(t);return n},j=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=n.contains=N.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:N.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=j(e);return i||(t=t.toLowerCase()),y.attrHandle[t]?y.attrHandle[t](e):ot||i?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},y=n.selectors={cacheLength:50,createPseudo:I,match:nt,order:new RegExp("ID|TAG"+(lt?"|NAME":"")+(st?"|CLASS":"")),attrHandle:at?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:g?function(e,t,n){if(typeof t.getElementById!==k&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==k&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==k&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:rt?function(e,t){return typeof t.getElementsByTagName!==k?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],a=0;i=n[a];a++)1===i.nodeType&&r.push(i);return r}return n},NAME:function(e,t){return typeof t.getElementsByName!==k?t.getElementsByName(name):void 0},CLASS:function(e,t,n){return typeof t.getElementsByClassName===k||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(tt,""),e[3]=(e[4]||e[5]||"").replace(tt,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e,t,n){var i,r;return nt.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(i=e[4])&&(J.test(i)&&(r=o(i,t,n,!0))&&(r=i.indexOf(")",i.length-r)-i.length)&&(i=i.slice(0,r),e[0]=e[0].slice(0,r)),e[2]=i),e.slice(0,3))}},filter:{ID:g?function(e){return e=e.replace(tt,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(tt,""),function(t){var n=typeof t.getAttributeNode!==k&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(tt,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=O[E][e];return t||(t=O(e,new RegExp("(^|"+D+")"+e+"("+D+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==k&&e.getAttribute("class")||"")}},ATTR:function(e,t,i){return t?function(r){var a=n.attr(r,e),o=a+"";if(null==a)return"!="===t;switch(t){case"=":return o===i;case"!=":return o!==i;case"^=":return i&&0===o.indexOf(i);case"*=":return i&&o.indexOf(i)>-1;case"$=":return i&&o.substr(o.length-i.length)===i;case"~=":return(" "+o+" ").indexOf(i)>-1;case"|=":return o===i||o.substr(0,i.length+1)===i+"-"}}:function(t){return null!=n.attr(t,e)}},CHILD:function(e,t,n,i){if("nth"===e){var r=A++;return function(e){var t,a,o=0,s=e;if(1===n&&0===i)return!0;if(t=e.parentNode,t&&(t[E]!==r||!e.sizset)){for(s=t.firstChild;s&&(1!==s.nodeType||(s.sizset=++o,s!==e));s=s.nextSibling);t[E]=r}return a=e.sizset-i,0===n?0===a:0===a%n&&a/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t,i,r){var a,o=y.pseudos[e]||y.pseudos[e.toLowerCase()];return o||n.error("unsupported pseudo: "+e),o[E]?o(t,i,r):o.length>1?(a=[e,e,"",t],function(e){return o(e,0,a)}):o}},pseudos:{not:I(function(e,t,n){var i=w(e.replace(W,"$1"),t,n);return function(e){return!i(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!y.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},contains:I(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),has:I(function(e){return function(t){return n(e,t).length>0}}),header:function(e){return Z.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return et.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var i=e.pop();return n?e:[i]},even:function(e,t,n){for(var i=[],r=n?1:0,a=e.length;a>r;r+=2)i.push(e[r]);return i},odd:function(e,t,n){for(var i=[],r=n?0:1,a=e.length;a>r;r+=2)i.push(e[r]);return i},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var i=e.splice(+t,1);return n?e:i}}},_=N.compareDocumentPosition?function(e,t){return e===t?(C=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return C=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],s=e.parentNode,l=t.parentNode,u=s;if(s===l)return a(e,t);if(!s)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==o[c])return a(r[c],o[c]);return c===n?a(e,o[c],-1):a(r[c],t,1)},[0,0].sort(_),T=!C,n.uniqueSort=function(e){var t,n=1;if(C=T,e.sort(_),C)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},w=n.compile=function(e,t,n){var i,r,a,s=L[E][e];if(s&&s.context===t)return s;for(i=o(e,t,n),r=0,a=i.length;a>r;r++)i[r]=u(i[r],t,n);return s=L(e,c(i)),s.context=t,s.runs=s.dirruns=0,s},S.querySelectorAll&&function(){var e,t=f,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,a=[],s=[":active"],l=N.matchesSelector||N.mozMatchesSelector||N.webkitMatchesSelector||N.oMatchesSelector||N.msMatchesSelector;it(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||a.push("\\["+D+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||a.push(":checked")}),it(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&a.push("[*^$]="+D+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||a.push(":enabled",":disabled")}),a=a.length&&new RegExp(a.join("|")),f=function(e,n,r,s,l){if(!(s||l||a&&a.test(e)))if(9===n.nodeType)try{return M.apply(r,P.call(n.querySelectorAll(e),0)),r}catch(u){}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c,p,h,d=n.getAttribute("id"),f=d||E,v=Y.test(e)&&n.parentNode||n;for(d?f=f.replace(i,"\\$&"):n.setAttribute("id",f),c=o(e,n,l),f="[id='"+f+"']",p=0,h=c.length;h>p;p++)c[p]=f+c[p].selector;try{return M.apply(r,P.call(v.querySelectorAll(c.join(",")),0)),r}catch(u){}finally{d||n.removeAttribute("id")}}return t(e,n,r,s,l)},l&&(it(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push(nt.PSEUDO.source,nt.POS.source,"!=")}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!(j(t)||s.test(i)||a&&a.test(i)))try{var o=l.call(t,i);if(o||e||t.document&&11!==t.document.nodeType)return o}catch(u){}return n(i,null,null,[t]).length>0})}(),y.setFilters.nth=y.setFilters.eq,y.filters=y.pseudos,n.attr=Q.attr,Q.find=n,Q.expr=n.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=n.uniqueSort,Q.text=n.getText,Q.isXMLDoc=n.isXML,Q.contains=n.contains}(e);var $t=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,Ft=/^.[^:#\[\.,]*$/,Lt=Q.expr.match.needsContext,Dt={children:!0,contents:!0,next:!0,prev:!0};Q.fn.extend({find:function(e){var t,n,i,r,a,o,s=this;if("string"!=typeof e)return Q(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(Q.contains(s[t],this))return!0});for(o=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=o.length,Q.find(e,this[t],o),t>0)for(r=i;r<o.length;r++)for(a=0;i>a;a++)if(o[a]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t,n=Q(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(Q.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Lt.test(e)?Q(e,this.context).index(this[0])>=0:Q.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=Lt.test(e)||"string"!=typeof e?Q(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:Q.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}return a=a.length>1?Q.unique(a):a,this.pushStack(a,"closest",e)},index:function(e){return e?"string"==typeof e?Q.inArray(this[0],Q(e)):Q.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Q(e,t):Q.makeArray(e&&e.nodeType?[e]:e),i=Q.merge(this.get(),n);return this.pushStack(s(n[0])||s(i[0])?i:Q.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.fn.andSelf=Q.fn.addBack,Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return Q.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,i){var r=Q.map(this,t,n);return $t.test(e)||(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),r=this.length>1&&!Dt[e]?Q.unique(r):r,this.length>1&&Ot.test(e)&&(r=r.reverse()),this.pushStack(r,e,X.call(arguments).join(","))}}),Q.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Q.find.matchesSelector(t[0],e)?[t[0]]:[]:Q.find.matches(e,t)},dir:function(e,n,i){for(var r=[],a=e[n];a&&9!==a.nodeType&&(i===t||1!==a.nodeType||!Q(a).is(i));)1===a.nodeType&&r.push(a),a=a[n];
return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Rt=/ jQuery\d+="(?:null|\d+)"/g,Bt=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ut=/<([\w:]+)/,qt=/<tbody/i,Wt=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,Xt=/<(?:script|object|embed|option|style)/i,Jt=new RegExp("<(?:"+Ht+")[\\s/>]","i"),Gt=/^(?:checkbox|radio)$/,Yt=/checked\s*(?:[^=]|=\s*.checked.)/i,Kt=/\/(java|ecma)script/i,Qt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(B),tn=en.appendChild(B.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,Q.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),Q.fn.extend({text:function(e){return Q.access(this,function(e){return e===t?Q.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Q.isFunction(e))return this.each(function(t){Q(this).wrapAll(e.call(this,t))});if(this[0]){var t=Q(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Q.isFunction(e)?this.each(function(t){Q(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Q.clean(arguments);return this.pushStack(Q.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Q.clean(arguments);return this.pushStack(Q.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Q.filter(e,[n]).length)&&(t||1!==n.nodeType||(Q.cleanData(n.getElementsByTagName("*")),Q.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Q.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return Q.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Rt,""):t;if(!("string"!=typeof e||Vt.test(e)||!Q.support.htmlSerialize&&Jt.test(e)||!Q.support.leadingWhitespace&&Bt.test(e)||Zt[(Ut.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(zt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Q.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(Q(Q.isFunction(e)?e():e),"replaceWith",e):this:Q.isFunction(e)?this.each(function(t){var n=Q(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=Q(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Q(this).remove(),t?Q(t).before(e):Q(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,a,o,s,l=0,u=e[0],c=[],h=this.length;if(!Q.support.checkClone&&h>1&&"string"==typeof u&&Yt.test(u))return this.each(function(){Q(this).domManip(e,n,i)});if(Q.isFunction(u))return this.each(function(r){var a=Q(this);e[0]=u.call(this,r,n?a.html():t),a.domManip(e,n,i)});if(this[0]){if(r=Q.buildFragment(e,this,c),o=r.fragment,a=o.firstChild,1===o.childNodes.length&&(o=a),a)for(n=n&&Q.nodeName(a,"tr"),s=r.cacheable||h-1;h>l;l++)i.call(n&&Q.nodeName(this[l],"table")?p(this[l],"tbody"):this[l],l===s?o:Q.clone(o,!0,!0));o=a=null,c.length&&Q.each(c,function(e,t){t.src?Q.ajax?Q.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Q.error("no ajax"):Q.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Qt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Q.buildFragment=function(e,n,i){var r,a,o,s=e[0];return n=n||B,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===B&&"<"===s.charAt(0))||Xt.test(s)||!Q.support.checkClone&&Yt.test(s)||!Q.support.html5Clone&&Jt.test(s)||(a=!0,r=Q.fragments[s],o=r!==t),r||(r=n.createDocumentFragment(),Q.clean(e,n,r,i),a&&(Q.fragments[s]=o&&r)),{fragment:r,cacheable:a}},Q.fragments={},Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(n){var i,r=0,a=[],o=Q(n),s=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return o[t](this[0]),this;for(;s>r;r++)i=(r>0?this.clone(!0):this).get(),Q(o[r])[t](i),a=a.concat(i);return this.pushStack(a,e,o.selector)}}),Q.extend({clone:function(e,t,n){var i,r,a,o;if(Q.support.html5Clone||Q.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(o=tn.firstChild)),!(Q.support.noCloneEvent&&Q.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(d(e,o),i=f(e),r=f(o),a=0;i[a];++a)r[a]&&d(i[a],r[a]);if(t&&(h(e,o),n))for(i=f(e),r=f(o),a=0;i[a];++a)h(i[a],r[a]);return i=r=null,o},clean:function(e,t,n,i){var r,a,o,s,l,u,p,h,d,f,m,g=t===B&&en,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=B),r=0;null!=(o=e[r]);r++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(Wt.test(o)){for(g=g||c(t),p=t.createElement("div"),g.appendChild(p),o=o.replace(zt,"<$1></$2>"),s=(Ut.exec(o)||["",""])[1].toLowerCase(),l=Zt[s]||Zt._default,u=l[0],p.innerHTML=l[1]+o+l[2];u--;)p=p.lastChild;if(!Q.support.tbody)for(h=qt.test(o),d="table"!==s||h?"<table>"!==l[1]||h?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes,a=d.length-1;a>=0;--a)Q.nodeName(d[a],"tbody")&&!d[a].childNodes.length&&d[a].parentNode.removeChild(d[a]);!Q.support.leadingWhitespace&&Bt.test(o)&&p.insertBefore(t.createTextNode(Bt.exec(o)[0]),p.firstChild),o=p.childNodes,p.parentNode.removeChild(p)}else o=t.createTextNode(o);o.nodeType?y.push(o):Q.merge(y,o)}if(p&&(o=p=g=null),!Q.support.appendChecked)for(r=0;null!=(o=y[r]);r++)Q.nodeName(o,"input")?v(o):"undefined"!=typeof o.getElementsByTagName&&Q.grep(o.getElementsByTagName("input"),v);if(n)for(f=function(e){return!e.type||Kt.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(o=y[r]);r++)Q.nodeName(o,"script")&&f(o)||(n.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(m=Q.grep(Q.merge([],o.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(m)),r+=m.length));return y},cleanData:function(e,t){for(var n,i,r,a,o=0,s=Q.expando,l=Q.cache,u=Q.support.deleteExpando,c=Q.event.special;null!=(r=e[o]);o++)if((t||Q.acceptData(r))&&(i=r[s],n=i&&l[i])){if(n.events)for(a in n.events)c[a]?Q.event.remove(r,a):Q.removeEvent(r,a,n.handle);l[i]&&(delete l[i],u?delete r[s]:r.removeAttribute?r.removeAttribute(s):r[s]=null,Q.deletedIds.push(i))}}}),function(){var e,t;Q.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Q.uaMatch(U.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Q.browser=t,Q.sub=function(){function e(t,n){return new e.fn.init(t,n)}Q.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Q&&!(i instanceof e)&&(i=e(i)),Q.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(B);return e}}();var nn,rn,an,on=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,un=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,pn=new RegExp("^("+Z+")(.*)$","i"),hn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),dn=new RegExp("^([-+])=("+Z+")","i"),fn={},vn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},gn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Q.fn.toggle;Q.fn.extend({css:function(e,n){return Q.access(this,function(e,n,i){return i!==t?Q.style(e,n,i):Q.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n="boolean"==typeof e;return Q.isFunction(e)&&Q.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:g(this))?Q(this).show():Q(this).hide()})}}),Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Q.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=Q.camelCase(n),u=e.style;if(n=Q.cssProps[l]||(Q.cssProps[l]=m(u,l)),s=Q.cssHooks[n]||Q.cssHooks[l],i===t)return s&&"get"in s&&(a=s.get(e,!1,r))!==t?a:u[n];if(o=typeof i,"string"===o&&(a=dn.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(Q.css(e,n)),o="number"),!(null==i||"number"===o&&isNaN(i)||("number"!==o||Q.cssNumber[l]||(i+="px"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var a,o,s,l=Q.camelCase(n);return n=Q.cssProps[l]||(Q.cssProps[l]=m(e.style,l)),s=Q.cssHooks[n]||Q.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=nn(e,n)),"normal"===a&&n in mn&&(a=mn[n]),i||r!==t?(o=parseFloat(a),i||Q.isNumeric(o)?o||0:a):a},swap:function(e,t,n){var i,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=a[r];return i}}),e.getComputedStyle?nn=function(t,n){var i,r,a,o,s=e.getComputedStyle(t,null),l=t.style;return s&&(i=s[n],""!==i||Q.contains(t.ownerDocument,t)||(i=Q.style(t,n)),hn.test(i)&&cn.test(n)&&(r=l.width,a=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=s.width,l.width=r,l.minWidth=a,l.maxWidth=o)),i}:B.documentElement.currentStyle&&(nn=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],a=e.style;return null==r&&a&&a[t]&&(r=a[t]),hn.test(r)&&!ln.test(t)&&(n=a.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":r,r=a.pixelLeft+"px",a.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&un.test(nn(e,"display"))?Q.swap(e,vn,function(){return x(e,t,i)}):x(e,t,i):void 0},set:function(e,n,i){return b(e,n,i?j(e,t,i,Q.support.boxSizing&&"border-box"===Q.css(e,"boxSizing")):0)}}}),Q.support.opacity||(Q.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=Q.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===Q.trim(a.replace(on,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=on.test(a)?a.replace(on,r):a+" "+r)}}),Q(function(){Q.support.reliableMarginRight||(Q.cssHooks.marginRight={get:function(e,t){return Q.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Q.support.pixelPosition&&Q.fn.position&&Q.each(["top","left"],function(e,t){Q.cssHooks[t]={get:function(e,n){if(n){var i=nn(e,t);return hn.test(i)?Q(e).position()[t]+"px":i}}}})}),Q.expr&&Q.expr.filters&&(Q.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Q.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],a={};for(i=0;4>i;i++)a[e+gn[i]+t]=r[i]||r[i-2]||r[0];return a}},cn.test(e)||(Q.cssHooks[e+t].set=b)});var jn=/%20/g,xn=/\[\]$/,wn=/\r?\n/g,_n=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cn=/^(?:select|textarea)/i;Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Q.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cn.test(this.nodeName)||_n.test(this.type))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(wn,"\r\n")}}):{name:t.name,value:n.replace(wn,"\r\n")}}).get()}}),Q.param=function(e,n){var i,r=[],a=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){a(this.name,this.value)});else for(i in e)_(i,e[i],n,a);return r.join("&").replace(jn,"+")};var Tn,kn,En=/#.*$/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,An=/^(?:GET|HEAD)$/,Pn=/^\/\//,Mn=/\?/,In=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,$n=/([?&])_=[^&]*/,On=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fn=Q.fn.load,Ln={},Dn={},Hn=["*/"]+["*"];try{Tn=z.href}catch(Rn){Tn=B.createElement("a"),Tn.href="",Tn=Tn.href}kn=On.exec(Tn.toLowerCase())||[],Q.fn.load=function(e,n,i){if("string"!=typeof e&&Fn)return Fn.apply(this,arguments);if(!this.length)return this;var r,a,o,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),Q.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),Q.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t){i&&s.each(i,o||[e.responseText,t,e])}}).done(function(e){o=arguments,s.html(r?Q("<div>").append(e.replace(In,"")).find(r):e)}),this},Q.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.each(["get","post"],function(e,n){Q[n]=function(e,i,r,a){return Q.isFunction(i)&&(a=a||r,r=i,i=t),Q.ajax({type:n,url:e,data:i,success:r,dataType:a})}}),Q.extend({getScript:function(e,n){return Q.get(e,t,n,"script")},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?k(e,Q.ajaxSettings):(t=e,e=Q.ajaxSettings),k(e,t),e},ajaxSettings:{url:Tn,isLocal:Nn.test(kn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Hn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(Ln),ajaxTransport:C(Dn),ajax:function(e,n){function i(e,n,i,o){var u,p,y,b,x,_=n;2!==j&&(j=2,l&&clearTimeout(l),s=t,a=o||"",w.readyState=e>0?4:0,i&&(b=E(h,w,i)),e>=200&&300>e||304===e?(h.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Q.lastModified[r]=x),x=w.getResponseHeader("Etag"),x&&(Q.etag[r]=x)),304===e?(_="notmodified",u=!0):(u=S(h,b),_=u.state,p=u.data,y=u.error,u=!y)):(y=_,(!_||e)&&(_="error",0>e&&(e=0))),w.status=e,w.statusText=""+(n||_),u?v.resolveWith(d,[p,_,w]):v.rejectWith(d,[w,_,y]),w.statusCode(g),g=t,c&&f.trigger("ajax"+(u?"Success":"Error"),[w,h,u?p:y]),m.fireWith(d,[w,_]),c&&(f.trigger("ajaxComplete",[w,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,a,o,s,l,u,c,p,h=Q.ajaxSetup({},n),d=h.context||h,f=d!==h&&(d.nodeType||d instanceof Q)?Q(d):Q.event,v=Q.Deferred(),m=Q.Callbacks("once memory"),g=h.statusCode||{},y={},b={},j=0,x="canceled",w={readyState:0,setRequestHeader:function(e,t){if(!j){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===j?a:null},getResponseHeader:function(e){var n;if(2===j){if(!o)for(o={};n=Sn.exec(a);)o[n[1].toLowerCase()]=n[2];n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return j||(h.mimeType=e),this},abort:function(e){return e=e||x,s&&s.abort(e),i(0,e),this}};if(v.promise(w),w.success=w.done,w.error=w.fail,w.complete=m.add,w.statusCode=function(e){if(e){var t;if(2>j)for(t in e)g[t]=[g[t],e[t]];else t=e[w.status],w.always(t)}return this},h.url=((e||h.url)+"").replace(En,"").replace(Pn,kn[1]+"//"),h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().split(tt),null==h.crossDomain&&(u=On.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]==kn[1]&&u[2]==kn[2]&&(u[3]||("http:"===u[1]?80:443))==(kn[3]||("http:"===kn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),T(Ln,h,n,w),2===j)return w;if(c=h.global,h.type=h.type.toUpperCase(),h.hasContent=!An.test(h.type),c&&0===Q.active++&&Q.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Mn.test(h.url)?"&":"?")+h.data,delete h.data),r=h.url,h.cache===!1)){var _=Q.now(),C=h.url.replace($n,"$1_="+_);h.url=C+(C===h.url?(Mn.test(h.url)?"&":"?")+"_="+_:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(r=r||h.url,Q.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&w.setRequestHeader("If-None-Match",Q.etag[r])),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Hn+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)w.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===j))return w.abort();x="abort";for(p in{success:1,error:1,complete:1})w[p](h[p]);if(s=T(Dn,h,n,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},h.timeout));try{j=1,s.send(y,i)}catch(k){if(!(2>j))throw k;i(-1,k)}}else i(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Bn=[],zn=/\?/,Un=/(=)\?(?=&|$)|\?\?/,qn=Q.now();Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bn.pop()||Q.expando+"_"+qn++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(n,i,r){var a,o,s,l=n.data,u=n.url,c=n.jsonp!==!1,p=c&&Un.test(u),h=c&&!p&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(l);return"jsonp"===n.dataTypes[0]||p||h?(a=n.jsonpCallback=Q.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[a],p?n.url=u.replace(Un,"$1"+a):h?n.data=l.replace(Un,"$1"+a):c&&(n.url+=(zn.test(u)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||Q.error(a+" was not called"),s[0]},n.dataTypes[0]="json",e[a]=function(){s=arguments},r.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=i.jsonpCallback,Bn.push(a)),s&&Q.isFunction(o)&&o(s[0]),s=o=t}),"script"):void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=B.head||B.getElementsByTagName("head")[0]||B.documentElement;return{send:function(r,a){n=B.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||a(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Wn,Vn=e.ActiveXObject?function(){for(var e in Wn)Wn[e](0,1)}:!1,Xn=0;Q.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&N()||A()}:N,function(e){Q.extend(Q.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Q.ajaxSettings.xhr()),Q.support.ajax&&Q.ajaxTransport(function(n){if(!n.crossDomain||Q.support.cors){var i;return{send:function(r,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,u,c,p,h;try{if(i&&(r||4===l.readyState))if(i=t,o&&(l.onreadystatechange=Q.noop,Vn&&delete Wn[o]),r)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),p={},h=l.responseXML,h&&h.documentElement&&(p.xml=h);try{p.text=l.responseText}catch(e){}try{u=l.statusText}catch(d){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(f){r||a(-1,f)}p&&a(s,u,p,c)},n.async?4===l.readyState?setTimeout(i,0):(o=++Xn,Vn&&(Wn||(Wn={},Q(e).unload(Vn)),Wn[o]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Jn,Gn,Yn=/^(?:toggle|show|hide)$/,Kn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Qn=/queueHooks$/,Zn=[O],ei={"*":[function(e,t){var n,i,r,a=this.createTween(e,t),o=Kn.exec(t),s=a.cur(),l=+s||0,u=1;if(o){if(n=+o[2],i=o[3]||(Q.cssNumber[e]?"":"px"),"px"!==i&&l){l=Q.css(a.elem,e,!0)||n||1;do r=u=u||".5",l/=u,Q.style(a.elem,e,l+i),u=a.cur()/s;while(1!==u&&u!==r)}a.unit=i,a.start=l,a.end=o[1]?l+(o[1]+1)*n:n}return a}]};Q.Animation=Q.extend(I,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ei[n]=ei[n]||[],ei[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),Q.Tween=F,F.prototype={constructor:F,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(Q.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.pos=t=this.options.duration?Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(i,r,a){return null==i||"boolean"==typeof i||!e&&Q.isFunction(i)&&Q.isFunction(r)?n.apply(this,arguments):this.animate(L(t,!0),i,r,a)}}),Q.fn.extend({fadeTo:function(e,t,n,i){return this.filter(g).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Q.isEmptyObject(e),a=Q.speed(t,n,i),o=function(){var t=I(this,Q.extend({},e),a);r&&t.stop(!0)};return r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=Q.timers,o=Q._data(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&Qn.test(n)&&r(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(i),t=!1,a.splice(n,1));(t||!i)&&Q.dequeue(this,e)})}}),Q.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Q.speed=function(e,t,n){var i=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.timers=[],Q.fx=F.prototype.init,Q.fx.tick=function(){for(var e,t=Q.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||Q.fx.stop()},Q.fx.timer=function(e){e()&&Q.timers.push(e)&&!Gn&&(Gn=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.interval=13,Q.fx.stop=function(){clearInterval(Gn),Gn=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fx.step={},Q.expr&&Q.expr.filters&&(Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length});var ti=/^(?:body|html)$/i;return Q.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var n,i,r,a,o,s,l,u,c,p,h=this[0],d=h&&h.ownerDocument;if(d)return(r=d.body)===h?Q.offset.bodyOffset(h):(i=d.documentElement,Q.contains(i,h)?(n=h.getBoundingClientRect(),a=D(d),o=i.clientTop||r.clientTop||0,s=i.clientLeft||r.clientLeft||0,l=a.pageYOffset||i.scrollTop,u=a.pageXOffset||i.scrollLeft,c=n.top+l-o,p=n.left+u-s,{top:c,left:p}):{top:0,left:0})},Q.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Q.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Q.css(e,"marginTop"))||0,n+=parseFloat(Q.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Q.css(e,"position");"static"===i&&(e.style.position="relative");var r,a,o=Q(e),s=o.offset(),l=Q.css(e,"top"),u=Q.css(e,"left"),c=("absolute"===i||"fixed"===i)&&Q.inArray("auto",[l,u])>-1,p={},h={};c?(h=o.position(),r=h.top,a=h.left):(r=parseFloat(l)||0,a=parseFloat(u)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+r),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):o.css(p)}},Q.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=ti.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Q.css(e,"marginTop"))||0,n.left-=parseFloat(Q.css(e,"marginLeft"))||0,i.top+=parseFloat(Q.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Q.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||B.body;e&&!ti.test(e.nodeName)&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||B.body})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Q.fn[e]=function(r){return Q.access(this,function(e,r,a){var o=D(e);return a===t?o?n in o?o[n]:o.document.documentElement[r]:e[r]:(o?o.scrollTo(i?Q(o).scrollLeft():a,i?a:Q(o).scrollTop()):e[r]=a,void 0)},e,r,arguments.length,null)}}),Q.each({Height:"height",Width:"width"},function(e,n){Q.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){Q.fn[r]=function(r,a){var o=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||a===!0?"margin":"border");return Q.access(this,function(n,i,r){var a;return Q.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):r===t?Q.css(n,i,r,s):Q.style(n,i,r,s)},n,o?r:t,o,null)}})}),e.jQuery=e.$=Q,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Q}),Q}(window)})},{}],76:[function(e,t){!function(){var n=e("../helpers/BackboneLoader.js"),i=n.Model.extend({initialize:function(e,t){this.set(e),this.app=t.app||{}},methodUrl:function(e){var t;return"function"==typeof this.urlRoot?t=this.urlRoot():this.urlRoot&&(t=this.urlRoot),"delete"==e?t+"/"+this.attributes.id+".json":"update"==e?t+"/"+this.attributes.id+".json":"read"==e?t+"/"+this.attributes.id+".json":"create"==e?t+".json":!1}});t.exports=i}()},{"../helpers/BackboneLoader.js":43}],77:[function(e,t){!function(){var n=e("../helpers/BackboneLoader.js"),i=n.Collection.extend({initialize:function(e,t){this.set(e),this.app=t.app||{}}});t.exports=i}()},{"../helpers/BackboneLoader.js":43}],54:[function(e,t){!function(){var n=e("../base"),i=n.extend({template:e("../../templates/layout/footer.hbs"),initialize:function(e){this.app=e.app,this.listenTo(this.app.getUser(),"change",this.render,this),this.renderOnReady(this.app.getUser())},context:function(){return this.getContext({copyrightYear:(new Date).getFullYear()})}});t.exports=i}()},{"../../templates/layout/footer.hbs":78,"../base":56}],47:[function(e,t){!function(){var n=function(){function t(e){window.console&&console.log(e)}var n,i=["videojs","vjs","_V_"],r=[],a={},o=function(e,t){return hasOwnProperty.call(e,t)},s=function(e,t,n){if(null!=e)if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,r=e.length;r>i;i++)if(t.call(n,e[i],i,e)===a)return}else for(var s in e)if(o(e,s)&&t.call(n,e[s],s,e)===a)return},l=function(e){return s(Array.prototype.slice.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e};s(i,function(e){return void 0!==window[e]?(n=window[e],!1):void 0});try{n=e("videojs")}catch(u){}this.resizeVideos=function(e){e&&(e.preventDefault(),e.stopPropagation()),s(r,function(e){var t=document.getElementById(e.id);if(!t||!t.parentNode||!t.parentNode.parentNode)return!1;var i,r,a=n(e.id),o=t.parentNode.parentNode;t&&null==t.id.match(/^.*html5_api/)&&t.parentNode&&(i=e.maxWidth&&e.maxWidth<o.offsetWidth?e.maxWidth:o.offsetWidth,!e.upscale&&i>e.width&&(i=e.width),r=e.height*(i/e.width),a.width(i),a.height(r),t.style.width=i+"px",t.style.height=r+"px",t.parentNode.style.width=i+"px",t.parentNode.style.height=r+"px")})},this.loadVideo=function(e,t,i){var a,o,u,c,p=this,h=!1,d={},f=!1;return t.sources=t.sources||[],t.attributes=t.attributes||{},u={id:"js_thumb_video","class":"video-js vjs-default-skin",controls:"controls",preload:"auto",resize:!1,center:!1,width:960,height:540,timeout:5e3},n?t.sources.length?(t.sources=l([],t.sources),t.attributes=l({},u,t.attributes),t.vjs=t.vjs||{},s(n.players,function(e,n){return n===t.attributes.id?(e.dispose(),!1):void 0}),videoDims={},a=document.createElement("video"),s(t.attributes,function(e,t){a.setAttribute(t,e)}),s(t.sources,function(e){var t=document.createElement("source");t.setAttribute("src",e.src),t.setAttribute("type",e.type),a.appendChild(t)
}),o=document.createElement("div"),o.appendChild(a),t.attributes.center&&(o.style.margin="0 auto"),e.appendChild(o),n(a,t.vjs,function(){s(o.childNodes,function(e){return e.attributes&&e.attributes.id&&e.attributes.id.value===t.attributes.id?(element=e,!1):void 0}),s(element.childNodes,function(e){return"object"===e.tagName.toLowerCase()?(h=!0,!1):void 0}),onReady=function(e,t){f||(f=!0,clearTimeout(c),e&&(d.width=e.target.videoWidth,d.height=e.target.videoHeight,p.resizeVideos()),i(null,element,this,void 0===t))},t.attributes.resize&&(d={id:element.attributes.id.value,parent:e,width:this.width(),height:this.height(),upscale:t.attributes.resize.upscale===!0},"object"==typeof t.attributes.resize&&(d.maxWidth=t.attributes.resize.maxWidth),r.push(d)),p.resizeVideos(),h?onReady(null,!0):(c=setTimeout(function(){onReady(null,!0)},t.attributes.timeout),n(t.attributes.id).on("loadedmetadata",onReady))}),void 0):(i("Videos require at least one source"),void 0):(i("Please include Video.js to use this function"),void 0)},this.screenshot=function(e,n){var i,r=document.createElement("canvas");n=n||{};var a=n.origWidth||e.videoWidth,o=n.origHeight||e.videoHeight;return a&&o?(r.width=a,r.height=o,i=r.getContext("2d"),i.drawImage(e,0,0,a,o),r.toDataURL("image/png")):(t("Video has invalid dimensions or metadata has not yet loaded."),!1)},this.resize=function(e,t){var n,i,r=t.maxWidth||50,a=t.maxHeight||50,o=document.createElement("canvas"),s=document.createElement("canvas"),l=o.getContext("2d"),u=s.getContext("2d"),c=e.width||t.origWidth,p=e.height||t.origHeight,h=t.maxWidth/c,d=p*h,f=t.maxHeight/p;return s.width=c,s.height=p,u.drawImage(e,0,0),o.width=r,o.height=a,a>d?(n=(r-s.width*f)/2,l.drawImage(s,0,0,s.width,s.height,n,0,s.width*f,s.height*f)):(i=(a-s.height*h)/2,l.drawImage(s,0,0,s.width,s.height,0,i,s.width*h,s.height*h)),o.toDataURL()},this.resizeData=function(e,t,n){t=t||{};var i=this,r=new Image;r.onload=function(){n(null,i.resize(r,t))},r.src=e}},i=new n;"undefined"!=typeof window&&"undefined"==typeof t?(window.jsthumb=i,window.onresize=i.resizeVideos):t.exports=i}()},{videojs:79}],61:[function(e,t){!function(){var n=e("../../base"),i=e("../../../helpers/lib/holder.js"),r=n.extend({template:e("../../../templates/routes/media/grid.hbs"),initialize:function(e){this.app=e.app;var t=this.app.db.fetchCollection("unprocessedUploads");this.fetchPage(e.pageName,function(){this.media=this.page.getMedia(),this.media.fetch(),this.listenTo(this.media,"ready change add remove sort",this.render,this),this.listenTo(t,"add change remove reset sync",function(){this.media.fetch()},this),this.render()})},context:function(){var e=[],t=encodeURIComponent(this.page.attributes.name);return this.media&&this.media.forEach(function(n){e.push(n.templateVars(t))}),this.getContext({media:e,page:this.page.attributes})},afterRender:function(){i.run()}});t.exports=r}()},{"../../../helpers/lib/holder.js":63,"../../../templates/routes/media/grid.hbs":80,"../../base":56}],81:[function(e,t){!function(){var n=e("../../base"),i=n.extend({template:e("../../../templates/routes/media/thumb.hbs"),initialize:function(e){this.app=e.app,this.media=this.app.db.fetchModel(e.mediaType,e.mediaId),this.listenTo(this.media,"change",this.render,this),this.listenTo(this.app,"iframeResize",this.resizeIframe,this),this.listenTo(this.app,"thumbnailCaptured",this.saveThumbnail,this),this.listenTo(this.app,"captureThumbnail",this.captureThumbnail,this),this.renderOnReady(this.media)},context:function(){var e=this.media.templateVars(),t={media:{sources:[],attributes:{id:"media_"+this.app.util.uuid(10),resize:{upscale:!1},width:this.media.attributes.width||960,height:this.media.attributes.height||540}},dimensions:this.app.config.thumbnailDims,domain:document.domain+(80===window.location.port?"":":"+window.location.port)};return t.media.sources="video"===this.media.attributes.type.toLowerCase()?[{src:e.hdUrl,type:this.app.util.mime("video/mp4")}]:[{src:e.url,type:this.app.util.mime(e.mimeType)}],this.getContext({media:e,thumberUrl:e.s3key?this.app.config.thumberUrl+"#"+encodeURIComponent(JSON.stringify(t)):null})},afterRender:function(){this.app.messenger.targetFrame=this.$el.find("iframe")[0]},resizeIframe:function(e){this.$el.find("iframe").attr("height",parseInt(e)+60)},saveThumbnail:function(){this.app.setFlash("info","Please Wait, Saving Image...")},captureThumbnail:function(e,t,n){var i=this;i.app.messenger.send("capture",[t],function(r,a){if(r===t){var o=i.app.db.fetchModel(e,t);o.once("ready",function(){o.set(n),o.useThumbnail(a.substring(a.indexOf(",")+1))})}})}});t.exports=i}()},{"../../../templates/routes/media/thumb.hbs":82,"../../base":56}],83:[function(e,t){!function(){var n=e("../../base"),i=e("../../../helpers/BackboneLoader.js"),r=e("../../../helpers/lib/holder.js"),a=n.extend({template:e("../../../templates/routes/media/carousel.hbs"),events:{"click a.bigClose":"exitPlayer","click a.reelToggle":"toggleReel","click a.app":"handleAppLink","click a.goLeft":"handleLeftButton","click a.goRight":"handleRightButton"},reelOpen:null,initialize:function(e){this.app=e.app,this.listenTo(this.app,"videoEnded",this.advance,this),this.fetchPage(e.pageName,function(){this.media=this.page.getMedia(),this.listenTo(this.media,"change add remove sort",this.render,this),this.media.once("ready",this.render,this)})},context:function(){var e=[],t=encodeURIComponent(this.page.attributes.name);return this.media&&this.media.forEach(function(n){e.push(n.templateVars(t,!0))}),this.getContext({media:e,page:this.page.attributes})},afterRender:function(){var e=this.currentMedia();this.$(".carousel").elastislide(),null===this.reelOpen&&this.toggleReel(null,!1,0),r.run(),e&&(this.advance(e,!0)&&this.$("a.goRight").removeClass("hidden"),this.reverse(e,!0)&&this.$("a.goLeft").removeClass("hidden"))},advance:function(e,t,n){var i,r,a,o,s=this,l=!1,u=null,c=encodeURIComponent(s.page.attributes.name),p=this.page.getMedia();if(null==n&&(n=1e3),this.page&&p){for(r=0,a=p.models.length;a>r;r++)if(o=p.models[r],e.id!==o.id){if(l){u=o;break}}else l=!0;if(u){if(i=u.templateVars(c).playerUrl,t)return!0;setTimeout(function(){s.app.navigate(i,{trigger:!0})},n)}}return!1},reverse:function(e,t,n){var i,r,a,o,s=this,l=!1,u=null,c=encodeURIComponent(s.page.attributes.name),p=this.page.getMedia();if(null==n&&(n=1e3),this.page&&p){for(r=p.models.length-1,a=0;r>=a;r--)if(o=p.models[r],e.id!==o.id){if(l){u=o;break}}else l=!0;if(u){if(i=u.templateVars(c).playerUrl,t)return!0;setTimeout(function(){s.app.navigate(i,{trigger:!0})},n)}}return!1},handleLeftButton:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.reverse(this.currentMedia(),!1,0)},handleRightButton:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.advance(this.currentMedia(),!1,0)},currentMedia:function(){return this.media?this.media.findWhere({id:i.history.fragment.split("/").pop()}):!1},toggleReel:function(e,t,n){var i=this;null==n&&(n=400),e&&(e.preventDefault(),e.stopPropagation()),t!==!1&&(i.reelOpen=!i.reelOpen),i.reelOpen?(i.$(".sliderWrap").slideDown(n),i.$(".symbol").html("&and;")):(i.$(".sliderWrap").slideUp(n),i.$(".symbol").html("&or;"))},exitPlayer:function(e){e.preventDefault(),e.stopPropagation(),this.app.navigate("page/"+this.page.attributes.name,{trigger:!0})}});t.exports=a}()},{"../../../helpers/BackboneLoader.js":43,"../../../helpers/lib/holder.js":63,"../../../templates/routes/media/carousel.hbs":84,"../../base":56}],79:[function(require,module,exports){!function(){function createMethod(e){return function(){throw new Error('The "'+e+"\" method is not available on the playback technology's API")}}document.createElement("video"),document.createElement("audio");var vjs=function(e,t,n){var i;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),vjs.players[e])return vjs.players[e];i=vjs.el(e)}else i=e;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||new vjs.Player(i,t,n)},videojs=vjs;vjs.CDN_VERSION="4.0",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.players={},vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(e){var t,n;e=e||{},t=e.init||e.init||this.prototype.init||this.prototype.init||function(){},n=function(){t.apply(this,arguments)},n.prototype=vjs.obj.create(this.prototype),n.prototype.constructor=n,n.extend=vjs.CoreObject.extend,n.create=vjs.CoreObject.create;for(var i in e)e.hasOwnProperty(i)&&(n.prototype[i]=e[i]);return n},vjs.CoreObject.create=function(){var e=vjs.obj.create(this.prototype);return this.apply(e,arguments),e},vjs.on=function(e,t,n){var i=vjs.getData(e);i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=vjs.guid++),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t){if(!i.disabled){t=vjs.fixEvent(t);var n=i.handlers[t.type];if(n)for(var r=n.slice(0),a=0,o=r.length;o>a&&!t.isImmediatePropagationStopped();a++)r[a].call(e,t)}}),1==i.handlers[t].length&&(document.addEventListener?e.addEventListener(t,i.dispatcher,!1):document.attachEvent&&e.attachEvent("on"+t,i.dispatcher))},vjs.off=function(e,t,n){if(vjs.hasData(e)){var i=vjs.getData(e);if(i.handlers){var r=function(t){i.handlers[t]=[],vjs.cleanUpEvents(e,t)};if(t){var a=i.handlers[t];if(a){if(!n)return r(t),void 0;if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);vjs.cleanUpEvents(e,t)}}else for(var s in i.handlers)r(s)}}},vjs.cleanUpEvents=function(e,t){var n=vjs.getData(e);0===n.handlers[t].length&&(delete n.handlers[t],document.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):document.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),vjs.isEmpty(n.handlers)&&(delete n.handlers,delete n.dispatcher,delete n.disabled),vjs.isEmpty(n)&&vjs.removeData(e)},vjs.fixEvent=function(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||window.event;e={};for(var r in i)"layerX"!==r&&"layerY"!==r&&(e[r]=i[r]);if(e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,e.isDefaultPrevented=t},e.isDefaultPrevented=n,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var a=document.documentElement,o=document.body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e},vjs.trigger=function(e,t){var n=vjs.hasData(e)?vjs.getData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=vjs.fixEvent(t),n.dispatcher&&n.dispatcher.call(e,t),i&&!t.isPropagationStopped())vjs.trigger(i,t);else if(!i&&!t.isDefaultPrevented()){var r=vjs.getData(t.target);t.target[t.type]&&(r.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)}return!t.isDefaultPrevented()},vjs.one=function(e,t,n){vjs.on(e,t,function(){vjs.off(e,t,arguments.callee),n.apply(this,arguments)})};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(e,t){var n=document.createElement(e||"div");for(var i in t)hasOwnProp.call(t,i)&&(-1!==i.indexOf("aria-")||"role"==i?n.setAttribute(i,t[i]):n[i]=t[i]);return n},vjs.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(e){function t(){}return t.prototype=e,new t},vjs.obj.each=function(e,t,n){for(var i in e)hasOwnProp.call(e,i)&&t.call(n||this,i,e[i])},vjs.obj.merge=function(e,t){if(!t)return e;for(var n in t)hasOwnProp.call(t,n)&&(e[n]=t[n]);return e},vjs.obj.deepMerge=function(e,t){var n,i,r,a;a="[object Object]",e=vjs.obj.copy(e);for(n in t)hasOwnProp.call(t,n)&&(i=e[n],r=t[n],e[n]=vjs.obj.isPlain(i)&&vjs.obj.isPlain(r)?vjs.obj.deepMerge(i,r):t[n]);return e},vjs.obj.copy=function(e){return vjs.obj.merge({},e)},vjs.obj.isPlain=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},vjs.bind=function(e,t,n){t.guid||(t.guid=vjs.guid++);var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(e){var t=e[vjs.expando];return t||(t=e[vjs.expando]=vjs.guid++,vjs.cache[t]={}),vjs.cache[t]},vjs.hasData=function(e){var t=e[vjs.expando];return!(!t||vjs.isEmpty(vjs.cache[t]))},vjs.removeData=function(e){var t=e[vjs.expando];if(t){delete vjs.cache[t];try{delete e[vjs.expando]}catch(n){e.removeAttribute?e.removeAttribute(vjs.expando):e[vjs.expando]=null}}},vjs.isEmpty=function(e){for(var t in e)if(null!==e[t])return!1;return!0},vjs.addClass=function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},vjs.removeClass=function(e,t){if(-1!=e.className.indexOf(t)){for(var n=e.className.split(" "),i=n.length-1;i>=0;i--)n[i]===t&&n.splice(i,1);e.className=n.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=!!vjs.USER_AGENT.match(/iPhone/i),vjs.IS_IPAD=!!vjs.USER_AGENT.match(/iPad/i),vjs.IS_IPOD=!!vjs.USER_AGENT.match(/iPod/i),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var e=vjs.USER_AGENT.match(/OS (\d+)_/i);return e&&e[1]?e[1]:void 0}(),vjs.IS_ANDROID=!!vjs.USER_AGENT.match(/Android.*AppleWebKit/i),vjs.ANDROID_VERSION=function(){var e=vjs.USER_AGENT.match(/Android (\d+)\./i);return e&&e[1]?e[1]:null}(),vjs.IS_FIREFOX=function(){return!!vjs.USER_AGENT.match("Firefox")},vjs.getAttributeValues=function(e){var t={},n=",autoplay,controls,loop,muted,default,";if(e&&e.attributes&&e.attributes.length>0)for(var i,r,a=e.attributes,o=a.length-1;o>=0;o--)i=a[o].name,r=a[o].value,("boolean"==typeof e[i]||-1!==n.indexOf(","+i+","))&&(r=null!==r?!0:!1),t[i]=r;return t},vjs.getComputedDimension=function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(n=e["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"),n},vjs.insertFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},vjs.support={},vjs.el=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),document.getElementById(e)},vjs.formatTime=function(e,t){t=t||e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);return r=r>0||o>0?r+":":"",i=((r||a>=10)&&10>i?"0"+i:i)+":",n=10>n?"0"+n:n,r+i+n},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},vjs.round=function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},vjs.createTimeRange=function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},vjs.get=function(e,t,n){var i=0===e.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===e.indexOf("http");"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")});var r=new XMLHttpRequest;try{r.open("GET",e)}catch(a){n(a)}r.onreadystatechange=function(){4===r.readyState&&(200===r.status||i&&0===r.status?t(r.responseText):n&&n())};try{r.send()}catch(a){n&&n(a)}},vjs.setLocalStorage=function(e,t){try{var n=window.localStorage||!1;if(!n)return;n[e]=t}catch(i){22==i.code||1014==i.code?vjs.log("LocalStorage Full (VideoJS)",i):18==i.code?vjs.log("LocalStorage not allowed (VideoJS)",i):vjs.log("LocalStorage Error (VideoJS)",i)}},vjs.getAbsoluteURL=function(e){return e.match(/^https?:\/\//)||(e=vjs.createEl("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e},vjs.log=function(){vjs.log.history=vjs.log.history||[],vjs.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},vjs.findPosition=function(e){var t,n,i,r,a,o,s,l,u;return e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),t?(n=document.documentElement,i=document.body,r=n.clientLeft||i.clientLeft||0,a=window.pageXOffset||i.scrollLeft,o=t.left+a-r,s=n.clientTop||i.clientTop||0,l=window.pageYOffset||i.scrollTop,u=t.top+l-s,{left:o,top:u}):{left:0,top:0}},vjs.Component=vjs.CoreObject.extend({init:function(e,t,n){this.player_=e,this.options_=vjs.obj.copy(this.options_),t=this.options(t),this.id_=t.id||(t.el&&t.el.id?t.el.id:e.id()+"_component_"+vjs.guid++),this.name_=t.name||null,this.el_=t.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(n)}}),vjs.Component.prototype.dispose=function(){if(this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(e){return void 0===e?this.options_:this.options_=vjs.obj.deepMerge(this.options_,e)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(e,t){return vjs.createEl(e,t)},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(e){return this.childIndex_[e]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(e){return this.childNameIndex_[e]},vjs.Component.prototype.addChild=function(e,t){var n,i,r;return"string"==typeof e?(r=e,t=t||{},i=t.componentClass||vjs.capitalize(r),t.name=r,n=new vjs[i](this.player_||this,t)):n=e,this.children_.push(n),"function"==typeof n.id&&(this.childIndex_[n.id()]=n),r=r||n.name&&n.name(),r&&(this.childNameIndex_[r]=n),"function"==typeof n.el&&n.el()&&this.contentEl().appendChild(n.el()),n},vjs.Component.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id]=null,this.childNameIndex_[e.name]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},vjs.Component.prototype.initChildren=function(){var e=this.options_;if(e&&e.children){var t=this;vjs.obj.each(e.children,function(e,n){if(n!==!1){var i=function(){t[e]=t.addChild(e,n)};n.loadEvent||i()}})}},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(e,t){return vjs.on(this.el_,e,vjs.bind(this,t)),this},vjs.Component.prototype.off=function(e,t){return vjs.off(this.el_,e,t),this},vjs.Component.prototype.one=function(e,t){return vjs.one(this.el_,e,vjs.bind(this,t)),this},vjs.Component.prototype.trigger=function(e,t){return vjs.trigger(this.el_,e,t),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(e){return e&&(this.isReady_?e.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(e))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var e=this.readyQueue_;if(e&&e.length>0){for(var t=0,n=e.length;n>t;t++)e[t].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(e){return vjs.addClass(this.el_,e),this},vjs.Component.prototype.removeClass=function(e){return vjs.removeClass(this.el_,e),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.fadeIn=function(){return this.removeClass("vjs-fade-out"),this.addClass("vjs-fade-in"),this},vjs.Component.prototype.fadeOut=function(){return this.removeClass("vjs-fade-in"),this.addClass("vjs-fade-out"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){},this.fadeIn=function(){}},vjs.Component.prototype.width=function(e,t){return this.dimension("width",e,t)},vjs.Component.prototype.height=function(e,t){return this.dimension("height",e,t)},vjs.Component.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},vjs.Component.prototype.dimension=function(e,t,n){if(void 0!==t)return this.el_.style[e]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+vjs.capitalize(e)],10)},vjs.Button=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t);var n=!1;this.on("touchstart",function(){n=!0}),this.on("touchmove",function(){n=!1});var i=this;this.on("touchend",function(e){n&&i.onClick(e),e.preventDefault(),e.stopPropagation()}),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(e,t){return t=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},t),vjs.Component.prototype.createEl.call(this,e,t)},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(e){(32==e.which||13==e.which)&&(e.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),e.on(this.playerEvent,vjs.bind(this,this.update)),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),e.ready(vjs.bind(this,this.update)),this.boundEvents={}}}),vjs.Slider.prototype.createEl=function(e,t){return t=t||{},t.className=t.className+" vjs-slider",t=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),vjs.Component.prototype.createEl.call(this,e,t)},vjs.Slider.prototype.onMouseDown=function(e){e.preventDefault(),vjs.blockTextSelection(),this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(e)},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var e,t=this.getPercent(),n=this.handle,i=this.bar;if(isNaN(t)&&(t=0),e=t,n){var r=this.el_,a=r.offsetWidth,o=n.el().offsetWidth,s=o?o/a:0,l=1-s,u=t*l;e=u+s/2,n.el().style.left=vjs.round(100*u,2)+"%"}i.el().style.width=vjs.round(100*e,2)+"%"}},vjs.Slider.prototype.calculateDistance=function(e){var t,n,i,r,a,o,s,l,u;if(t=this.el_,n=vjs.findPosition(t),a=o=t.offsetWidth,s=this.handle,this.options_.vertical){if(r=n.top,u=e.changedTouches?e.changedTouches[0].pageY:e.pageY,s){var c=s.el().offsetHeight;r+=c/2,o-=c}return Math.max(0,Math.min(1,(r-u+o)/o))}if(i=n.left,l=e.changedTouches?e.changedTouches[0].pageX:e.pageX,s){var p=s.el().offsetWidth;i+=p/2,a-=p}return Math.max(0,Math.min(1,(l-i)/a))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(e){37==e.which?(e.preventDefault(),this.stepBack()):39==e.which&&(e.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(e,t){return t=t||{},t.className=t.className+" vjs-slider-handle",t=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},t),vjs.Component.prototype.createEl.call(this,"div",t)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(e){this.addChild(e),e.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var e=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(e,{className:"vjs-menu-content"});var t=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),vjs.on(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},vjs.MenuItem=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.selected(t.selected)}}),vjs.MenuItem.prototype.createEl=function(e,t){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},t))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(e){e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_);if(this.options().title&&e.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),this.items=this.createItems(),this.items)for(var t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(e){e.preventDefault(),32==e.which||13==e.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==e.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.Player=vjs.Component.extend({init:function(e,t,n){this.tag=e,t=vjs.obj.merge(this.getTagSettings(e),t),this.cache_={},this.poster_=t.poster,this.controls_=t.controls,t.customControlsOnMobile!==!0&&(vjs.IS_IOS||vjs.IS_ANDROID)?(e.controls=t.controls,this.controls_=!1):e.controls=!1,vjs.Component.call(this,this,t,n),this.one("play",function(e){var t={type:"firstplay",target:this.el_},n=vjs.trigger(this.el_,t);n||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("error",this.onError),this.on("fullscreenchange",this.onFullscreenChange),vjs.players[this.id_]=this,t.plugins&&vjs.obj.each(t.plugins,function(e,t){this[e](t)},this)}}),vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.stopTrackingProgress(),this.stopTrackingCurrentTime(),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(e){var t={sources:[],tracks:[]};if(vjs.obj.merge(t,vjs.getAttributeValues(e)),e.hasChildNodes())for(var n,i,r=e.childNodes,a=0,o=r.length;o>a;a++)n=r[a],i=n.nodeName.toLowerCase(),"source"===i?t.sources.push(vjs.getAttributeValues(n)):"track"===i&&t.tracks.push(vjs.getAttributeValues(n));return t},vjs.Player.prototype.createEl=function(){var e=this.el_=vjs.Component.prototype.createEl.call(this,"div"),t=this.tag;if(t.removeAttribute("width"),t.removeAttribute("height"),t.hasChildNodes())for(var n=t.childNodes.length,i=0,r=t.childNodes;n>i;i++)("source"==r[0].nodeName.toLowerCase()||"track"==r[0].nodeName.toLowerCase())&&t.removeChild(r[0]);return t.id=t.id||"vjs_video_"+vjs.guid++,e.id=t.id,e.className=t.className,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),t.parentNode&&t.parentNode.insertBefore(e,t),vjs.insertFirst(t,e),e},vjs.Player.prototype.loadTech=function(e,t){this.tech?this.unloadTech():"Html5"!==e&&this.tag&&(this.el_.removeChild(this.tag),this.tag.player=null,this.tag=null),this.techName=e,this.isReady_=!1;var n=function(){this.player_.triggerReady(),this.features.progressEvents||this.player_.manualProgressOn(),this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()},i=vjs.obj.merge({source:t,parentEl:this.el_},this.options_[e.toLowerCase()]);t&&(t.src==this.cache_.src&&this.cache_.currentTime>0&&(i.startTime=this.cache_.currentTime),this.cache_.src=t.src),this.tech=new vjs[e](this,i),this.tech.ready(n)
},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress(),this.tech.one("progress",function(){this.features.progressEvents=!0,this.player_.manualProgressOff()})},vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)},vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0,this.player_.manualTimeUpdatesOff()})},vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)},vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)},vjs.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())},vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime)},vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused")},vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))},vjs.Player.prototype.onError=function(e){vjs.log("Video Error",e)},vjs.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(e,t){if(this.tech&&this.tech.isReady_)this.tech.ready(function(){this[e](t)});else try{this.tech[e](t)}catch(n){throw vjs.log(n),n}},vjs.Player.prototype.techGet=function(e){if(this.tech&&this.tech.isReady_)try{return this.tech[e]()}catch(t){throw void 0===this.tech[e]?vjs.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t):"TypeError"==t.name?(vjs.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady_=!1):vjs.log(t),t}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(e){return void 0!==e?(this.cache_.lastSetCurrentTime=e,this.techCall("setCurrentTime",e),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(e){return void 0!==e?(this.cache_.duration=parseFloat(e),this):this.cache_.duration},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var e=this.techGet("buffered"),t=0,n=this.cache_.bufferEnd=this.cache_.bufferEnd||0;return e&&e.length>0&&e.end(0)!==n&&(n=e.end(0),this.cache_.bufferEnd=n),vjs.createTimeRange(t,n)},vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},vjs.Player.prototype.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall("setVolume",t),vjs.setLocalStorage("volume",t),this):(t=parseFloat(this.techGet("volume")),isNaN(t)?1:t)},vjs.Player.prototype.muted=function(e){return void 0!==e?(this.techCall("setMuted",e),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.requestFullScreen=function(){var e=vjs.support.requestFullScreen;return this.isFullScreen=!0,e?(vjs.on(document,e.eventName,vjs.bind(this,function(){this.isFullScreen=document[e.isFullScreen],this.isFullScreen===!1&&vjs.off(document,e.eventName,arguments.callee),this.trigger("fullscreenchange")})),this.el_[e.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){var e=vjs.support.requestFullScreen;return this.isFullScreen=!1,e?document[e.cancelFn]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullScreen===!0?this.cancelFullScreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(e){for(var t=0,n=this.options_.techOrder;t<n.length;t++){var i=vjs.capitalize(n[t]),r=vjs[i];if(r.isSupported())for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r.canPlaySource(s))return{source:s,tech:i}}}return!1},vjs.Player.prototype.src=function(e){if(e instanceof Array){var t,n=this.selectSource(e);n?(e=n.source,t=n.tech,t==this.techName?this.src(e):this.loadTech(t,e)):this.el_.appendChild(vjs.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else e instanceof Object?vjs[this.techName].canPlaySource(e)?this.src(e.src):this.src([e]):(this.cache_.src=e,this.isReady_?(this.techCall("src",e),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(e)}));return this},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.preload=function(e){return void 0!==e?(this.techCall("setPreload",e),this.options_.preload=e,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(e){return void 0!==e?(this.techCall("setAutoplay",e),this.options_.autoplay=e,this):this.techGet("autoplay",e)},vjs.Player.prototype.loop=function(e){return void 0!==e?(this.techCall("setLoop",e),this.options_.loop=e,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(e){return void 0!==e&&(this.poster_=e),this.poster_},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(e){return void 0!==e&&this.controls_!==e&&(this.controls_=!!e,this.trigger("controlschange")),this.controls_},vjs.Player.prototype.error=function(){return this.techGet("error")},vjs.Player.prototype.ended=function(){return this.techGet("ended")},function(){var e,t,n;n=document.createElement("div"),t={},void 0!==n.cancelFullscreen?(t.requestFn="requestFullscreen",t.cancelFn="exitFullscreen",t.eventName="fullscreenchange",t.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(e="moz",t.isFullScreen=e+"FullScreen"):(e="webkit",t.isFullScreen=e+"IsFullScreen"),n[e+"RequestFullScreen"]&&(t.requestFn=e+"RequestFullScreen",t.cancelFn=e+"CancelFullScreen"),t.eventName=e+"fullscreenchange"),document[t.cancelFn]&&(vjs.support.requestFullScreen=t)}(),vjs.ControlBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.controls()||this.disable(),e.one("play",vjs.bind(this,function(){var e,t=vjs.bind(this,this.fadeIn),n=vjs.bind(this,this.fadeOut);this.fadeOut(),"ontouchstart"in window||(this.player_.on("mouseover",t),this.player_.on("mouseout",n),this.player_.on("pause",vjs.bind(this,this.lockShowing)),this.player_.on("play",vjs.bind(this,this.unlockShowing))),e=!1,this.player_.on("touchstart",function(){e=!0}),this.player_.on("touchmove",function(){e=!1}),this.player_.on("touchend",vjs.bind(this,function(t){var n;e&&(n=this.el().className.search("fade-in"),-1!==n?this.fadeOut():this.fadeIn()),e=!1,this.player_.paused()||t.preventDefault()}))}))}}),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.ControlBar.prototype.fadeIn=function(){vjs.Component.prototype.fadeIn.call(this),this.player_.trigger("controlsvisible")},vjs.ControlBar.prototype.fadeOut=function(){vjs.Component.prototype.fadeOut.call(this),this.player_.trigger("controlshidden")},vjs.PlayToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),e.on("play",vjs.bind(this,this.onPlay)),e.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),this.el_.children[0].children[0].innerHTML="Pause"},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML="Play"},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),e.appendChild(vjs.createEl("div").appendChild(this.content)),e},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(e,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),e.appendChild(vjs.createEl("div").appendChild(this.content)),e},vjs.DurationDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(this.player_.duration()))},vjs.TimeDivider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),e.appendChild(vjs.createEl("div").appendChild(this.content)),e},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")},vjs.ProgressControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t),e.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),e.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(e,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(e){vjs.Slider.prototype.onMouseDown.call(this,e),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t==this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},vjs.SeekBar.prototype.onMouseUp=function(e){vjs.Slider.prototype.onMouseUp.call(this,e),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},vjs.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=vjs.round(100*this.player_.bufferedPercent(),2)+"%")},vjs.PlayProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},vjs.SeekHandle=vjs.SliderHandle.extend(),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})},vjs.VolumeControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.tech&&e.tech.features&&e.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),e.on("loadstart",vjs.bind(this,function(){e.tech.features&&e.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t),e.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),e.ready(vjs.bind(this,this.updateARIAAttributes)),setTimeout(vjs.bind(this,this.update),0)}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(e){this.player_.volume(this.calculateDistance(e))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),e.on("volumechange",vjs.bind(this,this.update)),e.tech&&e.tech.features&&e.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),e.on("loadstart",vjs.bind(this,function(){e.tech.features&&e.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:.33>e?t=1:.67>e&&(t=2),this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Mute");for(var n=0;4>n;n++)vjs.removeClass(this.el_,"vjs-vol-"+n);vjs.addClass(this.el_,"vjs-vol-"+t)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t),e.on("volumechange",vjs.bind(this,this.update)),e.tech&&e.tech.features&&e.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),e.on("loadstart",vjs.bind(this,function(){e.tech.features&&e.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_,{contentElType:"div"}),t=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return e.addChild(t),e},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PosterImage=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),e.poster()&&e.controls()||this.hide(),e.on("play",vjs.bind(this,this.hide))}}),vjs.PosterImage.prototype.createEl=function(){var e=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1}),t=this.player_.poster();return t&&("backgroundSize"in e.style?e.style.backgroundImage='url("'+t+'")':e.appendChild(vjs.createEl("img",{src:t}))),e},vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.on("canplay",vjs.bind(this,this.hide)),e.on("canplaythrough",vjs.bind(this,this.hide)),e.on("playing",vjs.bind(this,this.hide)),e.on("seeked",vjs.bind(this,this.hide)),e.on("seeking",vjs.bind(this,this.show)),e.on("seeked",vjs.bind(this,this.hide)),e.on("error",vjs.bind(this,this.show)),e.on("waiting",vjs.bind(this,this.show))}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),e.controls()||this.hide(),e.on("play",vjs.bind(this,this.hide))}}),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.MediaTechController=vjs.Component.extend({init:function(e,t,n){vjs.Component.call(this,e,t,n)}}),vjs.MediaTechController.prototype.onClick=function(){return vjs.IS_ANDROID?function(){}:function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())}}(),vjs.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1},vjs.media={},vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");for(var i=vjs.media.ApiMethods.length-1;i>=0;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(e,t,n){this.features.volumeControl=vjs.Html5.canControlVolume(),this.features.movingMediaElementInDOM=!vjs.IS_IOS,this.features.fullscreenResize=!0,vjs.MediaTechController.call(this,e,t,n);var i=t.source;i&&this.el_.currentSrc==i.src?e.trigger("loadstart"):i&&(this.el_.src=i.src),e.ready(function(){this.options_.autoplay&&this.paused()&&(this.tag.poster=null,this.play())}),this.on("click",this.onClick),this.setupTriggers(),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var e=this.player_,t=e.tag;t&&this.features.movingMediaElementInDOM!==!1||(t?(e.el().removeChild(t),t=t.cloneNode(!1)):t=vjs.createEl("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),t.player=e,vjs.insertFirst(t,e.el()));for(var n=["autoplay","preload","loop","muted"],i=n.length-1;i>=0;i--){var r=n[i];null!==e.options_[r]&&(t[r]=e.options_[r])}return t},vjs.Html5.prototype.setupTriggers=function(){for(var e=vjs.Html5.Events.length-1;e>=0;e--)vjs.on(this.el_,vjs.Html5.Events[e],vjs.bind(this.player_,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(e){this.trigger(e),e.stopPropagation()},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){vjs.log(t,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(e){this.el_.volume=e},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(e){this.el_.muted=e},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)?!1:!0},vjs.Html5.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(e){this.el_.src=e},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(e){this.el_.preload=e},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(e){this.el_.autoplay=e},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(e){this.el_.loop=e},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.isSupported=function(){return!!document.createElement("video").canPlayType},vjs.Html5.canPlaySource=function(e){return!!document.createElement("video").canPlayType(e.type)},vjs.Html5.canControlVolume=function(){var e=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=e/2+.1,e!==vjs.TEST_VID.volume},vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.IS_ANDROID&&vjs.ANDROID_VERSION<3&&(document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&-1!=e.toLowerCase().indexOf("video/mp4")?"maybe":""}),vjs.Flash=vjs.MediaTechController.extend({init:function(e,t,n){vjs.MediaTechController.call(this,e,t,n);var i=t.source,r=t.parentEl,a=this.el_=vjs.createEl("div",{id:e.id()+"_temp_flash"}),o=e.id()+"_flash_api",s=e.options_,l=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:s.autoplay,preload:s.preload,loop:s.loop,muted:s.muted},t.flashVars),u=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},t.params),c=vjs.obj.merge({id:o,name:o,"class":"vjs-tech"},t.attributes);if(i&&(l.src=encodeURIComponent(vjs.getAbsoluteURL(i.src))),vjs.insertFirst(a,r),t.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(t.startTime)}),t.iFrameMode!==!0||vjs.IS_FIREFOX)vjs.Flash.embed(t.swf,a,l,u,c);else{var p=vjs.createEl("iframe",{id:o+"_iframe",name:o+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});l.readyFunction="ready",l.eventProxyFunction="events",l.errorEventProxyFunction="errors",vjs.on(p,"load",vjs.bind(this,function(){var e,n=p.contentWindow;e=p.contentDocument?p.contentDocument:p.contentWindow.document,e.write(vjs.Flash.getEmbedCode(t.swf,l,u,c)),n.player=this.player_,n.ready=vjs.bind(this.player_,function(t){var n=e.getElementById(t),i=this,r=i.tech;r.el_=n,vjs.on(n,"click",r.bind(r.onClick)),vjs.Flash.checkReady(r)}),n.events=vjs.bind(this.player_,function(e,t){var n=this;n&&"flash"===n.techName&&n.trigger(t)}),n.errors=vjs.bind(this.player_,function(e,t){vjs.log("Flash Error",t)})})),a.parentNode.replaceChild(p,a)}}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(e){if(e=vjs.getAbsoluteURL(e),this.el_.vjs_src(e),this.player_.autoplay()){var t=this;setTimeout(function(){t.play()},0)}},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1};var api=vjs.Flash.prototype,readWrite="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),createSetter=function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);api["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}},createGetter=function(e){api[e]=function(){return this.el_.vjs_getProperty(e)}};if(function(){var e;for(e=0;e<readWrite.length;e++)createGetter(readWrite[e]),createSetter(readWrite[e]);for(e=0;e<readOnly.length;e++)createGetter(readOnly[e])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(e){return e.type in vjs.Flash.formats?"maybe":void 0},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(e){var t=vjs.el(e),n=t.player||t.parentNode.player,i=n.tech;t.player=n,i.el_=t,i.on("click",i.onClick),vjs.Flash.checkReady(i)},vjs.Flash.checkReady=function(e){e.el().vjs_getProperty?e.triggerReady():setTimeout(function(){vjs.Flash.checkReady(e)},50)},vjs.Flash.onEvent=function(e,t){var n=vjs.el(e).player;n.trigger(t)},vjs.Flash.onError=function(e,t){var n=vjs.el(e).player;n.trigger("error"),vjs.log("Flash Error",t,e)},vjs.Flash.version=function(){var e="0,0,0";try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])
}catch(n){}}return e.split(",")},vjs.Flash.embed=function(e,t,n,i,r){var a=vjs.Flash.getEmbedCode(e,n,i,r),o=vjs.createEl("div",{innerHTML:a}).childNodes[0],s=t.parentNode;t.parentNode.replaceChild(o,t);var l=s.childNodes[0];return setTimeout(function(){l.style.display="block"},1e3),o},vjs.Flash.getEmbedCode=function(e,t,n,i){var r='<object type="application/x-shockwave-flash"',a="",o="",s="";return t&&vjs.obj.each(t,function(e,t){a+=e+"="+t+"&amp;"}),n=vjs.obj.merge({movie:e,flashvars:a,allowScriptAccess:"always",allowNetworking:"all"},n),vjs.obj.each(n,function(e,t){o+='<param name="'+e+'" value="'+t+'" />'}),i=vjs.obj.merge({data:e,width:"100%",height:"100%"},i),vjs.obj.each(i,function(e,t){s+=e+'="'+t+'" '}),r+s+">"+o+"</object>"},vjs.MediaLoader=vjs.Component.extend({init:function(e,t,n){if(vjs.Component.call(this,e,t,n),e.options_.sources&&0!==e.options_.sources.length)e.src(e.options_.sources);else for(var i=0,r=e.options_.techOrder;i<r.length;i++){var a=vjs.capitalize(r[i]),o=vjs[a];if(o&&o.isSupported()){e.loadTech(a);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(e,t,n,i){var r=this.textTracks_=this.textTracks_||[];i=i||{},i.kind=e,i.label=t,i.language=n;var a=vjs.capitalize(e||"subtitles"),o=new vjs[a+"Track"](this,i);return r.push(o),o},vjs.Player.prototype.addTextTracks=function(e){for(var t,n=0;n<e.length;n++)t=e[n],this.addTextTrack(t.kind,t.label,t.language,t);return this},vjs.Player.prototype.showTextTrack=function(e,t){for(var n,i,r,a=this.textTracks_,o=0,s=a.length;s>o;o++)n=a[o],n.id()===e?(n.show(),i=n):t&&n.kind()==t&&n.mode()>0&&n.disable();return r=i?i.kind():t?t:!1,r&&this.trigger(r+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.id_=t.id||"vjs_"+t.kind+"_"+t.language+"_"+vjs.guid++,this.src_=t.src,this.dflt_=t["default"]||t.dflt,this.title_=t.title,this.language_=t.srclang,this.label_=t.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?100*1.4*(screen.width/this.player_.width())+"%":""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),("captions"===this.kind_||"subtitles"===this.kind_)&&this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(e){this.error=e,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(e){for(var t,n,i,r,a=e.split("\n"),o="",s=1,l=a.length;l>s;s++)if(o=vjs.trim(a[s])){for(-1==o.indexOf("-->")?(r=o,o=vjs.trim(a[++s])):r=this.cues_.length,t={id:r,index:this.cues_.length},n=o.split(" --> "),t.startTime=this.parseCueTime(n[0]),t.endTime=this.parseCueTime(n[1]),i=[];a[++s]&&(o=vjs.trim(a[s]));)i.push(o);t.text=i.join("<br/>"),this.cues_.push(t)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(e){var t,n,i,r,a,o=e.split(":"),s=0;return 3==o.length?(t=o[0],n=o[1],i=o[2]):(t=0,n=o[0],i=o[1]),i=i.split(/\s+/),r=i.splice(0,1)[0],r=r.split(/\.|,/),a=parseFloat(r[1]),r=r[0],s+=3600*parseFloat(t),s+=60*parseFloat(n),s+=parseFloat(r),a&&(s+=a/1e3),s},vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var e=this.player_.currentTime();if(void 0===this.prevChange||e<this.prevChange||this.nextChange<=e){var t,n,i,r,a=this.cues_,o=this.player_.duration(),s=0,l=!1,u=[];for(e>=this.nextChange||void 0===this.nextChange?r=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(l=!0,r=void 0!==this.lastActiveIndex?this.lastActiveIndex:a.length-1);;){if(i=a[r],i.endTime<=e)s=Math.max(s,i.endTime),i.active&&(i.active=!1);else if(e<i.startTime){if(o=Math.min(o,i.startTime),i.active&&(i.active=!1),!l)break}else l?(u.splice(0,0,i),void 0===n&&(n=r),t=r):(u.push(i),void 0===t&&(t=r),n=r),o=Math.min(o,i.endTime),s=Math.max(s,i.startTime),i.active=!0;if(l){if(0===r)break;r--}else{if(r===a.length-1)break;r++}}this.activeCues_=u,this.nextChange=o,this.prevChange=s,this.firstActiveIndex=t,this.lastActiveIndex=n,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var e=this.activeCues_,t="",n=0,i=e.length;i>n;n++)t+='<span class="vjs-tt-cue">'+e[n].text+"</span>";this.el_.innerHTML=t},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(e,t,n){vjs.Component.call(this,e,t,n),e.options_.tracks&&e.options_.tracks.length>0&&this.player_.addTextTracks(e.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(e,t){var n=this.track=t.track;t.label=n.label(),t.selected=n.dflt(),vjs.MenuItem.call(this,e,t),this.player_.on(n.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){2==this.track.mode()?this.selected(!0):this.selected(!1)},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:function(){return t.kind},player:e,label:function(){return t.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,e,t),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var e,t=this.player_.textTracks(),n=0,i=t.length,r=!0;i>n;n++)e=t[n],e.kind()==this.track.kind()&&2==e.mode()&&(r=!1);r?this.selected(!0):this.selected(!1)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var e,t=[];t.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var n=0;n<this.player_.textTracks().length;n++)e=this.player_.textTracks()[n],e.kind()===this.kind_&&t.push(new vjs.TextTrackMenuItem(this.player_,{track:e}));return t},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var e,t=[],n=0;n<this.player_.textTracks().length;n++)e=this.player_.textTracks()[n],e.kind()===this.kind_&&t.push(new vjs.TextTrackMenuItem(this.player_,{track:e}));return t},vjs.ChaptersButton.prototype.createMenu=function(){for(var e,t,n=this.player_.textTracks(),i=0,r=n.length,a=this.items=[];r>i;i++)if(e=n[i],e.kind()==this.kind_&&e.dflt()){if(e.readyState()<2)return this.chaptersTrack=e,e.on("loaded",vjs.bind(this,this.createMenu)),void 0;t=e;break}var o=this.menu=new vjs.Menu(this.player_);if(o.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),t){var s,l,u=t.cues_;for(i=0,r=u.length;r>i;i++)s=u[i],l=new vjs.ChaptersTrackMenuItem(this.player_,{track:t,cue:s}),a.push(l),o.addChild(l)}return this.items.length>0&&this.show(),o},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(e,t){var n=this.track=t.track,i=this.cue=t.cue,r=e.currentTime();t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime,vjs.MenuItem.call(this,e,t),n.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();e.startTime<=t&&t<e.endTime?this.selected(!0):this.selected(!1)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var e,t,n,i=document.getElementsByTagName("video");if(i&&i.length>0)for(var r=0,a=i.length;a>r;r++){if(t=i[r],!t||!t.getAttribute){vjs.autoSetupTimeout(1);break}void 0===t.player&&(e=t.getAttribute("data-setup"),null!==e&&(e=vjs.JSON.parse(e||"{}"),n=videojs(t,e)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(e){setTimeout(vjs.autoSetup,e)},vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(e,t){vjs.Player.prototype[e]=t},module.exports=vjs}()},{}],68:[function(e,t){!function(){var n=e("./base"),i=e("./video"),r=e("./image"),a=(e("../helpers/BackboneLoader"),e("lodash")),o=e("utilities/lib/string"),s=n.extend({name:"page",urlRoot:function(){return this.app.config.baseUrl+"/pages"},defaults:{name:"Untitled",items:[],userId:"",isPublished:!1,errors:null},initialize:function(e,t){this.set(e),this.app=t.app||{}},validate:function(e){var t=[];if(e.name&&0!=e.name.length||t.push({attr:"name",message:"Page title cannot be empty"}),!e.id){var n=this.app.db.fetchCollection("pages").filter(function(t){return t.attributes.name.toLowerCase()===e.name.toLowerCase()});n&&n.length>0&&t.push({attr:"name",message:"Another page already exists with this name"})}return t.length?t:void 0},toJSON:function(){return incoming=a.clone(this.attributes),incoming.items&&(incoming.itemList=JSON.stringify(incoming.items)),incoming},parse:function(e){try{e.items=JSON.parse(e.itemList),delete e.itemList}catch(t){e={errors:"Bad response from server: "+t}}return e},getMedia:function(){return this.app.db.fetchCollection("pageMedia",{app:this.app,pageId:this.id})},removeMedia:function(e,t){var n=this,i=a.clone(n.attributes.items);i=a.reject(i,function(t){return t.ID===e}),n.set("items",i),n.save(null,{success:function(){n.app.db.fetchCollection("unprocessedUploads").fetch(),n.app.db.fetchCollection("pages").fetch(),t(null)},error:function(e,n){t(n.responseText)}})},addMedia:function(e){var t=this;filepicker.pickAndStore({extensions:t.app.config.videoExts.concat(t.app.config.imageExts),multiple:!1,signature:t.app.getUser().attributes.signature,policy:t.app.getUser().attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP"]},{location:"s3",path:t.app.getUser().attributes.path+o.uuid(10),access:"public"},function(n){t.app.setFlash("info","Just a second while we process your uploads..."),"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);for(var o=a.clone(t.attributes.items),s=n.length,l=function(i){var r=i.id,a=i.attributes.name,l=i.attributes.type.toLowerCase();o.push({ID:r,NAME:a,TYPE:l,THUMB:i.templateVars().thumbnailUrl}),s--,0===s&&(t.set("items",o),t.save(null,{success:function(){t.app.db.fetchCollection("unprocessedUploads").fetch(),t.app.db.fetchCollection("pages").fetch(),e(null,n)},error:t.app.error}))},u=0,c=n.length;c>u;u++)!function(e){var n,a,o={name:e.filename,fpkey:e.url,mimeType:e.mimetype,originalFilesize:e.size,userId:t.attributes.userId,attribs:[],status:0};t.app.util.isVideo(e.filename)?(n=new i({},{app:t.app}),a="video"):t.app.util.isImage(e.filename)&&(n=new r({},{app:t.app}),a="image"),n.set(o),"image"===a?n.cropThumbnail(null,function(e){e?t.app.error(e):l(n)}):n.save(null,{success:function(e){l(e)},error:t.app.error})}(n[u])},function(t){e(t)})}});t.exports=s}()},{"../helpers/BackboneLoader":43,"./base":76,"./image":48,"./video":50,lodash:46,"utilities/lib/string":85}],69:[function(e,t){!function(){var n=e("./base"),i=e("lodash"),r=e("./customization"),a=n.extend({name:"user",url:function(){return this.app.config.baseUrl+"/users/auth.json"},parse:function(e){var t=i.clone(e);try{t=t.user,t.customization=new r({},{app:this.app}).parse({customization:t.customization}),e=t}catch(n){e={error:e.error}}return e},defaults:{username:"",password:"",token:!1,policy:"",signature:"",path:"",customization:{},error:null}});t.exports=a}()},{"./base":76,"./customization":70,lodash:46}],70:[function(e,t){!function(){var n=e("./base"),i=e("lodash"),r=(e("../helpers/BackboneLoader"),n.extend({name:"customization",urlRoot:function(){return this.app.config.baseUrl+"/customizations"},toJSON:function(){return incoming=i.clone(this.attributes),incoming.config&&(incoming.config=JSON.stringify(incoming.config)),incoming.diffs&&(incoming.diffs=JSON.stringify(incoming.diffs)),incoming},parse:function(e){e=e.customization,delete e.customization;try{e.config=JSON.parse(e.config),e.diffs=JSON.parse(e.diffs)}catch(t){e.config={},e.diffs={}}return e}}));t.exports=r}()},{"../helpers/BackboneLoader":43,"./base":76,lodash:46}],71:[function(e,t){!function(){var n=e("./base"),i=(e("lodash"),n.extend({name:"media",initialize:function(e,t){this.set(e),this.app=t.app||{},this.pageId=t.pageId||null,this.model=function(e){return"image"===e.type.toLowerCase()?t.app.db.createModel("image",e):t.app.db.createModel("video",e)}},url:function(){return this.app.config.baseUrl+"/pages/"+this.pageId+"/media.json"}}));t.exports=i}()},{"./base":77,lodash:46}],72:[function(e,t){!function(){var n=e("./base"),i=(e("../models/page"),e("lodash"),n.extend({name:"page",url:function(){return this.app.config.baseUrl+"/pages.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(e,t){this.set(e),this.app=t.app||{},this.model=function(e){var n=t.app.db.createModel("page"),i=n.parse(e);return t.app.db.fetchModel("page",i.id,i)}},comparator:function(e){return e.get("priority")}}));t.exports=i}()},{"../models/page":68,"./base":77,lodash:46}],74:[function(e,t){!function(){var n=e("./base"),i=(e("../models/image"),e("lodash"),n.extend({name:"image",url:function(){return this.app.config.baseUrl+"/images.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(e,t){this.set(e),this.app=t.app||{},this.model=function(e){var n=t.app.db.createModel("image");return t.app.db.createModel("image",n.parse(e))}}}));t.exports=i}()},{"../models/image":48,"./base":77,lodash:46}],75:[function(e,t){!function(){var n=e("./base"),i=(e("../models/video"),e("lodash"),n.extend({name:"video",url:function(){return this.app.config.baseUrl+"/videos.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(e,t){this.set(e),this.app=t.app||{},this.model=function(e){var n=t.app.db.createModel("video");return t.app.db.createModel("video",n.parse(e))}}}));t.exports=i}()},{"../models/video":50,"./base":77,lodash:46}],73:[function(e,t){!function(){var n=e("./base"),i=(e("../models/image.js"),e("../models/video.js"),e("lodash"),n.extend({name:"media",url:function(){return this.app.config.baseUrl+"/unprocessed.json"},initialize:function(e,t){this.set(e),this.app=t.app||{},this.model=function(e){return"image"===e.type.toLowerCase()?t.app.db.createModel("image").set(e):t.app.db.createModel("video").set(e)}}}));t.exports=i}()},{"../models/image.js":48,"../models/video.js":50,"./base":77,lodash:46}],66:[function(e,t,n){!function(){var t,i=this,r=i.Backbone,a=[],o=a.push,s=a.slice,l=a.splice;t="undefined"!=typeof n?n:i.Backbone={},t.VERSION="1.0.0";var u=i._;u||"undefined"==typeof e||(u=e("underscore")),t.$=i.jQuery||i.Zepto||i.ender||i.$,t.noConflict=function(){return i.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var c=t.Events={on:function(e,t,n){if(!h(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!h(this,"once",e,[t,n])||!t)return this;var i=this,r=u.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,a,o,s,l,c,p;if(!this._events||!h(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:u.keys(this._events),s=0,l=o.length;l>s;s++)if(e=o[s],a=this._events[e]){if(this._events[e]=i=[],t||n)for(c=0,p=a.length;p>c;c++)r=a[c],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!h(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&d(n,t),i&&d(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var a in i)i[a].off(t,n,this),r&&delete this._listeners[a];return this}},p=/\s+/,h=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(p.test(n)){for(var a=n.split(p),o=0,s=a.length;s>o;o++)e[t].apply(e,[a[o]].concat(i));return!1}return!0},d=function(e,t){var n,i=-1,r=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,o);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},f={listenTo:"on",listenToOnce:"once"};u.each(f,function(e,t){c[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),a=t._listenerId||(t._listenerId=u.uniqueId("l"));return r[a]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),c.bind=c.on,c.unbind=c.off,u.extend(t,c);var v=t.Model=function(e,t){var n,i=e||{};t||(t={}),this.cid=u.uniqueId("c"),this.attributes={},u.extend(this,u.pick(t,m)),t.parse&&(i=this.parse(i,t)||{}),(n=u.result(this,"defaults"))&&(i=u.defaults({},i,n)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},m=["url","urlRoot","collection"];u.extend(v.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return u.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,a,o,s,l,c,p;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;a=n.unset,s=n.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=u.clone(this.attributes),this.changed={}),p=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)t=r[i],u.isEqual(p[i],t)||o.push(i),u.isEqual(c[i],t)?delete this.changed[i]:this.changed[i]=t,a?delete p[i]:p[i]=t;if(!s){o.length&&(this._pending=!0);for(var h=0,d=o.length;d>h;h++)this.trigger("change:"+o[h],this,p[o[h]],n)}if(l)return this;if(!s)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in e)u.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,r,a,o=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=u.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=u.extend({},o,i)),void 0===n.parse&&(n.parse=!0);var s=this,l=n.success;return n.success=function(e){s.attributes=o;var t=s.parse(e,n);return n.wait&&(t=u.extend(i||{},t)),u.isObject(t)&&!s.set(t,n)?!1:(l&&l(s,e,n),s.trigger("sync",s,e,n),void 0)},H(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),a=this.sync(r,this,n),i&&n.wait&&(this.attributes=o),a},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;H(this,e);var r=this.sync("delete",this,e);return e.wait||i(),r},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||D();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},u.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,u.extend(t||{},{validationError:n})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];u.each(g,function(e){v.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),u[e].apply(u,t)}});var y=t.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},j={add:!0,merge:!1,remove:!1};u.extend(y.prototype,c,{model:v,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,u.defaults(t||{},j))},remove:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,i,r,a;for(n=0,i=e.length;i>n;n++)a=this.get(e[n]),a&&(delete this._byId[a.id],delete this._byId[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,t.silent||(t.index=r,a.trigger("remove",a,this,t)),this._removeReference(a));return this},set:function(e,t){t=u.defaults(t||{},b),t.parse&&(e=this.parse(e,t)),u.isArray(e)||(e=e?[e]:[]);var n,i,r,a,s,c=t.at,p=this.comparator&&null==c&&t.sort!==!1,h=u.isString(this.comparator)?this.comparator:null,d=[],f=[],v={};for(n=0,i=e.length;i>n;n++)(r=this._prepareModel(e[n],t))&&((a=this.get(r))?(t.remove&&(v[a.cid]=!0),t.merge&&(a.set(r.attributes,t),p&&!s&&a.hasChanged(h)&&(s=!0))):t.add&&(d.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(t.remove){for(n=0,i=this.length;i>n;++n)v[(r=this.models[n]).cid]||f.push(r);f.length&&this.remove(f,t)}if(d.length&&(p&&(s=!0),this.length+=d.length,null!=c?l.apply(this.models,[c,0].concat(d)):o.apply(this.models,d)),s&&this.sort({silent:!0}),t.silent)return this;for(n=0,i=d.length;i>n;n++)(r=d[n]).trigger("add",r,this,t);return s&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return u.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=u.isFunction(t)?t:function(e){return e.get(t)};return u.sortedIndex(this.models,e,i,n)},pluck:function(e){return u.invoke(this.models,"get",e)},fetch:function(e){e=e?u.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?u.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(r){t.wait&&n.add(e,t),i&&i(e,r,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof v)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var x=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(x,function(e){y.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var w=["groupBy","countBy","sortBy"];u.each(w,function(e){y.prototype[e]=function(t,n){var i=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,i,n)}});var _=t.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},C=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];u.extend(_.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(u.isFunction(n)||(n=this[e[t]]),n){var i=t.match(C),r=i[1],a=i[2];n=u.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,n):this.$el.on(r,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,T)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"),!1);else{var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className"));var n=t.$("<"+u.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,i){var r=k[e];
u.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:r,dataType:"json"};if(i.url||(a.url=u.result(n,"url")||D()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",i.emulateJSON&&(a.data._method=r);var o=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"!==a.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var s=i.xhr=t.ajax(u.extend(a,i));return n.trigger("request",n,s,i),s};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,A=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(E.prototype,c,{initialize:function(){},route:function(e,n,i){u.isRegExp(e)||(e=this._routeToRegExp(e)),u.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return t.history.route(e,function(a){var o=r._extractParameters(e,a);i&&i.apply(r,o),r.trigger.apply(r,["route:"+n].concat(o)),r.trigger("route",n,o),t.history.trigger("route",r,n,o)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=u.result(this,"routes");for(var e,t=u.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(P,"\\$&").replace(S,"(?:$1)?").replace(N,function(e,t){return t?e:"([^/]+)"}).replace(A,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return u.map(n,function(e){return e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,$=/^\/+|\/+$/g,O=/msie [\w.]+/,F=/\/$/;M.started=!1,u.extend(M.prototype,c,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(F,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(I,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=O.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace($,"/"),r&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location,o=a.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&a.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!M.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new M;var L=function(e,t){var n,i=this;n=e&&u.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},u.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&u.extend(n.prototype,e),n.__super__=i.prototype,n};v.extend=y.extend=E.extend=_.extend=M.extend=L;var D=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this)},{underscore:86}],86:[function(e,t,n){!function(){var e=this,i=e._,r={},a=Array.prototype,o=Object.prototype,s=Function.prototype,l=a.push,u=a.slice,c=a.concat,p=o.toString,h=o.hasOwnProperty,d=a.forEach,f=a.map,v=a.reduce,m=a.reduceRight,g=a.filter,y=a.every,b=a.some,j=a.indexOf,x=a.lastIndexOf,w=Array.isArray,_=Object.keys,C=s.bind,T=function(e){return e instanceof T?e:this instanceof T?(this._wrapped=e,void 0):new T(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=T),n._=T):e._=T,T.VERSION="1.5.1";var k=T.each=T.forEach=function(e,t,n){if(null!=e)if(d&&e.forEach===d)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(t.call(n,e[i],i,e)===r)return}else for(var o in e)if(T.has(e,o)&&t.call(n,e[o],o,e)===r)return};T.map=T.collect=function(e,t,n){var i=[];return null==e?i:f&&e.map===f?e.map(t,n):(k(e,function(e,r,a){i.push(t.call(n,e,r,a))}),i)};var E="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),v&&e.reduce===v)return i&&(t=T.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(k(e,function(e,a,o){r?n=t.call(i,n,e,a,o):(n=e,r=!0)}),!r)throw new TypeError(E);return n},T.reduceRight=T.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return i&&(t=T.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=T.keys(e);a=o.length}if(k(e,function(s,l,u){l=o?o[--a]:--a,r?n=t.call(i,n,e[l],l,u):(n=e[l],r=!0)}),!r)throw new TypeError(E);return n},T.find=T.detect=function(e,t,n){var i;return S(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},T.filter=T.select=function(e,t,n){var i=[];return null==e?i:g&&e.filter===g?e.filter(t,n):(k(e,function(e,r,a){t.call(n,e,r,a)&&i.push(e)}),i)},T.reject=function(e,t,n){return T.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},T.every=T.all=function(e,t,n){t||(t=T.identity);var i=!0;return null==e?i:y&&e.every===y?e.every(t,n):(k(e,function(e,a,o){return(i=i&&t.call(n,e,a,o))?void 0:r}),!!i)};var S=T.some=T.any=function(e,t,n){t||(t=T.identity);var i=!1;return null==e?i:b&&e.some===b?e.some(t,n):(k(e,function(e,a,o){return i||(i=t.call(n,e,a,o))?r:void 0}),!!i)};T.contains=T.include=function(e,t){return null==e?!1:j&&e.indexOf===j?-1!=e.indexOf(t):S(e,function(e){return e===t})},T.invoke=function(e,t){var n=u.call(arguments,2),i=T.isFunction(t);return T.map(e,function(e){return(i?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t,n){return T.isEmpty(t)?n?void 0:[]:T[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.findWhere=function(e,t){return T.where(e,t,!0)},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return k(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;o>i.computed&&(i={value:e,computed:o})}),i.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return k(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;o<i.computed&&(i={value:e,computed:o})}),i.value},T.shuffle=function(e){var t,n=0,i=[];return k(e,function(e){t=T.random(n++),i[n-1]=i[t],i[t]=e}),i};var N=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var i=N(t);return T.pluck(T.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var A=function(e,t,n,i){var r={},a=N(null==t?T.identity:t);return k(e,function(t,o){var s=a.call(n,t,o,e);i(r,s,t)}),r};T.groupBy=function(e,t,n){return A(e,t,n,function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)})},T.countBy=function(e,t,n){return A(e,t,n,function(e,t){T.has(e,t)||(e[t]=0),e[t]++})},T.sortedIndex=function(e,t,n,i){n=null==n?T.identity:N(n);for(var r=n.call(i,t),a=0,o=e.length;o>a;){var s=a+o>>>1;n.call(i,e[s])<r?a=s+1:o=s}return a},T.toArray=function(e){return e?T.isArray(e)?u.call(e):e.length===+e.length?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},T.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},T.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var P=function(e,t,n){return t&&T.every(e,T.isArray)?c.apply(n,e):(k(e,function(e){T.isArray(e)||T.isArguments(e)?t?l.apply(n,e):P(e,t,n):n.push(e)}),n)};T.flatten=function(e,t){return P(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,i){T.isFunction(t)&&(i=n,n=t,t=!1);var r=n?T.map(e,n,i):e,a=[],o=[];return k(r,function(n,i){(t?i&&o[o.length-1]===n:T.contains(o,n))||(o.push(n),a.push(e[i]))}),a},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=c.apply(a,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){for(var e=T.max(T.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=T.pluck(arguments,""+n);return t},T.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},T.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=T.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(j&&e.indexOf===j)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},T.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(x&&e.lastIndexOf===x)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=new Array(i);i>r;)a[r++]=e,e+=n;return a};var M=function(){};T.bind=function(e,t){var n,i;if(C&&e.bind===C)return C.apply(e,u.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=u.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(u.call(arguments)));M.prototype=e.prototype;var r=new M;M.prototype=null;var a=e.apply(r,n.concat(u.call(arguments)));return Object(a)===a?a:r}},T.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},T.bindAll=function(e){var t=u.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return k(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var i=t.apply(this,arguments);return T.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t,n){var i,r,a,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,o=null,a=e.apply(i,r)};return function(){var u=new Date;s||n.leading!==!1||(s=u);var c=t-(u-s);return i=this,r=arguments,0>=c?(clearTimeout(o),o=null,s=u,a=e.apply(i,r)):o||n.trailing===!1||(o=setTimeout(l,c)),a}},T.debounce=function(e,t,n){var i,r=null;return function(){var a=this,o=arguments,s=function(){r=null,n||(i=e.apply(a,o))},l=n&&!r;return clearTimeout(r),r=setTimeout(s,t),l&&(i=e.apply(a,o)),i}},T.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},T.wrap=function(e,t){return function(){var n=[e];return l.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},T.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&t.push(n);return t},T.values=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push(e[n]);return t},T.pairs=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push([n,e[n]]);return t},T.invert=function(e){var t={};for(var n in e)T.has(e,n)&&(t[e[n]]=n);return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return k(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=c.apply(a,u.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=c.apply(a,u.call(arguments,1));for(var i in e)T.contains(n,i)||(t[i]=e[i]);return t},T.defaults=function(e){return k(u.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var I=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var r=p.call(e);if(r!=p.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return i[a]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!(T.isFunction(o)&&o instanceof o&&T.isFunction(s)&&s instanceof s))return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==r){if(l=e.length,u=l==t.length)for(;l--&&(u=I(e[l],t[l],n,i)););}else{for(var c in e)if(T.has(e,c)&&(l++,!(u=T.has(t,c)&&I(e[c],t[c],n,i))))break;if(u){for(c in t)if(T.has(t,c)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};T.isEqual=function(e,t){return I(e,t,[],[])},T.isEmpty=function(e){if(null==e)return!0;if(T.isArray(e)||T.isString(e))return 0===e.length;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=w||function(e){return"[object Array]"==p.call(e)},T.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return p.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!(!e||!T.has(e,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(e){return"function"==typeof e}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==p.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return h.call(e,t)},T.noConflict=function(){return e._=i,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var $={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};$.unescape=T.invert($.escape);var O={escape:new RegExp("["+T.keys($.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys($.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return $[e][t]})}}),T.result=function(e,t){if(null==e)return void 0;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){k(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),R.call(this,n.apply(T,e))}})};var F=0;T.uniqueId=function(e){var t=++F+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){var i;n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(t,n,i,r,s){return o+=e.slice(a,s).replace(H,function(e){return"\\"+D[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return i(t,T);var l=function(e){return i.call(this,e,T)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},T.chain=function(e){return T(e).chain()};var R=function(e){return this._chain?T(e).chain():e};T.mixin(T),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],R.call(this,n)}}),k(["concat","join","slice"],function(e){var t=a[e];T.prototype[e]=function(){return R.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this)},{}],85:[function(e,t){var n,i=e("./core"),r=e("./inflection");n=new function(){var e,t,a=/^\s+/,o=/\s+$/,s=/^\s+|\s+$/g,l=/\n|\r|\r\n/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");e=function(e){return function(t){var n=t;("undefined"==typeof n||null===n||!n&&isNaN(n))&&(n=""),n=n.toString();var i,r,a;for(a in u)i="to"==e?a:u[a],r="to"==e?u[a]:a,n=n.replace(new RegExp(i,"gm"),r);return n}},t=function(e){return function(t){var n,i="";for(n in u)i+="to"==e?n:u[n],i+="|";return i=i.substr(0,i.length-1),i=new RegExp(i,"gm"),i.test(t)}},this.escapeXML=e("to"),this.unescapeXML=e("from"),this.needsEscape=t("to"),this.needsUnescape=t("from"),this.escapeRegExpChars=function(){var e=["^","$","/",".","*","+","?","|","(",")","[","]","{","}","\\"];return sRE=new RegExp("(\\"+e.join("|\\")+")","g"),function(e){var t=e||"";return t=String(t),t.replace(sRE,"\\$1")}}.call(this),this.toArray=function(e){var t=e||"",n=[],i=-1;for(t=String(t);++i<t.length;)n.push(t.substr(i,1));return n},this.reverse=function(e){var t=e||"";return t=String(t),this.toArray(t).reverse().join("")},this.ltrim=function(e,t){var n=e||"",i=t?new RegExp("^"+t+"+"):a;return n=String(n),n.replace(i,"")},this.rtrim=function(e,t){var n=e||"",i=t?new RegExp(t+"+$"):o;return n=String(n),n.replace(i,"")},this.chomp=this.rtrim,this.trim=function(e,t){var n=e||"",i=t?new RegExp("^"+t+"+|"+t+"+$","g"):s;return n=String(n),n.replace(i,"")},this.chop=function(e){var t,n=e||"";return n=String(n),n.length?(t=n.indexOf("\r\n"),t==n.length-2?n.substring(0,t):n.substring(0,n.length-1)):""},this.lpad=function(e,t,n){var n,i=e||"";for(i=String(i),n=parseInt(n,10)||i.length,t=t||" ";i.length<n;)i=t+i;return i},this.rpad=function(e,t,n){var n,i=e||"";for(i=String(i),n=parseInt(n,10)||i.length,t=t||" ";i.length<n;)i+=t;return i},this.pad=function(e,t,n){var n,i=e||"";for(i=String(i),n=parseInt(n,10)||i.length,t=t||" ";i.length<n;)i=t+i+t;return i},this.truncate=function(e,t,n){var i,r,a,o,s,l,u,c,p,h,d,f=e||"";if(f=String(f),i=f.length,r="number"==typeof t?{length:t}:t||{},r.length=r.length||i,r.omission=r.omission||r.ellipsis||"...",a=r.length-r.omission.length,r.seperator){if(r.seperator instanceof RegExp){for(r.seperator.global?r.seperator=r.seperator:(s=r.seperator.ignoreCase?"i":"",l=r.seperator.multiLine?"m":"",r.seperator=new RegExp(r.seperator.source,"g"+s+l)),u=f.substring(0,a+1),c=-1,p=0;h=r.seperator.exec(u);)c=h.index,r.seperator.lastIndex=++p;o=c}else o=f.lastIndexOf(r.seperator,a);-1===o&&(o=a)}else o=a;return i<r.length?f:(d=f.substring(0,o)+r.omission,d+=n&&"function"==typeof n?n():"")},this.truncateHTML=function(e,t,n){var i=e||"",r="",a=t;if(i=String(i),"number"==typeof a){var o=a;a={},a.length=o}else a=a||{};a.once=a.once||!1;for(var s,l,u,c,p=/(<[^>]*>)/,h=[],d=!1,f=p.exec(i);f;)l=f.index,u=p.lastIndex,0!==l&&(h.push(i.substring(0,l)),i=i.slice(l)),h.push(f[0]),i=i.slice(f[0].length),f=p.exec(i);for(""!==i&&h.push(i),c=-1;++c<h.length;)switch(s=h[c],!0){case 0==s.indexOf("</"):r+=s,openTag=null;break;case 0==s.indexOf("<"):r+=s,openTag=s;break;default:a.once&&d?r+=s:(r+=this.truncate(s,a,n),d=!0)}return r},this.nl2br=function(e){var t=e||"";return t=String(t),t.replace(l,"<br />")},this.snakeize=function(){var e=/([A-Z]+)/g,t=/^_/g;return function(n,i){var r=n||"",a=i||"_",o=i?new RegExp("^"+a,"g"):t;return r=String(r),r.replace(e,a+"$1").toLowerCase().replace(o,"")}}.call(this),this.underscorize=this.snakeize,this.underscoreize=this.snakeize,this.decamelize=this.snakeize,this.camelize=function(){var e=/[-_](\w)/g;return function(t,n){var r,a=t||"",o={initialCap:!1,leadingUnderscore:!1},s=n||{};return a=String(a),"boolean"==typeof s?o={initialCap:!0}:i.mixin(o,s),r=a.replace(e,function(e,t){return t.toUpperCase()}),o.leadingUnderscore&0===a.indexOf("_")&&(r="_"+this.decapitalize(r)),r=o.initialCap?this.capitalize(r):this.decapitalize(r)}}.call(this),this.decapitalize=function(e){var t=e||"";return t=String(t),t.substr(0,1).toLowerCase()+t.substr(1)},this.capitalize=function(e){var t=e||"";return t=String(t),t.substr(0,1).toUpperCase()+t.substr(1)},this.dasherize=function(e,t){var n=t||"-";return this.snakeize(e,n)},this.include=function(e,t){var i=t;return i||"string"==typeof n?(i=String(i),e.indexOf(i)>-1):!1},this.getInflections=function(e){if(e){var t=this,n=this.snakeize(r.pluralize(e)),i=r.singularize(n),a=r.pluralize(n);return{filename:{singular:i,plural:a},constructor:{singular:t.camelize(i,{initialCap:!0}),plural:t.camelize(a,{initialCap:!0})},property:{singular:t.camelize(i),plural:t.camelize(a)}}}},this.getInflection=function(e,t,n){var i=this.getInflections(e);return i[t][n]},this.uuid=function(e,t){var n,i,r=c,a=[];if(t=t||r.length,e)for(i=-1;++i<e;)a[i]=r[0|Math.random()*t];else for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",i=-1;++i<36;)a[i]||(n=0|16*Math.random(),a[i]=r[19==i?8|3&n:n]);return a.join("")}},t.exports=n},{"./core":87,"./inflection":88}],87:[function(e,t){var n=new function(){var e=function(t,n,i,r){for(var a in n)(n.hasOwnProperty(a)||r)&&(!i||"object"!=typeof n[a]||null===n[a]||n[a]instanceof Array?t[a]=n[a]:(void 0==t[a]&&(t[a]={}),e(t[a],n[a],i,r)))};this.mixin=function(){var t,n,i=Array.prototype.slice.apply(arguments),r=!1;i.length>2&&"boolean"==typeof i[i.length-1]&&(r=i.pop()),t=i.shift(),n=i;for(var a=0,o=n.length;o>a;a++)e(t,n[a],r);return t},this.enhance=function(){var t,n,i=Array.prototype.slice.apply(arguments),r=!1;i.length>2&&"boolean"==typeof i[i.length-1]&&(r=i.pop()),t=i.shift(),n=i;for(var a=0,o=n.length;o>a;a++)e(t,n[a],r,!0);return t},this.isEmpty=function(e){return""===e||void 0==e?!0:"number"==typeof e&&isNaN(e)?!0:e instanceof Date&&isNaN(e.getTime())?!0:!1}};t.exports=n},{}],88:[function(e,t){var n=new function(){this.inflections={plurals:[],singulars:[],uncountables:[]};var e,t,n,i,r,a=this;e=function(e,t,n){a.inflections[e].unshift([t,n])},t=function(t,n){e("plurals",t,n)},n=function(t,n){e("singulars",t,n)},r=function(e,i){e.substr(0,1).toUpperCase()==i.substr(0,1).toUpperCase()?(t(new RegExp("("+e.substr(0,1)+")"+e.substr(1)+"$","i"),"$1"+i.substr(1)),t(new RegExp("("+i.substr(0,1)+")"+i.substr(1)+"$","i"),"$1"+i.substr(1)),n(new RegExp("("+i.substr(0,1)+")"+i.substr(1)+"$","i"),"$1"+e.substr(1))):(t(new RegExp(e.substr(0,1).toUpperCase()+e.substr(1)+"$"),i.substr(0,1).toUpperCase()+i.substr(1)),t(new RegExp(e.substr(0,1).toLowerCase()+e.substr(1)+"$"),i.substr(0,1).toLowerCase()+i.substr(1)),t(new RegExp(i.substr(0,1).toUpperCase()+i.substr(1)+"$"),i.substr(0,1).toUpperCase()+i.substr(1)),t(new RegExp(i.substr(0,1).toLowerCase()+i.substr(1)+"$"),i.substr(0,1).toLowerCase()+i.substr(1)),n(new RegExp(i.substr(0,1).toUpperCase()+i.substr(1)+"$"),e.substr(0,1).toUpperCase()+e.substr(1)),n(new RegExp(i.substr(0,1).toLowerCase()+i.substr(1)+"$"),e.substr(0,1).toLowerCase()+e.substr(1)))},i=function(e){a.inflections.uncountables[e]=!0},function(){t(/$/,"s"),t(/s$/i,"s"),t(/(ax|test)is$/i,"$1es"),t(/(octop|vir)us$/i,"$1i"),t(/(alias|status)$/i,"$1es"),t(/(bu)s$/i,"$1ses"),t(/(buffal|tomat)o$/i,"$1oes"),t(/([ti])um$/i,"$1a"),t(/sis$/i,"ses"),t(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),t(/(hive)$/i,"$1s"),t(/([^aeiouy]|qu)y$/i,"$1ies"),t(/(x|ch|ss|sh)$/i,"$1es"),t(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),t(/([m|l])ouse$/i,"$1ice"),t(/^(ox)$/i,"$1en"),t(/(quiz)$/i,"$1zes"),n(/s$/i,""),n(/ss$/i,"ss"),n(/(n)ews$/i,"$1ews"),n(/([ti])a$/i,"$1um"),n(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"),n(/(^analy)ses$/i,"$1sis"),n(/([^f])ves$/i,"$1fe"),n(/(hive)s$/i,"$1"),n(/(tive)s$/i,"$1"),n(/([lr])ves$/i,"$1f"),n(/([^aeiouy]|qu)ies$/i,"$1y"),n(/(s)eries$/i,"$1eries"),n(/(m)ovies$/i,"$1ovie"),n(/(x|ch|ss|sh)es$/i,"$1"),n(/([m|l])ice$/i,"$1ouse"),n(/(bus)es$/i,"$1"),n(/(o)es$/i,"$1"),n(/(shoe)s$/i,"$1"),n(/(cris|ax|test)es$/i,"$1is"),n(/(octop|vir)i$/i,"$1us"),n(/(alias|status)es$/i,"$1"),n(/^(ox)en/i,"$1"),n(/(vert|ind)ices$/i,"$1ex"),n(/(matr)ices$/i,"$1ix"),n(/(quiz)zes$/i,"$1"),n(/(database)s$/i,"$1"),r("person","people"),r("man","men"),r("child","children"),r("sex","sexes"),r("move","moves"),r("cow","kine"),i("equipment"),i("information"),i("rice"),i("money"),i("species"),i("series"),i("fish"),i("sheep"),i("jeans")}(),this.parse=function(e,t){var n=t.toLowerCase(),i=this.inflections[e];if(this.inflections.uncountables[n])return t;for(var r=-1;++r<i.length;){var a=i[r][0],o=i[r][1];if(a.test(t))return t.replace(a,o)}return t},this.pluralize=function(e){return this.parse("plurals",e)},this.singularize=function(e){return this.parse("singulars",e)}};t.exports=n},{}],21:[function(e,t){!function(){var n=e("../../base"),i=e("../../layout/navbar.js"),r=e("../../layout/footer.js"),a=e("lodash"),o=e("../../../helpers/BackboneLoader"),s=n.extend({template:e("../../../templates/routes/pages/create.hbs"),events:{submit:"performSave","click a.app":"handleAppLink"},initialize:function(e){this.app=e.app,this.model=this.app.db.createModel("page"),this.listenTo(this.model,"invalid",function(e,t){this.app.error(this.model,t)},this),this.listenTo(this.app.getUser(),"change",this.render,this),this.toggleContact=a.bind(this.toggleContact,this)},remove:function(){this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact),o.View.prototype.remove.apply(this,arguments)},afterRender:function(){var e,t=new i({app:this.app}),n=new r({app:this.app});this.appendSubview(t,this.$("#header")),this.appendSubview(n,this.$("#footer")),this.eachSubview(function(e){e.render()}),e=this.$("input[name=name]"),""==e.val().replace(/]w/,"")&&e.val("").focus(),this.$(".switch").bootstrapSwitch(),this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact)},context:function(){var e,t=this.app.getCustomization();return t&&t.attributes&&t.attributes.config?(e=t.attributes.config,this.getContext({showContact:e.showContact?e.showContact.value:!1})):this.getContext({showContact:!1})},performSave:function(e){var t=this;e.preventDefault();var n=this.$("input[name=name]").val();t.model.save({userId:t.app.getUser().id,name:n,priority:t.app.db.fetchCollection("pages").length},{success:function(){t.app.db.fetchCollection("pages").add(t.model),t.app.navigate("page/"+n,{trigger:!0})},error:t.app.error})},toggleContact:function(e){var t=this,n=this.$("input[name=showContact]").parent().hasClass("switch-on"),i=this.app.getCustomization(),r=i.attributes.config;e.stopPropagation(),e.preventDefault(),this.app.setFlash("info","Turning contact page "+(n?"on":"off")+"..."),r.showContact||(r.showContact={type:"boolean",name:"Show Contact Page","default":!1}),r.showContact.value=n,i.set("config",r),i.save({},{success:function(){t.app.setFlash("success","Your contact page has been turned "+(n?"on":"off")),t.render()},error:t.app.error})}});t.exports=s}()},{"../../../helpers/BackboneLoader":43,"../../../templates/routes/pages/create.hbs":89,"../../base":56,"../../layout/footer.js":54,"../../layout/navbar.js":53,lodash:46}],31:[function(e,t){!function(){var n=e("../../base"),i=e("lodash"),r=e("../../layout/navbar.js"),a=e("../../layout/footer.js"),o=e("../../../helpers/lib/holder.js"),s=n.extend({template:e("../../../templates/routes/media/pick.hbs"),events:{"click .reelgrid a":"appendMedia"},initialize:function(e){this.app=e.app,this.page=this.app.db.createModel("page").set({name:"Loading..."}),this.images=this.app.db.fetchCollection("images"),this.videos=this.app.db.fetchCollection("videos");var t=this.app.db.fetchCollection("pages");this.listenTo(this.images,"add remove change sort",this.render,this),this.listenTo(this.videos,"add remove change sort",this.render,this),this.listenTo(this.app.getUser(),"change",this.render,this),t.once("ready",function(){var n=t.find(function(t){return t.attributes.name.toLowerCase()===e.pageName.toLowerCase()});n?(this.page=n,this.listenTo(this.page,"change ready",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var e=new r({app:this.app}),t=new a({app:this.app});this.appendSubview(e,this.$("#header")),this.appendSubview(t,this.$("#footer")),this.eachSubview(function(e){e.render()}),o.run()
},context:function(){var e=[],t=encodeURIComponent(this.page.attributes.name);return this.images&&this.images.forEach(function(n){e.push(n.templateVars(t))}),this.videos&&this.videos.forEach(function(n){e.push(n.templateVars(t))}),this.getContext({media:e,page:this.page.attributes,uploadUrl:"page/"+t+"/addMedia"})},appendMedia:function(e){e.preventDefault(),e.stopPropagation();for(var t,n,r=this,a=r.page.attributes?encodeURIComponent(r.page.attributes.name):"undefined",o=e.target;"a"!=o.tagName.toLowerCase();)o=o.parentElement;o=$(o),r.app.setFlash("info","Adding to page..."),n=this.app.db.fetchModel(o.attr("data-media-type"),o.attr("data-media-id")),n.once("ready",function(){"Loading..."!==r.page.attributes.name?(t=i.clone(r.page.attributes.items),t.push({ID:n.id,NAME:n.attributes.name,TYPE:n.attributes.type.toLowerCase(),THUMB:n.templateVars().thumbnailUrl}),r.page.save({items:t},{success:function(){r.app.navigate("page/"+a,{trigger:!0}),r.app.setFlash("success","Added!")},error:r.app.error})):r.app.error("Please wait for the page to load before picking a media file")})}});t.exports=s}()},{"../../../helpers/lib/holder.js":63,"../../../templates/routes/media/pick.hbs":90,"../../base":56,"../../layout/footer.js":54,"../../layout/navbar.js":53,lodash:46}],35:[function(e,t){!function(){var n=e("../../base"),i=e("lodash"),r=e("../../layout/navbar.js"),a=e("../../layout/footer.js"),o=e("../../routes/media/thumb.js"),s=n.extend({template:e("../../../templates/routes/media/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.upload":"performPick","click a.crop":"performCapture","click a.capture":"performCapture","click a.app":"handleAppLink","click a.choose":"performChoose"},initialize:function(e){this.app=e.app,this.mediaType=e.mediaType,this.mediaId=e.mediaId,this.showThumbnailPicker=!1,this.media=this.app.db.fetchModel(e.mediaType,e.mediaId),this.listenTo(this.app.getUser(),"change",this.render,this),this.listenTo(this.media,"change",this.render,this),this.listenTo(this.media,"invalid",function(){this.app.error(this.media.validationError)},this),this.renderOnReady(this.media)},afterRender:function(){var e=new r({app:this.app}),t=new o({app:this.app,mediaType:this.mediaType,mediaId:this.mediaId}),n=new a({app:this.app});this.appendSubview(e,this.$("#header")),this.media.attributes&&2===this.media.attributes.status&&this.appendSubview(t,this.$("#thumber")),this.appendSubview(n,this.$("#footer")),this.eachSubview(function(e){e.render()}),i.defer(function(){this.$("div.tagsinput").remove(),this.$("input[name=attribs]").tagsInput(),this.$("legend span").popover({placement:"right",trigger:"hover",html:!0})},this),this.$("#useOriginalButton").button("reset"),this.$("#useCaptureButton").button("reset")},context:function(){return this.getContext({media:this.media.templateVars(),isEncoded:2===this.media.attributes.status,showThumbnailPicker:this.showThumbnailPicker})},readInput:function(e){var t=this.readAttributes();e&&e.preventDefault(),this.media.set(t)},readAttributes:function(){return{name:this.$("input[name=name]").val(),attribs:this.$("input[name=attribs]").val().split(",")}},performSave:function(e){var t=this;e.preventDefault();var n=this.$("input[name=name]").val(),i=this.$("input[name=attribs]").val().split(",");this.app.clearFlash(),this.media.save({userId:t.app.getUser().attributes.id,name:n,attribs:i},{success:function(){t.app.db.fetchCollection("unprocessedUploads").fetch({success:function(){var e=t.media.attributes.type.charAt(0).toUpperCase();e+=t.media.attributes.type.substr(1),t.app.setFlash("success",e+" Saved!")},error:t.app.error})},error:t.app.error})},performDelete:function(e){e.preventDefault(),e.stopPropagation();var t=this,n=confirm("Are you sure you want to delete "+t.media.attributes.name+"?");return n?(filepicker.remove(t.media.fpfile(),{policy:t.app.getUser().attributes.policy,signature:t.app.getUser().attributes.signature},function(){t.media.destroy({success:function(){t.app.navigate("",{trigger:!0})},error:t.app.error})},t.app.error),void 0):!1},performPick:function(e){e.preventDefault(),e.stopPropagation(),this.app.clearFlash(),this.media.pickThumbnail()},performCapture:function(e){e.preventDefault(),e.stopPropagation(),this.app.clearFlash(),this.app.trigger("captureThumbnail",this.mediaType,this.mediaId,this.readAttributes()),this.$("#useCaptureButton").button("loading")},performChoose:function(e){e.preventDefault(),e.stopPropagation(),this.showThumbnailPicker=!0,this.render()}});t.exports=s}()},{"../../../templates/routes/media/edit.hbs":91,"../../base":56,"../../layout/footer.js":54,"../../layout/navbar.js":53,"../../routes/media/thumb.js":81,lodash:46}],27:[function(e,t){!function(){var n=e("async"),i=e("../../base"),r=e("../../layout/navbar.js"),a=e("../../layout/footer.js"),o=i.extend({template:e("../../../templates/routes/pages/reorder.hbs"),events:{submit:"performSave"},initialize:function(e){this.app=e.app,this.pages=this.app.db.fetchCollection("pages"),this.renderOnReady(this.pages)},context:function(){var e=this.pages.map(function(e){return e.attributes});return this.getContext({pages:e})},afterRender:function(){var e=this,t=new r({app:e.app}),n=new a({app:e.app});e.appendSubview(t,e.$("#header")),e.appendSubview(n,e.$("#footer")),e.eachSubview(function(e){e.render()}),e.$(".sortable").sortable().bind("sortupdate",function(){})},readSortOrder:function(){var e=this,t=e.$(".sortable").children(),i=[],r=[];t.each(function(t,n){var a=e.pages.get($(n).attr("data-uuid"));a.set("priority",t),i.push(a),r.push(function(e){a.save({},{success:e})})}),e.pages.reset(i).sort(),n.parallel(r,function(){e.app.setFlash("success","Page order saved!"),e.$("button").button("reset")})},performSave:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.app.clearFlash(),this.$("button").button("loading"),this.readSortOrder()}});t.exports=o}()},{"../../../templates/routes/pages/reorder.hbs":92,"../../base":56,"../../layout/footer.js":54,"../../layout/navbar.js":53,async:93}],33:[function(e,t){!function(){var n=e("../../base"),i=e("lodash"),r=e("js-thumb"),a=e("./carousel"),o=(e("videojs"),n.extend({template:e("../../../templates/routes/media/show.hbs"),events:{},initialize:function(e){this.app=e.app,this.pageName=e.pageName,this.mediaType=e.mediaType,this.mediaId=e.mediaId,this.media=this.app.db.fetchModel(e.mediaType,e.mediaId),this.media.id&&this.media.fetch(),this.listenTo(this.app.getUser(),"change",this.render,this),this.listenTo(this.media,"change",this.render,this),this.fetchPage(e.pageName,function(){this.render()})},afterRender:function(){var e=this,t=this.media.templateVars(),n=new a({app:this.app,pageName:this.pageName}),o=function(t,n,i){t?e.app.error(t):i.on("ended",function(){e.app.trigger("videoEnded",e.media)})};this.appendSubview(n,this.$("#carouselWrapper")),this.eachSubview(function(e){e.render()}),i.defer(function(){e.media&&e.media.attributes&&"video"===e.media.attributes.type.toLowerCase()&&2===e.media.attributes.status&&(e.$("#vid_placeholder").empty(),r.loadVideo(e.$("#vid_placeholder")[0],{vjs:{autoplay:!0},attributes:{center:!0,resize:{maxWidth:960,upscale:!1},width:e.media.attributes.width||960,height:e.media.attributes.height||540},sources:[{src:t.hdUrl,type:e.app.util.mime("video/mp4")}]},o))})},context:function(){return this.getContext({media:this.media.templateVars()})}}));t.exports=o}()},{"../../../templates/routes/media/show.hbs":94,"../../base":56,"./carousel":83,"js-thumb":47,lodash:46,videojs:79}],49:[function(e,t){!function(){var n=e("./base"),i=e("../helpers/BackboneLoader.js"),r=e("lodash"),a=e("utilities/lib/string"),o=n.extend({name:"media",urlRoot:function(){return this.app.config.baseUrl+"/Media_is_an_abstract_class_do_not_use_it"},defaults:{name:"Untitled",s3key:null,fpkey:null,mimeType:null,originalFilesize:null,userId:null,thumbnailS3key:null,thumbnailFpkey:null,width:1280,height:720,attribs:[],reviewIssue:null,status:0,type:"unknown"},validate:function(e){var t=[];return e.name&&0!=e.name.length||t.push({attr:"name",message:"Media name cannot be empty"}),t.length?t:void 0},toJSON:function(){return incoming=r.clone(this.attributes),incoming.attribs&&(incoming.userAttributes=JSON.stringify(incoming.attribs)),incoming},sync:function(e,t,n){var r=this,a=function(){!t.attributes.thumbnailS3key&&t.attributes.thumbnailFpkey&&t.attributes.debug!==!0?filepicker.stat(r.thumbnailFpfile(),{path:!0,policy:r.app.db.fetchModel("user").attributes.policy,signature:r.app.db.fetchModel("user").attributes.signature},function(r){t.set("thumbnailS3key",r.path),i.sync(e,t,n)}):i.sync(e,t,n)};!t.attributes.s3key&&t.attributes.fpkey&&t.attributes.debug!==!0?filepicker.stat(r.fpfile(),{path:!0,policy:r.app.db.fetchModel("user").attributes.policy,signature:r.app.db.fetchModel("user").attributes.signature},function(e){t.set("s3key",e.path),a()}):a()},destroy:function(e){var t=this;if(1===this.attributes.status)t.app.setFlash("error","Please wait until encoding is finished to delete this");else{if(e.success){var n=e.success;e.success=function(){t.app.db.fetchCollection("unprocessedUploads").fetch(),t.app.db.fetchCollection("images").fetch(),t.app.db.fetchCollection("videos").fetch(),n&&n()}}i.sync("delete",this,e)}},parse:function(e){try{e.attribs=JSON.parse(e.userAttributes)}catch(t){e.attribs=[]}finally{delete e.userAttributes}return e},pickThumbnail:function(){var e=this;filepicker.pick({extensions:e.app.config.imageExts,path:e.app.db.fetchModel("user").attributes.path+a.uuid(10),signature:e.app.db.fetchModel("user").attributes.signature,policy:e.app.db.fetchModel("user").attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP","URL","IMAGE_SEARCH"]},function(t){e.cropThumbnail(t)},function(t){101!==t.code&&e.app.error(t)})},cropThumbnail:function(e,t){var n=this;e||(e=n.fpfile()),t||n.app.setFlash("info","Please wait while we process the image..."),filepicker.convert(e,{signature:n.app.db.fetchModel("user").attributes.signature,policy:n.app.db.fetchModel("user").attributes.policy,width:n.app.config.thumbnailDims.width,height:n.app.config.thumbnailDims.height,fit:"crop"},{path:n.app.getUser().attributes.path+a.uuid(10),location:"s3",access:"public"},function(e){n.save({thumbnailFpkey:e.url,thumbnailS3key:null,status:2},{success:function(){n.app.db.fetchCollection("unprocessedUploads").fetch(),t?t():n.app.setFlash("success","Thumbnail saved!")},error:function(e,i){t?t(i.responseText):n.app.error.apply(this,arguments)}})},function(e){n.app.error(e)})},useThumbnail:function(e){var t=this;t.app.setFlash("info","Please wait while we process the image..."),filepicker.store(e,{signature:t.app.getUser().attributes.signature,policy:t.app.getUser().attributes.policy,mimetype:"image/png",base64decode:!0,path:t.app.getUser().attributes.path+a.uuid(10),location:"s3",access:"public"},function(e){t.save({thumbnailFpkey:e.url,thumbnailS3key:null},{success:function(){t.app.setFlash("success","Thumbnail saved!"),t.app.db.fetchCollection("unprocessedUploads").fetch()},error:t.app.error})},function(e){t.app.error(e)})},fpfile:function(){return{url:this.attributes.fpkey,filename:this.attributes.name,mimetype:this.attributes.mimeType,isWriteable:!1,size:this.attributes.originalFilesize}},thumbnailFpfile:function(){return{url:this.attributes.thumbnailFpkey}},templateVars:function(e,t){var n=r.clone(this.attributes);switch(t=t===!0,n.s3key?n.url=this.app.config.s3prefix+n.s3key:n.thumbnailUrl=this.app.util.placeholderThumbnail(t),n.thumbnailUrl=n.thumbnailS3key?this.app.config.s3prefix+n.thumbnailS3key:this.app.util.placeholderThumbnail(t),n.isImage="image"===n.type.toLowerCase(),n.isVideo="video"===n.type.toLowerCase(),n.isVideo&&1===n.status&&(n.thumbnailUrl=t?this.app.config.placeholders.encoding.half:this.app.config.placeholders.encoding.full),n.attributeList=n.attribs.join(","),n.attribs=r.map(n.attribs,function(e){return e.replace(/^(.*:)/,"<strong>$1</strong>")}),this.app.isLoggedIn()&&(n.editHref="/media/"+n.type.toLowerCase()+"/"+n.id+"/edit",n.removeHref="/media/"+n.type.toLowerCase()+"/"+n.id+"/remove/"+e),e&&(n.playerUrl="page/"+e+"/"+n.type.toLowerCase()+"/"+n.id),n.status){case 1:n.reviewIssue="Encoding in progress";break;case 2:n.reviewIssue="Encoding completed",n.hdUrl=n.url+"/hd.mp4",n.sdUrl=n.url+"/sd.mp4";break;case 3:n.reviewIssue="Encoding failed"}return n.isEncoding=1===n.status,n}});t.exports=o}()},{"../helpers/BackboneLoader.js":43,"./base":76,lodash:46,"utilities/lib/string":85}],56:[function(e,t){!function(){var n=e("ribcage-view"),i=e("lodash"),r=n.extend({renderOnReady:function(){var e=Array.prototype.slice.call(arguments),t=this,n=e.length,r=function(){n--,0>n&&t.render()};i.each(e,function(e){e.once("ready",r,e)}),r()},fetchPage:function(e,t){var n=this,i="Error 404: The page could not be found";e=e.toLowerCase(),n.page=this.app.db.createModel("page").set({name:"Loading..."}),n.pages=this.app.db.fetchCollection("pages"),n.pages.once("ready",function(){var r,a=n.pages.find(function(t){return t.attributes.name.toLowerCase()===e.toLowerCase()});a?(n.page=a,n.listenTo(n.page,"change",n.render,n)):(n.page.set({name:"404"}),n.app.error(i),r=new Error(i)),t.call(n,r,n.page)})},getContext:function(e){var t=e||{},n={isLoggedIn:this.app.isLoggedIn(),flash:i.clone(this.app.flash),debug:this.app.bootstrap.debug?!0:!1},r=this.app.getUserVars();return i.extend({},r,n,t)},context:function(){return this.getContext()},handleAppLink:function(e){this.app.handleAppLink(e)},events:{"click a.app":"handleAppLink"},beforeRender:function(){this.eachSubview(function(e){e.close()}),this.$el.empty()}});t.exports=r}()},{lodash:46,"ribcage-view":95}],93:[function(e,t){var n=e("__browserify_process");!function(){function e(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(i,arguments)}}var i,r,a={};i=this,null!=i&&(r=i.async),a.noConflict=function(){return i.async=r,a};var o=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},s=function(e,t){if(e.map)return e.map(t);var n=[];return o(e,function(e,i,r){n.push(t(e,i,r))}),n},l=function(e,t,n){return e.reduce?e.reduce(t,n):(o(e,function(e,i,r){n=t(n,e,i,r)}),n)},u=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof n&&n.nextTick?(a.nextTick=n.nextTick,a.setImmediate="undefined"!=typeof setImmediate?setImmediate:a.nextTick):"function"==typeof setImmediate?(a.nextTick=function(e){setImmediate(e)},a.setImmediate=a.nextTick):(a.nextTick=function(e){setTimeout(e,0)},a.setImmediate=a.nextTick),a.each=function(t,n,i){if(i=i||function(){},!t.length)return i();var r=0;o(t,function(a){n(a,e(function(e){e?(i(e),i=function(){}):(r+=1,r>=t.length&&i(null))}))})},a.forEach=a.each,a.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0,r=function(){t(e[i],function(t){t?(n(t),n=function(){}):(i+=1,i>=e.length?n(null):r())})};r()},a.forEachSeries=a.eachSeries,a.eachLimit=function(e,t,n,i){var r=c(t);r.apply(null,[e,n,i])},a.forEachLimit=a.eachLimit;var c=function(e){return function(t,n,i){if(i=i||function(){},!t.length||0>=e)return i();var r=0,a=0,o=0;!function s(){if(r>=t.length)return i();for(;e>o&&a<t.length;)a+=1,o+=1,n(t[a-1],function(e){e?(i(e),i=function(){}):(r+=1,o-=1,r>=t.length?i():s())})}()}},p=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[a.each].concat(t))}},h=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[c(e)].concat(n))}},d=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[a.eachSeries].concat(t))}},f=function(e,t,n,i){var r=[];t=s(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n,i){r[e.index]=i,t(n)})},function(e){i(e,r)})};a.map=p(f),a.mapSeries=d(f),a.mapLimit=function(e,t,n,i){return v(t)(e,n,i)};var v=function(e){return h(e,f)};a.reduce=function(e,t,n,i){a.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n,i(e)})},function(e){i(e,t)})},a.inject=a.reduce,a.foldl=a.reduce,a.reduceRight=function(e,t,n,i){var r=s(e,function(e){return e}).reverse();a.reduce(r,t,n,i)},a.foldr=a.reduceRight;var m=function(e,t,n,i){var r=[];t=s(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&r.push(e),t()})},function(){i(s(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};a.filter=p(m),a.filterSeries=d(m),a.select=a.filter,a.selectSeries=a.filterSeries;var g=function(e,t,n,i){var r=[];t=s(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||r.push(e),t()})},function(){i(s(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};a.reject=p(g),a.rejectSeries=d(g);var y=function(e,t,n,i){e(t,function(e,t){n(e,function(n){n?(i(e),i=function(){}):t()})},function(){i()})};a.detect=p(y),a.detectSeries=d(y),a.some=function(e,t,n){a.each(e,function(e,i){t(e,function(e){e&&(n(!0),n=function(){}),i()})},function(){n(!1)})},a.any=a.some,a.every=function(e,t,n){a.each(e,function(e,i){t(e,function(e){e||(n(!1),n=function(){}),i()})},function(){n(!0)})},a.all=a.every,a.sortBy=function(e,t,n){a.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i})})},function(e,t){if(e)return n(e);var i=function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0};n(null,s(t.sort(i),function(e){return e.value}))})},a.auto=function(e,t){t=t||function(){};var n=u(e);if(!n.length)return t(null);var i={},r=[],s=function(e){r.unshift(e)},c=function(e){for(var t=0;t<r.length;t+=1)if(r[t]===e)return r.splice(t,1),void 0},p=function(){o(r.slice(0),function(e){e()})};s(function(){u(i).length===n.length&&(t(null,i),t=function(){})}),o(n,function(n){var r=e[n]instanceof Function?[e[n]]:e[n],h=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var s={};o(u(i),function(e){s[e]=i[e]}),s[n]=r,t(e,s),t=function(){}}else i[n]=r,a.setImmediate(p)},d=r.slice(0,Math.abs(r.length-1))||[],f=function(){return l(d,function(e,t){return e&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(n)};if(f())r[r.length-1](h,i);else{var v=function(){f()&&(c(v),r[r.length-1](h,i))};s(v)}})},a.waterfall=function(e,t){if(t=t||function(){},e.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var i=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=e.next();o?r.push(i(o)):r.push(t),a.setImmediate(function(){e.apply(null,r)})}}};i(a.iterator(e))()};var b=function(e,t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var i={};e.each(u(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)})},function(e){n(e,i)})}};a.parallel=function(e,t){b({map:a.map,each:a.each},e,t)},a.parallelLimit=function(e,t,n){b({map:v(t),each:c(t)},e,n)},a.series=function(e,t){if(t=t||function(){},e.constructor===Array)a.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};a.eachSeries(u(e),function(t,i){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[t]=r,i(e)})},function(e){t(e,n)})}},a.iterator=function(e){var t=function(n){var i=function(){return e.length&&e[n].apply(null,arguments),i.next()};return i.next=function(){return n<e.length-1?t(n+1):null},i};return t(0)},a.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var j=function(e,t,n,i){var r=[];e(t,function(e,t){n(e,function(e,n){r=r.concat(n||[]),t(e)})},function(e){i(e,r)})};a.concat=p(j),a.concatSeries=d(j),a.whilst=function(e,t,n){e()?t(function(i){return i?n(i):(a.whilst(e,t,n),void 0)}):n()},a.doWhilst=function(e,t,n){e(function(i){return i?n(i):(t()?a.doWhilst(e,t,n):n(),void 0)})},a.until=function(e,t,n){e()?n():t(function(i){return i?n(i):(a.until(e,t,n),void 0)})},a.doUntil=function(e,t,n){e(function(i){return i?n(i):(t()?n():a.doUntil(e,t,n),void 0)})},a.queue=function(t,n){function i(e,t,i,r){t.constructor!==Array&&(t=[t]),o(t,function(t){var o={data:t,callback:"function"==typeof r?r:null};i?e.tasks.unshift(o):e.tasks.push(o),e.saturated&&e.tasks.length===n&&e.saturated(),a.setImmediate(e.process)})}void 0===n&&(n=1);var r=0,s={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(e,t){i(s,e,!1,t)},unshift:function(e,t){i(s,e,!0,t)},process:function(){if(r<s.concurrency&&s.tasks.length){var n=s.tasks.shift();s.empty&&0===s.tasks.length&&s.empty(),r+=1;var i=function(){r-=1,n.callback&&n.callback.apply(n,arguments),s.drain&&0===s.tasks.length+r&&s.drain(),s.process()},a=e(i);t(n.data,a)}},length:function(){return s.tasks.length},running:function(){return r}};return s},a.cargo=function(e,t){var n=!1,i=[],r={tasks:i,payload:t,saturated:null,empty:null,drain:null,push:function(e,n){e.constructor!==Array&&(e=[e]),o(e,function(e){i.push({data:e,callback:"function"==typeof n?n:null}),r.saturated&&i.length===t&&r.saturated()}),a.setImmediate(r.process)},process:function l(){if(!n){if(0===i.length)return r.drain&&r.drain(),void 0;var a="number"==typeof t?i.splice(0,t):i.splice(0),u=s(a,function(e){return e.data});r.empty&&r.empty(),n=!0,e(u,function(){n=!1;var e=arguments;o(a,function(t){t.callback&&t.callback.apply(null,e)}),l()})}},length:function(){return i.length},running:function(){return n}};return r};var x=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&o(n,function(t){console[e](t)}))}]))}};a.log=x("log"),a.dir=x("dir"),a.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var r=function(){var r=Array.prototype.slice.call(arguments),a=r.pop(),o=t.apply(null,r);o in n?a.apply(null,n[o]):o in i?i[o].push(a):(i[o]=[a],e.apply(null,r.concat([function(){n[o]=arguments;var e=i[o];delete i[o];for(var t=0,r=e.length;r>t;t++)e[t].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=e,r},a.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},a.times=function(e,t,n){for(var i=[],r=0;e>r;r++)i.push(r);return a.map(i,t,n)},a.timesSeries=function(e,t,n){for(var i=[],r=0;e>r;r++)i.push(r);return a.mapSeries(i,t,n)},a.compose=function(){var e=Array.prototype.reverse.call(arguments);return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();a.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}};var w=function(e,t){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};a.applyEach=p(w),a.applyEachSeries=d(w),a.forever=function(e,t){function n(i){if(i){if(t)return t(i);throw i}e(n)}n()},"undefined"!=typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof t&&t.exports?t.exports=a:i.async=a}()},{__browserify_process:3}],53:[function(e,t){!function(){var n=e("../base"),i=e("../../helpers/BackboneLoader.js"),r=e("lodash"),a=n.extend({template:e("../../templates/layout/navbar.hbs"),initialize:function(e){this.app=e.app,this.pages=this.app.db.fetchCollection("pages"),this.unprocessed=this.app.db.fetchCollection("unprocessedUploads"),this.listenTo(this.pages,"change add remove sort",this.render,this),this.listenTo(this.unprocessed,"change add remove",this.render,this),this.listenTo(this.app.getUser(),"change",this.render,this),this.listenTo(this.app,"flash",this.render,this),this.renderOnReady(this.pages,this.unprocessed,this.app.getUser())},context:function(){var e,t,n=null,a=null,o=null,s=null,l=null,u=[],c=this.unprocessed.length,p=1===this.unprocessed.length?"":"s",h=1===this.unprocessed.length?"is":"are",d=this.unprocessed.length+" upload"+p+" "+h+" being encoded",f=this.app.getCustomization();return f&&f.attributes&&f.attributes.config&&(e=f.attributes.config,t=e.showContact?e.showContact.value:!1),this.pages.forEach(function(e){if(this.app.isLoggedIn()||e.attributes.isPublished){var t=encodeURIComponent(e.attributes.name),c=r.extend(r.clone(e.attributes),{href:"/page/"+t,editHref:"/page/"+t+"/edit",addHref:"/page/"+t+"/addMedia",active:!1});(i.history.fragment===c.href.replace(/^\//,"")||0==i.history.fragment.indexOf("page/"+t+"/"))&&(c.active=!0,a=c.editHref,o=c.editHref+"/makePublic/immediately",s=c.editHref+"/makePrivate/immediately",n=c.addHref,l=c.isPublished),u.push(c)}},this),this.getContext({pages:u,editPageHref:a,editPageMakePublicHref:o,editPageMakePrivateHref:s,addMediaHref:n,showContact:t,createHref:"/createPage",reviewHref:"/review",reorderHref:"/reorder",hasAtLeastTwoPages:this.pages.length>1,isHome:""===i.history.fragment,isPublished:l,isContact:i.history.fragment.match(/^contact/)?!0:!1,isPage:i.history.fragment.match(/^(edit)?[pP]age\//)?!0:!1,isEditingPage:i.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isAddingMedia:i.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/(addMedia|pickMedia)$/)?!0:!1,isEditingMedia:i.history.fragment.match(/^media\/(image|video)\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isCreatingPage:i.history.fragment.match(/^createPage/)?!0:!1,isReviewingUploads:i.history.fragment.match(/^review/)?!0:!1,isReorderingPages:i.history.fragment.match(/^reorder/)?!0:!1,unprocessedCount:c,unprocessedPrompt:d})},afterRender:function(){this.eachSubview(function(e){e.render()}),this.$(".alert").alert()}});t.exports=a}()},{"../../helpers/BackboneLoader.js":43,"../../templates/layout/navbar.hbs":96,"../base":56,lodash:46}],55:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,o="",s="function",l=this.escapeExpression;return o+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h1 class="title">'+l((a=t.sitetitle,a=null==a||a===!1?a:a.value,typeof a===s?a.apply(t):a))+'</h1>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":97}],57:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e){var t,n="";return n+='\n        <div class="alert alert-info">\n          <h3>Welcome Back, '+h((t=e.user,t=null==t||t===!1?t:t.username,typeof t===p?t.apply(e):t))+'</h3>\n          <p>You\'re now able to edit your website.</p>\n          <a href="/" class="btn btn-info btn-wide app">Go to homepage</a>\n          <a href="/logout" class="btn btn-danger btn-wide app">Log Out</a>\n        </div>\n      '}function o(e,t){var i,r,a="";return a+="\n        ",i=n["if"].call(e,e.debug,{hash:{},inverse:d.noop,fn:d.program(4,s,t),data:t}),(i||0===i)&&(a+=i),a+="\n        ",r=n["if"].call(e,(i=e.user,null==i||i===!1?i:i.error),{hash:{},inverse:d.noop,fn:d.program(6,l,t),data:t}),(r||0===r)&&(a+=r),a+='\n        <form>\n          <div class="control-group">\n            <input type="text" name="username" value="'+h((i=e.user,i=null==i||i===!1?i:i.username,typeof i===p?i.apply(e):i))+'" class="span6" placeholder="Username" />\n          </div>\n          <div class="control-group">\n            <input type="password" name="password" value="" class="span6" placeholder="Password" />\n          </div>\n          <div class="actions">\n            <button type="submit" class="btn btn-primary btn-block">Log In</button>\n          </div>\n        </form>\n      '}function s(){return'\n          <div class="alert alert-info">\n            <h3>Test Account Available</h3>\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\n            <a class="provisionTestAccount btn btn-info btn-block">Create Test Account</a>\n          </div>\n        '}function l(e){var t,n="";return n+='\n          <div class="alert alert-error">\n            '+h((t=e.user,t=null==t||t===!1?t:t.error,typeof t===p?t.apply(e):t))+"\n          </div>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var u,c="",p="function",h=this.escapeExpression,d=this;return c+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3">\n      ',u=n["if"].call(t,t.isLoggedIn,{hash:{},inverse:d.program(3,o,r),fn:d.program(1,a,r),data:r}),(u||0===u)&&(c+=u),c+='\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":97}],58:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,o="",s="function",l=this.escapeExpression;return o+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h2>Sorry!</h2>\n      <p>\n        There are no pages on '+l((a=t.sitetitle,a=null==a||a===!1?a:a.value,typeof a===s?a.apply(t):a))+"'s site yet.\n      </p>\n      <p>\n        <strong>Are you "+l((a=t.sitetitle,a=null==a||a===!1?a:a.value,typeof a===s?a.apply(t):a))+'?</strong><br />\n        Log in with the link in the footer, create a page, and make it public to remove this message.\n      </p>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":97}],59:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,o,s="",l="function",u=this.escapeExpression;return s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3 centered">\n      <form>\n        <fieldset>\n          <legend>Send '+u((a=t.sitetitle,a=null==a||a===!1?a:a.value,typeof a===l?a.apply(t):a))+' A Message</legend>\n          <label class="control-label" for="name">Your Name</label>\n          <input type="text" id="name" name="name" placeholder="John Doe" class="span6" value="',(o=n.nameVal)?o=o.call(t,{hash:{},data:r}):(o=t.nameVal,o=typeof o===l?o.apply(t):o),s+=u(o)+'">\n          <label class="control-label" for="email">Your Email</label>\n          <input type="email" id="email" name="email" placeholder="john@doe.com" class="span6" value="',(o=n.emailVal)?o=o.call(t,{hash:{},data:r}):(o=t.emailVal,o=typeof o===l?o.apply(t):o),s+=u(o)+'">\n          <label class="control-label" for="message">Your Message</label>\n          <textarea id="message" name="message" placeholder="Your Message" rows="5" class="span6">',(o=n.messageVal)?o=o.call(t,{hash:{},data:r}):(o=t.messageVal,o=typeof o===l?o.apply(t):o),s+=u(o)+'</textarea>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success" data-loading-text="Sending...">Send</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":97}],60:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+="\n            <tr>\n              <td><big>",(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===u?i.apply(e):i),r+=c(i)+"</big></td>\n              <td><big>",(i=n.reviewIssue)?i=i.call(e,{hash:{},data:t}):(i=e.reviewIssue,i=typeof i===u?i.apply(e):i),r+=c(i)+"</big></td>\n            </tr>\n          "
}function o(){return'\n            <tr>\n              <td colspan="2">All videos encoded!</td>\n            </tr>\n          '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>File</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          ',s=n.each.call(t,t.unprocessed,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+="\n          ",s=n["if"].call(t,t.nothingToReview,{hash:{},inverse:p.noop,fn:p.program(3,o,r),data:r}),(s||0===s)&&(l+=s),l+='\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":97}],97:[function(e,t){var n={};t.exports=n,function(e,t){e.VERSION="1.0.0",e.COMPILER_REVISION=4,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},e.helpers={},e.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";e.registerHelper=function(t,i,a){if(n.call(t)===r){if(a||i)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else a&&(i.not=a),this.helpers[t]=i},e.registerPartial=function(t,i){n.call(t)===r?e.Utils.extend(this.partials,t):this.partials[t]=i},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,r){var a=r.inverse||function(){},o=r.fn,s=n.call(t);return s===i&&(t=t.call(this)),t===!0?o(this):t===!1||null==t?a(this):"[object Array]"===s?t.length>0?e.helpers.each(t,r):a(this):o(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var i=e.logger.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,r){var a,o=r.fn,s=r.inverse,l=0,u="",c=n.call(t);if(c===i&&(t=t.call(this)),r.data&&(a=e.createFrame(r.data)),t&&"object"==typeof t)if(t instanceof Array)for(var p=t.length;p>l;l++)a&&(a.index=l),u+=o(t[l],{data:a});else for(var h in t)t.hasOwnProperty(h)&&(a&&(a.key=h),u+=o(t[h],{data:a}),l++);return 0===l&&(u=s(this)),u}),e.registerHelper("if",function(t,r){var a=n.call(t);return a===i&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(t,r){var a=n.call(t);return a===i&&(t=t.call(this)),e.Utils.isEmpty(t)?void 0:r.fn(t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)});var a=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;t<a.length;t++)this[a[t]]=e[a[t]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/[&<>"'`]/g,l=/[&<>"'`]/,u=function(e){return o[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":(t=t.toString(),l.test(t)?t.replace(s,u):t)},isEmpty:function(e){return e||0===e?"[object Array]"===n.call(e)&&0===e.length?!0:!1:!0}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,i){var r=this.programs[t];return i?r=e.VM.program(t,n,i):r||(r=this.programs[t]=e.VM.program(t,n)),r},merge:function(t,n){var i=t||n;return t&&n&&(i={},e.Utils.extend(i,n),e.Utils.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var a=t.call(n,e,i,r.helpers,r.partials,r.data),o=n.compilerInfo||[],s=o[0]||1,l=e.COMPILER_REVISION;if(s!==l){if(l>s){var u=e.REVISION_CHANGES[l],c=e.REVISION_CHANGES[s];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+u+") or downgrade your runtime to an older version ("+c+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return a}},programWithDepth:function(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r},program:function(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,a,o,s){var l={helpers:a,partials:o,data:s};if(n===t)throw new e.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,l);if(e.compile)return o[i]=e.compile(n,{data:s!==t}),o[i](r,l);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(n)},{}],89:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>New Media Page</legend>\n          <div class="control-group">\n            <label class="control-label" for="name">Page Title</label>\n            <input type="text" id="name" name="name" placeholder="Untitled Page" value="'+c((o=t.page,o=null==o||o===!1?o:o.name,typeof o===u?o.apply(t):o))+'">\n          </div>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Create</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>Custom Pages</legend>\n          <div class="control-group">\n            <label class="control-label" for="showContact">Show Contact Page?</label>\n            <div class="switch switch-large"\n              data-on-label="Yes"\n              data-off-label="No">\n              <input name="showContact" ',s=n["if"].call(t,t.showContact,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+=' type="checkbox" />\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":97}],62:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{},'<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":97}],64:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+='\n        <fieldset>\n          <legend>Title</legend>\n          <input type="text" id="name" name="name" placeholder="Untitled Page" value="',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===c?i.apply(e):i),r+=p(i)+'">\n        </fieldset>\n        <fieldset>\n          <legend>Visible To Public?</legend>\n          <div class="switch switch-large"\n            data-on-label="Yes"\n            data-off-label="No">\n            <input name="isPublished" ',i=n["if"].call(e,e.isPublished,{hash:{},inverse:h.noop,fn:h.program(2,o,t),data:t}),(i||0===i)&&(r+=i),r+=' type="checkbox" />\n          </div>\n        </fieldset>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <a class="btn btn-danger">Delete</a>\n          </div>\n        </div>\n        '}function o(){return'checked="checked"'}function s(e,t){var i,r="";return r+='\n            <li class="span4" data-uuid="',(i=n.id)?i=i.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===c?i.apply(e):i),r+=p(i)+'">\n              <div class="relfix">\n                <img src="',(i=n.thumbnailUrl)?i=i.call(e,{hash:{},data:t}):(i=e.thumbnailUrl,i=typeof i===c?i.apply(e):i),r+=p(i)+'" alt="',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===c?i.apply(e):i),r+=p(i)+'" class="img-polaroid" />\n                <p class="absfix">\n                  <a href="',(i=n.editHref)?i=i.call(e,{hash:{},data:t}):(i=e.editHref,i=typeof i===c?i.apply(e):i),r+=p(i)+'" class="app btn btn-mini btn-info">Edit</a>\n                </p>\n              </div>\n            </li>\n          '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,u="",c="function",p=this.escapeExpression,h=this;return u+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <form>\n      <div class="span3 centered">\n        ',l=n["with"].call(t,t.page,{hash:{},inverse:h.noop,fn:h.program(1,a,r),data:r}),(l||0===l)&&(u+=l),u+='\n      </div>\n      <div class="span9">\n        <fieldset>\n          <div class="alert alert-info">\n            Drag to sort media\n          </div>\n          <ul class="mediagrid sortable">\n          ',l=n.each.call(t,t.media,{hash:{},inverse:h.noop,fn:h.program(4,s,r),data:r}),(l||0===l)&&(u+=l),u+='\n          </ul>\n        </fieldset>\n      </div>\n    </form>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":97}],92:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+='\n          <li data-uuid="',(i=n.id)?i=i.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===l?i.apply(e):i),r+=u(i)+'">',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===l?i.apply(e):i),r+=u(i)+"</li>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,s="",l="function",u=this.escapeExpression,c=this;return s+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span4 offset4 centered">\n    <form>\n      <fieldset>\n        <legend>Drag To Sort</legend>\n        <ul class="sortable pageSortable">\n        ',o=n.each.call(t,t.pages,{hash:{},inverse:c.noop,fn:c.program(1,a,r),data:r}),(o||0===o)&&(s+=o),s+='\n        </ul>\n      </fieldset>\n      <div class="control-group">\n        <div class="controls">\n          <button type="submit" class="btn btn-success" data-loading-text="Saving...">Save</button>\n        </div>\n      </div>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":97}],65:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+='\n    <div class="span2 offset4 centered">\n      <div id="uploadFileLink">\n        <p>\n          <a href="#" class="filepicker">\n            <img class="flatIcon" src="/img/file_upload.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="filepicker btn btn-success">Upload File</a>\n        </p>\n      </div>\n    </div>\n    <div class="span2 centered">\n      <div id="pickFileLink">\n        <p>\n          <a href="',(i=n.pickMediaUrl)?i=i.call(e,{hash:{},data:t}):(i=e.pickMediaUrl,i=typeof i===u?i.apply(e):i),r+=c(i)+'" class="app">\n            <img class="flatIcon" src="/img/folder.png" alt="pick-file" />\n          </a>\n        </p>\n        <p>\n          <a href="',(i=n.pickMediaUrl)?i=i.call(e,{hash:{},data:t}):(i=e.pickMediaUrl,i=typeof i===u?i.apply(e):i),r+=c(i)+'" class="useExisting btn btn-info app">Use Existing</a>\n        </p>\n      </div>\n    </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    ',s=n["if"].call(t,(o=t.page,null==o||o===!1?o:o.id),{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+='\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":97}],90:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+='\n      <li>\n        <div class="relfix">\n          <a href="#" data-media-id="',(i=n.id)?i=i.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===u?i.apply(e):i),r+=c(i)+'" data-media-type="',(i=n.type)?i=i.call(e,{hash:{},data:t}):(i=e.type,i=typeof i===u?i.apply(e):i),r+=c(i)+'">\n            <img src="',(i=n.thumbnailUrl)?i=i.call(e,{hash:{},data:t}):(i=e.thumbnailUrl,i=typeof i===u?i.apply(e):i),r+=c(i)+'" alt="',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===u?i.apply(e):i),r+=c(i)+'" />\n            <div class="captions centered">\n              <h2>',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===u?i.apply(e):i),r+=c(i)+"</h2>\n            </div>\n          </a>\n        </div>\n      </li>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="alert alert-block">\n      <h3>This Is All Your Media</h3>\n      <p>\n        Select a file to add it to '+c((o=t.page,o=null==o||o===!1?o:o.name,typeof o===u?o.apply(t):o))+', or <a href="',(s=n.uploadUrl)?s=s.call(t,{hash:{},data:r}):(s=t.uploadUrl,s=typeof s===u?s.apply(t):s),l+=c(s)+'" class="app">Upload A New File</a>.\n      </p>\n    </div>\n    <ul class="reelgrid">\n    ',s=n.each.call(t,t.media,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+='\n    </ul>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":97}],94:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+="\n      ",i=n["if"].call(e,e.isVideo,{hash:{},inverse:v.program(7,u,t),fn:v.program(2,o,t),data:t}),(i||0===i)&&(r+=i),r+='\n      <div class="media_meta">\n        <h4>',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===d?i.apply(e):i),r+=f(i)+"</h4>\n        <ul>\n        ",i=n.each.call(e,e.attribs,{hash:{},inverse:v.noop,fn:v.program(9,c,t),data:t}),(i||0===i)&&(r+=i),r+="\n        </ul>\n      </div>\n    "}function o(e,t){var i,r="";return r+="\n        ",i=n["if"].call(e,e.isEncoding,{hash:{},inverse:v.program(5,l,t),fn:v.program(3,s,t),data:t}),(i||0===i)&&(r+=i),r+="\n      "}function s(e,t){var i,r="";return r+='\n          <img id="media_image" class="pickerHolder" alt="',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===d?i.apply(e):i),r+=f(i)+'" src="',(i=n.thumbnailUrl)?i=i.call(e,{hash:{},data:t}):(i=e.thumbnailUrl,i=typeof i===d?i.apply(e):i),r+=f(i)+'" />\n        '}function l(){return'\n          <div id="vid_placeholder" />\n        '}function u(e,t){var i,r="";return r+='\n        <img id="media_image" class="pickerHolder" alt="',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===d?i.apply(e):i),r+=f(i)+'" src="',(i=n.url)?i=i.call(e,{hash:{},data:t}):(i=e.url,i=typeof i===d?i.apply(e):i),r+=f(i)+'" />\n      '}function c(e){var t,n="";return n+="\n          <li>",t=typeof e===d?e.apply(e):e,(t||0===t)&&(n+=t),n+="</li>\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var p,h="",d="function",f=this.escapeExpression,v=this;return h+='<div id="carouselWrapper">\n</div>\n<div id="content" class="container">\n  <div class="row">\n    <div id="preview" class="span12 centered previewPadding">\n    ',p=n["with"].call(t,t.media,{hash:{},inverse:v.noop,fn:v.program(1,a,r),data:r}),(p||0===p)&&(h+=p),h+="\n    </div>\n  </div>\n</div>\n"})},{"handlebars-runtime":97}],91:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t,i){var r,a="";return a+='\n<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <form>\n    <div class="span6">\n      <fieldset>\n        <legend>Title</legend>\n        <input type="text" id="fileNameField" name="name" placeholder="Untitled ',(r=n.type)?r=r.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===m?r.apply(e):r),a+=g(r)+'" value="',(r=n.name)?r=r.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===m?r.apply(e):r),a+=g(r)+'">\n      </fieldset>\n      <fieldset>\n        <legend>Labels <span data-toggle="tooltip" data-title="Example Labels" data-content="These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to bold the first word.&lt;/p&gt;" class="fui-question"></span></legend>\n        <input name="attribs" class="tagsinput tagsinput-primary" value="',(r=n.attributeList)?r=r.call(e,{hash:{},data:t}):(r=e.attributeList,r=typeof r===m?r.apply(e):r),a+=g(r)+'" id="tags1371235017630" style="display: none;" />\n      </fieldset>\n      ',r=n["if"].call(e,i.isEncoded,{hash:{},inverse:y.noop,fn:y.programWithDepth(2,o,t,i),data:t}),(r||0===r)&&(a+=r),a+='\n      <fieldset>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <!-- <a class="btn btn-danger">Delete</a> -->\n          </div>\n        </div>\n      </fieldset>\n    </div>\n    ',r=n["if"].call(e,i.showThumbnailPicker,{hash:{},inverse:y.noop,fn:y.program(12,h,t),data:t}),(r||0===r)&&(a+=r),a+='\n    </form>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'}function o(e,t,i){var r,a="";return a+="\n      <fieldset>\n        <legend>Thumbnail</legend>\n        ",r=n["if"].call(e,e.thumbnailS3key,{hash:{},inverse:y.program(5,l,t),fn:y.program(3,s,t),data:t}),(r||0===r)&&(a+=r),a+='\n        <input type="hidden" id="thumbnail" name="thumbnail" value="',(r=n.thumbnail)?r=r.call(e,{hash:{},data:t}):(r=e.thumbnail,r=typeof r===m?r.apply(e):r),a+=g(r)+'">\n        ',r=n.unless.call(e,i.showThumbnailPicker,{hash:{},inverse:y.noop,fn:y.program(7,u,t),data:t}),(r||0===r)&&(a+=r),a+="\n        ",r=n["if"].call(e,e.isImage,{hash:{},inverse:y.noop,fn:y.program(10,p,t),data:t}),(r||0===r)&&(a+=r),a+='\n        <a id="useCustomButton" href="#" class="btn btn-inverse btn-mini upload">Upload Thumbnail</a>\n      </fieldset>\n      '}function s(e,t){var i,r="";return r+='\n          <p>\n            <img src="',(i=n.thumbnailUrl)?i=i.call(e,{hash:{},data:t}):(i=e.thumbnailUrl,i=typeof i===m?i.apply(e):i),r+=g(i)+'" class="thumbHolder img-polaroid" alt="',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===m?i.apply(e):i),r+=g(i)+' Thumbnail" />\n          </p>\n        '}function l(){return'\n          <div class="alert alert-warning">\n            <big>No thumbnail yet! Select or upload one.</big>\n          </div>\n        '}function u(e,t){var i,r="";return r+="\n          ",i=n["if"].call(e,e.isVideo,{hash:{},inverse:y.noop,fn:y.program(8,c,t),data:t}),(i||0===i)&&(r+=i),r+="\n        "}function c(){return'\n            <a id="chooseFrameButton" href="#" class="btn btn-info btn-mini choose">Choose A Frame</a>\n          '}function p(){return'\n          <a id="useOriginalButton" href="#" class="btn btn-info btn-mini crop" data-loading-text="Processing...">Use Original</a>\n        '}function h(e,t){var i,r="";return r+='\n    <div class="span6">\n      <div class="row centered">\n        <div id="thumber">\n        </div>\n        <div class="controls">\n          ',i=n["if"].call(e,e.isVideo,{hash:{},inverse:y.noop,fn:y.program(13,d,t),data:t}),(i||0===i)&&(r+=i),r+="\n      </div>\n    </div>\n    "}function d(){return'\n            <a id="useCaptureButton" href="#" class="btn btn-info btn-mini capture" data-loading-text="Processing...">Use Current Frame</a>\n          '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var f,v="",m="function",g=this.escapeExpression,y=this;return f=n["with"].call(t,t.media,{hash:{},inverse:y.noop,fn:y.programWithDepth(1,a,r,t),data:r}),(f||0===f)&&(v+=f),v+="\n"})},{"handlebars-runtime":97}],98:[function(e,t,n){var i=self;!function(e){function r(t){function n(e){return e&&"object"==typeof e&&!yi(e)&&Zn.call(e,"__wrapped__")?e:new z(e)}function i(e){var t=e.length,n=t>=h;if(n)for(var i={},r=-1;++r<t;){var a=p+e[r];(i[a]||(i[a]=[])).push(e[r])}return function(t){if(n){var r=p+t;return i[r]&&Wt(i[r],t)>-1}return Wt(e,t)>-1}}function o(e){return e.charCodeAt(0)}function l(e,t){var n=e.index,i=t.index;if(e=e.criteria,t=t.criteria,e!==t){if(e>t||"undefined"==typeof e)return 1;if(t>e||"undefined"==typeof t)return-1}return i>n?-1:1}function P(e,t,n,i){function r(){var i=arguments,u=o?this:t;if(a||(e=t[s]),n.length&&(i=i.length?(i=di.call(i),l?i.concat(n):n.concat(i)):n),this instanceof r){U.prototype=e.prototype,u=new U,U.prototype=null;var c=e.apply(u,i);return st(c)?c:u}return e.apply(u,i)}var a=ot(e),o=!n,s=t;if(o){var l=i;n=t}else if(!a){if(!i)throw new Un;t=e}return r}function R(e){return"\\"+D[e]}function B(e){return xi[e]}function z(e){this.__wrapped__=e}function U(){}function q(e){var t=!1;if(!e||ii.call(e)!=I)return t;var n=e.constructor;return(ot(n)?n instanceof n:!0)?(Ti(e,function(e,n){t=n}),t===!1||Zn.call(e,t)):t}function W(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,a=$n(0>r?0:r);++i<r;)a[i]=e[t+i];return a}function V(e){return wi[e]}function X(e){return ii.call(e)==E}function J(e,t,i,r,o,s){var l=e;if("function"==typeof t&&(r=i,i=t,t=!1),"function"==typeof i){if(i="undefined"==typeof r?i:n.createCallback(i,r,1),l=i(l),"undefined"!=typeof l)return l;l=e}var u=st(l);if(u){var c=ii.call(l);if(!F[c])return l;var p=yi(l)}if(!u||!t)return u?p?W(l):_i({},l):l;var h=mi[c];switch(c){case N:case A:return new h(+l);case M:case O:return new h(l);case $:return h(l.source,y.exec(l))}o||(o=[]),s||(s=[]);for(var d=o.length;d--;)if(o[d]==e)return s[d];return l=p?h(l.length):{},p&&(Zn.call(e,"index")&&(l.index=e.index),Zn.call(e,"input")&&(l.input=e.input)),o.push(e),s.push(l),(p?Tt:ki)(e,function(e,n){l[n]=J(e,t,i,a,o,s)}),l}function G(e,t,n){return J(e,!0,t,n)}function Y(e,t,i){var r;return t=n.createCallback(t,i),ki(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function K(e){var t=[];return Ti(e,function(e,n){ot(e)&&t.push(n)}),t.sort()}function Q(e,t){return e?Zn.call(e,t):!1}function Z(e){for(var t=-1,n=ji(e),i=n.length,r={};++t<i;){var a=n[t];r[e[a]]=a}return r}function et(e){return e===!0||e===!1||ii.call(e)==N}function tt(e){return e?"object"==typeof e&&ii.call(e)==A:!1}function nt(e){return e?1===e.nodeType:!1}function it(e){var t=!0;if(!e)return t;var n=ii.call(e),i=e.length;return n==S||n==O||n==E||n==I&&"number"==typeof i&&ot(e.splice)?!i:(ki(e,function(){return t=!1}),t)}function rt(e,t,i,r,a,o){var s=i===c;if("function"==typeof i&&!s){i=n.createCallback(i,r,2);var l=i(e,t);if("undefined"!=typeof l)return!!l}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,p=typeof t;if(e===e&&(!e||"function"!=u&&"object"!=u)&&(!t||"function"!=p&&"object"!=p))return!1;if(null==e||null==t)return e===t;var h=ii.call(e),d=ii.call(t);if(h==E&&(h=I),d==E&&(d=I),h!=d)return!1;switch(h){case N:case A:return+e==+t;case M:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case $:case O:return e==zn(t)}var f=h==S;if(!f){if(Zn.call(e,"__wrapped__ ")||Zn.call(t,"__wrapped__"))return rt(e.__wrapped__||e,t.__wrapped__||t,i,r,a,o);if(h!=I)return!1;var v=e.constructor,m=t.constructor;if(v!=m&&!(ot(v)&&v instanceof v&&ot(m)&&m instanceof m))return!1}a||(a=[]),o||(o=[]);for(var g=a.length;g--;)if(a[g]==e)return o[g]==t;var y=0;if(l=!0,a.push(e),o.push(t),f){if(g=e.length,y=t.length,l=y==e.length,!l&&!s)return l;for(;y--;){var b=g,j=t[y];if(s)for(;b--&&!(l=rt(e[b],j,i,r,a,o)););else if(!(l=rt(e[y],j,i,r,a,o)))break}return l}return Ti(t,function(t,n,s){return Zn.call(s,n)?(y++,l=Zn.call(e,n)&&rt(e[n],t,i,r,a,o)):void 0}),l&&!s&&Ti(e,function(e,t,n){return Zn.call(n,t)?l=--y>-1:void 0}),l}function at(e){return oi(e)&&!si(parseFloat(e))}function ot(e){return"function"==typeof e}function st(e){return e?L[typeof e]:!1}function lt(e){return ct(e)&&e!=+e}function ut(e){return null===e}function ct(e){return"number"==typeof e||ii.call(e)==M}function pt(e){return e?"object"==typeof e&&ii.call(e)==$:!1}function ht(e){return"string"==typeof e||ii.call(e)==O}function dt(e){return"undefined"==typeof e}function ft(e,t,i){var r=arguments,a=0,o=2;if(!st(e))return e;if(i===c)var s=r[3],l=r[4],u=r[5];else l=[],u=[],"number"!=typeof i&&(o=r.length),o>3&&"function"==typeof r[o-2]?s=n.createCallback(r[--o-1],r[o--],2):o>2&&"function"==typeof r[o-1]&&(s=r[--o]);for(;++a<o;)(yi(r[a])?Tt:ki)(r[a],function(t,n){var i,r,a=t,o=e[n];if(t&&((r=yi(t))||Ei(t))){for(var p=l.length;p--;)if(i=l[p]==t){o=u[p];break}if(!i){var h;s&&(a=s(o,t),(h="undefined"!=typeof a)&&(o=a)),h||(o=r?yi(o)?o:[]:Ei(o)?o:{}),l.push(t),u.push(o),h||(o=ft(o,t,c,s,l,u))}}else s&&(a=s(o,t),"undefined"==typeof a&&(a=t)),"undefined"!=typeof a&&(o=a);e[n]=o});return e}function vt(e,t,i){var r="function"==typeof t,a={};if(r)t=n.createCallback(t,i);else var o=Yn.apply(qn,di.call(arguments,1));return Ti(e,function(e,n,i){(r?!t(e,n,i):Wt(o,n)<0)&&(a[n]=e)}),a}function mt(e){for(var t=-1,n=ji(e),i=n.length,r=$n(i);++t<i;){var a=n[t];r[t]=[a,e[a]]}return r}function gt(e,t,i){var r={};if("function"!=typeof t)for(var a=-1,o=Yn.apply(qn,di.call(arguments,1)),s=st(e)?o.length:0;++a<s;){var l=o[a];l in e&&(r[l]=e[l])}else t=n.createCallback(t,i),Ti(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function yt(e){for(var t=-1,n=ji(e),i=n.length,r=$n(i);++t<i;)r[t]=e[n[t]];return r}function bt(e){for(var t=-1,n=Yn.apply(qn,di.call(arguments,1)),i=n.length,r=$n(i);++t<i;)r[t]=e[n[t]];return r}function jt(e,t,n){var i=-1,r=e?e.length:0,a=!1;return n=(0>n?ui(0,r+n):n)||0,"number"==typeof r?a=(ht(e)?e.indexOf(t,n):Wt(e,t,n))>-1:ki(e,function(e){return++i>=n?!(a=e===t):void 0}),a}function xt(e,t,i){var r={};return t=n.createCallback(t,i),Tt(e,function(e,n,i){n=zn(t(e,n,i)),Zn.call(r,n)?r[n]++:r[n]=1}),r}function wt(e,t,i){var r=!0;t=n.createCallback(t,i);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o&&(r=!!t(e[a],a,e)););else ki(e,function(e,n,i){return r=!!t(e,n,i)});return r}function _t(e,t,i){var r=[];t=n.createCallback(t,i);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o;){var s=e[a];t(s,a,e)&&r.push(s)}else ki(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ct(e,t,i){t=n.createCallback(t,i);var r=-1,a=e?e.length:0;if("number"!=typeof a){var o;return ki(e,function(e,n,i){return t(e,n,i)?(o=e,!1):void 0}),o}for(;++r<a;){var s=e[r];if(t(s,r,e))return s}}function Tt(e,t,i){var r=-1,a=e?e.length:0;if(t=t&&"undefined"==typeof i?t:n.createCallback(t,i),"number"==typeof a)for(;++r<a&&t(e[r],r,e)!==!1;);else ki(e,t);return e}function kt(e,t,i){var r={};return t=n.createCallback(t,i),Tt(e,function(e,n,i){n=zn(t(e,n,i)),(Zn.call(r,n)?r[n]:r[n]=[]).push(e)}),r}function Et(e,t){var n=di.call(arguments,2),i=-1,r="function"==typeof t,a=e?e.length:0,o=$n("number"==typeof a?a:0);return Tt(e,function(e){o[++i]=(r?t:e[t]).apply(e,n)}),o}function St(e,t,i){var r=-1,a=e?e.length:0;if(t=n.createCallback(t,i),"number"==typeof a)for(var o=$n(a);++r<a;)o[r]=t(e[r],r,e);else o=[],ki(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function Nt(e,t,i){var r=-1/0,a=r;if(!t&&yi(e))for(var s=-1,l=e.length;++s<l;){var u=e[s];u>a&&(a=u)}else t=!t&&ht(e)?o:n.createCallback(t,i),Tt(e,function(e,n,i){var o=t(e,n,i);o>r&&(r=o,a=e)});return a}function At(e,t,i){var r=1/0,a=r;if(!t&&yi(e))for(var s=-1,l=e.length;++s<l;){var u=e[s];a>u&&(a=u)}else t=!t&&ht(e)?o:n.createCallback(t,i),Tt(e,function(e,n,i){var o=t(e,n,i);r>o&&(r=o,a=e)});return a}function Pt(e,t){var n=-1,i=e?e.length:0;if("number"==typeof i)for(var r=$n(i);++n<i;)r[n]=e[n][t];return r||St(e,t)}function Mt(e,t,i,r){if(!e)return i;var a=arguments.length<3;t=n.createCallback(t,r,4);var o=-1,s=e.length;if("number"==typeof s)for(a&&(i=e[++o]);++o<s;)i=t(i,e[o],o,e);else ki(e,function(e,n,r){i=a?(a=!1,e):t(i,e,n,r)});return i}function It(e,t,i,r){var a=e,o=e?e.length:0,s=arguments.length<3;if("number"!=typeof o){var l=ji(e);o=l.length}return t=n.createCallback(t,r,4),Tt(e,function(e,n,r){n=l?l[--o]:--o,i=s?(s=!1,a[n]):t(i,a[n],n,r)}),i}function $t(e,t,i){return t=n.createCallback(t,i),_t(e,function(e,n,i){return!t(e,n,i)})}function Ot(e){var t=-1,n=e?e.length:0,i=$n("number"==typeof n?n:0);return Tt(e,function(e){var n=Kn(hi()*(++t+1));i[t]=i[n],i[n]=e}),i}function Ft(e){var t=e?e.length:0;return"number"==typeof t?t:ji(e).length}function Lt(e,t,i){var r;t=n.createCallback(t,i);var a=-1,o=e?e.length:0;if("number"==typeof o)for(;++a<o&&!(r=t(e[a],a,e)););else ki(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function Dt(e,t,i){var r=-1,a=e?e.length:0,o=$n("number"==typeof a?a:0);for(t=n.createCallback(t,i),Tt(e,function(e,n,i){o[++r]={criteria:t(e,n,i),index:r,value:e}}),a=o.length,o.sort(l);a--;)o[a]=o[a].value;return o}function Ht(e){return e&&"number"==typeof e.length?W(e):yt(e)}function Rt(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function Bt(e){for(var t=-1,n=e?e.length:0,r=Yn.apply(qn,di.call(arguments,1)),a=i(r),o=[];++t<n;){var s=e[t];a(s)||o.push(s)}return o}function zt(e,t,i){var r=-1,a=e?e.length:0;for(t=n.createCallback(t,i);++r<a;)if(t(e[r],r,e))return r;return-1}function Ut(e,t,i){if(e){var r=0,a=e.length;if("number"!=typeof t&&null!=t){var o=-1;for(t=n.createCallback(t,i);++o<a&&t(e[o],o,e);)r++}else if(r=t,null==r||i)return e[0];return W(e,0,ci(ui(0,r),a))}}function qt(e,t,i,r){var a=-1,o=e?e.length:0,s=[];for("boolean"!=typeof t&&null!=t&&(r=i,i=t,t=!1),null!=i&&(i=n.createCallback(i,r));++a<o;){var l=e[a];i&&(l=i(l,a,e)),yi(l)?ei.apply(s,t?l:qt(l)):s.push(l)}return s}function Wt(e,t,n){var i=-1,r=e?e.length:0;if("number"==typeof n)i=(0>n?ui(0,r+n):n||0)-1;else if(n)return i=Qt(e,t),e[i]===t?i:-1;for(;++i<r;)if(e[i]===t)return i;return-1}function Vt(e,t,i){if(!e)return[];var r=0,a=e.length;if("number"!=typeof t&&null!=t){var o=a;for(t=n.createCallback(t,i);o--&&t(e[o],o,e);)r++}else r=null==t||i?1:t||r;return W(e,0,ci(ui(0,a-r),a))}function Xt(e){var t=arguments,n=t.length,r={0:{}},a=-1,o=e?e.length:0,s=o>=h,l=[],u=l;e:for(;++a<o;){var c=e[a];if(s)var d=p+c,f=r[0][d]?!(u=r[0][d]):u=r[0][d]=[];if(f||Wt(u,c)<0){s&&u.push(c);for(var v=n;--v;)if(!(r[v]||(r[v]=i(t[v])))(c))continue e;l.push(c)}}return l}function Jt(e,t,i){if(e){var r=0,a=e.length;if("number"!=typeof t&&null!=t){var o=a;for(t=n.createCallback(t,i);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||i)return e[a-1];return W(e,ui(0,a-r))}}function Gt(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(0>n?ui(0,i+n):ci(n,i-1))+1);i--;)if(e[i]===t)return i;return-1}function Yt(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);for(var i=-1,r=ui(0,Jn((t-e)/n)),a=$n(r);++i<r;)a[i]=e,e+=n;return a}function Kt(e,t,i){if("number"!=typeof t&&null!=t){var r=0,a=-1,o=e?e.length:0;for(t=n.createCallback(t,i);++a<o&&t(e[a],a,e);)r++}else r=null==t||i?1:ui(0,t);return W(e,r)
}function Qt(e,t,i,r){var a=0,o=e?e.length:a;for(i=i?n.createCallback(i,r,1):wn,t=i(t);o>a;){var s=a+o>>>1;i(e[s])<t?a=s+1:o=s}return a}function Zt(e){return yi(e)||(arguments[0]=e?di.call(e):qn),en(Yn.apply(qn,arguments))}function en(e,t,i,r){var a=-1,o=e?e.length:0,s=[],l=s;"boolean"!=typeof t&&null!=t&&(r=i,i=t,t=!1);var u=!t&&o>=h;if(u)var c={};for(null!=i&&(l=[],i=n.createCallback(i,r));++a<o;){var d=e[a],f=i?i(d,a,e):d;if(u)var v=p+f,m=c[v]?!(l=c[v]):l=c[v]=[];(t?!a||l[l.length-1]!==f:m||Wt(l,f)<0)&&((i||u)&&l.push(f),s.push(d))}return s}function tn(e){for(var t=-1,n=e?e.length:0,i=n?Nt(Pt(e,"length")):0,r=$n(i);++t<n;)for(var a=-1,o=e[t];++a<i;)(r[a]||(r[a]=$n(n)))[t]=o[a];return r}function nn(e){return Bt(e,di.call(arguments,1))}function rn(e){for(var t=-1,n=e?Nt(Pt(arguments,"length")):0,i=$n(n);++t<n;)i[t]=Pt(arguments,t);return i}function an(e,t){for(var n=-1,i=e?e.length:0,r={};++n<i;){var a=e[n];t?r[a]=t[n]:r[a[0]]=a[1]}return r}function on(e,t){return 1>e?t():function(){return--e<1?t.apply(this,arguments):void 0}}function sn(e,t){return gi.fastBind||ri&&arguments.length>2?ri.call.apply(ri,arguments):P(e,t,di.call(arguments,2))}function ln(e){for(var t=arguments.length>1?Yn.apply(qn,di.call(arguments,1)):K(e),n=-1,i=t.length;++n<i;){var r=t[n];e[r]=sn(e[r],e)}return e}function un(e,t){return P(e,t,di.call(arguments,2),c)}function cn(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function pn(e,t,n){if(null==e)return wn;var i=typeof e;if("function"!=i){if("object"!=i)return function(t){return t[e]};var r=ji(e);return function(t){for(var n=r.length,i=!1;n--&&(i=rt(t[r[n]],e[r[n]],c)););return i}}return"undefined"!=typeof t?1===n?function(n){return e.call(t,n)}:2===n?function(n,i){return e.call(t,n,i)}:4===n?function(n,i,r,a){return e.call(t,n,i,r,a)}:function(n,i,r){return e.call(t,n,i,r)}:e}function hn(e,t,n){function i(){a=l=null,u&&(o=e.apply(s,r))}var r,a,o,s,l,u=!0;if(n===!0){var c=!0;u=!1}else n&&L[typeof n]&&(c=n.leading,u="trailing"in n?n.trailing:u);return function(){return r=arguments,s=this,Gn(l),!a&&c?(a=!0,o=e.apply(s,r)):l=ni(i,t),o}}function dn(e){var t=di.call(arguments,1);return ni(function(){e.apply(a,t)},1)}function fn(e,t){var n=di.call(arguments,2);return ni(function(){e.apply(a,n)},t)}function vn(e,t){var n={};return function(){var i=p+(t?t.apply(this,arguments):arguments[0]);return Zn.call(n,i)?n[i]:n[i]=e.apply(this,arguments)}}function mn(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function gn(e){return P(e,di.call(arguments,1))}function yn(e){return P(e,di.call(arguments,1),null,c)}function bn(e,t,n){function i(){s=null,c&&(l=new Fn,a=e.apply(o,r))}var r,a,o,s,l=0,u=!0,c=!0;return n===!1?u=!1:n&&L[typeof n]&&(u="leading"in n?n.leading:u,c="trailing"in n?n.trailing:c),function(){var n=new Fn;s||u||(l=n);var c=t-(n-l);return r=arguments,o=this,0>=c?(Gn(s),s=null,l=n,a=e.apply(o,r)):s||(s=ni(i,c)),a}}function jn(e,t){return function(){var n=[e];return ei.apply(n,arguments),t.apply(this,n)}}function xn(e){return null==e?"":zn(e).replace(_,B)}function wn(e){return e}function _n(e){Tt(K(e),function(t){var i=n[t]=e[t];n.prototype[t]=function(){var e=this.__wrapped__,t=[e];ei.apply(t,arguments);var r=i.apply(n,t);return e&&"object"==typeof e&&e==r?this:new z(r)}})}function Cn(){return t._=Vn,this}function Tn(e,t){return null==e&&null==t&&(t=1),e=+e||0,null==t&&(t=e,e=0),e+Kn(hi()*((+t||0)-e+1))}function kn(e,t){var n=e?e[t]:a;return ot(n)?e[t]():n}function En(e,t,i){var r=n.templateSettings;e||(e=""),i=Ci({},i,r);var o,s=Ci({},i.imports,r.imports),l=ji(s),u=yt(s),c=0,p=i.interpolate||w,h="__p += '",m=Bn((i.escape||w).source+"|"+p.source+"|"+(p===b?g:w).source+"|"+(i.evaluate||w).source+"|$","g");e.replace(m,function(t,n,i,r,a,s){return i||(i=r),h+=e.slice(c,s).replace(C,R),n&&(h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=s+t.length,t}),h+="';\n";var y=i.variable,j=y;j||(y="obj",h="with ("+y+") {\n"+h+"\n}\n"),h=(o?h.replace(d,""):h).replace(f,"$1").replace(v,"$1;"),h="function("+y+") {\n"+(j?"":y+" || ("+y+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var x="\n/*\n//@ sourceURL="+(i.sourceURL||"/lodash/template/source["+k++ +"]")+"\n*/";try{var _=Ln(l,"return "+h+x).apply(a,u)}catch(T){throw T.source=h,T}return t?_(t):(_.source=h,_)}function Sn(e,t,i){e=(e=+e)>-1?e:0;var r=-1,a=$n(e);for(t=n.createCallback(t,i,1);++r<e;)a[r]=t(r);return a}function Nn(e){return null==e?"":zn(e).replace(m,V)}function An(e){var t=++u;return zn(null==e?"":e)+t}function Pn(e,t){return t(e),e}function Mn(){return zn(this.__wrapped__)}function In(){return this.__wrapped__}t=t?H.defaults(e.Object(),t,H.pick(e,T)):e;var $n=t.Array,On=t.Boolean,Fn=t.Date,Ln=t.Function,Dn=t.Math,Hn=t.Number,Rn=t.Object,Bn=t.RegExp,zn=t.String,Un=t.TypeError,qn=$n(),Wn=Rn(),Vn=t._,Xn=Bn("^"+zn(Wn.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Jn=Dn.ceil,Gn=t.clearTimeout,Yn=qn.concat,Kn=Dn.floor,Qn=Xn.test(Qn=Rn.getPrototypeOf)&&Qn,Zn=Wn.hasOwnProperty,ei=qn.push,ti=t.setImmediate,ni=t.setTimeout,ii=Wn.toString,ri=Xn.test(ri=ii.bind)&&ri,ai=Xn.test(ai=$n.isArray)&&ai,oi=t.isFinite,si=t.isNaN,li=Xn.test(li=Rn.keys)&&li,ui=Dn.max,ci=Dn.min,pi=t.parseInt,hi=Dn.random,di=qn.slice,fi=Xn.test(t.attachEvent),vi=ri&&!/\n|true/.test(ri+fi),mi={};mi[S]=$n,mi[N]=On,mi[A]=Fn,mi[I]=Rn,mi[M]=Hn,mi[$]=Bn,mi[O]=zn;var gi=n.support={};gi.fastBind=ri&&!vi,n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:b,variable:"",imports:{_:n}},z.prototype=n.prototype;var yi=ai,bi=function(e){var t,n=e,i=[];if(!n)return i;if(!L[typeof e])return i;for(t in n)Zn.call(n,t)&&i.push(t);return i},ji=li?function(e){return st(e)?li(e):[]}:bi,xi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wi=Z(xi),_i=function(e,t,i){var r,a=e,o=a;if(!a)return o;var s=arguments,l=0,u="number"==typeof i?2:s.length;if(u>3&&"function"==typeof s[u-2])var c=n.createCallback(s[--u-1],s[u--],2);else u>2&&"function"==typeof s[u-1]&&(c=s[--u]);for(;++l<u;)if(a=s[l],a&&L[typeof a]){var p=a.length;if(r=-1,yi(a))for(;++r<p;)o[r]=c?c(o[r],a[r]):a[r];else for(var h=-1,d=L[typeof a]?ji(a):[],p=d.length;++h<p;)r=d[h],o[r]=c?c(o[r],a[r]):a[r]}return o},Ci=function(e,t,n){var i,r=e,a=r;if(!r)return a;for(var o=arguments,s=0,l="number"==typeof n?2:o.length;++s<l;)if(r=o[s],r&&L[typeof r]){var u=r.length;if(i=-1,yi(r))for(;++i<u;)"undefined"==typeof a[i]&&(a[i]=r[i]);else for(var c=-1,p=L[typeof r]?ji(r):[],u=p.length;++c<u;)i=p[c],"undefined"==typeof a[i]&&(a[i]=r[i])}return a},Ti=function(e,t,i){var r,a=e,o=a;if(!a)return o;if(!L[typeof a])return o;t=t&&"undefined"==typeof i?t:n.createCallback(t,i);for(r in a)if(t(a[r],r,e)===!1)return o;return o},ki=function(e,t,i){var r,a=e,o=a;if(!a)return o;if(!L[typeof a])return o;t=t&&"undefined"==typeof i?t:n.createCallback(t,i);for(var s=-1,l=L[typeof a]?ji(a):[],u=l.length;++s<u;)if(r=l[s],t(a[r],r,e)===!1)return o;return o},Ei=function(e){if(!e||ii.call(e)!=I)return!1;var t=e.valueOf,n="function"==typeof t&&(n=Qn(t))&&Qn(n);return n?e==n||Qn(e)==n:q(e)},Si=_t;vi&&s&&"function"==typeof ti&&(dn=sn(ti,t));var Ni=8==pi(j+"08")?pi:function(e,t){return pi(ht(e)?e.replace(x,""):e,t||0)};return n.after=on,n.assign=_i,n.at=bt,n.bind=sn,n.bindAll=ln,n.bindKey=un,n.compact=Rt,n.compose=cn,n.countBy=xt,n.createCallback=pn,n.debounce=hn,n.defaults=Ci,n.defer=dn,n.delay=fn,n.difference=Bt,n.filter=_t,n.flatten=qt,n.forEach=Tt,n.forIn=Ti,n.forOwn=ki,n.functions=K,n.groupBy=kt,n.initial=Vt,n.intersection=Xt,n.invert=Z,n.invoke=Et,n.keys=ji,n.map=St,n.max=Nt,n.memoize=vn,n.merge=ft,n.min=At,n.omit=vt,n.once=mn,n.pairs=mt,n.partial=gn,n.partialRight=yn,n.pick=gt,n.pluck=Pt,n.range=Yt,n.reject=$t,n.rest=Kt,n.shuffle=Ot,n.sortBy=Dt,n.tap=Pn,n.throttle=bn,n.times=Sn,n.toArray=Ht,n.union=Zt,n.uniq=en,n.unzip=tn,n.values=yt,n.where=Si,n.without=nn,n.wrap=jn,n.zip=rn,n.zipObject=an,n.collect=St,n.drop=Kt,n.each=Tt,n.extend=_i,n.methods=K,n.object=an,n.select=_t,n.tail=Kt,n.unique=en,_n(n),n.clone=J,n.cloneDeep=G,n.contains=jt,n.escape=xn,n.every=wt,n.find=Ct,n.findIndex=zt,n.findKey=Y,n.has=Q,n.identity=wn,n.indexOf=Wt,n.isArguments=X,n.isArray=yi,n.isBoolean=et,n.isDate=tt,n.isElement=nt,n.isEmpty=it,n.isEqual=rt,n.isFinite=at,n.isFunction=ot,n.isNaN=lt,n.isNull=ut,n.isNumber=ct,n.isObject=st,n.isPlainObject=Ei,n.isRegExp=pt,n.isString=ht,n.isUndefined=dt,n.lastIndexOf=Gt,n.mixin=_n,n.noConflict=Cn,n.parseInt=Ni,n.random=Tn,n.reduce=Mt,n.reduceRight=It,n.result=kn,n.runInContext=r,n.size=Ft,n.some=Lt,n.sortedIndex=Qt,n.template=En,n.unescape=Nn,n.uniqueId=An,n.all=wt,n.any=Lt,n.detect=Ct,n.foldl=Mt,n.foldr=It,n.include=jt,n.inject=Mt,ki(n,function(e,t){n.prototype[t]||(n.prototype[t]=function(){var t=[this.__wrapped__];return ei.apply(t,arguments),e.apply(n,t)})}),n.first=Ut,n.last=Jt,n.take=Ut,n.head=Ut,ki(n,function(e,t){n.prototype[t]||(n.prototype[t]=function(t,n){var i=e(this.__wrapped__,t,n);return null==t||n&&"function"!=typeof t?i:new z(i)})}),n.VERSION="1.2.1",n.prototype.toString=Mn,n.prototype.value=In,n.prototype.valueOf=In,Tt(["join","pop","shift"],function(e){var t=qn[e];n.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),Tt(["push","reverse","sort","unshift"],function(e){var t=qn[e];n.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Tt(["concat","slice","splice"],function(e){var t=qn[e];n.prototype[e]=function(){return new z(t.apply(this.__wrapped__,arguments))}}),n}var a,o="object"==typeof n&&n,s="object"==typeof t&&t&&t.exports==o&&t,l="object"==typeof i&&i;(l.global===l||l.window===l)&&(e=l);var u=0,c={},p=+new Date+"",h=200,d=/\b__p \+= '';/g,f=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/&(?:amp|lt|gt|quot|#39);/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/\w*$/,b=/<%=([\s\S]+?)%>/g,j=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",x=RegExp("^["+j+"]*0+(?=.$)"),w=/($^)/,_=/[&<>"']/g,C=/['\n\r\t\u2028\u2029\\]/g,T=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],k=0,E="[object Arguments]",S="[object Array]",N="[object Boolean]",A="[object Date]",P="[object Function]",M="[object Number]",I="[object Object]",$="[object RegExp]",O="[object String]",F={};F[P]=!1,F[E]=F[S]=F[N]=F[A]=F[M]=F[I]=F[$]=F[O]=!0;var L={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},D={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},H=r();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e._=H,define(function(){return H})):o&&!o.nodeType?s?(s.exports=H)._=H:o._=H:e._=H}(this)},{}],96:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t,i){var r,a="";return a+='\n<div class="row topbar">\n  <ul class="nav nav-boxes actionable">\n    ',r=n["if"].call(e,e.isPage,{hash:{},inverse:$.noop,fn:$.program(2,o,t),data:t}),(r||0===r)&&(a+=r),a+="\n    ",r=n["if"].call(e,e.isCreatingPage,{hash:{},inverse:$.program(17,f,t),fn:$.program(15,d,t),data:t}),(r||0===r)&&(a+=r),a+="\n    ",r=n["if"].call(e,e.hasAtLeastTwoPages,{hash:{},inverse:$.noop,fn:$.program(19,v,t),data:t}),(r||0===r)&&(a+=r),a+="\n    <!--\n    ",r=n["if"].call(e,i.isLoggedIn,{hash:{},inverse:$.noop,fn:$.program(24,y,t),data:t}),(r||0===r)&&(a+=r),a+="\n    -->\n  </ul>\n</div>\n"}function o(e,t){var i,r="";return r+="\n      ",i=n["if"].call(e,e.isPublished,{hash:{},inverse:$.program(5,l,t),fn:$.program(3,s,t),data:t}),(i||0===i)&&(r+=i),r+="\n      ",i=n["if"].call(e,e.isAddingMedia,{hash:{},inverse:$.program(9,c,t),fn:$.program(7,u,t),data:t}),(i||0===i)&&(r+=i),r+="\n      ",i=n["if"].call(e,e.isEditingPage,{hash:{},inverse:$.program(13,h,t),fn:$.program(11,p,t),data:t}),(i||0===i)&&(r+=i),r+="\n    "}function s(e,t){var i,r="";return r+='\n        <li class="privacy"><a href="',(i=n.editPageMakePrivateHref)?i=i.call(e,{hash:{},data:t}):(i=e.editPageMakePrivateHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" class="current app boxed public">Public</a></li>\n      '}function l(e,t){var i,r="";return r+='\n        <li class="privacy"><a href="',(i=n.editPageMakePublicHref)?i=i.call(e,{hash:{},data:t}):(i=e.editPageMakePublicHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" class="current app boxed private">Private</a></li>\n      '}function u(e,t){var i,r="";return r+='\n        <li><a href="',(i=n.addMediaHref)?i=i.call(e,{hash:{},data:t}):(i=e.addMediaHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" id="addMediaLink" class="current app boxed">Add Media</a></li>\n      '}function c(e,t){var i,r="";return r+='\n        <li><a href="',(i=n.addMediaHref)?i=i.call(e,{hash:{},data:t}):(i=e.addMediaHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" id="addMediaLink" class="app boxed">Add Media</a></li>\n      '}function p(e,t){var i,r="";return r+='\n        <li><a href="',(i=n.editPageHref)?i=i.call(e,{hash:{},data:t}):(i=e.editPageHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" class="current app boxed">Edit Page</a></li>\n      '}function h(e,t){var i,r="";return r+='\n        <li><a href="',(i=n.editPageHref)?i=i.call(e,{hash:{},data:t}):(i=e.editPageHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" class="app boxed">Edit Page</a></li>\n      '}function d(e,t){var i,r="";return r+='\n      <li><a href="',(i=n.createHref)?i=i.call(e,{hash:{},data:t}):(i=e.createHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" id="newPageLink" class="current app boxed">New Page</a></li>\n    '}function f(e,t){var i,r="";return r+='\n      <li><a href="',(i=n.createHref)?i=i.call(e,{hash:{},data:t}):(i=e.createHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" id="newPageLink" class="app boxed">New Page</a></li>\n    '}function v(e,t){var i,r="";return r+="\n      ",i=n["if"].call(e,e.isReorderingPages,{hash:{},inverse:$.program(22,g,t),fn:$.program(20,m,t),data:t}),(i||0===i)&&(r+=i),r+="\n    "}function m(e,t){var i,r="";return r+='\n        <li><a href="',(i=n.reorderHref)?i=i.call(e,{hash:{},data:t}):(i=e.reorderHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" id="reorderPageLink" class="current app boxed">Sort Pages</a></li>\n      '}function g(e,t){var i,r="";return r+='\n        <li><a href="',(i=n.reorderHref)?i=i.call(e,{hash:{},data:t}):(i=e.reorderHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" id="reorderPageLink" class="app boxed">Sort Pages</a></li>\n      '}function y(e,t){var i,r="";return r+="\n      <br />\n      ",i=n["if"].call(e,e.isPublished,{hash:{},inverse:$.program(27,j,t),fn:$.program(25,b,t),data:t}),(i||0===i)&&(r+=i),r+="\n    "}function b(e,t){var i,r="";return r+='\n        <a href="',(i=n.editHref)?i=i.call(e,{hash:{},data:t}):(i=e.editHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" class="app pageStatus">Public</a>\n      '}function j(e,t){var i,r="";return r+='\n        <a href="',(i=n.editHref)?i=i.call(e,{hash:{},data:t}):(i=e.editHref,i=typeof i===M?i.apply(e):i),r+=I(i)+'" class="app pageStatus">Private</a>\n      '}function x(e,t){var i,r="";return r+="\n          <li>\n          ",i=n["if"].call(e,e.active,{hash:{},inverse:$.program(32,_,t),fn:$.program(30,w,t),data:t}),(i||0===i)&&(r+=i),r+="\n          </li>\n        "}function w(e,t){var i,r="";return r+='\n            <a href="',(i=n.href)?i=i.call(e,{hash:{},data:t}):(i=e.href,i=typeof i===M?i.apply(e):i),r+=I(i)+'" class="current app boxed">',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===M?i.apply(e):i),r+=I(i)+"</a>\n          "}function _(e,t){var i,r="";return r+='\n            <a href="',(i=n.href)?i=i.call(e,{hash:{},data:t}):(i=e.href,i=typeof i===M?i.apply(e):i),r+=I(i)+'" class="app boxed">',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===M?i.apply(e):i),r+=I(i)+"</a>\n          "}function C(e,t){var i,r="";return r+="\n          ",i=n["if"].call(e,e.isContact,{hash:{},inverse:$.program(37,k,t),fn:$.program(35,T,t),data:t}),(i||0===i)&&(r+=i),r+="\n        "}function T(){return'\n            <li class="contact"><a href="/contact" class="current app boxed">Contact</a></li>\n          '}function k(){return'\n            <li class="contact"><a href="/contact" class="app boxed">Contact</a></li>\n          '}function E(e,t){var i,r="";return r+='\n    <div class="alert alert-',(i=n.type)?i=i.call(e,{hash:{},data:t}):(i=e.type,i=typeof i===M?i.apply(e):i),r+=I(i)+'">\n      <button type="button" class="close fui-cross" data-dismiss="alert"></button>\n      ',(i=n.message)?i=i.call(e,{hash:{},data:t}):(i=e.message,i=typeof i===M?i.apply(e):i),r+=I(i)+"\n    </div>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var S,N,A,P="",M="function",I=this.escapeExpression,$=this,O=n.blockHelperMissing;return S=n["if"].call(t,t.isLoggedIn,{hash:{},inverse:$.noop,fn:$.programWithDepth(1,a,r,t),data:r}),(S||0===S)&&(P+=S),P+='\n<div class="row pagebar">\n  <div class="span2">\n    <h1><a href="#" class="app">'+I((S=t.sitetitle,S=null==S||S===!1?S:S.value,typeof S===M?S.apply(t):S))+'</a></h1>\n  </div>\n  <div id="header" class="span10">\n    <div class="rightaligned-boxes">\n      <ul id="mainnav" class="nav nav-boxes">\n        '+"\n        ",N=n.each.call(t,t.pages,{hash:{},inverse:$.noop,fn:$.program(29,x,r),data:r}),(N||0===N)&&(P+=N),P+="\n        ",N=n["if"].call(t,t.showContact,{hash:{},inverse:$.noop,fn:$.program(34,C,r),data:r}),(N||0===N)&&(P+=N),P+="\n      </ul>\n    </div>\n    ",A={hash:{},inverse:$.noop,fn:$.program(39,E,r),data:r},(N=n.flash)?N=N.call(t,A):(N=t.flash,N=typeof N===M?N.apply(t):N),n.flash||(N=O.call(t,N,A)),(N||0===N)&&(P+=N),P+="\n  </div>\n</div>\n\n"})},{"handlebars-runtime":97}],78:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(){return'\n            <li><a href="/logout" class="app">Log Out</a></li>\n          '}function o(){return'\n            <li><a href="/login" class="app">Log In</a></li>\n          '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,l,u="",c=this,p="function",h=this.escapeExpression;return u+='  <div class="container">\n    <div class="row">\n      <div class="span12">\n        <ul class="bottom-links">\n          ',s=n["if"].call(t,t.isLoggedIn,{hash:{},inverse:c.program(3,o,r),fn:c.program(1,a,r),data:r}),(s||0===s)&&(u+=s),u+='\n        </ul>\n        <span class="pull-right">&copy; '+h((s=t.sitetitle,s=null==s||s===!1?s:s.value,typeof s===p?s.apply(t):s))+" ",(l=n.copyrightYear)?l=l.call(t,{hash:{},data:r}):(l=t.copyrightYear,l=typeof l===p?l.apply(t):l),u+=h(l)+"</span>\n      </div>\n    </div>\n  </div>\n"})},{"handlebars-runtime":97}],95:[function(e,t){var n=e("lodash"),i=e("jquery-browserify"),r=e("backbone");r._=n,r.$=i;var a=r.View.extend({initialize:function(e){this.templateName,this.beforeInit&&this.beforeInit(e),this.template=this.template||e.template,this.template||(this.template=function(){return""}),this.afterInit&&this.afterInit(e),this.render()},context:function(){return n.extend({},this.options,this.model)},close:function(){this.beforeClose&&this.beforeClose(),this.closeSubviews(),this.off(),this.remove()},render:function(){var e=this,t=this.model;return this.beforeRender&&this.beforeRender(),this.closeSubviews(),this.$el.empty(),this.beforeTemplating&&(t=this.beforeTemplating()),this.context&&(t=this.context()),this.$el.html(this.template(t)),n.defer(function(){e.trigger("afterRender")}),this.afterRender&&this.afterRender(),this},proxy:function(e,t){var n=this;t.on(e,function(){var t=Array.prototype.slice.call(arguments,0);t.splice(0,0,e),n.trigger.apply(n,t)})},eachSubview:function(e){n.each(this.subviews,e)},appendSubview:function(e,t){t||(t=this.$el),this.subviews=this.subviews||{},this.subviews[e.cid]=e,t.append(e.el),n.defer(function(){e.trigger("afterAppend")}),e.afterAppend&&e.afterAppend()},closeSubviews:function(){this.eachSubview(function(e){e.close()}),this.subviews={}},detachSubview:function(e){this.subviews&&delete this.subviews[e.cid],e.$el.detach()}});t.exports=a},{backbone:66,"jquery-browserify":67,lodash:98}],80:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+='\n  <li>\n    <div class="relfix">\n      <a href="',(i=n.playerUrl)?i=i.call(e,{hash:{},data:t}):(i=e.playerUrl,i=typeof i===u?i.apply(e):i),r+=c(i)+'" class="app">\n        <img src="',(i=n.thumbnailUrl)?i=i.call(e,{hash:{},data:t}):(i=e.thumbnailUrl,i=typeof i===u?i.apply(e):i),r+=c(i)+'" alt="',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===u?i.apply(e):i),r+=c(i)+'" />\n        ',i=n["if"].call(e,e.editHref,{hash:{},inverse:p.noop,fn:p.program(2,o,t),data:t}),(i||0===i)&&(r+=i),r+='\n        <div class="captions centered">\n          <h2>',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===u?i.apply(e):i),r+=c(i)+"</h2>\n        </div>\n      </a>\n    </div>\n  </li>\n"}function o(e,t){var i,r="";return r+='\n          <p class="absfix">\n            <a href="',(i=n.editHref)?i=i.call(e,{hash:{},data:t}):(i=e.editHref,i=typeof i===u?i.apply(e):i),r+=c(i)+'" class="app btn btn-mini btn-info"><i class="icon-edit"></i></a>\n            <a href="',(i=n.removeHref)?i=i.call(e,{hash:{},data:t}):(i=e.removeHref,i=typeof i===u?i.apply(e):i),r+=c(i)+'" class="app btn btn-mini btn-danger"><i class="icon-trash"></i></a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,l="",u="function",c=this.escapeExpression,p=this;return l+='<ul class="reelgrid">\n',s=n.each.call(t,t.media,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+="\n</ul>\n"})},{"handlebars-runtime":97}],82:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+='\n  <iframe src="',(i=n.thumberUrl)?i=i.call(e,{hash:{},data:t}):(i=e.thumberUrl,i=typeof i===l?i.apply(e):i),r+=u(i)+'" frameborder="0" width="100%"></iframe>\n'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var o,s="",l="function",u=this.escapeExpression,c=this;return o=n["if"].call(t,t.thumberUrl,{hash:{},inverse:c.noop,fn:c.program(1,a,r),data:r}),(o||0===o)&&(s+=o),s+="\n"})},{"handlebars-runtime":97}],84:[function(e,t){var n=e("handlebars-runtime");t.exports=n.template(function(e,t,n,i,r){function a(e,t){var i,r="";return r+='\n    <li>\n      <div class="relfix">\n        <a href="',(i=n.playerUrl)?i=i.call(e,{hash:{},data:t}):(i=e.playerUrl,i=typeof i===u?i.apply(e):i),r+=c(i)+'" class="app">\n          <img src="',(i=n.thumbnailUrl)?i=i.call(e,{hash:{},data:t}):(i=e.thumbnailUrl,i=typeof i===u?i.apply(e):i),r+=c(i)+'" alt="',(i=n.name)?i=i.call(e,{hash:{},data:t}):(i=e.name,i=typeof i===u?i.apply(e):i),r+=c(i)+'" />\n        </a>\n        ',i=n["if"].call(e,e.editHref,{hash:{},inverse:p.noop,fn:p.program(2,o,t),data:t}),(i||0===i)&&(r+=i),r+="\n      </div>\n    </li>\n  "}function o(e,t){var i,r="";return r+='\n          <p class="absfix">\n            <a href="',(i=n.editHref)?i=i.call(e,{hash:{},data:t}):(i=e.editHref,i=typeof i===u?i.apply(e):i),r+=c(i)+'" class="app btn btn-micro btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,l="",u="function",c=this.escapeExpression,p=this;return l+='<div class="sliderWrap">\n  <ul class="carousel elastislide-list">\n  ',s=n.each.call(t,t.media,{hash:{},inverse:p.noop,fn:p.program(1,a,r),data:r}),(s||0===s)&&(l+=s),l+='\n  </ul>\n</div>\n<div class="controls clearfix centered">\n  <div class="control-fix centered">\n    <a href="#" class="carouselControl goLeft hidden">&lt;</a>\n    <a href="#" class="carouselControl reelToggle"><span class="symbol">&and;</span><br /><small>Reel</small></a>\n    <a href="#" class="carouselControl goRight hidden">&gt;</a>\n  </div>\n  <a href="#" class="carouselControl bigClose pull-right">&times;</a>\n</div>\n'})},{"handlebars-runtime":97}]},{},[1]);;;;
/*
//@ sourceMappingURL=/js/scripts.map
*/
