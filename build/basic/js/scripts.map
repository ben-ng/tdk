{"version":3,"file":"/js/scripts.js","sources":["index.js","helpers/lib/messenger.js","config/config.js","helpers/util.js","routes/logout.js","routes/pages/quickEdit.js","routes/media/remove.js","../../../node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js","../../../node_modules/browserify/node_modules/browser-builtins/builtin/path.js","routes/index.js","routes/login.js","routes/review.js","routes/contact.js","routes/pages/create.js","routes/pages/show.js","routes/pages/edit.js","routes/pages/reorder.js","routes/media/add.js","routes/media/pick.js","routes/media/show.js","routes/media/edit.js","helpers/lib/switch.js","helpers/lib/sortable.js","helpers/lib/tags.js","helpers/lib/bootstrap-button.js","helpers/lib/bootstrap-tooltip.js","helpers/lib/bootstrap-popover.js","helpers/lib/bootstrap-alert.js","app.js","../../../node_modules/lodash/dist/lodash.js","models/image.js","models/video.js","helpers/lib/elastislide.js","views/routes/index.js","views/errors/no_pages.js","views/routes/login.js","views/routes/review.js","views/routes/contact.js","views/routes/pages/show.js","views/routes/pages/edit.js","views/routes/media/add.js","helpers/lib/modernizr.js","helpers/lib/holder.js","helpers/BackboneLoader.js","helpers/db.js","helpers/JqueryLoader.js","models/base.js","collections/base.js","../../../node_modules/jquery-browserify/lib/jquery.js","views/layout/footer.js","../../../node_modules/js-thumb/lib/js-thumb.js","views/routes/media/grid.js","views/routes/media/thumb.js","views/routes/media/carousel.js","../../../node_modules/videojs/video.js","models/user.js","models/page.js","models/customization.js","collections/pageMedia.js","collections/pages.js","collections/unprocessedUploads.js","collections/videos.js","collections/images.js","../../../node_modules/backbone/backbone.js","../../../node_modules/utilities/lib/string.js","../../../node_modules/backbone/node_modules/underscore/underscore.js","../../../node_modules/utilities/lib/core.js","../../../node_modules/utilities/lib/inflection.js","views/routes/pages/create.js","views/routes/media/pick.js","views/routes/media/edit.js","views/routes/media/show.js","models/media.js","views/routes/pages/reorder.js","views/base.js","views/layout/navbar.js","templates/routes/index.hbs","templates/errors/no_pages.hbs","templates/routes/login.hbs","templates/routes/review.hbs","templates/routes/contact.hbs","../../../node_modules/async/lib/async.js","../../../node_modules/handlebars-runtime/handlebars.runtime.js","templates/routes/pages/show.hbs","templates/routes/pages/create.hbs","templates/routes/pages/edit.hbs","templates/routes/pages/reorder.hbs","templates/routes/media/add.hbs","templates/routes/media/pick.hbs","templates/routes/media/show.hbs","templates/routes/media/edit.hbs","templates/layout/navbar.hbs","templates/layout/footer.hbs","../../../node_modules/ribcage-view/index.js","templates/routes/media/grid.hbs","templates/routes/media/thumb.hbs","templates/routes/media/carousel.hbs","../../../node_modules/ribcage-view/node_modules/lodash/dist/lodash.js"],"names":["window","onload","App","require","app","document","getElementById","start","bootstrap","Messenger","targetFrame","targetDomain","prefix","this","init","prototype","replies","nextTicket","ready","queue","self","addEventListener","e","receive","send","functionName","args","replyFn","ticket","text","JSON","stringify","function","sendInternal","origin","replace","json","parse","data","except","alert","sendQueuedEvents","apply","undefined","contentWindow","postMessage","push","i","length","module","exports","config","baseUrl","videoExts","imageExts","thumbnailDims","width","height","flashMessage","s3prefix","thumberUrl","videoPlayerId","imageViewerId","placeholders","addMedia","full","half","encoding","util","placeholderThumbnail","halfSize","w","h","Math","round","isVideo","filename","ext","split","pop","toLowerCase","indexOf","isImage","ucfirst","str","s","charAt","toUpperCase","substr","uuid","possible","id","output","floor","random","join","mime","Logout","getUser","save","token","success","db","fetchCollection","fetch","getCustomization","navigate","trigger","Action","pageName","action","pages","decodeURIComponent","once","foundPage","find","page","attributes","name","set","model","resp","error","mediaType","mediaId","media","fetchModel","prompt","confirm","removeMedia","err","process","nextTick","canSetImmediate","setImmediate","canPost","f","ev","source","stopPropagation","fn","shift","setTimeout","title","browser","env","argv","binding","Error","cwd","chdir","dir","filter","xs","res","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","splitPathRe","resolve","resolvedPath","resolvedAbsolute","arguments","path","p","normalize","isAbsolute","trailingSlash","slice","paths","Array","call","index","dirname","exec","isWindows","substring","basename","extname","relative","from","to","trim","arr","end","fromParts","toParts","min","samePartsLength","outputParts","concat","sep","IndexView","NoPagesView","user","readyCount","noPagesView","lowestPriorityPage","tests","isLoggedIn","sort","at","findWhere","isPublished","encodeURIComponent","show","onReady","View","view","$","method","methods","each","$element","$div","$switchLeft","$switchRight","$label","myClasses","classes","attr","color","moving","onLabel","offLabel","icon","el","addClass","html","wrap","parent","append","is","changeStatus","$this","siblings","on","keyCode","stopImmediatePropagation","preventDefault","target","thisState","state","css","removeClass","value","closest","unbind","relativeX","pageX","originalEvent","targetTouches","offset","left","percent","right","$target","$myCheckBox","prop","parseInt","toggleActivation","toggleClass","isActive","hasClass","setActive","active","toggleState","skipOnChange","$input","setState","status","destroy","$checkbox","remove","children","unwrap","dragging","sortable","options","String","extend","connectWith","test","items","handles","add","removeData","off","handle","placeholder","tagName","not","dragDrop","dt","dataTransfer","effectAllowed","setData","detach","item","type","after","dropEffect","forcePlaceholderSize","outerHeight","hide","delimiter","tags_callbacks","doAutosize","o","minWidth","maxWidth","val","input","testSubject","escaped","testerWidth","newWidth","comfortZone","currentWidth","isValidWidthChange","resetAutosize","minInputWidth","maxInputWidth","inputPadding","position","top","fontSize","fontFamily","fontWeight","letterSpacing","whiteSpace","testerId","appendTo","addTag","jQuery","focus","callback","tagslist","unique","skipTag","tagExist","href","click","removeTag","escape","insertBefore","blur","tagsInput","updateTagsField","unescape","old","importTags","inArray","settings","interactive","defaultText","minChars","autocomplete","selectFirst","removeWithBackspace","placeholderColor","autosize","Date","getTime","pid","real_input","holder","input_wrapper","fake_input","onAddTag","onRemoveTag","onChange","containerClass","markup","insertAfter","bind","event","autocomplete_url","autocomplete_options","attrname","Autocompleter","formatted","ui","d","maxChars","which","charCodeAt","last_tag","keydown","fromCharCode","match","obj","tags","Button","element","button","defaults","$el","resetText","removeAttr","toggle","$parent","option","loadingText","Constructor","noConflict","$btn","Tooltip","constructor","eventIn","eventOut","triggers","getOptions","enabled","selector","proxy","enter","leave","_options","fixTitle","delay","key","currentTarget","clearTimeout","timeout","hoverState","$tip","pos","actualWidth","actualHeight","placement","tp","Event","hasContent","isDefaultPrevented","tip","setContent","animation","display","container","getPosition","offsetWidth","offsetHeight","applyPlacement","delta","replaceArrow","dimension","arrow","getTitle","that","removeWithAnimation","support","transition","one","$e","getBoundingClientRect","template","$arrow","validate","parentNode","enable","disable","toggleEnabled","tooltip","Popover","content","getContent","popover","dismiss","Alert","close","removeElement","_","jst","Backbone","Routes","login","logout","createPage","page/:name","page/:name/edit","page/:name/edit/:action/immediately","reorder","page/:name/addMedia","page/:name/pickMedia","review","page/:name/:type/:id","media/:type/:id/edit","media/:type/:id/remove/:page","contact","Router","initialize","unprocessed","unprocessedTimeout","func","route","body","clone","messenger","listenTo","userId","setFlash","clearFlash","onresize","resizeVideos","history","handleAppLink","pathname","parentElement","currentView","render","flash","message","listenToOnce","router","params","console","log","statusText","responseText","errToShow","buff","logoutFromInactivity","ii","toString","custId","customizationId","customization","getUserVars","userVars","global","arrayPool","objectPool","idCounter","indicatorObject","keyPrefix","largeArraySize","maxPoolSize","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reEsTemplate","reFlags","reInterpolate","reThis","runInContext","whitespace","reLeadingSpacesAndZeros","RegExp","reNoMatch","reUnescapedHtml","reUnescapedString","contextProps","templateCounter","argsClass","arrayClass","boolClass","dateClass","errorClass","funcClass","numberClass","objectClass","regexpClass","stringClass","cloneableClasses","objectTypes","boolean","object","number","string","stringEscapes","\\","'","\n","\r","\t"," "," ","freeExports","freeModule","freeGlobal","basicIndexOf","array","fromIndex","cacheIndexOf","cache","cachePush","typeCache","charAtCallback","compareAscending","a","b","ai","bi","criteria","createCache","getObject","result","releaseObject","escapeStringChar","getArray","false","leading","maxWait","null","trailing","true","noop","releaseArray","context","Object","pick","Boolean","Function","Number","TypeError","arrayRef","objectProto","stringProto","oldDash","reNative","valueOf","ceil","fnToString","getPrototypeOf","hasOwnProperty","propertyIsEnumerable","nativeBind","nativeCreate","create","nativeIsArray","isArray","nativeIsFinite","isFinite","nativeIsNaN","isNaN","nativeKeys","keys","nativeMax","max","nativeMin","nativeParseInt","nativeRandom","nativeSlice","isIeOpera","attachEvent","isV8","ctorByClass","lodash","lodashWrapper","__wrapped__","fastBind","templateSettings","evaluate","interpolate","variable","imports","createBound","thisArg","partialArgs","indicator","isFunc","isFunction","isPartial","rightIndicator","bound","thisBinding","createObject","isObject","escapeHtmlChar","htmlEscapes","getIndexOf","overloadWrapper","flag","createCallback","shimIsPlainObject","ctor","forIn","unescapeHtmlChar","htmlUnescapes","isArguments","shimKeys","iterable","&","<",">","\"","invert","assign","guard","argsIndex","argsLength","ownIndex","ownProps","deep","stackA","stackB","isObj","className","isArr","initedStack","forEach","forOwn","objValue","cloneDeep","findKey","collection","functions","has","property","props","isBoolean","isDate","isElement","nodeType","isEmpty","isEqual","whereIndicator","otherType","otherClass","ctorA","ctorB","size","parseFloat","isNumber","isNull","isPlainObject","objProto","isRegExp","isString","isUndefined","merge","deepIndicator","found","stackLength","isShallow","omit","pairs","transform","accumulator","proto","values","contains","countBy","every","groupBy","invoke","methodName","map","computed","Infinity","current","pluck","reduce","noaccum","reduceRight","reject","shuffle","rand","some","sortBy","toArray","where","compact","difference","seen","isLarge","findIndex","first","n","flatten","sortedIndex","initial","intersection","caches","outer","lastIndexOf","range","step","rest","low","high","identity","mid","union","uniq","isSorted","unzip","without","zip","zipObject","bindAll","funcs","bindKey","compose","argCount","debounce","wait","callCount","lastCalled","maxTimeoutId","timeoutId","clear","delayed","isCalled","maxDelayed","now","remaining","defer","memoize","resolver","memoized","ran","partial","partialRight","throttle","wrapper","mixin","radix","importsKeys","importsValues","isEvaluating","reDelimiters","escapeValue","interpolateValue","esTemplateValue","evaluateValue","hasVariable","sourceURL","times","uniqueId","tap","interceptor","wrapperToString","wrapperValueOf","collect","drop","select","tail","chain","all","any","detect","foldl","foldr","include","inject","take","head","VERSION","define","amd","Media","Image","urlRoot","Video","$event","$special","resizeTimeout","special","debouncedresize","setup","handler","teardown","execAsap","dispatch","threshold","BLANK","imagesLoaded","deferred","Deferred","hasNotify","notify","$images","loaded","proper","broken","doneLoading","$proper","$broken","imgLoaded","img","isBroken","src","notifyWith","cached","complete","naturalWidth","naturalHeight","readyState","promise","$window","Modernizr","Elastislide","_init","orientation","speed","easing","minItems","onClick","evt","onBeforeSlide","onAfterSlide","transEndEventNames","WebkitTransition","MozTransition","OTransition","msTransition","transEndEventName","prefixed","csstransitions","csstransforms","isSliding","$items","itemsCount","_validate","empty","hasTransition","hasTransitionTimeout","_addTransition","_layout","_configure","_removeTransition","_slideToItem","_setWrapperSize","_initEvents","$carousel","$wrapper","$img","imgSize","outerWidth","_setItemsSize","_addControls","$navigation","$navPrev","_slide","$navNext","max-width","max-height","fitCount","_onEndTransition","swipeleft","swiperight","swipeup","swipedown","$item","_destroy","_toggleControls","tvalue","translation","itemSpace","totalSpace","visibleSpace","amount","abs","ftv","applyStyle","animate","styleCSS","stop","duration","_slideTo","posR","oldcurrent","$currentItem","eq","setCurrent","idx","next","previous","slideStart","slideEnd","logError","elastislide","NavbarView","FooterView","afterRender","navbar","footer","appendSubview","eachSubview","subview","getContext","ErrorView","LoginView","renderOnReady","events","submit","click a.app","click a.provisionTestAccount","username","password","policy","provisionTestAccount","unprocessedAttrs","templateVars","nothingToReview","nameVal","emailVal","messageVal","ajax","url","jqXHR","textStatus","errorThrown","email","dataType","GridView","ShowView","fetchPage","grid","Holder","EditView","click a.btn-danger","validationError","getMedia","safeName","readSortOrder","bootstrapSwitch","run","performSave","performDelete","proceed","models","pageItems","elem","fModel","get","ID","NAME","TYPE","THUMB","thumbnailS3key","reset","click a.filepicker","inputElem","pickMediaUrl","startFilepicker","debug_cb","FPFiles","code","version","enableClasses","docElement","documentElement","mod","modElem","createElement","mStyle","style","prefixes","omPrefixes","cssomPrefixes","domPrefixes","inputs","attrs","featureName","injectElementWithStyles","rule","nodes","testnames","ret","node","docOverflow","div","fakeBody","appendChild","innerHTML","background","overflow","removeChild","_hasOwnProperty","hasOwnProp","F","setCss","cssText","setCssAll","str1","str2","testProps","testDOMProps","testPropsAll","ucProp","bool","DocumentTouch","offsetTop","feature","addTest","html5","reSkip","saveClones","supportsHtml5Styles","expando","expanID","expandoData","supportsUnknownElements","childNodes","frag","createDocumentFragment","cloneNode","addStyleSheet","ownerDocument","getElementsByTagName","lastChild","firstChild","getElements","elements","getExpandoData","nodeName","createElem","canHaveChildren","elems","l","shivMethods","createFrag","shivDocument","shivCSS","hasCSS","_version","_prefixes","_domPrefixes","_cssomPrefixes","testProp","testAllProps","testStyles","c","g","q","t","m","B","injectCss","injectJs","x","j","k","u","r","onreadystatechange","y","errorTimeout","onerror","v","loader","load","createRange","compareNode","opera","z","A","origUrl","autoCallback","bypass","instead","noexec","forceCSS","forceJS","both","yep","nope","yepnope","addPrefix","addFilter","removeEventListener","executeStack","setAttribute","rel","win","preempted","fallback","canvas","getElementsByClassName","querySelectorAll","iterateNext","getComputedStyle","getPropertyValue","currentStyle","contentLoaded","doScroll","createEventObject","frameElement","__proto__","text_size","dimension_arr","maxFactor","minFactor","text_height","draw","ctx","dimensions","ratio","ts","font","textAlign","textBaseline","fillStyle","fillRect","foreground","measureText","fillText","toDataURL","mode","theme","dimensions_caption","devicePixelRatio","auto","backgroundColor","backgroundImage","backgroundSize","fluid","createTextNode","fluid_images","fluid_update","nextSibling","label","lineHeight","parse_flags","flags","themes","gray","sl","colors","domain","images","bgnodes","social","industrial","stylesheet","regex","add_theme","add_image","NodeList","imageNodes","Node","holdercss","styleSheet","textContent","cssregex","getAttribute","proxiedSync","sync","toJSON","methodUrl","crossDomain","xhrFields","withCredentials","proxiedSuccess","errors","sendToErrorhandler","image","video","collections","pagemedia","unprocesseduploads","videos","createModel","modelName","createCollection","collectionName","cacheKey","modelObj","isFetched","safeAttrs","collectionObj","BaseModel","Model","opts","root","Collection","factory","returnExports","rootjQuery","readyList","location","navigator","_jQuery","_$","core_push","core_slice","core_indexOf","core_toString","core_hasOwn","core_trim","core_pnum","core_rnotwhite","core_rspace","rtrim","rquickExpr","rsingleTag","rvalidchars","rvalidbraces","rvalidescape","rvalidtokens","rmsPrefix","rdashAlpha","fcamelCase","letter","DOMContentLoaded","detachEvent","class2type","doc","parseHTML","jquery","makeArray","num","pushStack","prevObject","done","copy","copyIsArray","isReady","readyWait","holdReady","hold","resolveWith","isWindow","isNumeric","isEmptyObject","msg","scripts","parsed","buildFragment","cacheable","fragment","parseJSON","parseXML","xml","tmp","DOMParser","parseFromString","ActiveXObject","async","loadXML","globalEval","execScript","camelCase","results","len","second","grep","inv","retVal","arg","guid","access","chainable","emptyGet","pass","bulk","doScrollCheck","optionsCache","createOptions","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","fire","stopOnFalse","disabled","lock","locked","fireWith","tuples","always","fail","then","fns","newDefer","tuple","returned","progress","pipe","stateString","when","subordinate","resolveValues","updateFunc","contexts","progressValues","progressContexts","resolveContexts","opt","eventName","isSupported","clickFn","leadingWhitespace","tbody","htmlSerialize","hrefNormalized","opacity","cssFloat","checkOn","optSelected","selected","getSetAttribute","enctype","html5Clone","outerHTML","boxModel","compatMode","submitBubbles","changeBubbles","focusinBubbles","deleteExpando","noCloneEvent","inlineBlockNeedsLayout","shrinkWrapBlocks","reliableMarginRight","boxSizingReliable","pixelPosition","checked","noCloneChecked","optDisabled","fireEvent","radioValue","checkClone","appendChecked","change","focusin","tds","marginDiv","divReset","reliableHiddenOffsets","boxSizing","doesNotIncludeMarginInBodyOffset","marginRight","zoom","rbrace","rmultiDash","deletedIds","noData","embed","applet","hasData","isEmptyDataObject","pvt","acceptData","thisCache","internalKey","getByName","isNode","cleanData","_data","part","dataAttr","triggerHandler","dequeue","startLength","hooks","_queueHooks","setter","time","fx","speeds","clearQueue","count","nodeHook","boolHook","fixSpecified","rclass","rreturn","rtype","rfocusable","rclickable","rboolean","removeProp","propFix","classNames","setClass","cl","removes","stateVal","isBool","valHooks","specified","selectedIndex","attrFn","notxml","nType","isXMLDoc","attrHooks","propName","attrNames","removeAttribute","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","propHooks","tabIndex","attributeNode","getAttributeNode","attrNode","nodeValue","coords","createAttribute","setAttributeNode","rformElems","rtypenamespace","rhoverHack","rkeyEvent","rmouseEvent","rfocusMorph","hoverHack","hover","types","elemData","eventHandle","tns","namespaces","handleObj","handleObjIn","handlers","triggered","delegateType","bindType","origType","namespace","delegateCount","mappedTypes","origCount","eventType","removeEvent","customEvent","getData","changeData","onlyHandlers","exclusive","cur","ontype","eventPath","bubbleType","isTrigger","namespace_re","noBubble","defaultView","parentWindow","isPropagationStopped","_default","fix","selMatch","matched","matches","sel","related","run_all","handlerQueue","delegateTarget","preDispatch","isImmediatePropagationStopped","postDispatch","fixHooks","keyHooks","original","charCode","mouseHooks","eventDoc","fromElement","clientX","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","relatedTarget","toElement","fixHook","srcElement","metaKey","beforeunload","onbeforeunload","simulate","bubble","isSimulated","defaultPrevented","returnValue","getPreventDefault","returnTrue","returnFalse","timeStamp","cancelBubble","mouseenter","mouseleave","orig","form","_submit_bubble","propertyName","_just_changed","attaches","origFn","live","die","delegate","undelegate","toggler","lastToggle","fnOver","fnOut","dirruns","cachedruns","assertGetIdNotName","Expr","getText","isXML","compile","sortOrder","hasDuplicate","baseHasDuplicate","strundefined","docElem","markFunction","cacheLength","classCache","tokenCache","compilerCache","characterEncoding","identifier","operators","pseudos","rcomma","rcombinators","rpseudo","rnot","rsibling","rendsWithNot","rheader","rinputs","rbackslash","matchExpr","CLASS","TAG","ATTR","PSEUDO","CHILD","POS","needsContext","assert","assertTagNameNoComments","createComment","assertHrefNotNormalized","assertAttributes","assertUsableClassName","assertUsableName","getElementsByName","Sizzle","seed","expr","matchesSelector","createInputPseudo","createButtonPseudo","adown","bup","compareDocumentPosition","attrHandle","selectors","createPseudo","order","tag"," ","+","~","preFilter","unquoted","excess","tokenize","pattern","operator","check","argument","doneName","diff","sizset","previousSibling","pseudo","matcher","innerText","header","radio","checkbox","file","activeElement","hasFocus","setFilters","even","odd","lt","gt","siblingCheck","sourceIndex","al","bl","ap","bp","aup","uniqueSort","parseOnly","tokens","soFar","groups","group","preFilters","filters","checkContext","captures","addCombinator","combinator","dirkey","cachedkey","addMatcher","higher","deeper","matcherFromTokens","matcherFromGroupMatchers","matchers","runs","multipleContexts","handlePOSGroup","posfilter","handlePOS","groupLen","anchor","lastIndex","currentContexts","rpos","rposgroups","setUndefined","lastToken","findContext","contextNodeType","disconnectedMatch","oldSelect","rescape","rattributeQuotes","rbuggyQSA","rbuggyMatches","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","msMatchesSelector","qsaError","nid","newContext","runtil","rparentsprev","isSimple","rneedsContext","guaranteedUnique","contents","prev","targets","winnow","prevAll","isDisconnected","addBack","andSelf","sibling","parents","parentsUntil","until","nextAll","nextUntil","prevUntil","contentDocument","reverse","qualifier","keep","filtered","createSafeFragment","nodeNames","safeFrag","rinlinejQuery","rleadingWhitespace","rxhtmlTag","rtagName","rtbody","rhtml","rnoInnerhtml","rnocache","rnoshimcache","rcheckableType","rchecked","rscriptType","rcleanScript","wrapMap","legend","thead","tr","td","col","area","safeFragment","fragmentDiv","optgroup","tfoot","colgroup","caption","th","wrapAll","wrapInner","replaceWith","domManip","prepend","before","clean","keepData","dataAndEvents","deepDataAndEvents","table","iNoClone","findOrAppend","throws","cloneCopyEvent","dest","oldData","curData","cloneFixAttributes","clearAttributes","mergeAttributes","defaultChecked","defaultSelected","defaultValue","cachehit","fragments","prependTo","replaceAll","insert","getAll","fixDefaultChecked","srcElements","destElements","depth","hasBody","handleScript","jsTags","safe","uaMatch","ua","userAgent","chrome","webkit","safari","sub","jQuerySub","superclass","rootjQuerySub","curCSS","iframe","iframeDoc","ralpha","ropacity","rposition","rdisplayswap","rmargin","rnumsplit","rnumnonpx","rrelNum","elemdisplay","cssShow","visibility","cssNormalTransform","cssExpand","cssPrefixes","eventsToggle","vendorPropName","capName","origName","isHidden","showHide","css_defaultDisplay","fn2","cssHooks","cssNumber","fillOpacity","orphans","widows","zIndex","cssProps","float","extra","numeric","swap","rsLeft","runtimeStyle","pixelLeft","setPositiveNumber","subtract","augmentWidthOrHeight","isBorderBox","getWidthOrHeight","valueIsBorderBox","frameBorder","write","$1","hidden","visible","margin","padding","border","suffix","expand","expanded","r20","rbracket","rCRLF","rinput","rselectTextarea","serialize","param","serializeArray","traditional","ajaxSettings","buildParams","ajaxLocation","ajaxLocParts","rhash","rheaders","rlocalProtocol","rnoContent","rprotocol","rquery","rscript","rts","rurl","_load","prefilters","transports","allTypes","addToPrefiltersOrTransports","structure","dataTypeExpression","placeBefore","dataTypes","inspectPrefiltersOrTransports","originalOptions","inspected","selection","executeOnly","ajaxExtend","flatOptions","response","getScript","getJSON","ajaxSetup","isLocal","contentType","processData","accepts","*","responseFields","converters","* text","text html","text json","text xml","ajaxPrefilter","ajaxTransport","ifModifiedKey","responseHeadersString","responseHeaders","transport","timeoutTimer","fireGlobals","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","setRequestHeader","lname","getAllResponseHeaders","getResponseHeader","overrideMimeType","mimeType","abort","nativeStatusText","responses","headers","isSuccess","modified","ajaxHandleResponses","ifModified","lastModified","etag","ajaxConvert","rejectWith","beforeSend","ct","finalDataType","firstDataType","conv","conv2","dataFilter","oldCallbacks","rquestion","rjsonp","nonce","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","hasCallback","replaceInUrl","replaceInData","script","text script","scriptCharset","charset","isAbort","xhrCallbacks","xhrOnUnloadAbort","xhrId","createStandardXHR","XMLHttpRequest","createActiveXHR","xhr","cors","open","responseXML","firefoxAccessException","unload","fxNow","timerId","rfxtypes","rfxnum","rrun","animationPrefilters","defaultPrefilter","tweeners","unit","prevScale","tween","createTween","scale","createFxNow","createTweens","Animation","properties","tweenerIndex","tick","currentTime","startTime","tweens","specialEasing","originalProperties","Tween","gotoEnd","propFilter","timer","anim","tweener","prefilter","dataShow","oldfire","handled","unqueued","overflowX","overflowY","eased","cssFn","genFx","fadeTo","optall","doAnimation","stopQueue","timers","includeWidth","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","linear","swing","cos","PI","setInterval","interval","clearInterval","slow","fast","animated","rroot","setOffset","box","bodyOffset","getWindow","pageYOffset","pageXOffset","offsetLeft","curElem","curOffset","curCSSTop","curCSSLeft","calculatePosition","curPosition","curTop","curLeft","using","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","copyrightYear","getFullYear","JSThumb","_videoJs","videoJsAliases","resizeList","breaker","iterator","alias","entry","player","newHeight","resizeReferenceElement","upscale","loadVideo","cb","videoElement","videoWrapperElement","defaultAttributes","afterLoad","resizeOpts","metadataTimeout","onReadyCalled","sources","controls","preload","resize","center","vjs","players","dispose","videoDims","sourceElement","childNode","notSupported","videoWidth","videoHeight","screenshot","origWidth","origHeight","drawImage","maxHeight","canvasOut","canvasIn","ctxOut","ctxIn","cropWidth","cropHeight","widthFirstRatio","widthFirstHeight","heightFirstRatio","heightFirstWidth","resizeData","imageData","jsthumb","ThumbView","resizeIframe","saveThumbnail","captureThumbnail","port","hdUrl","s3key","base64data","respMediaId","useThumbnail","CarouselView","click a.bigClose","click a.reelToggle","click a.goLeft","click a.goRight","reelOpen","advance","currentMedia","toggleReel","lastMedia","mock","lastElementWasMatch","matchedElement","playerUrl","curModel","handleLeftButton","handleRightButton","exitPlayer","Player","videojs","CDN_VERSION","ACCESS_PROTOCOL","protocol","techOrder","defaultVolume","mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","CoreObject","subObj","inst","dispatcher","fixEvent","handlersCopy","removeType","cleanUpEvents","targetData","callee","createEl","capitalize","obj1","obj2","deepMerge","val1","val2","objDef","isPlain","uid","classToAdd","classToRemove","TEST_VID","USER_AGENT","IS_IPHONE","IS_IPAD","IS_IPOD","IS_IOS","IOS_VERSION","IS_ANDROID","ANDROID_VERSION","IS_FIREFOX","getAttributeValues","knownBooleans","attrName","attrVal","getComputedDimension","strCssRule","strValue","insertFirst","child","formatTime","seconds","guide","gm","gh","blockTextSelection","onselectstart","unblockTextSelection","dec","pow","createTimeRange","onSuccess","onError","local","request","setLocalStorage","localStorage","getAbsoluteURL","findPosition","docEl","Component","player_","options_","id_","name_","el_","children_","childIndex_","childNameIndex_","initChildren","contentEl_","contentEl","getChildById","getChild","addChild","component","componentClass","componentName","componentId","childFound","compEl","tempAdd","buildCSSClass","isReady_","isReadyOnInitFinish_","readyQueue_","triggerReady","readyQueue","lockShowing","unlockShowing","skipListeners","widthOrHeight","pxIndex","touchstart","onFocus","onBlur","buttonText","role","aria-live","onKeyPress","Slider","bar","playerEvent","update","onMouseDown","boundEvents","aria-valuenow","aria-valuemin","aria-valuemax","move","onMouseMove","onMouseUp","barProgress","getPercent","boxWidth","handleWidth","handlePercent","boxAdjustedPercent","adjustedProgress","calculateDistance","boxX","boxY","boxW","boxH","vertical","changedTouches","handleH","handleW","stepBack","stepForward","SliderHandle","Menu","addItem","contentElType","MenuItem","MenuButton","menu","createMenu","buttonPressed_","kind_","createItems","unpressButton","pressButton","getTagSettings","cache_","poster_","controls_","fpEvent","keepGoing","onEnded","onPlay","onFirstPlay","onPause","onProgress","onDurationChange","onFullscreenChange","stopTrackingProgress","stopTrackingCurrentTime","tech","tracks","hasChildNodes","childName","nrOfChildNodes","loadTech","techName","unloadTech","techReady","features","progressEvents","manualProgressOn","timeupdateEvents","manualTimeUpdatesOn","techOptions","parentEl","manualProgress","manualProgressOff","manualTimeUpdates","manualTimeUpdatesOff","trackProgress","progressInterval","bufferEnd","buffered","bufferedPercent","trackCurrentTime","currentTimeInterval","play","techGet","isFullScreen","getCache","techCall","pause","paused","lastSetCurrentTime","remainingTime","volume","percentAsDecimal","vol","muted","supportsFullScreen","requestFullScreen","requestFn","enterFullWindow","cancelFullScreen","cancelFn","exitFullWindow","isFullWindow","docOrigOverflow","fullWindowOnEscKey","selectSource","sourceTech","currentSrc","autoplay","loop","poster","ended","requestFS","cancelFullscreen","mozCancelFullScreen","ControlBar","search","loadEvent","playToggle","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","progressControl","fullscreenToggle","volumeControl","muteToggle","PlayToggle","CurrentTimeDisplay","updateContent","DurationDisplay","TimeDivider","RemainingTimeDisplay","FullscreenToggle","ProgressControl","seekBar","SeekBar","updateARIAAttributes","loadProgressBar","playProgressBar","seekHandle","barName","handleName","aria-label","scrubbing","videoWasPlaying","newTime","LoadProgressBar","PlayProgressBar","SeekHandle","VolumeControl","volumeBar","VolumeBar","volumeLevel","volumeHandle","VolumeLevel","VolumeHandle","MuteToggle","level","VolumeMenuButton","vc","PosterImage","LoadingSpinner","BigPlayButton","MediaTechController","fullscreenResize","ApiMethods","createMethod","Html5","canControlVolume","movingMediaElementInDOM","setupTriggers","newEl","Events","eventHandler","setCurrentTime","setVolume","setMuted","webkitEnterFullScreen","enterFullScreen","networkState","HAVE_METADATA","exitFullScreen","webkitExitFullScreen","setPreload","setAutoplay","setLoop","seeking","defaultMuted","canPlayType","canPlaySource","srcObj","Flash","placeHolder","objId","playerOptions","flashVars","readyFunction","eventProxyFunction","errorEventProxyFunction","wmode","bgcolor","iFrm","scrolling","marginWidth","marginHeight","iDoc","iWin","getEmbedCode","currSwf","checkReady","swfID","replaceChild","vjs_play","vjs_pause","vjs_src","vjs_load","vjs_getProperty","api","readWrite","readOnly","createSetter","attrUpper","vjs_setProperty","createGetter","formats","video/flv","video/x-flv","video/mp4","video/m4v","GetVariable","mimeTypes","enabledPlugin","plugins","description","swf","par","newObj","objTag","flashVarsString","paramsString","attrsString","movie","flashvars","allowScriptAccess","allowNetworking","MediaLoader","textTracks_","textTracks","addTextTrack","kind","language","Kind","track","addTextTracks","trackList","trackObj","showTextTrack","disableSameKind","showTrack","TextTrack","src_","dflt_","title_","language_","label_","cues_","activeCues_","readyState_","mode_","adjustFontSize","dflt","cues","activeCues","screen","activate","deactivate","parseCues","srcContent","cue","lines","line","parseCueTime","endTime","timeText","hours","minutes","other","ms","prevChange","nextChange","newNextChange","newPrevChange","newCues","firstActiveIndex","lastActiveIndex","updateDisplay","CaptionsTrack","SubtitlesTrack","ChaptersTrack","TextTrackDisplay","TextTrackMenuItem","OffTextTrackMenuItem","TextTrackButton","CaptionsButton","SubtitlesButton","ChaptersButton","chaptersTrack","mi","ChaptersTrackMenuItem","subtitlesButton","captionsButton","chaptersButton","cx","reviver","walk","eval","SyntaxError","autoSetup","vid","vids","autoSetupTimeout","windowLoaded","plugin","Customization","User","dataCopy","signature","stringUtils","Page","incoming","itemList","pageId","newItems","filepicker","pickAndStore","extensions","multiple","services","itemsToGo","afterItemComplete","savedModel","new_id","new_name","thumbnailUrl","FPFile","fpkey","mimetype","originalFilesize","attribs","cropThumbnail","FPError","diffs","PageMedia","Pages","parsedAttrs","comparator","UnprocessedUploads","Videos","Images","previousBackbone","Zepto","ender","emulateHTTP","emulateJSON","eventsApi","_events","_callback","retain","names","allEvents","triggerEvents","stopListening","listeners","_listeners","deleteListener","_listenerId","eventSplitter","a1","a2","a3","listenMethods","implementation","cid","modelOptions","changed","idAttribute","unset","changes","silent","changing","_changing","_previousAttributes","_pending","hasChanged","changedAttributes","previousAttributes","wrapError","serverAttrs","isNew","patch","base","urlError","isValid","modelMethods","_reset","setOptions","addOptions","_byId","_removeReference","existing","sortAttr","toAdd","toRemove","modelMap","_prepareModel","_onModelEvent","previousModels","begin","attributeMethods","_ensureElement","delegateEvents","delegateEventSplitter","viewOptions","setElement","undelegateEvents","methodMap","_method","external","msActiveXFilteringEnabled","delete","read","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","_routeToRegExp","_extractParameters","optional","History","routeStripper","rootStripper","isExplorer","started","getHash","getFragment","forcePushState","_hasPushState","_wantsHashChange","hashChange","_wantsPushState","pushState","docMode","documentMode","oldIE","checkUrl","_checkUrlInterval","loc","atRoot","hash","replaceState","loadUrl","fragmentOverride","_updateHash","protoProps","staticProps","Surrogate","__super__","core","inflection","_LTR","_RTR","_TR","_NL","_CHARS","_UUID_CHARS","_buildEscape","_buildEscapeTest","direction","pat","escapeXML","unescapeXML","needsEscape","needsUnescape","escapeRegExpChars","specials","sRE","ltrim","char","chomp","chop","lpad","rpad","pad","truncate","stringLen","stringLenWithOmission","ignoreCase","multiLine","stringToWorkWith","nextStop","returnString","omission","ellipsis","seperator","truncateHTML","truncated","firstPos","lastPos","openTag","nl2br","snakeize","repl","lead","separ","underscorize","underscoreize","decamelize","camelize","initialCap","leadingUnderscore","m1","decapitalize","dasherize","searchIn","searchFor","getInflections","normalizedName","pluralize","nameSingular","singularize","namePlural","singular","plural","getInflection","pluralization","infl","chars","previousUnderscore","ArrayProto","ObjProto","FuncProto","nativeForEach","nativeMap","nativeReduce","nativeReduceRight","nativeFilter","nativeEvery","nativeSome","nativeIndexOf","nativeLastIndexOf","_wrapped","reduceError","memo","shuffled","lookupIterator","behavior","shallow","hasIndex","hasher","later","immediate","callNow","aStack","bStack","multiline","aCtor","bCtor","accum","entityMap","/","entityRegexes","noMatch","escapes","escaper","_chain","_mix","targ","includeProto","enhance","inflections","plurals","singulars","uncountables","setInflection","setPlural","setSingular","setUncountable","setIrregular","replacement","word","lowWord","toggleContact","showContact","priority","default","click .reelgrid a","uploadUrl","appendMedia","click a.upload","click a.crop","click a.capture","click a.choose","showThumbnailPicker","thumber","isEncoded","readInput","readAttributes","ucedType","fpfile","performPick","pickThumbnail","performCapture","performChoose","beforeRender","beforeClose","mediaTemplateVars","carouselView","afterVideoLoad","thumbnailFpkey","reviewIssue","userAttributes","afterCheckingMedia","debug","stat","thumbnailFpfile","metadata","oldcb","convert","fit","FPFileThumb","base64Data","store","base64decode","isWriteable","safePageName","halfSizeThumbnails","attributeList","editHref","removeHref","sdUrl","isEncoding","ReorderView","saves","parallel","Ribcage","things","thingCount","thing","query","errmsg","additions","userAdditions","ourAdditions","addMediaHref","editPageHref","editPageMakePublicHref","editPageMakePrivateHref","modelAttrs","unprocessedCount","pluralS","isAre","unprocessedPrompt","safename","addHref","createHref","reviewHref","reorderHref","hasAtLeastTwoPages","isHome","isContact","isPage","isEditingPage","isAddingMedia","isEditingMedia","isCreatingPage","isReviewingUploads","isReorderingPages","Handlebars","depth0","helpers","partials","compilerInfo","buffer","stack1","functionType","escapeExpression","sitetitle","program1","program3","stack2","inverse","program","program4","program6","previous_async","only_once","called","_each","_map","_reduce","_keys","completed","eachSeries","iterate","forEachSeries","eachLimit","limit","_eachLimit","forEachLimit","running","replenish","doParallel","doParallelLimit","doSeries","_asyncMap","eachfn","mapSeries","mapLimit","_mapLimit","reversed","_filter","filterSeries","selectSeries","_reject","rejectSeries","_detect","main_callback","detectSeries","tasks","addListener","removeListener","taskComplete","task","taskCallback","safeResults","rkey","requires","listener","waterfall","wrapIterator","_parallel","parallelLimit","series","makeCallback","_concat","concatSeries","whilst","doWhilst","doUntil","worker","concurrency","_insert","saturated","workers","drain","cargo","payload","working","ds","_console_fn","queues","unmemoized","unmemoize","counter","timesSeries","newargs","nextargs","_applyEach","go","applyEach","applyEachSeries","forever","COMPILER_REVISION","REVISION_CHANGES",1,2,3,4,"objectType","registerHelper","Exception","Utils","registerPartial","K","createFrame","logger","DEBUG","INFO","WARN","ERROR","conditional","errorProps","SafeString","`","badChars","escapeChar","chr","VM","templateSpec","invokePartial","programs","programWrapper","common","programWithDepth","compilerRevision","currentRevision","runtimeVersions","compilerVersions","program2","program7","program9","program5","depth1","program12","depth2","thumbnail","unless","program10","program8","program13","blockHelperMissing","program17","program15","program19","program24","program11","program22","program20","program27","program25","program29","program32","program30","program34","program37","program35","program39","Base","tn","templateName","beforeInit","afterInit","closeSubviews","beforeTemplating","subviews","afterAppend","detachSubview","objectRef","cachedContains","flattened","0","inited","tupleLength","tupleIndex","trailingCall"],"mappings":"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","sourcesContent":["window.onload = function () {\n  /**\n  * Main app\n  */\n  \n  var App = require('./app');\n  \n  window.app = new App(document.getElementById(\"app\"));\n  \n  window.app.start(window.bootstrap);\n};\n","(function () {\n  /** @constructor */\n  //\n  // From: http://stevehanov.ca/blog/index.php?id=109\n  //\n  // The messenger object handles bi-directional communication between the main\n  // window and an iframe. It will also queue messages until the iframe has\n  // finished loading and sends the ready signal.\n  function Messenger( targetFrame, targetDomain, prefix )\n  {\n      this.init( targetFrame, targetDomain, prefix );\n  }\n\n  Messenger.prototype = {\n      init: function( targetFrame, targetDomain, prefix ) {\n          // The DOM node of the target iframe.\n          this.targetFrame = targetFrame;\n\n          // The domain, including http:// of the target iframe.\n          this.targetDomain = targetDomain;\n\n          // A prefix used for distinguishing multiple instances of this script.\n          this.prefix = prefix;\n\n          // A map from ticket number strings to functions awaiting replies. The\n          // tickets include the prefix so we don't get confused with multiple\n          // instances of the iframe.\n          this.replies = {};\n          this.nextTicket = 0;\n\n          // Until the \"ready\" signal is received, all messages for the iframe go\n          // into this queue.\n          this.ready = false;\n          this.queue = [];\n\n          var self = this;\n          window.addEventListener(\"message\", function(e) {\n              self.receive(e);\n          }, false );\n      },\n\n      send: function( functionName, args, replyFn ) {\n          var ticket = \"ticket_\" + this.prefix + \"_\" + (this.nextTicket++);\n          var text = JSON.stringify( {\n              \"function\": functionName,\n              \"args\": args,\n              \"ticket\": ticket\n          });\n\n          if ( replyFn ) {\n              this.replies[ticket] = replyFn;\n          }\n\n          this.sendInternal( text );\n      },\n\n      receive: function( e ) {\n          if ( e.origin.replace(/https?:\\/\\//,'') !== this.targetDomain.replace(/\\/$/, '').replace(/https?:\\/\\//,'') ) {\n              // not for us: ignore.\n              return;\n          }\n\n          var json;\n\n          try {\n              json = JSON.parse( e.data );\n          } catch(except) {\n              alert( \"Syntax error in response from \" + e.origin + \": \" + e.data );\n              return;\n          }\n\n          if ( json[\"event\"] === \"ready\" ) {\n              this.ready = true;\n              this.sendQueuedEvents();\n              return;\n          }\n\n          if ( !(json[\"ticket\"] in this.replies ) ) {\n              // no reply ticket.\n              return;\n          }\n\n          var replyFn = this.replies[json[\"ticket\"]];\n          delete this.replies[json[\"ticket\"]];\n\n          var args = [];\n          if ( \"args\" in json ) {\n              args = json[\"args\"];\n          }\n\n          replyFn.apply( undefined, args );\n      },\n\n      sendInternal: function( text )\n      {\n          if ( this.ready ) {\n              this.targetFrame.contentWindow.postMessage( text, this.targetDomain\n                      );\n          } else {\n              this.queue.push( text );\n          }\n      },\n\n      sendQueuedEvents: function() {\n\n          for( var i = 0; i < this.queue.length; i++ ) {\n              this.targetFrame.contentWindow.postMessage( this.queue[i],\n                      this.targetDomain);\n          }\n          this.queue.length = 0;\n      }\n  };\n\n  module.exports = Messenger;\n}());","(function () {\n  var config = {};\n\n  // APP CONFIG\n  if(undefined || undefined === 'staging') {\n    config.baseUrl = \"http://staging.toolkitt.com\";\n  }\n  else if(undefined === 'development') {\n    config.baseUrl = \"http://localdev.toolkitt.com:4000\";\n  }\n  else {\n    config.baseUrl = 'http://www.toolkitt.com';\n  }\n\n  config.videoExts = ['.mp4', '.m4v', '.f4v', '.webm', '.ogv','.flv','.mov'];\n  config.imageExts = ['.gif', '.png', '.jpeg', '.jpg', '.bmp'];\n  config.thumbnailDims = {width:340,height:192};\n  config.flashMessage = null;\n  config.s3prefix = 'https://toolkitt.s3.amazonaws.com/';\n  config.thumberUrl = 'https://toolkitt.s3.amazonaws.com/thumber.html';\n  config.videoPlayerId = \"media_video\";\n  config.imageViewerId = \"media_image\";\n\n  config.placeholders = {\n    addMedia: {\n      full: 'http://toolkitt.s3.amazonaws.com/addmedia.png'\n    , half: 'http://toolkitt.s3.amazonaws.com/addmedia-half.png'\n    }\n  , encoding: {\n      full: 'http://toolkitt.s3.amazonaws.com/encoding.gif'\n    , half: 'http://toolkitt.s3.amazonaws.com/encoding-half.gif'\n    }\n  };\n\n  module.exports = config;\n}());","module.exports = function (config) {\n  var util = {};\n\n  /*\n  * Creates a holder.js URL to use as a placeholder thumbnail\n  */\n  util.placeholderThumbnail = function(halfSize) {\n    var w = config.thumbnailDims.width;\n    var h = config.thumbnailDims.height;\n\n    if(halfSize) {\n      w=Math.round(w/2);\n      h=Math.round(h/2);\n    }\n\n    return 'http://holder.js/'+w+'x'+h+'/text:No Thumbnail';\n  };\n\n\n  util.isVideo = function(filename) {\n    var ext = '.'+filename.split('.').pop().toLowerCase();\n    return config.videoExts.indexOf(ext)>=0;\n  };\n\n  util.isImage = function(filename) {\n    var ext = '.'+filename.split('.').pop().toLowerCase();\n    return config.imageExts.indexOf(ext)>=0;\n  };\n\n  util.ucfirst = function(str) {\n    var s = str.charAt(0).toUpperCase();\n    return s + str.substr(1);\n  };\n\n  util.uuid = function(length) {\n    var possible = \"abcdefghijklmnopqrstuvwxyz\"\n      , length = length || 10\n      , id\n      , output = [];\n\n    for( i=0; i < length; i++ ) {\n      output.push(possible.charAt(Math.floor(Math.random() * possible.length)));\n    }\n\n    return output.join('');\n  };\n\n  util.mime = function(mime) {\n    if(mime === 'video/quicktime') {\n      return 'video/mp4';\n    }\n\n    return mime;\n  };\n\n  return util;\n};\n","(function () {\n  var Logout = function () {\n    var self = this;\n\n    self.getUser().save({id:'logout',token:null},{\n      success:function() {\n        // Re-fetch all the things\n        self.db.fetchCollection('pages').fetch();\n\n        if(self.getCustomization()) {\n          self.getCustomization().fetch();\n        }\n\n        self.navigate('',{trigger:true});\n      }\n    });\n  };\n\n  module.exports = Logout;\n}());","(function () {\n  var Action = function (pageName, action) {\n    var app = this\n      , pages = this.db.fetchCollection('pages')\n      , pageName = decodeURIComponent(pageName);\n\n    pages.once('ready', function () {\n      var foundPage = pages.find(function (page) {\n        return page.attributes.name.toLowerCase() === pageName.toLowerCase();\n      });\n\n      if(foundPage) {\n        switch(action) {\n          case 'makePublic':\n            foundPage.set('isPublished', true);\n          break;\n          case 'makePrivate':\n            foundPage.set('isPublished', false);\n          break;\n        }\n\n        foundPage.save({}, {\n          success: function (model, resp) {\n            app.navigate('page/' + pageName, {trigger:true});\n          }\n        , error: app.error\n        });\n      }\n      else {\n        app.navigate('page/' + pageName, {trigger:true});\n        app.error('Error 404: The page could not be found');\n      }\n    });\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var Action = function (mediaType, mediaId, pageName) {\n    var app = this\n      , media\n      , pages = this.db.fetchCollection('pages')\n      , pageName = decodeURIComponent(pageName);\n\n    pages.once('ready', function () {\n      var foundPage = pages.find(function (page) {\n        return page.attributes.name.toLowerCase() === pageName.toLowerCase();\n      });\n\n      if(foundPage) {\n        media = app.db.fetchModel(mediaType, mediaId);\n\n        media.once('ready', function () {\n          var prompt = 'Are you sure you want to remove ' + media.attributes.name + ' from ' + foundPage.attributes.name + '?';\n\n          if(confirm(prompt)) {\n            foundPage.removeMedia(media.id, function (err) {\n              app.navigate('page/' + pageName, {trigger:true});\n\n              if(err) {\n                app.error(err);\n              }\n            });\n          }\n          else {\n            app.navigate('page/' + pageName, {trigger:true});\n          }\n        });\n      }\n      else {\n        app.navigate('page/' + pageName, {trigger:true});\n        app.error('Error 404: The page could not be found');\n      }\n    });\n  };\n\n  module.exports = Action;\n}());","// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            if (ev.source === window && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n}\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n","var process=require(\"__browserify_process\");function filter (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (fn(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length; i >= 0; i--) {\n    var last = parts[i];\n    if (last == '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Regex to split a filename into [*, dir, basename, ext]\n// posix version\nvar splitPathRe = /^(.+\\/(?!$)|\\/)?((?:.+?)?(\\.[^.]*)?)$/;\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\nvar resolvedPath = '',\n    resolvedAbsolute = false;\n\nfor (var i = arguments.length; i >= -1 && !resolvedAbsolute; i--) {\n  var path = (i >= 0)\n      ? arguments[i]\n      : process.cwd();\n\n  // Skip empty and invalid entries\n  if (typeof path !== 'string' || !path) {\n    continue;\n  }\n\n  resolvedPath = path + '/' + resolvedPath;\n  resolvedAbsolute = path.charAt(0) === '/';\n}\n\n// At this point the path should be resolved to a full absolute path, but\n// handle relative paths to be safe (might happen when process.cwd() fails)\n\n// Normalize the path\nresolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\nvar isAbsolute = path.charAt(0) === '/',\n    trailingSlash = path.slice(-1) === '/';\n\n// Normalize the path\npath = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n  \n  return (isAbsolute ? '/' : '') + path;\n};\n\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    return p && typeof p === 'string';\n  }).join('/'));\n};\n\n\nexports.dirname = function(path) {\n  var dir = splitPathRe.exec(path)[1] || '';\n  var isWindows = false;\n  if (!dir) {\n    // No dirname\n    return '.';\n  } else if (dir.length === 1 ||\n      (isWindows && dir.length <= 3 && dir.charAt(1) === ':')) {\n    // It is just a slash or a drive letter with a slash\n    return dir;\n  } else {\n    // It is a full dirname, strip trailing slash\n    return dir.substring(0, dir.length - 1);\n  }\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPathRe.exec(path)[2] || '';\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPathRe.exec(path)[3] || '';\n};\n\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\n","var process=require(\"__browserify_process\");(function () {\n  /* Old, \"show index page\" action\n  var View = require('../views/routes/index')\n  , Action = function () {\n    var view = new View({app:this});\n    this.show(view);\n  };\n  */\n\n  var IndexView = require('../views/routes/index')\n    , NoPagesView = require('../views/errors/no_pages')\n    , Action = function () {\n      // What to do.. what to do..\n      var self = this\n        , pages = this.db.fetchCollection('pages')\n        , user = this.getUser()\n          // Two things to wait for ready\n        , readyCount = 2\n          // Called after pages collection and user is ready\n        , ready = function () {\n            var noPagesView = new NoPagesView({app:self})\n              , lowestPriorityPage;\n\n            // Testing mode?\n            if(process.env.tests) {\n              // Do nothing\n              return;\n            }\n\n            // Are we logged in?\n            if(self.isLoggedIn()) {\n              lowestPriorityPage = pages.sort().at(0);\n            }\n            else {\n              lowestPriorityPage = pages.sort().findWhere({isPublished: true});\n            }\n\n            // Send to that page view\n            if(lowestPriorityPage) {\n              self.navigate('page/' + encodeURIComponent(lowestPriorityPage.attributes.name), {trigger: true});\n            }\n            else {\n              // No available pages? Check if logged in\n              if(self.isLoggedIn()) {\n                // Direct to page creation\n                self.navigate('createPage', {trigger: true});\n              }\n              else {\n                // Nope, show the no pages view\n                self.show(noPagesView);\n              }\n            }\n          }\n          // Called when an item is ready\n        , onReady = function () {\n            readyCount--;\n\n            if(readyCount === 0) {\n              ready();\n            }\n          };\n\n      pages.once('ready', onReady);\n      user.once('ready', onReady);\n    };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../views/routes/login')\n  , Action = function () {\n    var view = new View({app:this});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());\n","(function () {\n  var View = require('../views/routes/review')\n  , Action = function () {\n    var view = new View({app:this});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../views/routes/contact')\n  , Action = function () {\n      var view = new View({app:this});\n      this.show(view);\n    };\n\n  module.exports = Action;\n}());\n","(function () {\n  var View = require('../../views/routes/pages/create')\n  , Action = function () {\n    var view = new View({app:this});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../../views/routes/pages/show')\n  , Action = function (pageName) {\n    var view = new View({app:this, pageName: pageName});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../../views/routes/pages/edit')\n  , Action = function (pageName) {\n    var view = new View({app:this, pageName: pageName});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../../views/routes/pages/reorder')\n  , Action = function () {\n    var view = new View({app:this});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../../views/routes/media/add')\n  , Action = function (pageName) {\n    var view = new View({app:this, pageName: pageName});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../../views/routes/media/pick')\n  , Action = function (pageName) {\n    var view = new View({app:this, pageName: pageName});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../../views/routes/media/show')\n  , Action = function (pageName, mediaType, mediaId) {\n    var view = new View({\n      app:this\n    , mediaType: mediaType\n    , mediaId: mediaId\n    , pageName: pageName\n    });\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","(function () {\n  var View = require('../../views/routes/media/edit')\n  , Action = function (mediaType, mediaId) {\n    var view = new View({app:this, mediaType: mediaType, mediaId: mediaId});\n    this.show(view);\n  };\n\n  module.exports = Action;\n}());","/* ============================================================\n * bootstrapSwitch v1.3 by Larentis Mattia @spiritualGuru\n * http://www.larentis.eu/switch/\n * ============================================================\n * Licensed under the Apache License, Version 2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n * ============================================================ */\n\nmodule.exports = function ($) {\n  \"use strict\";\n\n  $.fn['bootstrapSwitch'] = function (method) {\n    var methods = {\n      init: function () {\n        return this.each(function () {\n            var $element = $(this)\n              , $div\n              , $switchLeft\n              , $switchRight\n              , $label\n              , myClasses = \"\"\n              , classes = $element.attr('class')\n              , color\n              , moving\n              , onLabel = \"ON\"\n              , offLabel = \"OFF\"\n              , icon = false;\n\n            $.each(['switch-mini', 'switch-small', 'switch-large'], function (i, el) {\n              if (classes.indexOf(el) >= 0)\n                myClasses = el;\n            });\n\n            $element.addClass('has-switch');\n\n            if ($element.data('on') !== undefined)\n              color = \"switch-\" + $element.data('on');\n\n            if ($element.data('on-label') !== undefined)\n              onLabel = $element.data('on-label');\n\n            if ($element.data('off-label') !== undefined)\n              offLabel = $element.data('off-label');\n\n            if ($element.data('icon') !== undefined)\n              icon = $element.data('icon');\n\n            $switchLeft = $('<span>')\n              .addClass(\"switch-left\")\n              .addClass(myClasses)\n              .addClass(color)\n              .html(onLabel);\n\n            color = '';\n            if ($element.data('off') !== undefined)\n              color = \"switch-\" + $element.data('off');\n\n            $switchRight = $('<span>')\n              .addClass(\"switch-right\")\n              .addClass(myClasses)\n              .addClass(color)\n              .html(offLabel);\n\n            $label = $('<label>')\n              .html(\"&nbsp;\")\n              .addClass(myClasses)\n              .attr('for', $element.find('input').attr('id'));\n\n            if (icon) {\n              $label.html('<i class=\"' + icon + '\"></i>');\n            }\n\n            $div = $element.find(':checkbox').wrap($('<div>')).parent().data('animated', false);\n\n            if ($element.data('animated') !== false)\n              $div.addClass('switch-animate').data('animated', true);\n\n            $div\n              .append($switchLeft)\n              .append($label)\n              .append($switchRight);\n\n            $element.find('>div').addClass(\n              $element.find('input').is(':checked') ? 'switch-on' : 'switch-off'\n            );\n\n            if ($element.find('input').is(':disabled'))\n              $(this).addClass('deactivate');\n\n            var changeStatus = function ($this) {\n              $this.siblings('label').trigger('mousedown').trigger('mouseup').trigger('click');\n            };\n\n            $element.on('keydown', function (e) {\n              if (e.keyCode === 32) {\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                changeStatus($(e.target).find('span:first'));\n              }\n            });\n\n            $switchLeft.on('click', function (e) {\n              changeStatus($(this));\n            });\n\n            $switchRight.on('click', function (e) {\n              changeStatus($(this));\n            });\n\n            $element.find('input').on('change', function (e) {\n              var $this = $(this)\n                , $element = $this.parent()\n                , thisState = $this.is(':checked')\n                , state = $element.is('.switch-off');\n\n              e.preventDefault();\n\n              $element.css('left', '');\n\n              if (state === thisState) {\n\n                if (thisState)\n                  $element.removeClass('switch-off').addClass('switch-on');\n                else $element.removeClass('switch-on').addClass('switch-off');\n\n                if ($element.data('animated') !== false)\n                  $element.addClass(\"switch-animate\");\n\n                $element.parent().trigger('switch-change', {'el': $this, 'value': thisState})\n              }\n            });\n\n            $element.find('label').on('mousedown touchstart', function (e) {\n              var $this = $(this);\n              moving = false;\n\n              e.preventDefault();\n              e.stopImmediatePropagation();\n\n              $this.closest('div').removeClass('switch-animate');\n\n              if ($this.closest('.has-switch').is('.deactivate'))\n                $this.unbind('click');\n              else {\n                $this.on('mousemove touchmove', function (e) {\n                  var $element = $(this).closest('.switch')\n                    , relativeX = (e.pageX || e.originalEvent.targetTouches[0].pageX) - $element.offset().left\n                    , percent = (relativeX / $element.width()) * 100\n                    , left = 25\n                    , right = 75;\n\n                  moving = true;\n\n                  if (percent < left)\n                    percent = left;\n                  else if (percent > right)\n                    percent = right;\n\n                  $element.find('>div').css('left', (percent - right) + \"%\")\n                });\n\n                $this.on('click touchend', function (e) {\n                  var $this = $(this)\n                    , $target = $(e.target)\n                    , $myCheckBox = $target.siblings('input');\n\n                  e.stopImmediatePropagation();\n                  e.preventDefault();\n\n                  $this.unbind('mouseleave');\n\n                  if (moving)\n                    $myCheckBox.prop('checked', !(parseInt($this.parent().css('left')) < -25));\n                  else $myCheckBox.prop(\"checked\", !$myCheckBox.is(\":checked\"));\n\n                  moving = false;\n                  $myCheckBox.trigger('change');\n                });\n\n                $this.on('mouseleave', function (e) {\n                  var $this = $(this)\n                    , $myCheckBox = $this.siblings('input');\n\n                  e.preventDefault();\n                  e.stopImmediatePropagation();\n\n                  $this.unbind('mouseleave');\n                  $this.trigger('mouseup');\n\n                  $myCheckBox.prop('checked', !(parseInt($this.parent().css('left')) < -25)).trigger('change');\n                });\n\n                $this.on('mouseup', function (e) {\n                  e.stopImmediatePropagation();\n                  e.preventDefault();\n\n                  $(this).unbind('mousemove');\n                });\n              }\n            });\n          }\n        );\n      },\n      toggleActivation: function () {\n        $(this).toggleClass('deactivate');\n      },\n      isActive: function () {\n        return !$(this).hasClass('deactivate');\n      },\n      setActive: function (active) {\n        if (active)\n          $(this).removeClass('deactivate');\n        else $(this).addClass('deactivate');\n      },\n      toggleState: function (skipOnChange) {\n        var $input = $(this).find('input:checkbox');\n        $input.prop('checked', !$input.is(':checked')).trigger('change', skipOnChange);\n      },\n      setState: function (value, skipOnChange) {\n        $(this).find('input:checkbox').prop('checked', value).trigger('change', skipOnChange);\n      },\n      status: function () {\n        return $(this).find('input:checkbox').is(':checked');\n      },\n      destroy: function () {\n        var $div = $(this).find('div')\n          , $checkbox;\n\n        $div.find(':not(input:checkbox)').remove();\n\n        $checkbox = $div.children();\n        $checkbox.unwrap().unwrap();\n\n        $checkbox.unbind('change');\n\n        return $checkbox;\n      }\n    };\n\n    if (methods[method])\n      return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    else if (typeof method === 'object' || !method)\n      return methods.init.apply(this, arguments);\n    else\n      $.error('Method ' + method + ' does not exist!');\n  };\n};","/*\n * HTML5 Sortable jQuery Plugin\n * http://farhadi.ir/projects/html5sortable\n *\n * Copyright 2012, Ali Farhadi\n * Released under the MIT license.\n */\n\nmodule.exports = function($) {\n  var dragging, placeholders = $();\n  $.fn.sortable = function(options) {\n  \tvar method = String(options);\n  \toptions = $.extend({\n  \t\tconnectWith: false\n  \t}, options);\n  \treturn this.each(function() {\n  \t\tif (/^enable|disable|destroy$/.test(method)) {\n  \t\t\tvar items = $(this).children($(this).data('items'));\n  \t\t\tvar handles = $(this).children($(this).data('handles')).attr('draggable', method == 'enable');\n  \t\t\tif (method == 'destroy') {\n  \t\t\t\titems.add(this).removeData('connectWith items')\n  \t\t\t\t\t.off('dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s');\n  \t\t\t\thandles.off('selectstart.h5s');\n  \t\t\t}\n  \t\t\treturn;\n  \t\t}\n  \t\tvar index, items = $(this).children(options.items), handles = options.handle ? items.find(options.handle) : items;\n  \t\tvar parent;\n  \t\tvar placeholder = $('<' + (/^ul|ol$/i.test(this.tagName) ? 'li' : 'div') + ' class=\"sortable-placeholder\">');\n  \t\t$(this).data('items', options.items)\n  \t\t$(this).data('handles', options.handle ? options.handle : options.items)\n  \t\tplaceholders = placeholders.add(placeholder);\n  \t\tif (options.connectWith) {\n  \t\t\t$(options.connectWith).add(this).data('connectWith', options.connectWith);\n  \t\t}\n  \t\t// Setup drag handles\n  \t\thandles.attr('draggable', 'true').not('a[href], img').on('selectstart.h5s', function() {\n  \t\t\tthis.dragDrop && this.dragDrop();\n  \t\t\treturn false;\n  \t\t}).end();\n\n  \t\t// Handle drag events on draggable items\n  \t\titems.on('dragstart.h5s', function(e) {\n  \t\t\tvar dt = e.originalEvent.dataTransfer;\n  \t\t\tdt.effectAllowed = 'move';\n  \t\t\tdt.setData('Text', 'dummy');\n  \t\t\tindex = (dragging = $(this)).addClass('sortable-dragging').index();\n  \t\t\tparent = dragging.parent();\n  \t\t\te.stopPropagation();\n  \t\t}).on('dragend.h5s', function() {\n  \t\t\tif (!dragging) {\n  \t\t\t\treturn;\n  \t\t\t}\n  \t\t\tdragging.removeClass('sortable-dragging').show();\n  \t\t\tplaceholders.detach();\n  \t\t\tif (index != dragging.index() || !parent.is(dragging.parent())) {\n  \t\t\t\tdragging.parent().trigger('sortupdate', {item: dragging});\n  \t\t\t}\n  \t\t\tdragging = null;\n  \t\t\tparent = null;\n  \t\t}).add([this, placeholder]).on('dragover.h5s dragenter.h5s drop.h5s', function(e) {\n  \t\t\tif (!items.is(dragging) && options.connectWith !== $(dragging).parent().data('connectWith')) {\n  \t\t\t\treturn true;\n  \t\t\t}\n  \t\t\tif (e.type == 'drop') {\n  \t\t\t\te.stopPropagation();\n  \t\t\t\tplaceholders.filter(':visible').after(dragging);\n  \t\t\t\tdragging.trigger('dragend.h5s');\n  \t\t\t\treturn false;\n  \t\t\t}\n  \t\t\te.preventDefault();\n  \t\t\te.originalEvent.dataTransfer.dropEffect = 'move';\n  \t\t\tif (items.is(this)) {\n  \t\t\t\tif (options.forcePlaceholderSize) {\n  \t\t\t\t\tplaceholder.height(dragging.outerHeight());\n  \t\t\t\t}\n  \t\t\t\tdragging.hide();\n  \t\t\t\t$(this)[placeholder.index() < $(this).index() ? 'after' : 'before'](placeholder);\n  \t\t\t\tplaceholders.not(placeholder).detach();\n  \t\t\t} else if (!placeholders.is(this) && !$(this).children(options.items).length) {\n  \t\t\t\tplaceholders.detach();\n  \t\t\t\t$(this).append(placeholder);\n  \t\t\t}\n  \t\t\treturn false;\n  \t\t});\n  \t});\n  };\n};\n","/*\n\n\tjQuery Tags Input Plugin 1.3.3\n\n\tCopyright (c) 2011 XOXCO, Inc\n\n\tDocumentation for this plugin lives here:\n\thttp://xoxco.com/clickable/jquery-tags-input\n\n\tLicensed under the MIT license:\n\thttp://www.opensource.org/licenses/mit-license.php\n\n\tben@xoxco.com\n\n*/\n\nmodule.exports = (function($) {\n\n\tvar delimiter = new Array();\n\tvar tags_callbacks = new Array();\n\t$.fn.doAutosize = function(o){\n\t    var minWidth = $(this).data('minwidth'),\n\t        maxWidth = $(this).data('maxwidth'),\n\t        val = '',\n\t        input = $(this),\n\t        testSubject = $('#'+$(this).data('tester_id'));\n\n\t    if (val === (val = input.val())) {return;}\n\n\t    // Enter new content into testSubject\n\t    var escaped = val.replace(/&/g, '&amp;').replace(/\\s/g,' ').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t    testSubject.html(escaped);\n\t    // Calculate new width + whether to change\n\t    var testerWidth = testSubject.width(),\n\t        newWidth = (testerWidth + o.comfortZone) >= minWidth ? testerWidth + o.comfortZone : minWidth,\n\t        currentWidth = input.width(),\n\t        isValidWidthChange = (newWidth < currentWidth && newWidth >= minWidth)\n\t                             || (newWidth > minWidth && newWidth < maxWidth);\n\n\t    // Animate width\n\t    if (isValidWidthChange) {\n\t        input.width(newWidth);\n\t    }\n\n\n  };\n  $.fn.resetAutosize = function(options){\n    // alert(JSON.stringify(options));\n    var minWidth =  $(this).data('minwidth') || options.minInputWidth || $(this).width(),\n        maxWidth = $(this).data('maxwidth') || options.maxInputWidth || ($(this).closest('.tagsinput').width() - options.inputPadding),\n        val = '',\n        input = $(this),\n        testSubject = $('<tester/>').css({\n            position: 'absolute',\n            top: -9999,\n            left: -9999,\n            width: 'auto',\n            fontSize: input.css('fontSize'),\n            fontFamily: input.css('fontFamily'),\n            fontWeight: input.css('fontWeight'),\n            letterSpacing: input.css('letterSpacing'),\n            whiteSpace: 'nowrap'\n        }),\n        testerId = $(this).attr('id')+'_autosize_tester';\n    if(! $('#'+testerId).length > 0){\n      testSubject.attr('id', testerId);\n      testSubject.appendTo('body');\n    }\n\n    input.data('minwidth', minWidth);\n    input.data('maxwidth', maxWidth);\n    input.data('tester_id', testerId);\n    input.css('width', minWidth);\n  };\n\n\t$.fn.addTag = function(value,options) {\n\t\t\toptions = jQuery.extend({focus:false,callback:true},options);\n\t\t\tthis.each(function() {\n\t\t\t\tvar id = $(this).attr('id');\n\n\t\t\t\tvar tagslist = $(this).val().split(delimiter[id]);\n\t\t\t\tif (tagslist[0] == '') {\n\t\t\t\t\ttagslist = new Array();\n\t\t\t\t}\n\n\t\t\t\tvalue = jQuery.trim(value);\n\n\t\t\t\tif (options.unique) {\n\t\t\t\t\tvar skipTag = $(this).tagExist(value);\n\t\t\t\t\tif(skipTag == true) {\n\t\t\t\t\t    //Marks fake input as not_valid to let styling it\n    \t\t\t\t    $('#'+id+'_tag').addClass('not_valid');\n    \t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar skipTag = false;\n\t\t\t\t}\n\n\t\t\t\tif (value !='' && skipTag != true) {\n                    $('<span>').addClass('tag').append(\n                        $('<span>').text(value).append('&nbsp;&nbsp;'),\n                        $('<a class=\"tagsinput-remove-link\">', {\n                            href  : '#',\n                            title : 'Remove tag',\n                            text  : ''\n                        }).click(function () {\n                            return $('#' + id).removeTag(escape(value));\n                        })\n                    ).insertBefore('#' + id + '_addTag');\n\n\t\t\t\t\ttagslist.push(value);\n\n\t\t\t\t\t$('#'+id+'_tag').val('');\n\t\t\t\t\tif (options.focus) {\n\t\t\t\t\t\t$('#'+id+'_tag').focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#'+id+'_tag').blur();\n\t\t\t\t\t}\n\n\t\t\t\t\t$.fn.tagsInput.updateTagsField(this,tagslist);\n\n\t\t\t\t\tif (options.callback && tags_callbacks[id] && tags_callbacks[id]['onAddTag']) {\n\t\t\t\t\t\tvar f = tags_callbacks[id]['onAddTag'];\n\t\t\t\t\t\tf.call(this, value);\n\t\t\t\t\t}\n\t\t\t\t\tif(tags_callbacks[id] && tags_callbacks[id]['onChange'])\n\t\t\t\t\t{\n\t\t\t\t\t\tvar i = tagslist.length;\n\t\t\t\t\t\tvar f = tags_callbacks[id]['onChange'];\n\t\t\t\t\t\tf.call(this, $(this), tagslist[i-1]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\treturn false;\n\t\t};\n\n\t$.fn.removeTag = function(value) {\n\t\t\tvalue = unescape(value);\n\t\t\tthis.each(function() {\n\t\t\t\tvar id = $(this).attr('id');\n\n\t\t\t\tvar old = $(this).val().split(delimiter[id]);\n\n\t\t\t\t$('#'+id+'_tagsinput .tag').remove();\n\t\t\t\tstr = '';\n\t\t\t\tfor (i=0; i< old.length; i++) {\n\t\t\t\t\tif (old[i]!=value) {\n\t\t\t\t\t\tstr = str + delimiter[id] +old[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$.fn.tagsInput.importTags(this,str);\n\n\t\t\t\tif (tags_callbacks[id] && tags_callbacks[id]['onRemoveTag']) {\n\t\t\t\t\tvar f = tags_callbacks[id]['onRemoveTag'];\n\t\t\t\t\tf.call(this, value);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn false;\n\t\t};\n\n\t$.fn.tagExist = function(val) {\n\t\tvar id = $(this).attr('id');\n\t\tvar tagslist = $(this).val().split(delimiter[id]);\n\t\treturn (jQuery.inArray(val, tagslist) >= 0); //true when tag exists, false when not\n\t};\n\n\t// clear all existing tags and import new ones from a string\n\t$.fn.importTags = function(str) {\n                id = $(this).attr('id');\n\t\t$('#'+id+'_tagsinput .tag').remove();\n\t\t$.fn.tagsInput.importTags(this,str);\n\t}\n\n\t$.fn.tagsInput = function(options) {\n    var settings = jQuery.extend({\n      interactive:true,\n      defaultText:'',\n      minChars:0,\n      width:'',\n      height:'',\n      autocomplete: {selectFirst: false },\n      'hide':true,\n      'delimiter':',',\n      'unique':true,\n      removeWithBackspace:true,\n      placeholderColor:'#666666',\n      autosize: true,\n      comfortZone: 20,\n      inputPadding: 6*2\n    },options);\n\n\t\tthis.each(function() {\n\t\t\tif (settings.hide) {\n\t\t\t\t$(this).hide();\n\t\t\t}\n\t\t\tvar id = $(this).attr('id');\n\t\t\tif (!id || delimiter[$(this).attr('id')]) {\n\t\t\t\tid = $(this).attr('id', 'tags' + new Date().getTime()).attr('id');\n\t\t\t}\n\n\t\t\tvar data = jQuery.extend({\n\t\t\t\tpid:id,\n\t\t\t\treal_input: '#'+id,\n\t\t\t\tholder: '#'+id+'_tagsinput',\n\t\t\t\tinput_wrapper: '#'+id+'_addTag',\n\t\t\t\tfake_input: '#'+id+'_tag'\n\t\t\t},settings);\n\n\t\t\tdelimiter[id] = data.delimiter;\n\n\t\t\tif (settings.onAddTag || settings.onRemoveTag || settings.onChange) {\n\t\t\t\ttags_callbacks[id] = new Array();\n\t\t\t\ttags_callbacks[id]['onAddTag'] = settings.onAddTag;\n\t\t\t\ttags_callbacks[id]['onRemoveTag'] = settings.onRemoveTag;\n\t\t\t\ttags_callbacks[id]['onChange'] = settings.onChange;\n\t\t\t}\n\n            var containerClass = $('#'+id).attr('class').replace('tagsinput', '');\n\t\t\tvar markup = '<div id=\"'+id+'_tagsinput\" class=\"tagsinput '+containerClass+'\"><div class=\"tagsinput-add-container\" id=\"'+id+'_addTag\"><div class=\"tagsinput-add\"></div>';\n\n\t\t\tif (settings.interactive) {\n\t\t\t\tmarkup = markup + '<input id=\"'+id+'_tag\" value=\"\" data-default=\"'+settings.defaultText+'\" />';\n\t\t\t}\n\n\t\t\tmarkup = markup + '</div></div>';\n\n\t\t\t$(markup).insertAfter(this);\n\n\t\t\t$(data.holder).css('width',settings.width);\n\t\t\t$(data.holder).css('min-height',settings.height);\n\t\t\t$(data.holder).css('height','100%');\n\n\t\t\tif ($(data.real_input).val()!='') {\n\t\t\t\t$.fn.tagsInput.importTags($(data.real_input),$(data.real_input).val());\n\t\t\t}\n\t\t\tif (settings.interactive) {\n\t\t\t\t$(data.fake_input).val($(data.fake_input).attr('data-default'));\n\t\t\t\t$(data.fake_input).css('color',settings.placeholderColor);\n\t\t        $(data.fake_input).resetAutosize(settings);\n\n\t\t\t\t$(data.holder).bind('click',data,function(event) {\n\t\t\t\t\t$(event.data.fake_input).focus();\n\t\t\t\t});\n\n\t\t\t\t$(data.fake_input).bind('focus',data,function(event) {\n\t\t\t\t\tif ($(event.data.fake_input).val()==$(event.data.fake_input).attr('data-default')) {\n\t\t\t\t\t\t$(event.data.fake_input).val('');\n\t\t\t\t\t}\n\t\t\t\t\t$(event.data.fake_input).css('color','#000000');\n\t\t\t\t});\n\n\t\t\t\tif (settings.autocomplete_url != undefined) {\n\t\t\t\t\tautocomplete_options = {source: settings.autocomplete_url};\n\t\t\t\t\tfor (attrname in settings.autocomplete) {\n\t\t\t\t\t\tautocomplete_options[attrname] = settings.autocomplete[attrname];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (jQuery.Autocompleter !== undefined) {\n\t\t\t\t\t\t$(data.fake_input).autocomplete(settings.autocomplete_url, settings.autocomplete);\n\t\t\t\t\t\t$(data.fake_input).bind('result',data,function(event,data,formatted) {\n\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t$('#'+id).addTag(data[0] + \"\",{focus:true,unique:(settings.unique)});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t  \t});\n\t\t\t\t\t} else if (jQuery.ui.autocomplete !== undefined) {\n\t\t\t\t\t\t$(data.fake_input).autocomplete(autocomplete_options);\n\t\t\t\t\t\t$(data.fake_input).bind('autocompleteselect',data,function(event,ui) {\n\t\t\t\t\t\t\t$(event.data.real_input).addTag(ui.item.value,{focus:true,unique:(settings.unique)});\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\t\t\t\t\t\t// if a user tabs out of the field, create a new tag\n\t\t\t\t\t\t// this is only available if autocomplete is not used.\n\t\t\t\t\t\t$(data.fake_input).bind('blur',data,function(event) {\n\t\t\t\t\t\t\tvar d = $(this).attr('data-default');\n\t\t\t\t\t\t\tif ($(event.data.fake_input).val()!='' && $(event.data.fake_input).val()!=d) {\n\t\t\t\t\t\t\t\tif( (event.data.minChars <= $(event.data.fake_input).val().length) && (!event.data.maxChars || (event.data.maxChars >= $(event.data.fake_input).val().length)) )\n\t\t\t\t\t\t\t\t\t$(event.data.real_input).addTag($(event.data.fake_input).val(),{focus:true,unique:(settings.unique)});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$(event.data.fake_input).val($(event.data.fake_input).attr('data-default'));\n\t\t\t\t\t\t\t\t$(event.data.fake_input).css('color',settings.placeholderColor);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t\t// if user types a comma, create a new tag\n\t\t\t\t$(data.fake_input).bind('keypress',data,function(event) {\n\t\t\t\t\tif (event.which==event.data.delimiter.charCodeAt(0) || event.which==13 ) {\n\t\t\t\t\t    event.preventDefault();\n\t\t\t\t\t\tif( (event.data.minChars <= $(event.data.fake_input).val().length) && (!event.data.maxChars || (event.data.maxChars >= $(event.data.fake_input).val().length)) )\n\t\t\t\t\t\t\t$(event.data.real_input).addTag($(event.data.fake_input).val(),{focus:true,unique:(settings.unique)});\n\t\t\t\t\t  \t$(event.data.fake_input).resetAutosize(settings);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (event.data.autosize) {\n\t\t\t            $(event.data.fake_input).doAutosize(settings);\n\n          \t\t\t}\n\t\t\t\t});\n\t\t\t\t//Delete last tag on backspace\n\t\t\t\tdata.removeWithBackspace && $(data.fake_input).bind('keydown', function(event)\n\t\t\t\t{\n\t\t\t\t\tif(event.keyCode == 8 && $(this).val() == '')\n\t\t\t\t\t{\n\t\t\t\t\t\t event.preventDefault();\n\t\t\t\t\t\t var last_tag = $(this).closest('.tagsinput').find('.tag:last').text();\n\t\t\t\t\t\t var id = $(this).attr('id').replace(/_tag$/, '');\n\t\t\t\t\t\t last_tag = last_tag.replace(/[\\s\\u00a0]+x$/, '');\n\t\t\t\t\t\t $('#' + id).removeTag(escape(last_tag));\n\t\t\t\t\t\t $(this).trigger('focus');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$(data.fake_input).blur();\n\n\t\t\t\t//Removes the not_valid class when user changes the value of the fake input\n\t\t\t\tif(data.unique) {\n\t\t\t\t    $(data.fake_input).keydown(function(event){\n\t\t\t\t        if(event.keyCode == 8 || String.fromCharCode(event.which).match(/\\w+|[Ã¡Ã©Ã­Ã³ÃºÃÃÃÃÃÃ±Ã,/]+/)) {\n\t\t\t\t            $(this).removeClass('not_valid');\n\t\t\t\t        }\n\t\t\t\t    });\n\t\t\t\t}\n\t\t\t} // if settings.interactive\n\t\t});\n\n\t\treturn this;\n\n\t};\n\n\t$.fn.tagsInput.updateTagsField = function(obj,tagslist) {\n\t\tvar id = $(obj).attr('id');\n\t\t$(obj).val(tagslist.join(delimiter[id]));\n\t};\n\n\t$.fn.tagsInput.importTags = function(obj,val) {\n\t\t$(obj).val('');\n\t\tvar id = $(obj).attr('id');\n\t\tvar tags = val.split(delimiter[id]);\n\t\tfor (i=0; i<tags.length; i++) {\n\t\t\t$(obj).addTag(tags[i],{focus:false,callback:false});\n\t\t}\n\t\tif(tags_callbacks[id] && tags_callbacks[id]['onChange'])\n\t\t{\n\t\t\tvar f = tags_callbacks[id]['onChange'];\n\t\t\tf.call(obj, obj, tags[i]);\n\t\t}\n\t};\n\n});\n","/* ============================================================\n * bootstrap-button.js v2.3.2\n * http://twitter.github.com/bootstrap/javascript.html#buttons\n * ============================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ============================================================ */\n\n\nmodule.exports = function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* BUTTON PUBLIC CLASS DEFINITION\n  * ============================== */\n\n  var Button = function (element, options) {\n    this.$element = $(element)\n    this.options = $.extend({}, $.fn.button.defaults, options)\n  }\n\n  Button.prototype.setState = function (state) {\n    var d = 'disabled'\n      , $el = this.$element\n      , data = $el.data()\n      , val = $el.is('input') ? 'val' : 'html'\n\n    state = state + 'Text'\n    data.resetText || $el.data('resetText', $el[val]())\n\n    $el[val](data[state] || this.options[state])\n\n    // push to event loop to allow forms to submit\n    setTimeout(function () {\n      state == 'loadingText' ?\n        $el.addClass(d).attr(d, d) :\n        $el.removeClass(d).removeAttr(d)\n    }, 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var $parent = this.$element.closest('[data-toggle=\"buttons-radio\"]')\n\n    $parent && $parent\n      .find('.active')\n      .removeClass('active')\n\n    this.$element.toggleClass('active')\n  }\n\n\n /* BUTTON PLUGIN DEFINITION\n  * ======================== */\n\n  var old = $.fn.button\n\n  $.fn.button = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('button')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('button', (data = new Button(this, options)))\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  $.fn.button.defaults = {\n    loadingText: 'loading...'\n  }\n\n  $.fn.button.Constructor = Button\n\n\n /* BUTTON NO CONFLICT\n  * ================== */\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n /* BUTTON DATA-API\n  * =============== */\n\n  $(document).on('click.button.data-api', '[data-toggle^=button]', function (e) {\n    var $btn = $(e.target)\n    if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')\n    $btn.button('toggle')\n  })\n};\n","/* ===========================================================\n * bootstrap-tooltip.js v2.3.2\n * http://twitter.github.com/bootstrap/javascript.html#tooltips\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ===========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\nmodule.exports = function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* TOOLTIP PUBLIC CLASS DEFINITION\n  * =============================== */\n\n  var Tooltip = function (element, options) {\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.prototype = {\n\n    constructor: Tooltip\n\n  , init: function (type, element, options) {\n      var eventIn\n        , eventOut\n        , triggers\n        , trigger\n        , i\n\n      this.type = type\n      this.$element = $(element)\n      this.options = this.getOptions(options)\n      this.enabled = true\n\n      triggers = this.options.trigger.split(' ')\n\n      for (i = triggers.length; i--;) {\n        trigger = triggers[i]\n        if (trigger == 'click') {\n          this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n        } else if (trigger != 'manual') {\n          eventIn = trigger == 'hover' ? 'mouseenter' : 'focus'\n          eventOut = trigger == 'hover' ? 'mouseleave' : 'blur'\n          this.$element.on(eventIn + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n          this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n        }\n      }\n\n      this.options.selector ?\n        (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n        this.fixTitle()\n    }\n\n  , getOptions: function (options) {\n      options = $.extend({}, $.fn[this.type].defaults, this.$element.data(), options)\n\n      if (options.delay && typeof options.delay == 'number') {\n        options.delay = {\n          show: options.delay\n        , hide: options.delay\n        }\n      }\n\n      return options\n    }\n\n  , enter: function (e) {\n      var defaults = $.fn[this.type].defaults\n        , options = {}\n        , self\n\n      this._options && $.each(this._options, function (key, value) {\n        if (defaults[key] != value) options[key] = value\n      }, this)\n\n      self = $(e.currentTarget)[this.type](options).data(this.type)\n\n      if (!self.options.delay || !self.options.delay.show) return self.show()\n\n      clearTimeout(this.timeout)\n      self.hoverState = 'in'\n      this.timeout = setTimeout(function() {\n        if (self.hoverState == 'in') self.show()\n      }, self.options.delay.show)\n    }\n\n  , leave: function (e) {\n      var self = $(e.currentTarget)[this.type](this._options).data(this.type)\n\n      if (this.timeout) clearTimeout(this.timeout)\n      if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n      self.hoverState = 'out'\n      this.timeout = setTimeout(function() {\n        if (self.hoverState == 'out') self.hide()\n      }, self.options.delay.hide)\n    }\n\n  , show: function () {\n      var $tip\n        , pos\n        , actualWidth\n        , actualHeight\n        , placement\n        , tp\n        , e = $.Event('show')\n\n      if (this.hasContent() && this.enabled) {\n        this.$element.trigger(e)\n        if (e.isDefaultPrevented()) return\n        $tip = this.tip()\n        this.setContent()\n\n        if (this.options.animation) {\n          $tip.addClass('fade')\n        }\n\n        placement = typeof this.options.placement == 'function' ?\n          this.options.placement.call(this, $tip[0], this.$element[0]) :\n          this.options.placement\n\n        $tip\n          .detach()\n          .css({ top: 0, left: 0, display: 'block' })\n\n        this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n\n        pos = this.getPosition()\n\n        actualWidth = $tip[0].offsetWidth\n        actualHeight = $tip[0].offsetHeight\n\n        switch (placement) {\n          case 'bottom':\n            tp = {top: pos.top + pos.height, left: pos.left + pos.width / 2 - actualWidth / 2}\n            break\n          case 'top':\n            tp = {top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2}\n            break\n          case 'left':\n            tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth}\n            break\n          case 'right':\n            tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width}\n            break\n        }\n\n        this.applyPlacement(tp, placement)\n        this.$element.trigger('shown')\n      }\n    }\n\n  , applyPlacement: function(offset, placement){\n      var $tip = this.tip()\n        , width = $tip[0].offsetWidth\n        , height = $tip[0].offsetHeight\n        , actualWidth\n        , actualHeight\n        , delta\n        , replace\n\n      $tip\n        .offset(offset)\n        .addClass(placement)\n        .addClass('in')\n\n      actualWidth = $tip[0].offsetWidth\n      actualHeight = $tip[0].offsetHeight\n\n      if (placement == 'top' && actualHeight != height) {\n        offset.top = offset.top + height - actualHeight\n        replace = true\n      }\n\n      if (placement == 'bottom' || placement == 'top') {\n        delta = 0\n\n        if (offset.left < 0){\n          delta = offset.left * -2\n          offset.left = 0\n          $tip.offset(offset)\n          actualWidth = $tip[0].offsetWidth\n          actualHeight = $tip[0].offsetHeight\n        }\n\n        this.replaceArrow(delta - width + actualWidth, actualWidth, 'left')\n      } else {\n        this.replaceArrow(actualHeight - height, actualHeight, 'top')\n      }\n\n      if (replace) $tip.offset(offset)\n    }\n\n  , replaceArrow: function(delta, dimension, position){\n      this\n        .arrow()\n        .css(position, delta ? (50 * (1 - delta / dimension) + \"%\") : '')\n    }\n\n  , setContent: function () {\n      var $tip = this.tip()\n        , title = this.getTitle()\n\n      $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n      $tip.removeClass('fade in top bottom left right')\n    }\n\n  , hide: function () {\n      var that = this\n        , $tip = this.tip()\n        , e = $.Event('hide')\n\n      this.$element.trigger(e)\n      if (e.isDefaultPrevented()) return\n\n      $tip.removeClass('in')\n\n      function removeWithAnimation() {\n        var timeout = setTimeout(function () {\n          $tip.off($.support.transition.end).detach()\n        }, 500)\n\n        $tip.one($.support.transition.end, function () {\n          clearTimeout(timeout)\n          $tip.detach()\n        })\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        removeWithAnimation() :\n        $tip.detach()\n\n      this.$element.trigger('hidden')\n\n      return this\n    }\n\n  , fixTitle: function () {\n      var $e = this.$element\n      if ($e.attr('title') || typeof($e.attr('data-original-title')) != 'string') {\n        $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n      }\n    }\n\n  , hasContent: function () {\n      return this.getTitle()\n    }\n\n  , getPosition: function () {\n      var el = this.$element[0]\n      return $.extend({}, (typeof el.getBoundingClientRect == 'function') ? el.getBoundingClientRect() : {\n        width: el.offsetWidth\n      , height: el.offsetHeight\n      }, this.$element.offset())\n    }\n\n  , getTitle: function () {\n      var title\n        , $e = this.$element\n        , o = this.options\n\n      title = $e.attr('data-original-title')\n        || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n      return title\n    }\n\n  , tip: function () {\n      return this.$tip = this.$tip || $(this.options.template)\n    }\n\n  , arrow: function(){\n      return this.$arrow = this.$arrow || this.tip().find(\".tooltip-arrow\")\n    }\n\n  , validate: function () {\n      if (!this.$element[0].parentNode) {\n        this.hide()\n        this.$element = null\n        this.options = null\n      }\n    }\n\n  , enable: function () {\n      this.enabled = true\n    }\n\n  , disable: function () {\n      this.enabled = false\n    }\n\n  , toggleEnabled: function () {\n      this.enabled = !this.enabled\n    }\n\n  , toggle: function (e) {\n      var self = e ? $(e.currentTarget)[this.type](this._options).data(this.type) : this\n      self.tip().hasClass('in') ? self.hide() : self.show()\n    }\n\n  , destroy: function () {\n      this.hide().$element.off('.' + this.type).removeData(this.type)\n    }\n\n  }\n\n\n /* TOOLTIP PLUGIN DEFINITION\n  * ========================= */\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip = function ( option ) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('tooltip')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.tooltip.Constructor = Tooltip\n\n  $.fn.tooltip.defaults = {\n    animation: true\n  , placement: 'top'\n  , selector: false\n  , template: '<div class=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>'\n  , trigger: 'hover focus'\n  , title: ''\n  , delay: 0\n  , html: false\n  , container: false\n  }\n\n\n /* TOOLTIP NO CONFLICT\n  * =================== */\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n};\n","/* ===========================================================\n * bootstrap-popover.js v2.3.2\n * http://twitter.github.com/bootstrap/javascript.html#popovers\n * ===========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =========================================================== */\n\n\nmodule.exports = function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* POPOVER PUBLIC CLASS DEFINITION\n  * =============================== */\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n\n  /* NOTE: POPOVER EXTENDS BOOTSTRAP-TOOLTIP.js\n     ========================================== */\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype, {\n\n    constructor: Popover\n\n  , setContent: function () {\n      var $tip = this.tip()\n        , title = this.getTitle()\n        , content = this.getContent()\n\n      $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n      $tip.find('.popover-content')[this.options.html ? 'html' : 'text'](content)\n\n      $tip.removeClass('fade top bottom left right in')\n    }\n\n  , hasContent: function () {\n      return this.getTitle() || this.getContent()\n    }\n\n  , getContent: function () {\n      var content\n        , $e = this.$element\n        , o = this.options\n\n      content = (typeof o.content == 'function' ? o.content.call($e[0]) :  o.content)\n        || $e.attr('data-content')\n\n      return content\n    }\n\n  , tip: function () {\n      if (!this.$tip) {\n        this.$tip = $(this.options.template)\n      }\n      return this.$tip\n    }\n\n  , destroy: function () {\n      this.hide().$element.off('.' + this.type).removeData(this.type)\n    }\n\n  })\n\n\n /* POPOVER PLUGIN DEFINITION\n  * ======================= */\n\n  var old = $.fn.popover\n\n  $.fn.popover = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('popover')\n        , options = typeof option == 'object' && option\n      if (!data) $this.data('popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  $.fn.popover.Constructor = Popover\n\n  $.fn.popover.defaults = $.extend({} , $.fn.tooltip.defaults, {\n    placement: 'right'\n  , trigger: 'click'\n  , content: ''\n  , template: '<div class=\"popover\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n /* POPOVER NO CONFLICT\n  * =================== */\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n};\n","/* ==========================================================\n * bootstrap-alert.js v2.3.2\n * http://twitter.github.com/bootstrap/javascript.html#alerts\n * ==========================================================\n * Copyright 2012 Twitter, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================== */\n\n\nmodule.exports = function ($) {\n\n  \"use strict\"; // jshint ;_;\n\n\n /* ALERT CLASS DEFINITION\n  * ====================== */\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n    , Alert = function (el) {\n        $(el).on('click', dismiss, this.close)\n      }\n\n  Alert.prototype.close = function (e) {\n    var $this = $(this)\n      , selector = $this.attr('data-target')\n      , $parent\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') //strip for ie7\n    }\n\n    $parent = $(selector)\n\n    e && e.preventDefault()\n\n    $parent.length || ($parent = $this.hasClass('alert') ? $this : $this.parent())\n\n    $parent.trigger(e = $.Event('close'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      $parent\n        .trigger('closed')\n        .remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent.on($.support.transition.end, removeElement) :\n      removeElement()\n  }\n\n\n /* ALERT PLUGIN DEFINITION\n  * ======================= */\n\n  var old = $.fn.alert\n\n  $.fn.alert = function (option) {\n    return this.each(function () {\n      var $this = $(this)\n        , data = $this.data('alert')\n      if (!data) $this.data('alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  $.fn.alert.Constructor = Alert\n\n\n /* ALERT NO CONFLICT\n  * ================= */\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n /* ALERT DATA-API\n  * ============== */\n\n  $(document).on('click.alert.data-api', dismiss, Alert.prototype.close)\n\n};","(function () {\nvar _ = require('lodash')\n  , $ = require('./helpers/JqueryLoader')\n  , jst = require('js-thumb')\n  , path = require('path')\n  , Backbone = require('./helpers/BackboneLoader.js')\n  , Messenger = require('./helpers/lib/messenger.js')\n\n  /* Database Stuff */\n  , db = require('./helpers/db')\n\n  /* Routes */\n  , Routes = {\n      '': require('./routes/index')\n    , 'login': require('./routes/login')\n    , 'logout': require('./routes/logout')\n    , 'createPage': require('./routes/pages/create')\n    , 'page/:name': require('./routes/pages/show')\n    , 'page/:name/edit': require('./routes/pages/edit')\n    , 'page/:name/edit/:action/immediately': require('./routes/pages/quickEdit')\n    , 'reorder': require('./routes/pages/reorder')\n    , 'page/:name/addMedia': require('./routes/media/add')\n    , 'page/:name/pickMedia': require('./routes/media/pick')\n    , 'review': require('./routes/review')\n    , 'page/:name/:type/:id': require('./routes/media/show')\n    , 'media/:type/:id/edit': require('./routes/media/edit')\n    , 'media/:type/:id/remove/:page': require('./routes/media/remove')\n    , 'contact': require('./routes/contact')\n    }\n  , App = Backbone.Router.extend({\n    /**\n    * Constructs a new app\n    */\n    initialize: function (el, config) {\n      var unprocessed\n        , unprocessedTimeout;\n\n      /* Routes */\n      _.each(Routes, function (func, route) {\n        this.route(route, _.bind(func, this));\n      }, this);\n\n      /* What element to render in? */\n      el = el || document.body;\n      this.el = el;\n      this.$el = $(el);\n\n      /* Start the database store */\n      this.db = new db(this);\n\n      /* Load configuration */\n      this.config = _.clone(require('./config/config.js'));\n\n      /* Load utilities */\n      this.util = require('./helpers/util.js')(this.config);\n\n      /* Load messenger */\n      this.messenger = new Messenger(null, this.config.s3prefix, 'thumbnailer');\n\n      /* Listen to user changes */\n      this.listenTo(this.getUser(), 'change', function () {\n        // If a userId is defined in the bootstrap, make sure\n        // that this user matches up!\n        if(this.bootstrap.userId\n          && this.getUser().attributes.token\n          && this.getUser().id !== this.bootstrap.userId) {\n            // Redirect to the logout page!\n            this.navigate('logout',{trigger:true});\n            this.setFlash('info', 'You have been logged out because this is not your portfolio.');\n        }\n      }, this);\n\n      /* Listen to unprocessed upload changes */\n      unprocessed = this.db.fetchCollection('unprocessedUploads');\n\n      this.listenTo(unprocessed, 'ready add change remove sync reset', function () {\n        if(unprocessed.length > 0) {\n          unprocessedTimeout = setTimeout(function () {\n            clearTimeout(unprocessedTimeout);\n            unprocessed.fetch();\n          }, 3000);\n        }\n        else {\n          clearTimeout(unprocessedTimeout);\n        }\n      });\n\n      this.error = _.bind(this.error, this);\n      this.setFlash = _.bind(this.setFlash, this);\n      this.clearFlash = _.bind(this.clearFlash, this);\n\n      window.onresize = jst.resizeVideos;\n\n      return this;\n    }\n\n    /**\n    * Starts the app\n    */\n  , start: function (bootstrap) {\n      this.bootstrap = bootstrap || {};\n\n      Backbone.history.start();\n\n      return this;\n    }\n\n    /**\n    * Handles a link that is really a route\n    */\n  , handleAppLink: function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var target = e.target;\n\n      while(target.pathname == null) {\n        target = target.parentElement;\n      }\n\n      this.navigate(target.pathname, {trigger:true});\n\n      return this;\n    }\n\n    /**\n    * Returns true if logged in\n    */\n  , isLoggedIn: function() {\n      return this.getUser().attributes && this.getUser().attributes.token;\n    }\n\n    /**\n    * Shows a view, does the dirty work of cleaning up\n    * old events so they don't fire repeatedly etc\n    */\n  , show: function (view) {\n      // Clobber all the event bindings RAWR\n      if(this.currentView) {\n        this.currentView.close();\n        this.currentView = null;\n      }\n\n      this.currentView = view;\n      view.render();\n      this.$el.append(view.$el);\n\n      return this;\n    }\n\n    /**\n    * Shows a flash message\n    */\n  , flash: null\n  , setFlash: function (type, message) {\n      if(!type) {\n        type='info';\n      }\n\n      this.flash = {message: message, type: type};\n\n      this.trigger('flash');\n\n      //Clear the flash on the next route change\n      this.listenToOnce(this,\"route\",function(route, router, params) {\n        this.clearFlash();\n      });\n\n      return this;\n    }\n    /**\n    * Clears the flash message\n    */\n  , clearFlash: function () {\n      this.flash=null;\n\n      this.trigger('flash');\n\n      return this;\n    }\n    /*\n    * The error function has to handle three possible scenarios:\n    *   error(model, err)\n    *   error(jqXHR, textStatus, errorThrown)\n    *   error(err)\n    */\n  , error: function (model, err) {\n      console.log(arguments);\n\n      // Third Scenario\n      if (!err) {\n        err = model;\n      }\n      else if (err.statusText === 'timeout') {\n        err = 'The request timed out';\n      }\n      // Second scenario(s)?\n      else if (model.responseText) {\n        err = model.responseText;\n      }\n      else if (err.responseText) {\n        err = err.responseText;\n      }\n\n      var self = this\n        , errToShow = err\n        , buff = \"\";\n\n      if(typeof errToShow == 'string') {\n        try {\n          errToShow = JSON.parse(errToShow);\n        }\n        catch (e) {\n          // Well, guess it isn't JSON then!\n        }\n      }\n\n      // Handle errors thrown through respondWith\n      if(errToShow.message) {\n        errToShow = errToShow.message;\n      }\n\n      if(errToShow == null) {\n        errToShow = \"Unknown (Null) Error\";\n      }\n\n      // If it's an error 403, treat it specially\n      if(parseInt(errToShow, 10) === 403) {\n        this.logoutFromInactivity();\n      }\n      else if(typeof errToShow === 'object') {\n        buff = [];\n\n        /*\n        * Error arrays come in the format\n        * [{attr:<String>,message:<String>}, ...]\n        */\n        if(errToShow instanceof Array) {\n          for(var i=0, ii=errToShow.length; i<ii; i++) {\n            buff.push(self.util.ucfirst(errToShow[i].attr)\n                    + \": \"\n                    + self.util.ucfirst(errToShow[i].message));\n          }\n        }\n        //Probably a filepicker error then\n        else if(errToShow.toString) {\n          buff = [errToShow.toString()];\n        }\n        /*\n        * Error objects come in the format\n        * {attr:<message String>, ...}\n        */\n        else {\n          for(var key in errToShow) {\n            buff.push(self.util.ucfirst(key)\n                    + \": \"\n                    + self.util.ucfirst(errToShow[key]));\n          }\n        }\n\n        buff = buff.join(\",\");\n      }\n      else {\n        buff += errToShow;\n      }\n\n      this.setFlash('error', buff);\n    }\n\n    /*\n    * The One True User (tm) convenience function\n    * better than this.app.db.fetchModel('user') all over the place.\n    *\n    * This is a method so that we can rely on the `ready` event\n    * after a view or something fetches the user.\n    */\n  , getUser: function () { return this.db.fetchModel('user'); }\n\n  , getCustomization: function () {\n      var custId\n        , model;\n\n      // If there is a bootstrapped customization ID, use that\n      if(this.bootstrap && this.bootstrap.customizationId) {\n        custId = this.bootstrap.customizationId;\n\n        model = this.db.fetchModel('customization', custId);\n      }\n      // Otherwise, try for a logged in user's customization ID\n      else if (this.isLoggedIn()) {\n        custId = this.getUser().attributes.customization.id\n\n        model = this.db.fetchModel('customization', custId);\n\n        // We can bootstrap the cust model with stuff from the user\n        if(this.getUser().attributes.customization) {\n          model.set(this.getUser().attributes.customization);\n        }\n      }\n\n      if(custId) {\n        return model;\n      }\n      else {\n        return false;\n      }\n    }\n\n  , getUserVars: function () {\n      var customization = this.getCustomization();\n\n      if(!this.isLoggedIn()) {\n        return this.bootstrap.userVars;\n      }\n      else if(!customization) {\n        return this.bootstrap.userVars;\n      }\n      else {\n        return customization.attributes.config;\n      }\n    }\n\n  , logoutFromInactivity: function () {\n      var self = this;\n\n      this.navigate('logout', {trigger: true});\n\n      // Need to defer as logout will redirect to homepage\n      setTimeout(function () {\n        self.setFlash('info', 'You were logged out due to inactivity');\n      }, 1000);\n    }\n  });\n\n  module.exports = App;\n}());\n","var global=self;/**\n * @license\n * Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modern -o ./dist/lodash.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.4.4 <http://underscorejs.org/>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * Available under MIT license <http://lodash.com/license>\n */\n;(function(window) {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to pool arrays and objects used internally */\n  var arrayPool = [],\n      objectPool = [];\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used internally to indicate various things */\n  var indicatorObject = {};\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date + '';\n\n  /** Used as the size when optimizations are enabled for large arrays */\n  var largeArraySize = 75;\n\n  /** Used as the max size of the `arrayPool` and `objectPool` */\n  var maxPoolSize = 40;\n\n  /** Used to match empty string literals in compiled template source */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g;\n\n  /**\n   * Used to match ES6 template delimiters\n   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-7.8.6\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to detect functions containing a `this` reference */\n  var reThis = (reThis = /\\bthis\\b/) && reThis.test(runInContext) && reThis;\n\n  /** Used to detect and test whitespace */\n  var whitespace = (\n    // whitespace\n    ' \\t\\x0B\\f\\xA0\\ufeff' +\n\n    // line terminators\n    '\\n\\r\\u2028\\u2029' +\n\n    // unicode category \"Zs\" space separators\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to match leading whitespace and zeros to be removed */\n  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to match HTML characters */\n  var reUnescapedHtml = /[&<>\"']/g;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** Used to assign default `context` object properties */\n  var contextProps = [\n    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object',\n    'RegExp', 'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN',\n    'parseInt', 'setImmediate', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify */\n  var templateCounter = 0;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      errorClass = '[object Error]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && module.exports == freeExports && module;\n\n  /** Detect free variable `global`, from Node.js or Browserified code, and use it as `window` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    window = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A basic implementation of `_.indexOf` without support for binary searches\n   * or `fromIndex` constraints.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Mixed} value The value to search for.\n   * @param {Number} [fromIndex=0] The index to search from.\n   * @returns {Number} Returns the index of the matched value or `-1`.\n   */\n  function basicIndexOf(array, value, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * An implementation of `_.contains` for cache objects that mimics the return\n   * signature of `_.indexOf` by returning `0` if the value is found, else `-1`.\n   *\n   * @private\n   * @param {Object} cache The cache object to inspect.\n   * @param {Mixed} value The value to search for.\n   * @returns {Number} Returns `0` if `value` is found, else `-1`.\n   */\n  function cacheIndexOf(cache, value) {\n    var type = typeof value;\n    cache = cache.cache;\n\n    if (type == 'boolean' || value == null) {\n      return cache[value];\n    }\n    if (type != 'number' && type != 'string') {\n      type = 'object';\n    }\n    var key = type == 'number' ? value : keyPrefix + value;\n    cache = cache[type] || (cache[type] = {});\n\n    return type == 'object'\n      ? (cache[key] && basicIndexOf(cache[key], value) > -1 ? 0 : -1)\n      : (cache[key] ? 0 : -1);\n  }\n\n  /**\n   * Adds a given `value` to the corresponding cache object.\n   *\n   * @private\n   * @param {Mixed} value The value to add to the cache.\n   */\n  function cachePush(value) {\n    var cache = this.cache,\n        type = typeof value;\n\n    if (type == 'boolean' || value == null) {\n      cache[value] = true;\n    } else {\n      if (type != 'number' && type != 'string') {\n        type = 'object';\n      }\n      var key = type == 'number' ? value : keyPrefix + value,\n          typeCache = cache[type] || (cache[type] = {});\n\n      if (type == 'object') {\n        if ((typeCache[key] || (typeCache[key] = [])).push(value) == this.array.length) {\n          cache[type] = false;\n        }\n      } else {\n        typeCache[key] = true;\n      }\n    }\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default `callback` when a given\n   * `collection` is a string value.\n   *\n   * @private\n   * @param {String} value The character to inspect.\n   * @returns {Number} Returns the code unit of given character.\n   */\n  function charAtCallback(value) {\n    return value.charCodeAt(0);\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` values, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {Number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ai = a.index,\n        bi = b.index;\n\n    a = a.criteria;\n    b = b.criteria;\n\n    // ensure a stable sort in V8 and other engines\n    // http://code.google.com/p/v8/issues/detail?id=90\n    if (a !== b) {\n      if (a > b || typeof a == 'undefined') {\n        return 1;\n      }\n      if (a < b || typeof b == 'undefined') {\n        return -1;\n      }\n    }\n    return ai < bi ? -1 : 1;\n  }\n\n  /**\n   * Creates a cache object to optimize linear searches of large arrays.\n   *\n   * @private\n   * @param {Array} [array=[]] The array to search.\n   * @returns {Null|Object} Returns the cache object or `null` if caching should not be used.\n   */\n  function createCache(array) {\n    var index = -1,\n        length = array.length;\n\n    var cache = getObject();\n    cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;\n\n    var result = getObject();\n    result.array = array;\n    result.cache = cache;\n    result.push = cachePush;\n\n    while (++index < length) {\n      result.push(array[index]);\n    }\n    return cache.object === false\n      ? (releaseObject(result), null)\n      : result;\n  }\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {String} match The matched character to escape.\n   * @returns {String} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Gets an array from the array pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Array} The array from the pool.\n   */\n  function getArray() {\n    return arrayPool.pop() || [];\n  }\n\n  /**\n   * Gets an object from the object pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Object} The object from the pool.\n   */\n  function getObject() {\n    return objectPool.pop() || {\n      'array': null,\n      'cache': null,\n      'criteria': null,\n      'false': false,\n      'index': 0,\n      'leading': false,\n      'maxWait': 0,\n      'null': false,\n      'number': null,\n      'object': null,\n      'push': null,\n      'string': null,\n      'trailing': false,\n      'true': false,\n      'undefined': false,\n      'value': null\n    };\n  }\n\n  /**\n   * A no-operation function.\n   *\n   * @private\n   */\n  function noop() {\n    // no operation performed\n  }\n\n  /**\n   * Releases the given `array` back to the array pool.\n   *\n   * @private\n   * @param {Array} [array] The array to release.\n   */\n  function releaseArray(array) {\n    array.length = 0;\n    if (arrayPool.length < maxPoolSize) {\n      arrayPool.push(array);\n    }\n  }\n\n  /**\n   * Releases the given `object` back to the object pool.\n   *\n   * @private\n   * @param {Object} [object] The object to release.\n   */\n  function releaseObject(object) {\n    var cache = object.cache;\n    if (cache) {\n      releaseObject(cache);\n    }\n    object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;\n    if (objectPool.length < maxPoolSize) {\n      objectPool.push(object);\n    }\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used, instead of `Array#slice`, to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|String} collection The collection to slice.\n   * @param {Number} start The start index.\n   * @param {Number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} [context=window] The context object.\n   * @returns {Function} Returns the `lodash` function.\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See http://es5.github.com/#x11.1.5.\n    context = context ? _.defaults(window.Object(), context, _.pick(window, contextProps)) : window;\n\n    /** Native constructor references */\n    var Array = context.Array,\n        Boolean = context.Boolean,\n        Date = context.Date,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /**\n     * Used for `Array` method references.\n     *\n     * Normally `Array.prototype` would suffice, however, using an array literal\n     * avoids issues in Narwhal.\n     */\n    var arrayRef = [];\n\n    /** Used for native method references */\n    var objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to restore the original `_` reference in `noConflict` */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native */\n    var reNative = RegExp('^' +\n      String(objectProto.valueOf)\n        .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n        .replace(/valueOf|for [^\\]]+/g, '.+?') + '$'\n    );\n\n    /** Native method shortcuts */\n    var ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        concat = arrayRef.concat,\n        floor = Math.floor,\n        fnToString = Function.prototype.toString,\n        getPrototypeOf = reNative.test(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        hasOwnProperty = objectProto.hasOwnProperty,\n        push = arrayRef.push,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        setImmediate = context.setImmediate,\n        setTimeout = context.setTimeout,\n        toString = objectProto.toString;\n\n    /* Native method shortcuts for methods with the same name as other `lodash` methods */\n    var nativeBind = reNative.test(nativeBind = toString.bind) && nativeBind,\n        nativeCreate = reNative.test(nativeCreate =  Object.create) && nativeCreate,\n        nativeIsArray = reNative.test(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeIsFinite = context.isFinite,\n        nativeIsNaN = context.isNaN,\n        nativeKeys = reNative.test(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeSlice = arrayRef.slice;\n\n    /** Detect various environments */\n    var isIeOpera = reNative.test(context.attachEvent),\n        isV8 = nativeBind && !/\\n|true/.test(nativeBind + isIeOpera);\n\n    /** Used to lookup a built-in constructor by [[Class]] */\n    var ctorByClass = {};\n    ctorByClass[arrayClass] = Array;\n    ctorByClass[boolClass] = Boolean;\n    ctorByClass[dateClass] = Date;\n    ctorByClass[funcClass] = Function;\n    ctorByClass[objectClass] = Object;\n    ctorByClass[numberClass] = Number;\n    ctorByClass[regexpClass] = RegExp;\n    ctorByClass[stringClass] = String;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object, which wraps the given `value`, to enable method\n     * chaining.\n     *\n     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n     * and `unshift`\n     *\n     * Chaining is supported in custom builds as long as the `value` method is\n     * implicitly or explicitly included in the build.\n     *\n     * The chainable wrapper functions are:\n     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n     * `compose`, `concat`, `countBy`, `createCallback`, `debounce`, `defaults`,\n     * `defer`, `delay`, `difference`, `filter`, `flatten`, `forEach`, `forIn`,\n     * `forOwn`, `functions`, `groupBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `push`, `range`,\n     * `reject`, `rest`, `reverse`, `shuffle`, `slice`, `sort`, `sortBy`, `splice`,\n     * `tap`, `throttle`, `times`, `toArray`, `transform`, `union`, `uniq`, `unshift`,\n     * `unzip`, `values`, `where`, `without`, `wrap`, and `zip`\n     *\n     * The non-chainable wrapper functions are:\n     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `has`,\n     * `identity`, `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`,\n     * `isElement`, `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`,\n     * `isNull`, `isNumber`, `isObject`, `isPlainObject`, `isRegExp`, `isString`,\n     * `isUndefined`, `join`, `lastIndexOf`, `mixin`, `noConflict`, `parseInt`,\n     * `pop`, `random`, `reduce`, `reduceRight`, `result`, `shift`, `size`, `some`,\n     * `sortedIndex`, `runInContext`, `template`, `unescape`, `uniqueId`, and `value`\n     *\n     * The wrapper functions `first` and `last` return wrapped values when `n` is\n     * passed, otherwise they return unwrapped values.\n     *\n     * @name _\n     * @constructor\n     * @alias chain\n     * @category Chaining\n     * @param {Mixed} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns a `lodash` instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(num) {\n     *   return num * num;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor\n      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))\n       ? value\n       : new lodashWrapper(value);\n    }\n\n    /**\n     * A fast path for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {Mixed} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns a `lodash` instance.\n     */\n    function lodashWrapper(value) {\n      this.__wrapped__ = value;\n    }\n    // ensure `new lodashWrapper` is an instance of `lodash`\n    lodashWrapper.prototype = lodash.prototype;\n\n    /**\n     * An object used to flag environments features.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * Detect if `Function#bind` exists and is inferred to be fast (all but V8).\n     *\n     * @memberOf _.support\n     * @type Boolean\n     */\n    support.fastBind = nativeBind && !isV8;\n\n    /**\n     * By default, the template delimiters used by Lo-Dash are similar to those in\n     * embedded Ruby (ERB). Change the following template settings to use alternative\n     * delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': /<%-([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': /<%([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type String\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that, when called, invokes `func` with the `this` binding\n     * of `thisArg` and prepends any `partialArgs` to the arguments passed to the\n     * bound function.\n     *\n     * @private\n     * @param {Function|String} func The function to bind or the method name.\n     * @param {Mixed} [thisArg] The `this` binding of `func`.\n     * @param {Array} partialArgs An array of arguments to be partially applied.\n     * @param {Object} [idicator] Used to indicate binding by key or partially\n     *  applying arguments from the right.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBound(func, thisArg, partialArgs, indicator) {\n      var isFunc = isFunction(func),\n          isPartial = !partialArgs,\n          key = thisArg;\n\n      // juggle arguments\n      if (isPartial) {\n        var rightIndicator = indicator;\n        partialArgs = thisArg;\n      }\n      else if (!isFunc) {\n        if (!indicator) {\n          throw new TypeError;\n        }\n        thisArg = func;\n      }\n\n      function bound() {\n        // `Function#bind` spec\n        // http://es5.github.com/#x15.3.4.5\n        var args = arguments,\n            thisBinding = isPartial ? this : thisArg;\n\n        if (!isFunc) {\n          func = thisArg[key];\n        }\n        if (partialArgs.length) {\n          args = args.length\n            ? (args = nativeSlice.call(args), rightIndicator ? args.concat(partialArgs) : partialArgs.concat(args))\n            : partialArgs;\n        }\n        if (this instanceof bound) {\n          // ensure `new bound` is an instance of `func`\n          thisBinding = createObject(func.prototype);\n\n          // mimic the constructor's `return` behavior\n          // http://es5.github.com/#x13.2.2\n          var result = func.apply(thisBinding, args);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisBinding, args);\n      }\n      return bound;\n    }\n\n    /**\n     * Creates a new object with the specified `prototype`.\n     *\n     * @private\n     * @param {Object} prototype The prototype object.\n     * @returns {Object} Returns the new object.\n     */\n    function createObject(prototype) {\n      return isObject(prototype) ? nativeCreate(prototype) : {};\n    }\n\n    /**\n     * Used by `escape` to convert characters to HTML entities.\n     *\n     * @private\n     * @param {String} match The matched character to escape.\n     * @returns {String} Returns the escaped character.\n     */\n    function escapeHtmlChar(match) {\n      return htmlEscapes[match];\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized, this method returns the custom method, otherwise it returns\n     * the `basicIndexOf` function.\n     *\n     * @private\n     * @returns {Function} Returns the \"indexOf\" function.\n     */\n    function getIndexOf(array, value, fromIndex) {\n      var result = (result = lodash.indexOf) === indexOf ? basicIndexOf : result;\n      return result;\n    }\n\n    /**\n     * Creates a function that juggles arguments, allowing argument overloading\n     * for `_.flatten` and `_.uniq`, before passing them to the given `func`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @returns {Function} Returns the new function.\n     */\n    function overloadWrapper(func) {\n      return function(array, flag, callback, thisArg) {\n        // juggle arguments\n        if (typeof flag != 'boolean' && flag != null) {\n          thisArg = callback;\n          callback = !(thisArg && thisArg[flag] === array) ? flag : undefined;\n          flag = false;\n        }\n        if (callback != null) {\n          callback = lodash.createCallback(callback, thisArg);\n        }\n        return func(array, flag, callback, thisArg);\n      };\n    }\n\n    /**\n     * A fallback implementation of `isPlainObject` which checks if a given `value`\n     * is an object created by the `Object` constructor, assuming objects created\n     * by the `Object` constructor have no inherited enumerable properties and that\n     * there are no `Object.prototype` extensions.\n     *\n     * @private\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var ctor,\n          result;\n\n      // avoid non Object objects, `arguments` objects, and DOM elements\n      if (!(value && toString.call(value) == objectClass) ||\n          (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {\n        return false;\n      }\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      forIn(value, function(value, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Used by `unescape` to convert HTML entities to characters.\n     *\n     * @private\n     * @param {String} match The matched character to unescape.\n     * @returns {String} Returns the unescaped character.\n     */\n    function unescapeHtmlChar(match) {\n      return htmlUnescapes[match];\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `value` is an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is an `arguments` object, else `false`.\n     * @example\n     *\n     * (function() { return _.isArguments(arguments); })(1, 2, 3);\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return toString.call(value) == argsClass;\n    }\n\n    /**\n     * Checks if `value` is an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is an array, else `false`.\n     * @example\n     *\n     * (function() { return _.isArray(arguments); })();\n     * // => false\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     */\n    var isArray = nativeIsArray;\n\n    /**\n     * A fallback implementation of `Object.keys` which produces an array of the\n     * given object's own enumerable property names.\n     *\n     * @private\n     * @type Function\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns a new array of property names.\n     */\n    var shimKeys = function (object) {\n      var index, iterable = object, result = [];\n      if (!iterable) return result;\n      if (!(objectTypes[typeof object])) return result;    \n        for (index in iterable) {\n          if (hasOwnProperty.call(iterable, index)) {\n            result.push(index);    \n          }\n        }    \n      return result\n    };\n\n    /**\n     * Creates an array composed of the own enumerable property names of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns a new array of property names.\n     * @example\n     *\n     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => ['one', 'two', 'three'] (order is not guaranteed)\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (!isObject(object)) {\n        return [];\n      }\n      return nativeKeys(object);\n    };\n\n    /**\n     * Used to convert characters to HTML entities:\n     *\n     * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n     * don't require escaping in HTML and have no special meaning unless they're part\n     * of a tag or an unquoted attribute value.\n     * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n     */\n    var htmlEscapes = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    };\n\n    /** Used to convert HTML entities to characters */\n    var htmlUnescapes = invert(htmlEscapes);\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources will overwrite property assignments of previous\n     * sources. If a `callback` function is passed, it will be executed to produce\n     * the assigned values. The `callback` is bound to `thisArg` and invoked with\n     * two arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @alias extend\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {Object} [source1, source2, ...] The source objects.\n     * @param {Function} [callback] The function to customize assigning values.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * _.assign({ 'name': 'moe' }, { 'age': 40 });\n     * // => { 'name': 'moe', 'age': 40 }\n     *\n     * var defaults = _.partialRight(_.assign, function(a, b) {\n     *   return typeof a == 'undefined' ? b : a;\n     * });\n     *\n     * var food = { 'name': 'apple' };\n     * defaults(food, { 'name': 'banana', 'type': 'fruit' });\n     * // => { 'name': 'apple', 'type': 'fruit' }\n     */\n    var assign = function (object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n        var callback = lodash.createCallback(args[--argsLength - 1], args[argsLength--], 2);\n      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n        callback = args[--argsLength];\n      }\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {    \n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];    \n        }    \n        }\n      }\n      return result\n    };\n\n    /**\n     * Creates a clone of `value`. If `deep` is `true`, nested objects will also\n     * be cloned, otherwise they will be assigned by reference. If a `callback`\n     * function is passed, it will be executed to produce the cloned values. If\n     * `callback` returns `undefined`, cloning will be handled by the method instead.\n     * The `callback` is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to clone.\n     * @param {Boolean} [deep=false] A flag to indicate a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @param- {Array} [stackA=[]] Tracks traversed source objects.\n     * @param- {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {Mixed} Returns the cloned `value`.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * var shallow = _.clone(stooges);\n     * shallow[0] === stooges[0];\n     * // => true\n     *\n     * var deep = _.clone(stooges, true);\n     * deep[0] === stooges[0];\n     * // => false\n     *\n     * _.mixin({\n     *   'clone': _.partialRight(_.clone, function(value) {\n     *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n     *   })\n     * });\n     *\n     * var clone = _.clone(document.body);\n     * clone.childNodes.length;\n     * // => 0\n     */\n    function clone(value, deep, callback, thisArg, stackA, stackB) {\n      var result = value;\n\n      // allows working with \"Collections\" methods without using their `callback`\n      // argument, `index|key`, for this method's `callback`\n      if (typeof deep != 'boolean' && deep != null) {\n        thisArg = callback;\n        callback = deep;\n        deep = false;\n      }\n      if (typeof callback == 'function') {\n        callback = (typeof thisArg == 'undefined')\n          ? callback\n          : lodash.createCallback(callback, thisArg, 1);\n\n        result = callback(result);\n        if (typeof result != 'undefined') {\n          return result;\n        }\n        result = value;\n      }\n      // inspect [[Class]]\n      var isObj = isObject(result);\n      if (isObj) {\n        var className = toString.call(result);\n        if (!cloneableClasses[className]) {\n          return result;\n        }\n        var isArr = isArray(result);\n      }\n      // shallow clone\n      if (!isObj || !deep) {\n        return isObj\n          ? (isArr ? slice(result) : assign({}, result))\n          : result;\n      }\n      var ctor = ctorByClass[className];\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          return new ctor(+result);\n\n        case numberClass:\n        case stringClass:\n          return new ctor(result);\n\n        case regexpClass:\n          return ctor(result.source, reFlags.exec(result));\n      }\n      // check for circular references and return corresponding clone\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // init cloned object\n      result = isArr ? ctor(result.length) : {};\n\n      // add array properties assigned by `RegExp#exec`\n      if (isArr) {\n        if (hasOwnProperty.call(value, 'index')) {\n          result.index = value.index;\n        }\n        if (hasOwnProperty.call(value, 'input')) {\n          result.input = value.input;\n        }\n      }\n      // add the source value to the stack of traversed objects\n      // and associate it with its clone\n      stackA.push(value);\n      stackB.push(result);\n\n      // recursively populate clone (susceptible to call stack limits)\n      (isArr ? forEach : forOwn)(value, function(objValue, key) {\n        result[key] = clone(objValue, deep, callback, undefined, stackA, stackB);\n      });\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * Creates a deep clone of `value`. If a `callback` function is passed,\n     * it will be executed to produce the cloned values. If `callback` returns\n     * `undefined`, cloning will be handled by the method instead. The `callback`\n     * is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * Note: This method is loosely based on the structured clone algorithm. Functions\n     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and\n     * objects created by constructors other than `Object` are cloned to plain `Object` objects.\n     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the deep cloned `value`.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * var deep = _.cloneDeep(stooges);\n     * deep[0] === stooges[0];\n     * // => false\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'node': element\n     * };\n     *\n     * var clone = _.cloneDeep(view, function(value) {\n     *   return _.isElement(value) ? value.cloneNode(true) : undefined;\n     * });\n     *\n     * clone.node == view.node;\n     * // => false\n     */\n    function cloneDeep(value, callback, thisArg) {\n      return clone(value, true, callback, thisArg);\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional defaults of the same property will be ignored.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {Object} [source1, source2, ...] The source objects.\n     * @param- {Object} [guard] Allows working with `_.reduce` without using its\n     *  callback's `key` and `object` arguments as sources.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var food = { 'name': 'apple' };\n     * _.defaults(food, { 'name': 'banana', 'type': 'fruit' });\n     * // => { 'name': 'apple', 'type': 'fruit' }\n     */\n    var defaults = function (object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {    \n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (typeof result[index] == 'undefined') result[index] = iterable[index];    \n        }    \n        }\n      }\n      return result\n    };\n\n    /**\n     * This method is similar to `_.find`, except that it returns the key of the\n     * element that passes the callback check, instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * _.findKey({ 'a': 1, 'b': 2, 'c': 3, 'd': 4 }, function(num) {\n     *   return num % 2 == 0;\n     * });\n     * // => 'b'\n     */\n    function findKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg);\n      forOwn(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over `object`'s own and inherited enumerable properties, executing\n     * the `callback` for each property. The `callback` is bound to `thisArg` and\n     * invoked with three arguments; (value, key, object). Callbacks may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Dog(name) {\n     *   this.name = name;\n     * }\n     *\n     * Dog.prototype.bark = function() {\n     *   alert('Woof, woof!');\n     * };\n     *\n     * _.forIn(new Dog('Dagny'), function(value, key) {\n     *   alert(key);\n     * });\n     * // => alerts 'name' and 'bark' (order is not guaranteed)\n     */\n    var forIn = function (collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);    \n        for (index in iterable) {\n          if (callback(iterable[index], index, collection) === false) return result;    \n        }    \n      return result\n    };\n\n    /**\n     * Iterates over an object's own enumerable properties, executing the `callback`\n     * for each property. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, key, object). Callbacks may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   alert(key);\n     * });\n     * // => alerts '0', '1', and 'length' (order is not guaranteed)\n     */\n    var forOwn = function (collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);    \n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (callback(iterable[index], index, collection) === false) return result;    \n        }    \n      return result\n    };\n\n    /**\n     * Creates a sorted array of all enumerable properties, own and inherited,\n     * of `object` that have function values.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns a new array of property names that have function values.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n     */\n    function functions(object) {\n      var result = [];\n      forIn(object, function(value, key) {\n        if (isFunction(value)) {\n          result.push(key);\n        }\n      });\n      return result.sort();\n    }\n\n    /**\n     * Checks if the specified object `property` exists and is a direct property,\n     * instead of an inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to check.\n     * @param {String} property The property to check for.\n     * @returns {Boolean} Returns `true` if key is a direct property, else `false`.\n     * @example\n     *\n     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n     * // => true\n     */\n    function has(object, property) {\n      return object ? hasOwnProperty.call(object, property) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of the given `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the created inverted object.\n     * @example\n     *\n     *  _.invert({ 'first': 'moe', 'second': 'larry' });\n     * // => { 'moe': 'first', 'larry': 'second' }\n     */\n    function invert(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        result[object[key]] = key;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a boolean value.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a boolean value, else `false`.\n     * @example\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || toString.call(value) == boolClass;\n    }\n\n    /**\n     * Checks if `value` is a date.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a date, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     */\n    function isDate(value) {\n      return value ? (typeof value == 'object' && toString.call(value) == dateClass) : false;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     */\n    function isElement(value) {\n      return value ? value.nodeType === 1 : false;\n    }\n\n    /**\n     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n     * length of `0` and objects with no own enumerable properties are considered\n     * \"empty\".\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object|String} value The value to inspect.\n     * @returns {Boolean} Returns `true`, if the `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({});\n     * // => true\n     *\n     * _.isEmpty('');\n     * // => true\n     */\n    function isEmpty(value) {\n      var result = true;\n      if (!value) {\n        return result;\n      }\n      var className = toString.call(value),\n          length = value.length;\n\n      if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n        return !length;\n      }\n      forOwn(value, function() {\n        return (result = false);\n      });\n      return result;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent to each other. If `callback` is passed, it will be executed to\n     * compare values. If `callback` returns `undefined`, comparisons will be handled\n     * by the method instead. The `callback` is bound to `thisArg` and invoked with\n     * two arguments; (a, b).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} a The value to compare.\n     * @param {Mixed} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @param- {Array} [stackA=[]] Tracks traversed `a` objects.\n     * @param- {Array} [stackB=[]] Tracks traversed `b` objects.\n     * @returns {Boolean} Returns `true`, if the values are equivalent, else `false`.\n     * @example\n     *\n     * var moe = { 'name': 'moe', 'age': 40 };\n     * var copy = { 'name': 'moe', 'age': 40 };\n     *\n     * moe == copy;\n     * // => false\n     *\n     * _.isEqual(moe, copy);\n     * // => true\n     *\n     * var words = ['hello', 'goodbye'];\n     * var otherWords = ['hi', 'goodbye'];\n     *\n     * _.isEqual(words, otherWords, function(a, b) {\n     *   var reGreet = /^(?:hello|hi)$/i,\n     *       aGreet = _.isString(a) && reGreet.test(a),\n     *       bGreet = _.isString(b) && reGreet.test(b);\n     *\n     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n     * });\n     * // => true\n     */\n    function isEqual(a, b, callback, thisArg, stackA, stackB) {\n      // used to indicate that when comparing objects, `a` has at least the properties of `b`\n      var whereIndicator = callback === indicatorObject;\n      if (typeof callback == 'function' && !whereIndicator) {\n        callback = lodash.createCallback(callback, thisArg, 2);\n        var result = callback(a, b);\n        if (typeof result != 'undefined') {\n          return !!result;\n        }\n      }\n      // exit early for identical values\n      if (a === b) {\n        // treat `+0` vs. `-0` as not equal\n        return a !== 0 || (1 / a == 1 / b);\n      }\n      var type = typeof a,\n          otherType = typeof b;\n\n      // exit early for unlike primitive values\n      if (a === a &&\n          (!a || (type != 'function' && type != 'object')) &&\n          (!b || (otherType != 'function' && otherType != 'object'))) {\n        return false;\n      }\n      // exit early for `null` and `undefined`, avoiding ES3's Function#call behavior\n      // http://es5.github.com/#x15.3.4.4\n      if (a == null || b == null) {\n        return a === b;\n      }\n      // compare [[Class]] names\n      var className = toString.call(a),\n          otherClass = toString.call(b);\n\n      if (className == argsClass) {\n        className = objectClass;\n      }\n      if (otherClass == argsClass) {\n        otherClass = objectClass;\n      }\n      if (className != otherClass) {\n        return false;\n      }\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          // coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0`, treating invalid dates coerced to `NaN` as not equal\n          return +a == +b;\n\n        case numberClass:\n          // treat `NaN` vs. `NaN` as equal\n          return (a != +a)\n            ? b != +b\n            // but treat `+0` vs. `-0` as not equal\n            : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n        case regexpClass:\n        case stringClass:\n          // coerce regexes to strings (http://es5.github.com/#x15.10.6.4)\n          // treat string primitives and their corresponding object instances as equal\n          return a == String(b);\n      }\n      var isArr = className == arrayClass;\n      if (!isArr) {\n        // unwrap any `lodash` wrapped values\n        if (hasOwnProperty.call(a, '__wrapped__ ') || hasOwnProperty.call(b, '__wrapped__')) {\n          return isEqual(a.__wrapped__ || a, b.__wrapped__ || b, callback, thisArg, stackA, stackB);\n        }\n        // exit for functions and DOM nodes\n        if (className != objectClass) {\n          return false;\n        }\n        // in older versions of Opera, `arguments` objects have `Array` constructors\n        var ctorA = a.constructor,\n            ctorB = b.constructor;\n\n        // non `Object` object instances with different constructors are not equal\n        if (ctorA != ctorB && !(\n              isFunction(ctorA) && ctorA instanceof ctorA &&\n              isFunction(ctorB) && ctorB instanceof ctorB\n            )) {\n          return false;\n        }\n      }\n      // assume cyclic structures are equal\n      // the algorithm for detecting cyclic structures is adapted from ES 5.1\n      // section 15.12.3, abstract operation `JO` (http://es5.github.com/#x15.12.3)\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == a) {\n          return stackB[length] == b;\n        }\n      }\n      var size = 0;\n      result = true;\n\n      // add `a` and `b` to the stack of traversed objects\n      stackA.push(a);\n      stackB.push(b);\n\n      // recursively compare objects and arrays (susceptible to call stack limits)\n      if (isArr) {\n        length = a.length;\n        size = b.length;\n\n        // compare lengths to determine if a deep comparison is necessary\n        result = size == a.length;\n        if (!result && !whereIndicator) {\n          return result;\n        }\n        // deep compare the contents, ignoring non-numeric properties\n        while (size--) {\n          var index = length,\n              value = b[size];\n\n          if (whereIndicator) {\n            while (index--) {\n              if ((result = isEqual(a[index], value, callback, thisArg, stackA, stackB))) {\n                break;\n              }\n            }\n          } else if (!(result = isEqual(a[size], value, callback, thisArg, stackA, stackB))) {\n            break;\n          }\n        }\n        return result;\n      }\n      // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`\n      // which, in this case, is more costly\n      forIn(b, function(value, key, b) {\n        if (hasOwnProperty.call(b, key)) {\n          // count the number of properties.\n          size++;\n          // deep compare each property value.\n          return (result = hasOwnProperty.call(a, key) && isEqual(a[key], value, callback, thisArg, stackA, stackB));\n        }\n      });\n\n      if (result && !whereIndicator) {\n        // ensure both objects have the same number of properties\n        forIn(a, function(value, key, a) {\n          if (hasOwnProperty.call(a, key)) {\n            // `size` will be `-1` if `a` has more properties than `b`\n            return (result = --size > -1);\n          }\n        });\n      }\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is, or can be coerced to, a finite number.\n     *\n     * Note: This is not the same as native `isFinite`, which will return true for\n     * booleans and empty strings. See http://es5.github.com/#x15.1.2.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is finite, else `false`.\n     * @example\n     *\n     * _.isFinite(-101);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => true\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite('');\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n    }\n\n    /**\n     * Checks if `value` is a function.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     */\n    function isFunction(value) {\n      return typeof value == 'function';\n    }\n\n    /**\n     * Checks if `value` is the language type of Object.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // check if the value is the ECMAScript language type of Object\n      // http://es5.github.com/#x8\n      // and avoid a V8 bug\n      // http://code.google.com/p/v8/issues/detail?id=2291\n      return !!(value && objectTypes[typeof value]);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * Note: This is not the same as native `isNaN`, which will return `true` for\n     * `undefined` and other values. See http://es5.github.com/#x15.1.2.4.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // `NaN` as a primitive is the only value that is not equal to itself\n      // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n      return isNumber(value) && value != +value\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(undefined);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is a number.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4 * 5);\n     * // => true\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || toString.call(value) == numberClass;\n    }\n\n    /**\n     * Checks if a given `value` is an object created by the `Object` constructor.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Stooge(name, age) {\n     *   this.name = name;\n     *   this.age = age;\n     * }\n     *\n     * _.isPlainObject(new Stooge('moe', 40));\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'name': 'moe', 'age': 40 });\n     * // => true\n     */\n    var isPlainObject = function(value) {\n      if (!(value && toString.call(value) == objectClass)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = typeof valueOf == 'function' && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is a regular expression.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a regular expression, else `false`.\n     * @example\n     *\n     * _.isRegExp(/moe/);\n     * // => true\n     */\n    function isRegExp(value) {\n      return value ? (typeof value == 'object' && toString.call(value) == regexpClass) : false;\n    }\n\n    /**\n     * Checks if `value` is a string.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('moe');\n     * // => true\n     */\n    function isString(value) {\n      return typeof value == 'string' || toString.call(value) == stringClass;\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined`, into the destination object. Subsequent sources\n     * will overwrite property assignments of previous sources. If a `callback` function\n     * is passed, it will be executed to produce the merged values of the destination\n     * and source properties. If `callback` returns `undefined`, merging will be\n     * handled by the method instead. The `callback` is bound to `thisArg` and\n     * invoked with two arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {Object} [source1, source2, ...] The source objects.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @param- {Object} [deepIndicator] Indicates that `stackA` and `stackB` are\n     *  arrays of traversed objects, instead of source objects.\n     * @param- {Array} [stackA=[]] Tracks traversed source objects.\n     * @param- {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var names = {\n     *   'stooges': [\n     *     { 'name': 'moe' },\n     *     { 'name': 'larry' }\n     *   ]\n     * };\n     *\n     * var ages = {\n     *   'stooges': [\n     *     { 'age': 40 },\n     *     { 'age': 50 }\n     *   ]\n     * };\n     *\n     * _.merge(names, ages);\n     * // => { 'stooges': [{ 'name': 'moe', 'age': 40 }, { 'name': 'larry', 'age': 50 }] }\n     *\n     * var food = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var otherFood = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(food, otherFood, function(a, b) {\n     *   return _.isArray(a) ? a.concat(b) : undefined;\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n     */\n    function merge(object, source, deepIndicator) {\n      var args = arguments,\n          index = 0,\n          length = 2;\n\n      if (!isObject(object)) {\n        return object;\n      }\n      if (deepIndicator === indicatorObject) {\n        var callback = args[3],\n            stackA = args[4],\n            stackB = args[5];\n      } else {\n        var initedStack = true;\n        stackA = getArray();\n        stackB = getArray();\n\n        // allows working with `_.reduce` and `_.reduceRight` without\n        // using their `callback` arguments, `index|key` and `collection`\n        if (typeof deepIndicator != 'number') {\n          length = args.length;\n        }\n        if (length > 3 && typeof args[length - 2] == 'function') {\n          callback = lodash.createCallback(args[--length - 1], args[length--], 2);\n        } else if (length > 2 && typeof args[length - 1] == 'function') {\n          callback = args[--length];\n        }\n      }\n      while (++index < length) {\n        (isArray(args[index]) ? forEach : forOwn)(args[index], function(source, key) {\n          var found,\n              isArr,\n              result = source,\n              value = object[key];\n\n          if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n            // avoid merging previously merged cyclic sources\n            var stackLength = stackA.length;\n            while (stackLength--) {\n              if ((found = stackA[stackLength] == source)) {\n                value = stackB[stackLength];\n                break;\n              }\n            }\n            if (!found) {\n              var isShallow;\n              if (callback) {\n                result = callback(value, source);\n                if ((isShallow = typeof result != 'undefined')) {\n                  value = result;\n                }\n              }\n              if (!isShallow) {\n                value = isArr\n                  ? (isArray(value) ? value : [])\n                  : (isPlainObject(value) ? value : {});\n              }\n              // add `source` and associated `value` to the stack of traversed objects\n              stackA.push(source);\n              stackB.push(value);\n\n              // recursively merge objects and arrays (susceptible to call stack limits)\n              if (!isShallow) {\n                value = merge(value, source, indicatorObject, callback, stackA, stackB);\n              }\n            }\n          }\n          else {\n            if (callback) {\n              result = callback(value, source);\n              if (typeof result == 'undefined') {\n                result = source;\n              }\n            }\n            if (typeof result != 'undefined') {\n              value = result;\n            }\n          }\n          object[key] = value;\n        });\n      }\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return object;\n    }\n\n    /**\n     * Creates a shallow clone of `object` excluding the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a `callback` function is passed, it will be executed\n     * for each property in the `object`, omitting the properties `callback`\n     * returns truthy for. The `callback` is bound to `thisArg` and invoked\n     * with three arguments; (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|String} callback|[prop1, prop2, ...] The properties to omit\n     *  or the function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object without the omitted properties.\n     * @example\n     *\n     * _.omit({ 'name': 'moe', 'age': 40 }, 'age');\n     * // => { 'name': 'moe' }\n     *\n     * _.omit({ 'name': 'moe', 'age': 40 }, function(value) {\n     *   return typeof value == 'number';\n     * });\n     * // => { 'name': 'moe' }\n     */\n    function omit(object, callback, thisArg) {\n      var indexOf = getIndexOf(),\n          isFunc = typeof callback == 'function',\n          result = {};\n\n      if (isFunc) {\n        callback = lodash.createCallback(callback, thisArg);\n      } else {\n        var props = concat.apply(arrayRef, nativeSlice.call(arguments, 1));\n      }\n      forIn(object, function(value, key, object) {\n        if (isFunc\n              ? !callback(value, key, object)\n              : indexOf(props, key) < 0\n            ) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Creates a two dimensional array of the given object's key-value pairs,\n     * i.e. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'moe': 30, 'larry': 40 });\n     * // => [['moe', 30], ['larry', 40]] (order is not guaranteed)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a shallow clone of `object` composed of the specified properties.\n     * Property names may be specified as individual arguments or as arrays of property\n     * names. If `callback` is passed, it will be executed for each property in the\n     * `object`, picking the properties `callback` returns truthy for. The `callback`\n     * is bound to `thisArg` and invoked with three arguments; (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Array|Function|String} callback|[prop1, prop2, ...] The function called\n     *  per iteration or properties to pick, either as individual arguments or arrays.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object composed of the picked properties.\n     * @example\n     *\n     * _.pick({ 'name': 'moe', '_userid': 'moe1' }, 'name');\n     * // => { 'name': 'moe' }\n     *\n     * _.pick({ 'name': 'moe', '_userid': 'moe1' }, function(value, key) {\n     *   return key.charAt(0) != '_';\n     * });\n     * // => { 'name': 'moe' }\n     */\n    function pick(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var index = -1,\n            props = concat.apply(arrayRef, nativeSlice.call(arguments, 1)),\n            length = isObject(object) ? props.length : 0;\n\n        while (++index < length) {\n          var key = props[index];\n          if (key in object) {\n            result[key] = object[key];\n          }\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg);\n        forIn(object, function(value, key, object) {\n          if (callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * An alternative to `_.reduce`, this method transforms an `object` to a new\n     * `accumulator` object which is the result of running each of its elements\n     * through the `callback`, with each `callback` execution potentially mutating\n     * the `accumulator` object. The `callback` is bound to `thisArg` and invoked\n     * with four arguments; (accumulator, value, key, object). Callbacks may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [accumulator] The custom accumulator value.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the accumulated value.\n     * @example\n     *\n     * var squares = _.transform([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], function(result, num) {\n     *   num *= num;\n     *   if (num % 2) {\n     *     return result.push(num) < 3;\n     *   }\n     * });\n     * // => [1, 9, 25]\n     *\n     * var mapped = _.transform({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     * });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function transform(object, callback, accumulator, thisArg) {\n      var isArr = isArray(object);\n      callback = lodash.createCallback(callback, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr) {\n          accumulator = [];\n        } else {\n          var ctor = object && object.constructor,\n              proto = ctor && ctor.prototype;\n\n          accumulator = createObject(proto);\n        }\n      }\n      (isArr ? forEach : forOwn)(object, function(value, index, object) {\n        return callback(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array composed of the own enumerable property values of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns a new array of property values.\n     * @example\n     *\n     * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => [1, 2, 3] (order is not guaranteed)\n     */\n    function values(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements from the specified indexes, or keys, of the\n     * `collection`. Indexes may be specified as individual arguments or as arrays\n     * of indexes.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Array|Number|String} [index1, index2, ...] The indexes of\n     *  `collection` to retrieve, either as individual arguments or arrays.\n     * @returns {Array} Returns a new array of elements corresponding to the\n     *  provided indexes.\n     * @example\n     *\n     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);\n     * // => ['a', 'c', 'e']\n     *\n     * _.at(['moe', 'larry', 'curly'], 0, 2);\n     * // => ['moe', 'curly']\n     */\n    function at(collection) {\n      var index = -1,\n          props = concat.apply(arrayRef, nativeSlice.call(arguments, 1)),\n          length = props.length,\n          result = Array(length);\n\n      while(++index < length) {\n        result[index] = collection[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * Checks if a given `target` element is present in a `collection` using strict\n     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n     * as the offset from the end of the collection.\n     *\n     * @static\n     * @memberOf _\n     * @alias include\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Mixed} target The value to check for.\n     * @param {Number} [fromIndex=0] The index to search from.\n     * @returns {Boolean} Returns `true` if the `target` element is found, else `false`.\n     * @example\n     *\n     * _.contains([1, 2, 3], 1);\n     * // => true\n     *\n     * _.contains([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.contains({ 'name': 'moe', 'age': 40 }, 'moe');\n     * // => true\n     *\n     * _.contains('curly', 'ur');\n     * // => true\n     */\n    function contains(collection, target, fromIndex) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = collection ? collection.length : 0,\n          result = false;\n\n      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;\n      if (length && typeof length == 'number') {\n        result = (isString(collection)\n          ? collection.indexOf(target, fromIndex)\n          : indexOf(collection, target, fromIndex)\n        ) > -1;\n      } else {\n        forOwn(collection, function(value) {\n          if (++index >= fromIndex) {\n            return !(result = value === target);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of keys returned from running each element of the\n     * `collection` through the given `callback`. The corresponding value of each key\n     * is the number of times the key was returned by the `callback`. The `callback`\n     * is bound to `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    function countBy(collection, callback, thisArg) {\n      var result = {};\n      callback = lodash.createCallback(callback, thisArg);\n\n      forEach(collection, function(value, key, collection) {\n        key = String(callback(value, key, collection));\n        (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n      });\n      return result;\n    }\n\n    /**\n     * Checks if the `callback` returns a truthy value for **all** elements of a\n     * `collection`. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Boolean} Returns `true` if all elements pass the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.every(stooges, 'age');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.every(stooges, { 'age': 50 });\n     * // => false\n     */\n    function every(collection, callback, thisArg) {\n      var result = true;\n      callback = lodash.createCallback(callback, thisArg);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (!(result = !!callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return (result = !!callback(value, index, collection));\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Examines each element in a `collection`, returning an array of all elements\n     * the `callback` returns truthy for. The `callback` is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that passed the callback check.\n     * @example\n     *\n     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [2, 4, 6]\n     *\n     * var food = [\n     *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n     *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.filter(food, 'organic');\n     * // => [{ 'name': 'carrot', 'organic': true, 'type': 'vegetable' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.filter(food, { 'type': 'fruit' });\n     * // => [{ 'name': 'apple', 'organic': false, 'type': 'fruit' }]\n     */\n    function filter(collection, callback, thisArg) {\n      var result = [];\n      callback = lodash.createCallback(callback, thisArg);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Examines each element in a `collection`, returning the first that the `callback`\n     * returns truthy for. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect, findWhere\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the found element, else `undefined`.\n     * @example\n     *\n     * _.find([1, 2, 3, 4], function(num) {\n     *   return num % 2 == 0;\n     * });\n     * // => 2\n     *\n     * var food = [\n     *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n     *   { 'name': 'banana', 'organic': true,  'type': 'fruit' },\n     *   { 'name': 'beet',   'organic': false, 'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.find(food, { 'type': 'vegetable' });\n     * // => { 'name': 'beet', 'organic': false, 'type': 'vegetable' }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.find(food, 'organic');\n     * // => { 'name': 'banana', 'organic': true, 'type': 'fruit' }\n     */\n    function find(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            return value;\n          }\n        }\n      } else {\n        var result;\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result = value;\n            return false;\n          }\n        });\n        return result;\n      }\n    }\n\n    /**\n     * Iterates over a `collection`, executing the `callback` for each element in\n     * the `collection`. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection). Callbacks may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|String} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEach(alert).join(',');\n     * // => alerts each number and returns '1,2,3'\n     *\n     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, alert);\n     * // => alerts each number value (order is not guaranteed)\n     */\n    function forEach(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (callback(collection[index], index, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, callback);\n      }\n      return collection;\n    }\n\n    /**\n     * Creates an object composed of keys returned from running each element of the\n     * `collection` through the `callback`. The corresponding value of each key is\n     * an array of elements passed to `callback` that returned the key. The `callback`\n     * is bound to `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    function groupBy(collection, callback, thisArg) {\n      var result = {};\n      callback = lodash.createCallback(callback, thisArg);\n\n      forEach(collection, function(value, key, collection) {\n        key = String(callback(value, key, collection));\n        (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n      });\n      return result;\n    }\n\n    /**\n     * Invokes the method named by `methodName` on each element in the `collection`,\n     * returning an array of the results of each invoked method. Additional arguments\n     * will be passed to each invoked method. If `methodName` is a function, it will\n     * be invoked for, and `this` bound to, each element in the `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|String} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the method with.\n     * @returns {Array} Returns a new array of the results of each invoked method.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    function invoke(collection, methodName) {\n      var args = nativeSlice.call(arguments, 2),\n          index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an array of values by running each element in the `collection`\n     * through the `callback`. The `callback` is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of the results of each `callback` execution.\n     * @example\n     *\n     * _.map([1, 2, 3], function(num) { return num * 3; });\n     * // => [3, 6, 9]\n     *\n     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n     * // => [3, 6, 9] (order is not guaranteed)\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(stooges, 'name');\n     * // => ['moe', 'larry']\n     */\n    function map(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg);\n      if (typeof length == 'number') {\n        var result = Array(length);\n        while (++index < length) {\n          result[index] = callback(collection[index], index, collection);\n        }\n      } else {\n        result = [];\n        forOwn(collection, function(value, key, collection) {\n          result[++index] = callback(value, key, collection);\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the maximum value of an `array`. If `callback` is passed,\n     * it will be executed for each value in the `array` to generate the\n     * criterion by which the value is ranked. The `callback` is bound to\n     * `thisArg` and invoked with three arguments; (value, index, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * _.max(stooges, function(stooge) { return stooge.age; });\n     * // => { 'name': 'larry', 'age': 50 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.max(stooges, 'age');\n     * // => { 'name': 'larry', 'age': 50 };\n     */\n    function max(collection, callback, thisArg) {\n      var computed = -Infinity,\n          result = computed;\n\n      if (!callback && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value > result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (!callback && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current > computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the minimum value of an `array`. If `callback` is passed,\n     * it will be executed for each value in the `array` to generate the\n     * criterion by which the value is ranked. The `callback` is bound to `thisArg`\n     * and invoked with three arguments; (value, index, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * _.min(stooges, function(stooge) { return stooge.age; });\n     * // => { 'name': 'moe', 'age': 40 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.min(stooges, 'age');\n     * // => { 'name': 'moe', 'age': 40 };\n     */\n    function min(collection, callback, thisArg) {\n      var computed = Infinity,\n          result = computed;\n\n      if (!callback && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value < result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (!callback && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current < computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the value of a specified property from all elements in the `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {String} property The property to pluck.\n     * @returns {Array} Returns a new array of property values.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * _.pluck(stooges, 'name');\n     * // => ['moe', 'larry']\n     */\n    function pluck(collection, property) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        var result = Array(length);\n        while (++index < length) {\n          result[index] = collection[index][property];\n        }\n      }\n      return result || map(collection, property);\n    }\n\n    /**\n     * Reduces a `collection` to a value which is the accumulated result of running\n     * each element in the `collection` through the `callback`, where each successive\n     * `callback` execution consumes the return value of the previous execution.\n     * If `accumulator` is not passed, the first element of the `collection` will be\n     * used as the initial `accumulator` value. The `callback` is bound to `thisArg`\n     * and invoked with four arguments; (accumulator, value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [accumulator] Initial value of the accumulator.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the accumulated value.\n     * @example\n     *\n     * var sum = _.reduce([1, 2, 3], function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function reduce(collection, callback, accumulator, thisArg) {\n      if (!collection) return accumulator;\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n\n      var index = -1,\n          length = collection.length;\n\n      if (typeof length == 'number') {\n        if (noaccum) {\n          accumulator = collection[++index];\n        }\n        while (++index < length) {\n          accumulator = callback(accumulator, collection[index], index, collection);\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          accumulator = noaccum\n            ? (noaccum = false, value)\n            : callback(accumulator, value, index, collection)\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * This method is similar to `_.reduce`, except that it iterates over a\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [accumulator] Initial value of the accumulator.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the accumulated value.\n     * @example\n     *\n     * var list = [[0, 1], [2, 3], [4, 5]];\n     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, callback, accumulator, thisArg) {\n      var iterable = collection,\n          length = collection ? collection.length : 0,\n          noaccum = arguments.length < 3;\n\n      if (typeof length != 'number') {\n        var props = keys(collection);\n        length = props.length;\n      }\n      callback = lodash.createCallback(callback, thisArg, 4);\n      forEach(collection, function(value, index, collection) {\n        index = props ? props[--length] : --length;\n        accumulator = noaccum\n          ? (noaccum = false, iterable[index])\n          : callback(accumulator, iterable[index], index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The opposite of `_.filter`, this method returns the elements of a\n     * `collection` that `callback` does **not** return truthy for.\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that did **not** pass the\n     *  callback check.\n     * @example\n     *\n     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [1, 3, 5]\n     *\n     * var food = [\n     *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n     *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.reject(food, 'organic');\n     * // => [{ 'name': 'apple', 'organic': false, 'type': 'fruit' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.reject(food, { 'type': 'fruit' });\n     * // => [{ 'name': 'carrot', 'organic': true, 'type': 'vegetable' }]\n     */\n    function reject(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg);\n      return filter(collection, function(value, index, collection) {\n        return !callback(value, index, collection);\n      });\n    }\n\n    /**\n     * Creates an array of shuffled `array` values, using a version of the\n     * Fisher-Yates shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to shuffle.\n     * @returns {Array} Returns a new shuffled collection.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4, 5, 6]);\n     * // => [4, 1, 6, 3, 5, 2]\n     */\n    function shuffle(collection) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        var rand = floor(nativeRandom() * (++index + 1));\n        result[index] = result[rand];\n        result[rand] = value;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the size of the `collection` by returning `collection.length` for arrays\n     * and array-like objects or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to inspect.\n     * @returns {Number} Returns `collection.length` or number of own enumerable properties.\n     * @example\n     *\n     * _.size([1, 2]);\n     * // => 2\n     *\n     * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => 3\n     *\n     * _.size('curly');\n     * // => 5\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return typeof length == 'number' ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if the `callback` returns a truthy value for **any** element of a\n     * `collection`. The function returns as soon as it finds passing value, and\n     * does not iterate over the entire `collection`. The `callback` is bound to\n     * `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Boolean} Returns `true` if any element passes the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var food = [\n     *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n     *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.some(food, 'organic');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.some(food, { 'type': 'meat' });\n     * // => false\n     */\n    function some(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if ((result = callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return !(result = callback(value, index, collection));\n        });\n      }\n      return !!result;\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in the `collection` through the `callback`. This method\n     * performs a stable sort, that is, it will preserve the original sort order of\n     * equal elements. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of sorted elements.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n     * // => [3, 1, 2]\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.sortBy(['banana', 'strawberry', 'apple'], 'length');\n     * // => ['apple', 'banana', 'strawberry']\n     */\n    function sortBy(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      callback = lodash.createCallback(callback, thisArg);\n      forEach(collection, function(value, key, collection) {\n        var object = result[++index] = getObject();\n        object.criteria = callback(value, key, collection);\n        object.index = index;\n        object.value = value;\n      });\n\n      length = result.length;\n      result.sort(compareAscending);\n      while (length--) {\n        var object = result[length];\n        result[length] = object.value;\n        releaseObject(object);\n      }\n      return result;\n    }\n\n    /**\n     * Converts the `collection` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to convert.\n     * @returns {Array} Returns the new converted array.\n     * @example\n     *\n     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n     * // => [2, 3, 4]\n     */\n    function toArray(collection) {\n      if (collection && typeof collection.length == 'number') {\n        return slice(collection);\n      }\n      return values(collection);\n    }\n\n    /**\n     * Examines each element in a `collection`, returning an array of all elements\n     * that have the given `properties`. When checking `properties`, this method\n     * performs a deep comparison between values to determine if they are equivalent\n     * to each other.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Object} properties The object of property values to filter by.\n     * @returns {Array} Returns a new array of elements that have the given `properties`.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * _.where(stooges, { 'age': 40 });\n     * // => [{ 'name': 'moe', 'age': 40 }]\n     */\n    var where = filter;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array with all falsey values of `array` removed. The values\n     * `false`, `null`, `0`, `\"\"`, `undefined` and `NaN` are all falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns a new filtered array.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of `array` elements not present in the other arrays\n     * using strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {Array} [array1, array2, ...] Arrays to check.\n     * @returns {Array} Returns a new array of `array` elements not present in the\n     *  other arrays.\n     * @example\n     *\n     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n     * // => [1, 3, 4]\n     */\n    function difference(array) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          seen = concat.apply(arrayRef, nativeSlice.call(arguments, 1)),\n          result = [];\n\n      var isLarge = length >= largeArraySize && indexOf === basicIndexOf;\n\n      if (isLarge) {\n        var cache = createCache(seen);\n        if (cache) {\n          indexOf = cacheIndexOf;\n          seen = cache;\n        } else {\n          isLarge = false;\n        }\n      }\n      while (++index < length) {\n        var value = array[index];\n        if (indexOf(seen, value) < 0) {\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseObject(seen);\n      }\n      return result;\n    }\n\n    /**\n     * This method is similar to `_.find`, except that it returns the index of\n     * the element that passes the callback check, instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * _.findIndex(['apple', 'banana', 'beet'], function(food) {\n     *   return /^b/.test(food);\n     * });\n     * // => 1\n     */\n    function findIndex(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg);\n      while (++index < length) {\n        if (callback(array[index], index, array)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the first element of the `array`. If a number `n` is passed, the first\n     * `n` elements of the `array` are returned. If a `callback` function is passed,\n     * elements at the beginning of the array are returned as long as the `callback`\n     * returns truthy. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head, take\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|Number|String} [callback|n] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the first element(s) of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.first([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var food = [\n     *   { 'name': 'banana', 'organic': true },\n     *   { 'name': 'beet',   'organic': false },\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.first(food, 'organic');\n     * // => [{ 'name': 'banana', 'organic': true }]\n     *\n     * var food = [\n     *   { 'name': 'apple',  'type': 'fruit' },\n     *   { 'name': 'banana', 'type': 'fruit' },\n     *   { 'name': 'beet',   'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.first(food, { 'type': 'fruit' });\n     * // => [{ 'name': 'apple', 'type': 'fruit' }, { 'name': 'banana', 'type': 'fruit' }]\n     */\n    function first(array, callback, thisArg) {\n      if (array) {\n        var n = 0,\n            length = array.length;\n\n        if (typeof callback != 'number' && callback != null) {\n          var index = -1;\n          callback = lodash.createCallback(callback, thisArg);\n          while (++index < length && callback(array[index], index, array)) {\n            n++;\n          }\n        } else {\n          n = callback;\n          if (n == null || thisArg) {\n            return array[0];\n          }\n        }\n        return slice(array, 0, nativeMin(nativeMax(0, n), length));\n      }\n    }\n\n    /**\n     * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n     * is truthy, `array` will only be flattened a single level. If `callback`\n     * is passed, each element of `array` is passed through a `callback` before\n     * flattening. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to flatten.\n     * @param {Boolean} [isShallow=false] A flag to indicate only flattening a single level.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2], [3, [[4]]]]);\n     * // => [1, 2, 3, 4];\n     *\n     * _.flatten([1, [2], [3, [[4]]]], true);\n     * // => [1, 2, 3, [[4]]];\n     *\n     * var stooges = [\n     *   { 'name': 'curly', 'quotes': ['Oh, a wise guy, eh?', 'Poifect!'] },\n     *   { 'name': 'moe', 'quotes': ['Spread out!', 'You knucklehead!'] }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.flatten(stooges, 'quotes');\n     * // => ['Oh, a wise guy, eh?', 'Poifect!', 'Spread out!', 'You knucklehead!']\n     */\n    var flatten = overloadWrapper(function flatten(array, isShallow, callback) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (callback) {\n          value = callback(value, index, array);\n        }\n        // recursively flatten arrays (susceptible to call stack limits)\n        if (isArray(value)) {\n          push.apply(result, isShallow ? value : flatten(value));\n        } else {\n          result.push(value);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found using\n     * strict equality for comparisons, i.e. `===`. If the `array` is already\n     * sorted, passing `true` for `fromIndex` will run a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Mixed} value The value to search for.\n     * @param {Boolean|Number} [fromIndex=0] The index to search from or `true` to\n     *  perform a binary search on a sorted `array`.\n     * @returns {Number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 1\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 4\n     *\n     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      if (typeof fromIndex == 'number') {\n        var length = array ? array.length : 0;\n        fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);\n      } else if (fromIndex) {\n        var index = sortedIndex(array, value);\n        return array[index] === value ? index : -1;\n      }\n      return array ? basicIndexOf(array, value, fromIndex) : -1;\n    }\n\n    /**\n     * Gets all but the last element of `array`. If a number `n` is passed, the\n     * last `n` elements are excluded from the result. If a `callback` function\n     * is passed, elements at the end of the array are excluded from the result\n     * as long as the `callback` returns truthy. The `callback` is bound to\n     * `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|Number|String} [callback|n=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.initial([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.initial([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [1]\n     *\n     * var food = [\n     *   { 'name': 'beet',   'organic': false },\n     *   { 'name': 'carrot', 'organic': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.initial(food, 'organic');\n     * // => [{ 'name': 'beet',   'organic': false }]\n     *\n     * var food = [\n     *   { 'name': 'banana', 'type': 'fruit' },\n     *   { 'name': 'beet',   'type': 'vegetable' },\n     *   { 'name': 'carrot', 'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.initial(food, { 'type': 'vegetable' });\n     * // => [{ 'name': 'banana', 'type': 'fruit' }]\n     */\n    function initial(array, callback, thisArg) {\n      if (!array) {\n        return [];\n      }\n      var n = 0,\n          length = array.length;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : callback || n;\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n    }\n\n    /**\n     * Computes the intersection of all the passed-in arrays using strict equality\n     * for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} [array1, array2, ...] Arrays to process.\n     * @returns {Array} Returns a new array of unique elements that are present\n     *  in **all** of the arrays.\n     * @example\n     *\n     * _.intersection([1, 2, 3], [101, 2, 1, 10], [2, 1]);\n     * // => [1, 2]\n     */\n    function intersection(array) {\n      var args = arguments,\n          argsLength = args.length,\n          argsIndex = -1,\n          caches = getArray(),\n          index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          result = [],\n          seen = getArray();\n\n      while (++argsIndex < argsLength) {\n        var value = args[argsIndex];\n        caches[argsIndex] = indexOf === basicIndexOf &&\n          (value ? value.length : 0) >= largeArraySize &&\n          createCache(argsIndex ? args[argsIndex] : seen);\n      }\n      outer:\n      while (++index < length) {\n        var cache = caches[0];\n        value = array[index];\n\n        if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {\n          argsIndex = argsLength;\n          (cache || seen).push(value);\n          while (--argsIndex) {\n            cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n      }\n      while (argsLength--) {\n        cache = caches[argsLength];\n        if (cache) {\n          releaseObject(cache);\n        }\n      }\n      releaseArray(caches);\n      releaseArray(seen);\n      return result;\n    }\n\n    /**\n     * Gets the last element of the `array`. If a number `n` is passed, the\n     * last `n` elements of the `array` are returned. If a `callback` function\n     * is passed, elements at the end of the array are returned as long as the\n     * `callback` returns truthy. The `callback` is bound to `thisArg` and\n     * invoked with three arguments;(value, index, array).\n     *\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|Number|String} [callback|n] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the last element(s) of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     *\n     * _.last([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.last([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var food = [\n     *   { 'name': 'beet',   'organic': false },\n     *   { 'name': 'carrot', 'organic': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.last(food, 'organic');\n     * // => [{ 'name': 'carrot', 'organic': true }]\n     *\n     * var food = [\n     *   { 'name': 'banana', 'type': 'fruit' },\n     *   { 'name': 'beet',   'type': 'vegetable' },\n     *   { 'name': 'carrot', 'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.last(food, { 'type': 'vegetable' });\n     * // => [{ 'name': 'beet', 'type': 'vegetable' }, { 'name': 'carrot', 'type': 'vegetable' }]\n     */\n    function last(array, callback, thisArg) {\n      if (array) {\n        var n = 0,\n            length = array.length;\n\n        if (typeof callback != 'number' && callback != null) {\n          var index = length;\n          callback = lodash.createCallback(callback, thisArg);\n          while (index-- && callback(array[index], index, array)) {\n            n++;\n          }\n        } else {\n          n = callback;\n          if (n == null || thisArg) {\n            return array[length - 1];\n          }\n        }\n        return slice(array, nativeMax(0, length - n));\n      }\n    }\n\n    /**\n     * Gets the index at which the last occurrence of `value` is found using strict\n     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n     * as the offset from the end of the collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Mixed} value The value to search for.\n     * @param {Number} [fromIndex=array.length-1] The index to search from.\n     * @returns {Number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 4\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var index = array ? array.length : 0;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to but not including `end`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Number} [start=0] The start of the range.\n     * @param {Number} end The end of the range.\n     * @param {Number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns a new range array.\n     * @example\n     *\n     * _.range(10);\n     * // => [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n     *\n     * _.range(1, 11);\n     * // => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n     *\n     * _.range(0, 30, 5);\n     * // => [0, 5, 10, 15, 20, 25]\n     *\n     * _.range(0, -10, -1);\n     * // => [0, -1, -2, -3, -4, -5, -6, -7, -8, -9]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      start = +start || 0;\n      step = +step || 1;\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      }\n      // use `Array(length)` so V8 will avoid the slower \"dictionary\" mode\n      // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n      var index = -1,\n          length = nativeMax(0, ceil((end - start) / step)),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.initial`, this method gets all but the first value of\n     * `array`. If a number `n` is passed, the first `n` values are excluded from\n     * the result. If a `callback` function is passed, elements at the beginning\n     * of the array are excluded from the result as long as the `callback` returns\n     * truthy. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias drop, tail\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|Number|String} [callback|n=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.rest([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.rest([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [3]\n     *\n     * var food = [\n     *   { 'name': 'banana', 'organic': true },\n     *   { 'name': 'beet',   'organic': false },\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.rest(food, 'organic');\n     * // => [{ 'name': 'beet', 'organic': false }]\n     *\n     * var food = [\n     *   { 'name': 'apple',  'type': 'fruit' },\n     *   { 'name': 'banana', 'type': 'fruit' },\n     *   { 'name': 'beet',   'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.rest(food, { 'type': 'fruit' });\n     * // => [{ 'name': 'beet', 'type': 'vegetable' }]\n     */\n    function rest(array, callback, thisArg) {\n      if (typeof callback != 'number' && callback != null) {\n        var n = 0,\n            index = -1,\n            length = array ? array.length : 0;\n\n        callback = lodash.createCallback(callback, thisArg);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n      }\n      return slice(array, n);\n    }\n\n    /**\n     * Uses a binary search to determine the smallest index at which the `value`\n     * should be inserted into `array` in order to maintain the sort order of the\n     * sorted `array`. If `callback` is passed, it will be executed for `value` and\n     * each element in `array` to compute their sort ranking. The `callback` is\n     * bound to `thisArg` and invoked with one argument; (value).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to inspect.\n     * @param {Mixed} value The value to evaluate.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Number} Returns the index at which the value should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([20, 30, 50], 40);\n     * // => 2\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 2\n     *\n     * var dict = {\n     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n     * };\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return dict.wordToNumber[word];\n     * });\n     * // => 2\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return this.wordToNumber[word];\n     * }, dict);\n     * // => 2\n     */\n    function sortedIndex(array, value, callback, thisArg) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      // explicitly reference `identity` for better inlining in Firefox\n      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;\n      value = callback(value);\n\n      while (low < high) {\n        var mid = (low + high) >>> 1;\n        (callback(array[mid]) < value)\n          ? low = mid + 1\n          : high = mid;\n      }\n      return low;\n    }\n\n    /**\n     * Computes the union of the passed-in arrays using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} [array1, array2, ...] Arrays to process.\n     * @returns {Array} Returns a new array of unique values, in order, that are\n     *  present in one or more of the arrays.\n     * @example\n     *\n     * _.union([1, 2, 3], [101, 2, 1, 10], [2, 1]);\n     * // => [1, 2, 3, 101, 10]\n     */\n    function union(array) {\n      if (!isArray(array)) {\n        arguments[0] = array ? nativeSlice.call(array) : arrayRef;\n      }\n      return uniq(concat.apply(arrayRef, arguments));\n    }\n\n    /**\n     * Creates a duplicate-value-free version of the `array` using strict equality\n     * for comparisons, i.e. `===`. If the `array` is already sorted, passing `true`\n     * for `isSorted` will run a faster algorithm. If `callback` is passed, each\n     * element of `array` is passed through the `callback` before uniqueness is computed.\n     * The `callback` is bound to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {Boolean} [isSorted=false] A flag to indicate that the `array` is already sorted.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1, 3, 1]);\n     * // => [1, 2, 3]\n     *\n     * _.uniq([1, 1, 2, 2, 3], true);\n     * // => [1, 2, 3]\n     *\n     * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });\n     * // => ['A', 'b', 'C']\n     *\n     * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);\n     * // => [1, 2.5, 3]\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var uniq = overloadWrapper(function(array, isSorted, callback) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          result = [];\n\n      var isLarge = !isSorted && length >= largeArraySize && indexOf === basicIndexOf,\n          seen = (callback || isLarge) ? getArray() : result;\n\n      if (isLarge) {\n        var cache = createCache(seen);\n        if (cache) {\n          indexOf = cacheIndexOf;\n          seen = cache;\n        } else {\n          isLarge = false;\n          seen = callback ? seen : (releaseArray(seen), result);\n        }\n      }\n      while (++index < length) {\n        var value = array[index],\n            computed = callback ? callback(value, index, array) : value;\n\n        if (isSorted\n              ? !index || seen[seen.length - 1] !== computed\n              : indexOf(seen, computed) < 0\n            ) {\n          if (callback || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseArray(seen.array);\n        releaseObject(seen);\n      } else if (callback) {\n        releaseArray(seen);\n      }\n      return result;\n    });\n\n    /**\n     * The inverse of `_.zip`, this method splits groups of elements into arrays\n     * composed of elements from each group at their corresponding indexes.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @returns {Array} Returns a new array of the composed arrays.\n     * @example\n     *\n     * _.unzip([['moe', 30, true], ['larry', 40, false]]);\n     * // => [['moe', 'larry'], [30, 40], [true, false]];\n     */\n    function unzip(array) {\n      var index = -1,\n          length = array ? max(pluck(array, 'length')) : 0,\n          result = Array(length < 0 ? 0 : length);\n\n      while (++index < length) {\n        result[index] = pluck(array, index);\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all occurrences of the passed values removed using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to filter.\n     * @param {Mixed} [value1, value2, ...] Values to remove.\n     * @returns {Array} Returns a new filtered array.\n     * @example\n     *\n     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n     * // => [2, 3, 4]\n     */\n    function without(array) {\n      return difference(array, nativeSlice.call(arguments, 1));\n    }\n\n    /**\n     * Groups the elements of each array at their corresponding indexes. Useful for\n     * separate data sources that are coordinated through matching array indexes.\n     * For a matrix of nested arrays, `_.zip.apply(...)` can transpose the matrix\n     * in a similar fashion.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} [array1, array2, ...] Arrays to process.\n     * @returns {Array} Returns a new array of grouped elements.\n     * @example\n     *\n     * _.zip(['moe', 'larry'], [30, 40], [true, false]);\n     * // => [['moe', 30, true], ['larry', 40, false]]\n     */\n    function zip(array) {\n      return array ? unzip(arguments) : [];\n    }\n\n    /**\n     * Creates an object composed from arrays of `keys` and `values`. Pass either\n     * a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`, or\n     * two arrays, one of `keys` and one of corresponding `values`.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Arrays\n     * @param {Array} keys The array of keys.\n     * @param {Array} [values=[]] The array of values.\n     * @returns {Object} Returns an object composed of the given keys and\n     *  corresponding values.\n     * @example\n     *\n     * _.zipObject(['moe', 'larry'], [30, 40]);\n     * // => { 'moe': 30, 'larry': 40 }\n     */\n    function zipObject(keys, values) {\n      var index = -1,\n          length = keys ? keys.length : 0,\n          result = {};\n\n      while (++index < length) {\n        var key = keys[index];\n        if (values) {\n          result[key] = values[index];\n        } else {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * If `n` is greater than `0`, a function is created that is restricted to\n     * executing `func`, with the `this` binding and arguments of the created\n     * function, only after it is called `n` times. If `n` is less than `1`,\n     * `func` is executed immediately, without a `this` binding or additional\n     * arguments, and its result is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Number} n The number of times the function must be called before\n     * it is executed.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var renderNotes = _.after(notes.length, render);\n     * _.forEach(notes, function(note) {\n     *   note.asyncSave({ 'success': renderNotes });\n     * });\n     * // `renderNotes` is run once, after all notes have saved\n     */\n    function after(n, func) {\n      if (n < 1) {\n        return func();\n      }\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with the `this`\n     * binding of `thisArg` and prepends any additional `bind` arguments to those\n     * passed to the bound function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to bind.\n     * @param {Mixed} [thisArg] The `this` binding of `func`.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var func = function(greeting) {\n     *   return greeting + ' ' + this.name;\n     * };\n     *\n     * func = _.bind(func, { 'name': 'moe' }, 'hi');\n     * func();\n     * // => 'hi moe'\n     */\n    function bind(func, thisArg) {\n      // use `Function#bind` if it exists and is fast\n      // (in V8 `Function#bind` is slower except when partially applied)\n      return support.fastBind || (nativeBind && arguments.length > 2)\n        ? nativeBind.call.apply(nativeBind, arguments)\n        : createBound(func, thisArg, nativeSlice.call(arguments, 2));\n    }\n\n    /**\n     * Binds methods on `object` to `object`, overwriting the existing method.\n     * Method names may be specified as individual arguments or as arrays of method\n     * names. If no method names are provided, all the function properties of `object`\n     * will be bound.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {String} [methodName1, methodName2, ...] Method names on the object to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *  'label': 'docs',\n     *  'onClick': function() { alert('clicked ' + this.label); }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => alerts 'clicked docs', when the button is clicked\n     */\n    function bindAll(object) {\n      var funcs = arguments.length > 1 ? concat.apply(arrayRef, nativeSlice.call(arguments, 1)) : functions(object),\n          index = -1,\n          length = funcs.length;\n\n      while (++index < length) {\n        var key = funcs[index];\n        object[key] = bind(object[key], object);\n      }\n      return object;\n    }\n\n    /**\n     * Creates a function that, when called, invokes the method at `object[key]`\n     * and prepends any additional `bindKey` arguments to those passed to the bound\n     * function. This method differs from `_.bind` by allowing bound functions to\n     * reference methods that will be redefined or don't yet exist.\n     * See http://michaux.ca/articles/lazy-function-definition-pattern.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object the method belongs to.\n     * @param {String} key The key of the method.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'name': 'moe',\n     *   'greet': function(greeting) {\n     *     return greeting + ' ' + this.name;\n     *   }\n     * };\n     *\n     * var func = _.bindKey(object, 'greet', 'hi');\n     * func();\n     * // => 'hi moe'\n     *\n     * object.greet = function(greeting) {\n     *   return greeting + ', ' + this.name + '!';\n     * };\n     *\n     * func();\n     * // => 'hi, moe!'\n     */\n    function bindKey(object, key) {\n      return createBound(object, key, nativeSlice.call(arguments, 2), indicatorObject);\n    }\n\n    /**\n     * Creates a function that is the composition of the passed functions,\n     * where each function consumes the return value of the function that follows.\n     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n     * Each function is executed with the `this` binding of the composed function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} [func1, func2, ...] Functions to compose.\n     * @returns {Function} Returns the new composed function.\n     * @example\n     *\n     * var greet = function(name) { return 'hi ' + name; };\n     * var exclaim = function(statement) { return statement + '!'; };\n     * var welcome = _.compose(exclaim, greet);\n     * welcome('moe');\n     * // => 'hi moe!'\n     */\n    function compose() {\n      var funcs = arguments;\n      return function() {\n        var args = arguments,\n            length = funcs.length;\n\n        while (length--) {\n          args = [funcs[length].apply(this, args)];\n        }\n        return args[0];\n      };\n    }\n\n    /**\n     * Produces a callback bound to an optional `thisArg`. If `func` is a property\n     * name, the created callback will return the property value for a given element.\n     * If `func` is an object, the created callback will return `true` for elements\n     * that contain the equivalent object properties, otherwise it will return `false`.\n     *\n     * Note: All Lo-Dash methods, that accept a `callback` argument, use `_.createCallback`.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Mixed} [func=identity] The value to convert to a callback.\n     * @param {Mixed} [thisArg] The `this` binding of the created callback.\n     * @param {Number} [argCount=3] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n     *   return !match ? func(callback, thisArg) : function(object) {\n     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(stooges, 'age__gt45');\n     * // => [{ 'name': 'larry', 'age': 50 }]\n     *\n     * // create mixins with support for \"_.pluck\" and \"_.where\" callback shorthands\n     * _.mixin({\n     *   'toLookup': function(collection, callback, thisArg) {\n     *     callback = _.createCallback(callback, thisArg);\n     *     return _.reduce(collection, function(result, value, index, collection) {\n     *       return (result[callback(value, index, collection)] = value, result);\n     *     }, {});\n     *   }\n     * });\n     *\n     * _.toLookup(stooges, 'name');\n     * // => { 'moe': { 'name': 'moe', 'age': 40 }, 'larry': { 'name': 'larry', 'age': 50 } }\n     */\n    function createCallback(func, thisArg, argCount) {\n      if (func == null) {\n        return identity;\n      }\n      var type = typeof func;\n      if (type != 'function') {\n        if (type != 'object') {\n          return function(object) {\n            return object[func];\n          };\n        }\n        var props = keys(func);\n        return function(object) {\n          var length = props.length,\n              result = false;\n          while (length--) {\n            if (!(result = isEqual(object[props[length]], func[props[length]], indicatorObject))) {\n              break;\n            }\n          }\n          return result;\n        };\n      }\n      if (typeof thisArg == 'undefined' || (reThis && !reThis.test(fnToString.call(func)))) {\n        return func;\n      }\n      if (argCount === 1) {\n        return function(value) {\n          return func.call(thisArg, value);\n        };\n      }\n      if (argCount === 2) {\n        return function(a, b) {\n          return func.call(thisArg, a, b);\n        };\n      }\n      if (argCount === 4) {\n        return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n      }\n      return function(value, index, collection) {\n        return func.call(thisArg, value, index, collection);\n      };\n    }\n\n    /**\n     * Creates a function that will delay the execution of `func` until after\n     * `wait` milliseconds have elapsed since the last time it was invoked. Pass\n     * an `options` object to indicate that `func` should be invoked on the leading\n     * and/or trailing edge of the `wait` timeout. Subsequent calls to the debounced\n     * function will return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true`, `func` will be called\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to debounce.\n     * @param {Number} wait The number of milliseconds to delay.\n     * @param {Object} options The options object.\n     *  [leading=false] A boolean to specify execution on the leading edge of the timeout.\n     *  [maxWait] The maximum time `func` is allowed to be delayed before it's called.\n     *  [trailing=true] A boolean to specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * var lazyLayout = _.debounce(calculateLayout, 300);\n     * jQuery(window).on('resize', lazyLayout);\n     *\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 200, {\n     *   'leading': true,\n     *   'trailing': false\n     * });\n     */\n    function debounce(func, wait, options) {\n      var args,\n          result,\n          thisArg,\n          callCount = 0,\n          lastCalled = 0,\n          maxWait = false,\n          maxTimeoutId = null,\n          timeoutId = null,\n          trailing = true;\n\n      function clear() {\n        clearTimeout(maxTimeoutId);\n        clearTimeout(timeoutId);\n        callCount = 0;\n        maxTimeoutId = timeoutId = null;\n      }\n\n      function delayed() {\n        var isCalled = trailing && (!leading || callCount > 1);\n        clear();\n        if (isCalled) {\n          if (maxWait !== false) {\n            lastCalled = new Date;\n          }\n          result = func.apply(thisArg, args);\n        }\n      }\n\n      function maxDelayed() {\n        clear();\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = new Date;\n          result = func.apply(thisArg, args);\n        }\n      }\n\n      wait = nativeMax(0, wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && nativeMax(wait, options.maxWait || 0);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      return function() {\n        args = arguments;\n        thisArg = this;\n        callCount++;\n\n        // avoid issues with Titanium and `undefined` timeout ids\n        // https://github.com/appcelerator/titanium_mobile/blob/3_1_0_GA/android/titanium/src/java/ti/modules/titanium/TitaniumModule.java#L185-L192\n        clearTimeout(timeoutId);\n\n        if (maxWait === false) {\n          if (leading && callCount < 2) {\n            result = func.apply(thisArg, args);\n          }\n        } else {\n          var now = new Date;\n          if (!maxTimeoutId && !leading) {\n            lastCalled = now;\n          }\n          var remaining = maxWait - (now - lastCalled);\n          if (remaining <= 0) {\n            clearTimeout(maxTimeoutId);\n            maxTimeoutId = null;\n            lastCalled = now;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Defers executing the `func` function until the current call stack has cleared.\n     * Additional arguments will be passed to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to defer.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the function with.\n     * @returns {Number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function() { alert('deferred'); });\n     * // returns from the function before `alert` is called\n     */\n    function defer(func) {\n      var args = nativeSlice.call(arguments, 1);\n      return setTimeout(function() { func.apply(undefined, args); }, 1);\n    }\n    // use `setImmediate` if it's available in Node.js\n    if (isV8 && freeModule && typeof setImmediate == 'function') {\n      defer = bind(setImmediate, context);\n    }\n\n    /**\n     * Executes the `func` function after `wait` milliseconds. Additional arguments\n     * will be passed to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to delay.\n     * @param {Number} wait The number of milliseconds to delay execution.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the function with.\n     * @returns {Number} Returns the timer id.\n     * @example\n     *\n     * var log = _.bind(console.log, console);\n     * _.delay(log, 1000, 'logged later');\n     * // => 'logged later' (Appears after one second.)\n     */\n    function delay(func, wait) {\n      var args = nativeSlice.call(arguments, 2);\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * passed, it will be used to determine the cache key for storing the result\n     * based on the arguments passed to the memoized function. By default, the first\n     * argument passed to the memoized function is used as the cache key. The `func`\n     * is executed with the `this` binding of the memoized function. The result\n     * cache is exposed as the `cache` property on the memoized function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] A function used to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var fibonacci = _.memoize(function(n) {\n     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n     * });\n     */\n    function memoize(func, resolver) {\n      function memoized() {\n        var cache = memoized.cache,\n            key = keyPrefix + (resolver ? resolver.apply(this, arguments) : arguments[0]);\n\n        return hasOwnProperty.call(cache, key)\n          ? cache[key]\n          : (cache[key] = func.apply(this, arguments));\n      }\n      memoized.cache = {};\n      return memoized;\n    }\n\n    /**\n     * Creates a function that is restricted to execute `func` once. Repeat calls to\n     * the function will return the value of the first call. The `func` is executed\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` executes `createApplication` once\n     */\n    function once(func) {\n      var ran,\n          result;\n\n      return function() {\n        if (ran) {\n          return result;\n        }\n        ran = true;\n        result = func.apply(this, arguments);\n\n        // clear the `func` variable so the function may be garbage collected\n        func = null;\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with any additional\n     * `partial` arguments prepended to those passed to the new function. This\n     * method is similar to `_.bind`, except it does **not** alter the `this` binding.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) { return greeting + ' ' + name; };\n     * var hi = _.partial(greet, 'hi');\n     * hi('moe');\n     * // => 'hi moe'\n     */\n    function partial(func) {\n      return createBound(func, nativeSlice.call(arguments, 1));\n    }\n\n    /**\n     * This method is similar to `_.partial`, except that `partial` arguments are\n     * appended to those passed to the new function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var defaultsDeep = _.partialRight(_.merge, _.defaults);\n     *\n     * var options = {\n     *   'variable': 'data',\n     *   'imports': { 'jq': $ }\n     * };\n     *\n     * defaultsDeep(options, _.templateSettings);\n     *\n     * options.variable\n     * // => 'data'\n     *\n     * options.imports\n     * // => { '_': _, 'jq': $ }\n     */\n    function partialRight(func) {\n      return createBound(func, nativeSlice.call(arguments, 1), null, indicatorObject);\n    }\n\n    /**\n     * Creates a function that, when executed, will only call the `func` function\n     * at most once per every `wait` milliseconds. Pass an `options` object to\n     * indicate that `func` should be invoked on the leading and/or trailing edge\n     * of the `wait` timeout. Subsequent calls to the throttled function will\n     * return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true`, `func` will be called\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to throttle.\n     * @param {Number} wait The number of milliseconds to throttle executions to.\n     * @param {Object} options The options object.\n     *  [leading=true] A boolean to specify execution on the leading edge of the timeout.\n     *  [trailing=true] A boolean to specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * var throttled = _.throttle(updatePosition, 100);\n     * jQuery(window).on('scroll', throttled);\n     *\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? options.leading : leading;\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      options = getObject();\n      options.leading = leading;\n      options.maxWait = wait;\n      options.trailing = trailing;\n\n      var result = debounce(func, wait, options);\n      releaseObject(options);\n      return result;\n    }\n\n    /**\n     * Creates a function that passes `value` to the `wrapper` function as its\n     * first argument. Additional arguments passed to the function are appended\n     * to those passed to the `wrapper` function. The `wrapper` is executed with\n     * the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Mixed} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var hello = function(name) { return 'hello ' + name; };\n     * hello = _.wrap(hello, function(func) {\n     *   return 'before, ' + func('moe') + ', after';\n     * });\n     * hello();\n     * // => 'before, hello moe, after'\n     */\n    function wrap(value, wrapper) {\n      return function() {\n        var args = [value];\n        push.apply(args, arguments);\n        return wrapper.apply(this, args);\n      };\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n     * corresponding HTML entities.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} string The string to escape.\n     * @returns {String} Returns the escaped string.\n     * @example\n     *\n     * _.escape('Moe, Larry & Curly');\n     * // => 'Moe, Larry &amp; Curly'\n     */\n    function escape(string) {\n      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n    }\n\n    /**\n     * This method returns the first argument passed to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Mixed} value Any value.\n     * @returns {Mixed} Returns `value`.\n     * @example\n     *\n     * var moe = { 'name': 'moe' };\n     * moe === _.identity(moe);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Adds functions properties of `object` to the `lodash` function and chainable\n     * wrapper.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Object} object The object of function properties to add to `lodash`.\n     * @example\n     *\n     * _.mixin({\n     *   'capitalize': function(string) {\n     *     return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n     *   }\n     * });\n     *\n     * _.capitalize('moe');\n     * // => 'Moe'\n     *\n     * _('moe').capitalize();\n     * // => 'Moe'\n     */\n    function mixin(object) {\n      forEach(functions(object), function(methodName) {\n        var func = lodash[methodName] = object[methodName];\n\n        lodash.prototype[methodName] = function() {\n          var value = this.__wrapped__,\n              args = [value];\n\n          push.apply(args, arguments);\n          var result = func.apply(lodash, args);\n          return (value && typeof value == 'object' && value === result)\n            ? this\n            : new lodashWrapper(result);\n        };\n      });\n    }\n\n    /**\n     * Reverts the '_' variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * Converts the given `value` into an integer of the specified `radix`.\n     * If `radix` is `undefined` or `0`, a `radix` of `10` is used unless the\n     * `value` is a hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * Note: This method avoids differences in native ES3 and ES5 `parseInt`\n     * implementations. See http://es5.github.com/#E.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} value The value to parse.\n     * @param {Number} [radix] The radix used to interpret the value to parse.\n     * @returns {Number} Returns the new integer value.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     */\n    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {\n      // Firefox and Opera still follow the ES3 specified implementation of `parseInt`\n      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);\n    };\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is passed, a number between `0` and the given number will be returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Number} [min=0] The minimum possible value.\n     * @param {Number} [max=1] The maximum possible value.\n     * @returns {Number} Returns a random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => a number between 0 and 5\n     *\n     * _.random(5);\n     * // => also a number between 0 and 5\n     */\n    function random(min, max) {\n      if (min == null && max == null) {\n        max = 1;\n      }\n      min = +min || 0;\n      if (max == null) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      var rand = nativeRandom();\n      return (min % 1 || max % 1)\n        ? min + nativeMin(rand * (max - min + parseFloat('1e-' + ((rand +'').length - 1))), max)\n        : min + floor(rand * (max - min + 1));\n    }\n\n    /**\n     * Resolves the value of `property` on `object`. If `property` is a function,\n     * it will be invoked with the `this` binding of `object` and its result returned,\n     * else the property value is returned. If `object` is falsey, then `undefined`\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Object} object The object to inspect.\n     * @param {String} property The property to get the value of.\n     * @returns {Mixed} Returns the resolved value.\n     * @example\n     *\n     * var object = {\n     *   'cheese': 'crumpets',\n     *   'stuff': function() {\n     *     return 'nonsense';\n     *   }\n     * };\n     *\n     * _.result(object, 'cheese');\n     * // => 'crumpets'\n     *\n     * _.result(object, 'stuff');\n     * // => 'nonsense'\n     */\n    function result(object, property) {\n      var value = object ? object[property] : undefined;\n      return isFunction(value) ? object[property]() : value;\n    }\n\n    /**\n     * A micro-templating method that handles arbitrary delimiters, preserves\n     * whitespace, and correctly escapes quotes within interpolated code.\n     *\n     * Note: In the development build, `_.template` utilizes sourceURLs for easier\n     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n     *\n     * For more information on precompiling templates see:\n     * http://lodash.com/#custom-builds\n     *\n     * For more information on Chrome extension sandboxes see:\n     * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} text The template text.\n     * @param {Object} data The data object used to populate the text.\n     * @param {Object} options The options object.\n     *  escape - The \"escape\" delimiter regexp.\n     *  evaluate - The \"evaluate\" delimiter regexp.\n     *  interpolate - The \"interpolate\" delimiter regexp.\n     *  sourceURL - The sourceURL of the template's compiled source.\n     *  variable - The data object variable name.\n     * @returns {Function|String} Returns a compiled function when no `data` object\n     *  is given, else it returns the interpolated text.\n     * @example\n     *\n     * // using a compiled template\n     * var compiled = _.template('hello <%= name %>');\n     * compiled({ 'name': 'moe' });\n     * // => 'hello moe'\n     *\n     * var list = '<% _.forEach(people, function(name) { %><li><%= name %></li><% }); %>';\n     * _.template(list, { 'people': ['moe', 'larry'] });\n     * // => '<li>moe</li><li>larry</li>'\n     *\n     * // using the \"escape\" delimiter to escape HTML in data property values\n     * _.template('<b><%- value %></b>', { 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n     * _.template('hello ${ name }', { 'name': 'curly' });\n     * // => 'hello curly'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * _.template('<% print(\"hello \" + epithet); %>!', { 'epithet': 'stooge' });\n     * // => 'hello stooge!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings = {\n     *   'interpolate': /{{([\\s\\S]+?)}}/g\n     * };\n     *\n     * _.template('hello {{ name }}!', { 'name': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     *   var __t, __p = '', __e = _.escape;\n     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n     *   return __p;\n     * }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(text, data, options) {\n      // based on John Resig's `tmpl` implementation\n      // http://ejohn.org/blog/javascript-micro-templating/\n      // and Laura Doktorova's doT.js\n      // https://github.com/olado/doT\n      var settings = lodash.templateSettings;\n      text || (text = '');\n\n      // avoid missing dependencies when `iteratorTemplate` is not defined\n      options = defaults({}, options, settings);\n\n      var imports = defaults({}, options.imports, settings.imports),\n          importsKeys = keys(imports),\n          importsValues = values(imports);\n\n      var isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // compile the regexp to match each delimiter\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // escape characters that cannot be included in string literals\n        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // replace delimiters with snippets\n        if (escapeValue) {\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // the JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // if `variable` is not specified, wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain\n      var variable = options.variable,\n          hasVariable = variable;\n\n      if (!hasVariable) {\n        variable = 'obj';\n        source = 'with (' + variable + ') {\\n' + source + '\\n}\\n';\n      }\n      // cleanup code by stripping empty strings\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // frame code as the function body\n      source = 'function(' + variable + ') {\\n' +\n        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\\n') +\n        \"var __t, __p = '', __e = _.escape\" +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      // Use a sourceURL for easier debugging and wrap in a multi-line comment to\n      // avoid issues with Narwhal, IE conditional compilation, and the JS engine\n      // embedded in Adobe products.\n      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n      var sourceURL = '\\n/*\\n//@ sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\\n*/';\n\n      try {\n        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);\n      } catch(e) {\n        e.source = source;\n        throw e;\n      }\n      if (data) {\n        return result(data);\n      }\n      // provide the compiled function's source via its `toString` method, in\n      // supported environments, or the `source` property as a convenience for\n      // inlining compiled templates during the build process\n      result.source = source;\n      return result;\n    }\n\n    /**\n     * Executes the `callback` function `n` times, returning an array of the results\n     * of each `callback` execution. The `callback` is bound to `thisArg` and invoked\n     * with one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Number} n The number of times to execute the callback.\n     * @param {Function} callback The function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of the results of each `callback` execution.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) { mage.castSpell(n); });\n     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) { this.cast(n); }, mage);\n     * // => also calls `mage.castSpell(n)` three times\n     */\n    function times(n, callback, thisArg) {\n      n = (n = +n) > -1 ? n : 0;\n      var index = -1,\n          result = Array(n);\n\n      callback = lodash.createCallback(callback, thisArg, 1);\n      while (++index < n) {\n        result[index] = callback(index);\n      }\n      return result;\n    }\n\n    /**\n     * The inverse of `_.escape`, this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n     * corresponding characters.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} string The string to unescape.\n     * @returns {String} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('Moe, Larry &amp; Curly');\n     * // => 'Moe, Larry & Curly'\n     */\n    function unescape(string) {\n      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is passed, the ID will be appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} [prefix] The value to prefix the ID with.\n     * @returns {String} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return String(prefix == null ? '' : prefix) + id;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Invokes `interceptor` with the `value` as the first argument, and then\n     * returns `value`. The purpose of this method is to \"tap into\" a method chain,\n     * in order to perform operations on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {Mixed} value The value to pass to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {Mixed} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3, 4])\n     *  .filter(function(num) { return num % 2 == 0; })\n     *  .tap(alert)\n     *  .map(function(num) { return num * num; })\n     *  .value();\n     * // => // [2, 4] (alerted)\n     * // => [4, 16]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * Produces the `toString` result of the wrapped value.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chaining\n     * @returns {String} Returns the string result.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return String(this.__wrapped__);\n    }\n\n    /**\n     * Extracts the wrapped value.\n     *\n     * @name valueOf\n     * @memberOf _\n     * @alias value\n     * @category Chaining\n     * @returns {Mixed} Returns the wrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).valueOf();\n     * // => [1, 2, 3]\n     */\n    function wrapperValueOf() {\n      return this.__wrapped__;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return wrapped values when chaining\n    lodash.after = after;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.compact = compact;\n    lodash.compose = compose;\n    lodash.countBy = countBy;\n    lodash.createCallback = createCallback;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.forEach = forEach;\n    lodash.forIn = forIn;\n    lodash.forOwn = forOwn;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.map = map;\n    lodash.max = max;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.min = min;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.range = range;\n    lodash.reject = reject;\n    lodash.rest = rest;\n    lodash.shuffle = shuffle;\n    lodash.sortBy = sortBy;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.values = values;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // add aliases\n    lodash.collect = map;\n    lodash.drop = rest;\n    lodash.each = forEach;\n    lodash.extend = assign;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // add functions to `lodash.prototype`\n    mixin(lodash);\n\n    // add Underscore compat\n    lodash.chain = lodash;\n    lodash.prototype.chain = function() { return this; };\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return unwrapped values when chaining\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.contains = contains;\n    lodash.escape = escape;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.indexOf = indexOf;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isNaN = isNaN;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isUndefined = isUndefined;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.mixin = mixin;\n    lodash.noConflict = noConflict;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.template = template;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n\n    // add aliases\n    lodash.all = every;\n    lodash.any = some;\n    lodash.detect = find;\n    lodash.findWhere = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.include = contains;\n    lodash.inject = reduce;\n\n    forOwn(lodash, function(func, methodName) {\n      if (!lodash.prototype[methodName]) {\n        lodash.prototype[methodName] = function() {\n          var args = [this.__wrapped__];\n          push.apply(args, arguments);\n          return func.apply(lodash, args);\n        };\n      }\n    });\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions capable of returning wrapped and unwrapped values when chaining\n    lodash.first = first;\n    lodash.last = last;\n\n    // add aliases\n    lodash.take = first;\n    lodash.head = first;\n\n    forOwn(lodash, function(func, methodName) {\n      if (!lodash.prototype[methodName]) {\n        lodash.prototype[methodName]= function(callback, thisArg) {\n          var result = func(this.__wrapped__, callback, thisArg);\n          return callback == null || (thisArg && typeof callback != 'function')\n            ? result\n            : new lodashWrapper(result);\n        };\n      }\n    });\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type String\n     */\n    lodash.VERSION = '1.3.1';\n\n    // add \"Chaining\" functions to the wrapper\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.value = wrapperValueOf;\n    lodash.prototype.valueOf = wrapperValueOf;\n\n    // add `Array` functions that return unwrapped values\n    forEach(['join', 'pop', 'shift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        return func.apply(this.__wrapped__, arguments);\n      };\n    });\n\n    // add `Array` functions that return the wrapped value\n    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        func.apply(this.__wrapped__, arguments);\n        return this;\n      };\n    });\n\n    // add `Array` functions that return new wrapped values\n    forEach(['concat', 'slice', 'splice'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        return new lodashWrapper(func.apply(this.__wrapped__, arguments));\n      };\n    });\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose Lo-Dash\n  var _ = runInContext();\n\n  // some AMD build optimizers, like r.js, check for specific condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash was injected by a third-party script and not intended to be\n    // loaded as a module. The global assignment can be reverted in the Lo-Dash\n    // module via its `noConflict()` method.\n    window._ = _;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return _;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && !freeExports.nodeType) {\n    // in Node.js or RingoJS v0.8.0+\n    if (freeModule) {\n      (freeModule.exports = _)._ = _;\n    }\n    // in Narwhal or RingoJS v0.7.0-\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    window._ = _;\n  }\n}(this));\n","(function () {\n  var Media = require('./media')\n    , Image = Media.extend({\n        name:'image'\n      , urlRoot:function () {\n        return this.app.config.baseUrl + '/images';\n      }\n      });\n  \n  module.exports = Image;\n}());","(function () {\n  var Media = require('./media')\n    , Video = Media.extend({\n        name:'video'\n      , urlRoot:function () {\n        return this.app.config.baseUrl + '/videos';\n      }\n      });\n  \n  module.exports = Video;\n}());","/**\n * jquery.elastislide.js v1.1.0\n * http://www.codrops.com\n *\n * Licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n *\n * Copyright 2012, Codrops\n * http://www.codrops.com\n */\n\nmodule.exports = (function( $, window, undefined ) {\n\n\t'use strict';\n\n\t/*\n\t* debouncedresize: special jQuery event that happens once after a window resize\n\t*\n\t* latest version and complete README available on Github:\n\t* https://github.com/louisremi/jquery-smartresize/blob/master/jquery.debouncedresize.js\n\t*\n\t* Copyright 2011 @louis_remi\n\t* Licensed under the MIT license.\n\t*/\n\tvar $event = $.event,\n\t$special,\n\tresizeTimeout;\n\n\t$special = $event.special.debouncedresize = {\n\t\tsetup: function() {\n\t\t\t$( this ).on( \"resize\", $special.handler );\n\t\t},\n\t\tteardown: function() {\n\t\t\t$( this ).off( \"resize\", $special.handler );\n\t\t},\n\t\thandler: function( event, execAsap ) {\n\t\t\t// Save the context\n\t\t\tvar context = this,\n\t\t\t\targs = arguments,\n\t\t\t\tdispatch = function() {\n\t\t\t\t\t// set correct event type\n\t\t\t\t\tevent.type = \"debouncedresize\";\n\t\t\t\t\t$event.dispatch.apply( context, args );\n\t\t\t\t};\n\n\t\t\tif ( resizeTimeout ) {\n\t\t\t\tclearTimeout( resizeTimeout );\n\t\t\t}\n\n\t\t\texecAsap ?\n\t\t\t\tdispatch() :\n\t\t\t\tresizeTimeout = setTimeout( dispatch, $special.threshold );\n\t\t},\n\t\tthreshold: 150\n\t};\n\n\t// ======================= imagesLoaded Plugin ===============================\n\t// https://github.com/desandro/imagesloaded\n\n\t// $('#my-container').imagesLoaded(myFunction)\n\t// execute a callback when all images have loaded.\n\t// needed because .load() doesn't work on cached images\n\n\t// callback function gets image collection as argument\n\t//  this is the container\n\n\t// original: mit license. paul irish. 2010.\n\t// contributors: Oren Solomianik, David DeSandro, Yiannis Chatzikonstantinou\n\n\t// blank image data-uri bypasses webkit log warning (thx doug jones)\n\tvar BLANK = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==';\n\n\t$.fn.imagesLoaded = function( callback ) {\n\t\tvar $this = this,\n\t\t\tdeferred = $.isFunction($.Deferred) ? $.Deferred() : 0,\n\t\t\thasNotify = $.isFunction(deferred.notify),\n\t\t\t$images = $this.find('img').add( $this.filter('img') ),\n\t\t\tloaded = [],\n\t\t\tproper = [],\n\t\t\tbroken = [];\n\n\t\t// Register deferred callbacks\n\t\tif ($.isPlainObject(callback)) {\n\t\t\t$.each(callback, function (key, value) {\n\t\t\t\tif (key === 'callback') {\n\t\t\t\t\tcallback = value;\n\t\t\t\t} else if (deferred) {\n\t\t\t\t\tdeferred[key](value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction doneLoading() {\n\t\t\tvar $proper = $(proper),\n\t\t\t\t$broken = $(broken);\n\n\t\t\tif ( deferred ) {\n\t\t\t\tif ( broken.length ) {\n\t\t\t\t\tdeferred.reject( $images, $proper, $broken );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.resolve( $images );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( $.isFunction( callback ) ) {\n\t\t\t\tcallback.call( $this, $images, $proper, $broken );\n\t\t\t}\n\t\t}\n\n\t\tfunction imgLoaded( img, isBroken ) {\n\t\t\t// don't proceed if BLANK image, or image is already loaded\n\t\t\tif ( img.src === BLANK || $.inArray( img, loaded ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// store element in loaded images array\n\t\t\tloaded.push( img );\n\n\t\t\t// keep track of broken and properly loaded images\n\t\t\tif ( isBroken ) {\n\t\t\t\tbroken.push( img );\n\t\t\t} else {\n\t\t\t\tproper.push( img );\n\t\t\t}\n\n\t\t\t// cache image and its state for future calls\n\t\t\t$.data( img, 'imagesLoaded', { isBroken: isBroken, src: img.src } );\n\n\t\t\t// trigger deferred progress method if present\n\t\t\tif ( hasNotify ) {\n\t\t\t\tdeferred.notifyWith( $(img), [ isBroken, $images, $(proper), $(broken) ] );\n\t\t\t}\n\n\t\t\t// call doneLoading and clean listeners if all images are loaded\n\t\t\tif ( $images.length === loaded.length ){\n\t\t\t\tsetTimeout( doneLoading );\n\t\t\t\t$images.unbind( '.imagesLoaded' );\n\t\t\t}\n\t\t}\n\n\t\t// if no images, trigger immediately\n\t\tif ( !$images.length ) {\n\t\t\tdoneLoading();\n\t\t} else {\n\t\t\t$images.bind( 'load.imagesLoaded error.imagesLoaded', function( event ){\n\t\t\t\t// trigger imgLoaded\n\t\t\t\timgLoaded( event.target, event.type === 'error' );\n\t\t\t}).each( function( i, el ) {\n\t\t\t\tvar src = el.src;\n\n\t\t\t\t// find out if this image has been already checked for status\n\t\t\t\t// if it was, and src has not changed, call imgLoaded on it\n\t\t\t\tvar cached = $.data( el, 'imagesLoaded' );\n\t\t\t\tif ( cached && cached.src === src ) {\n\t\t\t\t\timgLoaded( el, cached.isBroken );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// if complete is true and browser supports natural sizes, try\n\t\t\t\t// to check for image status manually\n\t\t\t\tif ( el.complete && el.naturalWidth !== undefined ) {\n\t\t\t\t\timgLoaded( el, el.naturalWidth === 0 || el.naturalHeight === 0 );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// cached images don't fire load sometimes, so we reset src, but only when\n\t\t\t\t// dealing with IE, or image is complete (loaded) and failed manual check\n\t\t\t\t// webkit hack from http://groups.google.com/group/jquery-dev/browse_thread/thread/eee6ab7b2da50e1f\n\t\t\t\tif ( el.readyState || el.complete ) {\n\t\t\t\t\tel.src = BLANK;\n\t\t\t\t\tel.src = src;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn deferred ? deferred.promise( $this ) : $this;\n\t};\n\n\t// global\n\tvar $window = $( window ),\n\t\tModernizr = window.Modernizr;\n\n\t$.Elastislide = function( options, element ) {\n\n\t\tthis.$el = $( element );\n\t\tthis._init( options );\n\n\t};\n\n\t$.Elastislide.defaults = {\n\t\t// orientation 'horizontal' || 'vertical'\n\t\torientation : 'horizontal',\n\t\t// sliding speed\n\t\tspeed : 500,\n\t\t// sliding easing\n\t\teasing : 'ease-in-out',\n\t\t// the minimum number of items to show.\n\t\t// when we resize the window, this will make sure minItems are always shown\n\t\t// (unless of course minItems is higher than the total number of elements)\n\t\tminItems : 3,\n\t\t// index of the current item (left most item of the carousel)\n\t\tstart : 0,\n\t\t// click item callback\n\t\tonClick : function( el, position, evt ) { return false; },\n\t\tonReady : function() { return false; },\n\t\tonBeforeSlide : function() { return false; },\n\t\tonAfterSlide : function() { return false; }\n\t};\n\n\t$.Elastislide.prototype = {\n\n\t\t_init : function( options ) {\n      var Modernizr = require('./modernizr');\n\n\t\t\t// options\n\t\t\tthis.options = $.extend( true, {}, $.Elastislide.defaults, options );\n\n\t\t\t// https://github.com/twitter/bootstrap/issues/2870\n\t\t\tvar self = this,\n\t\t\t\ttransEndEventNames = {\n\t\t\t\t\t'WebkitTransition' : 'webkitTransitionEnd',\n\t\t\t\t\t'MozTransition' : 'transitionend',\n\t\t\t\t\t'OTransition' : 'oTransitionEnd',\n\t\t\t\t\t'msTransition' : 'MSTransitionEnd',\n\t\t\t\t\t'transition' : 'transitionend'\n\t\t\t\t};\n\n\t\t\tthis.transEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ];\n\n\t\t\t// suport for css transforms and css transitions\n\t\t\tthis.support = Modernizr.csstransitions && Modernizr.csstransforms;\n\n\t\t\t// current item's index\n\t\t\tthis.current = this.options.start;\n\n\t\t\t// control if it's sliding\n\t\t\tthis.isSliding = false;\n\n\t\t\tthis.$items = this.$el.children( 'li' );\n\t\t\t// total number of items\n\t\t\tthis.itemsCount = this.$items.length;\n\t\t\tif( this.itemsCount === 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\t\t\tthis._validate();\n\t\t\t// remove white space\n\t\t\tthis.$items.detach();\n\t\t\tthis.$el.empty();\n\t\t\tthis.$el.append( this.$items );\n\n\t\t\t// main wrapper\n\t\t\tthis.$el.wrap( '<div class=\"elastislide-wrapper elastislide-loading elastislide-' + this.options.orientation + '\"></div>' );\n\n\t\t\t// check if we applied a transition to the <ul>\n\t\t\tthis.hasTransition = false;\n\n\t\t\t// add transition for the <ul>\n\t\t\tthis.hasTransitionTimeout = setTimeout( function() {\n\n\t\t\t\tself._addTransition();\n\n\t\t\t}, 100 );\n\n\t\t\t// preload the images\n\n\t\t\tthis.$el.imagesLoaded( function() {\n\n\t\t\t\tself.$el.show();\n\n\t\t\t\tself._layout();\n\t\t\t\tself._configure();\n\n\t\t\t\tif( self.hasTransition ) {\n\n\t\t\t\t\t// slide to current's position\n\t\t\t\t\tself._removeTransition();\n\t\t\t\t\tself._slideToItem( self.current );\n\n\t\t\t\t\tself.$el.on( self.transEndEventName, function() {\n\n\t\t\t\t\t\tself.$el.off( self.transEndEventName );\n\t\t\t\t\t\tself._setWrapperSize();\n\t\t\t\t\t\t// add transition for the <ul>\n\t\t\t\t\t\tself._addTransition();\n\t\t\t\t\t\tself._initEvents();\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\t\t\t\telse {\n\n\t\t\t\t\tclearTimeout( self.hasTransitionTimeout );\n\t\t\t\t\tself._setWrapperSize();\n\t\t\t\t\tself._initEvents();\n\t\t\t\t\t// slide to current's position\n\t\t\t\t\tself._slideToItem( self.current );\n\t\t\t\t\tsetTimeout( function() { self._addTransition(); }, 25 );\n\n\t\t\t\t}\n\n\t\t\t\tself.options.onReady();\n\n\t\t\t} );\n\n\t\t},\n\t\t_validate : function() {\n\n\t\t\tif( this.options.speed < 0 ) {\n\n\t\t\t\tthis.options.speed = 500;\n\n\t\t\t}\n\t\t\tif( this.options.minItems < 1 || this.options.minItems > this.itemsCount ) {\n\n\t\t\t\tthis.options.minItems = 1;\n\n\t\t\t}\n\t\t\tif( this.options.start < 0 || this.options.start > this.itemsCount - 1 ) {\n\n\t\t\t\tthis.options.start = 0;\n\n\t\t\t}\n\t\t\tif( this.options.orientation != 'horizontal' && this.options.orientation != 'vertical' ) {\n\n\t\t\t\tthis.options.orientation = 'horizontal';\n\n\t\t\t}\n\n\t\t},\n\t\t_layout : function() {\n\n\t\t\tthis.$el.wrap( '<div class=\"elastislide-carousel\"></div>' );\n\n\t\t\tthis.$carousel = this.$el.parent();\n\t\t\tthis.$wrapper = this.$carousel.parent().removeClass( 'elastislide-loading' );\n\n\t\t\t// save original image sizes\n\t\t\tvar $img = this.$items.find( 'img:first' );\n\t\t\tthis.imgSize = { width : $img.outerWidth( true ), height : $img.outerHeight( true ) };\n\n\t\t\tthis._setItemsSize();\n\t\t\tthis.options.orientation === 'horizontal' ? this.$el.css( 'max-height', this.imgSize.height ) : this.$el.css( 'height', this.options.minItems * this.imgSize.height );\n\n\t\t\t// add the controls\n\t\t\tthis._addControls();\n\n\t\t},\n\t\t_addTransition : function() {\n\n\t\t\tif( this.support ) {\n\n\t\t\t\tthis.$el.css( 'transition', 'all ' + this.options.speed + 'ms ' + this.options.easing );\n\n\t\t\t}\n\t\t\tthis.hasTransition = true;\n\n\t\t},\n\t\t_removeTransition : function() {\n\n\t\t\tif( this.support ) {\n\n\t\t\t\tthis.$el.css( 'transition', 'all 0s' );\n\n\t\t\t}\n\t\t\tthis.hasTransition = false;\n\n\t\t},\n\t\t_addControls : function() {\n\n\t\t\tvar self = this;\n\n\t\t\t// add navigation elements\n\t\t\tthis.$navigation = $( '<nav><span class=\"elastislide-prev\">Previous</span><span class=\"elastislide-next\">Next</span></nav>' )\n\t\t\t\t.appendTo( this.$wrapper );\n\n\n\t\t\tthis.$navPrev = this.$navigation.find( 'span.elastislide-prev' ).on( 'mousedown.elastislide', function( event ) {\n\n\t\t\t\tself._slide( 'prev' );\n\t\t\t\treturn false;\n\n\t\t\t} );\n\n\t\t\tthis.$navNext = this.$navigation.find( 'span.elastislide-next' ).on( 'mousedown.elastislide', function( event ) {\n\n\t\t\t\tself._slide( 'next' );\n\t\t\t\treturn false;\n\n\t\t\t} );\n\n\t\t},\n\t\t_setItemsSize : function() {\n\n\t\t\t// width for the items (%)\n\t\t\tvar w = this.options.orientation === 'horizontal' ? ( Math.floor( this.$carousel.width() / this.options.minItems ) * 100 ) / this.$carousel.width() : 100;\n\n\t\t\tthis.$items.css( {\n\t\t\t\t'width' : w + '%',\n\t\t\t\t'max-width' : this.imgSize.width,\n\t\t\t\t'max-height' : this.imgSize.height\n\t\t\t} );\n\n\t\t\tif( this.options.orientation === 'vertical' ) {\n\n\t\t\t\tthis.$wrapper.css( 'max-width', this.imgSize.width + parseInt( this.$wrapper.css( 'padding-left' ) ) + parseInt( this.$wrapper.css( 'padding-right' ) ) );\n\n\t\t\t}\n\n\t\t},\n\t\t_setWrapperSize : function() {\n\n\t\t\tif( this.options.orientation === 'vertical' ) {\n\n\t\t\t\tthis.$wrapper.css( {\n\t\t\t\t\t'height' : this.options.minItems * this.imgSize.height + parseInt( this.$wrapper.css( 'padding-top' ) ) + parseInt( this.$wrapper.css( 'padding-bottom' ) )\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\t\t_configure : function() {\n\n\t\t\t// check how many items fit in the carousel (visible area -> this.$carousel.width() )\n\t\t\tthis.fitCount = this.options.orientation === 'horizontal' ?\n\t\t\t\t\t\t\t\tthis.$carousel.width() < this.options.minItems * this.imgSize.width ? this.options.minItems : Math.floor( this.$carousel.width() / this.imgSize.width ) :\n\t\t\t\t\t\t\t\tthis.$carousel.height() < this.options.minItems * this.imgSize.height ? this.options.minItems : Math.floor( this.$carousel.height() / this.imgSize.height );\n\n\t\t},\n\t\t_initEvents : function() {\n\n\t\t\tvar self = this;\n\n\t\t\t$window.on( 'debouncedresize.elastislide', function() {\n\n\t\t\t\tself._setItemsSize();\n\t\t\t\tself._configure();\n\t\t\t\tself._slideToItem( self.current );\n\n\t\t\t} );\n\n\t\t\tthis.$el.on( this.transEndEventName, function() {\n\n\t\t\t\tself._onEndTransition();\n\n\t\t\t} );\n\n\t\t\tif( this.options.orientation === 'horizontal' ) {\n\n\t\t\t\tthis.$el.on( {\n\t\t\t\t\tswipeleft : function() {\n\n\t\t\t\t\t\tself._slide( 'next' );\n\n\t\t\t\t\t},\n\t\t\t\t\tswiperight : function() {\n\n\t\t\t\t\t\tself._slide( 'prev' );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\tthis.$el.on( {\n\t\t\t\t\tswipeup : function() {\n\n\t\t\t\t\t\tself._slide( 'next' );\n\n\t\t\t\t\t},\n\t\t\t\t\tswipedown : function() {\n\n\t\t\t\t\t\tself._slide( 'prev' );\n\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\t// item click event\n\t\t\tthis.$el.on( 'click.elastislide', 'li', function( event ) {\n\n\t\t\t\tvar $item = $( this );\n\n\t\t\t\tself.options.onClick( $item, $item.index(), event );\n\n\t\t\t});\n\n\t\t},\n\t\t_destroy : function( callback ) {\n\n\t\t\tthis.$el.off( this.transEndEventName ).off( 'swipeleft swiperight swipeup swipedown .elastislide' );\n\t\t\t$window.off( '.elastislide' );\n\n\t\t\tthis.$el.css( {\n\t\t\t\t'max-height' : 'none',\n\t\t\t\t'transition' : 'none'\n\t\t\t} ).unwrap( this.$carousel ).unwrap( this.$wrapper );\n\n\t\t\tthis.$items.css( {\n\t\t\t\t'width' : 'auto',\n\t\t\t\t'max-width' : 'none',\n\t\t\t\t'max-height' : 'none'\n\t\t\t} );\n\n\t\t\tthis.$navigation.remove();\n\t\t\tthis.$wrapper.remove();\n\n\t\t\tif( callback ) {\n\n\t\t\t\tcallback.call();\n\n\t\t\t}\n\n\t\t},\n\t\t_toggleControls : function( dir, display ) {\n\n\t\t\tif( display ) {\n\n\t\t\t\t( dir === 'next' ) ? this.$navNext.show() : this.$navPrev.show();\n\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\t( dir === 'next' ) ? this.$navNext.hide() : this.$navPrev.hide();\n\n\t\t\t}\n\n\t\t},\n\t\t_slide : function( dir, tvalue ) {\n\n\t\t\tif( this.isSliding ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\tthis.options.onBeforeSlide();\n\n\t\t\tthis.isSliding = true;\n\n\t\t\tvar self = this,\n\t\t\t\ttranslation = this.translation || 0,\n\t\t\t\t// width/height of an item ( <li> )\n\t\t\t\titemSpace = this.options.orientation === 'horizontal' ? this.$items.outerWidth( true ) : this.$items.outerHeight( true ),\n\t\t\t\t// total width/height of the <ul>\n\t\t\t\ttotalSpace = this.itemsCount * itemSpace,\n\t\t\t\t// visible width/height\n\t\t\t\tvisibleSpace = this.options.orientation === 'horizontal' ? this.$carousel.width() : this.$carousel.height();\n\n\t\t\tif( tvalue === undefined ) {\n\n\t\t\t\tvar amount = this.fitCount * itemSpace;\n\n\t\t\t\tif( amount < 0 ) {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t\tif( dir === 'next' && totalSpace - ( Math.abs( translation ) + amount ) < visibleSpace ) {\n\n\t\t\t\t\tamount = totalSpace - ( Math.abs( translation ) + visibleSpace );\n\n\t\t\t\t\t// show / hide navigation buttons\n\t\t\t\t\tthis._toggleControls( 'next', false );\n\t\t\t\t\tthis._toggleControls( 'prev', true );\n\n\t\t\t\t}\n\t\t\t\telse if( dir === 'prev' && Math.abs( translation ) - amount < 0 ) {\n\n\t\t\t\t\tamount = Math.abs( translation );\n\n\t\t\t\t\t// show / hide navigation buttons\n\t\t\t\t\tthis._toggleControls( 'next', true );\n\t\t\t\t\tthis._toggleControls( 'prev', false );\n\n\t\t\t\t}\n\t\t\t\telse {\n\n\t\t\t\t\t// future translation value\n\t\t\t\t\tvar ftv = dir === 'next' ? Math.abs( translation ) + Math.abs( amount ) : Math.abs( translation ) - Math.abs( amount );\n\n\t\t\t\t\t// show / hide navigation buttons\n\t\t\t\t\tftv > 0 ? this._toggleControls( 'prev', true ) : this._toggleControls( 'prev', false );\n\t\t\t\t\tftv < totalSpace - visibleSpace ? this._toggleControls( 'next', true ) : this._toggleControls( 'next', false );\n\n\t\t\t\t}\n\n\t\t\t\ttvalue = dir === 'next' ? translation - amount : translation + amount;\n\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\tvar amount = Math.abs( tvalue );\n\n\t\t\t\tif( Math.max( totalSpace, visibleSpace ) - amount < visibleSpace ) {\n\n\t\t\t\t\ttvalue\t= - ( Math.max( totalSpace, visibleSpace ) - visibleSpace );\n\n\t\t\t\t}\n\n\t\t\t\t// show / hide navigation buttons\n\t\t\t\tamount > 0 ? this._toggleControls( 'prev', true ) : this._toggleControls( 'prev', false );\n\t\t\t\tMath.max( totalSpace, visibleSpace ) - visibleSpace > amount ? this._toggleControls( 'next', true ) : this._toggleControls( 'next', false );\n\n\t\t\t}\n\n\t\t\tthis.translation = tvalue;\n\n\t\t\tif( translation === tvalue ) {\n\n\t\t\t\tthis._onEndTransition();\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\tif( this.support ) {\n\n\t\t\t\tthis.options.orientation === 'horizontal' ? this.$el.css( 'transform', 'translateX(' + tvalue + 'px)' ) : this.$el.css( 'transform', 'translateY(' + tvalue + 'px)' );\n\n\t\t\t}\n\t\t\telse {\n\n\t\t\t\t$.fn.applyStyle = this.hasTransition ? $.fn.animate : $.fn.css;\n\t\t\t\tvar styleCSS = this.options.orientation === 'horizontal' ? { left : tvalue } : { top : tvalue };\n\n\t\t\t\tthis.$el.stop().applyStyle( styleCSS, $.extend( true, [], { duration : this.options.speed, complete : function() {\n\n\t\t\t\t\tself._onEndTransition();\n\n\t\t\t\t} } ) );\n\n\t\t\t}\n\n\t\t\tif( !this.hasTransition ) {\n\n\t\t\t\tthis._onEndTransition();\n\n\t\t\t}\n\n\t\t},\n\t\t_onEndTransition : function() {\n\n\t\t\tthis.isSliding = false;\n\t\t\tthis.options.onAfterSlide();\n\n\t\t},\n\t\t_slideTo : function( pos ) {\n\n\t\t\tvar pos = pos || this.current,\n\t\t\t\ttranslation = Math.abs( this.translation ) || 0,\n\t\t\t\titemSpace = this.options.orientation === 'horizontal' ? this.$items.outerWidth( true ) : this.$items.outerHeight( true ),\n\t\t\t\tposR = translation + this.$carousel.width(),\n\t\t\t\tftv = Math.abs( pos * itemSpace );\n\n\t\t\tif( ftv + itemSpace > posR || ftv < translation ) {\n\n\t\t\t\tthis._slideToItem( pos );\n\n\t\t\t}\n\n\t\t},\n\t\t_slideToItem : function( pos ) {\n\n\t\t\t// how much to slide?\n\t\t\tvar amount\t= this.options.orientation === 'horizontal' ? pos * this.$items.outerWidth( true ) : pos * this.$items.outerHeight( true );\n\t\t\tthis._slide( '', -amount );\n\n\t\t},\n\t\t// public method: adds new items to the carousel\n\t\t/*\n\n\t\thow to use:\n\t\tvar carouselEl = $( '#carousel' ),\n\t\t\tcarousel = carouselEl.elastislide();\n\t\t...\n\n\t\t// append or prepend new items:\n\t\tcarouselEl.prepend('<li><a href=\"#\"><img src=\"images/large/2.jpg\" alt=\"image02\" /></a></li>');\n\n\t\t// call the add method:\n\t\tes.add();\n\n\t\t*/\n\t\tadd : function( callback ) {\n\n\t\t\tvar self = this,\n\t\t\t\toldcurrent = this.current,\n\t\t\t\t$currentItem = this.$items.eq( this.current );\n\n\t\t\t// adds new items to the carousel\n\t\t\tthis.$items = this.$el.children( 'li' );\n\t\t\tthis.itemsCount = this.$items.length;\n\t\t\tthis.current = $currentItem.index();\n\t\t\tthis._setItemsSize();\n\t\t\tthis._configure();\n\t\t\tthis._removeTransition();\n\t\t\toldcurrent < this.current ? this._slideToItem( this.current ) : this._slide( 'next', this.translation );\n\t\t\tsetTimeout( function() { self._addTransition(); }, 25 );\n\n\t\t\tif ( callback ) {\n\n\t\t\t\tcallback.call();\n\n\t\t\t}\n\n\t\t},\n\t\t// public method: sets a new element as the current. slides to that position\n\t\tsetCurrent : function( idx, callback ) {\n\n\t\t\tthis.current = idx;\n\n\t\t\tthis._slideTo();\n\n\t\t\tif ( callback ) {\n\n\t\t\t\tcallback.call();\n\n\t\t\t}\n\n\t\t},\n\t\t// public method: slides to the next set of items\n\t\tnext : function() {\n\n\t\t\tself._slide( 'next' );\n\n\t\t},\n\t\t// public method: slides to the previous set of items\n\t\tprevious : function() {\n\n\t\t\tself._slide( 'prev' );\n\n\t\t},\n\t\t// public method: slides to the first item\n\t\tslideStart : function() {\n\n\t\t\tthis._slideTo( 0 );\n\n\t\t},\n\t\t// public method: slides to the last item\n\t\tslideEnd : function() {\n\n\t\t\tthis._slideTo( this.itemsCount - 1 );\n\n\t\t},\n\t\t// public method: destroys the elastislide instance\n\t\tdestroy : function( callback ) {\n\n\t\t\tthis._destroy( callback );\n\n\t\t}\n\n\t};\n\n\tvar logError = function( message ) {\n\n\t\tif ( window.console ) {\n\n\t\t\twindow.console.error( message );\n\n\t\t}\n\n\t};\n\n\t$.fn.elastislide = function( options ) {\n\n\t\tvar self = $.data( this, 'elastislide' );\n\n\t\tif ( typeof options === 'string' ) {\n\n\t\t\tvar args = Array.prototype.slice.call( arguments, 1 );\n\n\t\t\tthis.each(function() {\n\n\t\t\t\tif ( !self ) {\n\n\t\t\t\t\tlogError( \"cannot call methods on elastislide prior to initialization; \" +\n\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( !$.isFunction( self[options] ) || options.charAt(0) === \"_\" ) {\n\n\t\t\t\t\tlogError( \"no such method '\" + options + \"' for elastislide self\" );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tself[ options ].apply( self, args );\n\n\t\t\t});\n\n\t\t}\n\t\telse {\n\n\t\t\tthis.each(function() {\n\n\t\t\t\tif ( self ) {\n\n\t\t\t\t\tself._init();\n\n\t\t\t\t}\n\t\t\t\telse {\n\n\t\t\t\t\tself = $.data( this, 'elastislide', new $.Elastislide( options, this ) );\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\n\n\t\treturn self;\n\n\t};\n\n} );\n","(function () {\n  var View = require('../base')\n    , NavbarView = require('../layout/navbar.js')\n    , FooterView = require('../layout/footer.js')\n    , IndexView = View.extend({\n        template: require('../../templates/routes/index.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n        }\n      , afterRender: function () {\n        var navbar = new NavbarView({app:this.app})\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n      }\n      , context: function () {\n          return this.getContext();\n        }\n      });\n\n  module.exports = IndexView;\n}());\n","(function () {\n  var View = require('../base')\n    , NavbarView = require('../layout/navbar.js')\n    , FooterView = require('../layout/footer.js')\n    , ErrorView = View.extend({\n        template: require('../../templates/errors/no_pages.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n        }\n      , afterRender: function () {\n        var navbar = new NavbarView({app:this.app})\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n      }\n      , context: function () {\n          return this.getContext();\n        }\n      });\n\n  module.exports = ErrorView;\n}());\n","(function () {\n  var View = require('../base')\n    , NavbarView = require('../layout/navbar.js')\n    , FooterView = require('../layout/footer.js')\n    , LoginView = View.extend({\n        template: require('../../templates/routes/login.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n          this.user = this.app.getUser();\n\n          this.listenTo(this.user, 'change', this.render, this);\n\n          this.renderOnReady(this.user);\n        }\n      , afterRender: function () {\n        var navbar = new NavbarView({app:this.app})\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n      }\n      , context: function () {\n          return this.getContext({user:this.user.attributes});\n        }\n      , events: {\n          'submit': 'login'\n        , 'click a.app': 'handleAppLink'\n        , 'click a.provisionTestAccount': 'provisionTestAccount'\n        }\n        //Tries to log the user in\n      , login: function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          var username = this.$('input[name=username]').val();\n          var password = this.$('input[name=password]').val();\n\n          this.user.set({\n            username: username\n          , password: password\n          , id: null\n          , path: null\n          , policy: null\n          , token: null\n          }).save();\n        }\n        //Tries to provision a testing account\n      , provisionTestAccount: function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          this.user.set({id: 'test'}).save();\n        }\n      });\n\n  module.exports = LoginView;\n}());\n","(function () {\n  var View = require('../base')\n    , NavbarView = require('../layout/navbar.js')\n    , FooterView = require('../layout/footer.js')\n    , IndexView = View.extend({\n        template: require('../../templates/routes/review.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n          this.unprocessed = this.app.db.fetchCollection('unprocessedUploads');\n\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n          this.listenTo(this.unprocessed, 'add change remove sort', this.render, this);\n\n        }\n      , afterRender: function () {\n          var navbar = new NavbarView({app:this.app})\n            , footer = new FooterView({app:this.app});\n\n          this.appendSubview(navbar, this.$('#header'));\n          this.appendSubview(footer, this.$('#footer'));\n\n          //Render all the subviews\n          this.eachSubview(function (subview) {\n            subview.render();\n          });\n        }\n      , context: function () {\n          var unprocessedAttrs = [];\n\n          this.unprocessed.forEach(function(model) {\n            unprocessedAttrs.push(model.templateVars());\n          });\n\n          return this.getContext({\n            unprocessed:unprocessedAttrs\n          , nothingToReview: unprocessedAttrs.length === 0\n          });\n        }\n      });\n\n  module.exports = IndexView;\n}());\n","(function () {\n  var View = require('../base')\n    , $ = require('../../helpers/JqueryLoader')\n    , NavbarView = require('../layout/navbar.js')\n    , FooterView = require('../layout/footer.js')\n    , IndexView = View.extend({\n        template: require('../../templates/routes/contact.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n        }\n      , events: {\n          'submit': 'send'\n        , 'click a.app': 'handleAppLink'\n        }\n      , afterRender: function () {\n        var navbar = new NavbarView({app:this.app})\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n      }\n        // Persist form contents incase of failure\n      , nameVal: ''\n      , emailVal: ''\n      , messageVal: ''\n      , context: function () {\n          return this.getContext({\n            nameVal: this.nameVal\n          , emailVal: this.emailVal\n          , messageVal: this.messageVal\n          });\n        }\n      , send: function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          var self = this;\n\n          self.nameVal = self.$('form input[name=\"name\"]').val()\n          self.emailVal = self.$('form input[name=\"email\"]').val()\n          self.messageVal = self.$('form textarea').val();\n\n          self.app.clearFlash();\n          self.app.setFlash('info', 'Sending message...');\n          self.$('form button').button('loading');\n\n          $.ajax({\n            url: self.app.config.baseUrl + '/users/contact.json'\n          , success: function (data) {\n              if(data.error) {\n                self.app.error(data.error);\n              }\n              else {\n                self.app.setFlash('success', 'Message sent!');\n              }\n            }\n          , error: function (jqXHR, textStatus, errorThrown) {\n              self.app.error(errorThrown);\n            }\n          , complete: function () {\n              self.$('form button').button('reset');\n              self.render(); // FIXME: Stupid flash messages won't render\n            }\n          , data: {\n              name: self.nameVal\n            , email: self.emailVal\n            , message: self.messageVal\n            , id: self.app.bootstrap.userId\n            }\n          , dataType: 'json'\n          , timeout: 20000\n          , type: 'POST'\n          });\n        }\n      });\n\n  module.exports = IndexView;\n}());\n","(function () {\n  var View = require('../../base')\n    , NavbarView = require('../../layout/navbar.js')\n    , FooterView = require('../../layout/footer.js')\n    , GridView = require('../../routes/media/grid.js')\n    , ShowView = View.extend({\n        template: require('../../../templates/routes/pages/show.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n\n          this.pageName = options.pageName;\n\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n\n          this.fetchPage(options.pageName, function () {\n            this.render();\n          });\n        }\n      , afterRender: function () {\n        var navbar = new NavbarView({app:this.app})\n          , grid = new GridView({app:this.app, pageName:this.pageName})\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n        this.appendSubview(grid, this.$('#content'));\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n      }\n      , context: function () {\n          return this.getContext();\n        }\n      });\n\n  module.exports = ShowView;\n}());\n","(function () {\n  var View = require('../../base')\n    , Holder = require('../../../helpers/lib/holder.js')\n    , NavbarView = require('../../layout/navbar.js')\n    , FooterView = require('../../layout/footer.js')\n    , EditView = View.extend({\n        template: require('../../../templates/routes/pages/edit.hbs')\n      , events: {\n          'submit': 'performSave'\n        , 'click a.btn-danger':'performDelete'\n        , 'click a.app':'handleAppLink'\n        }\n      , initialize: function (options) {\n          this.app = options.app;\n\n          this.fetchPage(options.pageName, function () {\n            this.listenTo(this.page, 'invalid', function () {\n              this.app.error(this.page.validationError);\n            }, this);\n\n            this.media = this.page.getMedia();\n\n            this.listenTo(this.media, 'change add remove sort', this.render, this);\n            this.media.once('ready', this.render, this);\n\n            this.render();\n          });\n        }\n      , context: function () {\n          var media = [];\n          var safeName = encodeURIComponent(this.page.attributes.name);\n\n          if(this.media) {\n            this.media.forEach(function(model) {\n              media.push(model.templateVars(safeName));\n            });\n          }\n\n          return this.getContext({\n            media: media\n          , page: this.page.attributes\n          });\n        }\n      , afterRender: function () {\n          var self = this\n            , navbar = new NavbarView({app:self.app})\n            , footer = new FooterView({app:self.app});\n\n          self.appendSubview(navbar, self.$('#header'));\n          self.appendSubview(footer, self.$('#footer'));\n\n          //Render all the subviews\n          self.eachSubview(function (subview) {\n            subview.render();\n          });\n\n          self.$('.sortable').sortable().bind('sortupdate', function() {\n            self.readSortOrder.apply(self,arguments);\n          });\n\n          self.$(\".switch\").bootstrapSwitch();\n\n          Holder.run();\n        }\n\n        //Tries to save the edited page\n      , performSave: function(e) {\n          var self = this;\n\n          e.preventDefault();\n\n          var name = this.$('input[name=name]').val()\n            , isPublished = this.$(\"input[name=isPublished]\").parent().hasClass(\"switch-on\");\n\n          this.app.clearFlash();\n\n          this.page.save({\n            userId:self.app.getUser().attributes.id,\n            name:name,\n            isPublished:isPublished\n          }, {\n            success:function() {\n\n              // Don't forget to re-fetch the pages collection!\n              self.app.db.fetchCollection('pages').fetch();\n\n              self.app.setFlash('success', 'Page Saved!');\n            },\n            error: self.app.error\n          });\n        }\n\n        //Tries to delete the page\n      , performDelete: function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          var self = this;\n\n          var proceed = confirm(\"Are you sure you want to delete \"+self.page.attributes.name+\"?\");\n          if(proceed) {\n            self.page.destroy({\n              success:function() {\n                //Reload pages\n                self.app.db.fetchCollection('pages').remove(self.page);\n\n                //Return to home\n                self.app.navigate('',{trigger:true});\n              },\n              error:self.app.error\n            });\n          }\n          else {\n            //noop\n            return false;\n          }\n        }\n\n      , //Reads the sorting order of items on the page\n        readSortOrder: function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          var self = this;\n\n          var items = self.$('.sortable').children();\n          var models = [];\n          var pageItems = [];\n          items.each(function(index,elem) {\n            var fModel = self.page.getMedia().get($(elem).attr(\"data-uuid\"));\n            models.push(fModel);\n            pageItems.push({\n              ID:fModel.attributes.id,\n              NAME:fModel.attributes.name,\n              TYPE:fModel.attributes.type.toLowerCase(),\n              THUMB:fModel.attributes.thumbnailS3key\n            });\n          });\n\n          self.page.getMedia().reset(models);\n          self.page.set(\"items\",pageItems);\n          self.page.save({},{\n            success:function() {\n              self.app.setFlash('success', 'Page Saved!');\n            },\n            error:self.app.error\n          });\n        }\n      });\n\n  module.exports = EditView;\n}());\n","(function () {\n  var View = require('../../base')\n    , NavbarView = require('../../layout/navbar.js')\n    , FooterView = require('../../layout/footer.js')\n    , IndexView = View.extend({\n        template: require('../../../templates/routes/media/add.hbs')\n      , events: {\n          'click a.filepicker':'startFilepicker'\n        , 'click a.app': 'handleAppLink'\n        }\n      , initialize: function (options) {\n          this.app = options.app;\n\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n\n          this.fetchPage(options.pageName, function () {\n            this.render();\n          });\n        }\n      , afterRender: function () {\n        var inputElem;\n\n        var navbar = new NavbarView({app:this.app})\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n      }\n      , context: function () {\n          var safeName = encodeURIComponent(this.page.attributes.name);\n\n          return this.getContext({\n            page: this.page.attributes\n          , pickMediaUrl: 'page/'+safeName+'/pickMedia'\n          });\n        }\n      , startFilepicker: function(e, debug_cb) {\n          var self = this\n            , safeName = encodeURIComponent(this.page.attributes.name);\n\n          if(e) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          //Make sure the page is loaded\n          if(!this.page.id) {\n            self.app.error('The page hasn\\'t loaded yet, try again in a few seconds');\n            return;\n          }\n\n          this.page.addMedia(function(err, FPFiles) {\n            if(err) {\n              if(err.code === 304) {\n                self.app.logoutFromInactivity();\n              }\n              else if(err.code!==101) {\n                self.app.error(err);\n              }\n            }\n            else if(FPFiles) {\n              // No point staying on the upload page, huh..\n              self.app.navigate('page/'+safeName, {trigger: true});\n            }\n          },debug_cb);\n        }\n      });\n\n  module.exports = IndexView;\n}());","(function () {\n  /* Modernizr 2.6.2 (Custom Build) | MIT & BSD\n   * Build: http://modernizr.com/download/#-csstransforms-csstransitions-touch-shiv-cssclasses-prefixed-teststyles-testprop-testallprops-prefixes-domprefixes-load\n   */\n  var Modernizr = (function( window, document, undefined ) {\n\n      var version = '2.6.2',\n\n      Modernizr = {},\n\n      enableClasses = true,\n\n      docElement = document.documentElement,\n\n      mod = 'modernizr',\n      modElem = document.createElement(mod),\n      mStyle = modElem.style,\n\n      inputElem  ,\n\n\n      toString = {}.toString,\n\n      prefixes = ' -webkit- -moz- -o- -ms- '.split(' '),\n\n\n\n      omPrefixes = 'Webkit Moz O ms',\n\n      cssomPrefixes = omPrefixes.split(' '),\n\n      domPrefixes = omPrefixes.toLowerCase().split(' '),\n\n\n      tests = {},\n      inputs = {},\n      attrs = {},\n\n      classes = [],\n\n      slice = classes.slice,\n\n      featureName,\n\n\n      injectElementWithStyles = function( rule, callback, nodes, testnames ) {\n\n        var style, ret, node, docOverflow,\n            div = document.createElement('div'),\n                  body = document.body,\n                  fakeBody = body || document.createElement('body');\n\n        if ( parseInt(nodes, 10) ) {\n                        while ( nodes-- ) {\n                node = document.createElement('div');\n                node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n                div.appendChild(node);\n            }\n        }\n\n                  style = ['&#173;','<style id=\"s', mod, '\">', rule, '</style>'].join('');\n        div.id = mod;\n            (body ? div : fakeBody).innerHTML += style;\n        fakeBody.appendChild(div);\n        if ( !body ) {\n                  fakeBody.style.background = '';\n                  fakeBody.style.overflow = 'hidden';\n            docOverflow = docElement.style.overflow;\n            docElement.style.overflow = 'hidden';\n            docElement.appendChild(fakeBody);\n        }\n\n        ret = callback(div, rule);\n          if ( !body ) {\n            fakeBody.parentNode.removeChild(fakeBody);\n            docElement.style.overflow = docOverflow;\n        } else {\n            div.parentNode.removeChild(div);\n        }\n\n        return !!ret;\n\n      },\n      _hasOwnProperty = ({}).hasOwnProperty, hasOwnProp;\n\n      if ( !is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined') ) {\n        hasOwnProp = function (object, property) {\n          return _hasOwnProperty.call(object, property);\n        };\n      }\n      else {\n        hasOwnProp = function (object, property) {\n          return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\n        };\n      }\n\n\n      if (!Function.prototype.bind) {\n        Function.prototype.bind = function bind(that) {\n\n          var target = this;\n\n          if (typeof target != \"function\") {\n              throw new TypeError();\n          }\n\n          var args = slice.call(arguments, 1),\n              bound = function () {\n\n              if (this instanceof bound) {\n\n                var F = function(){};\n                F.prototype = target.prototype;\n                var self = new F();\n\n                var result = target.apply(\n                    self,\n                    args.concat(slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return self;\n\n              } else {\n\n                return target.apply(\n                    that,\n                    args.concat(slice.call(arguments))\n                );\n\n              }\n\n          };\n\n          return bound;\n        };\n      }\n\n      function setCss( str ) {\n          mStyle.cssText = str;\n      }\n\n      function setCssAll( str1, str2 ) {\n          return setCss(prefixes.join(str1 + ';') + ( str2 || '' ));\n      }\n\n      function is( obj, type ) {\n          return typeof obj === type;\n      }\n\n      function contains( str, substr ) {\n          return !!~('' + str).indexOf(substr);\n      }\n\n      function testProps( props, prefixed ) {\n          for ( var i in props ) {\n              var prop = props[i];\n              if ( !contains(prop, \"-\") && mStyle[prop] !== undefined ) {\n                  return prefixed == 'pfx' ? prop : true;\n              }\n          }\n          return false;\n      }\n\n      function testDOMProps( props, obj, elem ) {\n          for ( var i in props ) {\n              var item = obj[props[i]];\n              if ( item !== undefined) {\n\n                              if (elem === false) return props[i];\n\n                              if (is(item, 'function')){\n                                  return item.bind(elem || obj);\n                  }\n\n                              return item;\n              }\n          }\n          return false;\n      }\n\n      function testPropsAll( prop, prefixed, elem ) {\n\n          var ucProp  = prop.charAt(0).toUpperCase() + prop.slice(1),\n              props   = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\n\n              if(is(prefixed, \"string\") || is(prefixed, \"undefined\")) {\n            return testProps(props, prefixed);\n\n              } else {\n            props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\n            return testDOMProps(props, prefixed, elem);\n          }\n      }    tests['touch'] = function() {\n          var bool;\n\n          if(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n            bool = true;\n          } else {\n            injectElementWithStyles(['@media (',prefixes.join('touch-enabled),('),mod,')','{#modernizr{top:9px;position:absolute}}'].join(''), function( node ) {\n              bool = node.offsetTop === 9;\n            });\n          }\n\n          return bool;\n      };\n\n\n\n      tests['csstransforms'] = function() {\n          return !!testPropsAll('transform');\n      };    tests['csstransitions'] = function() {\n          return testPropsAll('transition');\n      };\n\n\n\n      for ( var feature in tests ) {\n          if ( hasOwnProp(tests, feature) ) {\n                                      featureName  = feature.toLowerCase();\n              Modernizr[featureName] = tests[feature]();\n\n              classes.push((Modernizr[featureName] ? '' : 'no-') + featureName);\n          }\n      }\n\n\n\n       Modernizr.addTest = function ( feature, test ) {\n         if ( typeof feature == 'object' ) {\n           for ( var key in feature ) {\n             if ( hasOwnProp( feature, key ) ) {\n               Modernizr.addTest( key, feature[ key ] );\n             }\n           }\n         } else {\n\n           feature = feature.toLowerCase();\n\n           if ( Modernizr[feature] !== undefined ) {\n                                                return Modernizr;\n           }\n\n           test = typeof test == 'function' ? test() : test;\n\n           if (typeof enableClasses !== \"undefined\" && enableClasses) {\n             docElement.className += ' ' + (test ? '' : 'no-') + feature;\n           }\n           Modernizr[feature] = test;\n\n         }\n\n         return Modernizr;\n       };\n\n\n      setCss('');\n      modElem = inputElem = null;\n\n      ;(function(window, document) {\n          var options = window.html5 || {};\n\n          var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\n\n          var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;\n\n          var supportsHtml5Styles;\n\n          var expando = '_html5shiv';\n\n          var expanID = 0;\n\n          var expandoData = {};\n\n          var supportsUnknownElements;\n\n        (function() {\n          try {\n              var a = document.createElement('a');\n              a.innerHTML = '<xyz></xyz>';\n                      supportsHtml5Styles = ('hidden' in a);\n\n              supportsUnknownElements = a.childNodes.length == 1 || (function() {\n                          (document.createElement)('a');\n                var frag = document.createDocumentFragment();\n                return (\n                  typeof frag.cloneNode == 'undefined' ||\n                  typeof frag.createDocumentFragment == 'undefined' ||\n                  typeof frag.createElement == 'undefined'\n                );\n              }());\n          } catch(e) {\n            supportsHtml5Styles = true;\n            supportsUnknownElements = true;\n          }\n\n        }());        function addStyleSheet(ownerDocument, cssText) {\n          var p = ownerDocument.createElement('p'),\n              parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\n\n          p.innerHTML = 'x<style>' + cssText + '</style>';\n          return parent.insertBefore(p.lastChild, parent.firstChild);\n        }\n\n          function getElements() {\n          var elements = html5.elements;\n          return typeof elements == 'string' ? elements.split(' ') : elements;\n        }\n\n            function getExpandoData(ownerDocument) {\n          var data = expandoData[ownerDocument[expando]];\n          if (!data) {\n              data = {};\n              expanID++;\n              ownerDocument[expando] = expanID;\n              expandoData[expanID] = data;\n          }\n          return data;\n        }\n\n          function createElement(nodeName, ownerDocument, data){\n          if (!ownerDocument) {\n              ownerDocument = document;\n          }\n          if(supportsUnknownElements){\n              return ownerDocument.createElement(nodeName);\n          }\n          if (!data) {\n              data = getExpandoData(ownerDocument);\n          }\n          var node;\n\n          if (data.cache[nodeName]) {\n              node = data.cache[nodeName].cloneNode();\n          } else if (saveClones.test(nodeName)) {\n              node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\n          } else {\n              node = data.createElem(nodeName);\n          }\n\n                                      return node.canHaveChildren && !reSkip.test(nodeName) ? data.frag.appendChild(node) : node;\n        }\n\n          function createDocumentFragment(ownerDocument, data){\n          if (!ownerDocument) {\n              ownerDocument = document;\n          }\n          if(supportsUnknownElements){\n              return ownerDocument.createDocumentFragment();\n          }\n          data = data || getExpandoData(ownerDocument);\n          var clone = data.frag.cloneNode(),\n              i = 0,\n              elems = getElements(),\n              l = elems.length;\n          for(;i<l;i++){\n              clone.createElement(elems[i]);\n          }\n          return clone;\n        }\n\n          function shivMethods(ownerDocument, data) {\n          if (!data.cache) {\n              data.cache = {};\n              data.createElem = ownerDocument.createElement;\n              data.createFrag = ownerDocument.createDocumentFragment;\n              data.frag = data.createFrag();\n          }\n\n\n          ownerDocument.createElement = function(nodeName) {\n                  if (!html5.shivMethods) {\n                return data.createElem(nodeName);\n            }\n            return createElement(nodeName, ownerDocument, data);\n          };\n\n          ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\n            'var n=f.cloneNode(),c=n.createElement;' +\n            'h.shivMethods&&(' +\n                      getElements().join().replace(/\\w+/g, function(nodeName) {\n                data.createElem(nodeName);\n                data.frag.createElement(nodeName);\n                return 'c(\"' + nodeName + '\")';\n              }) +\n            ');return n}'\n          )(html5, data.frag);\n        }        function shivDocument(ownerDocument) {\n          if (!ownerDocument) {\n              ownerDocument = document;\n          }\n          var data = getExpandoData(ownerDocument);\n\n          if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n            data.hasCSS = !!addStyleSheet(ownerDocument,\n                      'article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}' +\n                      'mark{background:#FF0;color:#000}'\n            );\n          }\n          if (!supportsUnknownElements) {\n            shivMethods(ownerDocument, data);\n          }\n          return ownerDocument;\n        }        var html5 = {\n\n              'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video',\n\n              'shivCSS': (options.shivCSS !== false),\n\n              'supportsUnknownElements': supportsUnknownElements,\n\n              'shivMethods': (options.shivMethods !== false),\n\n              'type': 'default',\n\n              'shivDocument': shivDocument,\n\n              createElement: createElement,\n\n              createDocumentFragment: createDocumentFragment\n        };        window.html5 = html5;\n\n          shivDocument(document);\n\n      }(this, document));\n\n      Modernizr._version      = version;\n\n      Modernizr._prefixes     = prefixes;\n      Modernizr._domPrefixes  = domPrefixes;\n      Modernizr._cssomPrefixes  = cssomPrefixes;\n\n\n\n      Modernizr.testProp      = function(prop){\n          return testProps([prop]);\n      };\n\n      Modernizr.testAllProps  = testPropsAll;\n\n\n      Modernizr.testStyles    = injectElementWithStyles;\n      Modernizr.prefixed      = function(prop, obj, elem){\n        if(!obj) {\n          return testPropsAll(prop, 'pfx');\n        } else {\n              return testPropsAll(prop, obj, elem);\n        }\n      };\n\n\n      docElement.className = docElement.className.replace(/(^|\\s)no-js(\\s|$)/, '$1$2') +\n\n                                                      (enableClasses ? ' js ' + classes.join(' ') : '');\n\n      return Modernizr;\n\n  })(this, this.document);\n\n  /*yepnope1.5.4|WTFPL*/\n  (function(a,b,c){function d(a){return\"[object Function]\"==o.call(a)}function e(a){return\"string\"==typeof a}function f(){}function g(a){return!a||\"loaded\"==a||\"complete\"==a||\"uninitialized\"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){(\"c\"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){\"img\"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),\"object\"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height=\"0\",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),\"img\"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||\"j\",e(a)?i(\"c\"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName(\"script\")[0],o={}.toString,p=[],q=0,r=\"MozAppearance\"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&\"[object Opera]\"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?\"object\":l?\"script\":\"img\",v=l?\"script\":u,w=Array.isArray||function(a){return\"[object Array]\"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split(\"!\"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split(\"=\"),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(\".\").pop().split(\"?\").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split(\"/\").pop().split(\"?\")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&\"css\"==i.url.split(\".\").pop().split(\"?\").shift()?\"c\":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState=\"loading\",b.addEventListener(\"DOMContentLoaded\",A=function(){b.removeEventListener(\"DOMContentLoaded\",A,0),b.readyState=\"complete\"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement(\"script\"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement(\"link\"),j,c=i?h:c||f;e.href=a,e.rel=\"stylesheet\",e.type=\"text/css\";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}})(this,document);\n\n  Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0));};\n\n  module.exports = Modernizr;\n}());","(function () {\n  /*\n\n  Holder - 1.9 - client side image placeholders\n  (c) 2012-2013 Ivan Malopinsky / http://imsky.co\n\n  Provided under the Apache 2.0 License: http://www.apache.org/licenses/LICENSE-2.0\n  Commercial use requires attribution.\n\n  */\n\n  var Holder = Holder || {};\n  (function (app, win) {\n\n  var preempted = false,\n  fallback = false,\n  canvas = document.createElement('canvas');\n\n  //getElementsByClassName polyfill\n  document.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,n,r,i,s=[];if(t.querySelectorAll)return t.querySelectorAll(\".\"+e);if(t.evaluate){r=\".//*[contains(concat(' ', @class, ' '), ' \"+e+\" ')]\",n=t.evaluate(r,t,null,0,null);while(i=n.iterateNext())s.push(i)}else{n=t.getElementsByTagName(\"*\"),r=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\");for(i=0;i<n.length;i++)r.test(n[i].className)&&s.push(n[i])}return s})\n\n  //getComputedStyle polyfill\n  window.getComputedStyle||(window.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\\-([a-z]){1})/g;return t==\"float\"&&(t=\"styleFloat\"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})\n\n  //http://javascript.nwbox.com/ContentLoaded by Diego Perini with modifications\n  function contentLoaded(n,t){var l=\"complete\",s=\"readystatechange\",u=!1,h=u,c=!0,i=n.document,a=i.documentElement,e=i.addEventListener?\"addEventListener\":\"attachEvent\",v=i.addEventListener?\"removeEventListener\":\"detachEvent\",f=i.addEventListener?\"\":\"on\",r=function(e){(e.type!=s||i.readyState==l)&&((e.type==\"load\"?n:i)[v](f+e.type,r,u),!h&&(h=!0)&&t.call(n,null))},o=function(){try{a.doScroll(\"left\")}catch(n){setTimeout(o,50);return}r(\"poll\")};if(i.readyState==l)t.call(n,\"lazy\");else{if(i.createEventObject&&a.doScroll){try{c=!n.frameElement}catch(y){}c&&o()}i[e](f+\"DOMContentLoaded\",r,u),i[e](f+s,r,u),n[e](f+\"load\",r,u)}};\n\n  //https://gist.github.com/991057 by Jed Schmidt with modifications\n  function selector(a){\n  \ta=a.match(/^(\\W)?(.*)/);var b=document[\"getElement\"+(a[1]?a[1]==\"#\"?\"ById\":\"sByClassName\":\"sByTagName\")](a[2]);\n  \tvar ret=[];\tb!=null&&(b.length?ret=b:b.length==0?ret=b:ret=[b]);\treturn ret;\n  }\n\n  //shallow object property extend\n  function extend(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}\n\n  //hasOwnProperty polyfill\n  if (!Object.prototype.hasOwnProperty)\n  \tObject.prototype.hasOwnProperty = function(prop) {\n  \t\tvar proto = this.__proto__ || this.constructor.prototype;\n  \t\treturn (prop in this) && (!(prop in proto) || proto[prop] !== this[prop]);\n  \t}\n\n  function text_size(width, height, template) {\n  \tvar dimension_arr = [height, width].sort();\n  \tvar maxFactor = Math.round(dimension_arr[1] / 16),\n  \t\tminFactor = Math.round(dimension_arr[0] / 16);\n  \tvar text_height = Math.max(template.size, maxFactor);\n  \treturn {\n  \t\theight: text_height\n  \t}\n  }\n\n  function draw(ctx, dimensions, template, ratio) {\n  \tvar ts = text_size(dimensions.width, dimensions.height, template);\n  \tvar text_height = ts.height;\n  \tvar width = dimensions.width * ratio, height = dimensions.height * ratio;\n  \tvar font = template.font ? template.font : \"sans-serif\";\n  \tcanvas.width = width;\n  \tcanvas.height = height;\n  \tctx.textAlign = \"center\";\n  \tctx.textBaseline = \"middle\";\n  \tctx.fillStyle = template.background;\n  \tctx.fillRect(0, 0, width, height);\n  \tctx.fillStyle = template.foreground;\n  \tctx.font = \"bold \" + text_height + \"px \"+font;\n  \tvar text = template.text ? template.text : (dimensions.width + \"x\" + dimensions.height);\n  \tif (ctx.measureText(text).width / width > 1) {\n  \t\ttext_height = template.size / (ctx.measureText(text).width / width);\n  \t}\n  \t//Resetting font size if necessary\n  \tctx.font = \"bold \" + (text_height * ratio) + \"px \"+font;\n  \tctx.fillText(text, (width / 2), (height / 2), width);\n  \treturn canvas.toDataURL(\"image/png\");\n  }\n\n  function render(mode, el, holder, src) {\n  \tvar dimensions = holder.dimensions,\n  \t\ttheme = holder.theme,\n  \t\ttext = holder.text ? decodeURIComponent(holder.text) : holder.text;\n  \tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n  \ttheme = (text ? extend(theme, {\ttext: text }) : theme);\n  \ttheme = (holder.font ? extend(theme, {font: holder.font}) : theme);\n\n  \tvar ratio = 1;\n  \tif(window.devicePixelRatio && window.devicePixelRatio > 1){\n  \t\tratio = window.devicePixelRatio;\n  \t}\n\n  \tif (mode == \"image\") {\n  \t\tel.setAttribute(\"data-src\", src);\n  \t\tel.setAttribute(\"alt\", text ? text : theme.text ? theme.text + \" [\" + dimensions_caption + \"]\" : dimensions_caption);\n\n  \t\tif(fallback || !holder.auto){\n  \t\t    el.style.width = dimensions.width + \"px\";\n  \t\t    el.style.height = dimensions.height + \"px\";\n  \t\t}\n\n  \t\tif (fallback) {\n  \t\t\tel.style.backgroundColor = theme.background;\n\n  \t\t}\n  \t\telse{\n  \t\t\tel.setAttribute(\"src\", draw(ctx, dimensions, theme, ratio));\n  \t\t}\n  \t} else {\n  \t\tif (!fallback) {\n  \t\t\tel.style.backgroundImage = \"url(\" + draw(ctx, dimensions, theme, ratio) + \")\";\n  \t\t\tel.style.backgroundSize = dimensions.width+\"px \"+dimensions.height+\"px\";\n  \t\t}\n  \t}\n  };\n\n  function fluid(el, holder, src) {\n  \tvar dimensions = holder.dimensions,\n  \t\ttheme = holder.theme,\n  \t\ttext = holder.text;\n  \tvar dimensions_caption = dimensions.width + \"x\" + dimensions.height;\n  \ttheme = (text ? extend(theme, {\n  \t\ttext: text\n  \t}) : theme);\n\n  \tvar fluid = document.createElement(\"div\");\n\n  \tfluid.style.backgroundColor = theme.background;\n  \tfluid.style.color = theme.foreground;\n  \tfluid.className = el.className + \" holderjs-fluid\";\n  \tfluid.style.width = holder.dimensions.width + (holder.dimensions.width.indexOf(\"%\")>0?\"\":\"px\");\n  \tfluid.style.height = holder.dimensions.height + (holder.dimensions.height.indexOf(\"%\")>0?\"\":\"px\");\n  \tfluid.id = el.id;\n\n  \tel.style.width=0;\n  \tel.style.height=0;\n\n  \tif (theme.text) {\n  \t\tfluid.appendChild(document.createTextNode(theme.text))\n  \t} else {\n  \t\tfluid.appendChild(document.createTextNode(dimensions_caption))\n  \t\tfluid_images.push(fluid);\n  \t\tsetTimeout(fluid_update, 0);\n  \t}\n\n  \tel.parentNode.insertBefore(fluid, el.nextSibling)\n\n  \tif(window.jQuery){\n  \t    jQuery(function($){\n  \t\t$(el).on(\"load\", function(){\n  \t\t   el.style.width = fluid.style.width;\n  \t\t   el.style.height = fluid.style.height;\n  \t\t   $(el).show();\n  \t\t   $(fluid).remove();\n  \t\t});\n  \t    })\n  \t}\n  }\n\n  function fluid_update() {\n  \tfor (i in fluid_images) {\n  \t\tif(!fluid_images.hasOwnProperty(i)) continue;\n  \t\tvar el = fluid_images[i],\n  \t\t\tlabel = el.firstChild;\n\n  \t\tel.style.lineHeight = el.offsetHeight+\"px\";\n  \t\tlabel.data = el.offsetWidth + \"x\" + el.offsetHeight;\n  \t}\n  }\n\n  function parse_flags(flags, options) {\n\n  \tvar ret = {\n  \t\ttheme: settings.themes.gray\n  \t}, render = false;\n\n  \tfor (sl = flags.length, j = 0; j < sl; j++) {\n  \t\tvar flag = flags[j];\n  \t\tif (app.flags.dimensions.match(flag)) {\n  \t\t\trender = true;\n  \t\t\tret.dimensions = app.flags.dimensions.output(flag);\n  \t\t} else if (app.flags.fluid.match(flag)) {\n  \t\t\trender = true;\n  \t\t\tret.dimensions = app.flags.fluid.output(flag);\n  \t\t\tret.fluid = true;\n  \t\t} else if (app.flags.colors.match(flag)) {\n  \t\t\tret.theme = app.flags.colors.output(flag);\n  \t\t} else if (options.themes[flag]) {\n  \t\t\t//If a theme is specified, it will override custom colors\n  \t\t\tret.theme = options.themes[flag];\n  \t\t} else if (app.flags.text.match(flag)) {\n  \t\t\tret.text = app.flags.text.output(flag);\n  \t\t} else if(app.flags.font.match(flag)){\n  \t\t\tret.font = app.flags.font.output(flag);\n  \t\t}\n  \t\telse if(app.flags.auto.match(flag)){\n  \t\t\tret.auto = true;\n  \t\t}\n  \t}\n\n  \treturn render ? ret : false;\n\n  };\n\n  if (!canvas.getContext) {\n  \tfallback = true;\n  } else {\n  \tif (canvas.toDataURL(\"image/png\")\n  \t\t.indexOf(\"data:image/png\") < 0) {\n  \t\t//Android doesn't support data URI\n  \t\tfallback = true;\n  \t} else {\n  \t\tvar ctx = canvas.getContext(\"2d\");\n  \t}\n  }\n\n  var fluid_images = [];\n\n  var settings = {\n  \tdomain: \"holder.js\",\n  \timages: \"img\",\n  \tbgnodes: \".holderjs\",\n  \tthemes: {\n  \t\t\"gray\": {\n  \t\t\tbackground: \"#eee\",\n  \t\t\tforeground: \"#aaa\",\n  \t\t\tsize: 12\n  \t\t},\n  \t\t\t\"social\": {\n  \t\t\tbackground: \"#3a5a97\",\n  \t\t\tforeground: \"#fff\",\n  \t\t\tsize: 12\n  \t\t},\n  \t\t\t\"industrial\": {\n  \t\t\tbackground: \"#434A52\",\n  \t\t\tforeground: \"#C2F200\",\n  \t\t\tsize: 12\n  \t\t}\n  \t},\n  \tstylesheet: \".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}\"\n  };\n\n\n  app.flags = {\n  \tdimensions: {\n  \t\tregex: /^(\\d+)x(\\d+)$/,\n  \t\toutput: function (val) {\n  \t\t\tvar exec = this.regex.exec(val);\n  \t\t\treturn {\n  \t\t\t\twidth: +exec[1],\n  \t\t\t\theight: +exec[2]\n  \t\t\t}\n  \t\t}\n  \t},\n  \tfluid: {\n  \t\tregex: /^([0-9%]+)x([0-9%]+)$/,\n  \t\toutput: function (val) {\n  \t\t\tvar exec = this.regex.exec(val);\n  \t\t\treturn {\n  \t\t\t\twidth: exec[1],\n  \t\t\t\theight: exec[2]\n  \t\t\t}\n  \t\t}\n  \t},\n  \tcolors: {\n  \t\tregex: /#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,\n  \t\toutput: function (val) {\n  \t\t\tvar exec = this.regex.exec(val);\n  \t\t\treturn {\n  \t\t\t\tsize: settings.themes.gray.size,\n  \t\t\t\tforeground: \"#\" + exec[2],\n  \t\t\t\tbackground: \"#\" + exec[1]\n  \t\t\t}\n  \t\t}\n  \t},\n  \ttext: {\n  \t\tregex: /text\\:(.*)/,\n  \t\toutput: function (val) {\n  \t\t\treturn this.regex.exec(val)[1];\n  \t\t}\n  \t},\n  \tfont: {\n  \t    regex: /font\\:(.*)/,\n  \t    output: function(val){\n  \t\treturn this.regex.exec(val)[1];\n  \t    }\n  \t},\n  \tauto: {\n  \t    regex: /^auto$/\n  \t}\n  }\n\n  for (var flag in app.flags) {\n  \tif(!app.flags.hasOwnProperty(flag)) continue;\n  \tapp.flags[flag].match = function (val) {\n  \t\treturn val.match(this.regex)\n  \t}\n  }\n\n  app.add_theme = function (name, theme) {\n  \tname != null && theme != null && (settings.themes[name] = theme);\n  \treturn app;\n  };\n\n  app.add_image = function (src, el) {\n  \tvar node = selector(el);\n  \tif (node.length) {\n  \t\tfor (var i = 0, l = node.length; i < l; i++) {\n  \t\t\tvar img = document.createElement(\"img\")\n  \t\t\timg.setAttribute(\"data-src\", src);\n  \t\t\tnode[i].appendChild(img);\n  \t\t}\n  \t}\n  \treturn app;\n  };\n\n  app.run = function (o) {\n  \tvar options = extend(settings, o), images = [];\n\n  \tif(options.images instanceof window.NodeList){\n  \t    imageNodes = options.images;\n  \t}\n  \telse if(options.images instanceof window.Node){\n  \t    imageNodes = [options.images];\n  \t}\n  \telse{\n  \t    imageNodes = selector(options.images);\n  \t}\n\n  \tif(options.elements instanceof window.NodeList){\n  \t    bgnodes = options.bgnodes;\n  \t}\n  \telse if(options.bgnodes instanceof window.Node){\n  \t    bgnodes = [options.bgnodes];\n  \t}\n  \telse{\n  \t    bgnodes = selector(options.bgnodes);\n  \t}\n\n  \tpreempted = true;\n\n  \tfor (i = 0, l = imageNodes.length; i < l; i++) images.push(imageNodes[i]);\n\n  \tvar holdercss = document.getElementById(\"holderjs-style\");\n\n  \tif(!holdercss){\n  \t    holdercss = document.createElement(\"style\");\n  \t    holdercss.setAttribute(\"id\", \"holderjs-style\");\n  \t    holdercss.type = \"text/css\";\n  \t    document.getElementsByTagName(\"head\")[0].appendChild(holdercss);\n  \t}\n\n  \tif(holdercss.styleSheet){\n  \t    holdercss.styleSheet += options.stylesheet;\n  \t}\n  \telse{\n  \t    holdercss.textContent+= options.stylesheet;\n  \t}\n\n  \tvar cssregex = new RegExp(options.domain + \"\\/(.*?)\\\"?\\\\)\");\n\n  \tfor (var l = bgnodes.length, i = 0; i < l; i++) {\n  \t\tvar src = window.getComputedStyle(bgnodes[i], null)\n  \t\t\t.getPropertyValue(\"background-image\");\n  \t\tvar flags = src.match(cssregex);\n  \t\tif (flags) {\n  \t\t\tvar holder = parse_flags(flags[1].split(\"/\"), options);\n  \t\t\tif (holder) {\n  \t\t\t\trender(\"background\", bgnodes[i], holder, src);\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \tfor (var l = images.length, i = 0; i < l; i++) {\n  \t\tvar src = images[i].getAttribute(\"src\") || images[i].getAttribute(\"data-src\");\n  \t\tif (src != null && src.indexOf(options.domain) >= 0) {\n  \t\t\tvar holder = parse_flags(src.substr(src.lastIndexOf(options.domain) + options.domain.length + 1)\n  \t\t\t\t.split(\"/\"), options);\n  \t\t\tif (holder) {\n  \t\t\t\tif (holder.fluid) {\n  \t\t\t\t\tfluid(images[i], holder, src);\n  \t\t\t\t} else {\n  \t\t\t\t\trender(\"image\", images[i], holder, src);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n  \t}\n  \treturn app;\n  };\n\n  contentLoaded(win, function () {\n  \tif (window.addEventListener) {\n  \t\twindow.addEventListener(\"resize\", fluid_update, false);\n  \t\twindow.addEventListener(\"orientationchange\", fluid_update, false);\n  \t} else {\n  \t\twindow.attachEvent(\"onresize\", fluid_update)\n  \t}\n  \tpreempted || app.run();\n  });\n\n  if ( typeof define === \"function\" && define.amd ) {\n  \tdefine( \"Holder\", [], function () { return app; } );\n  }\n\n  })(Holder, window);\n\n  module.exports = Holder;\n}());","(function() {\n  var Backbone = require('backbone')\n    , _ = require('lodash')\n    , $ = require('./JqueryLoader.js')\n    , proxiedSync = Backbone.sync;\n\n  Backbone.$ = $;\n\n  Backbone.sync = function(method, model, options) {\n    options = options || {};\n\n    options.attrs = options.attrs || _.clone(model.toJSON());\n    options.timeout = options.timeout || 20000;\n    options.parse = options.parse || true;\n\n    if (model.urlRoot && model.methodUrl) {\n      options.url = model.methodUrl(method.toLowerCase());\n    }\n    else if(typeof model.url === 'function') {\n      options.url = model.url();\n    }\n    else if(model.url) {\n      options.url = model.url;\n    }\n\n    if (!options.crossDomain) {\n      options.crossDomain = true;\n    }\n\n    if (!options.xhrFields) {\n      options.xhrFields = {withCredentials:true};\n    }\n\n    /**\n    * Proxy the success function if the user defined one\n    */\n    if(options.success) {\n      var proxiedSuccess = options.success;\n\n      options.success = function(data, textStatus, jqXHR) {\n        var errors;\n\n        if(data[model.name] && data[model.name].errors) {\n          errors = data[model.name].errors;\n        }\n        else if(data.error) {\n          errors = data.error;\n        }\n        else if(data.errors) {\n          errors = data.errors;\n        }\n\n        if(errors) {\n\n          /**\n          * Delegates to the error handler if one is defined\n          */\n          if(options.error) {\n            var sendToErrorhandler = function() {\n              options.error({responseText:JSON.stringify({errors:errors})});\n            };\n\n            //If there was an error, we need to restore the last known \"good\" state of the model\n\n            //Avoid going into an infinite loop if read produces an error\n            if(method !== \"read\") {\n              model.fetch({\n                success: function() {\n                  sendToErrorhandler();\n                },\n                error: function() {\n                  sendToErrorhandler();\n                }\n              });\n            }\n            else {\n              sendToErrorhandler();\n            }\n          }\n          else {\n            return proxiedSuccess(data, textStatus, jqXHR);\n          }\n        }\n        else {\n          return proxiedSuccess(data, textStatus, jqXHR);\n        }\n      }\n    }\n\n    return proxiedSync(method, model, options);\n  };\n\n  module.exports = Backbone;\n}());","(function () {\n  var path = require('path')\n    , _ = require('lodash')\n    , delay = 1\n\n  /**\n  * Model definitions\n  */\n  , models = {\n      'user': require('../models/user')\n    , 'image': require('../models/image')\n    , 'video': require('../models/video')\n    , 'page': require('../models/page')\n    , 'customization': require('../models/customization')\n    }\n\n  /**\n  * Collection definitions\n  */\n  , collections = {\n      'pagemedia': require('../collections/pageMedia')\n    , 'pages': require('../collections/pages')\n    , 'unprocesseduploads': require('../collections/unprocessedUploads')\n    , 'images': require('../collections/images')\n    , 'videos': require('../collections/videos')\n    }\n\n  /**\n  * db: database, but not really, just an interface (:\n  *\n  * Makes models and collections not stupid\n  */\n  , db = function (App) {\n    var self = this;\n\n    this.cache = {};\n\n    /**\n    * Creates a new model\n    * @param {string} modelName - The name of the model you want (e.g. 'posts')\n    */\n    this.createModel = function (modelName, attrs) {\n      modelName = modelName.toLowerCase();\n      attrs = attrs || {};\n\n      if(_.find(models, function (v,key) { return key === modelName;})) {\n        return new models[modelName](attrs, {app:App});\n      }\n      else {\n        throw new Error('Cannot find Model \"' + modelName + '\"');\n      }\n    };\n\n    /**\n    * Creates a new collection\n    * @param {string} collectionName - The name of the collection you want (e.g. 'posts')\n    * @param {object} options - The options to supply the constructor\n    */\n    this.createCollection = function (collectionName, attributes) {\n      collectionName = collectionName.toLowerCase();\n\n      attributes = attributes || {};\n      attributes = _.clone(attributes);\n      attributes.app = App;\n\n      if(_.find(collections, function (v,key) { return key === collectionName;})) {\n        return new collections[collectionName]([], attributes);\n      }\n      else {\n        throw new Error('Cannot find Collection \"' + collectionName + '\"');\n      }\n    };\n\n    /**\n    * Fetches a model by ID\n    * Under the surface, this will try to use the local cache if possible\n    * @param {string} modelName - The name of the model you want (e.g. 'posts')\n    * @param {string} [id] - The id of the model you want\n    * @param {Array} [attributes] - The attributes to set (will skip fetch if defined)\n    */\n    this.fetchModel = function (modelName, id, attributes) {\n      modelName = modelName.toLowerCase();\n\n      var cacheKey = 'uuid://models/' + modelName + (id ? '/' + id : '')\n        , modelObj;\n\n      // Is the model already in the cache?\n      if(self.cache[cacheKey]) {\n        modelObj = self.cache[cacheKey];\n\n        // Trigger the fetch event on the next cycle\n        // Which will give our user time to .listenTo() etc\n        setTimeout(function () {\n          // Only trigger if already loaded. Otherwise wait for\n          // the fetch operation to do it for us\n          if(modelObj.isFetched) {\n            modelObj.trigger('ready');\n          }\n        }, delay);\n      }\n      // If not, create a new model, set the id, and fetch!\n      else {\n        modelObj = this.createModel(modelName);\n        self.cache[cacheKey] = modelObj;\n\n        if(attributes) {\n          modelObj.set(attributes);\n        }\n        if(id) {\n          modelObj.set({id:id});\n        }\n\n        // Trigger the fetch event on the next cycle\n        // Which will give our user time to .listenTo() etc\n        setTimeout(function () {\n          if(attributes) {\n            modelObj.isFetched = true;\n            modelObj.trigger('ready');\n          }\n          else {\n            modelObj.fetch({\n              success: function () {\n                // Trigger the `ready` event after data has loaded\n                modelObj.isFetched = true;\n                modelObj.trigger('ready');\n              }\n            , error: function () {\n                // Trigger the `ready` event after data has loaded\n                modelObj.isFetched = true;\n                modelObj.trigger('ready');\n\n                // Call the error handler\n                App.error.apply(App, arguments);\n              }\n            });\n          }\n        }, delay);\n      }\n\n      return modelObj;\n    };\n\n    /**\n    * Fetches a collection by attributes\n    * Under the surface, this will try to use the local cache if possible\n    * @param {string} collectionName - The name of the collection you want (e.g. 'posts')\n    * @param {object} attributes - The attributes to initialize the collection with\n    */\n    this.fetchCollection = function (collectionName, attributes) {\n      collectionName = collectionName.toLowerCase();\n\n      var safeAttrs = _.filter(attributes, function (v, k) {return k != 'app';})\n        , cacheKey = 'uuid://collections/' + collectionName + '/' + JSON.stringify(safeAttrs)\n        , collectionObj;\n\n      // Is the collection already in the cache?\n      if(self.cache[cacheKey]) {\n        collectionObj = self.cache[cacheKey];\n\n        // Trigger the fetch event on the next cycle\n        // Which will give our user time to .listenTo() etc\n        setTimeout(function () {\n          // Only trigger if already loaded. Otherwise wait for\n          // the fetch operation to do it for us\n          if(collectionObj.isFetched) {\n            collectionObj.trigger('ready');\n          }\n        }, delay);\n      }\n      // If not, create a new collection, set the id, and fetch!\n      else {\n        collectionObj = this.createCollection(collectionName, attributes);\n        self.cache[cacheKey] = collectionObj;\n\n        // Trigger the fetch event on the next cycle\n        // Which will give our user time to .listenTo() etc\n        setTimeout(function () {\n          collectionObj.fetch({\n            success: function () {\n              // Trigger the `ready` event after data has loaded\n              collectionObj.isFetched = true;\n              collectionObj.trigger('ready');\n            }\n          });\n        }, delay);\n      }\n\n      return collectionObj;\n    };\n  };\n\n  module.exports = db;\n}());\n","(function () {\n  var $ = require('jquery-browserify');\n\n  // Applies the plugins\n  (require('./lib/elastislide'))($, window);\n  (require('./lib/switch'))($, window);\n  (require('./lib/sortable'))($, window);\n  (require('./lib/tags'))($, window);\n  (require('./lib/bootstrap-button'))($, window);\n  (require('./lib/bootstrap-tooltip'))($, window);\n  (require('./lib/bootstrap-popover'))($, window);\n  (require('./lib/bootstrap-alert'))($, window);\n\n  module.exports = $;\n}());","(function () {\n  var Backbone = require('../helpers/BackboneLoader.js')\n    , BaseModel = Backbone.Model.extend({\n        initialize: function(attributes, opts) {\n          this.set(attributes);\n          this.app = opts.app || {};\n        }\n      , methodUrl: function(method) {\n          var root;\n\n          if(typeof this.urlRoot === 'function') {\n            root = this.urlRoot();\n          }\n          else if(this.urlRoot) {\n            root = this.urlRoot;\n          }\n\n          if(method == \"delete\"){\n            return root + \"/\" +this.attributes.id+\".json\";\n          }\n          else if(method == \"update\"){\n            return root + \"/\" +this.attributes.id+\".json\";\n          }\n          else if(method == \"read\"){\n            return root + \"/\" +this.attributes.id+\".json\";\n          }\n          else if(method == \"create\"){\n            return root + \".json\";\n          }\n          return false;\n        }\n      });\n\n  module.exports = BaseModel;\n}());","(function () {\n  var Backbone = require('../helpers/BackboneLoader.js')\n    , Collection = Backbone.Collection.extend({\n        initialize: function(models, opts) {\n          this.set(models);\n          this.app = opts.app || {};\n        }\n      });\n  \n  module.exports = Collection;\n}());","// Uses Node, AMD or browser globals to create a module.\n\n// If you want something that will work in other stricter CommonJS environments,\n// or if you need to create a circular dependency, see commonJsStrict.js\n\n// Defines a module \"returnExports\" that depends another module called \"b\".\n// Note that the name of the module is implied by the file name. It is best\n// if the file name and the exported global have matching names.\n\n// If the 'b' module also uses this type of boilerplate, then\n// in the browser, it will create a global .b that is used below.\n\n// If you do not want to support the browser global path, then you\n// can remove the `root` use and the passing `this` as the first arg to\n// the top function.\n\n(function (root, factory) {\n    if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else {\n        // Browser globals\n        root.returnExports = factory();\n    }\n}(this, function () {/*!\n * jQuery JavaScript Library v1.8.1\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright 2012 jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: Thu Aug 30 2012 17:17:22 GMT-0400 (Eastern Daylight Time)\n */\nreturn (function( window, undefined ) {\nvar\n\t// A central reference to the root jQuery(document)\n\trootjQuery,\n\n\t// The deferred used on DOM ready\n\treadyList,\n\n\t// Use the correct document accordingly with window argument (sandbox)\n\tdocument = window.document,\n\tlocation = window.location,\n\tnavigator = window.navigator,\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$,\n\n\t// Save a reference to some core methods\n\tcore_push = Array.prototype.push,\n\tcore_slice = Array.prototype.slice,\n\tcore_indexOf = Array.prototype.indexOf,\n\tcore_toString = Object.prototype.toString,\n\tcore_hasOwn = Object.prototype.hasOwnProperty,\n\tcore_trim = String.prototype.trim,\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\treturn new jQuery.fn.init( selector, context, rootjQuery );\n\t},\n\n\t// Used for matching numbers\n\tcore_pnum = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source,\n\n\t// Used for detecting and trimming whitespace\n\tcore_rnotwhite = /\\S/,\n\tcore_rspace = /\\s+/,\n\n\t// Make sure we trim BOM and NBSP (here's looking at you, Safari 5.0 and IE)\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\trquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,\n\n\t// Match a standalone tag\n\trsingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n\n\t// JSON RegExp\n\trvalidchars = /^[\\],:{}\\s]*$/,\n\trvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g,\n\trvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g,\n\trvalidtokens = /\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([\\da-z])/gi,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn ( letter + \"\" ).toUpperCase();\n\t},\n\n\t// The ready event handler and self cleanup method\n\tDOMContentLoaded = function() {\n\t\tif ( document.addEventListener ) {\n\t\t\tdocument.removeEventListener( \"DOMContentLoaded\", DOMContentLoaded, false );\n\t\t\tjQuery.ready();\n\t\t} else if ( document.readyState === \"complete\" ) {\n\t\t\t// we're here because readyState === \"complete\" in oldIE\n\t\t\t// which is good enough for us to call the dom ready!\n\t\t\tdocument.detachEvent( \"onreadystatechange\", DOMContentLoaded );\n\t\t\tjQuery.ready();\n\t\t}\n\t},\n\n\t// [[Class]] -> type pairs\n\tclass2type = {};\n\njQuery.fn = jQuery.prototype = {\n\tconstructor: jQuery,\n\tinit: function( selector, context, rootjQuery ) {\n\t\tvar match, elem, ret, doc;\n\n\t\t// Handle $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Handle $(DOMElement)\n\t\tif ( selector.nodeType ) {\n\t\t\tthis.context = this[0] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector.charAt(0) === \"<\" && selector.charAt( selector.length - 1 ) === \">\" && selector.length >= 3 ) {\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && (match[1] || !context) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[1] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\n\t\t\t\t\tdoc = ( context && context.nodeType ? context.ownerDocument || context : document );\n\n\t\t\t\t\t// scripts is true for back-compat\n\t\t\t\t\tselector = jQuery.parseHTML( match[1], doc, true );\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tthis.attr.call( selector, context, true );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.merge( this, selector );\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[2] );\n\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Handle the case where IE and Opera return items\n\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\tif ( elem.id !== match[2] ) {\n\t\t\t\t\t\t\treturn rootjQuery.find( selector );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Otherwise, we inject the element directly into the jQuery object\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t\tthis[0] = elem;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.context = document;\n\t\t\t\t\tthis.selector = selector;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn rootjQuery.ready( selector );\n\t\t}\n\n\t\tif ( selector.selector !== undefined ) {\n\t\t\tthis.selector = selector.selector;\n\t\t\tthis.context = selector.context;\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t},\n\n\t// Start with an empty selector\n\tselector: \"\",\n\n\t// The current version of jQuery being used\n\tjquery: \"1.8.1\",\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\t// The number of elements contained in the matched element set\n\tsize: function() {\n\t\treturn this.length;\n\t},\n\n\ttoArray: function() {\n\t\treturn core_slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\t\treturn num == null ?\n\n\t\t\t// Return a 'clean' array\n\t\t\tthis.toArray() :\n\n\t\t\t// Return just the object\n\t\t\t( num < 0 ? this[ this.length + num ] : this[ num ] );\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems, name, selector ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\tret.context = this.context;\n\n\t\tif ( name === \"find\" ) {\n\t\t\tret.selector = this.selector + ( this.selector ? \" \" : \"\" ) + selector;\n\t\t} else if ( name ) {\n\t\t\tret.selector = this.selector + \".\" + name + \"(\" + selector + \")\";\n\t\t}\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\t// (You can seed the arguments with an array of args, but this is\n\t// only used internally.)\n\teach: function( callback, args ) {\n\t\treturn jQuery.each( this, callback, args );\n\t},\n\n\tready: function( fn ) {\n\t\t// Add the callback\n\t\tjQuery.ready.promise().done( fn );\n\n\t\treturn this;\n\t},\n\n\teq: function( i ) {\n\t\ti = +i;\n\t\treturn i === -1 ?\n\t\t\tthis.slice( i ) :\n\t\t\tthis.slice( i, i + 1 );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( core_slice.apply( this, arguments ),\n\t\t\t\"slice\", core_slice.call(arguments).join(\",\") );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t}));\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor(null);\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: core_push,\n\tsort: [].sort,\n\tsplice: [].splice\n};\n\n// Give the init function the jQuery prototype for later instantiation\njQuery.fn.init.prototype = jQuery.fn;\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\n\t\ttarget = {};\n\t}\n\n\t// extend jQuery itself if only one argument is passed\n\tif ( length === i ) {\n\t\ttarget = this;\n\t\t--i;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ( (options = arguments[ i ]) != null ) {\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend({\n\tnoConflict: function( deep ) {\n\t\tif ( window.$ === jQuery ) {\n\t\t\twindow.$ = _$;\n\t\t}\n\n\t\tif ( deep && window.jQuery === jQuery ) {\n\t\t\twindow.jQuery = _jQuery;\n\t\t}\n\n\t\treturn jQuery;\n\t},\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n\t\tif ( !document.body ) {\n\t\t\treturn setTimeout( jQuery.ready, 1 );\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\n\t\t// Trigger any bound ready events\n\t\tif ( jQuery.fn.trigger ) {\n\t\t\tjQuery( document ).trigger(\"ready\").off(\"ready\");\n\t\t}\n\t},\n\n\t// See test/unit/core.js for details concerning isFunction.\n\t// Since version 1.3, DOM methods and functions like alert\n\t// aren't supported. They return false on IE (#2968).\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type(obj) === \"function\";\n\t},\n\n\tisArray: Array.isArray || function( obj ) {\n\t\treturn jQuery.type(obj) === \"array\";\n\t},\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj == obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\t\treturn !isNaN( parseFloat(obj) ) && isFinite( obj );\n\t},\n\n\ttype: function( obj ) {\n\t\treturn obj == null ?\n\t\t\tString( obj ) :\n\t\t\tclass2type[ core_toString.call(obj) ] || \"object\";\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\t// Must be an Object.\n\t\t// Because of IE, we also have to check the presence of the constructor property.\n\t\t// Make sure that DOM nodes and window objects don't pass through, as well\n\t\tif ( !obj || jQuery.type(obj) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t// Not own constructor property must be Object\n\t\t\tif ( obj.constructor &&\n\t\t\t\t!core_hasOwn.call(obj, \"constructor\") &&\n\t\t\t\t!core_hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\") ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\t// IE8,9 Will throw exceptions on certain host objects #9897\n\t\t\treturn false;\n\t\t}\n\n\t\t// Own properties are enumerated firstly, so to speed up,\n\t\t// if last one is own, then all properties are own.\n\n\t\tvar key;\n\t\tfor ( key in obj ) {}\n\n\t\treturn key === undefined || core_hasOwn.call( obj, key );\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\t// data: string of html\n\t// context (optional): If specified, the fragment will be created in this context, defaults to document\n\t// scripts (optional): If true, will include scripts passed in the html string\n\tparseHTML: function( data, context, scripts ) {\n\t\tvar parsed;\n\t\tif ( !data || typeof data !== \"string\" ) {\n\t\t\treturn null;\n\t\t}\n\t\tif ( typeof context === \"boolean\" ) {\n\t\t\tscripts = context;\n\t\t\tcontext = 0;\n\t\t}\n\t\tcontext = context || document;\n\n\t\t// Single tag\n\t\tif ( (parsed = rsingleTag.exec( data )) ) {\n\t\t\treturn [ context.createElement( parsed[1] ) ];\n\t\t}\n\n\t\tparsed = jQuery.buildFragment( [ data ], context, scripts ? null : [] );\n\t\treturn jQuery.merge( [],\n\t\t\t(parsed.cacheable ? jQuery.clone( parsed.fragment ) : parsed.fragment).childNodes );\n\t},\n\n\tparseJSON: function( data ) {\n\t\tif ( !data || typeof data !== \"string\") {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Make sure leading/trailing whitespace is removed (IE can't handle it)\n\t\tdata = jQuery.trim( data );\n\n\t\t// Attempt to parse using the native JSON parser first\n\t\tif ( window.JSON && window.JSON.parse ) {\n\t\t\treturn window.JSON.parse( data );\n\t\t}\n\n\t\t// Make sure the incoming data is actual JSON\n\t\t// Logic borrowed from http://json.org/json2.js\n\t\tif ( rvalidchars.test( data.replace( rvalidescape, \"@\" )\n\t\t\t.replace( rvalidtokens, \"]\" )\n\t\t\t.replace( rvalidbraces, \"\")) ) {\n\n\t\t\treturn ( new Function( \"return \" + data ) )();\n\n\t\t}\n\t\tjQuery.error( \"Invalid JSON: \" + data );\n\t},\n\n\t// Cross-browser xml parsing\n\tparseXML: function( data ) {\n\t\tvar xml, tmp;\n\t\tif ( !data || typeof data !== \"string\" ) {\n\t\t\treturn null;\n\t\t}\n\t\ttry {\n\t\t\tif ( window.DOMParser ) { // Standard\n\t\t\t\ttmp = new DOMParser();\n\t\t\t\txml = tmp.parseFromString( data , \"text/xml\" );\n\t\t\t} else { // IE\n\t\t\t\txml = new ActiveXObject( \"Microsoft.XMLDOM\" );\n\t\t\t\txml.async = \"false\";\n\t\t\t\txml.loadXML( data );\n\t\t\t}\n\t\t} catch( e ) {\n\t\t\txml = undefined;\n\t\t}\n\t\tif ( !xml || !xml.documentElement || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\t\tjQuery.error( \"Invalid XML: \" + data );\n\t\t}\n\t\treturn xml;\n\t},\n\n\tnoop: function() {},\n\n\t// Evaluates a script in a global context\n\t// Workarounds based on findings by Jim Driscoll\n\t// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\n\tglobalEval: function( data ) {\n\t\tif ( data && core_rnotwhite.test( data ) ) {\n\t\t\t// We use execScript on Internet Explorer\n\t\t\t// We use an anonymous function so that context is window\n\t\t\t// rather than jQuery in Firefox\n\t\t\t( window.execScript || function( data ) {\n\t\t\t\twindow[ \"eval\" ].call( window, data );\n\t\t\t} )( data );\n\t\t}\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toUpperCase() === name.toUpperCase();\n\t},\n\n\t// args is for internal usage only\n\teach: function( obj, callback, args ) {\n\t\tvar name,\n\t\t\ti = 0,\n\t\t\tlength = obj.length,\n\t\t\tisObj = length === undefined || jQuery.isFunction( obj );\n\n\t\tif ( args ) {\n\t\t\tif ( isObj ) {\n\t\t\t\tfor ( name in obj ) {\n\t\t\t\t\tif ( callback.apply( obj[ name ], args ) === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( ; i < length; ) {\n\t\t\t\t\tif ( callback.apply( obj[ i++ ], args ) === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// A special, fast, case for the most common use of each\n\t\t} else {\n\t\t\tif ( isObj ) {\n\t\t\t\tfor ( name in obj ) {\n\t\t\t\t\tif ( callback.call( obj[ name ], name, obj[ name ] ) === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( ; i < length; ) {\n\t\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i++ ] ) === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Use native String.trim function wherever possible\n\ttrim: core_trim && !core_trim.call(\"\\uFEFF\\xA0\") ?\n\t\tfunction( text ) {\n\t\t\treturn text == null ?\n\t\t\t\t\"\" :\n\t\t\t\tcore_trim.call( text );\n\t\t} :\n\n\t\t// Otherwise use our own trimming functionality\n\t\tfunction( text ) {\n\t\t\treturn text == null ?\n\t\t\t\t\"\" :\n\t\t\t\ttext.toString().replace( rtrim, \"\" );\n\t\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar type,\n\t\t\tret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\t// The window, strings (and functions) also have 'length'\n\t\t\t// Tweaked logic slightly to handle Blackberry 4.7 RegExp issues #6930\n\t\t\ttype = jQuery.type( arr );\n\n\t\t\tif ( arr.length == null || type === \"string\" || type === \"function\" || type === \"regexp\" || jQuery.isWindow( arr ) ) {\n\t\t\t\tcore_push.call( ret, arr );\n\t\t\t} else {\n\t\t\t\tjQuery.merge( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\tvar len;\n\n\t\tif ( arr ) {\n\t\t\tif ( core_indexOf ) {\n\t\t\t\treturn core_indexOf.call( arr, elem, i );\n\t\t\t}\n\n\t\t\tlen = arr.length;\n\t\t\ti = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t// Skip accessing in sparse arrays\n\t\t\t\tif ( i in arr && arr[ i ] === elem ) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t},\n\n\tmerge: function( first, second ) {\n\t\tvar l = second.length,\n\t\t\ti = first.length,\n\t\t\tj = 0;\n\n\t\tif ( typeof l === \"number\" ) {\n\t\t\tfor ( ; j < l; j++ ) {\n\t\t\t\tfirst[ i++ ] = second[ j ];\n\t\t\t}\n\n\t\t} else {\n\t\t\twhile ( second[j] !== undefined ) {\n\t\t\t\tfirst[ i++ ] = second[ j++ ];\n\t\t\t}\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, inv ) {\n\t\tvar retVal,\n\t\t\tret = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length;\n\t\tinv = !!inv;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tretVal = !!callback( elems[ i ], i );\n\t\t\tif ( inv !== retVal ) {\n\t\t\t\tret.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar value, key,\n\t\t\tret = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\t// jquery objects are treated as arrays\n\t\t\tisArray = elems instanceof jQuery || length !== undefined && typeof length === \"number\" && ( ( length > 0 && elems[ 0 ] && elems[ length -1 ] ) || length === 0 || jQuery.isArray( elems ) ) ;\n\n\t\t// Go through the array, translating each of the items to their\n\t\tif ( isArray ) {\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret[ ret.length ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( key in elems ) {\n\t\t\t\tvalue = callback( elems[ key ], key, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret[ ret.length ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn ret.concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = core_slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context, args.concat( core_slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || proxy.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\t// Multifunctional method to get and set values of a collection\n\t// The value/s can optionally be executed if it's a function\n\taccess: function( elems, fn, key, value, chainable, emptyGet, pass ) {\n\t\tvar exec,\n\t\t\tbulk = key == null,\n\t\t\ti = 0,\n\t\t\tlength = elems.length;\n\n\t\t// Sets many values\n\t\tif ( key && typeof key === \"object\" ) {\n\t\t\tfor ( i in key ) {\n\t\t\t\tjQuery.access( elems, fn, i, key[i], 1, emptyGet, value );\n\t\t\t}\n\t\t\tchainable = 1;\n\n\t\t// Sets one value\n\t\t} else if ( value !== undefined ) {\n\t\t\t// Optionally, function values get executed if exec is true\n\t\t\texec = pass === undefined && jQuery.isFunction( value );\n\n\t\t\tif ( bulk ) {\n\t\t\t\t// Bulk operations only iterate when executing function values\n\t\t\t\tif ( exec ) {\n\t\t\t\t\texec = fn;\n\t\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\t\treturn exec.call( jQuery( elem ), value );\n\t\t\t\t\t};\n\n\t\t\t\t// Otherwise they run against the entire set\n\t\t\t\t} else {\n\t\t\t\t\tfn.call( elems, value );\n\t\t\t\t\tfn = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( fn ) {\n\t\t\t\tfor (; i < length; i++ ) {\n\t\t\t\t\tfn( elems[i], key, exec ? value.call( elems[i], i, fn( elems[i], key ) ) : value, pass );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tchainable = 1;\n\t\t}\n\n\t\treturn chainable ?\n\t\t\telems :\n\n\t\t\t// Gets\n\t\t\tbulk ?\n\t\t\t\tfn.call( elems ) :\n\t\t\t\tlength ? fn( elems[0], key ) : emptyGet;\n\t},\n\n\tnow: function() {\n\t\treturn ( new Date() ).getTime();\n\t}\n});\n\njQuery.ready.promise = function( obj ) {\n\tif ( !readyList ) {\n\n\t\treadyList = jQuery.Deferred();\n\n\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\n\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\n\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n\t\tif ( document.readyState === \"complete\" ) {\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\tsetTimeout( jQuery.ready, 1 );\n\n\t\t// Standards-based browsers support DOMContentLoaded\n\t\t} else if ( document.addEventListener ) {\n\t\t\t// Use the handy event callback\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", DOMContentLoaded, false );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.addEventListener( \"load\", jQuery.ready, false );\n\n\t\t// If IE event model is used\n\t\t} else {\n\t\t\t// Ensure firing before onload, maybe late but safe also for iframes\n\t\t\tdocument.attachEvent( \"onreadystatechange\", DOMContentLoaded );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.attachEvent( \"onload\", jQuery.ready );\n\n\t\t\t// If IE and not a frame\n\t\t\t// continually check to see if the document is ready\n\t\t\tvar top = false;\n\n\t\t\ttry {\n\t\t\t\ttop = window.frameElement == null && document.documentElement;\n\t\t\t} catch(e) {}\n\n\t\t\tif ( top && top.doScroll ) {\n\t\t\t\t(function doScrollCheck() {\n\t\t\t\t\tif ( !jQuery.isReady ) {\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// Use the trick by Diego Perini\n\t\t\t\t\t\t\t// http://javascript.nwbox.com/IEContentLoaded/\n\t\t\t\t\t\t\ttop.doScroll(\"left\");\n\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\treturn setTimeout( doScrollCheck, 50 );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// and execute any waiting functions\n\t\t\t\t\t\tjQuery.ready();\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}\n\treturn readyList.promise( obj );\n};\n\n// Populate the class2type map\njQuery.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"), function(i, name) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n});\n\n// All jQuery objects should point back to these\nrootjQuery = jQuery(document);\n// String to Object options format cache\nvar optionsCache = {};\n\n// Convert String-formatted options into Object-formatted ones and store in cache\nfunction createOptions( options ) {\n\tvar object = optionsCache[ options ] = {};\n\tjQuery.each( options.split( core_rspace ), function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t});\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Last fire value (for non-forgettable lists)\n\t\tmemory,\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\t\t// Flag to know if list is currently firing\n\t\tfiring,\n\t\t// First callback to fire (used internally by add and fireWith)\n\t\tfiringStart,\n\t\t// End of the loop when firing\n\t\tfiringLength,\n\t\t// Index of currently firing callback (modified by remove if needed)\n\t\tfiringIndex,\n\t\t// Actual callback list\n\t\tlist = [],\n\t\t// Stack of fire calls for repeatable lists\n\t\tstack = !options.once && [],\n\t\t// Fire callbacks\n\t\tfire = function( data ) {\n\t\t\tmemory = options.memory && data;\n\t\t\tfired = true;\n\t\t\tfiringIndex = firingStart || 0;\n\t\t\tfiringStart = 0;\n\t\t\tfiringLength = list.length;\n\t\t\tfiring = true;\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\n\t\t\t\t\tmemory = false; // To prevent further calls using add\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiring = false;\n\t\t\tif ( list ) {\n\t\t\t\tif ( stack ) {\n\t\t\t\t\tif ( stack.length ) {\n\t\t\t\t\t\tfire( stack.shift() );\n\t\t\t\t\t}\n\t\t\t\t} else if ( memory ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t} else {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Actual Callbacks object\n\t\tself = {\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\t// First, we save the current length\n\t\t\t\t\tvar start = list.length;\n\t\t\t\t\t(function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\n\t\t\t\t\t\t\tif ( type === \"function\" && ( !options.unique || !self.has( arg ) ) ) {\n\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t})( arguments );\n\t\t\t\t\t// Do we need to add the callbacks to the\n\t\t\t\t\t// current firing batch?\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tfiringLength = list.length;\n\t\t\t\t\t// With memory, if we're not firing then\n\t\t\t\t\t// we should call right away\n\t\t\t\t\t} else if ( memory ) {\n\t\t\t\t\t\tfiringStart = start;\n\t\t\t\t\t\tfire( memory );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\twhile( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\t\tlist.splice( index, 1 );\n\t\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\n\t\t\t\t\t\t\t\t\tfiringLength--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Control if a given callback is in the list\n\t\t\thas: function( fn ) {\n\t\t\t\treturn jQuery.inArray( fn, list ) > -1;\n\t\t\t},\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tlist = [];\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Have the list do nothing anymore\n\t\t\tdisable: function() {\n\t\t\t\tlist = stack = memory = undefined;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it disabled?\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\t\t\t// Lock the list in its current state\n\t\t\tlock: function() {\n\t\t\t\tstack = undefined;\n\t\t\t\tif ( !memory ) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it locked?\n\t\t\tlocked: function() {\n\t\t\t\treturn !stack;\n\t\t\t},\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\targs = args || [];\n\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\tif ( list && ( !fired || stack ) ) {\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tstack.push( args );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfire( args );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\njQuery.extend({\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar action = tuple[ 0 ],\n\t\t\t\t\t\t\t\tfn = fns[ i ];\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[1] ]( jQuery.isFunction( fn ) ?\n\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\tvar returned = fn.apply( this, arguments );\n\t\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\n\t\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewDefer[ action + \"With\" ]( this === deferred ? newDefer : this, [ returned ] );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} :\n\t\t\t\t\t\t\t\tnewDefer[ action ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t}).promise();\n\t\t\t\t},\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn typeof obj === \"object\" ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[1] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(function() {\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ] = list.fire\n\t\t\tdeferred[ tuple[0] ] = list.fire;\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\n\t\t});\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = core_slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? core_slice.call( arguments ) : value;\n\t\t\t\t\tif( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\t\t\t\t\t} else if ( !( --remaining ) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject )\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n});\njQuery.support = (function() {\n\n\tvar support,\n\t\tall,\n\t\ta,\n\t\tselect,\n\t\topt,\n\t\tinput,\n\t\tfragment,\n\t\teventName,\n\t\ti,\n\t\tisSupported,\n\t\tclickFn,\n\t\tdiv = document.createElement(\"div\");\n\n\t// Preliminary tests\n\tdiv.setAttribute( \"className\", \"t\" );\n\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n\n\tall = div.getElementsByTagName(\"*\");\n\ta = div.getElementsByTagName(\"a\")[ 0 ];\n\ta.style.cssText = \"top:1px;float:left;opacity:.5\";\n\n\t// Can't get basic test support\n\tif ( !all || !all.length || !a ) {\n\t\treturn {};\n\t}\n\n\t// First batch of supports tests\n\tselect = document.createElement(\"select\");\n\topt = select.appendChild( document.createElement(\"option\") );\n\tinput = div.getElementsByTagName(\"input\")[ 0 ];\n\n\tsupport = {\n\t\t// IE strips leading whitespace when .innerHTML is used\n\t\tleadingWhitespace: ( div.firstChild.nodeType === 3 ),\n\n\t\t// Make sure that tbody elements aren't automatically inserted\n\t\t// IE will insert them into empty tables\n\t\ttbody: !div.getElementsByTagName(\"tbody\").length,\n\n\t\t// Make sure that link elements get serialized correctly by innerHTML\n\t\t// This requires a wrapper element in IE\n\t\thtmlSerialize: !!div.getElementsByTagName(\"link\").length,\n\n\t\t// Get the style information from getAttribute\n\t\t// (IE uses .cssText instead)\n\t\tstyle: /top/.test( a.getAttribute(\"style\") ),\n\n\t\t// Make sure that URLs aren't manipulated\n\t\t// (IE normalizes it by default)\n\t\threfNormalized: ( a.getAttribute(\"href\") === \"/a\" ),\n\n\t\t// Make sure that element opacity exists\n\t\t// (IE uses filter instead)\n\t\t// Use a regex to work around a WebKit issue. See #5145\n\t\topacity: /^0.5/.test( a.style.opacity ),\n\n\t\t// Verify style float existence\n\t\t// (IE uses styleFloat instead of cssFloat)\n\t\tcssFloat: !!a.style.cssFloat,\n\n\t\t// Make sure that if no value is specified for a checkbox\n\t\t// that it defaults to \"on\".\n\t\t// (WebKit defaults to \"\" instead)\n\t\tcheckOn: ( input.value === \"on\" ),\n\n\t\t// Make sure that a selected-by-default option has a working selected property.\n\t\t// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\n\t\toptSelected: opt.selected,\n\n\t\t// Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)\n\t\tgetSetAttribute: div.className !== \"t\",\n\n\t\t// Tests for enctype support on a form(#6743)\n\t\tenctype: !!document.createElement(\"form\").enctype,\n\n\t\t// Makes sure cloning an html5 element does not cause problems\n\t\t// Where outerHTML is undefined, this still works\n\t\thtml5Clone: document.createElement(\"nav\").cloneNode( true ).outerHTML !== \"<:nav></:nav>\",\n\n\t\t// jQuery.support.boxModel DEPRECATED in 1.8 since we don't support Quirks Mode\n\t\tboxModel: ( document.compatMode === \"CSS1Compat\" ),\n\n\t\t// Will be defined later\n\t\tsubmitBubbles: true,\n\t\tchangeBubbles: true,\n\t\tfocusinBubbles: false,\n\t\tdeleteExpando: true,\n\t\tnoCloneEvent: true,\n\t\tinlineBlockNeedsLayout: false,\n\t\tshrinkWrapBlocks: false,\n\t\treliableMarginRight: true,\n\t\tboxSizingReliable: true,\n\t\tpixelPosition: false\n\t};\n\n\t// Make sure checked status is properly cloned\n\tinput.checked = true;\n\tsupport.noCloneChecked = input.cloneNode( true ).checked;\n\n\t// Make sure that the options inside disabled selects aren't marked as disabled\n\t// (WebKit marks them as disabled)\n\tselect.disabled = true;\n\tsupport.optDisabled = !opt.disabled;\n\n\t// Test to see if it's possible to delete an expando from an element\n\t// Fails in Internet Explorer\n\ttry {\n\t\tdelete div.test;\n\t} catch( e ) {\n\t\tsupport.deleteExpando = false;\n\t}\n\n\tif ( !div.addEventListener && div.attachEvent && div.fireEvent ) {\n\t\tdiv.attachEvent( \"onclick\", clickFn = function() {\n\t\t\t// Cloning a node shouldn't copy over any\n\t\t\t// bound event handlers (IE does this)\n\t\t\tsupport.noCloneEvent = false;\n\t\t});\n\t\tdiv.cloneNode( true ).fireEvent(\"onclick\");\n\t\tdiv.detachEvent( \"onclick\", clickFn );\n\t}\n\n\t// Check if a radio maintains its value\n\t// after being appended to the DOM\n\tinput = document.createElement(\"input\");\n\tinput.value = \"t\";\n\tinput.setAttribute( \"type\", \"radio\" );\n\tsupport.radioValue = input.value === \"t\";\n\n\tinput.setAttribute( \"checked\", \"checked\" );\n\n\t// #11217 - WebKit loses check when the name is after the checked attribute\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\tfragment = document.createDocumentFragment();\n\tfragment.appendChild( div.lastChild );\n\n\t// WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = fragment.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Check if a disconnected checkbox will retain its checked\n\t// value of true after appended to the DOM (IE6/7)\n\tsupport.appendChecked = input.checked;\n\n\tfragment.removeChild( input );\n\tfragment.appendChild( div );\n\n\t// Technique from Juriy Zaytsev\n\t// http://perfectionkills.com/detecting-event-support-without-browser-sniffing/\n\t// We only care about the case where non-standard event systems\n\t// are used, namely in IE. Short-circuiting here helps us to\n\t// avoid an eval call (in setAttribute) which can cause CSP\n\t// to go haywire. See: https://developer.mozilla.org/en/Security/CSP\n\tif ( div.attachEvent ) {\n\t\tfor ( i in {\n\t\t\tsubmit: true,\n\t\t\tchange: true,\n\t\t\tfocusin: true\n\t\t}) {\n\t\t\teventName = \"on\" + i;\n\t\t\tisSupported = ( eventName in div );\n\t\t\tif ( !isSupported ) {\n\t\t\t\tdiv.setAttribute( eventName, \"return;\" );\n\t\t\t\tisSupported = ( typeof div[ eventName ] === \"function\" );\n\t\t\t}\n\t\t\tsupport[ i + \"Bubbles\" ] = isSupported;\n\t\t}\n\t}\n\n\t// Run tests that need a body at doc ready\n\tjQuery(function() {\n\t\tvar container, div, tds, marginDiv,\n\t\t\tdivReset = \"padding:0;margin:0;border:0;display:block;overflow:hidden;\",\n\t\t\tbody = document.getElementsByTagName(\"body\")[0];\n\n\t\tif ( !body ) {\n\t\t\t// Return for frameset docs that don't have a body\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer = document.createElement(\"div\");\n\t\tcontainer.style.cssText = \"visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px\";\n\t\tbody.insertBefore( container, body.firstChild );\n\n\t\t// Construct the test element\n\t\tdiv = document.createElement(\"div\");\n\t\tcontainer.appendChild( div );\n\n\t\t// Check if table cells still have offsetWidth/Height when they are set\n\t\t// to display:none and there are still other visible table cells in a\n\t\t// table row; if so, offsetWidth/Height are not reliable for use when\n\t\t// determining if an element has been hidden directly using\n\t\t// display:none (it is still safe to use offsets if a parent element is\n\t\t// hidden; don safety goggles and see bug #4512 for more information).\n\t\t// (only IE 8 fails this test)\n\t\tdiv.innerHTML = \"<table><tr><td></td><td>t</td></tr></table>\";\n\t\ttds = div.getElementsByTagName(\"td\");\n\t\ttds[ 0 ].style.cssText = \"padding:0;margin:0;border:0;display:none\";\n\t\tisSupported = ( tds[ 0 ].offsetHeight === 0 );\n\n\t\ttds[ 0 ].style.display = \"\";\n\t\ttds[ 1 ].style.display = \"none\";\n\n\t\t// Check if empty table cells still have offsetWidth/Height\n\t\t// (IE <= 8 fail this test)\n\t\tsupport.reliableHiddenOffsets = isSupported && ( tds[ 0 ].offsetHeight === 0 );\n\n\t\t// Check box-sizing and margin behavior\n\t\tdiv.innerHTML = \"\";\n\t\tdiv.style.cssText = \"box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;\";\n\t\tsupport.boxSizing = ( div.offsetWidth === 4 );\n\t\tsupport.doesNotIncludeMarginInBodyOffset = ( body.offsetTop !== 1 );\n\n\t\t// NOTE: To any future maintainer, we've window.getComputedStyle\n\t\t// because jsdom on node.js will break without it.\n\t\tif ( window.getComputedStyle ) {\n\t\t\tsupport.pixelPosition = ( window.getComputedStyle( div, null ) || {} ).top !== \"1%\";\n\t\t\tsupport.boxSizingReliable = ( window.getComputedStyle( div, null ) || { width: \"4px\" } ).width === \"4px\";\n\n\t\t\t// Check if div with explicit width and no margin-right incorrectly\n\t\t\t// gets computed margin-right based on width of container. For more\n\t\t\t// info see bug #3333\n\t\t\t// Fails in WebKit before Feb 2011 nightlies\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\tmarginDiv = document.createElement(\"div\");\n\t\t\tmarginDiv.style.cssText = div.style.cssText = divReset;\n\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\n\t\t\tdiv.style.width = \"1px\";\n\t\t\tdiv.appendChild( marginDiv );\n\t\t\tsupport.reliableMarginRight =\n\t\t\t\t!parseFloat( ( window.getComputedStyle( marginDiv, null ) || {} ).marginRight );\n\t\t}\n\n\t\tif ( typeof div.style.zoom !== \"undefined\" ) {\n\t\t\t// Check if natively block-level elements act like inline-block\n\t\t\t// elements when setting their display to 'inline' and giving\n\t\t\t// them layout\n\t\t\t// (IE < 8 does this)\n\t\t\tdiv.innerHTML = \"\";\n\t\t\tdiv.style.cssText = divReset + \"width:1px;padding:1px;display:inline;zoom:1\";\n\t\t\tsupport.inlineBlockNeedsLayout = ( div.offsetWidth === 3 );\n\n\t\t\t// Check if elements with layout shrink-wrap their children\n\t\t\t// (IE 6 does this)\n\t\t\tdiv.style.display = \"block\";\n\t\t\tdiv.style.overflow = \"visible\";\n\t\t\tdiv.innerHTML = \"<div></div>\";\n\t\t\tdiv.firstChild.style.width = \"5px\";\n\t\t\tsupport.shrinkWrapBlocks = ( div.offsetWidth !== 3 );\n\n\t\t\tcontainer.style.zoom = 1;\n\t\t}\n\n\t\t// Null elements to avoid leaks in IE\n\t\tbody.removeChild( container );\n\t\tcontainer = div = tds = marginDiv = null;\n\t});\n\n\t// Null elements to avoid leaks in IE\n\tfragment.removeChild( div );\n\tall = a = select = opt = input = fragment = div = null;\n\n\treturn support;\n})();\nvar rbrace = /(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,\n\trmultiDash = /([A-Z])/g;\n\njQuery.extend({\n\tcache: {},\n\n\tdeletedIds: [],\n\n\t// Please use with caution\n\tuuid: 0,\n\n\t// Unique for each copy of jQuery on the page\n\t// Non-digits removed to match rinlinejQuery\n\texpando: \"jQuery\" + ( jQuery.fn.jquery + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// The following elements throw uncatchable exceptions if you\n\t// attempt to add expando properties to them.\n\tnoData: {\n\t\t\"embed\": true,\n\t\t// Ban all objects except for Flash (which handle expandos)\n\t\t\"object\": \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",\n\t\t\"applet\": true\n\t},\n\n\thasData: function( elem ) {\n\t\telem = elem.nodeType ? jQuery.cache[ elem[jQuery.expando] ] : elem[ jQuery.expando ];\n\t\treturn !!elem && !isEmptyDataObject( elem );\n\t},\n\n\tdata: function( elem, name, data, pvt /* Internal Use Only */ ) {\n\t\tif ( !jQuery.acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar thisCache, ret,\n\t\t\tinternalKey = jQuery.expando,\n\t\t\tgetByName = typeof name === \"string\",\n\n\t\t\t// We have to handle DOM nodes and JS objects differently because IE6-7\n\t\t\t// can't GC object references properly across the DOM-JS boundary\n\t\t\tisNode = elem.nodeType,\n\n\t\t\t// Only DOM nodes need the global jQuery cache; JS object data is\n\t\t\t// attached directly to the object so GC can occur automatically\n\t\t\tcache = isNode ? jQuery.cache : elem,\n\n\t\t\t// Only defining an ID for JS objects if its cache already exists allows\n\t\t\t// the code to shortcut on the same path as a DOM node with no cache\n\t\t\tid = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;\n\n\t\t// Avoid doing any more work than we need to when trying to get data on an\n\t\t// object that has no data at all\n\t\tif ( (!id || !cache[id] || (!pvt && !cache[id].data)) && getByName && data === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !id ) {\n\t\t\t// Only DOM nodes need a new unique ID for each element since their data\n\t\t\t// ends up in the global cache\n\t\t\tif ( isNode ) {\n\t\t\t\telem[ internalKey ] = id = jQuery.deletedIds.pop() || ++jQuery.uuid;\n\t\t\t} else {\n\t\t\t\tid = internalKey;\n\t\t\t}\n\t\t}\n\n\t\tif ( !cache[ id ] ) {\n\t\t\tcache[ id ] = {};\n\n\t\t\t// Avoids exposing jQuery metadata on plain JS objects when the object\n\t\t\t// is serialized using JSON.stringify\n\t\t\tif ( !isNode ) {\n\t\t\t\tcache[ id ].toJSON = jQuery.noop;\n\t\t\t}\n\t\t}\n\n\t\t// An object can be passed to jQuery.data instead of a key/value pair; this gets\n\t\t// shallow copied over onto the existing cache\n\t\tif ( typeof name === \"object\" || typeof name === \"function\" ) {\n\t\t\tif ( pvt ) {\n\t\t\t\tcache[ id ] = jQuery.extend( cache[ id ], name );\n\t\t\t} else {\n\t\t\t\tcache[ id ].data = jQuery.extend( cache[ id ].data, name );\n\t\t\t}\n\t\t}\n\n\t\tthisCache = cache[ id ];\n\n\t\t// jQuery data() is stored in a separate object inside the object's internal data\n\t\t// cache in order to avoid key collisions between internal data and user-defined\n\t\t// data.\n\t\tif ( !pvt ) {\n\t\t\tif ( !thisCache.data ) {\n\t\t\t\tthisCache.data = {};\n\t\t\t}\n\n\t\t\tthisCache = thisCache.data;\n\t\t}\n\n\t\tif ( data !== undefined ) {\n\t\t\tthisCache[ jQuery.camelCase( name ) ] = data;\n\t\t}\n\n\t\t// Check for both converted-to-camel and non-converted data property names\n\t\t// If a data property was specified\n\t\tif ( getByName ) {\n\n\t\t\t// First Try to find as-is property data\n\t\t\tret = thisCache[ name ];\n\n\t\t\t// Test for null|undefined property data\n\t\t\tif ( ret == null ) {\n\n\t\t\t\t// Try to find the camelCased property\n\t\t\t\tret = thisCache[ jQuery.camelCase( name ) ];\n\t\t\t}\n\t\t} else {\n\t\t\tret = thisCache;\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tremoveData: function( elem, name, pvt /* Internal Use Only */ ) {\n\t\tif ( !jQuery.acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar thisCache, i, l,\n\n\t\t\tisNode = elem.nodeType,\n\n\t\t\t// See jQuery.data for more information\n\t\t\tcache = isNode ? jQuery.cache : elem,\n\t\t\tid = isNode ? elem[ jQuery.expando ] : jQuery.expando;\n\n\t\t// If there is already no cache entry for this object, there is no\n\t\t// purpose in continuing\n\t\tif ( !cache[ id ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( name ) {\n\n\t\t\tthisCache = pvt ? cache[ id ] : cache[ id ].data;\n\n\t\t\tif ( thisCache ) {\n\n\t\t\t\t// Support array or space separated string names for data keys\n\t\t\t\tif ( !jQuery.isArray( name ) ) {\n\n\t\t\t\t\t// try the string as a key before any manipulation\n\t\t\t\t\tif ( name in thisCache ) {\n\t\t\t\t\t\tname = [ name ];\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// split the camel cased version by spaces unless a key with the spaces exists\n\t\t\t\t\t\tname = jQuery.camelCase( name );\n\t\t\t\t\t\tif ( name in thisCache ) {\n\t\t\t\t\t\t\tname = [ name ];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tname = name.split(\" \");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor ( i = 0, l = name.length; i < l; i++ ) {\n\t\t\t\t\tdelete thisCache[ name[i] ];\n\t\t\t\t}\n\n\t\t\t\t// If there is no data left in the cache, we want to continue\n\t\t\t\t// and let the cache object itself get destroyed\n\t\t\t\tif ( !( pvt ? isEmptyDataObject : jQuery.isEmptyObject )( thisCache ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// See jQuery.data for more information\n\t\tif ( !pvt ) {\n\t\t\tdelete cache[ id ].data;\n\n\t\t\t// Don't destroy the parent cache unless the internal data object\n\t\t\t// had been the only thing left in it\n\t\t\tif ( !isEmptyDataObject( cache[ id ] ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Destroy the cache\n\t\tif ( isNode ) {\n\t\t\tjQuery.cleanData( [ elem ], true );\n\n\t\t// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)\n\t\t} else if ( jQuery.support.deleteExpando || cache != cache.window ) {\n\t\t\tdelete cache[ id ];\n\n\t\t// When all else fails, null\n\t\t} else {\n\t\t\tcache[ id ] = null;\n\t\t}\n\t},\n\n\t// For internal use only.\n\t_data: function( elem, name, data ) {\n\t\treturn jQuery.data( elem, name, data, true );\n\t},\n\n\t// A method for determining if a DOM node can handle the data expando\n\tacceptData: function( elem ) {\n\t\tvar noData = elem.nodeName && jQuery.noData[ elem.nodeName.toLowerCase() ];\n\n\t\t// nodes accept data unless otherwise specified; rejection can be conditional\n\t\treturn !noData || noData !== true && elem.getAttribute(\"classid\") === noData;\n\t}\n});\n\njQuery.fn.extend({\n\tdata: function( key, value ) {\n\t\tvar parts, part, attr, name, l,\n\t\t\telem = this[0],\n\t\t\ti = 0,\n\t\t\tdata = null;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = jQuery.data( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !jQuery._data( elem, \"parsedAttrs\" ) ) {\n\t\t\t\t\tattr = elem.attributes;\n\t\t\t\t\tfor ( l = attr.length; i < l; i++ ) {\n\t\t\t\t\t\tname = attr[i].name;\n\n\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\tname = jQuery.camelCase( name.substring(5) );\n\n\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tjQuery._data( elem, \"parsedAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each(function() {\n\t\t\t\tjQuery.data( this, key );\n\t\t\t});\n\t\t}\n\n\t\tparts = key.split( \".\", 2 );\n\t\tparts[1] = parts[1] ? \".\" + parts[1] : \"\";\n\t\tpart = parts[1] + \"!\";\n\n\t\treturn jQuery.access( this, function( value ) {\n\n\t\t\tif ( value === undefined ) {\n\t\t\t\tdata = this.triggerHandler( \"getData\" + part, [ parts[0] ] );\n\n\t\t\t\t// Try to fetch any internally stored data first\n\t\t\t\tif ( data === undefined && elem ) {\n\t\t\t\t\tdata = jQuery.data( elem, key );\n\t\t\t\t\tdata = dataAttr( elem, key, data );\n\t\t\t\t}\n\n\t\t\t\treturn data === undefined && parts[1] ?\n\t\t\t\t\tthis.data( parts[0] ) :\n\t\t\t\t\tdata;\n\t\t\t}\n\n\t\t\tparts[1] = value;\n\t\t\tthis.each(function() {\n\t\t\t\tvar self = jQuery( this );\n\n\t\t\t\tself.triggerHandler( \"setData\" + part, parts );\n\t\t\t\tjQuery.data( this, key, value );\n\t\t\t\tself.triggerHandler( \"changeData\" + part, parts );\n\t\t\t});\n\t\t}, null, value, arguments.length > 1, null, false );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeData( this, key );\n\t\t});\n\t}\n});\n\nfunction dataAttr( elem, key, data ) {\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\n\t\tvar name = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\n\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\tdata === \"false\" ? false :\n\t\t\t\tdata === \"null\" ? null :\n\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tjQuery.data( elem, key, data );\n\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\n\treturn data;\n}\n\n// checks a cache object for emptiness\nfunction isEmptyDataObject( obj ) {\n\tvar name;\n\tfor ( name in obj ) {\n\n\t\t// if the public data object is empty, the private is still empty\n\t\tif ( name === \"data\" && jQuery.isEmptyObject( obj[name] ) ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( name !== \"toJSON\" ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\njQuery.extend({\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = jQuery._data( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray(data) ) {\n\t\t\t\t\tqueue = jQuery._data( elem, type, jQuery.makeArray(data) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn jQuery._data( elem, key ) || jQuery._data( elem, key, {\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\n\t\t\t\tjQuery.removeData( elem, type + \"queue\", true );\n\t\t\t\tjQuery.removeData( elem, key, true );\n\t\t\t})\n\t\t});\n\t}\n});\n\njQuery.fn.extend({\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[0], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each(function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t});\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t});\n\t},\n\t// Based off of the plugin by Clint Helfers, with permission.\n\t// http://blindsignals.com/index.php/2009/07/jquery-delay/\n\tdelay: function( time, type ) {\n\t\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\t\ttype = type || \"fx\";\n\n\t\treturn this.queue( type, function( next, hooks ) {\n\t\t\tvar timeout = setTimeout( next, time );\n\t\t\thooks.stop = function() {\n\t\t\t\tclearTimeout( timeout );\n\t\t\t};\n\t\t});\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile( i-- ) {\n\t\t\ttmp = jQuery._data( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n});\nvar nodeHook, boolHook, fixSpecified,\n\trclass = /[\\t\\r\\n]/g,\n\trreturn = /\\r/g,\n\trtype = /^(?:button|input)$/i,\n\trfocusable = /^(?:button|input|object|select|textarea)$/i,\n\trclickable = /^a(?:rea|)$/i,\n\trboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\n\tgetSetAttribute = jQuery.support.getSetAttribute;\n\njQuery.fn.extend({\n\tattr: function( name, value ) {\n\t\treturn jQuery.access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t});\n\t},\n\n\tprop: function( name, value ) {\n\t\treturn jQuery.access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\tname = jQuery.propFix[ name ] || name;\n\t\treturn this.each(function() {\n\t\t\t// try/catch handles cases where IE balks (such as removing a property on window)\n\t\t\ttry {\n\t\t\t\tthis[ name ] = undefined;\n\t\t\t\tdelete this[ name ];\n\t\t\t} catch( e ) {}\n\t\t});\n\t},\n\n\taddClass: function( value ) {\n\t\tvar classNames, i, l, elem,\n\t\t\tsetClass, c, cl;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call(this, j, this.className) );\n\t\t\t});\n\t\t}\n\n\t\tif ( value && typeof value === \"string\" ) {\n\t\t\tclassNames = value.split( core_rspace );\n\n\t\t\tfor ( i = 0, l = this.length; i < l; i++ ) {\n\t\t\t\telem = this[ i ];\n\n\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\tif ( !elem.className && classNames.length === 1 ) {\n\t\t\t\t\t\telem.className = value;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetClass = \" \" + elem.className + \" \";\n\n\t\t\t\t\t\tfor ( c = 0, cl = classNames.length; c < cl; c++ ) {\n\t\t\t\t\t\t\tif ( !~setClass.indexOf( \" \" + classNames[ c ] + \" \" ) ) {\n\t\t\t\t\t\t\t\tsetClass += classNames[ c ] + \" \";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telem.className = jQuery.trim( setClass );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar removes, className, elem, c, cl, i, l;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call(this, j, this.className) );\n\t\t\t});\n\t\t}\n\t\tif ( (value && typeof value === \"string\") || value === undefined ) {\n\t\t\tremoves = ( value || \"\" ).split( core_rspace );\n\n\t\t\tfor ( i = 0, l = this.length; i < l; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\tif ( elem.nodeType === 1 && elem.className ) {\n\n\t\t\t\t\tclassName = (\" \" + elem.className + \" \").replace( rclass, \" \" );\n\n\t\t\t\t\t// loop over each item in the removal list\n\t\t\t\t\tfor ( c = 0, cl = removes.length; c < cl; c++ ) {\n\t\t\t\t\t\t// Remove until there is nothing to remove,\n\t\t\t\t\t\twhile ( className.indexOf(\" \" + removes[ c ] + \" \") > -1 ) {\n\t\t\t\t\t\t\tclassName = className.replace( \" \" + removes[ c ] + \" \" , \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telem.className = value ? jQuery.trim( className ) : \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisBool = typeof stateVal === \"boolean\";\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( type === \"string\" ) {\n\t\t\t\t// toggle individual class names\n\t\t\t\tvar className,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tself = jQuery( this ),\n\t\t\t\t\tstate = stateVal,\n\t\t\t\t\tclassNames = value.split( core_rspace );\n\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\n\t\t\t\t\t// check each className given, space separated list\n\t\t\t\t\tstate = isBool ? state : !self.hasClass( className );\n\t\t\t\t\tself[ state ? \"addClass\" : \"removeClass\" ]( className );\n\t\t\t\t}\n\n\t\t\t} else if ( type === \"undefined\" || type === \"boolean\" ) {\n\t\t\t\tif ( this.className ) {\n\t\t\t\t\t// store className if set\n\t\t\t\t\tjQuery._data( this, \"__className__\", this.className );\n\t\t\t\t}\n\n\t\t\t\t// toggle whole className\n\t\t\t\tthis.className = this.className || value === false ? \"\" : jQuery._data( this, \"__className__\" ) || \"\";\n\t\t\t}\n\t\t});\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className = \" \" + selector + \" \",\n\t\t\ti = 0,\n\t\t\tl = this.length;\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[0];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\treturn typeof ret === \"string\" ?\n\t\t\t\t\t// handle most common string cases\n\t\t\t\t\tret.replace(rreturn, \"\") :\n\t\t\t\t\t// handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each(function( i ) {\n\t\t\tvar val,\n\t\t\t\tself = jQuery(this);\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, self.val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map(val, function ( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\t\t\t\t// attributes.value is undefined in Blackberry 4.7 but\n\t\t\t\t// uses .value. See #6932\n\t\t\t\tvar val = elem.attributes.value;\n\t\t\t\treturn !val || val.specified ? elem.value : elem.text;\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, i, max, option,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tvalues = [],\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tone = elem.type === \"select-one\";\n\n\t\t\t\t// Nothing was selected\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\ti = one ? index : 0;\n\t\t\t\tmax = one ? index + 1 : options.length;\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\tif ( option.selected && (jQuery.support.optDisabled ? !option.disabled : option.getAttribute(\"disabled\") === null) &&\n\t\t\t\t\t\t\t(!option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" )) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Fixes Bug #2551 -- select.val() broken in IE after form.reset()\n\t\t\t\tif ( one && !values.length && options.length ) {\n\t\t\t\t\treturn jQuery( options[ index ] ).val();\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar values = jQuery.makeArray( value );\n\n\t\t\t\tjQuery(elem).find(\"option\").each(function() {\n\t\t\t\t\tthis.selected = jQuery.inArray( jQuery(this).val(), values ) >= 0;\n\t\t\t\t});\n\n\t\t\t\tif ( !values.length ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t},\n\n\t// Unused in 1.8, left in so attrFn-stabbers won't die; remove in 1.9\n\tattrFn: {},\n\n\tattr: function( elem, name, value, pass ) {\n\t\tvar ret, hooks, notxml,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set attributes on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( pass && jQuery.isFunction( jQuery.fn[ name ] ) ) {\n\t\t\treturn jQuery( elem )[ name ]( value );\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\n\n\t\t// All attributes are lowercase\n\t\t// Grab necessary hook if one is defined\n\t\tif ( notxml ) {\n\t\t\tname = name.toLowerCase();\n\t\t\thooks = jQuery.attrHooks[ name ] || ( rboolean.test( name ) ? boolHook : nodeHook );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\n\t\t\t} else if ( hooks && \"set\" in hooks && notxml && (ret = hooks.set( elem, value, name )) !== undefined ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\telem.setAttribute( name, \"\" + value );\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t} else if ( hooks && \"get\" in hooks && notxml && (ret = hooks.get( elem, name )) !== null ) {\n\t\t\treturn ret;\n\n\t\t} else {\n\n\t\t\tret = elem.getAttribute( name );\n\n\t\t\t// Non-existent attributes return null, we normalize to undefined\n\t\t\treturn ret === null ?\n\t\t\t\tundefined :\n\t\t\t\tret;\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar propName, attrNames, name, isBool,\n\t\t\ti = 0;\n\n\t\tif ( value && elem.nodeType === 1 ) {\n\n\t\t\tattrNames = value.split( core_rspace );\n\n\t\t\tfor ( ; i < attrNames.length; i++ ) {\n\t\t\t\tname = attrNames[ i ];\n\n\t\t\t\tif ( name ) {\n\t\t\t\t\tpropName = jQuery.propFix[ name ] || name;\n\t\t\t\t\tisBool = rboolean.test( name );\n\n\t\t\t\t\t// See #9699 for explanation of this approach (setting first, then removal)\n\t\t\t\t\t// Do not do this for boolean attributes (see #10870)\n\t\t\t\t\tif ( !isBool ) {\n\t\t\t\t\t\tjQuery.attr( elem, name, \"\" );\n\t\t\t\t\t}\n\t\t\t\t\telem.removeAttribute( getSetAttribute ? name : propName );\n\n\t\t\t\t\t// Set corresponding property to false for boolean attributes\n\t\t\t\t\tif ( isBool && propName in elem ) {\n\t\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\t// We can't allow the type property to be changed (since it causes problems in IE)\n\t\t\t\tif ( rtype.test( elem.nodeName ) && elem.parentNode ) {\n\t\t\t\t\tjQuery.error( \"type property can't be changed\" );\n\t\t\t\t} else if ( !jQuery.support.radioValue && value === \"radio\" && jQuery.nodeName(elem, \"input\") ) {\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\n\t\t\t\t\t// Reset value to it's default in case type is set after value\n\t\t\t\t\t// This is for element creation\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Use the value property for back compat\n\t\t// Use the nodeHook for button elements in IE6/7 (#1954)\n\t\tvalue: {\n\t\t\tget: function( elem, name ) {\n\t\t\t\tif ( nodeHook && jQuery.nodeName( elem, \"button\" ) ) {\n\t\t\t\t\treturn nodeHook.get( elem, name );\n\t\t\t\t}\n\t\t\t\treturn name in elem ?\n\t\t\t\t\telem.value :\n\t\t\t\t\tnull;\n\t\t\t},\n\t\t\tset: function( elem, value, name ) {\n\t\t\t\tif ( nodeHook && jQuery.nodeName( elem, \"button\" ) ) {\n\t\t\t\t\treturn nodeHook.set( elem, value, name );\n\t\t\t\t}\n\t\t\t\t// Does not return so that setAttribute is also used\n\t\t\t\telem.value = value;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\ttabindex: \"tabIndex\",\n\t\treadonly: \"readOnly\",\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\",\n\t\tmaxlength: \"maxLength\",\n\t\tcellspacing: \"cellSpacing\",\n\t\tcellpadding: \"cellPadding\",\n\t\trowspan: \"rowSpan\",\n\t\tcolspan: \"colSpan\",\n\t\tusemap: \"useMap\",\n\t\tframeborder: \"frameBorder\",\n\t\tcontenteditable: \"contentEditable\"\n\t},\n\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks, notxml,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set properties on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\n\n\t\tif ( notxml ) {\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\treturn ( elem[ name ] = value );\n\t\t\t}\n\n\t\t} else {\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\treturn elem[ name ];\n\t\t\t}\n\t\t}\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\t\t\t\t// elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\n\t\t\t\t// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\tvar attributeNode = elem.getAttributeNode(\"tabindex\");\n\n\t\t\t\treturn attributeNode && attributeNode.specified ?\n\t\t\t\t\tparseInt( attributeNode.value, 10 ) :\n\t\t\t\t\trfocusable.test( elem.nodeName ) || rclickable.test( elem.nodeName ) && elem.href ?\n\t\t\t\t\t\t0 :\n\t\t\t\t\t\tundefined;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Hook for boolean attributes\nboolHook = {\n\tget: function( elem, name ) {\n\t\t// Align boolean attributes with corresponding properties\n\t\t// Fall back to attribute presence where some booleans are not supported\n\t\tvar attrNode,\n\t\t\tproperty = jQuery.prop( elem, name );\n\t\treturn property === true || typeof property !== \"boolean\" && ( attrNode = elem.getAttributeNode(name) ) && attrNode.nodeValue !== false ?\n\t\t\tname.toLowerCase() :\n\t\t\tundefined;\n\t},\n\tset: function( elem, value, name ) {\n\t\tvar propName;\n\t\tif ( value === false ) {\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\t// value is true since we know at this point it's type boolean and not false\n\t\t\t// Set boolean attributes to the same name and set the DOM property\n\t\t\tpropName = jQuery.propFix[ name ] || name;\n\t\t\tif ( propName in elem ) {\n\t\t\t\t// Only set the IDL specifically if it already exists on the element\n\t\t\t\telem[ propName ] = true;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, name.toLowerCase() );\n\t\t}\n\t\treturn name;\n\t}\n};\n\n// IE6/7 do not support getting/setting some attributes with get/setAttribute\nif ( !getSetAttribute ) {\n\n\tfixSpecified = {\n\t\tname: true,\n\t\tid: true,\n\t\tcoords: true\n\t};\n\n\t// Use this for any attribute in IE6/7\n\t// This fixes almost every IE6/7 issue\n\tnodeHook = jQuery.valHooks.button = {\n\t\tget: function( elem, name ) {\n\t\t\tvar ret;\n\t\t\tret = elem.getAttributeNode( name );\n\t\t\treturn ret && ( fixSpecified[ name ] ? ret.value !== \"\" : ret.specified ) ?\n\t\t\t\tret.value :\n\t\t\t\tundefined;\n\t\t},\n\t\tset: function( elem, value, name ) {\n\t\t\t// Set the existing or create a new attribute node\n\t\t\tvar ret = elem.getAttributeNode( name );\n\t\t\tif ( !ret ) {\n\t\t\t\tret = document.createAttribute( name );\n\t\t\t\telem.setAttributeNode( ret );\n\t\t\t}\n\t\t\treturn ( ret.value = value + \"\" );\n\t\t}\n\t};\n\n\t// Set width and height to auto instead of 0 on empty string( Bug #8150 )\n\t// This is for removals\n\tjQuery.each([ \"width\", \"height\" ], function( i, name ) {\n\t\tjQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\telem.setAttribute( name, \"auto\" );\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\t// Set contenteditable to false on removals(#10429)\n\t// Setting to empty string throws an error as an invalid value\n\tjQuery.attrHooks.contenteditable = {\n\t\tget: nodeHook.get,\n\t\tset: function( elem, value, name ) {\n\t\t\tif ( value === \"\" ) {\n\t\t\t\tvalue = \"false\";\n\t\t\t}\n\t\t\tnodeHook.set( elem, value, name );\n\t\t}\n\t};\n}\n\n\n// Some attributes require a special call on IE\nif ( !jQuery.support.hrefNormalized ) {\n\tjQuery.each([ \"href\", \"src\", \"width\", \"height\" ], function( i, name ) {\n\t\tjQuery.attrHooks[ name ] = jQuery.extend( jQuery.attrHooks[ name ], {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar ret = elem.getAttribute( name, 2 );\n\t\t\t\treturn ret === null ? undefined : ret;\n\t\t\t}\n\t\t});\n\t});\n}\n\nif ( !jQuery.support.style ) {\n\tjQuery.attrHooks.style = {\n\t\tget: function( elem ) {\n\t\t\t// Return undefined in the case of empty string\n\t\t\t// Normalize to lowercase since IE uppercases css property names\n\t\t\treturn elem.style.cssText.toLowerCase() || undefined;\n\t\t},\n\t\tset: function( elem, value ) {\n\t\t\treturn ( elem.style.cssText = \"\" + value );\n\t\t}\n\t};\n}\n\n// Safari mis-reports the default selected property of an option\n// Accessing the parent's selectedIndex property fixes it\nif ( !jQuery.support.optSelected ) {\n\tjQuery.propHooks.selected = jQuery.extend( jQuery.propHooks.selected, {\n\t\tget: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\t// Make sure that it also works with optgroups, see #5701\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t});\n}\n\n// IE6/7 call enctype encoding\nif ( !jQuery.support.enctype ) {\n\tjQuery.propFix.enctype = \"encoding\";\n}\n\n// Radios and checkboxes getter/setter\nif ( !jQuery.support.checkOn ) {\n\tjQuery.each([ \"radio\", \"checkbox\" ], function() {\n\t\tjQuery.valHooks[ this ] = {\n\t\t\tget: function( elem ) {\n\t\t\t\t// Handle the case where in Webkit \"\" is returned instead of \"on\" if a value isn't specified\n\t\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n\t\t\t}\n\t\t};\n\t});\n}\njQuery.each([ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = jQuery.extend( jQuery.valHooks[ this ], {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\n\t\t\t}\n\t\t}\n\t});\n});\nvar rformElems = /^(?:textarea|input|select)$/i,\n\trtypenamespace = /^([^\\.]*|)(?:\\.(.+)|)$/,\n\trhoverHack = /(?:^|\\s)hover(\\.\\S+|)\\b/,\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|contextmenu)|click/,\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\thoverHack = function( events ) {\n\t\treturn jQuery.event.special.hover ? events : events.replace( rhoverHack, \"mouseenter$1 mouseleave$1\" );\n\t};\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar elemData, eventHandle, events,\n\t\t\tt, tns, type, namespaces, handleObj,\n\t\t\thandleObjIn, handlers, special;\n\n\t\t// Don't attach events to noData or text/comment nodes (allow plain objects tho)\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 || !types || !handler || !(elemData = jQuery._data( elem )) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tevents = elemData.events;\n\t\tif ( !events ) {\n\t\t\telemData.events = events = {};\n\t\t}\n\t\teventHandle = elemData.handle;\n\t\tif ( !eventHandle ) {\n\t\t\telemData.handle = eventHandle = function( e ) {\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && (!e || jQuery.event.triggered !== e.type) ?\n\t\t\t\t\tjQuery.event.dispatch.apply( eventHandle.elem, arguments ) :\n\t\t\t\t\tundefined;\n\t\t\t};\n\t\t\t// Add elem as a property of the handle fn to prevent a memory leak with IE non-native events\n\t\t\teventHandle.elem = elem;\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\t// jQuery(...).bind(\"mouseover mouseout\", fn);\n\t\ttypes = jQuery.trim( hoverHack(types) ).split( \" \" );\n\t\tfor ( t = 0; t < types.length; t++ ) {\n\n\t\t\ttns = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = tns[1];\n\t\t\tnamespaces = ( tns[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend({\n\t\t\t\ttype: type,\n\t\t\t\torigType: tns[1],\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tnamespace: namespaces.join(\".\")\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\thandlers = events[ type ];\n\t\t\tif ( !handlers ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener/attachEvent if the special events handler returns false\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\t\t\t\t\t// Bind the global event handler to the element\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\n\n\t\t\t\t\t} else if ( elem.attachEvent ) {\n\t\t\t\t\t\telem.attachEvent( \"on\" + type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t\t// Nullify elem to prevent memory leaks in IE\n\t\telem = null;\n\t},\n\n\tglobal: {},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar t, tns, type, origType, namespaces, origCount,\n\t\t\tj, events, special, eventType, handleObj,\n\t\t\telemData = jQuery.hasData( elem ) && jQuery._data( elem );\n\n\t\tif ( !elemData || !(events = elemData.events) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = jQuery.trim( hoverHack( types || \"\" ) ).split(\" \");\n\t\tfor ( t = 0; t < types.length; t++ ) {\n\t\t\ttns = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tns[1];\n\t\t\tnamespaces = tns[2];\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector? special.delegateType : special.bindType ) || type;\n\t\t\teventType = events[ type ] || [];\n\t\t\torigCount = eventType.length;\n\t\t\tnamespaces = namespaces ? new RegExp(\"(^|\\\\.)\" + namespaces.split(\".\").sort().join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\") : null;\n\n\t\t\t// Remove matching events\n\t\t\tfor ( j = 0; j < eventType.length; j++ ) {\n\t\t\t\thandleObj = eventType[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t ( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t ( !namespaces || namespaces.test( handleObj.namespace ) ) &&\n\t\t\t\t\t ( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\teventType.splice( j--, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\teventType.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( eventType.length === 0 && origCount !== eventType.length ) {\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdelete elemData.handle;\n\n\t\t\t// removeData also checks for emptiness and clears the expando if empty\n\t\t\t// so use it instead of delete\n\t\t\tjQuery.removeData( elem, \"events\", true );\n\t\t}\n\t},\n\n\t// Events that are safe to short-circuit if no handlers are attached.\n\t// Native DOM events should not be added, they may have inline handlers.\n\tcustomEvent: {\n\t\t\"getData\": true,\n\t\t\"setData\": true,\n\t\t\"changeData\": true\n\t},\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem && (elem.nodeType === 3 || elem.nodeType === 8) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Event object or event type\n\t\tvar cache, exclusive, i, cur, old, ontype, special, handle, eventPath, bubbleType,\n\t\t\ttype = event.type || event,\n\t\t\tnamespaces = [];\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \"!\" ) >= 0 ) {\n\t\t\t// Exclusive events trigger only for the exact event (no namespaces)\n\t\t\ttype = type.slice(0, -1);\n\t\t\texclusive = true;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) >= 0 ) {\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split(\".\");\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\n\t\tif ( (!elem || jQuery.event.customEvent[ type ]) && !jQuery.event.global[ type ] ) {\n\t\t\t// No jQuery handlers for this event type, and it can't have inline handlers\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an Event, Object, or just an event type string\n\t\tevent = typeof event === \"object\" ?\n\t\t\t// jQuery.Event object\n\t\t\tevent[ jQuery.expando ] ? event :\n\t\t\t// Object literal\n\t\t\tnew jQuery.Event( type, event ) :\n\t\t\t// Just the event type (string)\n\t\t\tnew jQuery.Event( type );\n\n\t\tevent.type = type;\n\t\tevent.isTrigger = true;\n\t\tevent.exclusive = exclusive;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.namespace_re = event.namespace? new RegExp(\"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\") : null;\n\t\tontype = type.indexOf( \":\" ) < 0 ? \"on\" + type : \"\";\n\n\t\t// Handle a global trigger\n\t\tif ( !elem ) {\n\n\t\t\t// TODO: Stop taunting the data cache; remove global events and always attach to document\n\t\t\tcache = jQuery.cache;\n\t\t\tfor ( i in cache ) {\n\t\t\t\tif ( cache[ i ].events && cache[ i ].events[ type ] ) {\n\t\t\t\t\tjQuery.event.trigger( event, data, cache[ i ].handle.elem, true );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data != null ? jQuery.makeArray( data ) : [];\n\t\tdata.unshift( event );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\teventPath = [[ elem, special.bindType || type ]];\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tcur = rfocusMorph.test( bubbleType + type ) ? elem : elem.parentNode;\n\t\t\tfor ( old = elem; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push([ cur, bubbleType ]);\n\t\t\t\told = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( old === (elem.ownerDocument || document) ) {\n\t\t\t\teventPath.push([ old.defaultView || old.parentWindow || window, bubbleType ]);\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\tfor ( i = 0; i < eventPath.length && !event.isPropagationStopped(); i++ ) {\n\n\t\t\tcur = eventPath[i][0];\n\t\t\tevent.type = eventPath[i][1];\n\n\t\t\thandle = ( jQuery._data( cur, \"events\" ) || {} )[ event.type ] && jQuery._data( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\t\t\t// Note that this is a bare JS function and not a jQuery handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && jQuery.acceptData( cur ) && handle.apply( cur, data ) === false ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( (!special._default || special._default.apply( elem.ownerDocument, data ) === false) &&\n\t\t\t\t!(type === \"click\" && jQuery.nodeName( elem, \"a\" )) && jQuery.acceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\n\t\t\t\t// Can't use an .isFunction() check here because IE6/7 fails that test.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\t// IE<9 dies on focus/blur to hidden element (#1486)\n\t\t\t\tif ( ontype && elem[ type ] && ((type !== \"focus\" && type !== \"blur\") || event.target.offsetWidth !== 0) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\told = elem[ ontype ];\n\n\t\t\t\t\tif ( old ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( old ) {\n\t\t\t\t\t\telem[ ontype ] = old;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\tdispatch: function( event ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tevent = jQuery.event.fix( event || window.event );\n\n\t\tvar i, j, cur, ret, selMatch, matched, matches, handleObj, sel, related,\n\t\t\thandlers = ( (jQuery._data( this, \"events\" ) || {} )[ event.type ] || []),\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\targs = [].slice.call( arguments ),\n\t\t\trun_all = !event.exclusive && !event.namespace,\n\t\t\tspecial = jQuery.event.special[ event.type ] || {},\n\t\t\thandlerQueue = [];\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[0] = event;\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers that should run if there are delegated events\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\n\t\tif ( delegateCount && !(event.button && event.type === \"click\") ) {\n\n\t\t\tfor ( cur = event.target; cur != this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't process clicks (ONLY) on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.disabled !== true || event.type !== \"click\" ) {\n\t\t\t\t\tselMatch = {};\n\t\t\t\t\tmatches = [];\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\t\t\t\t\t\tsel = handleObj.selector;\n\n\t\t\t\t\t\tif ( selMatch[ sel ] === undefined ) {\n\t\t\t\t\t\t\tselMatch[ sel ] = jQuery( sel, this ).index( cur ) >= 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( selMatch[ sel ] ) {\n\t\t\t\t\t\t\tmatches.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matches.length ) {\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, matches: matches });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tif ( handlers.length > delegateCount ) {\n\t\t\thandlerQueue.push({ elem: this, matches: handlers.slice( delegateCount ) });\n\t\t}\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\tfor ( i = 0; i < handlerQueue.length && !event.isPropagationStopped(); i++ ) {\n\t\t\tmatched = handlerQueue[ i ];\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tfor ( j = 0; j < matched.matches.length && !event.isImmediatePropagationStopped(); j++ ) {\n\t\t\t\thandleObj = matched.matches[ j ];\n\n\t\t\t\t// Triggered event must either 1) be non-exclusive and have no namespace, or\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( run_all || (!event.namespace && !handleObj.namespace) || event.namespace_re && event.namespace_re.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.data = handleObj.data;\n\t\t\t\t\tevent.handleObj = handleObj;\n\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\n\t\t\t\t\t\t\t.apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tevent.result = ret;\n\t\t\t\t\t\tif ( ret === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Includes some event props shared by KeyEvent and MouseEvent\n\t// *** attrChange attrName relatedNode srcElement  are not normalized, non-W3C, deprecated, will be removed in 1.8 ***\n\tprops: \"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\n\n\tfixHooks: {},\n\n\tkeyHooks: {\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\n\t\t\t// Add which for key events\n\t\t\tif ( event.which == null ) {\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tmouseHooks: {\n\t\tprops: \"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\t\t\tvar eventDoc, doc, body,\n\t\t\t\tbutton = original.button,\n\t\t\t\tfromElement = original.fromElement;\n\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\n\t\t\t\teventDoc = event.target.ownerDocument || document;\n\t\t\t\tdoc = eventDoc.documentElement;\n\t\t\t\tbody = eventDoc.body;\n\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\n\t\t\t}\n\n\t\t\t// Add relatedTarget, if necessary\n\t\t\tif ( !event.relatedTarget && fromElement ) {\n\t\t\t\tevent.relatedTarget = fromElement === event.target ? original.toElement : fromElement;\n\t\t\t}\n\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\t\t// Note: button is not normalized, so don't use it\n\t\t\tif ( !event.which && button !== undefined ) {\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tfix: function( event ) {\n\t\tif ( event[ jQuery.expando ] ) {\n\t\t\treturn event;\n\t\t}\n\n\t\t// Create a writable copy of the event object and normalize some properties\n\t\tvar i, prop,\n\t\t\toriginalEvent = event,\n\t\t\tfixHook = jQuery.event.fixHooks[ event.type ] || {},\n\t\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\n\n\t\tevent = jQuery.Event( originalEvent );\n\n\t\tfor ( i = copy.length; i; ) {\n\t\t\tprop = copy[ --i ];\n\t\t\tevent[ prop ] = originalEvent[ prop ];\n\t\t}\n\n\t\t// Fix target property, if necessary (#1925, IE 6/7/8 & Safari2)\n\t\tif ( !event.target ) {\n\t\t\tevent.target = originalEvent.srcElement || document;\n\t\t}\n\n\t\t// Target should not be a text node (#504, Safari)\n\t\tif ( event.target.nodeType === 3 ) {\n\t\t\tevent.target = event.target.parentNode;\n\t\t}\n\n\t\t// For mouse/key events, metaKey==false if it's undefined (#3368, #11328; IE6/7/8)\n\t\tevent.metaKey = !!event.metaKey;\n\n\t\treturn fixHook.filter? fixHook.filter( event, originalEvent ) : event;\n\t},\n\n\tspecial: {\n\t\tload: {\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\n\t\tfocus: {\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tsetup: function( data, namespaces, eventHandle ) {\n\t\t\t\t// We only want to do this special case on windows\n\t\t\t\tif ( jQuery.isWindow( this ) ) {\n\t\t\t\t\tthis.onbeforeunload = eventHandle;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tteardown: function( namespaces, eventHandle ) {\n\t\t\t\tif ( this.onbeforeunload === eventHandle ) {\n\t\t\t\t\tthis.onbeforeunload = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tsimulate: function( type, elem, event, bubble ) {\n\t\t// Piggyback on a donor event to simulate a different one.\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\n\t\t// simulated event prevents default then we do the same on the donor.\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{ type: type,\n\t\t\t\tisSimulated: true,\n\t\t\t\toriginalEvent: {}\n\t\t\t}\n\t\t);\n\t\tif ( bubble ) {\n\t\t\tjQuery.event.trigger( e, null, elem );\n\t\t} else {\n\t\t\tjQuery.event.dispatch.call( elem, e );\n\t\t}\n\t\tif ( e.isDefaultPrevented() ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n};\n\n// Some plugins are using, but it's undocumented/deprecated and will be removed.\n// The 1.7 special event interface should provide all the hooks needed now.\njQuery.event.handle = jQuery.event.dispatch;\n\njQuery.removeEvent = document.removeEventListener ?\n\tfunction( elem, type, handle ) {\n\t\tif ( elem.removeEventListener ) {\n\t\t\telem.removeEventListener( type, handle, false );\n\t\t}\n\t} :\n\tfunction( elem, type, handle ) {\n\t\tvar name = \"on\" + type;\n\n\t\tif ( elem.detachEvent ) {\n\n\t\t\t// #8545, #7054, preventing memory leaks for custom events in IE6-8 â\n\t\t\t// detachEvent needed property on element, by name of that event, to properly expose it to GC\n\t\t\tif ( typeof elem[ name ] === \"undefined\" ) {\n\t\t\t\telem[ name ] = null;\n\t\t\t}\n\n\t\t\telem.detachEvent( name, handle );\n\t\t}\n\t};\n\njQuery.Event = function( src, props ) {\n\t// Allow instantiation without the 'new' keyword\n\tif ( !(this instanceof jQuery.Event) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = ( src.defaultPrevented || src.returnValue === false ||\n\t\t\tsrc.getPreventDefault && src.getPreventDefault() ) ? returnTrue : returnFalse;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\nfunction returnFalse() {\n\treturn false;\n}\nfunction returnTrue() {\n\treturn true;\n}\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tpreventDefault: function() {\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tvar e = this.originalEvent;\n\t\tif ( !e ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// if preventDefault exists run it on the original event\n\t\tif ( e.preventDefault ) {\n\t\t\te.preventDefault();\n\n\t\t// otherwise set the returnValue property of the original event to false (IE)\n\t\t} else {\n\t\t\te.returnValue = false;\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tvar e = this.originalEvent;\n\t\tif ( !e ) {\n\t\t\treturn;\n\t\t}\n\t\t// if stopPropagation exists run it on the original event\n\t\tif ( e.stopPropagation ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t\t// otherwise set the cancelBubble property of the original event to true (IE)\n\t\te.cancelBubble = true;\n\t},\n\tstopImmediatePropagation: function() {\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\t\tthis.stopPropagation();\n\t},\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse\n};\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\njQuery.each({\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj,\n\t\t\t\tselector = handleObj.selector;\n\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n});\n\n// IE submit delegation\nif ( !jQuery.support.submitBubbles ) {\n\n\tjQuery.event.special.submit = {\n\t\tsetup: function() {\n\t\t\t// Only need this for delegated form submit events\n\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Lazy-add a submit handler when a descendant form may potentially be submitted\n\t\t\tjQuery.event.add( this, \"click._submit keypress._submit\", function( e ) {\n\t\t\t\t// Node name check avoids a VML-related crash in IE (#9807)\n\t\t\t\tvar elem = e.target,\n\t\t\t\t\tform = jQuery.nodeName( elem, \"input\" ) || jQuery.nodeName( elem, \"button\" ) ? elem.form : undefined;\n\t\t\t\tif ( form && !jQuery._data( form, \"_submit_attached\" ) ) {\n\t\t\t\t\tjQuery.event.add( form, \"submit._submit\", function( event ) {\n\t\t\t\t\t\tevent._submit_bubble = true;\n\t\t\t\t\t});\n\t\t\t\t\tjQuery._data( form, \"_submit_attached\", true );\n\t\t\t\t}\n\t\t\t});\n\t\t\t// return undefined since we don't need an event listener\n\t\t},\n\n\t\tpostDispatch: function( event ) {\n\t\t\t// If form was submitted by the user, bubble the event up the tree\n\t\t\tif ( event._submit_bubble ) {\n\t\t\t\tdelete event._submit_bubble;\n\t\t\t\tif ( this.parentNode && !event.isTrigger ) {\n\t\t\t\t\tjQuery.event.simulate( \"submit\", this.parentNode, event, true );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tteardown: function() {\n\t\t\t// Only need this for delegated form submit events\n\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Remove delegated handlers; cleanData eventually reaps submit handlers attached above\n\t\t\tjQuery.event.remove( this, \"._submit\" );\n\t\t}\n\t};\n}\n\n// IE change delegation and checkbox/radio fix\nif ( !jQuery.support.changeBubbles ) {\n\n\tjQuery.event.special.change = {\n\n\t\tsetup: function() {\n\n\t\t\tif ( rformElems.test( this.nodeName ) ) {\n\t\t\t\t// IE doesn't fire change on a check/radio until blur; trigger it on click\n\t\t\t\t// after a propertychange. Eat the blur-change in special.change.handle.\n\t\t\t\t// This still fires onchange a second time for check/radio after blur.\n\t\t\t\tif ( this.type === \"checkbox\" || this.type === \"radio\" ) {\n\t\t\t\t\tjQuery.event.add( this, \"propertychange._change\", function( event ) {\n\t\t\t\t\t\tif ( event.originalEvent.propertyName === \"checked\" ) {\n\t\t\t\t\t\t\tthis._just_changed = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tjQuery.event.add( this, \"click._change\", function( event ) {\n\t\t\t\t\t\tif ( this._just_changed && !event.isTrigger ) {\n\t\t\t\t\t\t\tthis._just_changed = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Allow triggered, simulated change events (#11500)\n\t\t\t\t\t\tjQuery.event.simulate( \"change\", this, event, true );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Delegated event; lazy-add a change handler on descendant inputs\n\t\t\tjQuery.event.add( this, \"beforeactivate._change\", function( e ) {\n\t\t\t\tvar elem = e.target;\n\n\t\t\t\tif ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, \"_change_attached\" ) ) {\n\t\t\t\t\tjQuery.event.add( elem, \"change._change\", function( event ) {\n\t\t\t\t\t\tif ( this.parentNode && !event.isSimulated && !event.isTrigger ) {\n\t\t\t\t\t\t\tjQuery.event.simulate( \"change\", this.parentNode, event, true );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tjQuery._data( elem, \"_change_attached\", true );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\thandle: function( event ) {\n\t\t\tvar elem = event.target;\n\n\t\t\t// Swallow native change events from checkbox/radio, we already triggered them above\n\t\t\tif ( this !== elem || event.isSimulated || event.isTrigger || (elem.type !== \"radio\" && elem.type !== \"checkbox\") ) {\n\t\t\t\treturn event.handleObj.handler.apply( this, arguments );\n\t\t\t}\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tjQuery.event.remove( this, \"._change\" );\n\n\t\t\treturn !rformElems.test( this.nodeName );\n\t\t}\n\t};\n}\n\n// Create \"bubbling\" focus and blur events\nif ( !jQuery.support.focusinBubbles ) {\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler while someone wants focusin/focusout\n\t\tvar attaches = 0,\n\t\t\thandler = function( event ) {\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\n\t\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tif ( attaches++ === 0 ) {\n\t\t\t\t\tdocument.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tif ( --attaches === 0 ) {\n\t\t\t\t\tdocument.removeEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n}\n\njQuery.fn.extend({\n\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\n\t\tvar origFn, type;\n\n\t\t// Types can be a map of types/handlers\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-Object, selector, data )\n\t\t\tif ( typeof selector !== \"string\" ) { // && selector != null\n\t\t\t\t// ( types-Object, data )\n\t\t\t\tdata = data || selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( data == null && fn == null ) {\n\t\t\t// ( types, fn )\n\t\t\tfn = selector;\n\t\t\tdata = selector = undefined;\n\t\t} else if ( fn == null ) {\n\t\t\tif ( typeof selector === \"string\" ) {\n\t\t\t\t// ( types, selector, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = undefined;\n\t\t\t} else {\n\t\t\t\t// ( types, data, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t} else if ( !fn ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( one === 1 ) {\n\t\t\torigFn = fn;\n\t\t\tfn = function( event ) {\n\t\t\t\t// Can use an empty set, since event contains the info\n\t\t\t\tjQuery().off( event );\n\t\t\t\treturn origFn.apply( this, arguments );\n\t\t\t};\n\t\t\t// Use same guid so caller can remove using origFn\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\n\t\t});\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn this.on( types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t});\n\t},\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tlive: function( types, data, fn ) {\n\t\tjQuery( this.context ).on( types, this.selector, data, fn );\n\t\treturn this;\n\t},\n\tdie: function( types, fn ) {\n\t\tjQuery( this.context ).off( types, this.selector || \"**\", fn );\n\t\treturn this;\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length == 1? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\n\t},\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t});\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tif ( this[0] ) {\n\t\t\treturn jQuery.event.trigger( type, data, this[0], true );\n\t\t}\n\t},\n\n\ttoggle: function( fn ) {\n\t\t// Save reference to arguments for access in closure\n\t\tvar args = arguments,\n\t\t\tguid = fn.guid || jQuery.guid++,\n\t\t\ti = 0,\n\t\t\ttoggler = function( event ) {\n\t\t\t\t// Figure out which function to execute\n\t\t\t\tvar lastToggle = ( jQuery._data( this, \"lastToggle\" + fn.guid ) || 0 ) % i;\n\t\t\t\tjQuery._data( this, \"lastToggle\" + fn.guid, lastToggle + 1 );\n\n\t\t\t\t// Make sure that clicks stop\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// and execute the function\n\t\t\t\treturn args[ lastToggle ].apply( this, arguments ) || false;\n\t\t\t};\n\n\t\t// link all the functions, so any of them can unbind this click handler\n\t\ttoggler.guid = guid;\n\t\twhile ( i < args.length ) {\n\t\t\targs[ i++ ].guid = guid;\n\t\t}\n\n\t\treturn this.click( toggler );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n});\n\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\tif ( fn == null ) {\n\t\t\tfn = data;\n\t\t\tdata = null;\n\t\t}\n\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n\n\tif ( rkeyEvent.test( name ) ) {\n\t\tjQuery.event.fixHooks[ name ] = jQuery.event.keyHooks;\n\t}\n\n\tif ( rmouseEvent.test( name ) ) {\n\t\tjQuery.event.fixHooks[ name ] = jQuery.event.mouseHooks;\n\t}\n});\n/*!\r\n * Sizzle CSS Selector Engine\r\n *  Copyright 2012 jQuery Foundation and other contributors\r\n *  Released under the MIT license\r\n *  http://sizzlejs.com/\r\n */\r\n(function( window, undefined ) {\r\n\r\nvar dirruns,\r\n\tcachedruns,\r\n\tassertGetIdNotName,\r\n\tExpr,\r\n\tgetText,\r\n\tisXML,\r\n\tcontains,\r\n\tcompile,\r\n\tsortOrder,\r\n\thasDuplicate,\r\n\r\n\tbaseHasDuplicate = true,\r\n\tstrundefined = \"undefined\",\r\n\r\n\texpando = ( \"sizcache\" + Math.random() ).replace( \".\", \"\" ),\r\n\r\n\tdocument = window.document,\r\n\tdocElem = document.documentElement,\r\n\tdone = 0,\r\n\tslice = [].slice,\r\n\tpush = [].push,\r\n\r\n\t// Augment a function for special use by Sizzle\r\n\tmarkFunction = function( fn, value ) {\r\n\t\tfn[ expando ] = value || true;\r\n\t\treturn fn;\r\n\t},\r\n\r\n\tcreateCache = function() {\r\n\t\tvar cache = {},\r\n\t\t\tkeys = [];\r\n\r\n\t\treturn markFunction(function( key, value ) {\r\n\t\t\t// Only keep the most recent entries\r\n\t\t\tif ( keys.push( key ) > Expr.cacheLength ) {\r\n\t\t\t\tdelete cache[ keys.shift() ];\r\n\t\t\t}\r\n\r\n\t\t\treturn (cache[ key ] = value);\r\n\t\t}, cache );\r\n\t},\r\n\r\n\tclassCache = createCache(),\r\n\ttokenCache = createCache(),\r\n\tcompilerCache = createCache(),\r\n\r\n\t// Regex\r\n\r\n\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\r\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\r\n\t// http://www.w3.org/TR/css3-syntax/#characters\r\n\tcharacterEncoding = \"(?:\\\\\\\\.|[-\\\\w]|[^\\\\x00-\\\\xa0])+\",\r\n\r\n\t// Loosely modeled on CSS identifier characters\r\n\t// An unquoted value should be a CSS identifier (http://www.w3.org/TR/css3-selectors/#attribute-selectors)\r\n\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\r\n\tidentifier = characterEncoding.replace( \"w\", \"w#\" ),\r\n\r\n\t// Acceptable operators http://www.w3.org/TR/selectors/#attribute-selectors\r\n\toperators = \"([*^$|!~]?=)\",\r\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")\" + whitespace +\r\n\t\t\"*(?:\" + operators + whitespace + \"*(?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(\" + identifier + \")|)|)\" + whitespace + \"*\\\\]\",\r\n\r\n\t// Prefer arguments not in parens/brackets,\r\n\t//   then attribute selectors and non-pseudos (denoted by :),\r\n\t//   then anything else\r\n\t// These preferences are here to reduce the number of selectors\r\n\t//   needing tokenize in the PSEUDO preFilter\r\n\tpseudos = \":(\" + characterEncoding + \")(?:\\\\((?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\2|([^()[\\\\]]*|(?:(?:\" + attributes + \")|[^:]|\\\\\\\\.)*|.*))\\\\)|)\",\r\n\r\n\t// For matchExpr.POS and matchExpr.needsContext\r\n\tpos = \":(nth|eq|gt|lt|first|last|even|odd)(?:\\\\(((?:-\\\\d)?\\\\d*)\\\\)|)(?=[^-]|$)\",\r\n\r\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\r\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\r\n\r\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\r\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])\" + whitespace + \"*\" ),\r\n\trpseudo = new RegExp( pseudos ),\r\n\r\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\r\n\trquickExpr = /^(?:#([\\w\\-]+)|(\\w+)|\\.([\\w\\-]+))$/,\r\n\r\n\trnot = /^:not/,\r\n\trsibling = /[\\x20\\t\\r\\n\\f]*[+~]/,\r\n\trendsWithNot = /:not\\($/,\r\n\r\n\trheader = /h\\d/i,\r\n\trinputs = /input|select|textarea|button/i,\r\n\r\n\trbackslash = /\\\\(?!\\\\)/g,\r\n\r\n\tmatchExpr = {\r\n\t\t\"ID\": new RegExp( \"^#(\" + characterEncoding + \")\" ),\r\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + characterEncoding + \")\" ),\r\n\t\t\"NAME\": new RegExp( \"^\\\\[name=['\\\"]?(\" + characterEncoding + \")['\\\"]?\\\\]\" ),\r\n\t\t\"TAG\": new RegExp( \"^(\" + characterEncoding.replace( \"w\", \"w*\" ) + \")\" ),\r\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\r\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\r\n\t\t\"CHILD\": new RegExp( \"^:(only|nth|last|first)-child(?:\\\\(\" + whitespace +\r\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\r\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\r\n\t\t\"POS\": new RegExp( pos, \"ig\" ),\r\n\t\t// For use in libraries implementing .is()\r\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|\" + pos, \"i\" )\r\n\t},\r\n\r\n\t// Support\r\n\r\n\t// Used for testing something on an element\r\n\tassert = function( fn ) {\r\n\t\tvar div = document.createElement(\"div\");\r\n\r\n\t\ttry {\r\n\t\t\treturn fn( div );\r\n\t\t} catch (e) {\r\n\t\t\treturn false;\r\n\t\t} finally {\r\n\t\t\t// release memory in IE\r\n\t\t\tdiv = null;\r\n\t\t}\r\n\t},\r\n\r\n\t// Check if getElementsByTagName(\"*\") returns only elements\r\n\tassertTagNameNoComments = assert(function( div ) {\r\n\t\tdiv.appendChild( document.createComment(\"\") );\r\n\t\treturn !div.getElementsByTagName(\"*\").length;\r\n\t}),\r\n\r\n\t// Check if getAttribute returns normalized href attributes\r\n\tassertHrefNotNormalized = assert(function( div ) {\r\n\t\tdiv.innerHTML = \"<a href='#'></a>\";\r\n\t\treturn div.firstChild && typeof div.firstChild.getAttribute !== strundefined &&\r\n\t\t\tdiv.firstChild.getAttribute(\"href\") === \"#\";\r\n\t}),\r\n\r\n\t// Check if attributes should be retrieved by attribute nodes\r\n\tassertAttributes = assert(function( div ) {\r\n\t\tdiv.innerHTML = \"<select></select>\";\r\n\t\tvar type = typeof div.lastChild.getAttribute(\"multiple\");\r\n\t\t// IE8 returns a string for some attributes even when not present\r\n\t\treturn type !== \"boolean\" && type !== \"string\";\r\n\t}),\r\n\r\n\t// Check if getElementsByClassName can be trusted\r\n\tassertUsableClassName = assert(function( div ) {\r\n\t\t// Opera can't find a second classname (in 9.6)\r\n\t\tdiv.innerHTML = \"<div class='hidden e'></div><div class='hidden'></div>\";\r\n\t\tif ( !div.getElementsByClassName || !div.getElementsByClassName(\"e\").length ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Safari 3.2 caches class attributes and doesn't catch changes\r\n\t\tdiv.lastChild.className = \"e\";\r\n\t\treturn div.getElementsByClassName(\"e\").length === 2;\r\n\t}),\r\n\r\n\t// Check if getElementById returns elements by name\r\n\t// Check if getElementsByName privileges form controls or returns elements by ID\r\n\tassertUsableName = assert(function( div ) {\r\n\t\t// Inject content\r\n\t\tdiv.id = expando + 0;\r\n\t\tdiv.innerHTML = \"<a name='\" + expando + \"'></a><div name='\" + expando + \"'></div>\";\r\n\t\tdocElem.insertBefore( div, docElem.firstChild );\r\n\r\n\t\t// Test\r\n\t\tvar pass = document.getElementsByName &&\r\n\t\t\t// buggy browsers will return fewer than the correct 2\r\n\t\t\tdocument.getElementsByName( expando ).length === 2 +\r\n\t\t\t// buggy browsers will return more than the correct 0\r\n\t\t\tdocument.getElementsByName( expando + 0 ).length;\r\n\t\tassertGetIdNotName = !document.getElementById( expando );\r\n\r\n\t\t// Cleanup\r\n\t\tdocElem.removeChild( div );\r\n\r\n\t\treturn pass;\r\n\t});\r\n\r\n// If slice is not available, provide a backup\r\ntry {\r\n\tslice.call( docElem.childNodes, 0 )[0].nodeType;\r\n} catch ( e ) {\r\n\tslice = function( i ) {\r\n\t\tvar elem, results = [];\r\n\t\tfor ( ; (elem = this[i]); i++ ) {\r\n\t\t\tresults.push( elem );\r\n\t\t}\r\n\t\treturn results;\r\n\t};\r\n}\r\n\r\nfunction Sizzle( selector, context, results, seed ) {\r\n\tresults = results || [];\r\n\tcontext = context || document;\r\n\tvar match, elem, xml, m,\r\n\t\tnodeType = context.nodeType;\r\n\r\n\tif ( nodeType !== 1 && nodeType !== 9 ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tif ( !selector || typeof selector !== \"string\" ) {\r\n\t\treturn results;\r\n\t}\r\n\r\n\txml = isXML( context );\r\n\r\n\tif ( !xml && !seed ) {\r\n\t\tif ( (match = rquickExpr.exec( selector )) ) {\r\n\t\t\t// Speed-up: Sizzle(\"#ID\")\r\n\t\t\tif ( (m = match[1]) ) {\r\n\t\t\t\tif ( nodeType === 9 ) {\r\n\t\t\t\t\telem = context.getElementById( m );\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\t\tif ( elem && elem.parentNode ) {\r\n\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\r\n\t\t\t\t\t\t// by name instead of ID\r\n\t\t\t\t\t\tif ( elem.id === m ) {\r\n\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Context is not a document\r\n\t\t\t\t\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\r\n\t\t\t\t\t\tcontains( context, elem ) && elem.id === m ) {\r\n\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t// Speed-up: Sizzle(\"TAG\")\r\n\t\t\t} else if ( match[2] ) {\r\n\t\t\t\tpush.apply( results, slice.call(context.getElementsByTagName( selector ), 0) );\r\n\t\t\t\treturn results;\r\n\r\n\t\t\t// Speed-up: Sizzle(\".CLASS\")\r\n\t\t\t} else if ( (m = match[3]) && assertUsableClassName && context.getElementsByClassName ) {\r\n\t\t\t\tpush.apply( results, slice.call(context.getElementsByClassName( m ), 0) );\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// All others\r\n\treturn select( selector, context, results, seed, xml );\r\n}\r\n\r\nSizzle.matches = function( expr, elements ) {\r\n\treturn Sizzle( expr, null, null, elements );\r\n};\r\n\r\nSizzle.matchesSelector = function( elem, expr ) {\r\n\treturn Sizzle( expr, null, null, [ elem ] ).length > 0;\r\n};\r\n\r\n// Returns a function to use in pseudos for input types\r\nfunction createInputPseudo( type ) {\r\n\treturn function( elem ) {\r\n\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\treturn name === \"input\" && elem.type === type;\r\n\t};\r\n}\r\n\r\n// Returns a function to use in pseudos for buttons\r\nfunction createButtonPseudo( type ) {\r\n\treturn function( elem ) {\r\n\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\r\n\t};\r\n}\r\n\r\n/**\r\n * Utility function for retrieving the text value of an array of DOM nodes\r\n * @param {Array|Element} elem\r\n */\r\ngetText = Sizzle.getText = function( elem ) {\r\n\tvar node,\r\n\t\tret = \"\",\r\n\t\ti = 0,\r\n\t\tnodeType = elem.nodeType;\r\n\r\n\tif ( nodeType ) {\r\n\t\tif ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\r\n\t\t\t// Use textContent for elements\r\n\t\t\t// innerText usage removed for consistency of new lines (see #11153)\r\n\t\t\tif ( typeof elem.textContent === \"string\" ) {\r\n\t\t\t\treturn elem.textContent;\r\n\t\t\t} else {\r\n\t\t\t\t// Traverse its children\r\n\t\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\t\tret += getText( elem );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if ( nodeType === 3 || nodeType === 4 ) {\r\n\t\t\treturn elem.nodeValue;\r\n\t\t}\r\n\t\t// Do not include comment or processing instruction nodes\r\n\t} else {\r\n\r\n\t\t// If no nodeType, this is expected to be an array\r\n\t\tfor ( ; (node = elem[i]); i++ ) {\r\n\t\t\t// Do not traverse comment nodes\r\n\t\t\tret += getText( node );\r\n\t\t}\r\n\t}\r\n\treturn ret;\r\n};\r\n\r\nisXML = Sizzle.isXML = function isXML( elem ) {\r\n\t// documentElement is verified for cases where it doesn't yet exist\r\n\t// (such as loading iframes in IE - #4833)\r\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\r\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\r\n};\r\n\r\n// Element contains another\r\ncontains = Sizzle.contains = docElem.contains ?\r\n\tfunction( a, b ) {\r\n\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\r\n\t\t\tbup = b && b.parentNode;\r\n\t\treturn a === bup || !!( bup && bup.nodeType === 1 && adown.contains && adown.contains(bup) );\r\n\t} :\r\n\tdocElem.compareDocumentPosition ?\r\n\tfunction( a, b ) {\r\n\t\treturn b && !!( a.compareDocumentPosition( b ) & 16 );\r\n\t} :\r\n\tfunction( a, b ) {\r\n\t\twhile ( (b = b.parentNode) ) {\r\n\t\t\tif ( b === a ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\nSizzle.attr = function( elem, name ) {\r\n\tvar attr,\r\n\t\txml = isXML( elem );\r\n\r\n\tif ( !xml ) {\r\n\t\tname = name.toLowerCase();\r\n\t}\r\n\tif ( Expr.attrHandle[ name ] ) {\r\n\t\treturn Expr.attrHandle[ name ]( elem );\r\n\t}\r\n\tif ( assertAttributes || xml ) {\r\n\t\treturn elem.getAttribute( name );\r\n\t}\r\n\tattr = elem.getAttributeNode( name );\r\n\treturn attr ?\r\n\t\ttypeof elem[ name ] === \"boolean\" ?\r\n\t\t\telem[ name ] ? name : null :\r\n\t\t\tattr.specified ? attr.value : null :\r\n\t\tnull;\r\n};\r\n\r\nExpr = Sizzle.selectors = {\r\n\r\n\t// Can be adjusted by the user\r\n\tcacheLength: 50,\r\n\r\n\tcreatePseudo: markFunction,\r\n\r\n\tmatch: matchExpr,\r\n\r\n\torder: new RegExp( \"ID|TAG\" +\r\n\t\t(assertUsableName ? \"|NAME\" : \"\") +\r\n\t\t(assertUsableClassName ? \"|CLASS\" : \"\")\r\n\t),\r\n\r\n\t// IE6/7 return a modified href\r\n\tattrHandle: assertHrefNotNormalized ?\r\n\t\t{} :\r\n\t\t{\r\n\t\t\t\"href\": function( elem ) {\r\n\t\t\t\treturn elem.getAttribute( \"href\", 2 );\r\n\t\t\t},\r\n\t\t\t\"type\": function( elem ) {\r\n\t\t\t\treturn elem.getAttribute(\"type\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\tfind: {\r\n\t\t\"ID\": assertGetIdNotName ?\r\n\t\t\tfunction( id, context, xml ) {\r\n\t\t\t\tif ( typeof context.getElementById !== strundefined && !xml ) {\r\n\t\t\t\t\tvar m = context.getElementById( id );\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\t\treturn m && m.parentNode ? [m] : [];\r\n\t\t\t\t}\r\n\t\t\t} :\r\n\t\t\tfunction( id, context, xml ) {\r\n\t\t\t\tif ( typeof context.getElementById !== strundefined && !xml ) {\r\n\t\t\t\t\tvar m = context.getElementById( id );\r\n\r\n\t\t\t\t\treturn m ?\r\n\t\t\t\t\t\tm.id === id || typeof m.getAttributeNode !== strundefined && m.getAttributeNode(\"id\").value === id ?\r\n\t\t\t\t\t\t\t[m] :\r\n\t\t\t\t\t\t\tundefined :\r\n\t\t\t\t\t\t[];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\"TAG\": assertTagNameNoComments ?\r\n\t\t\tfunction( tag, context ) {\r\n\t\t\t\tif ( typeof context.getElementsByTagName !== strundefined ) {\r\n\t\t\t\t\treturn context.getElementsByTagName( tag );\r\n\t\t\t\t}\r\n\t\t\t} :\r\n\t\t\tfunction( tag, context ) {\r\n\t\t\t\tvar results = context.getElementsByTagName( tag );\r\n\r\n\t\t\t\t// Filter out possible comments\r\n\t\t\t\tif ( tag === \"*\" ) {\r\n\t\t\t\t\tvar elem,\r\n\t\t\t\t\t\ttmp = [],\r\n\t\t\t\t\t\ti = 0;\r\n\r\n\t\t\t\t\tfor ( ; (elem = results[i]); i++ ) {\r\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\t\ttmp.push( elem );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn tmp;\r\n\t\t\t\t}\r\n\t\t\t\treturn results;\r\n\t\t\t},\r\n\r\n\t\t\"NAME\": function( tag, context ) {\r\n\t\t\tif ( typeof context.getElementsByName !== strundefined ) {\r\n\t\t\t\treturn context.getElementsByName( name );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t\"CLASS\": function( className, context, xml ) {\r\n\t\t\tif ( typeof context.getElementsByClassName !== strundefined && !xml ) {\r\n\t\t\t\treturn context.getElementsByClassName( className );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\trelative: {\r\n\t\t\">\": { dir: \"parentNode\", first: true },\r\n\t\t\" \": { dir: \"parentNode\" },\r\n\t\t\"+\": { dir: \"previousSibling\", first: true },\r\n\t\t\"~\": { dir: \"previousSibling\" }\r\n\t},\r\n\r\n\tpreFilter: {\r\n\t\t\"ATTR\": function( match ) {\r\n\t\t\tmatch[1] = match[1].replace( rbackslash, \"\" );\r\n\r\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\r\n\t\t\tmatch[3] = ( match[4] || match[5] || \"\" ).replace( rbackslash, \"\" );\r\n\r\n\t\t\tif ( match[2] === \"~=\" ) {\r\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\r\n\t\t\t}\r\n\r\n\t\t\treturn match.slice( 0, 4 );\r\n\t\t},\r\n\r\n\t\t\"CHILD\": function( match ) {\r\n\t\t\t/* matches from matchExpr.CHILD\r\n\t\t\t\t1 type (only|nth|...)\r\n\t\t\t\t2 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\r\n\t\t\t\t3 xn-component of xn+y argument ([+-]?\\d*n|)\r\n\t\t\t\t4 sign of xn-component\r\n\t\t\t\t5 x of xn-component\r\n\t\t\t\t6 sign of y-component\r\n\t\t\t\t7 y of y-component\r\n\t\t\t*/\r\n\t\t\tmatch[1] = match[1].toLowerCase();\r\n\r\n\t\t\tif ( match[1] === \"nth\" ) {\r\n\t\t\t\t// nth-child requires argument\r\n\t\t\t\tif ( !match[2] ) {\r\n\t\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\r\n\t\t\t\t// remember that false/true cast respectively to 0/1\r\n\t\t\t\tmatch[3] = +( match[3] ? match[4] + (match[5] || 1) : 2 * ( match[2] === \"even\" || match[2] === \"odd\" ) );\r\n\t\t\t\tmatch[4] = +( ( match[6] + match[7] ) || match[2] === \"odd\" );\r\n\r\n\t\t\t// other types prohibit arguments\r\n\t\t\t} else if ( match[2] ) {\r\n\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t}\r\n\r\n\t\t\treturn match;\r\n\t\t},\r\n\r\n\t\t\"PSEUDO\": function( match, context, xml ) {\r\n\t\t\tvar unquoted, excess;\r\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tif ( match[3] ) {\r\n\t\t\t\tmatch[2] = match[3];\r\n\t\t\t} else if ( (unquoted = match[4]) ) {\r\n\t\t\t\t// Only check arguments that contain a pseudo\r\n\t\t\t\tif ( rpseudo.test(unquoted) &&\r\n\t\t\t\t\t// Get excess from tokenize (recursively)\r\n\t\t\t\t\t(excess = tokenize( unquoted, context, xml, true )) &&\r\n\t\t\t\t\t// advance to the next closing parenthesis\r\n\t\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\r\n\r\n\t\t\t\t\t// excess is a negative index\r\n\t\t\t\t\tunquoted = unquoted.slice( 0, excess );\r\n\t\t\t\t\tmatch[0] = match[0].slice( 0, excess );\r\n\t\t\t\t}\r\n\t\t\t\tmatch[2] = unquoted;\r\n\t\t\t}\r\n\r\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\r\n\t\t\treturn match.slice( 0, 3 );\r\n\t\t}\r\n\t},\r\n\r\n\tfilter: {\r\n\t\t\"ID\": assertGetIdNotName ?\r\n\t\t\tfunction( id ) {\r\n\t\t\t\tid = id.replace( rbackslash, \"\" );\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\treturn elem.getAttribute(\"id\") === id;\r\n\t\t\t\t};\r\n\t\t\t} :\r\n\t\t\tfunction( id ) {\r\n\t\t\t\tid = id.replace( rbackslash, \"\" );\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\tvar node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode(\"id\");\r\n\t\t\t\t\treturn node && node.value === id;\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\"TAG\": function( nodeName ) {\r\n\t\t\tif ( nodeName === \"*\" ) {\r\n\t\t\t\treturn function() { return true; };\r\n\t\t\t}\r\n\t\t\tnodeName = nodeName.replace( rbackslash, \"\" ).toLowerCase();\r\n\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"CLASS\": function( className ) {\r\n\t\t\tvar pattern = classCache[ expando ][ className ];\r\n\t\t\tif ( !pattern ) {\r\n\t\t\t\tpattern = classCache( className, new RegExp(\"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\") );\r\n\t\t\t}\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn pattern.test( elem.className || (typeof elem.getAttribute !== strundefined && elem.getAttribute(\"class\")) || \"\" );\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"ATTR\": function( name, operator, check ) {\r\n\t\t\tif ( !operator ) {\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\treturn Sizzle.attr( elem, name ) != null;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar result = Sizzle.attr( elem, name ),\r\n\t\t\t\t\tvalue = result + \"\";\r\n\r\n\t\t\t\tif ( result == null ) {\r\n\t\t\t\t\treturn operator === \"!=\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tswitch ( operator ) {\r\n\t\t\t\t\tcase \"=\":\r\n\t\t\t\t\t\treturn value === check;\r\n\t\t\t\t\tcase \"!=\":\r\n\t\t\t\t\t\treturn value !== check;\r\n\t\t\t\t\tcase \"^=\":\r\n\t\t\t\t\t\treturn check && value.indexOf( check ) === 0;\r\n\t\t\t\t\tcase \"*=\":\r\n\t\t\t\t\t\treturn check && value.indexOf( check ) > -1;\r\n\t\t\t\t\tcase \"$=\":\r\n\t\t\t\t\t\treturn check && value.substr( value.length - check.length ) === check;\r\n\t\t\t\t\tcase \"~=\":\r\n\t\t\t\t\t\treturn ( \" \" + value + \" \" ).indexOf( check ) > -1;\r\n\t\t\t\t\tcase \"|=\":\r\n\t\t\t\t\t\treturn value === check || value.substr( 0, check.length + 1 ) === check + \"-\";\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"CHILD\": function( type, argument, first, last ) {\r\n\r\n\t\t\tif ( type === \"nth\" ) {\r\n\t\t\t\tvar doneName = done++;\r\n\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\tvar parent, diff,\r\n\t\t\t\t\t\tcount = 0,\r\n\t\t\t\t\t\tnode = elem;\r\n\r\n\t\t\t\t\tif ( first === 1 && last === 0 ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tparent = elem.parentNode;\r\n\r\n\t\t\t\t\tif ( parent && (parent[ expando ] !== doneName || !elem.sizset) ) {\r\n\t\t\t\t\t\tfor ( node = parent.firstChild; node; node = node.nextSibling ) {\r\n\t\t\t\t\t\t\tif ( node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\tnode.sizset = ++count;\r\n\t\t\t\t\t\t\t\tif ( node === elem ) {\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tparent[ expando ] = doneName;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdiff = elem.sizset - last;\r\n\r\n\t\t\t\t\tif ( first === 0 ) {\r\n\t\t\t\t\t\treturn diff === 0;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn ( diff % first === 0 && diff / first >= 0 );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar node = elem;\r\n\r\n\t\t\t\tswitch ( type ) {\r\n\t\t\t\t\tcase \"only\":\r\n\t\t\t\t\tcase \"first\":\r\n\t\t\t\t\t\twhile ( (node = node.previousSibling) ) {\r\n\t\t\t\t\t\t\tif ( node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( type === \"first\" ) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tnode = elem;\r\n\r\n\t\t\t\t\t\t/* falls through */\r\n\t\t\t\t\tcase \"last\":\r\n\t\t\t\t\t\twhile ( (node = node.nextSibling) ) {\r\n\t\t\t\t\t\t\tif ( node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"PSEUDO\": function( pseudo, argument, context, xml ) {\r\n\t\t\t// pseudo-class names are case-insensitive\r\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\r\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\r\n\t\t\tvar args,\r\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.pseudos[ pseudo.toLowerCase() ];\r\n\r\n\t\t\tif ( !fn ) {\r\n\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\r\n\t\t\t}\r\n\r\n\t\t\t// The user may use createPseudo to indicate that\r\n\t\t\t// arguments are needed to create the filter function\r\n\t\t\t// just as Sizzle does\r\n\t\t\tif ( !fn[ expando ] ) {\r\n\t\t\t\tif ( fn.length > 1 ) {\r\n\t\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\r\n\t\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\t\treturn fn( elem, 0, args );\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn fn;\r\n\t\t\t}\r\n\r\n\t\t\treturn fn( argument, context, xml );\r\n\t\t}\r\n\t},\r\n\r\n\tpseudos: {\r\n\t\t\"not\": markFunction(function( selector, context, xml ) {\r\n\t\t\t// Trim the selector passed to compile\r\n\t\t\t// to avoid treating leading and trailing\r\n\t\t\t// spaces as combinators\r\n\t\t\tvar matcher = compile( selector.replace( rtrim, \"$1\" ), context, xml );\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn !matcher( elem );\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"enabled\": function( elem ) {\r\n\t\t\treturn elem.disabled === false;\r\n\t\t},\r\n\r\n\t\t\"disabled\": function( elem ) {\r\n\t\t\treturn elem.disabled === true;\r\n\t\t},\r\n\r\n\t\t\"checked\": function( elem ) {\r\n\t\t\t// In CSS3, :checked should return both checked and selected elements\r\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\r\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\r\n\t\t},\r\n\r\n\t\t\"selected\": function( elem ) {\r\n\t\t\t// Accessing this property makes selected-by-default\r\n\t\t\t// options in Safari work properly\r\n\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\telem.parentNode.selectedIndex;\r\n\t\t\t}\r\n\r\n\t\t\treturn elem.selected === true;\r\n\t\t},\r\n\r\n\t\t\"parent\": function( elem ) {\r\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\r\n\t\t},\r\n\r\n\t\t\"empty\": function( elem ) {\r\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\r\n\t\t\t// :empty is only affected by element nodes and content nodes(including text(3), cdata(4)),\r\n\t\t\t//   not comment, processing instructions, or others\r\n\t\t\t// Thanks to Diego Perini for the nodeName shortcut\r\n\t\t\t//   Greater than \"@\" means alpha characters (specifically not starting with \"#\" or \"?\")\r\n\t\t\tvar nodeType;\r\n\t\t\telem = elem.firstChild;\r\n\t\t\twhile ( elem ) {\r\n\t\t\t\tif ( elem.nodeName > \"@\" || (nodeType = elem.nodeType) === 3 || nodeType === 4 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telem = elem.nextSibling;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t\"contains\": markFunction(function( text ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"has\": markFunction(function( selector ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"header\": function( elem ) {\r\n\t\t\treturn rheader.test( elem.nodeName );\r\n\t\t},\r\n\r\n\t\t\"text\": function( elem ) {\r\n\t\t\tvar type, attr;\r\n\t\t\t// IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)\r\n\t\t\t// use getAttribute instead to test this case\r\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\r\n\t\t\t\t(type = elem.type) === \"text\" &&\r\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === type );\r\n\t\t},\r\n\r\n\t\t// Input types\r\n\t\t\"radio\": createInputPseudo(\"radio\"),\r\n\t\t\"checkbox\": createInputPseudo(\"checkbox\"),\r\n\t\t\"file\": createInputPseudo(\"file\"),\r\n\t\t\"password\": createInputPseudo(\"password\"),\r\n\t\t\"image\": createInputPseudo(\"image\"),\r\n\r\n\t\t\"submit\": createButtonPseudo(\"submit\"),\r\n\t\t\"reset\": createButtonPseudo(\"reset\"),\r\n\r\n\t\t\"button\": function( elem ) {\r\n\t\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\r\n\t\t},\r\n\r\n\t\t\"input\": function( elem ) {\r\n\t\t\treturn rinputs.test( elem.nodeName );\r\n\t\t},\r\n\r\n\t\t\"focus\": function( elem ) {\r\n\t\t\tvar doc = elem.ownerDocument;\r\n\t\t\treturn elem === doc.activeElement && (!doc.hasFocus || doc.hasFocus()) && !!(elem.type || elem.href);\r\n\t\t},\r\n\r\n\t\t\"active\": function( elem ) {\r\n\t\t\treturn elem === elem.ownerDocument.activeElement;\r\n\t\t}\r\n\t},\r\n\r\n\tsetFilters: {\r\n\t\t\"first\": function( elements, argument, not ) {\r\n\t\t\treturn not ? elements.slice( 1 ) : [ elements[0] ];\r\n\t\t},\r\n\r\n\t\t\"last\": function( elements, argument, not ) {\r\n\t\t\tvar elem = elements.pop();\r\n\t\t\treturn not ? elements : [ elem ];\r\n\t\t},\r\n\r\n\t\t\"even\": function( elements, argument, not ) {\r\n\t\t\tvar results = [],\r\n\t\t\t\ti = not ? 1 : 0,\r\n\t\t\t\tlen = elements.length;\r\n\t\t\tfor ( ; i < len; i = i + 2 ) {\r\n\t\t\t\tresults.push( elements[i] );\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t},\r\n\r\n\t\t\"odd\": function( elements, argument, not ) {\r\n\t\t\tvar results = [],\r\n\t\t\t\ti = not ? 0 : 1,\r\n\t\t\t\tlen = elements.length;\r\n\t\t\tfor ( ; i < len; i = i + 2 ) {\r\n\t\t\t\tresults.push( elements[i] );\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t},\r\n\r\n\t\t\"lt\": function( elements, argument, not ) {\r\n\t\t\treturn not ? elements.slice( +argument ) : elements.slice( 0, +argument );\r\n\t\t},\r\n\r\n\t\t\"gt\": function( elements, argument, not ) {\r\n\t\t\treturn not ? elements.slice( 0, +argument + 1 ) : elements.slice( +argument + 1 );\r\n\t\t},\r\n\r\n\t\t\"eq\": function( elements, argument, not ) {\r\n\t\t\tvar elem = elements.splice( +argument, 1 );\r\n\t\t\treturn not ? elements : elem;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction siblingCheck( a, b, ret ) {\r\n\tif ( a === b ) {\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tvar cur = a.nextSibling;\r\n\r\n\twhile ( cur ) {\r\n\t\tif ( cur === b ) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\tcur = cur.nextSibling;\r\n\t}\r\n\r\n\treturn 1;\r\n}\r\n\r\nsortOrder = docElem.compareDocumentPosition ?\r\n\tfunction( a, b ) {\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\treturn ( !a.compareDocumentPosition || !b.compareDocumentPosition ?\r\n\t\t\ta.compareDocumentPosition :\r\n\t\t\ta.compareDocumentPosition(b) & 4\r\n\t\t) ? -1 : 1;\r\n\t} :\r\n\tfunction( a, b ) {\r\n\t\t// The nodes are identical, we can exit early\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t\treturn 0;\r\n\r\n\t\t// Fallback to using sourceIndex (in IE) if it's available on both nodes\r\n\t\t} else if ( a.sourceIndex && b.sourceIndex ) {\r\n\t\t\treturn a.sourceIndex - b.sourceIndex;\r\n\t\t}\r\n\r\n\t\tvar al, bl,\r\n\t\t\tap = [],\r\n\t\t\tbp = [],\r\n\t\t\taup = a.parentNode,\r\n\t\t\tbup = b.parentNode,\r\n\t\t\tcur = aup;\r\n\r\n\t\t// If the nodes are siblings (or identical) we can do a quick check\r\n\t\tif ( aup === bup ) {\r\n\t\t\treturn siblingCheck( a, b );\r\n\r\n\t\t// If no parents were found then the nodes are disconnected\r\n\t\t} else if ( !aup ) {\r\n\t\t\treturn -1;\r\n\r\n\t\t} else if ( !bup ) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\t// Otherwise they're somewhere else in the tree so we need\r\n\t\t// to build up a full list of the parentNodes for comparison\r\n\t\twhile ( cur ) {\r\n\t\t\tap.unshift( cur );\r\n\t\t\tcur = cur.parentNode;\r\n\t\t}\r\n\r\n\t\tcur = bup;\r\n\r\n\t\twhile ( cur ) {\r\n\t\t\tbp.unshift( cur );\r\n\t\t\tcur = cur.parentNode;\r\n\t\t}\r\n\r\n\t\tal = ap.length;\r\n\t\tbl = bp.length;\r\n\r\n\t\t// Start walking down the tree looking for a discrepancy\r\n\t\tfor ( var i = 0; i < al && i < bl; i++ ) {\r\n\t\t\tif ( ap[i] !== bp[i] ) {\r\n\t\t\t\treturn siblingCheck( ap[i], bp[i] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// We ended someplace up the tree so do a sibling check\r\n\t\treturn i === al ?\r\n\t\t\tsiblingCheck( a, bp[i], -1 ) :\r\n\t\t\tsiblingCheck( ap[i], b, 1 );\r\n\t};\r\n\r\n// Always assume the presence of duplicates if sort doesn't\r\n// pass them to our comparison function (as in Google Chrome).\r\n[0, 0].sort( sortOrder );\r\nbaseHasDuplicate = !hasDuplicate;\r\n\r\n// Document sorting and removing duplicates\r\nSizzle.uniqueSort = function( results ) {\r\n\tvar elem,\r\n\t\ti = 1;\r\n\r\n\thasDuplicate = baseHasDuplicate;\r\n\tresults.sort( sortOrder );\r\n\r\n\tif ( hasDuplicate ) {\r\n\t\tfor ( ; (elem = results[i]); i++ ) {\r\n\t\t\tif ( elem === results[ i - 1 ] ) {\r\n\t\t\t\tresults.splice( i--, 1 );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn results;\r\n};\r\n\r\nSizzle.error = function( msg ) {\r\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\r\n};\r\n\r\nfunction tokenize( selector, context, xml, parseOnly ) {\r\n\tvar matched, match, tokens, type,\r\n\t\tsoFar, groups, group, i,\r\n\t\tpreFilters, filters,\r\n\t\tcheckContext = !xml && context !== document,\r\n\t\t// Token cache should maintain spaces\r\n\t\tkey = ( checkContext ? \"<s>\" : \"\" ) + selector.replace( rtrim, \"$1<s>\" ),\r\n\t\tcached = tokenCache[ expando ][ key ];\r\n\r\n\tif ( cached ) {\r\n\t\treturn parseOnly ? 0 : slice.call( cached, 0 );\r\n\t}\r\n\r\n\tsoFar = selector;\r\n\tgroups = [];\r\n\ti = 0;\r\n\tpreFilters = Expr.preFilter;\r\n\tfilters = Expr.filter;\r\n\r\n\twhile ( soFar ) {\r\n\r\n\t\t// Comma and first run\r\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\r\n\t\t\tif ( match ) {\r\n\t\t\t\tsoFar = soFar.slice( match[0].length );\r\n\t\t\t\ttokens.selector = group;\r\n\t\t\t}\r\n\t\t\tgroups.push( tokens = [] );\r\n\t\t\tgroup = \"\";\r\n\r\n\t\t\t// Need to make sure we're within a narrower context if necessary\r\n\t\t\t// Adding a descendant combinator will generate what is needed\r\n\t\t\tif ( checkContext ) {\r\n\t\t\t\tsoFar = \" \" + soFar;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmatched = false;\r\n\r\n\t\t// Combinators\r\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\r\n\t\t\tgroup += match[0];\r\n\t\t\tsoFar = soFar.slice( match[0].length );\r\n\r\n\t\t\t// Cast descendant combinators to space\r\n\t\t\tmatched = tokens.push({\r\n\t\t\t\tpart: match.pop().replace( rtrim, \" \" ),\r\n\t\t\t\tstring: match[0],\r\n\t\t\t\tcaptures: match\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Filters\r\n\t\tfor ( type in filters ) {\r\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\r\n\t\t\t\t( match = preFilters[ type ](match, context, xml) )) ) {\r\n\r\n\t\t\t\tgroup += match[0];\r\n\t\t\t\tsoFar = soFar.slice( match[0].length );\r\n\t\t\t\tmatched = tokens.push({\r\n\t\t\t\t\tpart: type,\r\n\t\t\t\t\tstring: match.shift(),\r\n\t\t\t\t\tcaptures: match\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !matched ) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// Attach the full group as a selector\r\n\tif ( group ) {\r\n\t\ttokens.selector = group;\r\n\t}\r\n\r\n\t// Return the length of the invalid excess\r\n\t// if we're just parsing\r\n\t// Otherwise, throw an error or return tokens\r\n\treturn parseOnly ?\r\n\t\tsoFar.length :\r\n\t\tsoFar ?\r\n\t\t\tSizzle.error( selector ) :\r\n\t\t\t// Cache the tokens\r\n\t\t\tslice.call( tokenCache(key, groups), 0 );\r\n}\r\n\r\nfunction addCombinator( matcher, combinator, context, xml ) {\r\n\tvar dir = combinator.dir,\r\n\t\tdoneName = done++;\r\n\r\n\tif ( !matcher ) {\r\n\t\t// If there is no matcher to check, check against the context\r\n\t\tmatcher = function( elem ) {\r\n\t\t\treturn elem === context;\r\n\t\t};\r\n\t}\r\n\treturn combinator.first ?\r\n\t\tfunction( elem ) {\r\n\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\treturn matcher( elem ) && elem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} :\r\n\t\txml ?\r\n\t\t\tfunction( elem ) {\r\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\tif ( matcher( elem ) ) {\r\n\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} :\r\n\t\t\tfunction( elem ) {\r\n\t\t\t\tvar cache,\r\n\t\t\t\t\tdirkey = doneName + \".\" + dirruns,\r\n\t\t\t\t\tcachedkey = dirkey + \".\" + cachedruns;\r\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\tif ( (cache = elem[ expando ]) === cachedkey ) {\r\n\t\t\t\t\t\t\treturn elem.sizset;\r\n\t\t\t\t\t\t} else if ( typeof cache === \"string\" && cache.indexOf(dirkey) === 0 ) {\r\n\t\t\t\t\t\t\tif ( elem.sizset ) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem[ expando ] = cachedkey;\r\n\t\t\t\t\t\t\tif ( matcher( elem ) ) {\r\n\t\t\t\t\t\t\t\telem.sizset = true;\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telem.sizset = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n}\r\n\r\nfunction addMatcher( higher, deeper ) {\r\n\treturn higher ?\r\n\t\tfunction( elem ) {\r\n\t\t\tvar result = deeper( elem );\r\n\t\t\treturn result && higher( result === true ? elem : result );\r\n\t\t} :\r\n\t\tdeeper;\r\n}\r\n\r\n// [\"TAG\", \">\", \"ID\", \" \", \"CLASS\"]\r\nfunction matcherFromTokens( tokens, context, xml ) {\r\n\tvar token, matcher,\r\n\t\ti = 0;\r\n\r\n\tfor ( ; (token = tokens[i]); i++ ) {\r\n\t\tif ( Expr.relative[ token.part ] ) {\r\n\t\t\tmatcher = addCombinator( matcher, Expr.relative[ token.part ], context, xml );\r\n\t\t} else {\r\n\t\t\tmatcher = addMatcher( matcher, Expr.filter[ token.part ].apply(null, token.captures.concat( context, xml )) );\r\n\t\t}\r\n\t}\r\n\r\n\treturn matcher;\r\n}\r\n\r\nfunction matcherFromGroupMatchers( matchers ) {\r\n\treturn function( elem ) {\r\n\t\tvar matcher,\r\n\t\t\tj = 0;\r\n\t\tfor ( ; (matcher = matchers[j]); j++ ) {\r\n\t\t\tif ( matcher(elem) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n}\r\n\r\ncompile = Sizzle.compile = function( selector, context, xml ) {\r\n\tvar group, i, len,\r\n\t\tcached = compilerCache[ expando ][ selector ];\r\n\r\n\t// Return a cached group function if already generated (context dependent)\r\n\tif ( cached && cached.context === context ) {\r\n\t\treturn cached;\r\n\t}\r\n\r\n\t// Generate a function of recursive functions that can be used to check each element\r\n\tgroup = tokenize( selector, context, xml );\r\n\tfor ( i = 0, len = group.length; i < len; i++ ) {\r\n\t\tgroup[i] = matcherFromTokens(group[i], context, xml);\r\n\t}\r\n\r\n\t// Cache the compiled function\r\n\tcached = compilerCache( selector, matcherFromGroupMatchers(group) );\r\n\tcached.context = context;\r\n\tcached.runs = cached.dirruns = 0;\r\n\treturn cached;\r\n};\r\n\r\nfunction multipleContexts( selector, contexts, results, seed ) {\r\n\tvar i = 0,\r\n\t\tlen = contexts.length;\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tSizzle( selector, contexts[i], results, seed );\r\n\t}\r\n}\r\n\r\nfunction handlePOSGroup( selector, posfilter, argument, contexts, seed, not ) {\r\n\tvar results,\r\n\t\tfn = Expr.setFilters[ posfilter.toLowerCase() ];\r\n\r\n\tif ( !fn ) {\r\n\t\tSizzle.error( posfilter );\r\n\t}\r\n\r\n\tif ( selector || !(results = seed) ) {\r\n\t\tmultipleContexts( selector || \"*\", contexts, (results = []), seed );\r\n\t}\r\n\r\n\treturn results.length > 0 ? fn( results, argument, not ) : [];\r\n}\r\n\r\nfunction handlePOS( groups, context, results, seed ) {\r\n\tvar group, part, j, groupLen, token, selector,\r\n\t\tanchor, elements, match, matched,\r\n\t\tlastIndex, currentContexts, not,\r\n\t\ti = 0,\r\n\t\tlen = groups.length,\r\n\t\trpos = matchExpr[\"POS\"],\r\n\t\t// This is generated here in case matchExpr[\"POS\"] is extended\r\n\t\trposgroups = new RegExp( \"^\" + rpos.source + \"(?!\" + whitespace + \")\", \"i\" ),\r\n\t\t// This is for making sure non-participating\r\n\t\t// matching groups are represented cross-browser (IE6-8)\r\n\t\tsetUndefined = function() {\r\n\t\t\tvar i = 1,\r\n\t\t\t\tlen = arguments.length - 2;\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\tif ( arguments[i] === undefined ) {\r\n\t\t\t\t\tmatch[i] = undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tgroup = groups[i];\r\n\t\tpart = \"\";\r\n\t\telements = seed;\r\n\t\tfor ( j = 0, groupLen = group.length; j < groupLen; j++ ) {\r\n\t\t\ttoken = group[j];\r\n\t\t\tselector = token.string;\r\n\t\t\tif ( token.part === \"PSEUDO\" ) {\r\n\t\t\t\t// Reset regex index to 0\r\n\t\t\t\trpos.exec(\"\");\r\n\t\t\t\tanchor = 0;\r\n\t\t\t\twhile ( (match = rpos.exec( selector )) ) {\r\n\t\t\t\t\tmatched = true;\r\n\t\t\t\t\tlastIndex = rpos.lastIndex = match.index + match[0].length;\r\n\t\t\t\t\tif ( lastIndex > anchor ) {\r\n\t\t\t\t\t\tpart += selector.slice( anchor, match.index );\r\n\t\t\t\t\t\tanchor = lastIndex;\r\n\t\t\t\t\t\tcurrentContexts = [ context ];\r\n\r\n\t\t\t\t\t\tif ( rcombinators.test(part) ) {\r\n\t\t\t\t\t\t\tif ( elements ) {\r\n\t\t\t\t\t\t\t\tcurrentContexts = elements;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telements = seed;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( (not = rendsWithNot.test( part )) ) {\r\n\t\t\t\t\t\t\tpart = part.slice( 0, -5 ).replace( rcombinators, \"$&*\" );\r\n\t\t\t\t\t\t\tanchor++;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( match.length > 1 ) {\r\n\t\t\t\t\t\t\tmatch[0].replace( rposgroups, setUndefined );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telements = handlePOSGroup( part, match[1], match[2], currentContexts, elements, not );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpart = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( !matched ) {\r\n\t\t\t\tpart += selector;\r\n\t\t\t}\r\n\t\t\tmatched = false;\r\n\t\t}\r\n\r\n\t\tif ( part ) {\r\n\t\t\tif ( rcombinators.test(part) ) {\r\n\t\t\t\tmultipleContexts( part, elements || [ context ], results, seed );\r\n\t\t\t} else {\r\n\t\t\t\tSizzle( part, context, results, seed ? seed.concat(elements) : elements );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tpush.apply( results, elements );\r\n\t\t}\r\n\t}\r\n\r\n\t// Do not sort if this is a single filter\r\n\treturn len === 1 ? results : Sizzle.uniqueSort( results );\r\n}\r\n\r\nfunction select( selector, context, results, seed, xml ) {\r\n\t// Remove excessive whitespace\r\n\tselector = selector.replace( rtrim, \"$1\" );\r\n\tvar elements, matcher, cached, elem,\r\n\t\ti, tokens, token, lastToken, findContext, type,\r\n\t\tmatch = tokenize( selector, context, xml ),\r\n\t\tcontextNodeType = context.nodeType;\r\n\r\n\t// POS handling\r\n\tif ( matchExpr[\"POS\"].test(selector) ) {\r\n\t\treturn handlePOS( match, context, results, seed );\r\n\t}\r\n\r\n\tif ( seed ) {\r\n\t\telements = slice.call( seed, 0 );\r\n\r\n\t// To maintain document order, only narrow the\r\n\t// set if there is one group\r\n\t} else if ( match.length === 1 ) {\r\n\r\n\t\t// Take a shortcut and set the context if the root selector is an ID\r\n\t\tif ( (tokens = slice.call( match[0], 0 )).length > 2 &&\r\n\t\t\t\t(token = tokens[0]).part === \"ID\" &&\r\n\t\t\t\tcontextNodeType === 9 && !xml &&\r\n\t\t\t\tExpr.relative[ tokens[1].part ] ) {\r\n\r\n\t\t\tcontext = Expr.find[\"ID\"]( token.captures[0].replace( rbackslash, \"\" ), context, xml )[0];\r\n\t\t\tif ( !context ) {\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\r\n\t\t\tselector = selector.slice( tokens.shift().string.length );\r\n\t\t}\r\n\r\n\t\tfindContext = ( (match = rsibling.exec( tokens[0].string )) && !match.index && context.parentNode ) || context;\r\n\r\n\t\t// Reduce the set if possible\r\n\t\tlastToken = \"\";\r\n\t\tfor ( i = tokens.length - 1; i >= 0; i-- ) {\r\n\t\t\ttoken = tokens[i];\r\n\t\t\ttype = token.part;\r\n\t\t\tlastToken = token.string + lastToken;\r\n\t\t\tif ( Expr.relative[ type ] ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( Expr.order.test(type) ) {\r\n\t\t\t\telements = Expr.find[ type ]( token.captures[0].replace( rbackslash, \"\" ), findContext, xml );\r\n\t\t\t\tif ( elements == null ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tselector = selector.slice( 0, selector.length - lastToken.length ) +\r\n\t\t\t\t\t\tlastToken.replace( matchExpr[ type ], \"\" );\r\n\r\n\t\t\t\t\tif ( !selector ) {\r\n\t\t\t\t\t\tpush.apply( results, slice.call(elements, 0) );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Only loop over the given elements once\r\n\tif ( selector ) {\r\n\t\tmatcher = compile( selector, context, xml );\r\n\t\tdirruns = matcher.dirruns++;\r\n\t\tif ( elements == null ) {\r\n\t\t\telements = Expr.find[\"TAG\"]( \"*\", (rsibling.test( selector ) && context.parentNode) || context );\r\n\t\t}\r\n\r\n\t\tfor ( i = 0; (elem = elements[i]); i++ ) {\r\n\t\t\tcachedruns = matcher.runs++;\r\n\t\t\tif ( matcher(elem) ) {\r\n\t\t\t\tresults.push( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn results;\r\n}\r\n\r\nif ( document.querySelectorAll ) {\r\n\t(function() {\r\n\t\tvar disconnectedMatch,\r\n\t\t\toldSelect = select,\r\n\t\t\trescape = /'|\\\\/g,\r\n\t\t\trattributeQuotes = /\\=[\\x20\\t\\r\\n\\f]*([^'\"\\]]*)[\\x20\\t\\r\\n\\f]*\\]/g,\r\n\t\t\trbuggyQSA = [],\r\n\t\t\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\r\n\t\t\t// A support test would require too much code (would include document ready)\r\n\t\t\t// just skip matchesSelector for :active\r\n\t\t\trbuggyMatches = [\":active\"],\r\n\t\t\tmatches = docElem.matchesSelector ||\r\n\t\t\t\tdocElem.mozMatchesSelector ||\r\n\t\t\t\tdocElem.webkitMatchesSelector ||\r\n\t\t\t\tdocElem.oMatchesSelector ||\r\n\t\t\t\tdocElem.msMatchesSelector;\r\n\r\n\t\t// Build QSA regex\r\n\t\t// Regex strategy adopted from Diego Perini\r\n\t\tassert(function( div ) {\r\n\t\t\t// Select is set to empty string on purpose\r\n\t\t\t// This is to test IE's treatment of not explictly\r\n\t\t\t// setting a boolean content attribute,\r\n\t\t\t// since its presence should be enough\r\n\t\t\t// http://bugs.jquery.com/ticket/12359\r\n\t\t\tdiv.innerHTML = \"<select><option selected=''></option></select>\";\r\n\r\n\t\t\t// IE8 - Some boolean attributes are not treated correctly\r\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:checked|disabled|ismap|multiple|readonly|selected|value)\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Webkit/Opera - :checked should return selected option elements\r\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\t// IE8 throws error here (do not put tests after this one)\r\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\r\n\t\t\t\trbuggyQSA.push(\":checked\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tassert(function( div ) {\r\n\r\n\t\t\t// Opera 10-12/IE9 - ^= $= *= and empty values\r\n\t\t\t// Should not select anything\r\n\t\t\tdiv.innerHTML = \"<p test=''></p>\";\r\n\t\t\tif ( div.querySelectorAll(\"[test^='']\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:\\\"\\\"|'')\" );\r\n\t\t\t}\r\n\r\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\r\n\t\t\t// IE8 throws error here (do not put tests after this one)\r\n\t\t\tdiv.innerHTML = \"<input type='hidden'/>\";\r\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\r\n\t\t\t\trbuggyQSA.push(\":enabled\", \":disabled\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\r\n\r\n\t\tselect = function( selector, context, results, seed, xml ) {\r\n\t\t\t// Only use querySelectorAll when not filtering,\r\n\t\t\t// when this is not xml,\r\n\t\t\t// and when no QSA bugs apply\r\n\t\t\tif ( !seed && !xml && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\r\n\t\t\t\tif ( context.nodeType === 9 ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tpush.apply( results, slice.call(context.querySelectorAll( selector ), 0) );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t} catch(qsaError) {}\r\n\t\t\t\t// qSA works strangely on Element-rooted queries\r\n\t\t\t\t// We can work around this by specifying an extra ID on the root\r\n\t\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\r\n\t\t\t\t// IE 8 doesn't work on object elements\r\n\t\t\t\t} else if ( context.nodeType === 1 && context.nodeName.toLowerCase() !== \"object\" ) {\r\n\t\t\t\t\tvar groups, i, len,\r\n\t\t\t\t\t\told = context.getAttribute(\"id\"),\r\n\t\t\t\t\t\tnid = old || expando,\r\n\t\t\t\t\t\tnewContext = rsibling.test( selector ) && context.parentNode || context;\r\n\r\n\t\t\t\t\tif ( old ) {\r\n\t\t\t\t\t\tnid = nid.replace( rescape, \"\\\\$&\" );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontext.setAttribute( \"id\", nid );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tgroups = tokenize(selector, context, xml);\r\n\t\t\t\t\t// Trailing space is unnecessary\r\n\t\t\t\t\t// There is always a context check\r\n\t\t\t\t\tnid = \"[id='\" + nid + \"']\";\r\n\t\t\t\t\tfor ( i = 0, len = groups.length; i < len; i++ ) {\r\n\t\t\t\t\t\tgroups[i] = nid + groups[i].selector;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tpush.apply( results, slice.call( newContext.querySelectorAll(\r\n\t\t\t\t\t\t\tgroups.join(\",\")\r\n\t\t\t\t\t\t), 0 ) );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t} catch(qsaError) {\r\n\t\t\t\t\t} finally {\r\n\t\t\t\t\t\tif ( !old ) {\r\n\t\t\t\t\t\t\tcontext.removeAttribute(\"id\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn oldSelect( selector, context, results, seed, xml );\r\n\t\t};\r\n\r\n\t\tif ( matches ) {\r\n\t\t\tassert(function( div ) {\r\n\t\t\t\t// Check to see if it's possible to do matchesSelector\r\n\t\t\t\t// on a disconnected node (IE 9)\r\n\t\t\t\tdisconnectedMatch = matches.call( div, \"div\" );\r\n\r\n\t\t\t\t// This should fail with an exception\r\n\t\t\t\t// Gecko does not error, returns false instead\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmatches.call( div, \"[test!='']:sizzle\" );\r\n\t\t\t\t\trbuggyMatches.push( matchExpr[\"PSEUDO\"].source, matchExpr[\"POS\"].source, \"!=\" );\r\n\t\t\t\t} catch ( e ) {}\r\n\t\t\t});\r\n\r\n\t\t\t// rbuggyMatches always contains :active, so no need for a length check\r\n\t\t\trbuggyMatches = /* rbuggyMatches.length && */ new RegExp( rbuggyMatches.join(\"|\") );\r\n\r\n\t\t\tSizzle.matchesSelector = function( elem, expr ) {\r\n\t\t\t\t// Make sure that attribute selectors are quoted\r\n\t\t\t\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\r\n\r\n\t\t\t\t// rbuggyMatches always contains :active, so no need for an existence check\r\n\t\t\t\tif ( !isXML( elem ) && !rbuggyMatches.test( expr ) && (!rbuggyQSA || !rbuggyQSA.test( expr )) ) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvar ret = matches.call( elem, expr );\r\n\r\n\t\t\t\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\r\n\t\t\t\t\t\tif ( ret || disconnectedMatch ||\r\n\t\t\t\t\t\t\t\t// As well, disconnected nodes are said to be in a document\r\n\t\t\t\t\t\t\t\t// fragment in IE 9\r\n\t\t\t\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\r\n\t\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(e) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Sizzle( expr, null, null, [ elem ] ).length > 0;\r\n\t\t\t};\r\n\t\t}\r\n\t})();\r\n}\r\n\r\n// Deprecated\r\nExpr.setFilters[\"nth\"] = Expr.setFilters[\"eq\"];\r\n\r\n// Back-compat\r\nExpr.filters = Expr.pseudos;\r\n\r\n// Override sizzle attribute retrieval\nSizzle.attr = jQuery.attr;\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\njQuery.expr[\":\"] = jQuery.expr.pseudos;\njQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\n\r\n\r\n})( window );\r\nvar runtil = /Until$/,\n\trparentsprev = /^(?:parents|prev(?:Until|All))/,\n\tisSimple = /^.[^:#\\[\\.,]*$/,\n\trneedsContext = jQuery.expr.match.needsContext,\n\t// methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend({\n\tfind: function( selector ) {\n\t\tvar i, l, length, n, r, ret,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn jQuery( selector ).filter(function() {\n\t\t\t\tfor ( i = 0, l = self.length; i < l; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tret = this.pushStack( \"\", \"find\", selector );\n\n\t\tfor ( i = 0, l = this.length; i < l; i++ ) {\n\t\t\tlength = ret.length;\n\t\t\tjQuery.find( selector, this[i], ret );\n\n\t\t\tif ( i > 0 ) {\n\t\t\t\t// Make sure that the results are unique\n\t\t\t\tfor ( n = length; n < ret.length; n++ ) {\n\t\t\t\t\tfor ( r = 0; r < length; r++ ) {\n\t\t\t\t\t\tif ( ret[r] === ret[n] ) {\n\t\t\t\t\t\t\tret.splice(n--, 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\thas: function( target ) {\n\t\tvar i,\n\t\t\ttargets = jQuery( target, this ),\n\t\t\tlen = targets.length;\n\n\t\treturn this.filter(function() {\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector, false), \"not\", selector);\n\t},\n\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector, true), \"filter\", selector );\n\t},\n\n\tis: function( selector ) {\n\t\treturn !!selector && (\n\t\t\ttypeof selector === \"string\" ?\n\t\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\t\trneedsContext.test( selector ) ?\n\t\t\t\t\tjQuery( selector, this.context ).index( this[0] ) >= 0 :\n\t\t\t\t\tjQuery.filter( selector, this ).length > 0 :\n\t\t\t\tthis.filter( selector ).length > 0 );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tret = [],\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\n\t\t\t\tjQuery( selectors, context || this.context ) :\n\t\t\t\t0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tcur = this[i];\n\n\t\t\twhile ( cur && cur.ownerDocument && cur !== context && cur.nodeType !== 11 ) {\n\t\t\t\tif ( pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors) ) {\n\t\t\t\t\tret.push( cur );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t}\n\n\t\tret = ret.length > 1 ? jQuery.unique( ret ) : ret;\n\n\t\treturn this.pushStack( ret, \"closest\", selectors );\n\t},\n\n\t// Determine the position of an element within\n\t// the matched set of elements\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[0] && this[0].parentNode ) ? this.prevAll().length : -1;\n\t\t}\n\n\t\t// index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn jQuery.inArray( this[0], jQuery( elem ) );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn jQuery.inArray(\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[0] : elem, this );\n\t},\n\n\tadd: function( selector, context ) {\n\t\tvar set = typeof selector === \"string\" ?\n\t\t\t\tjQuery( selector, context ) :\n\t\t\t\tjQuery.makeArray( selector && selector.nodeType ? [ selector ] : selector ),\n\t\t\tall = jQuery.merge( this.get(), set );\n\n\t\treturn this.pushStack( isDisconnected( set[0] ) || isDisconnected( all[0] ) ?\n\t\t\tall :\n\t\t\tjQuery.unique( all ) );\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\n\t\t);\n\t}\n});\n\njQuery.fn.andSelf = jQuery.fn.addBack;\n\n// A painfully simple check to see if an element is disconnected\n// from a document (should be improved, where feasible).\nfunction isDisconnected( node ) {\n\treturn !node || !node.parentNode || node.parentNode.nodeType === 11;\n}\n\nfunction sibling( cur, dir ) {\n\tdo {\n\t\tcur = cur[ dir ];\n\t} while ( cur && cur.nodeType !== 1 );\n\n\treturn cur;\n}\n\njQuery.each({\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn jQuery.dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn jQuery.sibling( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn jQuery.nodeName( elem, \"iframe\" ) ?\n\t\t\telem.contentDocument || elem.contentWindow.document :\n\t\t\tjQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar ret = jQuery.map( this, fn, until );\n\n\t\tif ( !runtil.test( name ) ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tret = jQuery.filter( selector, ret );\n\t\t}\n\n\t\tret = this.length > 1 && !guaranteedUnique[ name ] ? jQuery.unique( ret ) : ret;\n\n\t\tif ( this.length > 1 && rparentsprev.test( name ) ) {\n\t\t\tret = ret.reverse();\n\t\t}\n\n\t\treturn this.pushStack( ret, name, core_slice.call( arguments ).join(\",\") );\n\t};\n});\n\njQuery.extend({\n\tfilter: function( expr, elems, not ) {\n\t\tif ( not ) {\n\t\t\texpr = \":not(\" + expr + \")\";\n\t\t}\n\n\t\treturn elems.length === 1 ?\n\t\t\tjQuery.find.matchesSelector(elems[0], expr) ? [ elems[0] ] : [] :\n\t\t\tjQuery.find.matches(expr, elems);\n\t},\n\n\tdir: function( elem, dir, until ) {\n\t\tvar matched = [],\n\t\t\tcur = elem[ dir ];\n\n\t\twhile ( cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery( cur ).is( until )) ) {\n\t\t\tif ( cur.nodeType === 1 ) {\n\t\t\t\tmatched.push( cur );\n\t\t\t}\n\t\t\tcur = cur[dir];\n\t\t}\n\t\treturn matched;\n\t},\n\n\tsibling: function( n, elem ) {\n\t\tvar r = [];\n\n\t\tfor ( ; n; n = n.nextSibling ) {\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\t\tr.push( n );\n\t\t\t}\n\t\t}\n\n\t\treturn r;\n\t}\n});\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, keep ) {\n\n\t// Can't pass null or undefined to indexOf in Firefox 4\n\t// Set to 0 to skip string check\n\tqualifier = qualifier || 0;\n\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep(elements, function( elem, i ) {\n\t\t\tvar retVal = !!qualifier.call( elem, i, elem );\n\t\t\treturn retVal === keep;\n\t\t});\n\n\t} else if ( qualifier.nodeType ) {\n\t\treturn jQuery.grep(elements, function( elem, i ) {\n\t\t\treturn ( elem === qualifier ) === keep;\n\t\t});\n\n\t} else if ( typeof qualifier === \"string\" ) {\n\t\tvar filtered = jQuery.grep(elements, function( elem ) {\n\t\t\treturn elem.nodeType === 1;\n\t\t});\n\n\t\tif ( isSimple.test( qualifier ) ) {\n\t\t\treturn jQuery.filter(qualifier, filtered, !keep);\n\t\t} else {\n\t\t\tqualifier = jQuery.filter( qualifier, filtered );\n\t\t}\n\t}\n\n\treturn jQuery.grep(elements, function( elem, i ) {\n\t\treturn ( jQuery.inArray( elem, qualifier ) >= 0 ) === keep;\n\t});\n}\nfunction createSafeFragment( document ) {\n\tvar list = nodeNames.split( \"|\" ),\n\tsafeFrag = document.createDocumentFragment();\n\n\tif ( safeFrag.createElement ) {\n\t\twhile ( list.length ) {\n\t\t\tsafeFrag.createElement(\n\t\t\t\tlist.pop()\n\t\t\t);\n\t\t}\n\t}\n\treturn safeFrag;\n}\n\nvar nodeNames = \"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|\" +\n\t\t\"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",\n\trinlinejQuery = / jQuery\\d+=\"(?:null|\\d+)\"/g,\n\trleadingWhitespace = /^\\s+/,\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\n\trtagName = /<([\\w:]+)/,\n\trtbody = /<tbody/i,\n\trhtml = /<|&#?\\w+;/,\n\trnoInnerhtml = /<(?:script|style|link)/i,\n\trnocache = /<(?:script|object|embed|option|style)/i,\n\trnoshimcache = new RegExp(\"<(?:\" + nodeNames + \")[\\\\s/>]\", \"i\"),\n\trcheckableType = /^(?:checkbox|radio)$/,\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptType = /\\/(java|ecma)script/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|\\-\\-)|[\\]\\-]{2}>\\s*$/g,\n\twrapMap = {\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\t\tlegend: [ 1, \"<fieldset>\", \"</fieldset>\" ],\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\t\tcol: [ 2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\" ],\n\t\tarea: [ 1, \"<map>\", \"</map>\" ],\n\t\t_default: [ 0, \"\", \"\" ]\n\t},\n\tsafeFragment = createSafeFragment( document ),\n\tfragmentDiv = safeFragment.appendChild( document.createElement(\"div\") );\n\nwrapMap.optgroup = wrapMap.option;\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,\n// unless wrapped in a div with non-breaking characters in front of it.\nif ( !jQuery.support.htmlSerialize ) {\n\twrapMap._default = [ 1, \"X<div>\", \"</div>\" ];\n}\n\njQuery.fn.extend({\n\ttext: function( value ) {\n\t\treturn jQuery.access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().append( ( this[0] && this[0].ownerDocument || document ).createTextNode( value ) );\n\t\t}, null, value, arguments.length );\n\t},\n\n\twrapAll: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function(i) {\n\t\t\t\tjQuery(this).wrapAll( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\tif ( this[0] ) {\n\t\t\t// The elements to wrap the target around\n\t\t\tvar wrap = jQuery( html, this[0].ownerDocument ).eq(0).clone(true);\n\n\t\t\tif ( this[0].parentNode ) {\n\t\t\t\twrap.insertBefore( this[0] );\n\t\t\t}\n\n\t\t\twrap.map(function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstChild && elem.firstChild.nodeType === 1 ) {\n\t\t\t\t\telem = elem.firstChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t}).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function(i) {\n\t\t\t\tjQuery(this).wrapInner( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t});\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each(function(i) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );\n\t\t});\n\t},\n\n\tunwrap: function() {\n\t\treturn this.parent().each(function() {\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t\t}\n\t\t}).end();\n\t},\n\n\tappend: function() {\n\t\treturn this.domManip(arguments, true, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 ) {\n\t\t\t\tthis.appendChild( elem );\n\t\t\t}\n\t\t});\n\t},\n\n\tprepend: function() {\n\t\treturn this.domManip(arguments, true, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 ) {\n\t\t\t\tthis.insertBefore( elem, this.firstChild );\n\t\t\t}\n\t\t});\n\t},\n\n\tbefore: function() {\n\t\tif ( !isDisconnected( this[0] ) ) {\n\t\t\treturn this.domManip(arguments, false, function( elem ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t});\n\t\t}\n\n\t\tif ( arguments.length ) {\n\t\t\tvar set = jQuery.clean( arguments );\n\t\t\treturn this.pushStack( jQuery.merge( set, this ), \"before\", this.selector );\n\t\t}\n\t},\n\n\tafter: function() {\n\t\tif ( !isDisconnected( this[0] ) ) {\n\t\t\treturn this.domManip(arguments, false, function( elem ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t});\n\t\t}\n\n\t\tif ( arguments.length ) {\n\t\t\tvar set = jQuery.clean( arguments );\n\t\t\treturn this.pushStack( jQuery.merge( this, set ), \"after\", this.selector );\n\t\t}\n\t},\n\n\t// keepData is for internal use only--do not document\n\tremove: function( selector, keepData ) {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\n\t\t\tif ( !selector || jQuery.filter( selector, [ elem ] ).length ) {\n\t\t\t\tif ( !keepData && elem.nodeType === 1 ) {\n\t\t\t\t\tjQuery.cleanData( elem.getElementsByTagName(\"*\") );\n\t\t\t\t\tjQuery.cleanData( [ elem ] );\n\t\t\t\t}\n\n\t\t\t\tif ( elem.parentNode ) {\n\t\t\t\t\telem.parentNode.removeChild( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\n\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\tjQuery.cleanData( elem.getElementsByTagName(\"*\") );\n\t\t\t}\n\n\t\t\t// Remove any remaining nodes\n\t\t\twhile ( elem.firstChild ) {\n\t\t\t\telem.removeChild( elem.firstChild );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function () {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t});\n\t},\n\n\thtml: function( value ) {\n\t\treturn jQuery.access( this, function( value ) {\n\t\t\tvar elem = this[0] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined ) {\n\t\t\t\treturn elem.nodeType === 1 ?\n\t\t\t\t\telem.innerHTML.replace( rinlinejQuery, \"\" ) :\n\t\t\t\t\tundefined;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t( jQuery.support.htmlSerialize || !rnoshimcache.test( value )  ) &&\n\t\t\t\t( jQuery.support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [\"\", \"\"] )[1].toLowerCase() ] ) {\n\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (; i < l; i++ ) {\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\telem = this[i] || {};\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( elem.getElementsByTagName( \"*\" ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function( value ) {\n\t\tif ( !isDisconnected( this[0] ) ) {\n\t\t\t// Make sure that the elements are removed from the DOM before they are inserted\n\t\t\t// this can help fix replacing a parent with child elements\n\t\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\t\treturn this.each(function(i) {\n\t\t\t\t\tvar self = jQuery(this), old = self.html();\n\t\t\t\t\tself.replaceWith( value.call( this, i, old ) );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( typeof value !== \"string\" ) {\n\t\t\t\tvalue = jQuery( value ).detach();\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\tvar next = this.nextSibling,\n\t\t\t\t\tparent = this.parentNode;\n\n\t\t\t\tjQuery( this ).remove();\n\n\t\t\t\tif ( next ) {\n\t\t\t\t\tjQuery(next).before( value );\n\t\t\t\t} else {\n\t\t\t\t\tjQuery(parent).append( value );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this.length ?\n\t\t\tthis.pushStack( jQuery(jQuery.isFunction(value) ? value() : value), \"replaceWith\", value ) :\n\t\t\tthis;\n\t},\n\n\tdetach: function( selector ) {\n\t\treturn this.remove( selector, true );\n\t},\n\n\tdomManip: function( args, table, callback ) {\n\n\t\t// Flatten any nested arrays\n\t\targs = [].concat.apply( [], args );\n\n\t\tvar results, first, fragment, iNoClone,\n\t\t\ti = 0,\n\t\t\tvalue = args[0],\n\t\t\tscripts = [],\n\t\t\tl = this.length;\n\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\n\t\tif ( !jQuery.support.checkClone && l > 1 && typeof value === \"string\" && rchecked.test( value ) ) {\n\t\t\treturn this.each(function() {\n\t\t\t\tjQuery(this).domManip( args, table, callback );\n\t\t\t});\n\t\t}\n\n\t\tif ( jQuery.isFunction(value) ) {\n\t\t\treturn this.each(function(i) {\n\t\t\t\tvar self = jQuery(this);\n\t\t\t\targs[0] = value.call( this, i, table ? self.html() : undefined );\n\t\t\t\tself.domManip( args, table, callback );\n\t\t\t});\n\t\t}\n\n\t\tif ( this[0] ) {\n\t\t\tresults = jQuery.buildFragment( args, this, scripts );\n\t\t\tfragment = results.fragment;\n\t\t\tfirst = fragment.firstChild;\n\n\t\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\t\tfragment = first;\n\t\t\t}\n\n\t\t\tif ( first ) {\n\t\t\t\ttable = table && jQuery.nodeName( first, \"tr\" );\n\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\t\t// Fragments from the fragment cache must always be cloned and never used in place.\n\t\t\t\tfor ( iNoClone = results.cacheable || l - 1; i < l; i++ ) {\n\t\t\t\t\tcallback.call(\n\t\t\t\t\t\ttable && jQuery.nodeName( this[i], \"table\" ) ?\n\t\t\t\t\t\t\tfindOrAppend( this[i], \"tbody\" ) :\n\t\t\t\t\t\t\tthis[i],\n\t\t\t\t\t\ti === iNoClone ?\n\t\t\t\t\t\t\tfragment :\n\t\t\t\t\t\t\tjQuery.clone( fragment, true, true )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Fix #11809: Avoid leaking memory\n\t\t\tfragment = first = null;\n\n\t\t\tif ( scripts.length ) {\n\t\t\t\tjQuery.each( scripts, function( i, elem ) {\n\t\t\t\t\tif ( elem.src ) {\n\t\t\t\t\t\tif ( jQuery.ajax ) {\n\t\t\t\t\t\t\tjQuery.ajax({\n\t\t\t\t\t\t\t\turl: elem.src,\n\t\t\t\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\t\t\t\tdataType: \"script\",\n\t\t\t\t\t\t\t\tasync: false,\n\t\t\t\t\t\t\t\tglobal: false,\n\t\t\t\t\t\t\t\t\"throws\": true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tjQuery.error(\"no ajax\");\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tjQuery.globalEval( ( elem.text || elem.textContent || elem.innerHTML || \"\" ).replace( rcleanScript, \"\" ) );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( elem.parentNode ) {\n\t\t\t\t\t\telem.parentNode.removeChild( elem );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\nfunction findOrAppend( elem, tag ) {\n\treturn elem.getElementsByTagName( tag )[0] || elem.appendChild( elem.ownerDocument.createElement( tag ) );\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\n\tif ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {\n\t\treturn;\n\t}\n\n\tvar type, i, l,\n\t\toldData = jQuery._data( src ),\n\t\tcurData = jQuery._data( dest, oldData ),\n\t\tevents = oldData.events;\n\n\tif ( events ) {\n\t\tdelete curData.handle;\n\t\tcurData.events = {};\n\n\t\tfor ( type in events ) {\n\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t}\n\t\t}\n\t}\n\n\t// make the cloned public data object a copy from the original\n\tif ( curData.data ) {\n\t\tcurData.data = jQuery.extend( {}, curData.data );\n\t}\n}\n\nfunction cloneFixAttributes( src, dest ) {\n\tvar nodeName;\n\n\t// We do not need to do anything for non-Elements\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// clearAttributes removes the attributes, which we don't want,\n\t// but also removes the attachEvent events, which we *do* want\n\tif ( dest.clearAttributes ) {\n\t\tdest.clearAttributes();\n\t}\n\n\t// mergeAttributes, in contrast, only merges back on the\n\t// original attributes, not the events\n\tif ( dest.mergeAttributes ) {\n\t\tdest.mergeAttributes( src );\n\t}\n\n\tnodeName = dest.nodeName.toLowerCase();\n\n\tif ( nodeName === \"object\" ) {\n\t\t// IE6-10 improperly clones children of object elements using classid.\n\t\t// IE10 throws NoModificationAllowedError if parent is null, #12132.\n\t\tif ( dest.parentNode ) {\n\t\t\tdest.outerHTML = src.outerHTML;\n\t\t}\n\n\t\t// This path appears unavoidable for IE9. When cloning an object\n\t\t// element in IE9, the outerHTML strategy above is not sufficient.\n\t\t// If the src has innerHTML and the destination does not,\n\t\t// copy the src.innerHTML into the dest.innerHTML. #10324\n\t\tif ( jQuery.support.html5Clone && (src.innerHTML && !jQuery.trim(dest.innerHTML)) ) {\n\t\t\tdest.innerHTML = src.innerHTML;\n\t\t}\n\n\t} else if ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\t// IE6-8 fails to persist the checked state of a cloned checkbox\n\t\t// or radio button. Worse, IE6-7 fail to give the cloned element\n\t\t// a checked appearance if the defaultChecked value isn't also set\n\n\t\tdest.defaultChecked = dest.checked = src.checked;\n\n\t\t// IE6-7 get confused and end up setting the value of a cloned\n\t\t// checkbox/radio button to an empty string instead of \"on\"\n\t\tif ( dest.value !== src.value ) {\n\t\t\tdest.value = src.value;\n\t\t}\n\n\t// IE6-8 fails to return the selected option to the default selected\n\t// state when cloning options\n\t} else if ( nodeName === \"option\" ) {\n\t\tdest.selected = src.defaultSelected;\n\n\t// IE6-8 fails to set the defaultValue to the correct value when\n\t// cloning other types of input fields\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\n\t// IE blanks contents when cloning scripts\n\t} else if ( nodeName === \"script\" && dest.text !== src.text ) {\n\t\tdest.text = src.text;\n\t}\n\n\t// Event data gets referenced instead of copied if the expando\n\t// gets copied too\n\tdest.removeAttribute( jQuery.expando );\n}\n\njQuery.buildFragment = function( args, context, scripts ) {\n\tvar fragment, cacheable, cachehit,\n\t\tfirst = args[ 0 ];\n\n\t// Set context from what may come in as undefined or a jQuery collection or a node\n\t// Updated to fix #12266 where accessing context[0] could throw an exception in IE9/10 &\n\t// also doubles as fix for #8950 where plain objects caused createDocumentFragment exception\n\tcontext = context || document;\n\tcontext = !context.nodeType && context[0] || context;\n\tcontext = context.ownerDocument || context;\n\n\t// Only cache \"small\" (1/2 KB) HTML strings that are associated with the main document\n\t// Cloning options loses the selected state, so don't cache them\n\t// IE 6 doesn't like it when you put <object> or <embed> elements in a fragment\n\t// Also, WebKit does not clone 'checked' attributes on cloneNode, so don't cache\n\t// Lastly, IE6,7,8 will not correctly reuse cached fragments that were created from unknown elems #10501\n\tif ( args.length === 1 && typeof first === \"string\" && first.length < 512 && context === document &&\n\t\tfirst.charAt(0) === \"<\" && !rnocache.test( first ) &&\n\t\t(jQuery.support.checkClone || !rchecked.test( first )) &&\n\t\t(jQuery.support.html5Clone || !rnoshimcache.test( first )) ) {\n\n\t\t// Mark cacheable and look for a hit\n\t\tcacheable = true;\n\t\tfragment = jQuery.fragments[ first ];\n\t\tcachehit = fragment !== undefined;\n\t}\n\n\tif ( !fragment ) {\n\t\tfragment = context.createDocumentFragment();\n\t\tjQuery.clean( args, context, fragment, scripts );\n\n\t\t// Update the cache, but only store false\n\t\t// unless this is a second parsing of the same content\n\t\tif ( cacheable ) {\n\t\t\tjQuery.fragments[ first ] = cachehit && fragment;\n\t\t}\n\t}\n\n\treturn { fragment: fragment, cacheable: cacheable };\n};\n\njQuery.fragments = {};\n\njQuery.each({\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\ti = 0,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tl = insert.length,\n\t\t\tparent = this.length === 1 && this[0].parentNode;\n\n\t\tif ( (parent == null || parent && parent.nodeType === 11 && parent.childNodes.length === 1) && l === 1 ) {\n\t\t\tinsert[ original ]( this[0] );\n\t\t\treturn this;\n\t\t} else {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\telems = ( i > 0 ? this.clone(true) : this ).get();\n\t\t\t\tjQuery( insert[i] )[ original ]( elems );\n\t\t\t\tret = ret.concat( elems );\n\t\t\t}\n\n\t\t\treturn this.pushStack( ret, name, insert.selector );\n\t\t}\n\t};\n});\n\nfunction getAll( elem ) {\n\tif ( typeof elem.getElementsByTagName !== \"undefined\" ) {\n\t\treturn elem.getElementsByTagName( \"*\" );\n\n\t} else if ( typeof elem.querySelectorAll !== \"undefined\" ) {\n\t\treturn elem.querySelectorAll( \"*\" );\n\n\t} else {\n\t\treturn [];\n\t}\n}\n\n// Used in clean, fixes the defaultChecked property\nfunction fixDefaultChecked( elem ) {\n\tif ( rcheckableType.test( elem.type ) ) {\n\t\telem.defaultChecked = elem.checked;\n\t}\n}\n\njQuery.extend({\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar srcElements,\n\t\t\tdestElements,\n\t\t\ti,\n\t\t\tclone;\n\n\t\tif ( jQuery.support.html5Clone || jQuery.isXMLDoc(elem) || !rnoshimcache.test( \"<\" + elem.nodeName + \">\" ) ) {\n\t\t\tclone = elem.cloneNode( true );\n\n\t\t// IE<=8 does not properly clone detached, unknown element nodes\n\t\t} else {\n\t\t\tfragmentDiv.innerHTML = elem.outerHTML;\n\t\t\tfragmentDiv.removeChild( clone = fragmentDiv.firstChild );\n\t\t}\n\n\t\tif ( (!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) &&\n\t\t\t\t(elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem) ) {\n\t\t\t// IE copies events bound via attachEvent when using cloneNode.\n\t\t\t// Calling detachEvent on the clone will also remove the events\n\t\t\t// from the original. In order to get around this, we use some\n\t\t\t// proprietary methods to clear the events. Thanks to MooTools\n\t\t\t// guys for this hotness.\n\n\t\t\tcloneFixAttributes( elem, clone );\n\n\t\t\t// Using Sizzle here is crazy slow, so we use getElementsByTagName instead\n\t\t\tsrcElements = getAll( elem );\n\t\t\tdestElements = getAll( clone );\n\n\t\t\t// Weird iteration because IE will replace the length property\n\t\t\t// with an element if you are cloning the body and one of the\n\t\t\t// elements on the page has a name or id of \"length\"\n\t\t\tfor ( i = 0; srcElements[i]; ++i ) {\n\t\t\t\t// Ensure that the destination node is not null; Fixes #9587\n\t\t\t\tif ( destElements[i] ) {\n\t\t\t\t\tcloneFixAttributes( srcElements[i], destElements[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tcloneCopyEvent( elem, clone );\n\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = getAll( elem );\n\t\t\t\tdestElements = getAll( clone );\n\n\t\t\t\tfor ( i = 0; srcElements[i]; ++i ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[i], destElements[i] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsrcElements = destElements = null;\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tclean: function( elems, context, fragment, scripts ) {\n\t\tvar i, j, elem, tag, wrap, depth, div, hasBody, tbody, len, handleScript, jsTags,\n\t\t\tsafe = context === document && safeFragment,\n\t\t\tret = [];\n\n\t\t// Ensure that context is a document\n\t\tif ( !context || typeof context.createDocumentFragment === \"undefined\" ) {\n\t\t\tcontext = document;\n\t\t}\n\n\t\t// Use the already-created safe fragment if context permits\n\t\tfor ( i = 0; (elem = elems[i]) != null; i++ ) {\n\t\t\tif ( typeof elem === \"number\" ) {\n\t\t\t\telem += \"\";\n\t\t\t}\n\n\t\t\tif ( !elem ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Convert html string into DOM nodes\n\t\t\tif ( typeof elem === \"string\" ) {\n\t\t\t\tif ( !rhtml.test( elem ) ) {\n\t\t\t\t\telem = context.createTextNode( elem );\n\t\t\t\t} else {\n\t\t\t\t\t// Ensure a safe container in which to render the html\n\t\t\t\t\tsafe = safe || createSafeFragment( context );\n\t\t\t\t\tdiv = context.createElement(\"div\");\n\t\t\t\t\tsafe.appendChild( div );\n\n\t\t\t\t\t// Fix \"XHTML\"-style tags in all browsers\n\t\t\t\t\telem = elem.replace(rxhtmlTag, \"<$1></$2>\");\n\n\t\t\t\t\t// Go to html and back, then peel off extra wrappers\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [\"\", \"\"] )[1].toLowerCase();\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\t\tdepth = wrap[0];\n\t\t\t\t\tdiv.innerHTML = wrap[1] + elem + wrap[2];\n\n\t\t\t\t\t// Move to the right depth\n\t\t\t\t\twhile ( depth-- ) {\n\t\t\t\t\t\tdiv = div.lastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove IE's autoinserted <tbody> from table fragments\n\t\t\t\t\tif ( !jQuery.support.tbody ) {\n\n\t\t\t\t\t\t// String was a <table>, *may* have spurious <tbody>\n\t\t\t\t\t\thasBody = rtbody.test(elem);\n\t\t\t\t\t\t\ttbody = tag === \"table\" && !hasBody ?\n\t\t\t\t\t\t\t\tdiv.firstChild && div.firstChild.childNodes :\n\n\t\t\t\t\t\t\t\t// String was a bare <thead> or <tfoot>\n\t\t\t\t\t\t\t\twrap[1] === \"<table>\" && !hasBody ?\n\t\t\t\t\t\t\t\t\tdiv.childNodes :\n\t\t\t\t\t\t\t\t\t[];\n\n\t\t\t\t\t\tfor ( j = tbody.length - 1; j >= 0 ; --j ) {\n\t\t\t\t\t\t\tif ( jQuery.nodeName( tbody[ j ], \"tbody\" ) && !tbody[ j ].childNodes.length ) {\n\t\t\t\t\t\t\t\ttbody[ j ].parentNode.removeChild( tbody[ j ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// IE completely kills leading whitespace when innerHTML is used\n\t\t\t\t\tif ( !jQuery.support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {\n\t\t\t\t\t\tdiv.insertBefore( context.createTextNode( rleadingWhitespace.exec(elem)[0] ), div.firstChild );\n\t\t\t\t\t}\n\n\t\t\t\t\telem = div.childNodes;\n\n\t\t\t\t\t// Take out of fragment container (we need a fresh div each time)\n\t\t\t\t\tdiv.parentNode.removeChild( div );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( elem.nodeType ) {\n\t\t\t\tret.push( elem );\n\t\t\t} else {\n\t\t\t\tjQuery.merge( ret, elem );\n\t\t\t}\n\t\t}\n\n\t\t// Fix #11356: Clear elements from safeFragment\n\t\tif ( div ) {\n\t\t\telem = div = safe = null;\n\t\t}\n\n\t\t// Reset defaultChecked for any radios and checkboxes\n\t\t// about to be appended to the DOM in IE 6/7 (#8060)\n\t\tif ( !jQuery.support.appendChecked ) {\n\t\t\tfor ( i = 0; (elem = ret[i]) != null; i++ ) {\n\t\t\t\tif ( jQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t\tfixDefaultChecked( elem );\n\t\t\t\t} else if ( typeof elem.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\t\tjQuery.grep( elem.getElementsByTagName(\"input\"), fixDefaultChecked );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Append elements to a provided document fragment\n\t\tif ( fragment ) {\n\t\t\t// Special handling of each script element\n\t\t\thandleScript = function( elem ) {\n\t\t\t\t// Check if we consider it executable\n\t\t\t\tif ( !elem.type || rscriptType.test( elem.type ) ) {\n\t\t\t\t\t// Detach the script and store it in the scripts array (if provided) or the fragment\n\t\t\t\t\t// Return truthy to indicate that it has been handled\n\t\t\t\t\treturn scripts ?\n\t\t\t\t\t\tscripts.push( elem.parentNode ? elem.parentNode.removeChild( elem ) : elem ) :\n\t\t\t\t\t\tfragment.appendChild( elem );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor ( i = 0; (elem = ret[i]) != null; i++ ) {\n\t\t\t\t// Check if we're done after handling an executable script\n\t\t\t\tif ( !( jQuery.nodeName( elem, \"script\" ) && handleScript( elem ) ) ) {\n\t\t\t\t\t// Append to fragment and handle embedded scripts\n\t\t\t\t\tfragment.appendChild( elem );\n\t\t\t\t\tif ( typeof elem.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\t\t\t// handleScript alters the DOM, so use jQuery.merge to ensure snapshot iteration\n\t\t\t\t\t\tjsTags = jQuery.grep( jQuery.merge( [], elem.getElementsByTagName(\"script\") ), handleScript );\n\n\t\t\t\t\t\t// Splice the scripts into ret after their former ancestor and advance our index beyond them\n\t\t\t\t\t\tret.splice.apply( ret, [i + 1, 0].concat( jsTags ) );\n\t\t\t\t\t\ti += jsTags.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tcleanData: function( elems, /* internal */ acceptData ) {\n\t\tvar data, id, elem, type,\n\t\t\ti = 0,\n\t\t\tinternalKey = jQuery.expando,\n\t\t\tcache = jQuery.cache,\n\t\t\tdeleteExpando = jQuery.support.deleteExpando,\n\t\t\tspecial = jQuery.event.special;\n\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\n\t\t\tif ( acceptData || jQuery.acceptData( elem ) ) {\n\n\t\t\t\tid = elem[ internalKey ];\n\t\t\t\tdata = id && cache[ id ];\n\n\t\t\t\tif ( data ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove cache only if it was not already removed by jQuery.event.remove\n\t\t\t\t\tif ( cache[ id ] ) {\n\n\t\t\t\t\t\tdelete cache[ id ];\n\n\t\t\t\t\t\t// IE does not allow us to delete expando properties from nodes,\n\t\t\t\t\t\t// nor does it have a removeAttribute function on Document nodes;\n\t\t\t\t\t\t// we must handle all of these cases\n\t\t\t\t\t\tif ( deleteExpando ) {\n\t\t\t\t\t\t\tdelete elem[ internalKey ];\n\n\t\t\t\t\t\t} else if ( elem.removeAttribute ) {\n\t\t\t\t\t\t\telem.removeAttribute( internalKey );\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telem[ internalKey ] = null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tjQuery.deletedIds.push( id );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n// Limit scope pollution from any deprecated API\n(function() {\n\nvar matched, browser;\n\n// Use of jQuery.browser is frowned upon.\n// More details: http://api.jquery.com/jQuery.browser\n// jQuery.uaMatch maintained for back-compat\njQuery.uaMatch = function( ua ) {\n\tua = ua.toLowerCase();\n\n\tvar match = /(chrome)[ \\/]([\\w.]+)/.exec( ua ) ||\n\t\t/(webkit)[ \\/]([\\w.]+)/.exec( ua ) ||\n\t\t/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec( ua ) ||\n\t\t/(msie) ([\\w.]+)/.exec( ua ) ||\n\t\tua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec( ua ) ||\n\t\t[];\n\n\treturn {\n\t\tbrowser: match[ 1 ] || \"\",\n\t\tversion: match[ 2 ] || \"0\"\n\t};\n};\n\nmatched = jQuery.uaMatch( navigator.userAgent );\nbrowser = {};\n\nif ( matched.browser ) {\n\tbrowser[ matched.browser ] = true;\n\tbrowser.version = matched.version;\n}\n\n// Chrome is Webkit, but Webkit is also Safari.\nif ( browser.chrome ) {\n\tbrowser.webkit = true;\n} else if ( browser.webkit ) {\n\tbrowser.safari = true;\n}\n\njQuery.browser = browser;\n\njQuery.sub = function() {\n\tfunction jQuerySub( selector, context ) {\n\t\treturn new jQuerySub.fn.init( selector, context );\n\t}\n\tjQuery.extend( true, jQuerySub, this );\n\tjQuerySub.superclass = this;\n\tjQuerySub.fn = jQuerySub.prototype = this();\n\tjQuerySub.fn.constructor = jQuerySub;\n\tjQuerySub.sub = this.sub;\n\tjQuerySub.fn.init = function init( selector, context ) {\n\t\tif ( context && context instanceof jQuery && !(context instanceof jQuerySub) ) {\n\t\t\tcontext = jQuerySub( context );\n\t\t}\n\n\t\treturn jQuery.fn.init.call( this, selector, context, rootjQuerySub );\n\t};\n\tjQuerySub.fn.init.prototype = jQuerySub.fn;\n\tvar rootjQuerySub = jQuerySub(document);\n\treturn jQuerySub;\n};\n\n})();\nvar curCSS, iframe, iframeDoc,\n\tralpha = /alpha\\([^)]*\\)/i,\n\tropacity = /opacity=([^)]*)/,\n\trposition = /^(top|right|bottom|left)$/,\n\t// swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\n\t// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trmargin = /^margin/,\n\trnumsplit = new RegExp( \"^(\" + core_pnum + \")(.*)$\", \"i\" ),\n\trnumnonpx = new RegExp( \"^(\" + core_pnum + \")(?!px)[a-z%]+$\", \"i\" ),\n\trrelNum = new RegExp( \"^([-+])=(\" + core_pnum + \")\", \"i\" ),\n\telemdisplay = {},\n\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: 0,\n\t\tfontWeight: 400\n\t},\n\n\tcssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ],\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ],\n\n\teventsToggle = jQuery.fn.toggle;\n\n// return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( style, name ) {\n\n\t// shortcut for names that are not vendor prefixed\n\tif ( name in style ) {\n\t\treturn name;\n\t}\n\n\t// check for vendor prefixed names\n\tvar capName = name.charAt(0).toUpperCase() + name.slice(1),\n\t\torigName = name,\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in style ) {\n\t\t\treturn name;\n\t\t}\n\t}\n\n\treturn origName;\n}\n\nfunction isHidden( elem, el ) {\n\telem = el || elem;\n\treturn jQuery.css( elem, \"display\" ) === \"none\" || !jQuery.contains( elem.ownerDocument, elem );\n}\n\nfunction showHide( elements, show ) {\n\tvar elem, display,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\" );\n\t\tif ( show ) {\n\t\t\t// Reset the inline display of this element to learn if it is\n\t\t\t// being hidden by cascaded rules or not\n\t\t\tif ( !values[ index ] && elem.style.display === \"none\" ) {\n\t\t\t\telem.style.display = \"\";\n\t\t\t}\n\n\t\t\t// Set elements which have been overridden with display: none\n\t\t\t// in a stylesheet to whatever the default browser style is\n\t\t\t// for such an element\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\n\t\t\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\", css_defaultDisplay(elem.nodeName) );\n\t\t\t}\n\t\t} else {\n\t\t\tdisplay = curCSS( elem, \"display\" );\n\n\t\t\tif ( !values[ index ] && display !== \"none\" ) {\n\t\t\t\tjQuery._data( elem, \"olddisplay\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of most of the elements in a second loop\n\t// to avoid the constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend({\n\tcss: function( name, value ) {\n\t\treturn jQuery.access( this, function( elem, name, value ) {\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t},\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state, fn2 ) {\n\t\tvar bool = typeof state === \"boolean\";\n\n\t\tif ( jQuery.isFunction( state ) && jQuery.isFunction( fn2 ) ) {\n\t\t\treturn eventsToggle.apply( this, arguments );\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( bool ? state : isHidden( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Exclude the following css properties to add px\n\tcssNumber: {\n\t\t\"fillOpacity\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t// normalize float css property\n\t\t\"float\": jQuery.support.cssFloat ? \"cssFloat\" : \"styleFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\n\t\t\tif ( type === \"string\" && (ret = rrelNum.exec( value )) ) {\n\t\t\t\tvalue = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that NaN and null values aren't set. See: #7116\n\t\t\tif ( value == null || type === \"number\" && isNaN( value ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\n\t\t\tif ( type === \"number\" && !jQuery.cssNumber[ origName ] ) {\n\t\t\t\tvalue += \"px\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !(\"set\" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {\n\t\t\t\t// Wrapped to prevent IE from throwing errors when 'invalid' values are provided\n\t\t\t\t// Fixes bug #5509\n\t\t\t\ttry {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\n\t\t} else {\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, numeric, extra ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name );\n\t\t}\n\n\t\t//convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\n\t\tif ( numeric || extra !== undefined ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn numeric || jQuery.isNumeric( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t},\n\n\t// A method for quickly swapping in/out CSS properties to get correct calculations\n\tswap: function( elem, options, callback ) {\n\t\tvar ret, name,\n\t\t\told = {};\n\n\t\t// Remember the old values, and insert the new ones\n\t\tfor ( name in options ) {\n\t\t\told[ name ] = elem.style[ name ];\n\t\t\telem.style[ name ] = options[ name ];\n\t\t}\n\n\t\tret = callback.call( elem );\n\n\t\t// Revert the old values\n\t\tfor ( name in options ) {\n\t\t\telem.style[ name ] = old[ name ];\n\t\t}\n\n\t\treturn ret;\n\t}\n});\n\n// NOTE: To any future maintainer, we've window.getComputedStyle\n// because jsdom on node.js will break without it.\nif ( window.getComputedStyle ) {\n\tcurCSS = function( elem, name ) {\n\t\tvar ret, width, minWidth, maxWidth,\n\t\t\tcomputed = window.getComputedStyle( elem, null ),\n\t\t\tstyle = elem.style;\n\n\t\tif ( computed ) {\n\n\t\t\tret = computed[ name ];\n\t\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\t\tret = jQuery.style( elem, name );\n\t\t\t}\n\n\t\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t\t// Chrome < 17 and Safari 5.0 uses \"computed value\" instead of \"used value\" for margin-right\n\t\t\t// Safari 5.1.7 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\n\t\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\n\t\t\tif ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\t\t\t\twidth = style.width;\n\t\t\t\tminWidth = style.minWidth;\n\t\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\t\tret = computed.width;\n\n\t\t\t\tstyle.width = width;\n\t\t\t\tstyle.minWidth = minWidth;\n\t\t\t\tstyle.maxWidth = maxWidth;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t};\n} else if ( document.documentElement.currentStyle ) {\n\tcurCSS = function( elem, name ) {\n\t\tvar left, rsLeft,\n\t\t\tret = elem.currentStyle && elem.currentStyle[ name ],\n\t\t\tstyle = elem.style;\n\n\t\t// Avoid setting ret to empty string here\n\t\t// so we don't default to auto\n\t\tif ( ret == null && style && style[ name ] ) {\n\t\t\tret = style[ name ];\n\t\t}\n\n\t\t// From the awesome hack by Dean Edwards\n\t\t// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n\n\t\t// If we're not dealing with a regular pixel number\n\t\t// but a number that has a weird ending, we need to convert it to pixels\n\t\t// but not position css attributes, as those are proportional to the parent element instead\n\t\t// and we can't measure the parent instead because it might trigger a \"stacking dolls\" problem\n\t\tif ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\tleft = style.left;\n\t\t\trsLeft = elem.runtimeStyle && elem.runtimeStyle.left;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tif ( rsLeft ) {\n\t\t\t\telem.runtimeStyle.left = elem.currentStyle.left;\n\t\t\t}\n\t\t\tstyle.left = name === \"fontSize\" ? \"1em\" : ret;\n\t\t\tret = style.pixelLeft + \"px\";\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.left = left;\n\t\t\tif ( rsLeft ) {\n\t\t\t\telem.runtimeStyle.left = rsLeft;\n\t\t\t}\n\t\t}\n\n\t\treturn ret === \"\" ? \"auto\" : ret;\n\t};\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\tvar matches = rnumsplit.exec( value );\n\treturn matches ?\n\t\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\n\t\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox ) {\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\n\t\t// If we already have the right measurement, avoid augmentation\n\t\t4 :\n\t\t// Otherwise initialize for horizontal or vertical properties\n\t\tname === \"width\" ? 1 : 0,\n\n\t\tval = 0;\n\n\tfor ( ; i < 4; i += 2 ) {\n\t\t// both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\t// we use jQuery.css instead of curCSS here\n\t\t\t// because of the reliableMarginRight CSS hook!\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true );\n\t\t}\n\n\t\t// From this point on we use curCSS for maximum performance (relevant in animations)\n\t\tif ( isBorderBox ) {\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= parseFloat( curCSS( elem, \"padding\" + cssExpand[ i ] ) ) || 0;\n\t\t\t}\n\n\t\t\t// at this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= parseFloat( curCSS( elem, \"border\" + cssExpand[ i ] + \"Width\" ) ) || 0;\n\t\t\t}\n\t\t} else {\n\t\t\t// at this point, extra isn't content, so add padding\n\t\t\tval += parseFloat( curCSS( elem, \"padding\" + cssExpand[ i ] ) ) || 0;\n\n\t\t\t// at this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += parseFloat( curCSS( elem, \"border\" + cssExpand[ i ] + \"Width\" ) ) || 0;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar val = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n\t\tvalueIsBorderBox = true,\n\t\tisBorderBox = jQuery.support.boxSizing && jQuery.css( elem, \"boxSizing\" ) === \"border-box\";\n\n\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test(val) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// we need the check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox && ( jQuery.support.boxSizingReliable || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox\n\t\t)\n\t) + \"px\";\n}\n\n\n// Try to determine the default display value of an element\nfunction css_defaultDisplay( nodeName ) {\n\tif ( elemdisplay[ nodeName ] ) {\n\t\treturn elemdisplay[ nodeName ];\n\t}\n\n\tvar elem = jQuery( \"<\" + nodeName + \">\" ).appendTo( document.body ),\n\t\tdisplay = elem.css(\"display\");\n\telem.remove();\n\n\t// If the simple way fails,\n\t// get element's real default display by attaching it to a temp iframe\n\tif ( display === \"none\" || display === \"\" ) {\n\t\t// Use the already-created iframe if possible\n\t\tiframe = document.body.appendChild(\n\t\t\tiframe || jQuery.extend( document.createElement(\"iframe\"), {\n\t\t\t\tframeBorder: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t})\n\t\t);\n\n\t\t// Create a cacheable copy of the iframe document on first call.\n\t\t// IE and Opera will allow us to reuse the iframeDoc without re-writing the fake HTML\n\t\t// document to it; WebKit & Firefox won't allow reusing the iframe document.\n\t\tif ( !iframeDoc || !iframe.createElement ) {\n\t\t\tiframeDoc = ( iframe.contentWindow || iframe.contentDocument ).document;\n\t\t\tiframeDoc.write(\"<!doctype html><html><body>\");\n\t\t\tiframeDoc.close();\n\t\t}\n\n\t\telem = iframeDoc.body.appendChild( iframeDoc.createElement(nodeName) );\n\n\t\tdisplay = curCSS( elem, \"display\" );\n\t\tdocument.body.removeChild( iframe );\n\t}\n\n\t// Store the correct default display\n\telemdisplay[ nodeName ] = display;\n\n\treturn display;\n}\n\njQuery.each([ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\t\t\t\t// certain elements can have dimension info if we invisibly show them\n\t\t\t\t// however, it must have a current display style that would benefit from this\n\t\t\t\tif ( elem.offsetWidth === 0 && rdisplayswap.test( curCSS( elem, \"display\" ) ) ) {\n\t\t\t\t\treturn jQuery.swap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\treturn setPositiveNumber( elem, value, extra ?\n\t\t\t\taugmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.support.boxSizing && jQuery.css( elem, \"boxSizing\" ) === \"border-box\"\n\t\t\t\t) : 0\n\t\t\t);\n\t\t}\n\t};\n});\n\nif ( !jQuery.support.opacity ) {\n\tjQuery.cssHooks.opacity = {\n\t\tget: function( elem, computed ) {\n\t\t\t// IE uses filters for opacity\n\t\t\treturn ropacity.test( (computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || \"\" ) ?\n\t\t\t\t( 0.01 * parseFloat( RegExp.$1 ) ) + \"\" :\n\t\t\t\tcomputed ? \"1\" : \"\";\n\t\t},\n\n\t\tset: function( elem, value ) {\n\t\t\tvar style = elem.style,\n\t\t\t\tcurrentStyle = elem.currentStyle,\n\t\t\t\topacity = jQuery.isNumeric( value ) ? \"alpha(opacity=\" + value * 100 + \")\" : \"\",\n\t\t\t\tfilter = currentStyle && currentStyle.filter || style.filter || \"\";\n\n\t\t\t// IE has trouble with opacity if it does not have layout\n\t\t\t// Force it by setting the zoom level\n\t\t\tstyle.zoom = 1;\n\n\t\t\t// if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652\n\t\t\tif ( value >= 1 && jQuery.trim( filter.replace( ralpha, \"\" ) ) === \"\" &&\n\t\t\t\tstyle.removeAttribute ) {\n\n\t\t\t\t// Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\n\t\t\t\t// if \"filter:\" is present at all, clearType is disabled, we want to avoid this\n\t\t\t\t// style.removeAttribute is IE Only, but so apparently is this code path...\n\t\t\t\tstyle.removeAttribute( \"filter\" );\n\n\t\t\t\t// if there there is no filter style applied in a css rule, we are done\n\t\t\t\tif ( currentStyle && !currentStyle.filter ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// otherwise, set new filter values\n\t\t\tstyle.filter = ralpha.test( filter ) ?\n\t\t\t\tfilter.replace( ralpha, opacity ) :\n\t\t\t\tfilter + \" \" + opacity;\n\t\t}\n\t};\n}\n\n// These hooks cannot be added until DOM ready because the support test\n// for it is not run until after DOM ready\njQuery(function() {\n\tif ( !jQuery.support.reliableMarginRight ) {\n\t\tjQuery.cssHooks.marginRight = {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t\t// Work around by temporarily setting element display to inline-block\n\t\t\t\treturn jQuery.swap( elem, { \"display\": \"inline-block\" }, function() {\n\t\t\t\t\tif ( computed ) {\n\t\t\t\t\t\treturn curCSS( elem, \"marginRight\" );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\n\t// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n\t// getComputedStyle returns percent when specified for top/left/bottom/right\n\t// rather than make the css module depend on the offset module, we just check for it here\n\tif ( !jQuery.support.pixelPosition && jQuery.fn.position ) {\n\t\tjQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\t\t\tjQuery.cssHooks[ prop ] = {\n\t\t\t\tget: function( elem, computed ) {\n\t\t\t\t\tif ( computed ) {\n\t\t\t\t\t\tvar ret = curCSS( elem, prop );\n\t\t\t\t\t\t// if curCSS returns percentage, fallback to offset\n\t\t\t\t\t\treturn rnumnonpx.test( ret ) ? jQuery( elem ).position()[ prop ] + \"px\" : ret;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\n});\n\nif ( jQuery.expr && jQuery.expr.filters ) {\n\tjQuery.expr.filters.hidden = function( elem ) {\n\t\treturn ( elem.offsetWidth === 0 && elem.offsetHeight === 0 ) || (!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || curCSS( elem, \"display\" )) === \"none\");\n\t};\n\n\tjQuery.expr.filters.visible = function( elem ) {\n\t\treturn !jQuery.expr.filters.hidden( elem );\n\t};\n}\n\n// These hooks are used by animate to expand properties\njQuery.each({\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i,\n\n\t\t\t\t// assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [ value ],\n\t\t\t\texpanded = {};\n\n\t\t\tfor ( i = 0; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n});\nvar r20 = /%20/g,\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,\n\trselectTextarea = /^(?:select|textarea)/i;\n\njQuery.fn.extend({\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map(function(){\n\t\t\treturn this.elements ? jQuery.makeArray( this.elements ) : this;\n\t\t})\n\t\t.filter(function(){\n\t\t\treturn this.name && !this.disabled &&\n\t\t\t\t( this.checked || rselectTextarea.test( this.nodeName ) ||\n\t\t\t\t\trinput.test( this.type ) );\n\t\t})\n\t\t.map(function( i, elem ){\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\treturn val == null ?\n\t\t\t\tnull :\n\t\t\t\tjQuery.isArray( val ) ?\n\t\t\t\t\tjQuery.map( val, function( val, i ){\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t\t}) :\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t}).get();\n\t}\n});\n\n//Serialize an array of form elements or a set of\n//key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, value ) {\n\t\t\t// If value is a function, invoke it and return its value\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\n\t\t};\n\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\n\tif ( traditional === undefined ) {\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t});\n\n\t} else {\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\n};\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\t\t\t\t// If array item is non-scalar (array or object), encode its\n\t\t\t\t// numeric index to resolve deserialization ambiguity issues.\n\t\t\t\t// Note that rack (as of 1.0.0) can't currently deserialize\n\t\t\t\t// nested arrays properly, and attempting to do so may cause\n\t\t\t\t// a server error. Possible fixes are to modify rack's\n\t\t\t\t// deserialization algorithm or to provide an option or flag\n\t\t\t\t// to force array serialization to be shallow.\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\n\t\t\t}\n\t\t});\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\nvar // Document location\n\tajaxLocation,\n\t// Document location segments\n\tajaxLocParts,\n\n\trhash = /#.*$/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg, // IE leaves an \\r character at EOL\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\trquery = /\\?/,\n\trscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n\trts = /([?&])_=[^&]*/,\n\trurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,\n\n\t// Keep a copy of the old load method\n\t_load = jQuery.fn.load,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = [\"*/\"] + [\"*\"];\n\n// #8138, IE may throw an exception when accessing\n// a field from window.location if document.domain has been set\ntry {\n\tajaxLocation = location.href;\n} catch( e ) {\n\t// Use the href attribute of an A element\n\t// since IE will modify it given document.location\n\tajaxLocation = document.createElement( \"a\" );\n\tajaxLocation.href = \"\";\n\tajaxLocation = ajaxLocation.href;\n}\n\n// Segment location into parts\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType, list, placeBefore,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().split( core_rspace ),\n\t\t\ti = 0,\n\t\t\tlength = dataTypes.length;\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tdataType = dataTypes[ i ];\n\t\t\t\t// We control if we're asked to add before\n\t\t\t\t// any existing element\n\t\t\t\tplaceBefore = /^\\+/.test( dataType );\n\t\t\t\tif ( placeBefore ) {\n\t\t\t\t\tdataType = dataType.substr( 1 ) || \"*\";\n\t\t\t\t}\n\t\t\t\tlist = structure[ dataType ] = structure[ dataType ] || [];\n\t\t\t\t// then we add to the structure accordingly\n\t\t\t\tlist[ placeBefore ? \"unshift\" : \"push\" ]( func );\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR,\n\t\tdataType /* internal */, inspected /* internal */ ) {\n\n\tdataType = dataType || options.dataTypes[ 0 ];\n\tinspected = inspected || {};\n\n\tinspected[ dataType ] = true;\n\n\tvar selection,\n\t\tlist = structure[ dataType ],\n\t\ti = 0,\n\t\tlength = list ? list.length : 0,\n\t\texecuteOnly = ( structure === prefilters );\n\n\tfor ( ; i < length && ( executeOnly || !selection ); i++ ) {\n\t\tselection = list[ i ]( options, originalOptions, jqXHR );\n\t\t// If we got redirected to another dataType\n\t\t// we try there if executing only and not done already\n\t\tif ( typeof selection === \"string\" ) {\n\t\t\tif ( !executeOnly || inspected[ selection ] ) {\n\t\t\t\tselection = undefined;\n\t\t\t} else {\n\t\t\t\toptions.dataTypes.unshift( selection );\n\t\t\t\tselection = inspectPrefiltersOrTransports(\n\t\t\t\t\t\tstructure, options, originalOptions, jqXHR, selection, inspected );\n\t\t\t}\n\t\t}\n\t}\n\t// If we're only executing or nothing was selected\n\t// we try the catchall dataType if not done already\n\tif ( ( executeOnly || !selection ) && !inspected[ \"*\" ] ) {\n\t\tselection = inspectPrefiltersOrTransports(\n\t\t\t\tstructure, options, originalOptions, jqXHR, \"*\", inspected );\n\t}\n\t// unnecessary when only executing (prefilters)\n\t// but it'll be ignored by the caller in that case\n\treturn selection;\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n}\n\njQuery.fn.load = function( url, params, callback ) {\n\tif ( typeof url !== \"string\" && _load ) {\n\t\treturn _load.apply( this, arguments );\n\t}\n\n\t// Don't do a request if no elements are being requested\n\tif ( !this.length ) {\n\t\treturn this;\n\t}\n\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf(\" \");\n\n\tif ( off >= 0 ) {\n\t\tselector = url.slice( off, url.length );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// Request the remote document\n\tjQuery.ajax({\n\t\turl: url,\n\n\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\n\t\ttype: type,\n\t\tdataType: \"html\",\n\t\tdata: params,\n\t\tcomplete: function( jqXHR, status ) {\n\t\t\tif ( callback ) {\n\t\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t}\n\t\t}\n\t}).done(function( responseText ) {\n\n\t\t// Save response for use in complete callback\n\t\tresponse = arguments;\n\n\t\t// See if a selector was specified\n\t\tself.html( selector ?\n\n\t\t\t// Create a dummy div to hold the results\n\t\t\tjQuery(\"<div>\")\n\n\t\t\t\t// inject the contents of the document in, removing the scripts\n\t\t\t\t// to avoid any 'Permission Denied' errors in IE\n\t\t\t\t.append( responseText.replace( rscript, \"\" ) )\n\n\t\t\t\t// Locate the specified elements\n\t\t\t\t.find( selector ) :\n\n\t\t\t// If not, just inject the full result\n\t\t\tresponseText );\n\n\t});\n\n\treturn this;\n};\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( \"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split( \" \" ), function( i, o ){\n\tjQuery.fn[ o ] = function( f ){\n\t\treturn this.on( o, f );\n\t};\n});\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\t\t// shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\treturn jQuery.ajax({\n\t\t\ttype: method,\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\tsuccess: callback,\n\t\t\tdataType: type\n\t\t});\n\t};\n});\n\njQuery.extend({\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\tif ( settings ) {\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( target, jQuery.ajaxSettings );\n\t\t} else {\n\t\t\t// Extending ajaxSettings\n\t\t\tsettings = target;\n\t\t\ttarget = jQuery.ajaxSettings;\n\t\t}\n\t\tajaxExtend( target, settings );\n\t\treturn target;\n\t},\n\n\tajaxSettings: {\n\t\turl: ajaxLocation,\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\n\t\tglobal: true,\n\t\ttype: \"GET\",\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\tprocessData: true,\n\t\tasync: true,\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\thtml: \"text/html\",\n\t\t\ttext: \"text/plain\",\n\t\t\tjson: \"application/json, text/javascript\",\n\t\t\t\"*\": allTypes\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /xml/,\n\t\t\thtml: /html/,\n\t\t\tjson: /json/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\"\n\t\t},\n\n\t\t// List of data converters\n\t\t// 1) key format is \"source_type destination_type\" (a single space in-between)\n\t\t// 2) the catchall symbol \"*\" can be used for source_type\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": window.String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": jQuery.parseJSON,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\tcontext: true,\n\t\t\turl: true\n\t\t}\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar // ifModified key\n\t\t\tifModifiedKey,\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\t\t\t// transport\n\t\t\ttransport,\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\t\t\t// Cross-domain detection vars\n\t\t\tparts,\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\t\t\t// Loop variable\n\t\t\ti,\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\t\t\t// Context for global events\n\t\t\t// It's the callbackContext if one was provided in the options\n\t\t\t// and if it's a DOM node or a jQuery collection\n\t\t\tglobalEventContext = callbackContext !== s &&\n\t\t\t\t( callbackContext.nodeType || callbackContext instanceof jQuery ) ?\n\t\t\t\t\t\tjQuery( callbackContext ) : jQuery.event,\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\t\t\t// The jqXHR state\n\t\t\tstate = 0,\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\tvar lname = name.toLowerCase();\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( state === 2 ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match === undefined ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tstatusText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( statusText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, statusText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Callback for when everything is done\n\t\t// It is defined here because jslint complains if it is declared\n\t\t// at the end of the function (which would be more logical and readable)\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Called once\n\t\t\tif ( state === 2 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// State is \"done\" now\n\t\t\tstate = 2;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\tclearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( status >= 200 && status < 300 || status === 304 ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ ifModifiedKey ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Etag\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ ifModifiedKey ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If not modified\n\t\t\t\tif ( status === 304 ) {\n\n\t\t\t\t\tstatusText = \"notmodified\";\n\t\t\t\t\tisSuccess = true;\n\n\t\t\t\t// If we have data\n\t\t\t\t} else {\n\n\t\t\t\t\tisSuccess = ajaxConvert( s, response );\n\t\t\t\t\tstatusText = isSuccess.state;\n\t\t\t\t\tsuccess = isSuccess.data;\n\t\t\t\t\terror = isSuccess.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// We extract error from statusText\n\t\t\t\t// then normalize statusText and status for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( !statusText || status ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = \"\" + ( nativeStatusText || statusText );\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajax\" + ( isSuccess ? \"Success\" : \"Error\" ),\n\t\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\t\tjqXHR.success = jqXHR.done;\n\t\tjqXHR.error = jqXHR.fail;\n\t\tjqXHR.complete = completeDeferred.add;\n\n\t\t// Status-dependent callbacks\n\t\tjqXHR.statusCode = function( map ) {\n\t\t\tif ( map ) {\n\t\t\t\tvar tmp;\n\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\tfor ( tmp in map ) {\n\t\t\t\t\t\tstatusCode[ tmp ] = [ statusCode[tmp], map[tmp] ];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttmp = map[ jqXHR.status ];\n\t\t\t\t\tjqXHR.always( tmp );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\t// Remove hash character (#7531: and string promotion)\n\t\t// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url ) + \"\" ).replace( rhash, \"\" ).replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().split( core_rspace );\n\n\t\t// Determine if a cross-domain request is in order\n\t\tif ( s.crossDomain == null ) {\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\n\t\t\ts.crossDomain = !!( parts &&\n\t\t\t\t( parts[ 1 ] != ajaxLocParts[ 1 ] || parts[ 2 ] != ajaxLocParts[ 2 ] ||\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? 80 : 443 ) ) !=\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? 80 : 443 ) ) )\n\t\t\t);\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( state === 2 ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\tfireGlobals = s.global;\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.data;\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Get ifModifiedKey before adding the anti-cache parameter\n\t\t\tifModifiedKey = s.url;\n\n\t\t\t// Add anti-cache in url if needed\n\t\t\tif ( s.cache === false ) {\n\n\t\t\t\tvar ts = jQuery.now(),\n\t\t\t\t\t// try replacing _= if it is there\n\t\t\t\t\tret = s.url.replace( rts, \"$1_=\" + ts );\n\n\t\t\t\t// if nothing was replaced, add timestamp to the end\n\t\t\t\ts.url = ret + ( ( ret === s.url ) ? ( rquery.test( s.url ) ? \"&\" : \"?\" ) + \"_=\" + ts : \"\" );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tifModifiedKey = ifModifiedKey || s.url;\n\t\t\tif ( jQuery.lastModified[ ifModifiedKey ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ ifModifiedKey ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ ifModifiedKey ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ ifModifiedKey ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\n\t\t\t\t// Abort if not done already and return\n\t\t\t\treturn jqXHR.abort();\n\n\t\t}\n\n\t\t// aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\n\t\t\tjqXHR[ i ]( s[ i ] );\n\t\t}\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = setTimeout( function(){\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tstate = 1;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch (e) {\n\t\t\t\t// Propagate exception as error if not done\n\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\tdone( -1, e );\n\t\t\t\t// Simply rethrow otherwise\n\t\t\t\t} else {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {}\n\n});\n\n/* Handles responses to an ajax request:\n * - sets all responseXXX fields accordingly\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes,\n\t\tresponseFields = s.responseFields;\n\n\t// Fill responseXXX fields\n\tfor ( type in responseFields ) {\n\t\tif ( type in responses ) {\n\t\t\tjqXHR[ responseFields[type] ] = responses[ type ];\n\t\t}\n\t}\n\n\t// Remove auto dataType and get content-type in the process\n\twhile( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"content-type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n// Chain conversions given the request and the original response\nfunction ajaxConvert( s, response ) {\n\n\tvar conv, conv2, current, tmp,\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice(),\n\t\tprev = dataTypes[ 0 ],\n\t\tconverters = {},\n\t\ti = 0;\n\n\t// Apply the dataFilter if provided\n\tif ( s.dataFilter ) {\n\t\tresponse = s.dataFilter( response, s.dataType );\n\t}\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\t// Convert to each sequential dataType, tolerating list modification\n\tfor ( ; (current = dataTypes[++i]); ) {\n\n\t\t// There's only work to do if current dataType is non-auto\n\t\tif ( current !== \"*\" ) {\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\tif ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split(\" \");\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.splice( i--, 0, current );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s[\"throws\"] ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update prev for next iteration\n\t\t\tprev = current;\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\nvar oldCallbacks = [],\n\trquestion = /\\?/,\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/,\n\tnonce = jQuery.now();\n\n// Default jsonp settings\njQuery.ajaxSetup({\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n});\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tdata = s.data,\n\t\turl = s.url,\n\t\thasCallback = s.jsonp !== false,\n\t\treplaceInUrl = hasCallback && rjsonp.test( url ),\n\t\treplaceInData = hasCallback && !replaceInUrl && typeof data === \"string\" &&\n\t\t\t!( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") &&\n\t\t\trjsonp.test( data );\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( s.dataTypes[ 0 ] === \"jsonp\" || replaceInUrl || replaceInData ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\t\toverwritten = window[ callbackName ];\n\n\t\t// Insert callback into url or form data\n\t\tif ( replaceInUrl ) {\n\t\t\ts.url = url.replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( replaceInData ) {\n\t\t\ts.data = data.replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( hasCallback ) {\n\t\t\ts.url += ( rquestion.test( url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[\"script json\"] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always(function() {\n\t\t\t// Restore preexisting value\n\t\t\twindow[ callbackName ] = overwritten;\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\t\t\t\t// make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t});\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n});\n// Install script dataType\njQuery.ajaxSetup({\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /javascript|ecmascript/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n});\n\n// Handle cache's special case and global\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t\ts.global = false;\n\t}\n});\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function(s) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\n\t\tvar script,\n\t\t\thead = document.head || document.getElementsByTagName( \"head\" )[0] || document.documentElement;\n\n\t\treturn {\n\n\t\t\tsend: function( _, callback ) {\n\n\t\t\t\tscript = document.createElement( \"script\" );\n\n\t\t\t\tscript.async = \"async\";\n\n\t\t\t\tif ( s.scriptCharset ) {\n\t\t\t\t\tscript.charset = s.scriptCharset;\n\t\t\t\t}\n\n\t\t\t\tscript.src = s.url;\n\n\t\t\t\t// Attach handlers for all browsers\n\t\t\t\tscript.onload = script.onreadystatechange = function( _, isAbort ) {\n\n\t\t\t\t\tif ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {\n\n\t\t\t\t\t\t// Handle memory leak in IE\n\t\t\t\t\t\tscript.onload = script.onreadystatechange = null;\n\n\t\t\t\t\t\t// Remove the script\n\t\t\t\t\t\tif ( head && script.parentNode ) {\n\t\t\t\t\t\t\thead.removeChild( script );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Dereference the script\n\t\t\t\t\t\tscript = undefined;\n\n\t\t\t\t\t\t// Callback if not abort\n\t\t\t\t\t\tif ( !isAbort ) {\n\t\t\t\t\t\t\tcallback( 200, \"success\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t// Use insertBefore instead of appendChild  to circumvent an IE6 bug.\n\t\t\t\t// This arises when a base node is used (#2709 and #4378).\n\t\t\t\thead.insertBefore( script, head.firstChild );\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( script ) {\n\t\t\t\t\tscript.onload( 0, 1 );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\nvar xhrCallbacks,\n\t// #5280: Internet Explorer will keep connections alive if we don't abort on unload\n\txhrOnUnloadAbort = window.ActiveXObject ? function() {\n\t\t// Abort all pending requests\n\t\tfor ( var key in xhrCallbacks ) {\n\t\t\txhrCallbacks[ key ]( 0, 1 );\n\t\t}\n\t} : false,\n\txhrId = 0;\n\n// Functions to create xhrs\nfunction createStandardXHR() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch( e ) {}\n}\n\nfunction createActiveXHR() {\n\ttry {\n\t\treturn new window.ActiveXObject( \"Microsoft.XMLHTTP\" );\n\t} catch( e ) {}\n}\n\n// Create the request object\n// (This is still attached to ajaxSettings for backward compatibility)\njQuery.ajaxSettings.xhr = window.ActiveXObject ?\n\t/* Microsoft failed to properly\n\t * implement the XMLHttpRequest in IE7 (can't request local files),\n\t * so we use the ActiveXObject when it is available\n\t * Additionally XMLHttpRequest can be disabled in IE7/IE8 so\n\t * we need a fallback.\n\t */\n\tfunction() {\n\t\treturn !this.isLocal && createStandardXHR() || createActiveXHR();\n\t} :\n\t// For all other browsers, use the standard XMLHttpRequest object\n\tcreateStandardXHR;\n\n// Determine support properties\n(function( xhr ) {\n\tjQuery.extend( jQuery.support, {\n\t\tajax: !!xhr,\n\t\tcors: !!xhr && ( \"withCredentials\" in xhr )\n\t});\n})( jQuery.ajaxSettings.xhr() );\n\n// Create transport if the browser can provide an xhr\nif ( jQuery.support.ajax ) {\n\n\tjQuery.ajaxTransport(function( s ) {\n\t\t// Cross domain only allowed if supported through XMLHttpRequest\n\t\tif ( !s.crossDomain || jQuery.support.cors ) {\n\n\t\t\tvar callback;\n\n\t\t\treturn {\n\t\t\t\tsend: function( headers, complete ) {\n\n\t\t\t\t\t// Get a new xhr\n\t\t\t\t\tvar handle, i,\n\t\t\t\t\t\txhr = s.xhr();\n\n\t\t\t\t\t// Open the socket\n\t\t\t\t\t// Passing null username, generates a login popup on Opera (#2865)\n\t\t\t\t\tif ( s.username ) {\n\t\t\t\t\t\txhr.open( s.type, s.url, s.async, s.username, s.password );\n\t\t\t\t\t} else {\n\t\t\t\t\t\txhr.open( s.type, s.url, s.async );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Apply custom fields if provided\n\t\t\t\t\tif ( s.xhrFields ) {\n\t\t\t\t\t\tfor ( i in s.xhrFields ) {\n\t\t\t\t\t\t\txhr[ i ] = s.xhrFields[ i ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Override mime type if needed\n\t\t\t\t\tif ( s.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\t\txhr.overrideMimeType( s.mimeType );\n\t\t\t\t\t}\n\n\t\t\t\t\t// X-Requested-With header\n\t\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\t\tif ( !s.crossDomain && !headers[\"X-Requested-With\"] ) {\n\t\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Need an extra try/catch for cross domain requests in Firefox 3\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch( _ ) {}\n\n\t\t\t\t\t// Do send the request\n\t\t\t\t\t// This may raise an exception which is actually\n\t\t\t\t\t// handled in jQuery.ajax (so no try/catch here)\n\t\t\t\t\txhr.send( ( s.hasContent && s.data ) || null );\n\n\t\t\t\t\t// Listener\n\t\t\t\t\tcallback = function( _, isAbort ) {\n\n\t\t\t\t\t\tvar status,\n\t\t\t\t\t\t\tstatusText,\n\t\t\t\t\t\t\tresponseHeaders,\n\t\t\t\t\t\t\tresponses,\n\t\t\t\t\t\t\txml;\n\n\t\t\t\t\t\t// Firefox throws exceptions when accessing properties\n\t\t\t\t\t\t// of an xhr when a network error occurred\n\t\t\t\t\t\t// http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)\n\t\t\t\t\t\ttry {\n\n\t\t\t\t\t\t\t// Was never called and is aborted or complete\n\t\t\t\t\t\t\tif ( callback && ( isAbort || xhr.readyState === 4 ) ) {\n\n\t\t\t\t\t\t\t\t// Only called once\n\t\t\t\t\t\t\t\tcallback = undefined;\n\n\t\t\t\t\t\t\t\t// Do not keep as active anymore\n\t\t\t\t\t\t\t\tif ( handle ) {\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = jQuery.noop;\n\t\t\t\t\t\t\t\t\tif ( xhrOnUnloadAbort ) {\n\t\t\t\t\t\t\t\t\t\tdelete xhrCallbacks[ handle ];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// If it's an abort\n\t\t\t\t\t\t\t\tif ( isAbort ) {\n\t\t\t\t\t\t\t\t\t// Abort it manually if needed\n\t\t\t\t\t\t\t\t\tif ( xhr.readyState !== 4 ) {\n\t\t\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstatus = xhr.status;\n\t\t\t\t\t\t\t\t\tresponseHeaders = xhr.getAllResponseHeaders();\n\t\t\t\t\t\t\t\t\tresponses = {};\n\t\t\t\t\t\t\t\t\txml = xhr.responseXML;\n\n\t\t\t\t\t\t\t\t\t// Construct response list\n\t\t\t\t\t\t\t\t\tif ( xml && xml.documentElement /* #4958 */ ) {\n\t\t\t\t\t\t\t\t\t\tresponses.xml = xml;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// When requesting binary data, IE6-9 will throw an exception\n\t\t\t\t\t\t\t\t\t// on any attempt to access responseText (#11426)\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tresponses.text = xhr.responseText;\n\t\t\t\t\t\t\t\t\t} catch( _ ) {\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Firefox throws an exception when accessing\n\t\t\t\t\t\t\t\t\t// statusText for faulty cross-domain requests\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tstatusText = xhr.statusText;\n\t\t\t\t\t\t\t\t\t} catch( e ) {\n\t\t\t\t\t\t\t\t\t\t// We normalize with Webkit giving an empty statusText\n\t\t\t\t\t\t\t\t\t\tstatusText = \"\";\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Filter status for non standard behaviors\n\n\t\t\t\t\t\t\t\t\t// If the request is local and we have data: assume a success\n\t\t\t\t\t\t\t\t\t// (success with no data won't get notified, that's the best we\n\t\t\t\t\t\t\t\t\t// can do given current implementations)\n\t\t\t\t\t\t\t\t\tif ( !status && s.isLocal && !s.crossDomain ) {\n\t\t\t\t\t\t\t\t\t\tstatus = responses.text ? 200 : 404;\n\t\t\t\t\t\t\t\t\t// IE - #1450: sometimes returns 1223 when it should be 204\n\t\t\t\t\t\t\t\t\t} else if ( status === 1223 ) {\n\t\t\t\t\t\t\t\t\t\tstatus = 204;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch( firefoxAccessException ) {\n\t\t\t\t\t\t\tif ( !isAbort ) {\n\t\t\t\t\t\t\t\tcomplete( -1, firefoxAccessException );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Call complete if needed\n\t\t\t\t\t\tif ( responses ) {\n\t\t\t\t\t\t\tcomplete( status, statusText, responses, responseHeaders );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( !s.async ) {\n\t\t\t\t\t\t// if we're in sync mode we fire the callback\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t} else if ( xhr.readyState === 4 ) {\n\t\t\t\t\t\t// (IE6 & IE7) if it's in cache and has been\n\t\t\t\t\t\t// retrieved directly we need to fire the callback\n\t\t\t\t\t\tsetTimeout( callback, 0 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\thandle = ++xhrId;\n\t\t\t\t\t\tif ( xhrOnUnloadAbort ) {\n\t\t\t\t\t\t\t// Create the active xhrs callbacks list if needed\n\t\t\t\t\t\t\t// and attach the unload handler\n\t\t\t\t\t\t\tif ( !xhrCallbacks ) {\n\t\t\t\t\t\t\t\txhrCallbacks = {};\n\t\t\t\t\t\t\t\tjQuery( window ).unload( xhrOnUnloadAbort );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Add to list of active xhrs callbacks\n\t\t\t\t\t\t\txhrCallbacks[ handle ] = callback;\n\t\t\t\t\t\t}\n\t\t\t\t\t\txhr.onreadystatechange = callback;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tabort: function() {\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tcallback(0,1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n}\nvar fxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trfxnum = new RegExp( \"^(?:([-+])=|)(\" + core_pnum + \")([a-z%]*)$\", \"i\" ),\n\trrun = /queueHooks$/,\n\tanimationPrefilters = [ defaultPrefilter ],\n\ttweeners = {\n\t\t\"*\": [function( prop, value ) {\n\t\t\tvar end, unit, prevScale,\n\t\t\t\ttween = this.createTween( prop, value ),\n\t\t\t\tparts = rfxnum.exec( value ),\n\t\t\t\ttarget = tween.cur(),\n\t\t\t\tstart = +target || 0,\n\t\t\t\tscale = 1;\n\n\t\t\tif ( parts ) {\n\t\t\t\tend = +parts[2];\n\t\t\t\tunit = parts[3] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\n\t\t\t\t// We need to compute starting value\n\t\t\t\tif ( unit !== \"px\" && start ) {\n\t\t\t\t\t// Iteratively approximate from a nonzero starting point\n\t\t\t\t\t// Prefer the current property, because this process will be trivial if it uses the same units\n\t\t\t\t\t// Fallback to end or a simple constant\n\t\t\t\t\tstart = jQuery.css( tween.elem, prop, true ) || end || 1;\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\n\t\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\n\t\t\t\t\t\tprevScale = scale = scale || \".5\";\n\n\t\t\t\t\t\t// Adjust and apply\n\t\t\t\t\t\tstart = start / scale;\n\t\t\t\t\t\tjQuery.style( tween.elem, prop, start + unit );\n\n\t\t\t\t\t\t// Update scale, tolerating zeroes from tween.cur()\n\t\t\t\t\t\tscale = tween.cur() / target;\n\n\t\t\t\t\t// Stop looping if we've hit the mark or scale is unchanged\n\t\t\t\t\t} while ( scale !== 1 && scale !== prevScale );\n\t\t\t\t}\n\n\t\t\t\ttween.unit = unit;\n\t\t\t\ttween.start = start;\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\n\t\t\t\ttween.end = parts[1] ? start + ( parts[1] + 1 ) * end : end;\n\t\t\t}\n\t\t\treturn tween;\n\t\t}]\n\t};\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\tsetTimeout(function() {\n\t\tfxNow = undefined;\n\t}, 0 );\n\treturn ( fxNow = jQuery.now() );\n}\n\nfunction createTweens( animation, props ) {\n\tjQuery.each( props, function( prop, value ) {\n\t\tvar collection = ( tweeners[ prop ] || [] ).concat( tweeners[ \"*\" ] ),\n\t\t\tindex = 0,\n\t\t\tlength = collection.length;\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tif ( collection[ index ].call( animation, prop, value ) ) {\n\n\t\t\t\t// we're done with this property\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tindex = 0,\n\t\ttweenerIndex = 0,\n\t\tlength = animationPrefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\t\t\t// don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t}),\n\t\ttick = function() {\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\t\t\t\tpercent = 1 - ( remaining / animation.duration || 0 ),\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ]);\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise({\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, { specialEasing: {} }, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end, easing ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\t\t\t\t\t// if we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\n\t\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// resolve when we played the last frame\n\t\t\t\t// otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length ; index++ ) {\n\t\tresult = animationPrefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tcreateTweens( animation, props );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue,\n\t\t\telem: elem\n\t\t})\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// not quite $.extend, this wont overwrite keys already present.\n\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.split(\" \");\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length ; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\ttweeners[ prop ] = tweeners[ prop ] || [];\n\t\t\ttweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tanimationPrefilters.unshift( callback );\n\t\t} else {\n\t\t\tanimationPrefilters.push( callback );\n\t\t}\n\t}\n});\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar index, prop, value, length, dataShow, tween, hooks, oldfire,\n\t\tanim = this,\n\t\tstyle = elem.style,\n\t\torig = {},\n\t\thandled = [],\n\t\thidden = elem.nodeType && isHidden( elem );\n\n\t// handle queue: false promises\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always(function() {\n\t\t\t// doing this makes sure that the complete handler will be called\n\t\t\t// before this completes\n\t\t\tanim.always(function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// height/width overflow pass\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\n\t\t// Make sure that nothing sneaks out\n\t\t// Record all 3 overflow attributes because IE does not\n\t\t// change the overflow attribute when overflowX and\n\t\t// overflowY are set to the same value\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Set display property to inline-block for height/width\n\t\t// animations on inline elements that are having width/height animated\n\t\tif ( jQuery.css( elem, \"display\" ) === \"inline\" &&\n\t\t\t\tjQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t// inline-level elements accept inline-block;\n\t\t\t// block-level elements need to be inline with layout\n\t\t\tif ( !jQuery.support.inlineBlockNeedsLayout || css_defaultDisplay( elem.nodeName ) === \"inline\" ) {\n\t\t\t\tstyle.display = \"inline-block\";\n\n\t\t\t} else {\n\t\t\t\tstyle.zoom = 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tif ( !jQuery.support.shrinkWrapBlocks ) {\n\t\t\tanim.done(function() {\n\t\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t\t});\n\t\t}\n\t}\n\n\n\t// show/hide pass\n\tfor ( index in props ) {\n\t\tvalue = props[ index ];\n\t\tif ( rfxtypes.exec( value ) ) {\n\t\t\tdelete props[ index ];\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\thandled.push( index );\n\t\t}\n\t}\n\n\tlength = handled.length;\n\tif ( length ) {\n\t\tdataShow = jQuery._data( elem, \"fxshow\" ) || jQuery._data( elem, \"fxshow\", {} );\n\t\tif ( hidden ) {\n\t\t\tjQuery( elem ).show();\n\t\t} else {\n\t\t\tanim.done(function() {\n\t\t\t\tjQuery( elem ).hide();\n\t\t\t});\n\t\t}\n\t\tanim.done(function() {\n\t\t\tvar prop;\n\t\t\tjQuery.removeData( elem, \"fxshow\", true );\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t}\n\t\t});\n\t\tfor ( index = 0 ; index < length ; index++ ) {\n\t\t\tprop = handled[ index ];\n\t\t\ttween = anim.createTween( prop, hidden ? dataShow[ prop ] : 0 );\n\t\t\torig[ prop ] = dataShow[ prop ] || jQuery.style( elem, prop );\n\n\t\t\tif ( !( prop in dataShow ) ) {\n\t\t\t\tdataShow[ prop ] = tween.start;\n\t\t\t\tif ( hidden ) {\n\t\t\t\t\ttween.end = tween.start;\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || \"swing\";\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\tif ( tween.elem[ tween.prop ] != null &&\n\t\t\t\t(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// passing any value as a 4th parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\n\t\t\t// so, simple values such as \"10px\" are parsed to Float.\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, false, \"\" );\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\n\t\t\t// available and use plain properties where available\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Remove in 2.0 - this supports IE8's panic based approach\n// to setting things on disconnected nodes\n\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.each([ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ||\n\t\t\t// special check for .toggle( handler, handler, ... )\n\t\t\t( !i && jQuery.isFunction( speed ) && jQuery.isFunction( easing ) ) ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n});\n\njQuery.fn.extend({\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\n\n\t\t\t// animate to the value specified\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations resolve immediately\n\t\t\t\tif ( empty ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = jQuery._data( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// start the next in the queue if the last step wasn't forced\n\t\t\t// timers currently will call their complete callbacks, which will dequeue\n\t\t\t// but only if they were gotoEnd\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t});\n\t}\n});\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\tattrs = { height: type },\n\t\ti = 0;\n\n\t// if we include width, step value is 1 to do all cssExpand values,\n\t// if we don't include width, step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth? 1 : 0;\n\tfor( ; i < 4 ; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\n// Generate shortcuts for custom animations\njQuery.each({\n\tslideDown: genFx(\"show\"),\n\tslideUp: genFx(\"hide\"),\n\tslideToggle: genFx(\"toggle\"),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n});\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\n\t\topt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\n\n\t// normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p*Math.PI ) / 2;\n\t}\n};\n\njQuery.timers = [];\njQuery.fx = Tween.prototype.init;\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ttimers = jQuery.timers,\n\t\ti = 0;\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n};\n\njQuery.fx.timer = function( timer ) {\n\tif ( timer() && jQuery.timers.push( timer ) && !timerId ) {\n\t\ttimerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.interval = 13;\n\njQuery.fx.stop = function() {\n\tclearInterval( timerId );\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\t// Default speed\n\t_default: 400\n};\n\n// Back Compat <1.8 extension point\njQuery.fx.step = {};\n\nif ( jQuery.expr && jQuery.expr.filters ) {\n\tjQuery.expr.filters.animated = function( elem ) {\n\t\treturn jQuery.grep(jQuery.timers, function( fn ) {\n\t\t\treturn elem === fn.elem;\n\t\t}).length;\n\t};\n}\nvar rroot = /^(?:body|html)$/i;\n\njQuery.fn.offset = function( options ) {\n\tif ( arguments.length ) {\n\t\treturn options === undefined ?\n\t\t\tthis :\n\t\t\tthis.each(function( i ) {\n\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t});\n\t}\n\n\tvar box, docElem, body, win, clientTop, clientLeft, scrollTop, scrollLeft, top, left,\n\t\telem = this[ 0 ],\n\t\tdoc = elem && elem.ownerDocument;\n\n\tif ( !doc ) {\n\t\treturn;\n\t}\n\n\tif ( (body = doc.body) === elem ) {\n\t\treturn jQuery.offset.bodyOffset( elem );\n\t}\n\n\tdocElem = doc.documentElement;\n\n\t// Make sure we're not dealing with a disconnected DOM node\n\tif ( !jQuery.contains( docElem, elem ) ) {\n\t\treturn { top: 0, left: 0 };\n\t}\n\n\tbox = elem.getBoundingClientRect();\n\twin = getWindow( doc );\n\tclientTop  = docElem.clientTop  || body.clientTop  || 0;\n\tclientLeft = docElem.clientLeft || body.clientLeft || 0;\n\tscrollTop  = win.pageYOffset || docElem.scrollTop;\n\tscrollLeft = win.pageXOffset || docElem.scrollLeft;\n\ttop  = box.top  + scrollTop  - clientTop;\n\tleft = box.left + scrollLeft - clientLeft;\n\n\treturn { top: top, left: left };\n};\n\njQuery.offset = {\n\n\tbodyOffset: function( body ) {\n\t\tvar top = body.offsetTop,\n\t\t\tleft = body.offsetLeft;\n\n\t\tif ( jQuery.support.doesNotIncludeMarginInBodyOffset ) {\n\t\t\ttop  += parseFloat( jQuery.css(body, \"marginTop\") ) || 0;\n\t\t\tleft += parseFloat( jQuery.css(body, \"marginLeft\") ) || 0;\n\t\t}\n\n\t\treturn { top: top, left: left };\n\t},\n\n\tsetOffset: function( elem, options, i ) {\n\t\tvar position = jQuery.css( elem, \"position\" );\n\n\t\t// set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tvar curElem = jQuery( elem ),\n\t\t\tcurOffset = curElem.offset(),\n\t\t\tcurCSSTop = jQuery.css( elem, \"top\" ),\n\t\t\tcurCSSLeft = jQuery.css( elem, \"left\" ),\n\t\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) && jQuery.inArray(\"auto\", [curCSSTop, curCSSLeft]) > -1,\n\t\t\tprops = {}, curPosition = {}, curTop, curLeft;\n\n\t\t// need to be able to calculate position if either top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\t\t\toptions = options.call( elem, i, curOffset );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\n\njQuery.fn.extend({\n\n\tposition: function() {\n\t\tif ( !this[0] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar elem = this[0],\n\n\t\t// Get *real* offsetParent\n\t\toffsetParent = this.offsetParent(),\n\n\t\t// Get correct offsets\n\t\toffset       = this.offset(),\n\t\tparentOffset = rroot.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset();\n\n\t\t// Subtract element margins\n\t\t// note: when an element has margin: auto the offsetLeft and marginLeft\n\t\t// are the same in Safari causing offset.left to incorrectly be 0\n\t\toffset.top  -= parseFloat( jQuery.css(elem, \"marginTop\") ) || 0;\n\t\toffset.left -= parseFloat( jQuery.css(elem, \"marginLeft\") ) || 0;\n\n\t\t// Add offsetParent borders\n\t\tparentOffset.top  += parseFloat( jQuery.css(offsetParent[0], \"borderTopWidth\") ) || 0;\n\t\tparentOffset.left += parseFloat( jQuery.css(offsetParent[0], \"borderLeftWidth\") ) || 0;\n\n\t\t// Subtract the two offsets\n\t\treturn {\n\t\t\ttop:  offset.top  - parentOffset.top,\n\t\t\tleft: offset.left - parentOffset.left\n\t\t};\n\t},\n\n\toffsetParent: function() {\n\t\treturn this.map(function() {\n\t\t\tvar offsetParent = this.offsetParent || document.body;\n\t\t\twhile ( offsetParent && (!rroot.test(offsetParent.nodeName) && jQuery.css(offsetParent, \"position\") === \"static\") ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\t\t\treturn offsetParent || document.body;\n\t\t});\n\t}\n});\n\n\n// Create scrollLeft and scrollTop methods\njQuery.each( {scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\"}, function( method, prop ) {\n\tvar top = /Y/.test( prop );\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn jQuery.access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? (prop in win) ? win[ prop ] :\n\t\t\t\t\twin.document.documentElement[ method ] :\n\t\t\t\t\telem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : jQuery( win ).scrollLeft(),\n\t\t\t\t\t top ? val : jQuery( win ).scrollTop()\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length, null );\n\t};\n});\n\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ?\n\t\telem :\n\t\telem.nodeType === 9 ?\n\t\t\telem.defaultView || elem.parentWindow :\n\t\t\tfalse;\n}\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function( defaultExtra, funcName ) {\n\t\t// margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn jQuery.access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest\n\t\t\t\t\t// unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, value, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable, null );\n\t\t};\n\t});\n});\n// Expose jQuery to the global object\nwindow.jQuery = window.$ = jQuery;\n\n// Expose jQuery as an AMD module, but only for AMD loaders that\n// understand the issues with loading multiple versions of jQuery\n// in a page that all might call define(). The loader will indicate\n// they have special allowances for multiple jQuery versions by\n// specifying define.amd.jQuery = true. Register as a named module,\n// since jQuery can be concatenated with other files that may use define,\n// but not use a proper concatenation script that understands anonymous\n// AMD modules. A named AMD is safest and most robust way to register.\n// Lowercase jquery is used because AMD module names are derived from\n// file names, and jQuery is normally delivered in a lowercase file name.\n// Do this after creating the global so that if an AMD module wants to call\n// noConflict to hide this version of jQuery, it will work.\nif ( typeof define === \"function\" && define.amd && define.amd.jQuery ) {\n\tdefine( \"jquery\", [], function () { return jQuery; } );\n}\n\nreturn jQuery;\n\n})( window ); }));\n","(function () {\n  var View = require('../base')\n    , FooterView = View.extend({\n        template: require('../../templates/layout/footer.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n\n          this.renderOnReady(this.app.getUser());\n        }\n      , context: function () {\n          return this.getContext({\n            copyrightYear: (new Date()).getFullYear()\n          });\n        }\n      });\n\n  module.exports = FooterView;\n}());","(function(){\n  /**\n  * Creates a new JSThumb object.\n  * @constructor\n  */\n  var JSThumb = function() {\n    function err(msg) {\n      if(window.console) {\n        console.log(msg);\n      }\n    };\n\n    /*\n    * Just some helpers from the underscore library\n    */\n    var _videoJs\n      , videoJsAliases = ['videojs', 'vjs', '_V_']\n      , resizeList = []\n      , breaker = {}\n      , has = function(obj, key) {\n          return hasOwnProperty.call(obj, key);\n        }\n      , each = function(obj, iterator, context) {\n          if (obj == null) return;\n          if (Array.prototype.forEach && obj.forEach === Array.prototype.forEach) {\n            obj.forEach(iterator, context);\n          } else if (obj.length === +obj.length) {\n            for (var i = 0, l = obj.length; i < l; i++) {\n              if (iterator.call(context, obj[i], i, obj) === breaker) return;\n            }\n          } else {\n            for (var key in obj) {\n              if (has(obj, key)) {\n                if (iterator.call(context, obj[key], key, obj) === breaker) return;\n              }\n            }\n          }\n        }\n      , extend = function(obj) {\n          each(Array.prototype.slice.call(arguments, 1), function(source) {\n            if (source) {\n              for (var prop in source) {\n                obj[prop] = source[prop];\n              }\n            }\n          });\n          return obj;\n        };\n\n    each(videoJsAliases, function (alias) {\n      if(window[alias] !== undefined) {\n        _videoJs = window[alias];\n        return false;\n      }\n    });\n\n    try {\n      // Try to get the browserified videojs\n      _videoJs = require('videojs');\n    }\n    catch(e) {\n      // Do nothing\n    }\n\n    /**\n    * Resizes a video to fit it's parent element\n    * @param player - The Video.js instance\n    */\n    this.resizeVideos = function(e) {\n      if(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      each(resizeList, function (entry) {\n        var element = document.getElementById(entry.id)\n\n        // Don't resize if stuff has disappeared\n        if(!element || !element.parentNode || !element.parentNode.parentNode) {\n          return false;\n        }\n\n        var player = _videoJs(entry.id)\n          , newWidth\n          , newHeight\n          , resizeReferenceElement = element.parentNode.parentNode;\n\n        if(element && element.id.match(/^.*html5_api/) == null && element.parentNode) {\n          // Use maxWidth or parent's offsetWidth, whichever is smaller\n          if(entry.maxWidth && entry.maxWidth < resizeReferenceElement.offsetWidth) {\n            newWidth = entry.maxWidth;\n          }\n          else {\n            newWidth = resizeReferenceElement.offsetWidth;\n          }\n\n          // If upscaling disabled\n          if(!entry.upscale && newWidth > entry.width) {\n            newWidth = entry.width;\n          }\n\n          newHeight = entry.height * (newWidth/entry.width);\n\n          player.width(newWidth);\n          player.height(newHeight);\n\n          element.style.width = newWidth + 'px';\n          element.style.height = newHeight + 'px';\n\n          // Video wrapper\n          element.parentNode.style.width = newWidth + 'px';\n          element.parentNode.style.height = newHeight + 'px';\n        }\n      });\n    };\n\n    /**\n    * Loads a video and gets it set up for thumbnailing\n    * @param {Node} target - The element to append the player to\n    * @param {object} opts - The video options. {sources:[{src:\"\",type:\"\"}],attributes:{id:\"\"}}\n    * @param {loadedCallback} [cb] - The callback to execute when the video is ready to be thumbnailed\n    */\n    this.loadVideo = function (target, opts, cb) {\n      var self = this\n        , videoElement\n        , videoWrapperElement\n        , defaultAttributes\n        , i\n        , ii\n        , complete\n        , flash = false\n        , afterLoad\n        , resizeOpts = {}\n        , metadataTimeout\n        , onReadyCalled = false;\n\n      //Prep settings\n      opts.sources = opts.sources || [];\n      opts.attributes = opts.attributes || {};\n\n      //Default attributes\n      defaultAttributes = {\n        id: \"js_thumb_video\"\n      , \"class\": \"video-js vjs-default-skin\"\n      , controls: \"controls\"\n      , preload: \"auto\"\n      , resize: false\n      , center: false\n      , width: 960\n      , height: 540\n      , timeout: 5000\n      };\n\n      //Check if we can go on\n      if(!_videoJs) {\n        cb(\"Please include Video.js to use this function\");\n        return;\n      }\n\n      //We need at least one source\n      if(!opts.sources.length) {\n        cb(\"Videos require at least one source\");\n        return;\n      }\n\n      //Copy and extend stuff\n      opts.sources = extend([], opts.sources);\n      opts.attributes = extend({}, defaultAttributes, opts.attributes);\n      opts.vjs = opts.vjs || {};\n\n      /*\n      * Remove old object from the players hash, otherwise vjs won't re-init our video\n      * You probably should call `Player.dispose()` yourself instead of depending on this...\n      */\n      each(_videoJs.players, function(player, identifier) {\n        if(identifier === opts.attributes.id) {\n          player.dispose();\n          return false;\n        }\n      });\n\n      //Save dimensions of video from the loadedmetadata event\n      videoDims = {};\n\n      //Create video element\n      videoElement = document.createElement(\"video\");\n\n      each(opts.attributes, function (value, key) {\n        videoElement.setAttribute(key, value);\n      });\n\n      //Create source elements\n      each(opts.sources, function (source) {\n        var sourceElement = document.createElement(\"source\");\n        sourceElement.setAttribute(\"src\", source.src);\n        sourceElement.setAttribute(\"type\", source.type);\n\n        //Append to the video element\n        videoElement.appendChild(sourceElement);\n      });\n\n      //Wrap video in a div\n      videoWrapperElement = document.createElement(\"div\");\n      videoWrapperElement.appendChild(videoElement);\n\n      // Center?\n      if(opts.attributes.center) {\n        videoWrapperElement.style.margin = '0 auto';\n      }\n\n      target.appendChild(videoWrapperElement);\n\n      //Init video.js\n      _videoJs(videoElement, opts.vjs, function() {\n\n        //Find the container we added\n        each(videoWrapperElement.childNodes, function (childNode) {\n          if(childNode.attributes\n            && childNode.attributes.id\n            && childNode.attributes.id.value === opts.attributes.id) {\n            element = childNode;\n            return false;\n          }\n        });\n\n        //Now find out if flash was used\n        each(element.childNodes, function (childNode) {\n          if(childNode.tagName.toLowerCase() === \"object\") {\n            flash = true;\n            return false;\n          }\n        });\n\n        //The function to call after the video is loaded\n        onReady = function (e, notSupported) {\n          if(!onReadyCalled) {\n            onReadyCalled = true;\n\n            clearTimeout(metadataTimeout);\n\n            //metadata loaded!\n            if(e) {\n              //Override width/height with actual values\n              resizeOpts.width = e.target.videoWidth;\n              resizeOpts.height = e.target.videoHeight;\n\n              self.resizeVideos();\n            }\n\n            cb(null, element, this, notSupported === undefined);\n          }\n        };\n\n        if(opts.attributes.resize) {\n          //Prevent rounding errors by storing the original aspect ratio\n          resizeOpts = {\n            id: element.attributes.id.value\n          , parent: target\n          , width: this.width()\n          , height: this.height()\n          , upscale: (opts.attributes.resize.upscale === true)\n          };\n\n          if(typeof opts.attributes.resize === 'object') {\n            resizeOpts.maxWidth = opts.attributes.resize.maxWidth;\n          }\n\n          resizeList.push(resizeOpts);\n        }\n\n        self.resizeVideos();\n\n        if(flash) {\n          onReady(null, true);\n        }\n        else {\n          // If metadata doesn't load within the timeout send the callback\n          metadataTimeout = setTimeout(function () {\n            onReady(null, true);\n          }, opts.attributes.timeout);\n\n          // We're only ready to thumbnail after this is called\n          _videoJs(opts.attributes.id).on('loadedmetadata', onReady);\n        }\n      });\n    };\n\n    /**\n    * Capture a screenshot from a video\n    * @param {Node} video - The video element in your DOM\n    * @param {object} opts - Output options. e.g. {origWidth:400, origHeight:400}\n    */\n    this.screenshot = function (video, opts) {\n        var ctx\n          , canvas = document.createElement('canvas');\n\n        opts = opts || {};\n\n        var origWidth = opts.origWidth || video.videoWidth;\n        var origHeight = opts.origHeight || video.videoHeight;\n\n        //Check for metadata not yet loaded\n        if(!origWidth || !origHeight) {\n          err(\"Video has invalid dimensions or metadata has not yet loaded.\");\n          return false;\n        }\n\n        canvas.width = origWidth;\n        canvas.height = origHeight;\n\n        ctx = canvas.getContext(\"2d\");\n\n        ctx.drawImage(video, 0, 0, origWidth, origHeight);\n\n        return canvas.toDataURL(\"image/png\");\n    };\n\n    /**\n    * Thumbnails an image\n    * @param {node} image - The image element in your DOM\n    * @param {object} opts - Output options. e.g. {maxWidth:200, maxHeight:200, origWidth:400, origHeight:400}\n    */\n    this.resize = function (image, opts) {\n      var maxWidth = opts.maxWidth || 50\n        , maxHeight = opts.maxHeight || 50\n        , canvasOut = document.createElement('canvas')\n        , canvasIn = document.createElement(\"canvas\")\n        , ctxOut = canvasOut.getContext(\"2d\")\n        , ctxIn = canvasIn.getContext(\"2d\")\n        , origWidth = image.width || opts.origWidth\n        , origHeight = image.height || opts.origHeight\n        , cropWidth\n        , cropHeight\n        // The height the resulting thumbnail would be if we scaled the width to fit exactly the maxWidth\n        , widthFirstRatio = (opts.maxWidth / origWidth)\n        , widthFirstHeight = origHeight * widthFirstRatio\n        // The width the resulting thumbnail would be if we scaled the height to fit exactly the maxHeight\n        , heightFirstRatio = (opts.maxHeight / origHeight)\n        , heightFirstWidth = origWidth * heightFirstRatio;\n\n      //Draw onto first canvas\n      canvasIn.width = origWidth;\n      canvasIn.height = origHeight;\n      ctxIn.drawImage(image, 0, 0);\n\n      //Set up output canvas\n      canvasOut.width = maxWidth;\n      canvasOut.height = maxHeight;\n\n      //Try to fit the width first, unless that causes black bars on the top and bottom. that's bad.\n      if(widthFirstHeight < maxHeight) {\n        //Limit by the height -- crop the left/right edges\n        cropWidth = (maxWidth - (canvasIn.width*heightFirstRatio))/2\n\n        ctxOut.drawImage(canvasIn, 0, 0, canvasIn.width, canvasIn.height, cropWidth, 0, canvasIn.width*heightFirstRatio, canvasIn.height*heightFirstRatio);\n      }\n      else {\n        cropHeight = (maxHeight - (canvasIn.height*widthFirstRatio))/2\n\n        //Limit by the width -- crop the top/bottom edges\n        ctxOut.drawImage(canvasIn, 0, 0, canvasIn.width, canvasIn.height, 0, cropHeight, canvasIn.width*widthFirstRatio, canvasIn.height*widthFirstRatio);\n      }\n\n      return canvasOut.toDataURL();\n    };\n\n    /**\n    * Thumbnails base64 encoded image data\n    * @param {string} imageData - Base64 encoded image data\n    * @param {object} opts - Output options. e.g. {maxWidth:200, maxHeight:200, origWidth:400, origHeight:400}\n    * @param {jsthumbCallback} cb - Called after processing is complete\n    */\n    this.resizeData = function (imageData, opts, cb) {\n      opts = opts || {};\n\n      var self = this\n        , image = new Image();\n\n      image.onload = function()\n      {\n        cb(null, self.resize(image, opts));\n      };\n\n      image.src = imageData;\n    };\n\n    /**\n     * Called after a successful thumbnailing operation\n     * @callback jsthumbCallback\n     * @param {null|string} err - null if no error\n     * @param {string} data - Base64 Encoded Data\n     */\n\n    /**\n     * Called after loading a video or image\n     * @callback loadedCallback\n     * @param {null|string} err - null if no error\n     * @param {Node} element - The image or video element\n     * @param {Node} media - The Image object or Video.js player\n     */\n  };\n\n  var jst = new JSThumb();\n\n  // if we've got a window and we don't have a module\n  // create a global;\n  if ((typeof window != 'undefined') && (typeof module == 'undefined')) {\n    window.jsthumb = jst;\n\n    window.onresize = jst.resizeVideos;\n  }\n  // otherwise, export it.\n  else {\n    module.exports = jst;\n  }\n}());","(function () {\n  var View = require('../../base')\n    , Holder = require('../../../helpers/lib/holder.js')\n    , IndexView = View.extend({\n        template: require('../../../templates/routes/media/grid.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n\n          var unprocessed = this.app.db.fetchCollection('unprocessedUploads');\n\n          this.fetchPage(options.pageName, function () {\n\n            this.media = this.page.getMedia();\n\n            // Re-fetch, things might have been updated.\n            this.media.fetch();\n\n            this.listenTo(this.media, 'ready change add remove sort', this.render, this);\n\n            // Resets the thumbnails if something changes\n            this.listenTo(unprocessed, 'add change remove reset sync', function () {\n              this.media.fetch();\n            }, this);\n\n            this.render();\n          });\n        }\n      , context: function () {\n          var media = [];\n          var safeName = encodeURIComponent(this.page.attributes.name);\n\n          if(this.media) {\n            this.media.forEach(function(model) {\n              media.push(model.templateVars(safeName));\n            });\n          }\n\n          return this.getContext({\n            media: media\n          , page: this.page.attributes\n          });\n        }\n      , afterRender: function () {\n          Holder.run();\n        }\n      });\n\n  module.exports = IndexView;\n}());\n","(function () {\n  var View = require('../../base')\n    , ThumbView = View.extend({\n        template: require('../../../templates/routes/media/thumb.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n\n          this.media = this.app.db.fetchModel(options.mediaType, options.mediaId);\n\n          this.listenTo(this.media,'change',this.render,this);\n          this.listenTo(this.app, 'iframeResize', this.resizeIframe ,this);\n          this.listenTo(this.app, 'thumbnailCaptured', this.saveThumbnail ,this);\n          this.listenTo(this.app, 'captureThumbnail', this.captureThumbnail ,this);\n\n          this.renderOnReady(this.media);\n        }\n      , context: function () {\n          var attrs = this.media.templateVars()\n            , opts = {\n                media: {\n                  sources: []\n                , attributes: {\n                    id: \"media_\" + this.app.util.uuid(10)\n                  , resize: {\n                      upscale: false\n                    }\n                  , width: this.media.attributes.width || 960\n                  , height: this.media.attributes.height || 540\n                  }\n                }\n              , dimensions: this.app.config.thumbnailDims\n              , domain: document.domain + (window.location.port===80?'':':'+window.location.port)\n              };\n\n          if(this.media.attributes.type.toLowerCase() === 'video') {\n            opts.media.sources = [\n              {\n                src: attrs.hdUrl\n              , type: this.app.util.mime('video/mp4')\n              }\n            ];\n          }\n          else {\n            opts.media.sources = [\n              {\n                src: attrs.url\n              , type: this.app.util.mime(attrs.mimeType)\n              }\n            ];\n          }\n\n          return this.getContext({\n            media: attrs\n          , thumberUrl: attrs.s3key ? this.app.config.thumberUrl + \"#\" + encodeURIComponent(JSON.stringify(opts)) : null\n          });\n        }\n      , afterRender: function () {\n          this.app.messenger.targetFrame = this.$el.find(\"iframe\")[0];\n        }\n      , resizeIframe: function (height) {\n          this.$el.find(\"iframe\").attr(\"height\", parseInt(height)+60);\n        }\n      , saveThumbnail: function (base64data) {\n          this.app.setFlash('info', 'Please Wait, Saving Image...');\n        }\n      , captureThumbnail: function (type, mediaId, attributes) {\n          var self = this;\n\n          //Send a message\n          self.app.messenger.send(\"capture\",[mediaId],function (respMediaId, data) {\n            // Make sure we don't leak into other media objects\n            if(respMediaId === mediaId) {\n              var model = self.app.db.fetchModel(type, mediaId);\n\n              model.once('ready', function () {\n                model.set(attributes);\n                model.useThumbnail(data.substring(data.indexOf(\",\")+1));\n              });\n            }\n          });\n        }\n      });\n\n  module.exports = ThumbView;\n}());","(function () {\n  var View = require('../../base')\n    , Backbone = require('../../../helpers/BackboneLoader.js')\n    , Holder = require('../../../helpers/lib/holder.js')\n    , CarouselView = View.extend({\n        template: require('../../../templates/routes/media/carousel.hbs')\n      , events: {\n          'click a.bigClose':'exitPlayer'\n        , 'click a.reelToggle':'toggleReel'\n        , 'click a.app':'handleAppLink'\n        , 'click a.goLeft':'handleLeftButton'\n        , 'click a.goRight':'handleRightButton'\n        }\n        /* Tracks whether or not the reel is open */\n      , reelOpen: null\n      , initialize: function (options) {\n          this.app = options.app;\n\n          this.listenTo(this.app,'videoEnded',this.advance,this);\n\n          this.fetchPage(options.pageName, function () {\n            this.media = this.page.getMedia();\n\n            this.listenTo(this.media, 'change add remove sort', this.render, this);\n            this.media.once('ready', this.render, this);\n          });\n        }\n      , context: function () {\n          var media = [];\n          var safeName = encodeURIComponent(this.page.attributes.name);\n\n          if(this.media) {\n            this.media.forEach(function(model) {\n              media.push(model.templateVars(safeName, true));\n            });\n          }\n\n          return this.getContext({\n            media: media\n          , page: this.page.attributes\n          });\n        }\n      , afterRender: function () {\n          var currentMedia = this.currentMedia();\n\n          //Activate carousel\n          this.$('.carousel').elastislide();\n\n          //Initial load\n          if(this.reelOpen === null) {\n            this.toggleReel(null,false, 0);\n          }\n\n          Holder.run();\n\n          //Selectively show arrows\n          if(currentMedia) {\n            if(this.advance(currentMedia, true)) {\n              this.$('a.goRight').removeClass('hidden');\n            }\n            if(this.reverse(currentMedia, true)) {\n              this.$('a.goLeft').removeClass('hidden');\n            }\n          }\n        }\n\n      , advance: function (lastMedia, mock, delay) {\n          //Find the media element after lastMedia\n          var self = this\n            , lastElementWasMatch = false\n            , matchedElement = null\n            , playerUrl\n            , safeName = encodeURIComponent(self.page.attributes.name)\n            , i\n            , ii\n            , curModel\n            , media = this.page.getMedia();\n\n          if(delay == null) {\n            delay = 1000;\n          }\n\n          if(this.page && media) {\n            for(i=0, ii=media.models.length; i<ii; i++) {\n              curModel = media.models[i];\n\n              if(lastMedia.id === curModel.id) {\n                lastElementWasMatch = true;\n                continue;\n              }\n              if(lastElementWasMatch) {\n                matchedElement = curModel;\n                break;\n              }\n            }\n\n            if(matchedElement) {\n              playerUrl = matchedElement.templateVars(safeName).playerUrl;\n\n              if(mock) {\n                return true;\n              }\n              else {\n                setTimeout(function () {\n                  self.app.navigate(playerUrl, {trigger:true});\n                }, delay);\n              }\n            }\n          }\n\n          return false;\n        }\n\n      , reverse: function (lastMedia, mock, delay) {\n          //Find the media element after lastMedia\n          var self = this\n            , lastElementWasMatch = false\n            , matchedElement = null\n            , playerUrl\n            , safeName = encodeURIComponent(self.page.attributes.name)\n            , i\n            , ii\n            , curModel\n            , media = this.page.getMedia();\n\n          if(delay == null) {\n            delay = 1000;\n          }\n\n          if(this.page && media) {\n            for(i=media.models.length-1, ii=0; i>=ii; i--) {\n              curModel = media.models[i];\n\n              if(lastMedia.id === curModel.id) {\n                lastElementWasMatch = true;\n                continue;\n              }\n              if(lastElementWasMatch) {\n                matchedElement = curModel;\n                break;\n              }\n            }\n\n            if(matchedElement) {\n              playerUrl = matchedElement.templateVars(safeName).playerUrl;\n\n              if(mock) {\n                return true;\n              }\n              else {\n                setTimeout(function () {\n                  self.app.navigate(playerUrl, {trigger:true});\n                }, delay);\n              }\n            }\n          }\n\n          return false;\n        }\n\n      , handleLeftButton: function (e) {\n          if(e) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          this.reverse(this.currentMedia(), false, 0);\n        }\n\n      , handleRightButton: function (e) {\n          if(e) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          this.advance(this.currentMedia(), false, 0);\n        }\n\n      , currentMedia: function () {\n          if(!this.media) {\n            return false;\n          }\n\n          return this.media.findWhere({id: Backbone.history.fragment.split('/').pop()});\n        }\n\n      , toggleReel: function (e, toggle, duration) {\n          var self = this;\n\n          if(duration == null) {\n            duration = 400;\n          }\n\n          if(e) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          if(toggle !== false) {\n            self.reelOpen = !self.reelOpen;\n          }\n\n          //Hide carousel?\n          if(self.reelOpen) {\n            self.$('.sliderWrap').slideDown(duration);\n            self.$('.symbol').html('&and;');\n          }\n          else {\n            self.$('.sliderWrap').slideUp(duration);\n            self.$('.symbol').html('&or;');\n          }\n        }\n\n      , exitPlayer: function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          this.app.navigate('page/'+this.page.attributes.name,{trigger:true});\n        }\n      });\n\n  module.exports = CarouselView;\n}());","(function () {\n  /**\n   * @fileoverview Main function src.\n   */\n\n  // HTML5 Shiv. Must be in <head> to support older browsers.\n  document.createElement('video');document.createElement('audio');\n\n  /**\n   * Doubles as the main function for users to create a player instance and also\n   * the main library object.\n   *\n   * @param  {String|Element} id      Video element or video element ID\n   * @param  {Object=} options        Optional options object for config/settings\n   * @param  {Function=} ready        Optional ready callback\n   * @return {vjs.Player}             A player instance\n   */\n  var vjs = function(id, options, ready){\n    var tag; // Element of ID\n\n    // Allow for element or ID to be passed in\n    // String ID\n    if (typeof id === 'string') {\n\n      // Adjust for jQuery ID syntax\n      if (id.indexOf('#') === 0) {\n        id = id.slice(1);\n      }\n\n      // If a player instance has already been created for this ID return it.\n      if (vjs.players[id]) {\n        return vjs.players[id];\n\n      // Otherwise get element for ID\n      } else {\n        tag = vjs.el(id);\n      }\n\n    // ID is a media element\n    } else {\n      tag = id;\n    }\n\n    // Check for a useable element\n    if (!tag || !tag.nodeName) { // re: nodeName, could be a box div also\n      throw new TypeError('The element or ID supplied is not valid. (videojs)'); // Returns\n    }\n\n    // Element may have a player attr referring to an already created player instance.\n    // If not, set up a new player and return the instance.\n    return tag['player'] || new vjs.Player(tag, options, ready);\n  };\n\n  // Extended name, also available externally, window.videojs\n  var videojs = vjs;\n  // nope! exported at end of the module.\n  // window.videojs = window.vjs = vjs;\n\n  // CDN Version. Used to target right flash swf.\n  vjs.CDN_VERSION = '4.0';\n  vjs.ACCESS_PROTOCOL = ('https:' == document.location.protocol ? 'https://' : 'http://');\n\n  /**\n   * Global Player instance options, surfaced from vjs.Player.prototype.options_\n   * vjs.options = vjs.Player.prototype.options_\n   * All options should use string keys so they avoid\n   * renaming by closure compiler\n   * @type {Object}\n   */\n  vjs.options = {\n    // Default order of fallback technology\n    'techOrder': ['html5','flash'],\n    // techOrder: ['flash','html5'],\n\n    'html5': {},\n    'flash': {},\n\n    // Default of web browser is 300x150. Should rely on source width/height.\n    'width': 300,\n    'height': 150,\n    // defaultVolume: 0.85,\n    'defaultVolume': 0.00, // The freakin seaguls are driving me crazy!\n\n    // Included control sets\n    'children': {\n      'mediaLoader': {},\n      'posterImage': {},\n      'textTrackDisplay': {},\n      'loadingSpinner': {},\n      'bigPlayButton': {},\n      'controlBar': {}\n    }\n  };\n\n  // Set CDN Version of swf\n  // The added (+) blocks the replace from changing this 4.0 string\n  if (vjs.CDN_VERSION !== 'GENERATED'+'_CDN_VSN') {\n    videojs.options['flash']['swf'] = vjs.ACCESS_PROTOCOL + 'vjs.zencdn.net/'+vjs.CDN_VERSION+'/video-js.swf';\n  }\n\n  /**\n   * Global player list\n   * @type {Object}\n   */\n  vjs.players = {};\n  /**\n   * Core Object/Class for objects that use inheritance + contstructors\n   * @constructor\n   */\n  vjs.CoreObject = vjs['CoreObject'] = function(){};\n  // Manually exporting vjs['CoreObject'] here for Closure Compiler\n  // because of the use of the extend/create class methods\n  // If we didn't do this, those functions would get flattend to something like\n  // `a = ...` and `this.prototype` would refer to the global object instead of\n  // CoreObject\n\n  /**\n   * Create a new object that inherits from this Object\n   * @param {Object} props Functions and properties to be applied to the\n   *                       new object's prototype\n   * @return {vjs.CoreObject} Returns an object that inherits from CoreObject\n   * @this {*}\n   */\n  vjs.CoreObject.extend = function(props){\n    var init, subObj;\n\n    props = props || {};\n    // Set up the constructor using the supplied init method\n    // or using the init of the parent object\n    // Make sure to check the unobfuscated version for external libs\n    init = props['init'] || props.init || this.prototype['init'] || this.prototype.init || function(){};\n    // In Resig's simple class inheritance (previously used) the constructor\n    //  is a function that calls `this.init.apply(arguments)`\n    // However that would prevent us from using `ParentObject.call(this);`\n    //  in a Child constuctor because the `this` in `this.init`\n    //  would still refer to the Child and cause an inifinite loop.\n    // We would instead have to do\n    //    `ParentObject.prototype.init.apply(this, argumnents);`\n    //  Bleh. We're not creating a _super() function, so it's good to keep\n    //  the parent constructor reference simple.\n    subObj = function(){\n      init.apply(this, arguments);\n    };\n\n    // Inherit from this object's prototype\n    subObj.prototype = vjs.obj.create(this.prototype);\n    // Reset the constructor property for subObj otherwise\n    // instances of subObj would have the constructor of the parent Object\n    subObj.prototype.constructor = subObj;\n\n    // Make the class extendable\n    subObj.extend = vjs.CoreObject.extend;\n    // Make a function for creating instances\n    subObj.create = vjs.CoreObject.create;\n\n    // Extend subObj's prototype with functions and other properties from props\n    for (var name in props) {\n      if (props.hasOwnProperty(name)) {\n        subObj.prototype[name] = props[name];\n      }\n    }\n\n    return subObj;\n  };\n\n  /**\n   * Create a new instace of this Object class\n   * @return {vjs.CoreObject} Returns an instance of a CoreObject subclass\n   * @this {*}\n   */\n  vjs.CoreObject.create = function(){\n    // Create a new object that inherits from this object's prototype\n    var inst = vjs.obj.create(this.prototype);\n\n    // Apply this constructor function to the new object\n    this.apply(inst, arguments);\n\n    // Return the new object\n    return inst;\n  };\n  /**\n   * @fileoverview Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n   * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n   * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n   * robust as jquery's, so there's probably some differences.\n   */\n\n  /**\n   * Add an event listener to element\n   * It stores the handler function in a separate cache object\n   * and adds a generic handler to the element's event,\n   * along with a unique id (guid) to the element.\n   * @param  {Element|Object}   elem Element or object to bind listeners to\n   * @param  {String}   type Type of event to bind to.\n   * @param  {Function} fn   Event listener.\n   */\n  vjs.on = function(elem, type, fn){\n    var data = vjs.getData(elem);\n\n    // We need a place to store all our handler data\n    if (!data.handlers) data.handlers = {};\n\n    if (!data.handlers[type]) data.handlers[type] = [];\n\n    if (!fn.guid) fn.guid = vjs.guid++;\n\n    data.handlers[type].push(fn);\n\n    if (!data.dispatcher) {\n      data.disabled = false;\n\n      data.dispatcher = function (event){\n\n        if (data.disabled) return;\n        event = vjs.fixEvent(event);\n\n        var handlers = data.handlers[event.type];\n\n        if (handlers) {\n          // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n          var handlersCopy = handlers.slice(0);\n\n          for (var m = 0, n = handlersCopy.length; m < n; m++) {\n            if (event.isImmediatePropagationStopped()) {\n              break;\n            } else {\n              handlersCopy[m].call(elem, event);\n            }\n          }\n        }\n      };\n    }\n\n    if (data.handlers[type].length == 1) {\n      if (document.addEventListener) {\n        elem.addEventListener(type, data.dispatcher, false);\n      } else if (document.attachEvent) {\n        elem.attachEvent('on' + type, data.dispatcher);\n      }\n    }\n  };\n\n  /**\n   * Removes event listeners from an element\n   * @param  {Element|Object}   elem Object to remove listeners from\n   * @param  {String=}   type Type of listener to remove. Don't include to remove all events from element.\n   * @param  {Function} fn   Specific listener to remove. Don't incldue to remove listeners for an event type.\n   */\n  vjs.off = function(elem, type, fn) {\n    // Don't want to add a cache object through getData if not needed\n    if (!vjs.hasData(elem)) return;\n\n    var data = vjs.getData(elem);\n\n    // If no events exist, nothing to unbind\n    if (!data.handlers) { return; }\n\n    // Utility function\n    var removeType = function(t){\n       data.handlers[t] = [];\n       vjs.cleanUpEvents(elem,t);\n    };\n\n    // Are we removing all bound events?\n    if (!type) {\n      for (var t in data.handlers) removeType(t);\n      return;\n    }\n\n    var handlers = data.handlers[type];\n\n    // If no handlers exist, nothing to unbind\n    if (!handlers) return;\n\n    // If no listener was provided, remove all listeners for type\n    if (!fn) {\n      removeType(type);\n      return;\n    }\n\n    // We're only removing a single handler\n    if (fn.guid) {\n      for (var n = 0; n < handlers.length; n++) {\n        if (handlers[n].guid === fn.guid) {\n          handlers.splice(n--, 1);\n        }\n      }\n    }\n\n    vjs.cleanUpEvents(elem, type);\n  };\n\n  /**\n   * Clean up the listener cache and dispatchers\n   * @param  {Element|Object} elem Element to clean up\n   * @param  {String} type Type of event to clean up\n   */\n  vjs.cleanUpEvents = function(elem, type) {\n    var data = vjs.getData(elem);\n\n    // Remove the events of a particular type if there are none left\n    if (data.handlers[type].length === 0) {\n      delete data.handlers[type];\n      // data.handlers[type] = null;\n      // Setting to null was causing an error with data.handlers\n\n      // Remove the meta-handler from the element\n      if (document.removeEventListener) {\n        elem.removeEventListener(type, data.dispatcher, false);\n      } else if (document.detachEvent) {\n        elem.detachEvent('on' + type, data.dispatcher);\n      }\n    }\n\n    // Remove the events object if there are no types left\n    if (vjs.isEmpty(data.handlers)) {\n      delete data.handlers;\n      delete data.dispatcher;\n      delete data.disabled;\n\n      // data.handlers = null;\n      // data.dispatcher = null;\n      // data.disabled = null;\n    }\n\n    // Finally remove the expando if there is no data left\n    if (vjs.isEmpty(data)) {\n      vjs.removeData(elem);\n    }\n  };\n\n  /**\n   * Fix a native event to have standard property values\n   * @param  {Object} event Event object to fix\n   * @return {Object}\n   */\n  vjs.fixEvent = function(event) {\n\n    function returnTrue() { return true; }\n    function returnFalse() { return false; }\n\n    // Test if fixing up is needed\n    // Used to check if !event.stopPropagation instead of isPropagationStopped\n    // But native events return true for stopPropagation, but don't have\n    // other expected methods like isPropagationStopped. Seems to be a problem\n    // with the Javascript Ninja code. So we're just overriding all events now.\n    if (!event || !event.isPropagationStopped) {\n      var old = event || window.event;\n\n      event = {};\n      // Clone the old object so that we can modify the values event = {};\n      // IE8 Doesn't like when you mess with native event properties\n      // Firefox returns false for event.hasOwnProperty('type') and other props\n      //  which makes copying more difficult.\n      // TODO: Probably best to create a whitelist of event props\n      for (var key in old) {\n        // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n        if (key !== 'layerX' && key !== 'layerY') {\n          event[key] = old[key];\n        }\n      }\n\n      // The event occurred on this element\n      if (!event.target) {\n        event.target = event.srcElement || document;\n      }\n\n      // Handle which other element the event is related to\n      event.relatedTarget = event.fromElement === event.target ?\n        event.toElement :\n        event.fromElement;\n\n      // Stop the default browser action\n      event.preventDefault = function () {\n        if (old.preventDefault) {\n          old.preventDefault();\n        }\n        event.returnValue = false;\n        event.isDefaultPrevented = returnTrue;\n      };\n\n      event.isDefaultPrevented = returnFalse;\n\n      // Stop the event from bubbling\n      event.stopPropagation = function () {\n        if (old.stopPropagation) {\n          old.stopPropagation();\n        }\n        event.cancelBubble = true;\n        event.isPropagationStopped = returnTrue;\n      };\n\n      event.isPropagationStopped = returnFalse;\n\n      // Stop the event from bubbling and executing other handlers\n      event.stopImmediatePropagation = function () {\n        if (old.stopImmediatePropagation) {\n          old.stopImmediatePropagation();\n        }\n        event.isImmediatePropagationStopped = returnTrue;\n        event.stopPropagation();\n      };\n\n      event.isImmediatePropagationStopped = returnFalse;\n\n      // Handle mouse position\n      if (event.clientX != null) {\n        var doc = document.documentElement, body = document.body;\n\n        event.pageX = event.clientX +\n          (doc && doc.scrollLeft || body && body.scrollLeft || 0) -\n          (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = event.clientY +\n          (doc && doc.scrollTop || body && body.scrollTop || 0) -\n          (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n\n      // Handle key presses\n      event.which = event.charCode || event.keyCode;\n\n      // Fix button for mouse clicks:\n      // 0 == left; 1 == middle; 2 == right\n      if (event.button != null) {\n        event.button = (event.button & 1 ? 0 :\n          (event.button & 4 ? 1 :\n            (event.button & 2 ? 2 : 0)));\n      }\n    }\n\n    // Returns fixed-up instance\n    return event;\n  };\n\n  /**\n   * Trigger an event for an element\n   * @param  {Element|Object} elem  Element to trigger an event on\n   * @param  {String} event Type of event to trigger\n   */\n  vjs.trigger = function(elem, event) {\n    // Fetches element data and a reference to the parent (for bubbling).\n    // Don't want to add a data object to cache for every parent,\n    // so checking hasData first.\n    var elemData = (vjs.hasData(elem)) ? vjs.getData(elem) : {};\n    var parent = elem.parentNode || elem.ownerDocument;\n        // type = event.type || event,\n        // handler;\n\n    // If an event name was passed as a string, creates an event out of it\n    if (typeof event === 'string') {\n      event = { type:event, target:elem };\n    }\n    // Normalizes the event properties.\n    event = vjs.fixEvent(event);\n\n    // If the passed element has a dispatcher, executes the established handlers.\n    if (elemData.dispatcher) {\n      elemData.dispatcher.call(elem, event);\n    }\n\n    // Unless explicitly stopped, recursively calls this function to bubble the event up the DOM.\n    if (parent && !event.isPropagationStopped()) {\n      vjs.trigger(parent, event);\n\n    // If at the top of the DOM, triggers the default action unless disabled.\n    } else if (!parent && !event.isDefaultPrevented()) {\n      var targetData = vjs.getData(event.target);\n\n      // Checks if the target has a default action for this event.\n      if (event.target[event.type]) {\n        // Temporarily disables event dispatching on the target as we have already executed the handler.\n        targetData.disabled = true;\n        // Executes the default action.\n        if (typeof event.target[event.type] === 'function') {\n          event.target[event.type]();\n        }\n        // Re-enables event dispatching.\n        targetData.disabled = false;\n      }\n    }\n\n    // Inform the triggerer if the default was prevented by returning false\n    return !event.isDefaultPrevented();\n    /* Original version of js ninja events wasn't complete.\n     * We've since updated to the latest version, but keeping this around\n     * for now just in case.\n     */\n    // // Added in attion to book. Book code was broke.\n    // event = typeof event === 'object' ?\n    //   event[vjs.expando] ?\n    //     event :\n    //     new vjs.Event(type, event) :\n    //   new vjs.Event(type);\n\n    // event.type = type;\n    // if (handler) {\n    //   handler.call(elem, event);\n    // }\n\n    // // Clean up the event in case it is being reused\n    // event.result = undefined;\n    // event.target = elem;\n  };\n\n  /**\n   * Trigger a listener only once for an event\n   * @param  {Element|Object}   elem Element or object to\n   * @param  {[type]}   type [description]\n   * @param  {Function} fn   [description]\n   * @return {[type]}\n   */\n  vjs.one = function(elem, type, fn) {\n    vjs.on(elem, type, function(){\n      vjs.off(elem, type, arguments.callee);\n      fn.apply(this, arguments);\n    });\n  };\n  var hasOwnProp = Object.prototype.hasOwnProperty;\n\n  /**\n   * Creates an element and applies properties.\n   * @param  {String=} tagName    Name of tag to be created.\n   * @param  {Object=} properties Element properties to be applied.\n   * @return {Element}\n   */\n  vjs.createEl = function(tagName, properties){\n    var el = document.createElement(tagName || 'div');\n\n    for (var propName in properties){\n      if (hasOwnProp.call(properties, propName)) {\n        //el[propName] = properties[propName];\n        // Not remembering why we were checking for dash\n        // but using setAttribute means you have to use getAttribute\n\n        // The check for dash checks for the aria-* attributes, like aria-label, aria-valuemin.\n        // The additional check for \"role\" is because the default method for adding attributes does not\n        // add the attribute \"role\". My guess is because it's not a valid attribute in some namespaces, although\n        // browsers handle the attribute just fine. The W3C allows for aria-* attributes to be used in pre-HTML5 docs.\n        // http://www.w3.org/TR/wai-aria-primer/#ariahtml. Using setAttribute gets around this problem.\n\n         if (propName.indexOf('aria-') !== -1 || propName=='role') {\n           el.setAttribute(propName, properties[propName]);\n         } else {\n           el[propName] = properties[propName];\n         }\n      }\n    }\n    return el;\n  };\n\n  /**\n   * Uppercase the first letter of a string\n   * @param  {String} string String to be uppercased\n   * @return {String}\n   */\n  vjs.capitalize = function(string){\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  /**\n   * Object functions container\n   * @type {Object}\n   */\n  vjs.obj = {};\n\n  /**\n   * Object.create shim for prototypal inheritance.\n   * https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/create\n   * @param  {Object}   obj Object to use as prototype\n   */\n   vjs.obj.create = Object.create || function(obj){\n    //Create a new function called 'F' which is just an empty object.\n    function F() {}\n\n    //the prototype of the 'F' function should point to the\n    //parameter of the anonymous function.\n    F.prototype = obj;\n\n    //create a new constructor function based off of the 'F' function.\n    return new F();\n  };\n\n  /**\n   * Loop through each property in an object and call a function\n   * whose arguments are (key,value)\n   * @param  {Object}   obj Object of properties\n   * @param  {Function} fn  Function to be called on each property.\n   * @this {*}\n   */\n  vjs.obj.each = function(obj, fn, context){\n    for (var key in obj) {\n      if (hasOwnProp.call(obj, key)) {\n        fn.call(context || this, key, obj[key]);\n      }\n    }\n  };\n\n  /**\n   * Merge two objects together and return the original.\n   * @param  {Object} obj1\n   * @param  {Object} obj2\n   * @return {Object}\n   */\n  vjs.obj.merge = function(obj1, obj2){\n    if (!obj2) { return obj1; }\n    for (var key in obj2){\n      if (hasOwnProp.call(obj2, key)) {\n        obj1[key] = obj2[key];\n      }\n    }\n    return obj1;\n  };\n\n  /**\n   * Merge two objects, and merge any properties that are objects\n   * instead of just overwriting one. Uses to merge options hashes\n   * where deeper default settings are important.\n   * @param  {Object} obj1 Object to override\n   * @param  {Object} obj2 Overriding object\n   * @return {Object}      New object. Obj1 and Obj2 will be untouched.\n   */\n  vjs.obj.deepMerge = function(obj1, obj2){\n    var key, val1, val2, objDef;\n    objDef = '[object Object]';\n\n    // Make a copy of obj1 so we're not ovewriting original values.\n    // like prototype.options_ and all sub options objects\n    obj1 = vjs.obj.copy(obj1);\n\n    for (key in obj2){\n      if (hasOwnProp.call(obj2, key)) {\n        val1 = obj1[key];\n        val2 = obj2[key];\n\n        // Check if both properties are pure objects and do a deep merge if so\n        if (vjs.obj.isPlain(val1) && vjs.obj.isPlain(val2)) {\n          obj1[key] = vjs.obj.deepMerge(val1, val2);\n        } else {\n          obj1[key] = obj2[key];\n        }\n      }\n    }\n    return obj1;\n  };\n\n  /**\n   * Make a copy of the supplied object\n   * @param  {Object} obj Object to copy\n   * @return {Object}     Copy of object\n   */\n  vjs.obj.copy = function(obj){\n    return vjs.obj.merge({}, obj);\n  };\n\n  /**\n   * Check if an object is plain, and not a dom node or any object sub-instance\n   * @param  {Object} obj Object to check\n   * @return {Boolean}     True if plain, false otherwise\n   */\n  vjs.obj.isPlain = function(obj){\n    return !!obj\n      && typeof obj === 'object'\n      && obj.toString() === '[object Object]'\n      && obj.constructor === Object;\n  };\n\n  /**\n   * Bind (a.k.a proxy or Context). A simple method for changing the context of a function\n     It also stores a unique id on the function so it can be easily removed from events\n   * @param  {*}   context The object to bind as scope\n   * @param  {Function} fn      The function to be bound to a scope\n   * @param  {Number=}   uid     An optional unique ID for the function to be set\n   * @return {Function}\n   */\n  vjs.bind = function(context, fn, uid) {\n    // Make sure the function has a unique ID\n    if (!fn.guid) { fn.guid = vjs.guid++; }\n\n    // Create the new function that changes the context\n    var ret = function() {\n      return fn.apply(context, arguments);\n    };\n\n    // Allow for the ability to individualize this function\n    // Needed in the case where multiple objects might share the same prototype\n    // IF both items add an event listener with the same function, then you try to remove just one\n    // it will remove both because they both have the same guid.\n    // when using this, you need to use the bind method when you remove the listener as well.\n    // currently used in text tracks\n    ret.guid = (uid) ? uid + '_' + fn.guid : fn.guid;\n\n    return ret;\n  };\n\n  /**\n   * Element Data Store. Allows for binding data to an element without putting it directly on the element.\n   * Ex. Event listneres are stored here.\n   * (also from jsninja.com, slightly modified and updated for closure compiler)\n   * @type {Object}\n   */\n  vjs.cache = {};\n\n  /**\n   * Unique ID for an element or function\n   * @type {Number}\n   */\n  vjs.guid = 1;\n\n  /**\n   * Unique attribute name to store an element's guid in\n   * @type {String}\n   * @constant\n   */\n  vjs.expando = 'vdata' + (new Date()).getTime();\n\n  /**\n   * Returns the cache object where data for an element is stored\n   * @param  {Element} el Element to store data for.\n   * @return {Object}\n   */\n  vjs.getData = function(el){\n    var id = el[vjs.expando];\n    if (!id) {\n      id = el[vjs.expando] = vjs.guid++;\n      vjs.cache[id] = {};\n    }\n    return vjs.cache[id];\n  };\n\n  /**\n   * Returns the cache object where data for an element is stored\n   * @param  {Element} el Element to store data for.\n   * @return {Object}\n   */\n  vjs.hasData = function(el){\n    var id = el[vjs.expando];\n    return !(!id || vjs.isEmpty(vjs.cache[id]));\n  };\n\n  /**\n   * Delete data for the element from the cache and the guid attr from getElementById\n   * @param  {Element} el Remove data for an element\n   */\n  vjs.removeData = function(el){\n    var id = el[vjs.expando];\n    if (!id) { return; }\n    // Remove all stored data\n    // Changed to = null\n    // http://coding.smashingmagazine.com/2012/11/05/writing-fast-memory-efficient-javascript/\n    // vjs.cache[id] = null;\n    delete vjs.cache[id];\n\n    // Remove the expando property from the DOM node\n    try {\n      delete el[vjs.expando];\n    } catch(e) {\n      if (el.removeAttribute) {\n        el.removeAttribute(vjs.expando);\n      } else {\n        // IE doesn't appear to support removeAttribute on the document element\n        el[vjs.expando] = null;\n      }\n    }\n  };\n\n  vjs.isEmpty = function(obj) {\n    for (var prop in obj) {\n      // Inlude null properties as empty.\n      if (obj[prop] !== null) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /**\n   * Add a CSS class name to an element\n   * @param {Element} element    Element to add class name to\n   * @param {String} classToAdd Classname to add\n   */\n  vjs.addClass = function(element, classToAdd){\n    if ((' '+element.className+' ').indexOf(' '+classToAdd+' ') == -1) {\n      element.className = element.className === '' ? classToAdd : element.className + ' ' + classToAdd;\n    }\n  };\n\n  /**\n   * Remove a CSS class name from an element\n   * @param {Element} element    Element to remove from class name\n   * @param {String} classToAdd Classname to remove\n   */\n  vjs.removeClass = function(element, classToRemove){\n    if (element.className.indexOf(classToRemove) == -1) { return; }\n    var classNames = element.className.split(' ');\n    // IE8 Does not support array.indexOf so using a for loop\n    for (var i = classNames.length - 1; i >= 0; i--) {\n      if (classNames[i] === classToRemove) {\n        classNames.splice(i,1);\n      }\n    }\n    // classNames.splice(classNames.indexOf(classToRemove),1);\n    element.className = classNames.join(' ');\n  };\n\n  /**\n   * Element for testing browser HTML5 video capabilities\n   * @type {Element}\n   * @constant\n   */\n  vjs.TEST_VID = vjs.createEl('video');\n\n  /**\n   * Useragent for browser testing.\n   * @type {String}\n   * @constant\n   */\n  vjs.USER_AGENT = navigator.userAgent;\n\n  /**\n   * Device is an iPhone\n   * @type {Boolean}\n   * @constant\n   */\n  vjs.IS_IPHONE = !!vjs.USER_AGENT.match(/iPhone/i);\n  vjs.IS_IPAD = !!vjs.USER_AGENT.match(/iPad/i);\n  vjs.IS_IPOD = !!vjs.USER_AGENT.match(/iPod/i);\n  vjs.IS_IOS = vjs.IS_IPHONE || vjs.IS_IPAD || vjs.IS_IPOD;\n\n  vjs.IOS_VERSION = (function(){\n    var match = vjs.USER_AGENT.match(/OS (\\d+)_/i);\n    if (match && match[1]) { return match[1]; }\n  })();\n\n  vjs.IS_ANDROID = !!vjs.USER_AGENT.match(/Android.*AppleWebKit/i);\n  vjs.ANDROID_VERSION = (function() {\n    var match = vjs.USER_AGENT.match(/Android (\\d+)\\./i);\n    if (match && match[1]) {\n      return match[1];\n    }\n    return null;\n  })();\n\n  vjs.IS_FIREFOX = function(){ return !!vjs.USER_AGENT.match('Firefox'); };\n\n\n  /**\n   * Get an element's attribute values, as defined on the HTML tag\n   * Attributs are not the same as properties. They're defined on the tag\n   * or with setAttribute (which shouldn't be used with HTML)\n   * This will return true or false for boolean attributes.\n   * @param  {Element} tag Element from which to get tag attributes\n   * @return {Object}\n   */\n  vjs.getAttributeValues = function(tag){\n    var obj = {};\n\n    // Known boolean attributes\n    // We can check for matching boolean properties, but older browsers\n    // won't know about HTML5 boolean attributes that we still read from.\n    // Bookending with commas to allow for an easy string search.\n    var knownBooleans = ','+'autoplay,controls,loop,muted,default'+',';\n\n    if (tag && tag.attributes && tag.attributes.length > 0) {\n      var attrs = tag.attributes;\n      var attrName, attrVal;\n\n      for (var i = attrs.length - 1; i >= 0; i--) {\n        attrName = attrs[i].name;\n        attrVal = attrs[i].value;\n\n        // Check for known booleans\n        // The matching element property will return a value for typeof\n        if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(','+attrName+',') !== -1) {\n          // The value of an included boolean attribute is typically an empty string ('')\n          // which would equal false if we just check for a false value.\n          // We also don't want support bad code like autoplay='false'\n          attrVal = (attrVal !== null) ? true : false;\n        }\n\n        obj[attrName] = attrVal;\n      }\n    }\n\n    return obj;\n  };\n\n  /**\n   * Get the computed style value for an element\n   * From http://robertnyman.com/2006/04/24/get-the-rendered-style-of-an-element/\n   * @param  {Element} el        Element to get style value for\n   * @param  {String} strCssRule Style name\n   * @return {String}            Style value\n   */\n  vjs.getComputedDimension = function(el, strCssRule){\n    var strValue = '';\n    if(document.defaultView && document.defaultView.getComputedStyle){\n      strValue = document.defaultView.getComputedStyle(el, '').getPropertyValue(strCssRule);\n\n    } else if(el.currentStyle){\n      // IE8 Width/Height support\n      strValue = el['client'+strCssRule.substr(0,1).toUpperCase() + strCssRule.substr(1)] + 'px';\n    }\n    return strValue;\n  };\n\n  /**\n   * Insert an element as the first child node of another\n   * @param  {Element} child   Element to insert\n   * @param  {[type]} parent Element to insert child into\n   */\n  vjs.insertFirst = function(child, parent){\n    if (parent.firstChild) {\n      parent.insertBefore(child, parent.firstChild);\n    } else {\n      parent.appendChild(child);\n    }\n  };\n\n  /**\n   * Object to hold browser support information\n   * @type {Object}\n   */\n  vjs.support = {};\n\n  /**\n   * Shorthand for document.getElementById()\n   * Also allows for CSS (jQuery) ID syntax. But nothing other than IDs.\n   * @param  {String} id  Element ID\n   * @return {Element}    Element with supplied ID\n   */\n  vjs.el = function(id){\n    if (id.indexOf('#') === 0) {\n      id = id.slice(1);\n    }\n\n    return document.getElementById(id);\n  };\n\n  /**\n   * Format seconds as a time string, H:MM:SS or M:SS\n   * Supplying a guide (in seconds) will force a number of leading zeros\n   * to cover the length of the guide\n   * @param  {Number} seconds Number of seconds to be turned into a string\n   * @param  {Number} guide   Number (in seconds) to model the string after\n   * @return {String}         Time formatted as H:MM:SS or M:SS\n   */\n  vjs.formatTime = function(seconds, guide) {\n    guide = guide || seconds; // Default to using seconds as guide\n    var s = Math.floor(seconds % 60),\n        m = Math.floor(seconds / 60 % 60),\n        h = Math.floor(seconds / 3600),\n        gm = Math.floor(guide / 60 % 60),\n        gh = Math.floor(guide / 3600);\n\n    // Check if we need to show hours\n    h = (h > 0 || gh > 0) ? h + ':' : '';\n\n    // If hours are showing, we may need to add a leading zero.\n    // Always show at least one digit of minutes.\n    m = (((h || gm >= 10) && m < 10) ? '0' + m : m) + ':';\n\n    // Check if leading zero is need for seconds\n    s = (s < 10) ? '0' + s : s;\n\n    return h + m + s;\n  };\n\n  // Attempt to block the ability to select text while dragging controls\n  vjs.blockTextSelection = function(){\n    document.body.focus();\n    document.onselectstart = function () { return false; };\n  };\n  // Turn off text selection blocking\n  vjs.unblockTextSelection = function(){ document.onselectstart = function () { return true; }; };\n\n  /**\n   * Trim whitespace from the ends of a string.\n   * @param  {String} string String to trim\n   * @return {String}        Trimmed string\n   */\n  vjs.trim = function(string){\n    return string.toString().replace(/^\\s+/, '').replace(/\\s+$/, '');\n  };\n\n  /**\n   * Should round off a number to a decimal place\n   * @param  {Number} num Number to round\n   * @param  {Number} dec Number of decimal places to round to\n   * @return {Number}     Rounded number\n   */\n  vjs.round = function(num, dec) {\n    if (!dec) { dec = 0; }\n    return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec);\n  };\n\n  /**\n   * Should create a fake TimeRange object\n   * Mimics an HTML5 time range instance, which has functions that\n   * return the start and end times for a range\n   * TimeRanges are returned by the buffered() method\n   * @param  {Number} start Start time in seconds\n   * @param  {Number} end   End time in seconds\n   * @return {Object}       Fake TimeRange object\n   */\n  vjs.createTimeRange = function(start, end){\n    return {\n      length: 1,\n      start: function() { return start; },\n      end: function() { return end; }\n    };\n  };\n\n  /**\n   * Simple http request for retrieving external files (e.g. text tracks)\n   * @param  {String} url           URL of resource\n   * @param  {Function=} onSuccess  Success callback\n   * @param  {Function=} onError    Error callback\n   */\n  vjs.get = function(url, onSuccess, onError){\n    var local = (url.indexOf('file:') === 0 || (window.location.href.indexOf('file:') === 0 && url.indexOf('http') === -1));\n\n    if (typeof XMLHttpRequest === 'undefined') {\n      window.XMLHttpRequest = function () {\n        try { return new window.ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch (e) {}\n        try { return new window.ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch (f) {}\n        try { return new window.ActiveXObject('Msxml2.XMLHTTP'); } catch (g) {}\n        throw new Error('This browser does not support XMLHttpRequest.');\n      };\n    }\n\n    var request = new XMLHttpRequest();\n\n    try {\n      request.open('GET', url);\n    } catch(e) {\n      onError(e);\n    }\n\n    request.onreadystatechange = function() {\n      if (request.readyState === 4) {\n        if (request.status === 200 || local && request.status === 0) {\n          onSuccess(request.responseText);\n        } else {\n          if (onError) {\n            onError();\n          }\n        }\n      }\n    };\n\n    try {\n      request.send();\n    } catch(e) {\n      if (onError) {\n        onError(e);\n      }\n    }\n  };\n\n  /* Local Storage\n  ================================================================================ */\n  vjs.setLocalStorage = function(key, value){\n    try {\n      // IE was throwing errors referencing the var anywhere without this\n      var localStorage = window.localStorage || false;\n      if (!localStorage) { return; }\n      localStorage[key] = value;\n    } catch(e) {\n      if (e.code == 22 || e.code == 1014) { // Webkit == 22 / Firefox == 1014\n        vjs.log('LocalStorage Full (VideoJS)', e);\n      } else {\n        if (e.code == 18) {\n          vjs.log('LocalStorage not allowed (VideoJS)', e);\n        } else {\n          vjs.log('LocalStorage Error (VideoJS)', e);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get abosolute version of relative URL. Used to tell flash correct URL.\n   * http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n   * @param  {String} url URL to make absolute\n   * @return {String}     Absolute URL\n   */\n  vjs.getAbsoluteURL = function(url){\n\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n      url = vjs.createEl('div', {\n        innerHTML: '<a href=\"'+url+'\">x</a>'\n      }).firstChild.href;\n    }\n\n    return url;\n  };\n\n  // usage: log('inside coolFunc',this,arguments);\n  // http://paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/\n  vjs.log = function(){\n    vjs.log.history = vjs.log.history || [];   // store logs to an array for reference\n    vjs.log.history.push(arguments);\n    if(window.console){\n      window.console.log(Array.prototype.slice.call(arguments));\n    }\n  };\n\n  // Offset Left\n  // getBoundingClientRect technique from John Resig http://ejohn.org/blog/getboundingclientrect-is-awesome/\n  vjs.findPosition = function(el) {\n      var box, docEl, body, clientLeft, scrollLeft, left, clientTop, scrollTop, top;\n\n      if (el.getBoundingClientRect && el.parentNode) {\n        box = el.getBoundingClientRect();\n      }\n\n      if (!box) {\n        return {\n          left: 0,\n          top: 0\n        };\n      }\n\n      docEl = document.documentElement;\n      body = document.body;\n\n      clientLeft = docEl.clientLeft || body.clientLeft || 0;\n      scrollLeft = window.pageXOffset || body.scrollLeft;\n      left = box.left + scrollLeft - clientLeft;\n\n      clientTop = docEl.clientTop || body.clientTop || 0;\n      scrollTop = window.pageYOffset || body.scrollTop;\n      top = box.top + scrollTop - clientTop;\n\n      return {\n        left: left,\n        top: top\n      };\n  };\n  /**\n   * @fileoverview Player Component - Base class for all UI objects\n   *\n   */\n\n  /**\n   * Base UI Component class\n   * @param {Object} player  Main Player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.Component = vjs.CoreObject.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      this.player_ = player;\n\n      // Make a copy of prototype.options_ to protect against overriding global defaults\n      this.options_ = vjs.obj.copy(this.options_);\n\n      // Updated options with supplied options\n      options = this.options(options);\n\n      // Get ID from options, element, or create using player ID and unique ID\n      this.id_ = options['id'] || ((options['el'] && options['el']['id']) ? options['el']['id'] : player.id() + '_component_' + vjs.guid++ );\n\n      this.name_ = options['name'] || null;\n\n      // Create element if one wasn't provided in options\n      this.el_ = options['el'] || this.createEl();\n\n      this.children_ = [];\n      this.childIndex_ = {};\n      this.childNameIndex_ = {};\n\n      // Add any child components in options\n      this.initChildren();\n\n      this.ready(ready);\n      // Don't want to trigger ready here or it will before init is actually\n      // finished for all children that run this constructor\n    }\n  });\n\n  /**\n   * Dispose of the component and all child components.\n   */\n  vjs.Component.prototype.dispose = function(){\n    // Dispose all children.\n    if (this.children_) {\n      for (var i = this.children_.length - 1; i >= 0; i--) {\n        if (this.children_[i].dispose) {\n          this.children_[i].dispose();\n        }\n      }\n    }\n\n    // Delete child references\n    this.children_ = null;\n    this.childIndex_ = null;\n    this.childNameIndex_ = null;\n\n    // Remove all event listeners.\n    this.off();\n\n    // Remove element from DOM\n    if (this.el_.parentNode) {\n      this.el_.parentNode.removeChild(this.el_);\n    }\n\n    vjs.removeData(this.el_);\n    this.el_ = null;\n  };\n\n  /**\n   * Reference to main player instance.\n   * @type {vjs.Player}\n   * @private\n   */\n  vjs.Component.prototype.player_;\n\n  /**\n   * Return the component's player.\n   * @return {vjs.Player}\n   */\n  vjs.Component.prototype.player = function(){\n    return this.player_;\n  };\n\n  /**\n   * Component options object.\n   * @type {Object}\n   * @private\n   */\n  vjs.Component.prototype.options_;\n\n  /**\n   * Deep merge of options objects\n   * Whenever a property is an object on both options objects\n   * the two properties will be merged using vjs.obj.deepMerge.\n   *\n   * This is used for merging options for child components. We\n   * want it to be easy to override individual options on a child\n   * component without having to rewrite all the other default options.\n   *\n   * Parent.prototype.options_ = {\n   *   children: {\n   *     'childOne': { 'foo': 'bar', 'asdf': 'fdsa' },\n   *     'childTwo': {},\n   *     'childThree': {}\n   *   }\n   * }\n   * newOptions = {\n   *   children: {\n   *     'childOne': { 'foo': 'baz', 'abc': '123' }\n   *     'childTwo': null,\n   *     'childFour': {}\n   *   }\n   * }\n   *\n   * this.options(newOptions);\n   *\n   * RESULT\n   *\n   * {\n   *   children: {\n   *     'childOne': { 'foo': 'baz', 'asdf': 'fdsa', 'abc': '123' },\n   *     'childTwo': null, // Disabled. Won't be initialized.\n   *     'childThree': {},\n   *     'childFour': {}\n   *   }\n   * }\n   *\n   * @param  {Object} obj Object whose values will be overwritten\n   * @return {Object}      NEW merged object. Does not return obj1.\n   */\n  vjs.Component.prototype.options = function(obj){\n    if (obj === undefined) return this.options_;\n\n    return this.options_ = vjs.obj.deepMerge(this.options_, obj);\n  };\n\n  /**\n   * The DOM element for the component.\n   * @type {Element}\n   * @private\n   */\n  vjs.Component.prototype.el_;\n\n  /**\n   * Create the component's DOM element.\n   * @param  {String=} tagName  Element's node type. e.g. 'div'\n   * @param  {Object=} attributes An object of element attributes that should be set on the element.\n   * @return {Element}\n   */\n  vjs.Component.prototype.createEl = function(tagName, attributes){\n    return vjs.createEl(tagName, attributes);\n  };\n\n  /**\n   * Return the component's DOM element.\n   * @return {Element}\n   */\n  vjs.Component.prototype.el = function(){\n    return this.el_;\n  };\n\n  /**\n   * An optional element where, if defined, children will be inserted\n   *   instead of directly in el_\n   * @type {Element}\n   * @private\n   */\n  vjs.Component.prototype.contentEl_;\n\n  /**\n   * Return the component's DOM element for embedding content.\n   *   will either be el_ or a new element defined in createEl\n   * @return {Element}\n   */\n  vjs.Component.prototype.contentEl = function(){\n    return this.contentEl_ || this.el_;\n  };\n\n  /**\n   * The ID for the component.\n   * @type {String}\n   * @private\n   */\n  vjs.Component.prototype.id_;\n\n  /**\n   * Return the component's ID.\n   * @return {String}\n   */\n  vjs.Component.prototype.id = function(){\n    return this.id_;\n  };\n\n  /**\n   * The name for the component. Often used to reference the component.\n   * @type {String}\n   * @private\n   */\n  vjs.Component.prototype.name_;\n\n  /**\n   * Return the component's ID.\n   * @return {String}\n   */\n  vjs.Component.prototype.name = function(){\n    return this.name_;\n  };\n\n  /**\n   * Array of child components\n   * @type {Array}\n   * @private\n   */\n  vjs.Component.prototype.children_;\n\n  /**\n   * Returns array of all child components.\n   * @return {Array}\n   */\n  vjs.Component.prototype.children = function(){\n    return this.children_;\n  };\n\n  /**\n   * Object of child components by ID\n   * @type {Object}\n   * @private\n   */\n  vjs.Component.prototype.childIndex_;\n\n  /**\n   * Returns a child component with the provided ID.\n   * @return {Array}\n   */\n  vjs.Component.prototype.getChildById = function(id){\n    return this.childIndex_[id];\n  };\n\n  /**\n   * Object of child components by Name\n   * @type {Object}\n   * @private\n   */\n  vjs.Component.prototype.childNameIndex_;\n\n  /**\n   * Returns a child component with the provided ID.\n   * @return {Array}\n   */\n  vjs.Component.prototype.getChild = function(name){\n    return this.childNameIndex_[name];\n  };\n\n  /**\n   * Adds a child component inside this component.\n   * @param {String|vjs.Component} child The class name or instance of a child to add.\n   * @param {Object=} options Optional options, including options to be passed to\n   *  children of the child.\n   * @return {vjs.Component} The child component, because it might be created in this process.\n   * @suppress {accessControls|checkRegExp|checkTypes|checkVars|const|constantProperty|deprecated|duplicate|es5Strict|fileoverviewTags|globalThis|invalidCasts|missingProperties|nonStandardJsDocs|strictModuleDepCheck|undefinedNames|undefinedVars|unknownDefines|uselessCode|visibility}\n   */\n  vjs.Component.prototype.addChild = function(child, options){\n    var component, componentClass, componentName, componentId;\n\n    // If string, create new component with options\n    if (typeof child === 'string') {\n\n      componentName = child;\n\n      // Make sure options is at least an empty object to protect against errors\n      options = options || {};\n\n      // Assume name of set is a lowercased name of the UI Class (PlayButton, etc.)\n      componentClass = options['componentClass'] || vjs.capitalize(componentName);\n\n      // Set name through options\n      options['name'] = componentName;\n\n      // Create a new object & element for this controls set\n      // If there's no .player_, this is a player\n      // Closure Compiler throws an 'incomplete alias' warning if we use the vjs variable directly.\n      // Every class should be exported, so this should never be a problem here.\n      component = new vjs[componentClass](this.player_ || this, options);\n\n    // child is a component instance\n    } else {\n      component = child;\n    }\n\n    this.children_.push(component);\n\n    if (typeof component.id === 'function') {\n      this.childIndex_[component.id()] = component;\n    }\n\n    // If a name wasn't used to create the component, check if we can use the\n    // name function of the component\n    componentName = componentName || (component.name && component.name());\n\n    if (componentName) {\n      this.childNameIndex_[componentName] = component;\n    }\n\n    // Add the UI object's element to the container div (box)\n    // Having an element is not required\n    if (typeof component['el'] === 'function' && component['el']()) {\n      this.contentEl().appendChild(component['el']());\n    }\n\n    // Return so it can stored on parent object if desired.\n    return component;\n  };\n\n  vjs.Component.prototype.removeChild = function(component){\n    if (typeof component === 'string') {\n      component = this.getChild(component);\n    }\n\n    if (!component || !this.children_) return;\n\n    var childFound = false;\n    for (var i = this.children_.length - 1; i >= 0; i--) {\n      if (this.children_[i] === component) {\n        childFound = true;\n        this.children_.splice(i,1);\n        break;\n      }\n    }\n\n    if (!childFound) return;\n\n    this.childIndex_[component.id] = null;\n    this.childNameIndex_[component.name] = null;\n\n    var compEl = component.el();\n    if (compEl && compEl.parentNode === this.contentEl()) {\n      this.contentEl().removeChild(component.el());\n    }\n  };\n\n  /**\n   * Initialize default child components from options\n   */\n  vjs.Component.prototype.initChildren = function(){\n    var options = this.options_;\n\n    if (options && options['children']) {\n      var self = this;\n\n      // Loop through components and add them to the player\n      vjs.obj.each(options['children'], function(name, opts){\n        // Allow for disabling default components\n        // e.g. vjs.options['children']['posterImage'] = false\n        if (opts === false) return;\n\n        // Allow waiting to add components until a specific event is called\n        var tempAdd = function(){\n          // Set property name on player. Could cause conflicts with other prop names, but it's worth making refs easy.\n          self[name] = self.addChild(name, opts);\n        };\n\n        if (opts['loadEvent']) {\n          // this.one(opts.loadEvent, tempAdd)\n        } else {\n          tempAdd();\n        }\n      });\n    }\n  };\n\n  vjs.Component.prototype.buildCSSClass = function(){\n      // Child classes can include a function that does:\n      // return 'CLASS NAME' + this._super();\n      return '';\n  };\n\n  /* Events\n  ============================================================================= */\n\n  /**\n   * Add an event listener to this component's element. Context will be the component.\n   * @param  {String}   type Event type e.g. 'click'\n   * @param  {Function} fn   Event listener\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.on = function(type, fn){\n    vjs.on(this.el_, type, vjs.bind(this, fn));\n    return this;\n  };\n\n  /**\n   * Remove an event listener from the component's element\n   * @param  {String=}   type Optional event type. Without type it will remove all listeners.\n   * @param  {Function=} fn   Optional event listener. Without fn it will remove all listeners for a type.\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.off = function(type, fn){\n    vjs.off(this.el_, type, fn);\n    return this;\n  };\n\n  /**\n   * Add an event listener to be triggered only once and then removed\n   * @param  {String}   type Event type\n   * @param  {Function} fn   Event listener\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.one = function(type, fn) {\n    vjs.one(this.el_, type, vjs.bind(this, fn));\n    return this;\n  };\n\n  /**\n   * Trigger an event on an element\n   * @param  {String} type  Event type to trigger\n   * @param  {Event|Object} event Event object to be passed to the listener\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.trigger = function(type, event){\n    vjs.trigger(this.el_, type, event);\n    return this;\n  };\n\n  /* Ready\n  ================================================================================ */\n  /**\n   * Is the component loaded.\n   * @type {Boolean}\n   * @private\n   */\n  vjs.Component.prototype.isReady_;\n\n  /**\n   * Trigger ready as soon as initialization is finished.\n   *   Allows for delaying ready. Override on a sub class prototype.\n   *   If you set this.isReadyOnInitFinish_ it will affect all components.\n   *   Specially used when waiting for the Flash player to asynchrnously load.\n   *   @type {Boolean}\n   *   @private\n   */\n  vjs.Component.prototype.isReadyOnInitFinish_ = true;\n\n  /**\n   * List of ready listeners\n   * @type {Array}\n   * @private\n   */\n  vjs.Component.prototype.readyQueue_;\n\n  /**\n   * Bind a listener to the component's ready state.\n   *   Different from event listeners in that if the ready event has already happend\n   *   it will trigger the function immediately.\n   * @param  {Function} fn Ready listener\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.ready = function(fn){\n    if (fn) {\n      if (this.isReady_) {\n        fn.call(this);\n      } else {\n        if (this.readyQueue_ === undefined) {\n          this.readyQueue_ = [];\n        }\n        this.readyQueue_.push(fn);\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Trigger the ready listeners\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.triggerReady = function(){\n    this.isReady_ = true;\n\n    var readyQueue = this.readyQueue_;\n\n    if (readyQueue && readyQueue.length > 0) {\n\n      for (var i = 0, j = readyQueue.length; i < j; i++) {\n        readyQueue[i].call(this);\n      }\n\n      // Reset Ready Queue\n      this.readyQueue_ = [];\n\n      // Allow for using event listeners also, in case you want to do something everytime a source is ready.\n      this.trigger('ready');\n    }\n  };\n\n  /* Display\n  ============================================================================= */\n\n  /**\n   * Add a CSS class name to the component's element\n   * @param {String} classToAdd Classname to add\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.addClass = function(classToAdd){\n    vjs.addClass(this.el_, classToAdd);\n    return this;\n  };\n\n  /**\n   * Remove a CSS class name from the component's element\n   * @param {String} classToRemove Classname to remove\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.removeClass = function(classToRemove){\n    vjs.removeClass(this.el_, classToRemove);\n    return this;\n  };\n\n  /**\n   * Show the component element if hidden\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.show = function(){\n    this.el_.style.display = 'block';\n    return this;\n  };\n\n  /**\n   * Hide the component element if hidden\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.hide = function(){\n    this.el_.style.display = 'none';\n    return this;\n  };\n\n  /**\n   * Fade a component in using CSS\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.fadeIn = function(){\n    this.removeClass('vjs-fade-out');\n    this.addClass('vjs-fade-in');\n    return this;\n  };\n\n  /**\n   * Fade a component out using CSS\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.fadeOut = function(){\n    this.removeClass('vjs-fade-in');\n    this.addClass('vjs-fade-out');\n    return this;\n  };\n\n  /**\n   * Lock an item in its visible state. To be used with fadeIn/fadeOut.\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.lockShowing = function(){\n    this.addClass('vjs-lock-showing');\n    return this;\n  };\n\n  /**\n   * Unlock an item to be hidden. To be used with fadeIn/fadeOut.\n   * @return {vjs.Component}\n   */\n  vjs.Component.prototype.unlockShowing = function(){\n    this.removeClass('vjs-lock-showing');\n    return this;\n  };\n\n  /**\n   * Disable component by making it unshowable\n   */\n  vjs.Component.prototype.disable = function(){\n    this.hide();\n    this.show = function(){};\n    this.fadeIn = function(){};\n  };\n\n  // TODO: Get enable working\n  // vjs.Component.prototype.enable = function(){\n  //   this.fadeIn = vjs.Component.prototype.fadeIn;\n  //   this.show = vjs.Component.prototype.show;\n  // };\n\n  /**\n   * If a value is provided it will change the width of the player to that value\n   * otherwise the width is returned\n   * http://dev.w3.org/html5/spec/dimension-attributes.html#attr-dim-height\n   * Video tag width/height only work in pixels. No percents.\n   * But allowing limited percents use. e.g. width() will return number+%, not computed width\n   * @param  {Number|String=} num   Optional width number\n   * @param  {[type]} skipListeners Skip the 'resize' event trigger\n   * @return {vjs.Component|Number|String} Returns 'this' if dimension was set.\n   *   Otherwise it returns the dimension.\n   */\n  vjs.Component.prototype.width = function(num, skipListeners){\n    return this.dimension('width', num, skipListeners);\n  };\n\n  /**\n   * Get or set the height of the player\n   * @param  {Number|String=} num     Optional new player height\n   * @param  {Boolean=} skipListeners Optional skip resize event trigger\n   * @return {vjs.Component|Number|String} The player, or the dimension\n   */\n  vjs.Component.prototype.height = function(num, skipListeners){\n    return this.dimension('height', num, skipListeners);\n  };\n\n  /**\n   * Set both width and height at the same time.\n   * @param  {Number|String} width\n   * @param  {Number|String} height\n   * @return {vjs.Component}   The player.\n   */\n  vjs.Component.prototype.dimensions = function(width, height){\n    // Skip resize listeners on width for optimization\n    return this.width(width, true).height(height);\n  };\n\n  /**\n   * Get or set width or height.\n   * All for an integer, integer + 'px' or integer + '%';\n   * Known issue: hidden elements. Hidden elements officially have a width of 0.\n   * So we're defaulting to the style.width value and falling back to computedStyle\n   * which has the hidden element issue.\n   * Info, but probably not an efficient fix:\n   * http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/\n   * @param  {String=} widthOrHeight 'width' or 'height'\n   * @param  {Number|String=} num           New dimension\n   * @param  {Boolean=} skipListeners Skip resize event trigger\n   * @return {vjs.Component|Number|String} Return the player if setting a dimension.\n   *                                         Otherwise it returns the dimension.\n   */\n  vjs.Component.prototype.dimension = function(widthOrHeight, num, skipListeners){\n    if (num !== undefined) {\n\n      // Check if using css width/height (% or px) and adjust\n      if ((''+num).indexOf('%') !== -1 || (''+num).indexOf('px') !== -1) {\n        this.el_.style[widthOrHeight] = num;\n      } else if (num === 'auto') {\n        this.el_.style[widthOrHeight] = '';\n      } else {\n        this.el_.style[widthOrHeight] = num+'px';\n      }\n\n      // skipListeners allows us to avoid triggering the resize event when setting both width and height\n      if (!skipListeners) { this.trigger('resize'); }\n\n      // Return component\n      return this;\n    }\n\n    // Not setting a value, so getting it\n    // Make sure element exists\n    if (!this.el_) return 0;\n\n    // Get dimension value from style\n    var val = this.el_.style[widthOrHeight];\n    var pxIndex = val.indexOf('px');\n    if (pxIndex !== -1) {\n      // Return the pixel value with no 'px'\n      return parseInt(val.slice(0,pxIndex), 10);\n\n    // No px so using % or no style was set, so falling back to offsetWidth/height\n    // If component has display:none, offset will return 0\n    // TODO: handle display:none and no dimension style using px\n    } else {\n\n      return parseInt(this.el_['offset'+vjs.capitalize(widthOrHeight)], 10);\n\n      // ComputedStyle version.\n      // Only difference is if the element is hidden it will return\n      // the percent value (e.g. '100%'')\n      // instead of zero like offsetWidth returns.\n      // var val = vjs.getComputedStyleValue(this.el_, widthOrHeight);\n      // var pxIndex = val.indexOf('px');\n\n      // if (pxIndex !== -1) {\n      //   return val.slice(0, pxIndex);\n      // } else {\n      //   return val;\n      // }\n    }\n  };\n  /* Button - Base class for all buttons\n  ================================================================================ */\n  /**\n   * Base class for all buttons\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.Button = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      var touchstart = false;\n      this.on('touchstart', function() {\n        touchstart = true;\n      });\n      this.on('touchmove', function() {\n        touchstart = false;\n      });\n      var self = this;\n      this.on('touchend', function(event) {\n        if (touchstart) {\n          self.onClick(event);\n        }\n        event.preventDefault();\n        event.stopPropagation();\n      });\n\n      this.on('click', this.onClick);\n      this.on('focus', this.onFocus);\n      this.on('blur', this.onBlur);\n    }\n  });\n\n  vjs.Button.prototype.createEl = function(type, props){\n    // Add standard Aria and Tabindex info\n    props = vjs.obj.merge({\n      className: this.buildCSSClass(),\n      innerHTML: '<div class=\"vjs-control-content\"><span class=\"vjs-control-text\">' + (this.buttonText || 'Need Text') + '</span></div>',\n      role: 'button',\n      'aria-live': 'polite', // let the screen reader user know that the text of the button may change\n      tabIndex: 0\n    }, props);\n\n    return vjs.Component.prototype.createEl.call(this, type, props);\n  };\n\n  vjs.Button.prototype.buildCSSClass = function(){\n    // TODO: Change vjs-control to vjs-button?\n    return 'vjs-control ' + vjs.Component.prototype.buildCSSClass.call(this);\n  };\n\n    // Click - Override with specific functionality for button\n  vjs.Button.prototype.onClick = function(){};\n\n    // Focus - Add keyboard functionality to element\n  vjs.Button.prototype.onFocus = function(){\n    vjs.on(document, 'keyup', vjs.bind(this, this.onKeyPress));\n  };\n\n    // KeyPress (document level) - Trigger click when keys are pressed\n  vjs.Button.prototype.onKeyPress = function(event){\n    // Check for space bar (32) or enter (13) keys\n    if (event.which == 32 || event.which == 13) {\n      event.preventDefault();\n      this.onClick();\n    }\n  };\n\n  // Blur - Remove keyboard triggers\n  vjs.Button.prototype.onBlur = function(){\n    vjs.off(document, 'keyup', vjs.bind(this, this.onKeyPress));\n  };\n  /* Slider\n  ================================================================================ */\n  /**\n   * Parent for seek bar and volume slider\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.Slider = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      // Set property names to bar and handle to match with the child Slider class is looking for\n      this.bar = this.getChild(this.options_['barName']);\n      this.handle = this.getChild(this.options_['handleName']);\n\n      player.on(this.playerEvent, vjs.bind(this, this.update));\n\n      this.on('mousedown', this.onMouseDown);\n      this.on('touchstart', this.onMouseDown);\n      this.on('focus', this.onFocus);\n      this.on('blur', this.onBlur);\n      this.on('click', this.onClick);\n\n      this.player_.on('controlsvisible', vjs.bind(this, this.update));\n\n      // This is actually to fix the volume handle position. http://twitter.com/#!/gerritvanaaken/status/159046254519787520\n      // this.player_.one('timeupdate', vjs.bind(this, this.update));\n\n      player.ready(vjs.bind(this, this.update));\n\n      this.boundEvents = {};\n    }\n  });\n\n  vjs.Slider.prototype.createEl = function(type, props) {\n    props = props || {};\n    // Add the slider element class to all sub classes\n    props.className = props.className + ' vjs-slider';\n    props = vjs.obj.merge({\n      role: 'slider',\n      'aria-valuenow': 0,\n      'aria-valuemin': 0,\n      'aria-valuemax': 100,\n      tabIndex: 0\n    }, props);\n\n    return vjs.Component.prototype.createEl.call(this, type, props);\n  };\n\n  vjs.Slider.prototype.onMouseDown = function(event){\n    event.preventDefault();\n    vjs.blockTextSelection();\n\n    this.boundEvents.move = vjs.bind(this, this.onMouseMove);\n    this.boundEvents.end = vjs.bind(this, this.onMouseUp);\n\n    vjs.on(document, 'mousemove', this.boundEvents.move);\n    vjs.on(document, 'mouseup', this.boundEvents.end);\n    vjs.on(document, 'touchmove', this.boundEvents.move);\n    vjs.on(document, 'touchend', this.boundEvents.end);\n\n    this.onMouseMove(event);\n  };\n\n  vjs.Slider.prototype.onMouseUp = function() {\n    vjs.unblockTextSelection();\n    vjs.off(document, 'mousemove', this.boundEvents.move, false);\n    vjs.off(document, 'mouseup', this.boundEvents.end, false);\n    vjs.off(document, 'touchmove', this.boundEvents.move, false);\n    vjs.off(document, 'touchend', this.boundEvents.end, false);\n\n    this.update();\n  };\n\n  vjs.Slider.prototype.update = function(){\n    // In VolumeBar init we have a setTimeout for update that pops and update to the end of the\n    // execution stack. The player is destroyed before then update will cause an error\n    if (!this.el_) return;\n\n    // If scrubbing, we could use a cached value to make the handle keep up with the user's mouse.\n    // On HTML5 browsers scrubbing is really smooth, but some flash players are slow, so we might want to utilize this later.\n    // var progress =  (this.player_.scrubbing) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n\n    var barProgress,\n        progress = this.getPercent(),\n        handle = this.handle,\n        bar = this.bar;\n\n    // Protect against no duration and other division issues\n    if (isNaN(progress)) { progress = 0; }\n\n    barProgress = progress;\n\n    // If there is a handle, we need to account for the handle in our calculation for progress bar\n    // so that it doesn't fall short of or extend past the handle.\n    if (handle) {\n\n      var box = this.el_,\n          boxWidth = box.offsetWidth,\n\n          handleWidth = handle.el().offsetWidth,\n\n          // The width of the handle in percent of the containing box\n          // In IE, widths may not be ready yet causing NaN\n          handlePercent = (handleWidth) ? handleWidth / boxWidth : 0,\n\n          // Get the adjusted size of the box, considering that the handle's center never touches the left or right side.\n          // There is a margin of half the handle's width on both sides.\n          boxAdjustedPercent = 1 - handlePercent,\n\n          // Adjust the progress that we'll use to set widths to the new adjusted box width\n          adjustedProgress = progress * boxAdjustedPercent;\n\n      // The bar does reach the left side, so we need to account for this in the bar's width\n      barProgress = adjustedProgress + (handlePercent / 2);\n\n      // Move the handle from the left based on the adjected progress\n      handle.el().style.left = vjs.round(adjustedProgress * 100, 2) + '%';\n    }\n\n    // Set the new bar width\n    bar.el().style.width = vjs.round(barProgress * 100, 2) + '%';\n  };\n\n  vjs.Slider.prototype.calculateDistance = function(event){\n    var el, box, boxX, boxY, boxW, boxH, handle, pageX, pageY;\n\n    el = this.el_;\n    box = vjs.findPosition(el);\n    boxW = boxH = el.offsetWidth;\n    handle = this.handle;\n\n    if (this.options_.vertical) {\n      boxY = box.top;\n\n      if (event.changedTouches) {\n        pageY = event.changedTouches[0].pageY;\n      } else {\n        pageY = event.pageY;\n      }\n\n      if (handle) {\n        var handleH = handle.el().offsetHeight;\n        // Adjusted X and Width, so handle doesn't go outside the bar\n        boxY = boxY + (handleH / 2);\n        boxH = boxH - handleH;\n      }\n\n      // Percent that the click is through the adjusted area\n      return Math.max(0, Math.min(1, ((boxY - pageY) + boxH) / boxH));\n\n    } else {\n      boxX = box.left;\n\n      if (event.changedTouches) {\n        pageX = event.changedTouches[0].pageX;\n      } else {\n        pageX = event.pageX;\n      }\n\n      if (handle) {\n        var handleW = handle.el().offsetWidth;\n\n        // Adjusted X and Width, so handle doesn't go outside the bar\n        boxX = boxX + (handleW / 2);\n        boxW = boxW - handleW;\n      }\n\n      // Percent that the click is through the adjusted area\n      return Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n    }\n  };\n\n  vjs.Slider.prototype.onFocus = function(){\n    vjs.on(document, 'keyup', vjs.bind(this, this.onKeyPress));\n  };\n\n  vjs.Slider.prototype.onKeyPress = function(event){\n    if (event.which == 37) { // Left Arrow\n      event.preventDefault();\n      this.stepBack();\n    } else if (event.which == 39) { // Right Arrow\n      event.preventDefault();\n      this.stepForward();\n    }\n  };\n\n  vjs.Slider.prototype.onBlur = function(){\n    vjs.off(document, 'keyup', vjs.bind(this, this.onKeyPress));\n  };\n\n  /**\n   * Listener for click events on slider, used to prevent clicks\n   *   from bubbling up to parent elements like button menus.\n   * @param  {Object} event Event object\n   */\n  vjs.Slider.prototype.onClick = function(event){\n    event.stopImmediatePropagation();\n    event.preventDefault();\n  };\n\n  /**\n   * SeekBar Behavior includes play progress bar, and seek handle\n   * Needed so it can determine seek position based on handle position/size\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.SliderHandle = vjs.Component.extend();\n\n  /**\n   * Default value of the slider\n   * @type {Number}\n   */\n  vjs.SliderHandle.prototype.defaultValue = 0;\n\n  /** @inheritDoc */\n  vjs.SliderHandle.prototype.createEl = function(type, props) {\n    props = props || {};\n    // Add the slider element class to all sub classes\n    props.className = props.className + ' vjs-slider-handle';\n    props = vjs.obj.merge({\n      innerHTML: '<span class=\"vjs-control-text\">'+this.defaultValue+'</span>'\n    }, props);\n\n    return vjs.Component.prototype.createEl.call(this, 'div', props);\n  };\n  /* Menu\n  ================================================================================ */\n  /**\n   * The base for text track and settings menu buttons.\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.Menu = vjs.Component.extend();\n\n  /**\n   * Add a menu item to the menu\n   * @param {Object|String} component Component or component type to add\n   */\n  vjs.Menu.prototype.addItem = function(component){\n    this.addChild(component);\n    component.on('click', vjs.bind(this, function(){\n      this.unlockShowing();\n    }));\n  };\n\n  /** @inheritDoc */\n  vjs.Menu.prototype.createEl = function(){\n    var contentElType = this.options().contentElType || 'ul';\n    this.contentEl_ = vjs.createEl(contentElType, {\n      className: 'vjs-menu-content'\n    });\n    var el = vjs.Component.prototype.createEl.call(this, 'div', {\n      append: this.contentEl_,\n      className: 'vjs-menu'\n    });\n    el.appendChild(this.contentEl_);\n\n    // Prevent clicks from bubbling up. Needed for Menu Buttons,\n    // where a click on the parent is significant\n    vjs.on(el, 'click', function(event){\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    });\n\n    return el;\n  };\n\n  /**\n   * Menu item\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.MenuItem = vjs.Button.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Button.call(this, player, options);\n      this.selected(options['selected']);\n    }\n  });\n\n  /** @inheritDoc */\n  vjs.MenuItem.prototype.createEl = function(type, props){\n    return vjs.Button.prototype.createEl.call(this, 'li', vjs.obj.merge({\n      className: 'vjs-menu-item',\n      innerHTML: this.options_['label']\n    }, props));\n  };\n\n  /** @inheritDoc */\n  vjs.MenuItem.prototype.onClick = function(){\n    this.selected(true);\n  };\n\n  /**\n   * Set this menu item as selected or not\n   * @param  {Boolean} selected\n   */\n  vjs.MenuItem.prototype.selected = function(selected){\n    if (selected) {\n      this.addClass('vjs-selected');\n      this.el_.setAttribute('aria-selected',true);\n    } else {\n      this.removeClass('vjs-selected');\n      this.el_.setAttribute('aria-selected',false);\n    }\n  };\n\n\n  /**\n   * A button class with a popup menu\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.MenuButton = vjs.Button.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Button.call(this, player, options);\n\n      this.menu = this.createMenu();\n\n      // Add list to element\n      this.addChild(this.menu);\n\n      // Automatically hide empty menu buttons\n      if (this.items && this.items.length === 0) {\n        this.hide();\n      }\n\n      this.on('keyup', this.onKeyPress);\n      this.el_.setAttribute('aria-haspopup', true);\n      this.el_.setAttribute('role', 'button');\n    }\n  });\n\n  /**\n   * Track the state of the menu button\n   * @type {Boolean}\n   */\n  vjs.MenuButton.prototype.buttonPressed_ = false;\n\n  vjs.MenuButton.prototype.createMenu = function(){\n    var menu = new vjs.Menu(this.player_);\n\n    // Add a title list item to the top\n    if (this.options().title) {\n      menu.el().appendChild(vjs.createEl('li', {\n        className: 'vjs-menu-title',\n        innerHTML: vjs.capitalize(this.kind_),\n        tabindex: -1\n      }));\n    }\n\n    this.items = this.createItems();\n\n    if (this.items) {\n      // Add menu items to the menu\n      for (var i = 0; i < this.items.length; i++) {\n        menu.addItem(this.items[i]);\n      }\n    }\n\n    return menu;\n  };\n\n  /**\n   * Create the list of menu items. Specific to each subclass.\n   */\n  vjs.MenuButton.prototype.createItems = function(){};\n\n  /** @inheritDoc */\n  vjs.MenuButton.prototype.buildCSSClass = function(){\n    return this.className + ' vjs-menu-button ' + vjs.Button.prototype.buildCSSClass.call(this);\n  };\n\n  // Focus - Add keyboard functionality to element\n  // This function is not needed anymore. Instead, the keyboard functionality is handled by\n  // treating the button as triggering a submenu. When the button is pressed, the submenu\n  // appears. Pressing the button again makes the submenu disappear.\n  vjs.MenuButton.prototype.onFocus = function(){};\n  // Can't turn off list display that we turned on with focus, because list would go away.\n  vjs.MenuButton.prototype.onBlur = function(){};\n\n  vjs.MenuButton.prototype.onClick = function(){\n    // When you click the button it adds focus, which will show the menu indefinitely.\n    // So we'll remove focus when the mouse leaves the button.\n    // Focus is needed for tab navigation.\n    this.one('mouseout', vjs.bind(this, function(){\n      this.menu.unlockShowing();\n      this.el_.blur();\n    }));\n    if (this.buttonPressed_){\n      this.unpressButton();\n    } else {\n      this.pressButton();\n    }\n  };\n\n  vjs.MenuButton.prototype.onKeyPress = function(event){\n    event.preventDefault();\n\n    // Check for space bar (32) or enter (13) keys\n    if (event.which == 32 || event.which == 13) {\n      if (this.buttonPressed_){\n        this.unpressButton();\n      } else {\n        this.pressButton();\n      }\n    // Check for escape (27) key\n    } else if (event.which == 27){\n      if (this.buttonPressed_){\n        this.unpressButton();\n      }\n    }\n  };\n\n  vjs.MenuButton.prototype.pressButton = function(){\n    this.buttonPressed_ = true;\n    this.menu.lockShowing();\n    this.el_.setAttribute('aria-pressed', true);\n    if (this.items && this.items.length > 0) {\n      this.items[0].el().focus(); // set the focus to the title of the submenu\n    }\n  };\n\n  vjs.MenuButton.prototype.unpressButton = function(){\n    this.buttonPressed_ = false;\n    this.menu.unlockShowing();\n    this.el_.setAttribute('aria-pressed', false);\n  };\n\n  /**\n   * Main player class. A player instance is returned by _V_(id);\n   * @param {Element} tag        The original video tag used for configuring options\n   * @param {Object=} options    Player options\n   * @param {Function=} ready    Ready callback function\n   * @constructor\n   */\n  vjs.Player = vjs.Component.extend({\n    /** @constructor */\n    init: function(tag, options, ready){\n      this.tag = tag; // Store the original tag used to set options\n\n      // Set Options\n      // The options argument overrides options set in the video tag\n      // which overrides globally set options.\n      // This latter part coincides with the load order\n      // (tag must exist before Player)\n      options = vjs.obj.merge(this.getTagSettings(tag), options);\n\n      // Cache for video property values.\n      this.cache_ = {};\n\n      // Set poster\n      this.poster_ = options['poster'];\n      // Set controls\n      this.controls_ = options['controls'];\n      // Use native controls for iOS and Android by default\n      //  until controls are more stable on those devices.\n      if (options['customControlsOnMobile'] !== true && (vjs.IS_IOS || vjs.IS_ANDROID)) {\n        tag.controls = options['controls'];\n        this.controls_ = false;\n      } else {\n        // Original tag settings stored in options\n        // now remove immediately so native controls don't flash.\n        tag.controls = false;\n      }\n\n      // Run base component initializing with new options.\n      // Builds the element through createEl()\n      // Inits and embeds any child components in opts\n      vjs.Component.call(this, this, options, ready);\n\n      // Firstplay event implimentation. Not sold on the event yet.\n      // Could probably just check currentTime==0?\n      this.one('play', function(e){\n        var fpEvent = { type: 'firstplay', target: this.el_ };\n        // Using vjs.trigger so we can check if default was prevented\n        var keepGoing = vjs.trigger(this.el_, fpEvent);\n\n        if (!keepGoing) {\n          e.preventDefault();\n          e.stopPropagation();\n          e.stopImmediatePropagation();\n        }\n      });\n\n      this.on('ended', this.onEnded);\n      this.on('play', this.onPlay);\n      this.on('firstplay', this.onFirstPlay);\n      this.on('pause', this.onPause);\n      this.on('progress', this.onProgress);\n      this.on('durationchange', this.onDurationChange);\n      this.on('error', this.onError);\n      this.on('fullscreenchange', this.onFullscreenChange);\n\n      // Make player easily findable by ID\n      vjs.players[this.id_] = this;\n\n      if (options['plugins']) {\n        vjs.obj.each(options['plugins'], function(key, val){\n          this[key](val);\n        }, this);\n      }\n    }\n  });\n\n  /**\n   * Player instance options, surfaced using vjs.options\n   * vjs.options = vjs.Player.prototype.options_\n   * Make changes in vjs.options, not here.\n   * All options should use string keys so they avoid\n   * renaming by closure compiler\n   * @type {Object}\n   * @private\n   */\n  vjs.Player.prototype.options_ = vjs.options;\n\n  vjs.Player.prototype.dispose = function(){\n    // this.isReady_ = false;\n\n    // Kill reference to this player\n    vjs.players[this.id_] = null;\n    if (this.tag && this.tag['player']) { this.tag['player'] = null; }\n    if (this.el_ && this.el_['player']) { this.el_['player'] = null; }\n\n    // Ensure that tracking progress and time progress will stop and plater deleted\n    this.stopTrackingProgress();\n    this.stopTrackingCurrentTime();\n\n    if (this.tech) { this.tech.dispose(); }\n\n    // Component dispose\n    vjs.Component.prototype.dispose.call(this);\n  };\n\n  vjs.Player.prototype.getTagSettings = function(tag){\n    var options = {\n      'sources': [],\n      'tracks': []\n    };\n\n    vjs.obj.merge(options, vjs.getAttributeValues(tag));\n\n    // Get tag children settings\n    if (tag.hasChildNodes()) {\n      var child, childName,\n          children = tag.childNodes,\n          i = 0,\n          j = children.length;\n\n      for (; i < j; i++) {\n        child = children[i];\n        // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n        childName = child.nodeName.toLowerCase();\n\n        if (childName === 'source') {\n          options['sources'].push(vjs.getAttributeValues(child));\n\n        } else if (childName === 'track') {\n          options['tracks'].push(vjs.getAttributeValues(child));\n\n        }\n      }\n    }\n\n    return options;\n  };\n\n  vjs.Player.prototype.createEl = function(){\n    var el = this.el_ = vjs.Component.prototype.createEl.call(this, 'div');\n    var tag = this.tag;\n\n    // Remove width/height attrs from tag so CSS can make it 100% width/height\n    tag.removeAttribute('width');\n    tag.removeAttribute('height');\n    // Empty video tag sources and tracks so the built-in player doesn't use them also.\n    // This may not be fast enough to stop HTML5 browsers from reading the tags\n    // so we'll need to turn off any default tracks if we're manually doing\n    // captions and subtitles. videoElement.textTracks\n    if (tag.hasChildNodes()) {\n      var nrOfChildNodes = tag.childNodes.length;\n      for (var i=0,j=tag.childNodes;i<nrOfChildNodes;i++) {\n        if (j[0].nodeName.toLowerCase() == 'source' || j[0].nodeName.toLowerCase() == 'track') {\n          tag.removeChild(j[0]);\n        }\n      }\n    }\n\n    // Make sure tag ID exists\n    tag.id = tag.id || 'vjs_video_' + vjs.guid++;\n\n    // Give video tag ID and class to player div\n    // ID will now reference player box, not the video tag\n    el.id = tag.id;\n    el.className = tag.className;\n\n    // Update tag id/class for use as HTML5 playback tech\n    // Might think we should do this after embedding in container so .vjs-tech class\n    // doesn't flash 100% width/height, but class only applies with .video-js parent\n    tag.id += '_html5_api';\n    tag.className = 'vjs-tech';\n\n    // Make player findable on elements\n    tag['player'] = el['player'] = this;\n    // Default state of video is paused\n    this.addClass('vjs-paused');\n\n    // Make box use width/height of tag, or rely on default implementation\n    // Enforce with CSS since width/height attrs don't work on divs\n    this.width(this.options_['width'], true); // (true) Skip resize listener on load\n    this.height(this.options_['height'], true);\n\n    // Wrap video tag in div (el/box) container\n    if (tag.parentNode) {\n      tag.parentNode.insertBefore(el, tag);\n    }\n    vjs.insertFirst(tag, el); // Breaks iPhone, fixed in HTML5 setup.\n\n    return el;\n  };\n\n  // /* Media Technology (tech)\n  // ================================================================================ */\n  // Load/Create an instance of playback technlogy including element and API methods\n  // And append playback element in player div.\n  vjs.Player.prototype.loadTech = function(techName, source){\n\n    // Pause and remove current playback technology\n    if (this.tech) {\n      this.unloadTech();\n\n    // If the first time loading, HTML5 tag will exist but won't be initialized\n    // So we need to remove it if we're not loading HTML5\n    } else if (techName !== 'Html5' && this.tag) {\n      this.el_.removeChild(this.tag);\n      this.tag.player = null;\n      this.tag = null;\n    }\n\n    this.techName = techName;\n\n    // Turn off API access because we're loading a new tech that might load asynchronously\n    this.isReady_ = false;\n\n    var techReady = function(){\n      this.player_.triggerReady();\n\n      // Manually track progress in cases where the browser/flash player doesn't report it.\n      if (!this.features.progressEvents) {\n        this.player_.manualProgressOn();\n      }\n\n      // Manually track timeudpates in cases where the browser/flash player doesn't report it.\n      if (!this.features.timeupdateEvents) {\n        this.player_.manualTimeUpdatesOn();\n      }\n    };\n\n    // Grab tech-specific options from player options and add source and parent element to use.\n    var techOptions = vjs.obj.merge({ 'source': source, 'parentEl': this.el_ }, this.options_[techName.toLowerCase()]);\n\n    if (source) {\n      if (source.src == this.cache_.src && this.cache_.currentTime > 0) {\n        techOptions['startTime'] = this.cache_.currentTime;\n      }\n\n      this.cache_.src = source.src;\n    }\n\n    // Initialize tech instance\n    this.tech = new vjs[techName](this, techOptions);\n\n    this.tech.ready(techReady);\n  };\n\n  vjs.Player.prototype.unloadTech = function(){\n    this.isReady_ = false;\n    this.tech.dispose();\n\n    // Turn off any manual progress or timeupdate tracking\n    if (this.manualProgress) { this.manualProgressOff(); }\n\n    if (this.manualTimeUpdates) { this.manualTimeUpdatesOff(); }\n\n    this.tech = false;\n  };\n\n  // There's many issues around changing the size of a Flash (or other plugin) object.\n  // First is a plugin reload issue in Firefox that has been around for 11 years: https://bugzilla.mozilla.org/show_bug.cgi?id=90268\n  // Then with the new fullscreen API, Mozilla and webkit browsers will reload the flash object after going to fullscreen.\n  // To get around this, we're unloading the tech, caching source and currentTime values, and reloading the tech once the plugin is resized.\n  // reloadTech: function(betweenFn){\n  //   vjs.log('unloadingTech')\n  //   this.unloadTech();\n  //   vjs.log('unloadedTech')\n  //   if (betweenFn) { betweenFn.call(); }\n  //   vjs.log('LoadingTech')\n  //   this.loadTech(this.techName, { src: this.cache_.src })\n  //   vjs.log('loadedTech')\n  // },\n\n  /* Fallbacks for unsupported event types\n  ================================================================================ */\n  // Manually trigger progress events based on changes to the buffered amount\n  // Many flash players and older HTML5 browsers don't send progress or progress-like events\n  vjs.Player.prototype.manualProgressOn = function(){\n    this.manualProgress = true;\n\n    // Trigger progress watching when a source begins loading\n    this.trackProgress();\n\n    // Watch for a native progress event call on the tech element\n    // In HTML5, some older versions don't support the progress event\n    // So we're assuming they don't, and turning off manual progress if they do.\n    // As opposed to doing user agent detection\n    this.tech.one('progress', function(){\n\n      // Update known progress support for this playback technology\n      this.features.progressEvents = true;\n\n      // Turn off manual progress tracking\n      this.player_.manualProgressOff();\n    });\n  };\n\n  vjs.Player.prototype.manualProgressOff = function(){\n    this.manualProgress = false;\n    this.stopTrackingProgress();\n  };\n\n  vjs.Player.prototype.trackProgress = function(){\n\n    this.progressInterval = setInterval(vjs.bind(this, function(){\n      // Don't trigger unless buffered amount is greater than last time\n      // log(this.cache_.bufferEnd, this.buffered().end(0), this.duration())\n      /* TODO: update for multiple buffered regions */\n      if (this.cache_.bufferEnd < this.buffered().end(0)) {\n        this.trigger('progress');\n      } else if (this.bufferedPercent() == 1) {\n        this.stopTrackingProgress();\n        this.trigger('progress'); // Last update\n      }\n    }), 500);\n  };\n  vjs.Player.prototype.stopTrackingProgress = function(){ clearInterval(this.progressInterval); };\n\n  /* Time Tracking -------------------------------------------------------------- */\n  vjs.Player.prototype.manualTimeUpdatesOn = function(){\n    this.manualTimeUpdates = true;\n\n    this.on('play', this.trackCurrentTime);\n    this.on('pause', this.stopTrackingCurrentTime);\n    // timeupdate is also called by .currentTime whenever current time is set\n\n    // Watch for native timeupdate event\n    this.tech.one('timeupdate', function(){\n      // Update known progress support for this playback technology\n      this.features.timeupdateEvents = true;\n      // Turn off manual progress tracking\n      this.player_.manualTimeUpdatesOff();\n    });\n  };\n\n  vjs.Player.prototype.manualTimeUpdatesOff = function(){\n    this.manualTimeUpdates = false;\n    this.stopTrackingCurrentTime();\n    this.off('play', this.trackCurrentTime);\n    this.off('pause', this.stopTrackingCurrentTime);\n  };\n\n  vjs.Player.prototype.trackCurrentTime = function(){\n    if (this.currentTimeInterval) { this.stopTrackingCurrentTime(); }\n    this.currentTimeInterval = setInterval(vjs.bind(this, function(){\n      this.trigger('timeupdate');\n    }), 250); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n  };\n\n  // Turn off play progress tracking (when paused or dragging)\n  vjs.Player.prototype.stopTrackingCurrentTime = function(){ clearInterval(this.currentTimeInterval); };\n\n  // /* Player event handlers (how the player reacts to certain events)\n  // ================================================================================ */\n  vjs.Player.prototype.onEnded = function(){\n    if (this.options_['loop']) {\n      this.currentTime(0);\n      this.play();\n    }\n  };\n\n  vjs.Player.prototype.onPlay = function(){\n    vjs.removeClass(this.el_, 'vjs-paused');\n    vjs.addClass(this.el_, 'vjs-playing');\n  };\n\n  vjs.Player.prototype.onFirstPlay = function(){\n      //If the first starttime attribute is specified\n      //then we will start at the given offset in seconds\n      if(this.options_['starttime']){\n        this.currentTime(this.options_['starttime']);\n      }\n  };\n\n  vjs.Player.prototype.onPause = function(){\n    vjs.removeClass(this.el_, 'vjs-playing');\n    vjs.addClass(this.el_, 'vjs-paused');\n  };\n\n  vjs.Player.prototype.onProgress = function(){\n    // Add custom event for when source is finished downloading.\n    if (this.bufferedPercent() == 1) {\n      this.trigger('loadedalldata');\n    }\n  };\n\n  // Update duration with durationchange event\n  // Allows for cacheing value instead of asking player each time.\n  vjs.Player.prototype.onDurationChange = function(){\n    this.duration(this.techGet('duration'));\n  };\n\n  vjs.Player.prototype.onError = function(e) {\n    vjs.log('Video Error', e);\n  };\n\n  vjs.Player.prototype.onFullscreenChange = function() {\n    if (this.isFullScreen) {\n      this.addClass('vjs-fullscreen');\n    } else {\n      this.removeClass('vjs-fullscreen');\n    }\n  };\n\n  // /* Player API\n  // ================================================================================ */\n\n  /**\n   * Object for cached values.\n   * @private\n   */\n  vjs.Player.prototype.cache_;\n\n  vjs.Player.prototype.getCache = function(){\n    return this.cache_;\n  };\n\n  // Pass values to the playback tech\n  vjs.Player.prototype.techCall = function(method, arg){\n    // If it's not ready yet, call method when it is\n    if (this.tech && this.tech.isReady_) {\n      this.tech.ready(function(){\n        this[method](arg);\n      });\n\n    // Otherwise call method now\n    } else {\n      try {\n        this.tech[method](arg);\n      } catch(e) {\n        vjs.log(e);\n        throw e;\n      }\n    }\n  };\n\n  // Get calls can't wait for the tech, and sometimes don't need to.\n  vjs.Player.prototype.techGet = function(method){\n\n    // Make sure there is a tech\n    if (!this.tech) {\n      return;\n    }\n\n    if (this.tech.isReady_) {\n\n      // Flash likes to die and reload when you hide or reposition it.\n      // In these cases the object methods go away and we get errors.\n      // When that happens we'll catch the errors and inform tech that it's not ready any more.\n      try {\n        return this.tech[method]();\n      } catch(e) {\n        // When building additional tech libs, an expected method may not be defined yet\n        if (this.tech[method] === undefined) {\n          vjs.log('Video.js: ' + method + ' method not defined for '+this.techName+' playback technology.', e);\n        } else {\n          // When a method isn't available on the object it throws a TypeError\n          if (e.name == 'TypeError') {\n            vjs.log('Video.js: ' + method + ' unavailable on '+this.techName+' playback technology element.', e);\n            this.tech.isReady_ = false;\n          } else {\n            vjs.log(e);\n          }\n        }\n        throw e;\n      }\n    }\n\n    return;\n  };\n\n  /**\n   * Start media playback\n   * http://dev.w3.org/html5/spec/video.html#dom-media-play\n   * We're triggering the 'play' event here instead of relying on the\n   * media element to allow using event.preventDefault() to stop\n   * play from happening if desired. Usecase: preroll ads.\n   */\n  vjs.Player.prototype.play = function(){\n    this.techCall('play');\n    return this;\n  };\n\n  // http://dev.w3.org/html5/spec/video.html#dom-media-pause\n  vjs.Player.prototype.pause = function(){\n    this.techCall('pause');\n    return this;\n  };\n\n  // http://dev.w3.org/html5/spec/video.html#dom-media-paused\n  // The initial state of paused should be true (in Safari it's actually false)\n  vjs.Player.prototype.paused = function(){\n    return (this.techGet('paused') === false) ? false : true;\n  };\n\n  // http://dev.w3.org/html5/spec/video.html#dom-media-currenttime\n  vjs.Player.prototype.currentTime = function(seconds){\n    if (seconds !== undefined) {\n\n      // Cache the last set value for smoother scrubbing.\n      this.cache_.lastSetCurrentTime = seconds;\n\n      this.techCall('setCurrentTime', seconds);\n\n      // Improve the accuracy of manual timeupdates\n      if (this.manualTimeUpdates) { this.trigger('timeupdate'); }\n\n      return this;\n    }\n\n    // Cache last currentTime and return\n    // Default to 0 seconds\n    return this.cache_.currentTime = (this.techGet('currentTime') || 0);\n  };\n\n  // http://dev.w3.org/html5/spec/video.html#dom-media-duration\n  // Duration should return NaN if not available. ParseFloat will turn false-ish values to NaN.\n  vjs.Player.prototype.duration = function(seconds){\n    if (seconds !== undefined) {\n\n      // Cache the last set value for optimiized scrubbing (esp. Flash)\n      this.cache_.duration = parseFloat(seconds);\n\n      return this;\n    }\n\n    return this.cache_.duration;\n  };\n\n  // Calculates how much time is left. Not in spec, but useful.\n  vjs.Player.prototype.remainingTime = function(){\n    return this.duration() - this.currentTime();\n  };\n\n  // http://dev.w3.org/html5/spec/video.html#dom-media-buffered\n  // Buffered returns a timerange object.\n  // Kind of like an array of portions of the video that have been downloaded.\n  // So far no browsers return more than one range (portion)\n  vjs.Player.prototype.buffered = function(){\n    var buffered = this.techGet('buffered'),\n        start = 0,\n        // Default end to 0 and store in values\n        end = this.cache_.bufferEnd = this.cache_.bufferEnd || 0;\n\n    if (buffered && buffered.length > 0 && buffered.end(0) !== end) {\n      end = buffered.end(0);\n      // Storing values allows them be overridden by setBufferedFromProgress\n      this.cache_.bufferEnd = end;\n    }\n\n    return vjs.createTimeRange(start, end);\n  };\n\n  // Calculates amount of buffer is full. Not in spec but useful.\n  vjs.Player.prototype.bufferedPercent = function(){\n    return (this.duration()) ? this.buffered().end(0) / this.duration() : 0;\n  };\n\n  // http://dev.w3.org/html5/spec/video.html#dom-media-volume\n  vjs.Player.prototype.volume = function(percentAsDecimal){\n    var vol;\n\n    if (percentAsDecimal !== undefined) {\n      vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal))); // Force value to between 0 and 1\n      this.cache_.volume = vol;\n      this.techCall('setVolume', vol);\n      vjs.setLocalStorage('volume', vol);\n      return this;\n    }\n\n    // Default to 1 when returning current volume.\n    vol = parseFloat(this.techGet('volume'));\n    return (isNaN(vol)) ? 1 : vol;\n  };\n\n  // http://dev.w3.org/html5/spec/video.html#attr-media-muted\n  vjs.Player.prototype.muted = function(muted){\n    if (muted !== undefined) {\n      this.techCall('setMuted', muted);\n      return this;\n    }\n    return this.techGet('muted') || false; // Default to false\n  };\n\n  // Check if current tech can support native fullscreen (e.g. with built in controls lik iOS, so not our flash swf)\n  vjs.Player.prototype.supportsFullScreen = function(){ return this.techGet('supportsFullScreen') || false; };\n\n  // Turn on fullscreen (or window) mode\n  vjs.Player.prototype.requestFullScreen = function(){\n    var requestFullScreen = vjs.support.requestFullScreen;\n    this.isFullScreen = true;\n\n    if (requestFullScreen) {\n      // the browser supports going fullscreen at the element level so we can\n      // take the controls fullscreen as well as the video\n\n      // Trigger fullscreenchange event after change\n      // We have to specifically add this each time, and remove\n      // when cancelling fullscreen. Otherwise if there's multiple\n      // players on a page, they would all be reacting to the same fullscreen\n      // events\n      vjs.on(document, requestFullScreen.eventName, vjs.bind(this, function(e){\n        this.isFullScreen = document[requestFullScreen.isFullScreen];\n\n        // If cancelling fullscreen, remove event listener.\n        if (this.isFullScreen === false) {\n          vjs.off(document, requestFullScreen.eventName, arguments.callee);\n        }\n\n        this.trigger('fullscreenchange');\n      }));\n\n      this.el_[requestFullScreen.requestFn]();\n\n    } else if (this.tech.supportsFullScreen()) {\n      // we can't take the video.js controls fullscreen but we can go fullscreen\n      // with native controls\n      this.techCall('enterFullScreen');\n    } else {\n      // fullscreen isn't supported so we'll just stretch the video element to\n      // fill the viewport\n      this.enterFullWindow();\n      this.trigger('fullscreenchange');\n    }\n\n    return this;\n  };\n\n  vjs.Player.prototype.cancelFullScreen = function(){\n    var requestFullScreen = vjs.support.requestFullScreen;\n    this.isFullScreen = false;\n\n    // Check for browser element fullscreen support\n    if (requestFullScreen) {\n      document[requestFullScreen.cancelFn]();\n    } else if (this.tech.supportsFullScreen()) {\n     this.techCall('exitFullScreen');\n    } else {\n     this.exitFullWindow();\n     this.trigger('fullscreenchange');\n    }\n\n    return this;\n  };\n\n  // When fullscreen isn't supported we can stretch the video container to as wide as the browser will let us.\n  vjs.Player.prototype.enterFullWindow = function(){\n    this.isFullWindow = true;\n\n    // Storing original doc overflow value to return to when fullscreen is off\n    this.docOrigOverflow = document.documentElement.style.overflow;\n\n    // Add listener for esc key to exit fullscreen\n    vjs.on(document, 'keydown', vjs.bind(this, this.fullWindowOnEscKey));\n\n    // Hide any scroll bars\n    document.documentElement.style.overflow = 'hidden';\n\n    // Apply fullscreen styles\n    vjs.addClass(document.body, 'vjs-full-window');\n\n    this.trigger('enterFullWindow');\n  };\n  vjs.Player.prototype.fullWindowOnEscKey = function(event){\n    if (event.keyCode === 27) {\n      if (this.isFullScreen === true) {\n        this.cancelFullScreen();\n      } else {\n        this.exitFullWindow();\n      }\n    }\n  };\n\n  vjs.Player.prototype.exitFullWindow = function(){\n    this.isFullWindow = false;\n    vjs.off(document, 'keydown', this.fullWindowOnEscKey);\n\n    // Unhide scroll bars.\n    document.documentElement.style.overflow = this.docOrigOverflow;\n\n    // Remove fullscreen styles\n    vjs.removeClass(document.body, 'vjs-full-window');\n\n    // Resize the box, controller, and poster to original sizes\n    // this.positionAll();\n    this.trigger('exitFullWindow');\n  };\n\n  vjs.Player.prototype.selectSource = function(sources){\n\n    // Loop through each playback technology in the options order\n    for (var i=0,j=this.options_['techOrder'];i<j.length;i++) {\n      var techName = vjs.capitalize(j[i]),\n          tech = vjs[techName];\n\n      // Check if the browser supports this technology\n      if (tech.isSupported()) {\n        // Loop through each source object\n        for (var a=0,b=sources;a<b.length;a++) {\n          var source = b[a];\n\n          // Check if source can be played with this technology\n          if (tech['canPlaySource'](source)) {\n            return { source: source, tech: techName };\n          }\n        }\n      }\n    }\n\n    return false;\n  };\n\n  // src is a pretty powerful function\n  // If you pass it an array of source objects, it will find the best source to play and use that object.src\n  //   If the new source requires a new playback technology, it will switch to that.\n  // If you pass it an object, it will set the source to object.src\n  // If you pass it anything else (url string) it will set the video source to that\n  vjs.Player.prototype.src = function(source){\n    // Case: Array of source objects to choose from and pick the best to play\n    if (source instanceof Array) {\n\n      var sourceTech = this.selectSource(source),\n          techName;\n\n      if (sourceTech) {\n          source = sourceTech.source;\n          techName = sourceTech.tech;\n\n        // If this technology is already loaded, set source\n        if (techName == this.techName) {\n          this.src(source); // Passing the source object\n        // Otherwise load this technology with chosen source\n        } else {\n          this.loadTech(techName, source);\n        }\n      } else {\n        this.el_.appendChild(vjs.createEl('p', {\n          innerHTML: 'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href=\"http://bit.ly/ccMUEC\">Chrome</a> or download the latest <a href=\"http://adobe.ly/mwfN1\">Adobe Flash Player</a>.'\n        }));\n      }\n\n    // Case: Source object { src: '', type: '' ... }\n    } else if (source instanceof Object) {\n\n      if (vjs[this.techName]['canPlaySource'](source)) {\n        this.src(source.src);\n      } else {\n        // Send through tech loop to check for a compatible technology.\n        this.src([source]);\n      }\n\n    // Case: URL String (http://myvideo...)\n    } else {\n      // Cache for getting last set source\n      this.cache_.src = source;\n\n      if (!this.isReady_) {\n        this.ready(function(){\n          this.src(source);\n        });\n      } else {\n        this.techCall('src', source);\n        if (this.options_['preload'] == 'auto') {\n          this.load();\n        }\n        if (this.options_['autoplay']) {\n          this.play();\n        }\n      }\n    }\n    return this;\n  };\n\n  // Begin loading the src data\n  // http://dev.w3.org/html5/spec/video.html#dom-media-load\n  vjs.Player.prototype.load = function(){\n    this.techCall('load');\n    return this;\n  };\n\n  // http://dev.w3.org/html5/spec/video.html#dom-media-currentsrc\n  vjs.Player.prototype.currentSrc = function(){\n    return this.techGet('currentSrc') || this.cache_.src || '';\n  };\n\n  // Attributes/Options\n  vjs.Player.prototype.preload = function(value){\n    if (value !== undefined) {\n      this.techCall('setPreload', value);\n      this.options_['preload'] = value;\n      return this;\n    }\n    return this.techGet('preload');\n  };\n  vjs.Player.prototype.autoplay = function(value){\n    if (value !== undefined) {\n      this.techCall('setAutoplay', value);\n      this.options_['autoplay'] = value;\n      return this;\n    }\n    return this.techGet('autoplay', value);\n  };\n  vjs.Player.prototype.loop = function(value){\n    if (value !== undefined) {\n      this.techCall('setLoop', value);\n      this.options_['loop'] = value;\n      return this;\n    }\n    return this.techGet('loop');\n  };\n\n  /**\n   * The url of the poster image source.\n   * @type {String}\n   * @private\n   */\n  vjs.Player.prototype.poster_;\n\n  /**\n   * Get or set the poster image source url.\n   * @param  {String} src Poster image source URL\n   * @return {String}    Poster image source URL or null\n   */\n  vjs.Player.prototype.poster = function(src){\n    if (src !== undefined) {\n      this.poster_ = src;\n    }\n    return this.poster_;\n  };\n\n  /**\n   * Whether or not the controls are showing\n   * @type {Boolean}\n   * @private\n   */\n  vjs.Player.prototype.controls_;\n\n  /**\n   * Get or set whether or not the controls are showing.\n   * @param  {Boolean} controls Set controls to showing or not\n   * @return {Boolean}    Controls are showing\n   */\n  vjs.Player.prototype.controls = function(controls){\n    if (controls !== undefined) {\n      // Don't trigger a change event unless it actually changed\n      if (this.controls_ !== controls) {\n        this.controls_ = !!controls; // force boolean\n        this.trigger('controlschange');\n      }\n    }\n    return this.controls_;\n  };\n\n  vjs.Player.prototype.error = function(){ return this.techGet('error'); };\n  vjs.Player.prototype.ended = function(){ return this.techGet('ended'); };\n\n  // Methods to add support for\n  // networkState: function(){ return this.techCall('networkState'); },\n  // readyState: function(){ return this.techCall('readyState'); },\n  // seeking: function(){ return this.techCall('seeking'); },\n  // initialTime: function(){ return this.techCall('initialTime'); },\n  // startOffsetTime: function(){ return this.techCall('startOffsetTime'); },\n  // played: function(){ return this.techCall('played'); },\n  // seekable: function(){ return this.techCall('seekable'); },\n  // videoTracks: function(){ return this.techCall('videoTracks'); },\n  // audioTracks: function(){ return this.techCall('audioTracks'); },\n  // videoWidth: function(){ return this.techCall('videoWidth'); },\n  // videoHeight: function(){ return this.techCall('videoHeight'); },\n  // defaultPlaybackRate: function(){ return this.techCall('defaultPlaybackRate'); },\n  // playbackRate: function(){ return this.techCall('playbackRate'); },\n  // mediaGroup: function(){ return this.techCall('mediaGroup'); },\n  // controller: function(){ return this.techCall('controller'); },\n  // defaultMuted: function(){ return this.techCall('defaultMuted'); }\n\n  // TODO\n  // currentSrcList: the array of sources including other formats and bitrates\n  // playList: array of source lists in order of playback\n\n  // RequestFullscreen API\n  (function(){\n    var prefix, requestFS, div;\n\n    div = document.createElement('div');\n\n    requestFS = {};\n\n    // Current W3C Spec\n    // http://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html#api\n    // Mozilla Draft: https://wiki.mozilla.org/Gecko:FullScreenAPI#fullscreenchange_event\n    // New: https://dvcs.w3.org/hg/fullscreen/raw-file/529a67b8d9f3/Overview.html\n    if (div.cancelFullscreen !== undefined) {\n      requestFS.requestFn = 'requestFullscreen';\n      requestFS.cancelFn = 'exitFullscreen';\n      requestFS.eventName = 'fullscreenchange';\n      requestFS.isFullScreen = 'fullScreen';\n\n    // Webkit (Chrome/Safari) and Mozilla (Firefox) have working implementations\n    // that use prefixes and vary slightly from the new W3C spec. Specifically,\n    // using 'exit' instead of 'cancel', and lowercasing the 'S' in Fullscreen.\n    // Other browsers don't have any hints of which version they might follow yet,\n    // so not going to try to predict by looping through all prefixes.\n    } else {\n\n      if (document.mozCancelFullScreen) {\n        prefix = 'moz';\n        requestFS.isFullScreen = prefix + 'FullScreen';\n      } else {\n        prefix = 'webkit';\n        requestFS.isFullScreen = prefix + 'IsFullScreen';\n      }\n\n      if (div[prefix + 'RequestFullScreen']) {\n        requestFS.requestFn = prefix + 'RequestFullScreen';\n        requestFS.cancelFn = prefix + 'CancelFullScreen';\n      }\n      requestFS.eventName = prefix + 'fullscreenchange';\n    }\n\n    if (document[requestFS.cancelFn]) {\n      vjs.support.requestFullScreen = requestFS;\n    }\n\n  })();\n  /**\n   * Container of main controls\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.ControlBar = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      if (!player.controls()) {\n        this.disable();\n      }\n\n      player.one('play', vjs.bind(this, function(){\n        var touchstart,\n          fadeIn = vjs.bind(this, this.fadeIn),\n          fadeOut = vjs.bind(this, this.fadeOut);\n\n        this.fadeOut();\n\n        if ( !('ontouchstart' in window) ) {\n          this.player_.on('mouseover', fadeIn);\n          this.player_.on('mouseout', fadeOut);\n          this.player_.on('pause', vjs.bind(this, this.lockShowing));\n          this.player_.on('play', vjs.bind(this, this.unlockShowing));\n        }\n\n        touchstart = false;\n        this.player_.on('touchstart', function() {\n          touchstart = true;\n        });\n        this.player_.on('touchmove', function() {\n          touchstart = false;\n        });\n        this.player_.on('touchend', vjs.bind(this, function(event) {\n          var idx;\n          if (touchstart) {\n            idx = this.el().className.search('fade-in');\n            if (idx !== -1) {\n              this.fadeOut();\n            } else {\n              this.fadeIn();\n            }\n          }\n          touchstart = false;\n\n          if (!this.player_.paused()) {\n            event.preventDefault();\n          }\n        }));\n      }));\n    }\n  });\n\n  vjs.ControlBar.prototype.options_ = {\n    loadEvent: 'play',\n    children: {\n      'playToggle': {},\n      'currentTimeDisplay': {},\n      'timeDivider': {},\n      'durationDisplay': {},\n      'remainingTimeDisplay': {},\n      'progressControl': {},\n      'fullscreenToggle': {},\n      'volumeControl': {},\n      'muteToggle': {}\n      // 'volumeMenuButton': {}\n    }\n  };\n\n  vjs.ControlBar.prototype.createEl = function(){\n    return vjs.createEl('div', {\n      className: 'vjs-control-bar'\n    });\n  };\n\n  vjs.ControlBar.prototype.fadeIn = function(){\n    vjs.Component.prototype.fadeIn.call(this);\n    this.player_.trigger('controlsvisible');\n  };\n\n  vjs.ControlBar.prototype.fadeOut = function(){\n    vjs.Component.prototype.fadeOut.call(this);\n    this.player_.trigger('controlshidden');\n  };/**\n   * Button to toggle between play and pause\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.PlayToggle = vjs.Button.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Button.call(this, player, options);\n\n      player.on('play', vjs.bind(this, this.onPlay));\n      player.on('pause', vjs.bind(this, this.onPause));\n    }\n  });\n\n  vjs.PlayToggle.prototype.buttonText = 'Play';\n\n  vjs.PlayToggle.prototype.buildCSSClass = function(){\n    return 'vjs-play-control ' + vjs.Button.prototype.buildCSSClass.call(this);\n  };\n\n    // OnClick - Toggle between play and pause\n  vjs.PlayToggle.prototype.onClick = function(){\n    if (this.player_.paused()) {\n      this.player_.play();\n    } else {\n      this.player_.pause();\n    }\n  };\n\n    // OnPlay - Add the vjs-playing class to the element so it can change appearance\n  vjs.PlayToggle.prototype.onPlay = function(){\n    vjs.removeClass(this.el_, 'vjs-paused');\n    vjs.addClass(this.el_, 'vjs-playing');\n    this.el_.children[0].children[0].innerHTML = 'Pause'; // change the button text to \"Pause\"\n  };\n\n    // OnPause - Add the vjs-paused class to the element so it can change appearance\n  vjs.PlayToggle.prototype.onPause = function(){\n    vjs.removeClass(this.el_, 'vjs-playing');\n    vjs.addClass(this.el_, 'vjs-paused');\n    this.el_.children[0].children[0].innerHTML = 'Play'; // change the button text to \"Play\"\n  };/**\n   * Displays the current time\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.CurrentTimeDisplay = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      player.on('timeupdate', vjs.bind(this, this.updateContent));\n    }\n  });\n\n  vjs.CurrentTimeDisplay.prototype.createEl = function(){\n    var el = vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-current-time vjs-time-controls vjs-control'\n    });\n\n    this.content = vjs.createEl('div', {\n      className: 'vjs-current-time-display',\n      innerHTML: '<span class=\"vjs-control-text\">Current Time </span>' + '0:00', // label the current time for screen reader users\n      'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n    });\n\n    el.appendChild(vjs.createEl('div').appendChild(this.content));\n    return el;\n  };\n\n  vjs.CurrentTimeDisplay.prototype.updateContent = function(){\n    // Allows for smooth scrubbing, when player can't keep up.\n    var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n    this.content.innerHTML = '<span class=\"vjs-control-text\">Current Time </span>' + vjs.formatTime(time, this.player_.duration());\n  };\n\n  /**\n   * Displays the duration\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.DurationDisplay = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      player.on('timeupdate', vjs.bind(this, this.updateContent)); // this might need to be changes to 'durationchange' instead of 'timeupdate' eventually, however the durationchange event fires before this.player_.duration() is set, so the value cannot be written out using this method. Once the order of durationchange and this.player_.duration() being set is figured out, this can be updated.\n    }\n  });\n\n  vjs.DurationDisplay.prototype.createEl = function(){\n    var el = vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-duration vjs-time-controls vjs-control'\n    });\n\n    this.content = vjs.createEl('div', {\n      className: 'vjs-duration-display',\n      innerHTML: '<span class=\"vjs-control-text\">Duration Time </span>' + '0:00', // label the duration time for screen reader users\n      'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n    });\n\n    el.appendChild(vjs.createEl('div').appendChild(this.content));\n    return el;\n  };\n\n  vjs.DurationDisplay.prototype.updateContent = function(){\n    if (this.player_.duration()) {\n        this.content.innerHTML = '<span class=\"vjs-control-text\">Duration Time </span>' + vjs.formatTime(this.player_.duration()); // label the duration time for screen reader users\n    }\n  };\n\n  /**\n   * Time Separator (Not used in main skin, but still available, and could be used as a 'spare element')\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.TimeDivider = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n    }\n  });\n\n  vjs.TimeDivider.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-time-divider',\n      innerHTML: '<div><span>/</span></div>'\n    });\n  };\n\n  /**\n   * Displays the time left in the video\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.RemainingTimeDisplay = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      player.on('timeupdate', vjs.bind(this, this.updateContent));\n    }\n  });\n\n  vjs.RemainingTimeDisplay.prototype.createEl = function(){\n    var el = vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-remaining-time vjs-time-controls vjs-control'\n    });\n\n    this.content = vjs.createEl('div', {\n      className: 'vjs-remaining-time-display',\n      innerHTML: '<span class=\"vjs-control-text\">Remaining Time </span>' + '-0:00', // label the remaining time for screen reader users\n      'aria-live': 'off' // tell screen readers not to automatically read the time as it changes\n    });\n\n    el.appendChild(vjs.createEl('div').appendChild(this.content));\n    return el;\n  };\n\n  vjs.RemainingTimeDisplay.prototype.updateContent = function(){\n    if (this.player_.duration()) {\n        if (this.player_.duration()) {\n            this.content.innerHTML = '<span class=\"vjs-control-text\">Remaining Time </span>' + '-'+ vjs.formatTime(this.player_.remainingTime());\n        }\n    }\n\n    // Allows for smooth scrubbing, when player can't keep up.\n    // var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n    // this.content.innerHTML = vjs.formatTime(time, this.player_.duration());\n  };/**\n   * Toggle fullscreen video\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.FullscreenToggle = vjs.Button.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Button.call(this, player, options);\n    }\n  });\n\n  vjs.FullscreenToggle.prototype.buttonText = 'Fullscreen';\n\n  vjs.FullscreenToggle.prototype.buildCSSClass = function(){\n    return 'vjs-fullscreen-control ' + vjs.Button.prototype.buildCSSClass.call(this);\n  };\n\n  vjs.FullscreenToggle.prototype.onClick = function(){\n    if (!this.player_.isFullScreen) {\n      this.player_.requestFullScreen();\n      this.el_.children[0].children[0].innerHTML = 'Non-Fullscreen'; // change the button text to \"Non-Fullscreen\"\n    } else {\n      this.player_.cancelFullScreen();\n      this.el_.children[0].children[0].innerHTML = 'Fullscreen'; // change the button to \"Fullscreen\"\n    }\n  };/**\n   * Seek, Load Progress, and Play Progress\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.ProgressControl = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n    }\n  });\n\n  vjs.ProgressControl.prototype.options_ = {\n    children: {\n      'seekBar': {}\n    }\n  };\n\n  vjs.ProgressControl.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-progress-control vjs-control'\n    });\n  };\n\n  /**\n   * Seek Bar and holder for the progress bars\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.SeekBar = vjs.Slider.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Slider.call(this, player, options);\n      player.on('timeupdate', vjs.bind(this, this.updateARIAAttributes));\n      player.ready(vjs.bind(this, this.updateARIAAttributes));\n    }\n  });\n\n  vjs.SeekBar.prototype.options_ = {\n    children: {\n      'loadProgressBar': {},\n      'playProgressBar': {},\n      'seekHandle': {}\n    },\n    'barName': 'playProgressBar',\n    'handleName': 'seekHandle'\n  };\n\n  vjs.SeekBar.prototype.playerEvent = 'timeupdate';\n\n  vjs.SeekBar.prototype.createEl = function(){\n    return vjs.Slider.prototype.createEl.call(this, 'div', {\n      className: 'vjs-progress-holder',\n      'aria-label': 'video progress bar'\n    });\n  };\n\n  vjs.SeekBar.prototype.updateARIAAttributes = function(){\n      // Allows for smooth scrubbing, when player can't keep up.\n      var time = (this.player_.scrubbing) ? this.player_.getCache().currentTime : this.player_.currentTime();\n      this.el_.setAttribute('aria-valuenow',vjs.round(this.getPercent()*100, 2)); // machine readable value of progress bar (percentage complete)\n      this.el_.setAttribute('aria-valuetext',vjs.formatTime(time, this.player_.duration())); // human readable value of progress bar (time complete)\n  };\n\n  vjs.SeekBar.prototype.getPercent = function(){\n    return this.player_.currentTime() / this.player_.duration();\n  };\n\n  vjs.SeekBar.prototype.onMouseDown = function(event){\n    vjs.Slider.prototype.onMouseDown.call(this, event);\n\n    this.player_.scrubbing = true;\n\n    this.videoWasPlaying = !this.player_.paused();\n    this.player_.pause();\n  };\n\n  vjs.SeekBar.prototype.onMouseMove = function(event){\n    var newTime = this.calculateDistance(event) * this.player_.duration();\n\n    // Don't let video end while scrubbing.\n    if (newTime == this.player_.duration()) { newTime = newTime - 0.1; }\n\n    // Set new time (tell player to seek to new time)\n    this.player_.currentTime(newTime);\n  };\n\n  vjs.SeekBar.prototype.onMouseUp = function(event){\n    vjs.Slider.prototype.onMouseUp.call(this, event);\n\n    this.player_.scrubbing = false;\n    if (this.videoWasPlaying) {\n      this.player_.play();\n    }\n  };\n\n  vjs.SeekBar.prototype.stepForward = function(){\n    this.player_.currentTime(this.player_.currentTime() + 5); // more quickly fast forward for keyboard-only users\n  };\n\n  vjs.SeekBar.prototype.stepBack = function(){\n    this.player_.currentTime(this.player_.currentTime() - 5); // more quickly rewind for keyboard-only users\n  };\n\n\n  /**\n   * Shows load progres\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.LoadProgressBar = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n      player.on('progress', vjs.bind(this, this.update));\n    }\n  });\n\n  vjs.LoadProgressBar.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-load-progress',\n      innerHTML: '<span class=\"vjs-control-text\">Loaded: 0%</span>'\n    });\n  };\n\n  vjs.LoadProgressBar.prototype.update = function(){\n    if (this.el_.style) { this.el_.style.width = vjs.round(this.player_.bufferedPercent() * 100, 2) + '%'; }\n  };\n\n\n  /**\n   * Shows play progress\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.PlayProgressBar = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n    }\n  });\n\n  vjs.PlayProgressBar.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-play-progress',\n      innerHTML: '<span class=\"vjs-control-text\">Progress: 0%</span>'\n    });\n  };\n\n  /**\n   * SeekBar component includes play progress bar, and seek handle\n   * Needed so it can determine seek position based on handle position/size\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.SeekHandle = vjs.SliderHandle.extend();\n\n  /** @inheritDoc */\n  vjs.SeekHandle.prototype.defaultValue = '00:00';\n\n  /** @inheritDoc */\n  vjs.SeekHandle.prototype.createEl = function(){\n    return vjs.SliderHandle.prototype.createEl.call(this, 'div', {\n      className: 'vjs-seek-handle'\n    });\n  };/**\n   * Control the volume\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.VolumeControl = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      // hide volume controls when they're not supported by the current tech\n      if (player.tech && player.tech.features && player.tech.features.volumeControl === false) {\n        this.addClass('vjs-hidden');\n      }\n      player.on('loadstart', vjs.bind(this, function(){\n        if (player.tech.features && player.tech.features.volumeControl === false) {\n          this.addClass('vjs-hidden');\n        } else {\n          this.removeClass('vjs-hidden');\n        }\n      }));\n    }\n  });\n\n  vjs.VolumeControl.prototype.options_ = {\n    children: {\n      'volumeBar': {}\n    }\n  };\n\n  vjs.VolumeControl.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-volume-control vjs-control'\n    });\n  };\n\n  /**\n   * Contains volume level\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.VolumeBar = vjs.Slider.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Slider.call(this, player, options);\n      player.on('volumechange', vjs.bind(this, this.updateARIAAttributes));\n      player.ready(vjs.bind(this, this.updateARIAAttributes));\n      setTimeout(vjs.bind(this, this.update), 0); // update when elements is in DOM\n    }\n  });\n\n  vjs.VolumeBar.prototype.updateARIAAttributes = function(){\n    // Current value of volume bar as a percentage\n    this.el_.setAttribute('aria-valuenow',vjs.round(this.player_.volume()*100, 2));\n    this.el_.setAttribute('aria-valuetext',vjs.round(this.player_.volume()*100, 2)+'%');\n  };\n\n  vjs.VolumeBar.prototype.options_ = {\n    children: {\n      'volumeLevel': {},\n      'volumeHandle': {}\n    },\n    'barName': 'volumeLevel',\n    'handleName': 'volumeHandle'\n  };\n\n  vjs.VolumeBar.prototype.playerEvent = 'volumechange';\n\n  vjs.VolumeBar.prototype.createEl = function(){\n    return vjs.Slider.prototype.createEl.call(this, 'div', {\n      className: 'vjs-volume-bar',\n      'aria-label': 'volume level'\n    });\n  };\n\n  vjs.VolumeBar.prototype.onMouseMove = function(event) {\n    this.player_.volume(this.calculateDistance(event));\n  };\n\n  vjs.VolumeBar.prototype.getPercent = function(){\n    if (this.player_.muted()) {\n      return 0;\n    } else {\n      return this.player_.volume();\n    }\n  };\n\n  vjs.VolumeBar.prototype.stepForward = function(){\n    this.player_.volume(this.player_.volume() + 0.1);\n  };\n\n  vjs.VolumeBar.prototype.stepBack = function(){\n    this.player_.volume(this.player_.volume() - 0.1);\n  };\n\n  /**\n   * Shows volume level\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.VolumeLevel = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n    }\n  });\n\n  vjs.VolumeLevel.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-volume-level',\n      innerHTML: '<span class=\"vjs-control-text\"></span>'\n    });\n  };\n\n  /**\n   * Change volume level\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n   vjs.VolumeHandle = vjs.SliderHandle.extend();\n\n   /** @inheritDoc */\n   vjs.VolumeHandle.prototype.defaultValue = '00:00';\n\n   /** @inheritDoc */\n   vjs.VolumeHandle.prototype.createEl = function(){\n     return vjs.SliderHandle.prototype.createEl.call(this, 'div', {\n       className: 'vjs-volume-handle'\n     });\n   };/**\n   * Mute the audio\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.MuteToggle = vjs.Button.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Button.call(this, player, options);\n\n      player.on('volumechange', vjs.bind(this, this.update));\n\n      // hide mute toggle if the current tech doesn't support volume control\n      if (player.tech && player.tech.features && player.tech.features.volumeControl === false) {\n        this.addClass('vjs-hidden');\n      }\n      player.on('loadstart', vjs.bind(this, function(){\n        if (player.tech.features && player.tech.features.volumeControl === false) {\n          this.addClass('vjs-hidden');\n        } else {\n          this.removeClass('vjs-hidden');\n        }\n      }));\n    }\n  });\n\n  vjs.MuteToggle.prototype.createEl = function(){\n    return vjs.Button.prototype.createEl.call(this, 'div', {\n      className: 'vjs-mute-control vjs-control',\n      innerHTML: '<div><span class=\"vjs-control-text\">Mute</span></div>'\n    });\n  };\n\n  vjs.MuteToggle.prototype.onClick = function(){\n    this.player_.muted( this.player_.muted() ? false : true );\n  };\n\n  vjs.MuteToggle.prototype.update = function(){\n    var vol = this.player_.volume(),\n        level = 3;\n\n    if (vol === 0 || this.player_.muted()) {\n      level = 0;\n    } else if (vol < 0.33) {\n      level = 1;\n    } else if (vol < 0.67) {\n      level = 2;\n    }\n\n    // Don't rewrite the button text if the actual text doesn't change.\n    // This causes unnecessary and confusing information for screen reader users.\n    // This check is needed because this function gets called every time the volume level is changed.\n    if(this.player_.muted()){\n        if(this.el_.children[0].children[0].innerHTML!='Unmute'){\n            this.el_.children[0].children[0].innerHTML = 'Unmute'; // change the button text to \"Unmute\"\n        }\n    } else {\n        if(this.el_.children[0].children[0].innerHTML!='Mute'){\n            this.el_.children[0].children[0].innerHTML = 'Mute'; // change the button text to \"Mute\"\n        }\n    }\n\n    /* TODO improve muted icon classes */\n    for (var i = 0; i < 4; i++) {\n      vjs.removeClass(this.el_, 'vjs-vol-'+i);\n    }\n    vjs.addClass(this.el_, 'vjs-vol-'+level);\n  };/**\n   * Menu button with a popup for showing the volume slider.\n   * @constructor\n   */\n  vjs.VolumeMenuButton = vjs.MenuButton.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.MenuButton.call(this, player, options);\n\n      // Same listeners as MuteToggle\n      player.on('volumechange', vjs.bind(this, this.update));\n\n      // hide mute toggle if the current tech doesn't support volume control\n      if (player.tech && player.tech.features && player.tech.features.volumeControl === false) {\n        this.addClass('vjs-hidden');\n      }\n      player.on('loadstart', vjs.bind(this, function(){\n        if (player.tech.features && player.tech.features.volumeControl === false) {\n          this.addClass('vjs-hidden');\n        } else {\n          this.removeClass('vjs-hidden');\n        }\n      }));\n      this.addClass('vjs-menu-button');\n    }\n  });\n\n  vjs.VolumeMenuButton.prototype.createMenu = function(){\n    var menu = new vjs.Menu(this.player_, {\n      contentElType: 'div'\n    });\n    var vc = new vjs.VolumeBar(this.player_, vjs.obj.merge({vertical: true}, this.options_.volumeBar));\n    menu.addChild(vc);\n    return menu;\n  };\n\n  vjs.VolumeMenuButton.prototype.onClick = function(){\n    vjs.MuteToggle.prototype.onClick.call(this);\n    vjs.MenuButton.prototype.onClick.call(this);\n  };\n\n  vjs.VolumeMenuButton.prototype.createEl = function(){\n    return vjs.Button.prototype.createEl.call(this, 'div', {\n      className: 'vjs-volume-menu-button vjs-menu-button vjs-control',\n      innerHTML: '<div><span class=\"vjs-control-text\">Mute</span></div>'\n    });\n  };\n  vjs.VolumeMenuButton.prototype.update = vjs.MuteToggle.prototype.update;\n  /* Poster Image\n  ================================================================================ */\n  /**\n   * Poster image. Shows before the video plays.\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.PosterImage = vjs.Button.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Button.call(this, player, options);\n\n      if (!player.poster() || !player.controls()) {\n        this.hide();\n      }\n\n      player.on('play', vjs.bind(this, this.hide));\n    }\n  });\n\n  vjs.PosterImage.prototype.createEl = function(){\n    var el = vjs.createEl('div', {\n          className: 'vjs-poster',\n\n          // Don't want poster to be tabbable.\n          tabIndex: -1\n        }),\n        poster = this.player_.poster();\n\n    if (poster) {\n      if ('backgroundSize' in el.style) {\n        el.style.backgroundImage = 'url(\"' + poster + '\")';\n      } else {\n        el.appendChild(vjs.createEl('img', { src: poster }));\n      }\n    }\n\n    return el;\n  };\n\n  vjs.PosterImage.prototype.onClick = function(){\n    this.player_.play();\n  };\n  /* Loading Spinner\n  ================================================================================ */\n  /**\n   * Loading spinner for waiting events\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.LoadingSpinner = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      player.on('canplay', vjs.bind(this, this.hide));\n      player.on('canplaythrough', vjs.bind(this, this.hide));\n      player.on('playing', vjs.bind(this, this.hide));\n      player.on('seeked', vjs.bind(this, this.hide));\n\n      player.on('seeking', vjs.bind(this, this.show));\n\n      // in some browsers seeking does not trigger the 'playing' event,\n      // so we also need to trap 'seeked' if we are going to set a\n      // 'seeking' event\n      player.on('seeked', vjs.bind(this, this.hide));\n\n      player.on('error', vjs.bind(this, this.show));\n\n      // Not showing spinner on stalled any more. Browsers may stall and then not trigger any events that would remove the spinner.\n      // Checked in Chrome 16 and Safari 5.1.2. http://help.videojs.com/discussions/problems/883-why-is-the-download-progress-showing\n      // player.on('stalled', vjs.bind(this, this.show));\n\n      player.on('waiting', vjs.bind(this, this.show));\n    }\n  });\n\n  vjs.LoadingSpinner.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-loading-spinner'\n    });\n  };\n  /* Big Play Button\n  ================================================================================ */\n  /**\n   * Initial play button. Shows before the video has played.\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.BigPlayButton = vjs.Button.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Button.call(this, player, options);\n\n      if (!player.controls()) {\n        this.hide();\n      }\n\n      player.on('play', vjs.bind(this, this.hide));\n      // player.on('ended', vjs.bind(this, this.show));\n    }\n  });\n\n  vjs.BigPlayButton.prototype.createEl = function(){\n    return vjs.Button.prototype.createEl.call(this, 'div', {\n      className: 'vjs-big-play-button',\n      innerHTML: '<span></span>',\n      'aria-label': 'play video'\n    });\n  };\n\n  vjs.BigPlayButton.prototype.onClick = function(){\n    // Go back to the beginning if big play button is showing at the end.\n    // Have to check for current time otherwise it might throw a 'not ready' error.\n    //if(this.player_.currentTime()) {\n      //this.player_.currentTime(0);\n    //}\n    this.player_.play();\n  };\n  /**\n   * @fileoverview Media Technology Controller - Base class for media playback technology controllers like Flash and HTML5\n   */\n\n  /**\n   * Base class for media (HTML5 Video, Flash) controllers\n   * @param {vjs.Player|Object} player  Central player instance\n   * @param {Object=} options Options object\n   * @constructor\n   */\n  vjs.MediaTechController = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      vjs.Component.call(this, player, options, ready);\n\n      // Make playback element clickable\n      // this.addEvent('click', this.proxy(this.onClick));\n\n      // player.triggerEvent('techready');\n    }\n  });\n\n  // destroy: function(){},\n  // createElement: function(){},\n\n  /**\n   * Handle a click on the media element. By default will play the media.\n   *\n   * On android browsers, having this toggle play state interferes with being\n   * able to toggle the controls and toggling play state with the play button\n   */\n  vjs.MediaTechController.prototype.onClick = (function(){\n    if (vjs.IS_ANDROID) {\n      return function () {};\n    } else {\n      return function () {\n        if (this.player_.controls()) {\n          if (this.player_.paused()) {\n            this.player_.play();\n          } else {\n            this.player_.pause();\n          }\n        }\n      };\n    }\n  })();\n\n  vjs.MediaTechController.prototype.features = {\n    volumeControl: true,\n\n    // Resizing plugins using request fullscreen reloads the plugin\n    fullscreenResize: false,\n\n    // Optional events that we can manually mimic with timers\n    // currently not triggered by video-js-swf\n    progressEvents: false,\n    timeupdateEvents: false\n  };\n\n  vjs.media = {};\n\n  /**\n   * List of default API methods for any MediaTechController\n   * @type {String}\n   */\n  vjs.media.ApiMethods = 'play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted'.split(',');\n  // Create placeholder methods for each that warn when a method isn't supported by the current playback technology\n\n  function createMethod(methodName){\n    return function(){\n      throw new Error('The \"'+methodName+'\" method is not available on the playback technology\\'s API');\n    };\n  }\n\n  for (var i = vjs.media.ApiMethods.length - 1; i >= 0; i--) {\n    var methodName = vjs.media.ApiMethods[i];\n    vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]] = createMethod(methodName);\n  }\n  /**\n   * @fileoverview HTML5 Media Controller - Wrapper for HTML5 Media API\n   */\n\n  /**\n   * HTML5 Media Controller - Wrapper for HTML5 Media API\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @param {Function=} ready\n   * @constructor\n   */\n  vjs.Html5 = vjs.MediaTechController.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      // volume cannot be changed from 1 on iOS\n      this.features.volumeControl = vjs.Html5.canControlVolume();\n\n      // In iOS, if you move a video element in the DOM, it breaks video playback.\n      this.features.movingMediaElementInDOM = !vjs.IS_IOS;\n\n      // HTML video is able to automatically resize when going to fullscreen\n      this.features.fullscreenResize = true;\n\n      vjs.MediaTechController.call(this, player, options, ready);\n\n      var source = options['source'];\n\n      // If the element source is already set, we may have missed the loadstart event, and want to trigger it.\n      // We don't want to set the source again and interrupt playback.\n      if (source && this.el_.currentSrc == source.src) {\n        player.trigger('loadstart');\n\n      // Otherwise set the source if one was provided.\n      } else if (source) {\n        this.el_.src = source.src;\n      }\n\n      // Chrome and Safari both have issues with autoplay.\n      // In Safari (5.1.1), when we move the video element into the container div, autoplay doesn't work.\n      // In Chrome (15), if you have autoplay + a poster + no controls, the video gets hidden (but audio plays)\n      // This fixes both issues. Need to wait for API, so it updates displays correctly\n      player.ready(function(){\n        if (this.options_['autoplay'] && this.paused()) {\n          this.tag.poster = null; // Chrome Fix. Fixed in Chrome v16.\n          this.play();\n        }\n      });\n\n      this.on('click', this.onClick);\n\n      this.setupTriggers();\n\n      this.triggerReady();\n    }\n  });\n\n  vjs.Html5.prototype.dispose = function(){\n    vjs.MediaTechController.prototype.dispose.call(this);\n  };\n\n  vjs.Html5.prototype.createEl = function(){\n    var player = this.player_,\n        // If possible, reuse original tag for HTML5 playback technology element\n        el = player.tag,\n        newEl;\n\n    // Check if this browser supports moving the element into the box.\n    // On the iPhone video will break if you move the element,\n    // So we have to create a brand new element.\n    if (!el || this.features.movingMediaElementInDOM === false) {\n\n      // If the original tag is still there, remove it.\n      if (el) {\n        player.el().removeChild(el);\n        el = el.cloneNode(false);\n      } else {\n        el = vjs.createEl('video', {\n          id:player.id() + '_html5_api',\n          className:'vjs-tech'\n        });\n      }\n      // associate the player with the new tag\n      el['player'] = player;\n\n      vjs.insertFirst(el, player.el());\n    }\n\n    // Update specific tag settings, in case they were overridden\n    var attrs = ['autoplay','preload','loop','muted'];\n    for (var i = attrs.length - 1; i >= 0; i--) {\n      var attr = attrs[i];\n      if (player.options_[attr] !== null) {\n        el[attr] = player.options_[attr];\n      }\n    }\n\n    return el;\n    // jenniisawesome = true;\n  };\n\n  // Make video events trigger player events\n  // May seem verbose here, but makes other APIs possible.\n  vjs.Html5.prototype.setupTriggers = function(){\n    for (var i = vjs.Html5.Events.length - 1; i >= 0; i--) {\n      vjs.on(this.el_, vjs.Html5.Events[i], vjs.bind(this.player_, this.eventHandler));\n    }\n  };\n  // Triggers removed using this.off when disposed\n\n  vjs.Html5.prototype.eventHandler = function(e){\n    this.trigger(e);\n\n    // No need for media events to bubble up.\n    e.stopPropagation();\n  };\n\n\n  vjs.Html5.prototype.play = function(){ this.el_.play(); };\n  vjs.Html5.prototype.pause = function(){ this.el_.pause(); };\n  vjs.Html5.prototype.paused = function(){ return this.el_.paused; };\n\n  vjs.Html5.prototype.currentTime = function(){ return this.el_.currentTime; };\n  vjs.Html5.prototype.setCurrentTime = function(seconds){\n    try {\n      this.el_.currentTime = seconds;\n    } catch(e) {\n      vjs.log(e, 'Video is not ready. (Video.js)');\n      // this.warning(VideoJS.warnings.videoNotReady);\n    }\n  };\n\n  vjs.Html5.prototype.duration = function(){ return this.el_.duration || 0; };\n  vjs.Html5.prototype.buffered = function(){ return this.el_.buffered; };\n\n  vjs.Html5.prototype.volume = function(){ return this.el_.volume; };\n  vjs.Html5.prototype.setVolume = function(percentAsDecimal){ this.el_.volume = percentAsDecimal; };\n  vjs.Html5.prototype.muted = function(){ return this.el_.muted; };\n  vjs.Html5.prototype.setMuted = function(muted){ this.el_.muted = muted; };\n\n  vjs.Html5.prototype.width = function(){ return this.el_.offsetWidth; };\n  vjs.Html5.prototype.height = function(){ return this.el_.offsetHeight; };\n\n  vjs.Html5.prototype.supportsFullScreen = function(){\n    if (typeof this.el_.webkitEnterFullScreen == 'function') {\n\n      // Seems to be broken in Chromium/Chrome && Safari in Leopard\n      if (/Android/.test(vjs.USER_AGENT) || !/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  vjs.Html5.prototype.enterFullScreen = function(){\n    var video = this.el_;\n    if (video.paused && video.networkState <= video.HAVE_METADATA) {\n      // attempt to prime the video element for programmatic access\n      // this isn't necessary on the desktop but shouldn't hurt\n      this.el_.play();\n\n      // playing and pausing synchronously during the transition to fullscreen\n      // can get iOS ~6.1 devices into a play/pause loop\n      setTimeout(function(){\n        video.pause();\n        video.webkitEnterFullScreen();\n      }, 0);\n    } else {\n      video.webkitEnterFullScreen();\n    }\n  };\n  vjs.Html5.prototype.exitFullScreen = function(){\n    this.el_.webkitExitFullScreen();\n  };\n  vjs.Html5.prototype.src = function(src){ this.el_.src = src; };\n  vjs.Html5.prototype.load = function(){ this.el_.load(); };\n  vjs.Html5.prototype.currentSrc = function(){ return this.el_.currentSrc; };\n\n  vjs.Html5.prototype.preload = function(){ return this.el_.preload; };\n  vjs.Html5.prototype.setPreload = function(val){ this.el_.preload = val; };\n  vjs.Html5.prototype.autoplay = function(){ return this.el_.autoplay; };\n  vjs.Html5.prototype.setAutoplay = function(val){ this.el_.autoplay = val; };\n  vjs.Html5.prototype.loop = function(){ return this.el_.loop; };\n  vjs.Html5.prototype.setLoop = function(val){ this.el_.loop = val; };\n\n  vjs.Html5.prototype.error = function(){ return this.el_.error; };\n    // networkState: function(){ return this.el_.networkState; },\n    // readyState: function(){ return this.el_.readyState; },\n  vjs.Html5.prototype.seeking = function(){ return this.el_.seeking; };\n    // initialTime: function(){ return this.el_.initialTime; },\n    // startOffsetTime: function(){ return this.el_.startOffsetTime; },\n    // played: function(){ return this.el_.played; },\n    // seekable: function(){ return this.el_.seekable; },\n  vjs.Html5.prototype.ended = function(){ return this.el_.ended; };\n    // videoTracks: function(){ return this.el_.videoTracks; },\n    // audioTracks: function(){ return this.el_.audioTracks; },\n    // videoWidth: function(){ return this.el_.videoWidth; },\n    // videoHeight: function(){ return this.el_.videoHeight; },\n    // textTracks: function(){ return this.el_.textTracks; },\n    // defaultPlaybackRate: function(){ return this.el_.defaultPlaybackRate; },\n    // playbackRate: function(){ return this.el_.playbackRate; },\n    // mediaGroup: function(){ return this.el_.mediaGroup; },\n    // controller: function(){ return this.el_.controller; },\n  vjs.Html5.prototype.defaultMuted = function(){ return this.el_.defaultMuted; };\n\n  /* HTML5 Support Testing ---------------------------------------------------- */\n\n  vjs.Html5.isSupported = function(){\n    return !!document.createElement('video').canPlayType;\n  };\n\n  vjs.Html5.canPlaySource = function(srcObj){\n    return !!document.createElement('video').canPlayType(srcObj.type);\n    // TODO: Check Type\n    // If no Type, check ext\n    // Check Media Type\n  };\n\n  vjs.Html5.canControlVolume = function(){\n    var volume =  vjs.TEST_VID.volume;\n    vjs.TEST_VID.volume = (volume / 2) + 0.1;\n    return volume !== vjs.TEST_VID.volume;\n  };\n\n  // List of all HTML5 events (various uses).\n  vjs.Html5.Events = 'loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange'.split(',');\n\n\n  // HTML5 Feature detection and Device Fixes --------------------------------- //\n\n  // Android\n  if (vjs.IS_ANDROID) {\n\n    // Override Android 2.2 and less canPlayType method which is broken\n    if (vjs.ANDROID_VERSION < 3) {\n      document.createElement('video').constructor.prototype.canPlayType = function(type){\n        return (type && type.toLowerCase().indexOf('video/mp4') != -1) ? 'maybe' : '';\n      };\n    }\n  }\n  /**\n   * @fileoverview VideoJS-SWF - Custom Flash Player with HTML5-ish API\n   * https://github.com/zencoder/video-js-swf\n   * Not using setupTriggers. Using global onEvent func to distribute events\n   */\n\n  /**\n   * HTML5 Media Controller - Wrapper for HTML5 Media API\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @param {Function=} ready\n   * @constructor\n   */\n  vjs.Flash = vjs.MediaTechController.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      vjs.MediaTechController.call(this, player, options, ready);\n\n      var source = options['source'],\n\n          // Which element to embed in\n          parentEl = options['parentEl'],\n\n          // Create a temporary element to be replaced by swf object\n          placeHolder = this.el_ = vjs.createEl('div', { id: player.id() + '_temp_flash' }),\n\n          // Generate ID for swf object\n          objId = player.id()+'_flash_api',\n\n          // Store player options in local var for optimization\n          // TODO: switch to using player methods instead of options\n          // e.g. player.autoplay();\n          playerOptions = player.options_,\n\n          // Merge default flashvars with ones passed in to init\n          flashVars = vjs.obj.merge({\n\n            // SWF Callback Functions\n            'readyFunction': 'videojs.Flash.onReady',\n            'eventProxyFunction': 'videojs.Flash.onEvent',\n            'errorEventProxyFunction': 'videojs.Flash.onError',\n\n            // Player Settings\n            'autoplay': playerOptions.autoplay,\n            'preload': playerOptions.preload,\n            'loop': playerOptions.loop,\n            'muted': playerOptions.muted\n\n          }, options['flashVars']),\n\n          // Merge default parames with ones passed in\n          params = vjs.obj.merge({\n            'wmode': 'opaque', // Opaque is needed to overlay controls, but can affect playback performance\n            'bgcolor': '#000000' // Using bgcolor prevents a white flash when the object is loading\n          }, options['params']),\n\n          // Merge default attributes with ones passed in\n          attributes = vjs.obj.merge({\n            'id': objId,\n            'name': objId, // Both ID and Name needed or swf to identifty itself\n            'class': 'vjs-tech'\n          }, options['attributes'])\n      ;\n\n      // If source was supplied pass as a flash var.\n      if (source) {\n        flashVars['src'] = encodeURIComponent(vjs.getAbsoluteURL(source.src));\n      }\n\n      // Add placeholder to player div\n      vjs.insertFirst(placeHolder, parentEl);\n\n      // Having issues with Flash reloading on certain page actions (hide/resize/fullscreen) in certain browsers\n      // This allows resetting the playhead when we catch the reload\n      if (options['startTime']) {\n        this.ready(function(){\n          this.load();\n          this.play();\n          this.currentTime(options['startTime']);\n        });\n      }\n\n      // Flash iFrame Mode\n      // In web browsers there are multiple instances where changing the parent element or visibility of a plugin causes the plugin to reload.\n      // - Firefox just about always. https://bugzilla.mozilla.org/show_bug.cgi?id=90268 (might be fixed by version 13)\n      // - Webkit when hiding the plugin\n      // - Webkit and Firefox when using requestFullScreen on a parent element\n      // Loading the flash plugin into a dynamically generated iFrame gets around most of these issues.\n      // Issues that remain include hiding the element and requestFullScreen in Firefox specifically\n\n      // There's on particularly annoying issue with this method which is that Firefox throws a security error on an offsite Flash object loaded into a dynamically created iFrame.\n      // Even though the iframe was inserted into a page on the web, Firefox + Flash considers it a local app trying to access an internet file.\n      // I tried mulitple ways of setting the iframe src attribute but couldn't find a src that worked well. Tried a real/fake source, in/out of domain.\n      // Also tried a method from stackoverflow that caused a security error in all browsers. http://stackoverflow.com/questions/2486901/how-to-set-document-domain-for-a-dynamically-generated-iframe\n      // In the end the solution I found to work was setting the iframe window.location.href right before doing a document.write of the Flash object.\n      // The only downside of this it seems to trigger another http request to the original page (no matter what's put in the href). Not sure why that is.\n\n      // NOTE (2012-01-29): Cannot get Firefox to load the remote hosted SWF into a dynamically created iFrame\n      // Firefox 9 throws a security error, unleess you call location.href right before doc.write.\n      //    Not sure why that even works, but it causes the browser to look like it's continuously trying to load the page.\n      // Firefox 3.6 keeps calling the iframe onload function anytime I write to it, causing an endless loop.\n\n      if (options['iFrameMode'] === true && !vjs.IS_FIREFOX) {\n\n        // Create iFrame with vjs-tech class so it's 100% width/height\n        var iFrm = vjs.createEl('iframe', {\n          'id': objId + '_iframe',\n          'name': objId + '_iframe',\n          'className': 'vjs-tech',\n          'scrolling': 'no',\n          'marginWidth': 0,\n          'marginHeight': 0,\n          'frameBorder': 0\n        });\n\n        // Update ready function names in flash vars for iframe window\n        flashVars['readyFunction'] = 'ready';\n        flashVars['eventProxyFunction'] = 'events';\n        flashVars['errorEventProxyFunction'] = 'errors';\n\n        // Tried multiple methods to get this to work in all browsers\n\n        // Tried embedding the flash object in the page first, and then adding a place holder to the iframe, then replacing the placeholder with the page object.\n        // The goal here was to try to load the swf URL in the parent page first and hope that got around the firefox security error\n        // var newObj = vjs.Flash.embed(options['swf'], placeHolder, flashVars, params, attributes);\n        // (in onload)\n        //  var temp = vjs.createEl('a', { id:'asdf', innerHTML: 'asdf' } );\n        //  iDoc.body.appendChild(temp);\n\n        // Tried embedding the flash object through javascript in the iframe source.\n        // This works in webkit but still triggers the firefox security error\n        // iFrm.src = 'javascript: document.write('\"+vjs.Flash.getEmbedCode(options['swf'], flashVars, params, attributes)+\"');\";\n\n        // Tried an actual local iframe just to make sure that works, but it kills the easiness of the CDN version if you require the user to host an iframe\n        // We should add an option to host the iframe locally though, because it could help a lot of issues.\n        // iFrm.src = \"iframe.html\";\n\n        // Wait until iFrame has loaded to write into it.\n        vjs.on(iFrm, 'load', vjs.bind(this, function(){\n\n          var iDoc,\n              iWin = iFrm.contentWindow;\n\n          // The one working method I found was to use the iframe's document.write() to create the swf object\n          // This got around the security issue in all browsers except firefox.\n          // I did find a hack where if I call the iframe's window.location.href='', it would get around the security error\n          // However, the main page would look like it was loading indefinitely (URL bar loading spinner would never stop)\n          // Plus Firefox 3.6 didn't work no matter what I tried.\n          // if (vjs.USER_AGENT.match('Firefox')) {\n          //   iWin.location.href = '';\n          // }\n\n          // Get the iFrame's document depending on what the browser supports\n          iDoc = iFrm.contentDocument ? iFrm.contentDocument : iFrm.contentWindow.document;\n\n          // Tried ensuring both document domains were the same, but they already were, so that wasn't the issue.\n          // Even tried adding /. that was mentioned in a browser security writeup\n          // document.domain = document.domain+'/.';\n          // iDoc.domain = document.domain+'/.';\n\n          // Tried adding the object to the iframe doc's innerHTML. Security error in all browsers.\n          // iDoc.body.innerHTML = swfObjectHTML;\n\n          // Tried appending the object to the iframe doc's body. Security error in all browsers.\n          // iDoc.body.appendChild(swfObject);\n\n          // Using document.write actually got around the security error that browsers were throwing.\n          // Again, it's a dynamically generated (same domain) iframe, loading an external Flash swf.\n          // Not sure why that's a security issue, but apparently it is.\n          iDoc.write(vjs.Flash.getEmbedCode(options['swf'], flashVars, params, attributes));\n\n          // Setting variables on the window needs to come after the doc write because otherwise they can get reset in some browsers\n          // So far no issues with swf ready event being called before it's set on the window.\n          iWin['player'] = this.player_;\n\n          // Create swf ready function for iFrame window\n          iWin['ready'] = vjs.bind(this.player_, function(currSwf){\n            var el = iDoc.getElementById(currSwf),\n                player = this,\n                tech = player.tech;\n\n            // Update reference to playback technology element\n            tech.el_ = el;\n\n            // Now that the element is ready, make a click on the swf play the video\n            vjs.on(el, 'click', tech.bind(tech.onClick));\n\n            // Make sure swf is actually ready. Sometimes the API isn't actually yet.\n            vjs.Flash.checkReady(tech);\n          });\n\n          // Create event listener for all swf events\n          iWin['events'] = vjs.bind(this.player_, function(swfID, eventName){\n            var player = this;\n            if (player && player.techName === 'flash') {\n              player.trigger(eventName);\n            }\n          });\n\n          // Create error listener for all swf errors\n          iWin['errors'] = vjs.bind(this.player_, function(swfID, eventName){\n            vjs.log('Flash Error', eventName);\n          });\n\n        }));\n\n        // Replace placeholder with iFrame (it will load now)\n        placeHolder.parentNode.replaceChild(iFrm, placeHolder);\n\n      // If not using iFrame mode, embed as normal object\n      } else {\n        vjs.Flash.embed(options['swf'], placeHolder, flashVars, params, attributes);\n      }\n    }\n  });\n\n  vjs.Flash.prototype.dispose = function(){\n    vjs.MediaTechController.prototype.dispose.call(this);\n  };\n\n  vjs.Flash.prototype.play = function(){\n    this.el_.vjs_play();\n  };\n\n  vjs.Flash.prototype.pause = function(){\n    this.el_.vjs_pause();\n  };\n\n  vjs.Flash.prototype.src = function(src){\n    // Make sure source URL is abosolute.\n    src = vjs.getAbsoluteURL(src);\n\n    this.el_.vjs_src(src);\n\n    // Currently the SWF doesn't autoplay if you load a source later.\n    // e.g. Load player w/ no source, wait 2s, set src.\n    if (this.player_.autoplay()) {\n      var tech = this;\n      setTimeout(function(){ tech.play(); }, 0);\n    }\n  };\n\n  vjs.Flash.prototype.load = function(){\n    this.el_.vjs_load();\n  };\n\n  vjs.Flash.prototype.poster = function(){\n    this.el_.vjs_getProperty('poster');\n  };\n\n  vjs.Flash.prototype.buffered = function(){\n    return vjs.createTimeRange(0, this.el_.vjs_getProperty('buffered'));\n  };\n\n  vjs.Flash.prototype.supportsFullScreen = function(){\n    return false; // Flash does not allow fullscreen through javascript\n  };\n\n  vjs.Flash.prototype.enterFullScreen = function(){\n    return false;\n  };\n\n\n  // Create setters and getters for attributes\n  var api = vjs.Flash.prototype,\n      readWrite = 'preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted'.split(','),\n      readOnly = 'error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks'.split(',');\n      // Overridden: buffered\n\n  /**\n   * @this {*}\n   */\n  var createSetter = function(attr){\n    var attrUpper = attr.charAt(0).toUpperCase() + attr.slice(1);\n    api['set'+attrUpper] = function(val){ return this.el_.vjs_setProperty(attr, val); };\n  };\n\n  /**\n   * @this {*}\n   */\n  var createGetter = function(attr){\n    api[attr] = function(){ return this.el_.vjs_getProperty(attr); };\n  };\n\n  (function(){\n    var i;\n    // Create getter and setters for all read/write attributes\n    for (i = 0; i < readWrite.length; i++) {\n      createGetter(readWrite[i]);\n      createSetter(readWrite[i]);\n    }\n\n    // Create getters for read-only attributes\n    for (i = 0; i < readOnly.length; i++) {\n      createGetter(readOnly[i]);\n    }\n  })();\n\n  /* Flash Support Testing -------------------------------------------------------- */\n\n  vjs.Flash.isSupported = function(){\n    return vjs.Flash.version()[0] >= 10;\n    // return swfobject.hasFlashPlayerVersion('10');\n  };\n\n  vjs.Flash.canPlaySource = function(srcObj){\n    if (srcObj.type in vjs.Flash.formats) { return 'maybe'; }\n  };\n\n  vjs.Flash.formats = {\n    'video/flv': 'FLV',\n    'video/x-flv': 'FLV',\n    'video/mp4': 'MP4',\n    'video/m4v': 'MP4'\n  };\n\n  vjs.Flash['onReady'] = function(currSwf){\n    var el = vjs.el(currSwf);\n\n    // Get player from box\n    // On firefox reloads, el might already have a player\n    var player = el['player'] || el.parentNode['player'],\n        tech = player.tech;\n\n    // Reference player on tech element\n    el['player'] = player;\n\n    // Update reference to playback technology element\n    tech.el_ = el;\n\n    // Now that the element is ready, make a click on the swf play the video\n    tech.on('click', tech.onClick);\n\n    vjs.Flash.checkReady(tech);\n  };\n\n  // The SWF isn't alwasy ready when it says it is. Sometimes the API functions still need to be added to the object.\n  // If it's not ready, we set a timeout to check again shortly.\n  vjs.Flash.checkReady = function(tech){\n\n    // Check if API property exists\n    if (tech.el().vjs_getProperty) {\n\n      // If so, tell tech it's ready\n      tech.triggerReady();\n\n    // Otherwise wait longer.\n    } else {\n\n      setTimeout(function(){\n        vjs.Flash.checkReady(tech);\n      }, 50);\n\n    }\n  };\n\n  // Trigger events from the swf on the player\n  vjs.Flash['onEvent'] = function(swfID, eventName){\n    var player = vjs.el(swfID)['player'];\n    player.trigger(eventName);\n  };\n\n  // Log errors from the swf\n  vjs.Flash['onError'] = function(swfID, err){\n    var player = vjs.el(swfID)['player'];\n    player.trigger('error');\n    vjs.log('Flash Error', err, swfID);\n  };\n\n  // Flash Version Check\n  vjs.Flash.version = function(){\n    var version = '0,0,0';\n\n    // IE\n    try {\n      version = new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n\n    // other browsers\n    } catch(e) {\n      try {\n        if (navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin){\n          version = (navigator.plugins['Shockwave Flash 2.0'] || navigator.plugins['Shockwave Flash']).description.replace(/\\D+/g, ',').match(/^,?(.+),?$/)[1];\n        }\n      } catch(err) {}\n    }\n    return version.split(',');\n  };\n\n  // Flash embedding method. Only used in non-iframe mode\n  vjs.Flash.embed = function(swf, placeHolder, flashVars, params, attributes){\n    var code = vjs.Flash.getEmbedCode(swf, flashVars, params, attributes),\n\n        // Get element by embedding code and retrieving created element\n        obj = vjs.createEl('div', { innerHTML: code }).childNodes[0],\n\n        par = placeHolder.parentNode\n    ;\n\n    placeHolder.parentNode.replaceChild(obj, placeHolder);\n\n    // IE6 seems to have an issue where it won't initialize the swf object after injecting it.\n    // This is a dumb fix\n    var newObj = par.childNodes[0];\n    setTimeout(function(){\n      newObj.style.display = 'block';\n    }, 1000);\n\n    return obj;\n\n  };\n\n  vjs.Flash.getEmbedCode = function(swf, flashVars, params, attributes){\n\n    var objTag = '<object type=\"application/x-shockwave-flash\"',\n        flashVarsString = '',\n        paramsString = '',\n        attrsString = '';\n\n    // Convert flash vars to string\n    if (flashVars) {\n      vjs.obj.each(flashVars, function(key, val){\n        flashVarsString += (key + '=' + val + '&amp;');\n      });\n    }\n\n    // Add swf, flashVars, and other default params\n    params = vjs.obj.merge({\n      'movie': swf,\n      'flashvars': flashVarsString,\n      'allowScriptAccess': 'always', // Required to talk to swf\n      'allowNetworking': 'all' // All should be default, but having security issues.\n    }, params);\n\n    // Create param tags string\n    vjs.obj.each(params, function(key, val){\n      paramsString += '<param name=\"'+key+'\" value=\"'+val+'\" />';\n    });\n\n    attributes = vjs.obj.merge({\n      // Add swf to attributes (need both for IE and Others to work)\n      'data': swf,\n\n      // Default to 100% width/height\n      'width': '100%',\n      'height': '100%'\n\n    }, attributes);\n\n    // Create Attributes string\n    vjs.obj.each(attributes, function(key, val){\n      attrsString += (key + '=\"' + val + '\" ');\n    });\n\n    return objTag + attrsString + '>' + paramsString + '</object>';\n  };\n  /**\n   * @constructor\n   */\n  vjs.MediaLoader = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      vjs.Component.call(this, player, options, ready);\n\n      // If there are no sources when the player is initialized,\n      // load the first supported playback technology.\n      if (!player.options_['sources'] || player.options_['sources'].length === 0) {\n        for (var i=0,j=player.options_['techOrder']; i<j.length; i++) {\n          var techName = vjs.capitalize(j[i]),\n              tech = vjs[techName];\n\n          // Check if the browser supports this technology\n          if (tech && tech.isSupported()) {\n            player.loadTech(techName);\n            break;\n          }\n        }\n      } else {\n        // // Loop through playback technologies (HTML5, Flash) and check for support.\n        // // Then load the best source.\n        // // A few assumptions here:\n        // //   All playback technologies respect preload false.\n        player.src(player.options_['sources']);\n      }\n    }\n  });/**\n   * @fileoverview Text Tracks\n   * Text tracks are tracks of timed text events.\n   * Captions - text displayed over the video for the hearing impared\n   * Subtitles - text displayed over the video for those who don't understand langauge in the video\n   * Chapters - text displayed in a menu allowing the user to jump to particular points (chapters) in the video\n   * Descriptions (not supported yet) - audio descriptions that are read back to the user by a screen reading device\n   */\n\n  // Player Additions - Functions add to the player object for easier access to tracks\n\n  /**\n   * List of associated text tracks\n   * @type {Array}\n   * @private\n   */\n  vjs.Player.prototype.textTracks_;\n\n  /**\n   * Get an array of associated text tracks. captions, subtitles, chapters, descriptions\n   * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n   * @return {Array}           Array of track objects\n   */\n  vjs.Player.prototype.textTracks = function(){\n    this.textTracks_ = this.textTracks_ || [];\n    return this.textTracks_;\n  };\n\n  /**\n   * Add a text track\n   * In addition to the W3C settings we allow adding additional info through options.\n   * http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n   * @param {String}  kind        Captions, subtitles, chapters, descriptions, or metadata\n   * @param {String=} label       Optional label\n   * @param {String=} language    Optional language\n   * @param {Object=} options     Additional track options, like src\n   */\n  vjs.Player.prototype.addTextTrack = function(kind, label, language, options){\n    var tracks = this.textTracks_ = this.textTracks_ || [];\n    options = options || {};\n\n    options['kind'] = kind;\n    options['label'] = label;\n    options['language'] = language;\n\n    // HTML5 Spec says default to subtitles.\n    // Uppercase first letter to match class names\n    var Kind = vjs.capitalize(kind || 'subtitles');\n\n    // Create correct texttrack class. CaptionsTrack, etc.\n    var track = new vjs[Kind + 'Track'](this, options);\n\n    tracks.push(track);\n\n    // If track.dflt() is set, start showing immediately\n    // TODO: Add a process to deterime the best track to show for the specific kind\n    // Incase there are mulitple defaulted tracks of the same kind\n    // Or the user has a set preference of a specific language that should override the default\n    // if (track.dflt()) {\n    //   this.ready(vjs.bind(track, track.show));\n    // }\n\n    return track;\n  };\n\n  /**\n   * Add an array of text tracks. captions, subtitles, chapters, descriptions\n   * Track objects will be stored in the player.textTracks() array\n   * @param {Array} trackList Array of track elements or objects (fake track elements)\n   */\n  vjs.Player.prototype.addTextTracks = function(trackList){\n    var trackObj;\n\n    for (var i = 0; i < trackList.length; i++) {\n      trackObj = trackList[i];\n      this.addTextTrack(trackObj['kind'], trackObj['label'], trackObj['language'], trackObj);\n    }\n\n    return this;\n  };\n\n  // Show a text track\n  // disableSameKind: disable all other tracks of the same kind. Value should be a track kind (captions, etc.)\n  vjs.Player.prototype.showTextTrack = function(id, disableSameKind){\n    var tracks = this.textTracks_,\n        i = 0,\n        j = tracks.length,\n        track, showTrack, kind;\n\n    // Find Track with same ID\n    for (;i<j;i++) {\n      track = tracks[i];\n      if (track.id() === id) {\n        track.show();\n        showTrack = track;\n\n      // Disable tracks of the same kind\n      } else if (disableSameKind && track.kind() == disableSameKind && track.mode() > 0) {\n        track.disable();\n      }\n    }\n\n    // Get track kind from shown track or disableSameKind\n    kind = (showTrack) ? showTrack.kind() : ((disableSameKind) ? disableSameKind : false);\n\n    // Trigger trackchange event, captionstrackchange, subtitlestrackchange, etc.\n    if (kind) {\n      this.trigger(kind+'trackchange');\n    }\n\n    return this;\n  };\n\n  /**\n   * Track Class\n   * Contains track methods for loading, showing, parsing cues of tracks\n   * @param {vjs.Player|Object} player\n   * @param {Object=} options\n   * @constructor\n   */\n  vjs.TextTrack = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.Component.call(this, player, options);\n\n      // Apply track info to track object\n      // Options will often be a track element\n\n      // Build ID if one doesn't exist\n      this.id_ = options['id'] || ('vjs_' + options['kind'] + '_' + options['language'] + '_' + vjs.guid++);\n      this.src_ = options['src'];\n      // 'default' is a reserved keyword in js so we use an abbreviated version\n      this.dflt_ = options['default'] || options['dflt'];\n      this.title_ = options['title'];\n      this.language_ = options['srclang'];\n      this.label_ = options['label'];\n      this.cues_ = [];\n      this.activeCues_ = [];\n      this.readyState_ = 0;\n      this.mode_ = 0;\n\n      this.player_.on('fullscreenchange', vjs.bind(this, this.adjustFontSize));\n    }\n  });\n\n  /**\n   * Track kind value. Captions, subtitles, etc.\n   * @private\n   */\n  vjs.TextTrack.prototype.kind_;\n\n  /**\n   * Get the track kind value\n   * @return {String}\n   */\n  vjs.TextTrack.prototype.kind = function(){\n    return this.kind_;\n  };\n\n  /**\n   * Track src value\n   * @private\n   */\n  vjs.TextTrack.prototype.src_;\n\n  /**\n   * Get the track src value\n   * @return {String}\n   */\n  vjs.TextTrack.prototype.src = function(){\n    return this.src_;\n  };\n\n  /**\n   * Track default value\n   * If default is used, subtitles/captions to start showing\n   * @private\n   */\n  vjs.TextTrack.prototype.dflt_;\n\n  /**\n   * Get the track default value\n   * 'default' is a reserved keyword\n   * @return {Boolean}\n   */\n  vjs.TextTrack.prototype.dflt = function(){\n    return this.dflt_;\n  };\n\n  /**\n   * Track title value\n   * @private\n   */\n  vjs.TextTrack.prototype.title_;\n\n  /**\n   * Get the track title value\n   * @return {String}\n   */\n  vjs.TextTrack.prototype.title = function(){\n    return this.title_;\n  };\n\n  /**\n   * Language - two letter string to represent track language, e.g. 'en' for English\n   * Spec def: readonly attribute DOMString language;\n   * @private\n   */\n  vjs.TextTrack.prototype.language_;\n\n  /**\n   * Get the track language value\n   * @return {String}\n   */\n  vjs.TextTrack.prototype.language = function(){\n    return this.language_;\n  };\n\n  /**\n   * Track label e.g. 'English'\n   * Spec def: readonly attribute DOMString label;\n   * @private\n   */\n  vjs.TextTrack.prototype.label_;\n\n  /**\n   * Get the track label value\n   * @return {String}\n   */\n  vjs.TextTrack.prototype.label = function(){\n    return this.label_;\n  };\n\n  /**\n   * All cues of the track. Cues have a startTime, endTime, text, and other properties.\n   * Spec def: readonly attribute TextTrackCueList cues;\n   * @private\n   */\n  vjs.TextTrack.prototype.cues_;\n\n  /**\n   * Get the track cues\n   * @return {Array}\n   */\n  vjs.TextTrack.prototype.cues = function(){\n    return this.cues_;\n  };\n\n  /**\n   * ActiveCues is all cues that are currently showing\n   * Spec def: readonly attribute TextTrackCueList activeCues;\n   * @private\n   */\n  vjs.TextTrack.prototype.activeCues_;\n\n  /**\n   * Get the track active cues\n   * @return {Array}\n   */\n  vjs.TextTrack.prototype.activeCues = function(){\n    return this.activeCues_;\n  };\n\n  /**\n   * ReadyState describes if the text file has been loaded\n   * const unsigned short NONE = 0;\n   * const unsigned short LOADING = 1;\n   * const unsigned short LOADED = 2;\n   * const unsigned short ERROR = 3;\n   * readonly attribute unsigned short readyState;\n   * @private\n   */\n  vjs.TextTrack.prototype.readyState_;\n\n  /**\n   * Get the track readyState\n   * @return {Number}\n   */\n  vjs.TextTrack.prototype.readyState = function(){\n    return this.readyState_;\n  };\n\n  /**\n   * Mode describes if the track is showing, hidden, or disabled\n   * const unsigned short OFF = 0;\n   * const unsigned short HIDDEN = 1; (still triggering cuechange events, but not visible)\n   * const unsigned short SHOWING = 2;\n   * attribute unsigned short mode;\n   * @private\n   */\n  vjs.TextTrack.prototype.mode_;\n\n  /**\n   * Get the track mode\n   * @return {Number}\n   */\n  vjs.TextTrack.prototype.mode = function(){\n    return this.mode_;\n  };\n\n  /**\n   * Change the font size of the text track to make it larger when playing in fullscreen mode\n   * and restore it to its normal size when not in fullscreen mode.\n   */\n  vjs.TextTrack.prototype.adjustFontSize = function(){\n      if (this.player_.isFullScreen) {\n          // Scale the font by the same factor as increasing the video width to the full screen window width.\n          // Additionally, multiply that factor by 1.4, which is the default font size for\n          // the caption track (from the CSS)\n          this.el_.style.fontSize = screen.width / this.player_.width() * 1.4 * 100 + '%';\n      } else {\n          // Change the font size of the text track back to its original non-fullscreen size\n          this.el_.style.fontSize = '';\n      }\n  };\n\n  /**\n   * Create basic div to hold cue text\n   * @return {Element}\n   */\n  vjs.TextTrack.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-' + this.kind_ + ' vjs-text-track'\n    });\n  };\n\n  /**\n   * Show: Mode Showing (2)\n   * Indicates that the text track is active. If no attempt has yet been made to obtain the track's cues, the user agent will perform such an attempt momentarily.\n   * The user agent is maintaining a list of which cues are active, and events are being fired accordingly.\n   * In addition, for text tracks whose kind is subtitles or captions, the cues are being displayed over the video as appropriate;\n   * for text tracks whose kind is descriptions, the user agent is making the cues available to the user in a non-visual fashion;\n   * and for text tracks whose kind is chapters, the user agent is making available to the user a mechanism by which the user can navigate to any point in the media resource by selecting a cue.\n   * The showing by default state is used in conjunction with the default attribute on track elements to indicate that the text track was enabled due to that attribute.\n   * This allows the user agent to override the state if a later track is discovered that is more appropriate per the user's preferences.\n   */\n  vjs.TextTrack.prototype.show = function(){\n    this.activate();\n\n    this.mode_ = 2;\n\n    // Show element.\n    vjs.Component.prototype.show.call(this);\n  };\n\n  /**\n   * Hide: Mode Hidden (1)\n   * Indicates that the text track is active, but that the user agent is not actively displaying the cues.\n   * If no attempt has yet been made to obtain the track's cues, the user agent will perform such an attempt momentarily.\n   * The user agent is maintaining a list of which cues are active, and events are being fired accordingly.\n   */\n  vjs.TextTrack.prototype.hide = function(){\n    // When hidden, cues are still triggered. Disable to stop triggering.\n    this.activate();\n\n    this.mode_ = 1;\n\n    // Hide element.\n    vjs.Component.prototype.hide.call(this);\n  };\n\n  /**\n   * Disable: Mode Off/Disable (0)\n   * Indicates that the text track is not active. Other than for the purposes of exposing the track in the DOM, the user agent is ignoring the text track.\n   * No cues are active, no events are fired, and the user agent will not attempt to obtain the track's cues.\n   */\n  vjs.TextTrack.prototype.disable = function(){\n    // If showing, hide.\n    if (this.mode_ == 2) { this.hide(); }\n\n    // Stop triggering cues\n    this.deactivate();\n\n    // Switch Mode to Off\n    this.mode_ = 0;\n  };\n\n  /**\n   * Turn on cue tracking. Tracks that are showing OR hidden are active.\n   */\n  vjs.TextTrack.prototype.activate = function(){\n    // Load text file if it hasn't been yet.\n    if (this.readyState_ === 0) { this.load(); }\n\n    // Only activate if not already active.\n    if (this.mode_ === 0) {\n      // Update current cue on timeupdate\n      // Using unique ID for bind function so other tracks don't remove listener\n      this.player_.on('timeupdate', vjs.bind(this, this.update, this.id_));\n\n      // Reset cue time on media end\n      this.player_.on('ended', vjs.bind(this, this.reset, this.id_));\n\n      // Add to display\n      if (this.kind_ === 'captions' || this.kind_ === 'subtitles') {\n        this.player_.getChild('textTrackDisplay').addChild(this);\n      }\n    }\n  };\n\n  /**\n   * Turn off cue tracking.\n   */\n  vjs.TextTrack.prototype.deactivate = function(){\n    // Using unique ID for bind function so other tracks don't remove listener\n    this.player_.off('timeupdate', vjs.bind(this, this.update, this.id_));\n    this.player_.off('ended', vjs.bind(this, this.reset, this.id_));\n    this.reset(); // Reset\n\n    // Remove from display\n    this.player_.getChild('textTrackDisplay').removeChild(this);\n  };\n\n  // A readiness state\n  // One of the following:\n  //\n  // Not loaded\n  // Indicates that the text track is known to exist (e.g. it has been declared with a track element), but its cues have not been obtained.\n  //\n  // Loading\n  // Indicates that the text track is loading and there have been no fatal errors encountered so far. Further cues might still be added to the track.\n  //\n  // Loaded\n  // Indicates that the text track has been loaded with no fatal errors. No new cues will be added to the track except if the text track corresponds to a MutableTextTrack object.\n  //\n  // Failed to load\n  // Indicates that the text track was enabled, but when the user agent attempted to obtain it, this failed in some way (e.g. URL could not be resolved, network error, unknown text track format). Some or all of the cues are likely missing and will not be obtained.\n  vjs.TextTrack.prototype.load = function(){\n\n    // Only load if not loaded yet.\n    if (this.readyState_ === 0) {\n      this.readyState_ = 1;\n      vjs.get(this.src_, vjs.bind(this, this.parseCues), vjs.bind(this, this.onError));\n    }\n\n  };\n\n  vjs.TextTrack.prototype.onError = function(err){\n    this.error = err;\n    this.readyState_ = 3;\n    this.trigger('error');\n  };\n\n  // Parse the WebVTT text format for cue times.\n  // TODO: Separate parser into own class so alternative timed text formats can be used. (TTML, DFXP)\n  vjs.TextTrack.prototype.parseCues = function(srcContent) {\n    var cue, time, text,\n        lines = srcContent.split('\\n'),\n        line = '', id;\n\n    for (var i=1, j=lines.length; i<j; i++) {\n      // Line 0 should be 'WEBVTT', so skipping i=0\n\n      line = vjs.trim(lines[i]); // Trim whitespace and linebreaks\n\n      if (line) { // Loop until a line with content\n\n        // First line could be an optional cue ID\n        // Check if line has the time separator\n        if (line.indexOf('-->') == -1) {\n          id = line;\n          // Advance to next line for timing.\n          line = vjs.trim(lines[++i]);\n        } else {\n          id = this.cues_.length;\n        }\n\n        // First line - Number\n        cue = {\n          id: id, // Cue Number\n          index: this.cues_.length // Position in Array\n        };\n\n        // Timing line\n        time = line.split(' --> ');\n        cue.startTime = this.parseCueTime(time[0]);\n        cue.endTime = this.parseCueTime(time[1]);\n\n        // Additional lines - Cue Text\n        text = [];\n\n        // Loop until a blank line or end of lines\n        // Assumeing trim('') returns false for blank lines\n        while (lines[++i] && (line = vjs.trim(lines[i]))) {\n          text.push(line);\n        }\n\n        cue.text = text.join('<br/>');\n\n        // Add this cue\n        this.cues_.push(cue);\n      }\n    }\n\n    this.readyState_ = 2;\n    this.trigger('loaded');\n  };\n\n\n  vjs.TextTrack.prototype.parseCueTime = function(timeText) {\n    var parts = timeText.split(':'),\n        time = 0,\n        hours, minutes, other, seconds, ms;\n\n    // Check if optional hours place is included\n    // 00:00:00.000 vs. 00:00.000\n    if (parts.length == 3) {\n      hours = parts[0];\n      minutes = parts[1];\n      other = parts[2];\n    } else {\n      hours = 0;\n      minutes = parts[0];\n      other = parts[1];\n    }\n\n    // Break other (seconds, milliseconds, and flags) by spaces\n    // TODO: Make additional cue layout settings work with flags\n    other = other.split(/\\s+/);\n    // Remove seconds. Seconds is the first part before any spaces.\n    seconds = other.splice(0,1)[0];\n    // Could use either . or , for decimal\n    seconds = seconds.split(/\\.|,/);\n    // Get milliseconds\n    ms = parseFloat(seconds[1]);\n    seconds = seconds[0];\n\n    // hours => seconds\n    time += parseFloat(hours) * 3600;\n    // minutes => seconds\n    time += parseFloat(minutes) * 60;\n    // Add seconds\n    time += parseFloat(seconds);\n    // Add milliseconds\n    if (ms) { time += ms/1000; }\n\n    return time;\n  };\n\n  // Update active cues whenever timeupdate events are triggered on the player.\n  vjs.TextTrack.prototype.update = function(){\n    if (this.cues_.length > 0) {\n\n      // Get curent player time\n      var time = this.player_.currentTime();\n\n      // Check if the new time is outside the time box created by the the last update.\n      if (this.prevChange === undefined || time < this.prevChange || this.nextChange <= time) {\n        var cues = this.cues_,\n\n            // Create a new time box for this state.\n            newNextChange = this.player_.duration(), // Start at beginning of the timeline\n            newPrevChange = 0, // Start at end\n\n            reverse = false, // Set the direction of the loop through the cues. Optimized the cue check.\n            newCues = [], // Store new active cues.\n\n            // Store where in the loop the current active cues are, to provide a smart starting point for the next loop.\n            firstActiveIndex, lastActiveIndex,\n            cue, i; // Loop vars\n\n        // Check if time is going forwards or backwards (scrubbing/rewinding)\n        // If we know the direction we can optimize the starting position and direction of the loop through the cues array.\n        if (time >= this.nextChange || this.nextChange === undefined) { // NextChange should happen\n          // Forwards, so start at the index of the first active cue and loop forward\n          i = (this.firstActiveIndex !== undefined) ? this.firstActiveIndex : 0;\n        } else {\n          // Backwards, so start at the index of the last active cue and loop backward\n          reverse = true;\n          i = (this.lastActiveIndex !== undefined) ? this.lastActiveIndex : cues.length - 1;\n        }\n\n        while (true) { // Loop until broken\n          cue = cues[i];\n\n          // Cue ended at this point\n          if (cue.endTime <= time) {\n            newPrevChange = Math.max(newPrevChange, cue.endTime);\n\n            if (cue.active) {\n              cue.active = false;\n            }\n\n            // No earlier cues should have an active start time.\n            // Nevermind. Assume first cue could have a duration the same as the video.\n            // In that case we need to loop all the way back to the beginning.\n            // if (reverse && cue.startTime) { break; }\n\n          // Cue hasn't started\n          } else if (time < cue.startTime) {\n            newNextChange = Math.min(newNextChange, cue.startTime);\n\n            if (cue.active) {\n              cue.active = false;\n            }\n\n            // No later cues should have an active start time.\n            if (!reverse) { break; }\n\n          // Cue is current\n          } else {\n\n            if (reverse) {\n              // Add cue to front of array to keep in time order\n              newCues.splice(0,0,cue);\n\n              // If in reverse, the first current cue is our lastActiveCue\n              if (lastActiveIndex === undefined) { lastActiveIndex = i; }\n              firstActiveIndex = i;\n            } else {\n              // Add cue to end of array\n              newCues.push(cue);\n\n              // If forward, the first current cue is our firstActiveIndex\n              if (firstActiveIndex === undefined) { firstActiveIndex = i; }\n              lastActiveIndex = i;\n            }\n\n            newNextChange = Math.min(newNextChange, cue.endTime);\n            newPrevChange = Math.max(newPrevChange, cue.startTime);\n\n            cue.active = true;\n          }\n\n          if (reverse) {\n            // Reverse down the array of cues, break if at first\n            if (i === 0) { break; } else { i--; }\n          } else {\n            // Walk up the array fo cues, break if at last\n            if (i === cues.length - 1) { break; } else { i++; }\n          }\n\n        }\n\n        this.activeCues_ = newCues;\n        this.nextChange = newNextChange;\n        this.prevChange = newPrevChange;\n        this.firstActiveIndex = firstActiveIndex;\n        this.lastActiveIndex = lastActiveIndex;\n\n        this.updateDisplay();\n\n        this.trigger('cuechange');\n      }\n    }\n  };\n\n  // Add cue HTML to display\n  vjs.TextTrack.prototype.updateDisplay = function(){\n    var cues = this.activeCues_,\n        html = '',\n        i=0,j=cues.length;\n\n    for (;i<j;i++) {\n      html += '<span class=\"vjs-tt-cue\">'+cues[i].text+'</span>';\n    }\n\n    this.el_.innerHTML = html;\n  };\n\n  // Set all loop helper values back\n  vjs.TextTrack.prototype.reset = function(){\n    this.nextChange = 0;\n    this.prevChange = this.player_.duration();\n    this.firstActiveIndex = 0;\n    this.lastActiveIndex = 0;\n  };\n\n  // Create specific track types\n  /**\n   * @constructor\n   */\n  vjs.CaptionsTrack = vjs.TextTrack.extend();\n  vjs.CaptionsTrack.prototype.kind_ = 'captions';\n  // Exporting here because Track creation requires the track kind\n  // to be available on global object. e.g. new vjs[Kind + 'Track']\n\n  /**\n   * @constructor\n   */\n  vjs.SubtitlesTrack = vjs.TextTrack.extend();\n  vjs.SubtitlesTrack.prototype.kind_ = 'subtitles';\n\n  /**\n   * @constructor\n   */\n  vjs.ChaptersTrack = vjs.TextTrack.extend();\n  vjs.ChaptersTrack.prototype.kind_ = 'chapters';\n\n\n  /* Text Track Display\n  ============================================================================= */\n  // Global container for both subtitle and captions text. Simple div container.\n\n  /**\n   * @constructor\n   */\n  vjs.TextTrackDisplay = vjs.Component.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      vjs.Component.call(this, player, options, ready);\n\n      // This used to be called during player init, but was causing an error\n      // if a track should show by default and the display hadn't loaded yet.\n      // Should probably be moved to an external track loader when we support\n      // tracks that don't need a display.\n      if (player.options_['tracks'] && player.options_['tracks'].length > 0) {\n        this.player_.addTextTracks(player.options_['tracks']);\n      }\n    }\n  });\n\n  vjs.TextTrackDisplay.prototype.createEl = function(){\n    return vjs.Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-text-track-display'\n    });\n  };\n\n\n  /* Text Track Menu Items\n  ============================================================================= */\n  /**\n   * @constructor\n   */\n  vjs.TextTrackMenuItem = vjs.MenuItem.extend({\n    /** @constructor */\n    init: function(player, options){\n      var track = this.track = options['track'];\n\n      // Modify options for parent MenuItem class's init.\n      options['label'] = track.label();\n      options['selected'] = track.dflt();\n      vjs.MenuItem.call(this, player, options);\n\n      this.player_.on(track.kind() + 'trackchange', vjs.bind(this, this.update));\n    }\n  });\n\n  vjs.TextTrackMenuItem.prototype.onClick = function(){\n    vjs.MenuItem.prototype.onClick.call(this);\n    this.player_.showTextTrack(this.track.id_, this.track.kind());\n  };\n\n  vjs.TextTrackMenuItem.prototype.update = function(){\n    if (this.track.mode() == 2) {\n      this.selected(true);\n    } else {\n      this.selected(false);\n    }\n  };\n\n  /**\n   * @constructor\n   */\n  vjs.OffTextTrackMenuItem = vjs.TextTrackMenuItem.extend({\n    /** @constructor */\n    init: function(player, options){\n      // Create pseudo track info\n      // Requires options['kind']\n      options['track'] = {\n        kind: function() { return options['kind']; },\n        player: player,\n        label: function(){ return options['kind'] + ' off'; },\n        dflt: function(){ return false; },\n        mode: function(){ return false; }\n      };\n      vjs.TextTrackMenuItem.call(this, player, options);\n      this.selected(true);\n    }\n  });\n\n  vjs.OffTextTrackMenuItem.prototype.onClick = function(){\n    vjs.TextTrackMenuItem.prototype.onClick.call(this);\n    this.player_.showTextTrack(this.track.id_, this.track.kind());\n  };\n\n  vjs.OffTextTrackMenuItem.prototype.update = function(){\n    var tracks = this.player_.textTracks(),\n        i=0, j=tracks.length, track,\n        off = true;\n\n    for (;i<j;i++) {\n      track = tracks[i];\n      if (track.kind() == this.track.kind() && track.mode() == 2) {\n        off = false;\n      }\n    }\n\n    if (off) {\n      this.selected(true);\n    } else {\n      this.selected(false);\n    }\n  };\n\n  /* Captions Button\n  ================================================================================ */\n  /**\n   * @constructor\n   */\n  vjs.TextTrackButton = vjs.MenuButton.extend({\n    /** @constructor */\n    init: function(player, options){\n      vjs.MenuButton.call(this, player, options);\n\n      if (this.items.length <= 1) {\n        this.hide();\n      }\n    }\n  });\n\n  // vjs.TextTrackButton.prototype.buttonPressed = false;\n\n  // vjs.TextTrackButton.prototype.createMenu = function(){\n  //   var menu = new vjs.Menu(this.player_);\n\n  //   // Add a title list item to the top\n  //   // menu.el().appendChild(vjs.createEl('li', {\n  //   //   className: 'vjs-menu-title',\n  //   //   innerHTML: vjs.capitalize(this.kind_),\n  //   //   tabindex: -1\n  //   // }));\n\n  //   this.items = this.createItems();\n\n  //   // Add menu items to the menu\n  //   for (var i = 0; i < this.items.length; i++) {\n  //     menu.addItem(this.items[i]);\n  //   }\n\n  //   // Add list to element\n  //   this.addChild(menu);\n\n  //   return menu;\n  // };\n\n  // Create a menu item for each text track\n  vjs.TextTrackButton.prototype.createItems = function(){\n    var items = [], track;\n\n    // Add an OFF menu item to turn all tracks off\n    items.push(new vjs.OffTextTrackMenuItem(this.player_, { 'kind': this.kind_ }));\n\n    for (var i = 0; i < this.player_.textTracks().length; i++) {\n      track = this.player_.textTracks()[i];\n      if (track.kind() === this.kind_) {\n        items.push(new vjs.TextTrackMenuItem(this.player_, {\n          'track': track\n        }));\n      }\n    }\n\n    return items;\n  };\n\n  /**\n   * @constructor\n   */\n  vjs.CaptionsButton = vjs.TextTrackButton.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      vjs.TextTrackButton.call(this, player, options, ready);\n      this.el_.setAttribute('aria-label','Captions Menu');\n    }\n  });\n  vjs.CaptionsButton.prototype.kind_ = 'captions';\n  vjs.CaptionsButton.prototype.buttonText = 'Captions';\n  vjs.CaptionsButton.prototype.className = 'vjs-captions-button';\n\n  /**\n   * @constructor\n   */\n  vjs.SubtitlesButton = vjs.TextTrackButton.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      vjs.TextTrackButton.call(this, player, options, ready);\n      this.el_.setAttribute('aria-label','Subtitles Menu');\n    }\n  });\n  vjs.SubtitlesButton.prototype.kind_ = 'subtitles';\n  vjs.SubtitlesButton.prototype.buttonText = 'Subtitles';\n  vjs.SubtitlesButton.prototype.className = 'vjs-subtitles-button';\n\n  // Chapters act much differently than other text tracks\n  // Cues are navigation vs. other tracks of alternative languages\n  /**\n   * @constructor\n   */\n  vjs.ChaptersButton = vjs.TextTrackButton.extend({\n    /** @constructor */\n    init: function(player, options, ready){\n      vjs.TextTrackButton.call(this, player, options, ready);\n      this.el_.setAttribute('aria-label','Chapters Menu');\n    }\n  });\n  vjs.ChaptersButton.prototype.kind_ = 'chapters';\n  vjs.ChaptersButton.prototype.buttonText = 'Chapters';\n  vjs.ChaptersButton.prototype.className = 'vjs-chapters-button';\n\n  // Create a menu item for each text track\n  vjs.ChaptersButton.prototype.createItems = function(){\n    var items = [], track;\n\n    for (var i = 0; i < this.player_.textTracks().length; i++) {\n      track = this.player_.textTracks()[i];\n      if (track.kind() === this.kind_) {\n        items.push(new vjs.TextTrackMenuItem(this.player_, {\n          'track': track\n        }));\n      }\n    }\n\n    return items;\n  };\n\n  vjs.ChaptersButton.prototype.createMenu = function(){\n    var tracks = this.player_.textTracks(),\n        i = 0,\n        j = tracks.length,\n        track, chaptersTrack,\n        items = this.items = [];\n\n    for (;i<j;i++) {\n      track = tracks[i];\n      if (track.kind() == this.kind_ && track.dflt()) {\n        if (track.readyState() < 2) {\n          this.chaptersTrack = track;\n          track.on('loaded', vjs.bind(this, this.createMenu));\n          return;\n        } else {\n          chaptersTrack = track;\n          break;\n        }\n      }\n    }\n\n    var menu = this.menu = new vjs.Menu(this.player_);\n\n    menu.el_.appendChild(vjs.createEl('li', {\n      className: 'vjs-menu-title',\n      innerHTML: vjs.capitalize(this.kind_),\n      tabindex: -1\n    }));\n\n    if (chaptersTrack) {\n      var cues = chaptersTrack.cues_, cue, mi;\n      i = 0;\n      j = cues.length;\n\n      for (;i<j;i++) {\n        cue = cues[i];\n\n        mi = new vjs.ChaptersTrackMenuItem(this.player_, {\n          'track': chaptersTrack,\n          'cue': cue\n        });\n\n        items.push(mi);\n\n        menu.addChild(mi);\n      }\n    }\n\n    if (this.items.length > 0) {\n      this.show();\n    }\n\n    return menu;\n  };\n\n\n  /**\n   * @constructor\n   */\n  vjs.ChaptersTrackMenuItem = vjs.MenuItem.extend({\n    /** @constructor */\n    init: function(player, options){\n      var track = this.track = options['track'],\n          cue = this.cue = options['cue'],\n          currentTime = player.currentTime();\n\n      // Modify options for parent MenuItem class's init.\n      options['label'] = cue.text;\n      options['selected'] = (cue.startTime <= currentTime && currentTime < cue.endTime);\n      vjs.MenuItem.call(this, player, options);\n\n      track.on('cuechange', vjs.bind(this, this.update));\n    }\n  });\n\n  vjs.ChaptersTrackMenuItem.prototype.onClick = function(){\n    vjs.MenuItem.prototype.onClick.call(this);\n    this.player_.currentTime(this.cue.startTime);\n    this.update(this.cue.startTime);\n  };\n\n  vjs.ChaptersTrackMenuItem.prototype.update = function(){\n    var cue = this.cue,\n        currentTime = this.player_.currentTime();\n\n    // vjs.log(currentTime, cue.startTime);\n    if (cue.startTime <= currentTime && currentTime < cue.endTime) {\n      this.selected(true);\n    } else {\n      this.selected(false);\n    }\n  };\n\n  // Add Buttons to controlBar\n  vjs.obj.merge(vjs.ControlBar.prototype.options_['children'], {\n    'subtitlesButton': {},\n    'captionsButton': {},\n    'chaptersButton': {}\n  });\n\n  // vjs.Cue = vjs.Component.extend({\n  //   /** @constructor */\n  //   init: function(player, options){\n  //     vjs.Component.call(this, player, options);\n  //   }\n  // });\n  /**\n   * @fileoverview Add JSON support\n   * @suppress {undefinedVars}\n   * (Compiler doesn't like JSON not being declared)\n   */\n\n  /**\n   * Javascript JSON implementation\n   * (Parse Method Only)\n   * https://github.com/douglascrockford/JSON-js/blob/master/json2.js\n   * Only using for parse method when parsing data-setup attribute JSON.\n   * @type {Object}\n   * @suppress {undefinedVars}\n   */\n  vjs.JSON;\n\n  /**\n   * @suppress {undefinedVars}\n   */\n  if (typeof window.JSON !== 'undefined' && window.JSON.parse === 'function') {\n    vjs.JSON = window.JSON;\n\n  } else {\n    vjs.JSON = {};\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n    vjs.JSON.parse = function (text, reviver) {\n        var j;\n\n        function walk(holder, key) {\n            var k, v, value = holder[key];\n            if (value && typeof value === 'object') {\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = walk(value, k);\n                        if (v !== undefined) {\n                            value[k] = v;\n                        } else {\n                            delete value[k];\n                        }\n                    }\n                }\n            }\n            return reviver.call(holder, key, value);\n        }\n        text = String(text);\n        cx.lastIndex = 0;\n        if (cx.test(text)) {\n            text = text.replace(cx, function (a) {\n                return '\\\\u' +\n                    ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            });\n        }\n\n        if (/^[\\],:{}\\s]*$/\n                .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                    .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                    .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n            j = eval('(' + text + ')');\n\n            return typeof reviver === 'function' ?\n                walk({'': j}, '') : j;\n        }\n\n        throw new SyntaxError('JSON.parse(): invalid or malformed JSON data');\n    };\n  }\n  /**\n   * @fileoverview Functions for automatically setting up a player\n   * based on the data-setup attribute of the video tag\n   */\n\n  // Automatically set up any tags that have a data-setup attribute\n  vjs.autoSetup = function(){\n    var options, vid, player,\n        vids = document.getElementsByTagName('video');\n\n    // Check if any media elements exist\n    if (vids && vids.length > 0) {\n\n      for (var i=0,j=vids.length; i<j; i++) {\n        vid = vids[i];\n\n        // Check if element exists, has getAttribute func.\n        // IE seems to consider typeof el.getAttribute == 'object' instead of 'function' like expected, at least when loading the player immediately.\n        if (vid && vid.getAttribute) {\n\n          // Make sure this player hasn't already been set up.\n          if (vid['player'] === undefined) {\n            options = vid.getAttribute('data-setup');\n\n            // Check if data-setup attr exists.\n            // We only auto-setup if they've added the data-setup attr.\n            if (options !== null) {\n\n              // Parse options JSON\n              // If empty string, make it a parsable json object.\n              options = vjs.JSON.parse(options || '{}');\n\n              // Create new video.js instance.\n              player = videojs(vid, options);\n            }\n          }\n\n        // If getAttribute isn't defined, we need to wait for the DOM.\n        } else {\n          vjs.autoSetupTimeout(1);\n          break;\n        }\n      }\n\n    // No videos were found, so keep looping unless page is finisehd loading.\n    } else if (!vjs.windowLoaded) {\n      vjs.autoSetupTimeout(1);\n    }\n  };\n\n  // Pause to let the DOM keep processing\n  vjs.autoSetupTimeout = function(wait){\n    setTimeout(vjs.autoSetup, wait);\n  };\n\n  vjs.one(window, 'load', function(){\n    vjs.windowLoaded = true;\n  });\n\n  // Run Auto-load players\n  // You have to wait at least once in case this script is loaded after your video in the DOM (weird behavior only with minified version)\n  vjs.autoSetupTimeout(1);\n  vjs.plugin = function(name, init){\n    vjs.Player.prototype[name] = init;\n  };\n\n  module.exports = vjs;\n}());\n","/*\nThe user model is a special case. You authenticate, log out, and create test users\nby setting specific values and saving the model.\n\n//Saving this model will attempt to log you in as that user\nvar user = db.createModel('user').set({username:'test',password:'test'});\n\n//Saving this model will log you out\nvar user = db.createModel('user').set({id:'logout'});\n\n//Saving this model will create a new user and log you in automatically\n//obviously, only works on staging and development endpoints\nvar user = db.createModel('user').set({id:'test'});\n\n*/\n(function () {\n  var Model = require('./base')\n    , _ = require('lodash')\n    , Customization = require('./customization')\n    , User = Model.extend({\n        name:'user'\n      , url: function () {\n          return this.app.config.baseUrl+'/users/auth.json';\n        }\n      , parse: function(data, options) {\n          var dataCopy = _.clone(data);\n\n          try {\n            dataCopy = dataCopy.user;\n\n            dataCopy.customization =  (new Customization({},{app:this.app})).parse({customization: dataCopy.customization});\n\n            data = dataCopy;\n          }\n          catch(e) {\n            data = {\n              error: data.error\n            };\n          }\n\n          return data;\n        }\n      , defaults: {\n          username:'',\n          password:'',\n          token:false,\n          policy:'',\n          signature:'',\n          path:'',\n          customization:{},\n          error:null\n        }\n      });\n\n  module.exports = User;\n}());","(function () {\n  var Model = require('./base')\n    , Video = require('./video')\n    , Image = require('./image')\n    , Backbone = require('../helpers/BackboneLoader')\n    , _ = require('lodash')\n    , stringUtils = require('utilities/lib/string')\n    , Page = Model.extend(\n      {\n        name:'page'\n      , urlRoot:function () {\n        return this.app.config.baseUrl + '/pages';\n      }\n      , defaults: {\n          name:'Untitled',\n          items:[],\n          userId:'',\n          isPublished:false,\n          errors:null\n        }\n      , initialize: function(attributes, opts) {\n          this.set(attributes);\n          this.app = opts.app || {};\n        }\n      , validate: function(attrs,options) {\n          var errors = [];\n\n          if(!attrs.name || attrs.name.length == 0) {\n            errors.push({attr:\"name\",message:\"Page title cannot be empty\"});\n          }\n\n          if(!attrs.id) {\n            //Check for duplicate page\n            var pages = this.app.db.fetchCollection('pages').filter(function(page) {\n              return page.attributes.name.toLowerCase() === attrs.name.toLowerCase();\n            });\n            if(pages && pages.length > 0) {\n              errors.push({attr:\"name\",message:\"Another page already exists with this name\"});\n            }\n          }\n\n          if(errors.length) {\n            return errors;\n          }\n        }\n      , toJSON: function () {\n          incoming = _.clone(this.attributes);\n\n          if(incoming.items) {\n            incoming.itemList = JSON.stringify(incoming.items);\n          }\n\n          return incoming;\n        }\n      , parse: function(data, options) {\n          try {\n            data.items = JSON.parse(data.itemList);\n            delete data.itemList;\n          }\n          catch(e) {\n            data = {\n              errors: 'Bad response from server: ' + e\n            };\n          }\n\n          return data;\n        }\n      , getMedia: function () {\n          return this.app.db.fetchCollection('pageMedia', {app:this.app, pageId: this.id});\n        }\n      , removeMedia: function(mediaId, cb) {\n          var self = this\n            , newItems = _.clone(self.attributes.items);\n\n          newItems = _.reject(newItems, function (item) {\n            return item.ID === mediaId;\n          });\n\n          self.set(\"items\",newItems);\n          self.save(null,{\n            success:function() {\n              self.app.db.fetchCollection('unprocessedUploads').fetch();\n              self.app.db.fetchCollection('pages').fetch();\n\n              cb(null);\n            },\n            error: function (model, response) {\n              cb(response.responseText);\n            }\n          });\n        }\n      , addMedia: function(cb) {\n          var self = this;\n\n        //Start filepicker\n          filepicker.pickAndStore({\n            extensions:self.app.config.videoExts.concat(self.app.config.imageExts),\n            multiple:false,\n            signature:self.app.getUser().attributes.signature,\n            policy:self.app.getUser().attributes.policy,\n            services:[\n              'COMPUTER',\n              'DROPBOX',\n              'FLICKR',\n              'GOOGLE_DRIVE',\n              'FTP'\n            ]\n          }\n        //Filepicker Options\n        , {\n            location:'s3',\n            path:self.app.getUser().attributes.path + stringUtils.uuid(10),\n            access:'public'\n          }\n        , function(FPFiles) {\n            self.app.setFlash('info', 'Just a second while we process your uploads...');\n\n            if(Object.prototype.toString.call( FPFiles ) !== '[object Array]') {\n              FPFiles = [FPFiles]; //wrap in an array.\n            }\n\n            var newItems = _.clone(self.attributes.items)\n              , itemsToGo = FPFiles.length\n\n              //Called after a file has been saved\n              , afterItemComplete = function(savedModel) {\n                  var new_id = savedModel.id\n                    , new_name = savedModel.attributes.name\n                    , type = savedModel.attributes.type.toLowerCase();\n\n                  newItems.push({ID:new_id,NAME:new_name,TYPE:type,THUMB:savedModel.templateVars().thumbnailUrl});\n                  itemsToGo--;\n\n                  if(itemsToGo===0) {\n                    self.set(\"items\",newItems);\n                    self.save(null,{\n                      success:function() {\n                        self.app.db.fetchCollection('unprocessedUploads').fetch();\n                        self.app.db.fetchCollection('pages').fetch();\n\n                        cb(null, FPFiles);\n                      },\n                      error: self.app.error\n                    });\n                  }\n                };\n\n            for(var i=0, ii=FPFiles.length; i<ii; i++) {\n              //Save the file to the server\n              (function(FPFile) {\n                var model\n                  , type\n                  , opts = {\n                    name: FPFile.filename,\n                    fpkey: FPFile.url,\n                    mimeType: FPFile.mimetype,\n                    originalFilesize: FPFile.size,\n                    userId: self.attributes.userId,\n                    attribs: [],\n                    status: 0\n                  };\n\n                //Create the correct type of model\n                if(self.app.util.isVideo(FPFile.filename)) {\n                  model = new Video({},{app: self.app});\n                  type=\"video\";\n                }\n                else if(self.app.util.isImage(FPFile.filename)) {\n                  model = new Image({},{app: self.app});\n                  type=\"image\";\n                }\n\n                //Set the attributes\n                model.set(opts);\n\n                //Save the model to the server\n                if(type === 'image') {\n                  model.cropThumbnail(null, function (err) {\n                    if(err) {\n                      self.app.error(err);\n                    }\n                    else {\n                      afterItemComplete(model);\n                    }\n                  });\n                }\n                else {\n                  model.save(null, {\n                    success:function(savedModel, resp) {\n                      //Call the completion function\n                      afterItemComplete(savedModel);\n                    },\n                    error: self.app.error\n                  });\n                }\n              })(FPFiles[i]);\n            }\n          },\n          function(FPError) {\n            cb(FPError);\n          });\n        }\n      });\n\n  module.exports = Page;\n}());","(function () {\n  var Model = require('./base')\n    , _ = require('lodash')\n    , Backbone = require('../helpers/BackboneLoader')\n    , Customization = Model.extend({\n        name:'customization'\n      , urlRoot: function () {\n        return this.app.config.baseUrl + '/customizations';\n        }\n      , toJSON: function () {\n          incoming = _.clone(this.attributes);\n\n          if(incoming.config) {\n            incoming.config = JSON.stringify(incoming.config);\n          }\n          if(incoming.diffs) {\n            incoming.diffs = JSON.stringify(incoming.diffs);\n          }\n\n          return incoming;\n        }\n      , parse: function(data, options) {\n          data = data.customization;\n          delete data.customization;\n\n          try {\n            data.config = JSON.parse(data.config);\n          }\n          catch(e) {\n            data.config = {};\n          }\n\n          try {\n            data.diffs = JSON.parse(data.diffs);\n          }\n          catch(e) {\n            data.diffs = {};\n          }\n\n          return data;\n        }\n      });\n\n  module.exports = Customization;\n}());","(function () {\n  var Collection = require('./base')\n    , _ = require('lodash')\n    , PageMedia = Collection.extend({\n        name:'media'\n      , initialize: function(models, opts) {\n          this.set(models);\n          this.app = opts.app || {};\n          this.pageId = opts.pageId || null;\n\n          // FIXME: This awful situation is because `this` inside\n          // the model function refers to a model, not the collection\n          this.model = function(attrs, options) {\n            if (attrs.type.toLowerCase() === 'image') {\n              return opts.app.db.createModel('image', attrs);\n            } else {\n              return opts.app.db.createModel('video', attrs);\n            }\n          };\n        }\n      , url: function() {\n          return this.app.config.baseUrl+'/pages/'+this.pageId+'/media.json'\n        }\n      });\n\n  module.exports = PageMedia;\n}());","(function () {\n  var Collection = require('./base')\n    , Page = require('../models/page')\n    , _ = require('lodash')\n    , Pages = Collection.extend({\n        name:'page'\n      , url: function () {\n          return this.app.config.baseUrl+'/pages.json'+(this.app.bootstrap.userId ? '?userId=' + this.app.bootstrap.userId : '');\n        }\n      , initialize: function(models, opts) {\n          this.set(models);\n          this.app = opts.app || {};\n\n          // FIXME: This awful situation is because `this` inside\n          // the model function refers to a model, not the collection\n          this.model = function(attrs, options) {\n            var p = opts.app.db.createModel('page')\n              , parsedAttrs = p.parse(attrs);\n\n            return opts.app.db.fetchModel('page', parsedAttrs.id, parsedAttrs);\n          };\n        }\n        // Sort by page priority, lowest first\n      , comparator: function (page) {\n          return page.get('priority');\n        }\n      });\n\n  module.exports = Pages;\n}());\n","(function () {\n  var Collection = require('./base')\n    , Image = require('../models/image.js')\n    , Video = require('../models/video.js')\n    , _ = require('lodash')\n    , UnprocessedUploads = Collection.extend({\n        name:'media'\n      , url: function () { return this.app.config.baseUrl+'/unprocessed.json'; }\n      , initialize: function(models, opts) {\n          this.set(models);\n          this.app = opts.app || {};\n\n          // FIXME: This awful situation is because `this` inside\n          // the model function refers to a model, not the collection\n          this.model = function(attrs, options) {\n            if (attrs.type.toLowerCase() === 'image') {\n              return opts.app.db.createModel('image').set(attrs);\n            } else {\n              return opts.app.db.createModel('video').set(attrs);\n            }\n          };\n        }\n      });\n\n  module.exports = UnprocessedUploads;\n}());","(function () {\n  var Collection = require('./base')\n    , Video = require('../models/video')\n    , _ = require('lodash')\n    , Videos = Collection.extend({\n        name:'video'\n      , url: function () {\n          return this.app.config.baseUrl+'/videos.json'+(this.app.bootstrap.userId ? '?userId=' + this.app.bootstrap.userId : '');\n        }\n      , initialize: function(models, opts) {\n          this.set(models);\n          this.app = opts.app || {};\n\n          // FIXME: This awful situation is because `this` inside\n          // the model function refers to a model, not the collection\n          this.model = function(attrs, options) {\n            var p = opts.app.db.createModel('video');\n            return opts.app.db.createModel('video', p.parse(attrs));\n          };\n        }\n      });\n\n  module.exports = Videos;\n}());\n","(function () {\n  var Collection = require('./base')\n    , Image = require('../models/image')\n    , _ = require('lodash')\n    , Images = Collection.extend({\n        name:'image'\n      , url: function () {\n          return this.app.config.baseUrl+'/images.json'+(this.app.bootstrap.userId ? '?userId=' + this.app.bootstrap.userId : '');\n        }\n      , initialize: function(models, opts) {\n          this.set(models);\n          this.app = opts.app || {};\n\n          // FIXME: This awful situation is because `this` inside\n          // the model function refers to a model, not the collection\n          this.model = function(attrs, options) {\n            var p = opts.app.db.createModel('image');\n            return opts.app.db.createModel('image', p.parse(attrs));\n          };\n        }\n      });\n\n  module.exports = Images;\n}());\n","//     Backbone.js 1.0.0\n\n//     (c) 2010-2013 Jeremy Ashkenas, DocumentCloud Inc.\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(){\n\n  // Initial Setup\n  // -------------\n\n  // Save a reference to the global object (`window` in the browser, `exports`\n  // on the server).\n  var root = this;\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create local references to array methods we'll want to use later.\n  var array = [];\n  var push = array.push;\n  var slice = array.slice;\n  var splice = array.splice;\n\n  // The top-level namespace. All public Backbone classes and modules will\n  // be attached to this. Exported for both the browser and the server.\n  var Backbone;\n  if (typeof exports !== 'undefined') {\n    Backbone = exports;\n  } else {\n    Backbone = root.Backbone = {};\n  }\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.0.0';\n\n  // Require Underscore, if we're on the server, and it's not already present.\n  var _ = root._;\n  if (!_ && (typeof require !== 'undefined')) _ = require('underscore');\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = root.jQuery || root.Zepto || root.ender || root.$;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback\n  // functions to an event; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {\n\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    on: function(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({callback: callback, context: context, ctx: context || this});\n      return this;\n    },\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, it will be removed.\n    once: function(name, callback, context) {\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n      var self = this;\n      var once = _.once(function() {\n        self.off(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n      return this.on(name, once, context);\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    off: function(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n      if (!name && !callback && !context) {\n        this._events = {};\n        return this;\n      }\n\n      names = name ? [name] : _.keys(this._events);\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (events = this._events[name]) {\n          this._events[name] = retain = [];\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                  (context && context !== ev.context)) {\n                retain.push(ev);\n              }\n            }\n          }\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(name) {\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, arguments);\n      return this;\n    },\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    stopListening: function(obj, name, callback) {\n      var listeners = this._listeners;\n      if (!listeners) return this;\n      var deleteListener = !name && !callback;\n      if (typeof name === 'object') callback = this;\n      if (obj) (listeners = {})[obj._listenerId] = obj;\n      for (var id in listeners) {\n        listeners[id].off(name, callback, this);\n        if (deleteListener) delete this._listeners[id];\n      }\n      return this;\n    }\n\n  };\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Implement fancy features of the Events API such as multiple event\n  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n  // in terms of the existing API.\n  var eventsApi = function(obj, action, name, rest) {\n    if (!name) return true;\n\n    // Handle event maps.\n    if (typeof name === 'object') {\n      for (var key in name) {\n        obj[action].apply(obj, [key, name[key]].concat(rest));\n      }\n      return false;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n    }\n  };\n\n  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\n  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n  // listen to an event in another object ... keeping track of what it's\n  // listening to.\n  _.each(listenMethods, function(implementation, method) {\n    Events[method] = function(obj, name, callback) {\n      var listeners = this._listeners || (this._listeners = {});\n      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n      listeners[id] = obj;\n      if (typeof name === 'object') callback = this;\n      obj[implementation](name, callback, this);\n      return this;\n    };\n  });\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var defaults;\n    var attrs = attributes || {};\n    options || (options = {});\n    this.cid = _.uniqueId('c');\n    this.attributes = {};\n    _.extend(this, _.pick(options, modelOptions));\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    if (defaults = _.result(this, 'defaults')) {\n      attrs = _.defaults({}, attrs, defaults);\n    }\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // A list of options to be attached directly to the model, if provided.\n  var modelOptions = ['url', 'urlRoot', 'collection'];\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      var attr, attrs, unset, changes, silent, changing, prev, current;\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      unset           = options.unset;\n      silent          = options.silent;\n      changes         = [];\n      changing        = this._changing;\n      this._changing  = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n      current = this.attributes, prev = this._previousAttributes;\n\n      // Check for changes of `id`.\n      if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];\n\n      // For each `set` attribute, update or delete the current value.\n      for (attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          this.changed[attr] = val;\n        } else {\n          delete this.changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = true;\n        for (var i = 0, l = changes.length; i < l; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var val, changed = false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      for (var attr in diff) {\n        if (_.isEqual(old[attr], (val = diff[attr]))) continue;\n        (changed || (changed = {}))[attr] = val;\n      }\n      return changed;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server. If the server's representation of the\n    // model differs from its current attributes, they will be overridden,\n    // triggering a `\"change\"` event.\n    fetch: function(options) {\n      options = options ? _.clone(options) : {};\n      if (options.parse === void 0) options.parse = true;\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        if (!model.set(model.parse(resp, options), options)) return false;\n        if (success) success(model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      var attrs, method, xhr, attributes = this.attributes;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      // If we're not waiting and attributes exist, save acts as `set(attr).save(null, opts)`.\n      if (attrs && (!options || !options.wait) && !this.set(attrs, options)) return false;\n\n      options = _.extend({validate: true}, options);\n\n      // Do not persist invalid models.\n      if (!this._validate(attrs, options)) return false;\n\n      // Set temporary attributes if `{wait: true}`.\n      if (attrs && options.wait) {\n        this.attributes = _.extend({}, attributes, attrs);\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      if (options.parse === void 0) options.parse = true;\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = model.parse(resp, options);\n        if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);\n        if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {\n          return false;\n        }\n        if (success) success(model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n      if (method === 'patch') options.attrs = attrs;\n      xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      if (attrs && options.wait) this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n\n      var destroy = function() {\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (options.wait || model.isNew()) destroy();\n        if (success) success(model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      if (this.isNew()) {\n        options.success();\n        return false;\n      }\n      wrapError(this, options);\n\n      var xhr = this.sync('delete', this, options);\n      if (!options.wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();\n      if (this.isNew()) return base;\n      return base + (base.charAt(base.length - 1) === '/' ? '' : '/') + encodeURIComponent(this.id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return this.id == null;\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend(options || {}, { validate: true }));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options || {}, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Model.\n  var modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit'];\n\n  // Mix in each Underscore method as a proxy to `Model#attributes`.\n  _.each(modelMethods, function(method) {\n    Model.prototype[method] = function() {\n      var args = slice.call(arguments);\n      args.unshift(this.attributes);\n      return _[method].apply(_, args);\n    };\n  });\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analagous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    if (options.url) this.url = options.url;\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, merge: false, remove: false};\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model){ return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set.\n    add: function(models, options) {\n      return this.set(models, _.defaults(options || {}, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      models = _.isArray(models) ? models.slice() : [models];\n      options || (options = {});\n      var i, l, index, model;\n      for (i = 0, l = models.length; i < l; i++) {\n        model = this.get(models[i]);\n        if (!model) continue;\n        delete this._byId[model.id];\n        delete this._byId[model.cid];\n        index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n        this._removeReference(model);\n      }\n      return this;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      options = _.defaults(options || {}, setOptions);\n      if (options.parse) models = this.parse(models, options);\n      if (!_.isArray(models)) models = models ? [models] : [];\n      var i, l, model, attrs, existing, sort;\n      var at = options.at;\n      var sortable = this.comparator && (at == null) && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n      var toAdd = [], toRemove = [], modelMap = {};\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      for (i = 0, l = models.length; i < l; i++) {\n        if (!(model = this._prepareModel(models[i], options))) continue;\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        if (existing = this.get(model)) {\n          if (options.remove) modelMap[existing.cid] = true;\n          if (options.merge) {\n            existing.set(model.attributes, options);\n            if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;\n          }\n\n        // This is a new model, push it to the `toAdd` list.\n        } else if (options.add) {\n          toAdd.push(model);\n\n          // Listen to added models' events, and index models for lookup by\n          // `id` and by `cid`.\n          model.on('all', this._onModelEvent, this);\n          this._byId[model.cid] = model;\n          if (model.id != null) this._byId[model.id] = model;\n        }\n      }\n\n      // Remove nonexistent models if appropriate.\n      if (options.remove) {\n        for (i = 0, l = this.length; i < l; ++i) {\n          if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this.remove(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      if (toAdd.length) {\n        if (sortable) sort = true;\n        this.length += toAdd.length;\n        if (at != null) {\n          splice.apply(this.models, [at, 0].concat(toAdd));\n        } else {\n          push.apply(this.models, toAdd);\n        }\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      if (options.silent) return this;\n\n      // Trigger `add` events.\n      for (i = 0, l = toAdd.length; i < l; i++) {\n        (model = toAdd[i]).trigger('add', model, this, options);\n      }\n\n      // Trigger `sort` if the collection was sorted.\n      if (sort) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options || (options = {});\n      for (var i = 0, l = this.models.length; i < l; i++) {\n        this._removeReference(this.models[i]);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return this;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      model = this._prepareModel(model, options);\n      this.add(model, _.extend({at: this.length}, options));\n      return model;\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      this.remove(model, options);\n      return model;\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      model = this._prepareModel(model, options);\n      this.add(model, _.extend({at: 0}, options));\n      return model;\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      this.remove(model, options);\n      return model;\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function(begin, end) {\n      return this.models.slice(begin, end);\n    },\n\n    // Get a model from the set by id.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj.id != null ? obj.id : obj.cid || obj];\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      if (_.isEmpty(attrs)) return first ? void 0 : [];\n      return this[first ? 'find' : 'filter'](function(model) {\n        for (var key in attrs) {\n          if (attrs[key] !== model.get(key)) return false;\n        }\n        return true;\n      });\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      if (!this.comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      // Run sort based on type of `comparator`.\n      if (_.isString(this.comparator) || this.comparator.length === 1) {\n        this.models = this.sortBy(this.comparator, this);\n      } else {\n        this.models.sort(_.bind(this.comparator, this));\n      }\n\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Figure out the smallest index at which a model should be inserted so as\n    // to maintain order.\n    sortedIndex: function(model, value, context) {\n      value || (value = this.comparator);\n      var iterator = _.isFunction(value) ? value : function(model) {\n        return model.get(value);\n      };\n      return _.sortedIndex(this.models, model, iterator, context);\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return _.invoke(this.models, 'get', attr);\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = options ? _.clone(options) : {};\n      if (options.parse === void 0) options.parse = true;\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success(collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      if (!(model = this._prepareModel(model, options))) return false;\n      if (!options.wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(resp) {\n        if (options.wait) collection.add(model, options);\n        if (success) success(model, resp, options);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models);\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (attrs instanceof Model) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options || (options = {});\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model._validate(attrs, options)) {\n        this.trigger('invalid', this, attrs, options);\n        return false;\n      }\n      return model;\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model) {\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if ((event === 'add' || event === 'remove') && collection !== this) return;\n      if (event === 'destroy') this.remove(model, options);\n      if (model && event === 'change:' + model.idAttribute) {\n        delete this._byId[model.previous(model.idAttribute)];\n        if (model.id != null) this._byId[model.id] = model;\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',\n    'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',\n    'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',\n    'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',\n    'tail', 'drop', 'last', 'without', 'indexOf', 'shuffle', 'lastIndexOf',\n    'isEmpty', 'chain'];\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n  _.each(methods, function(method) {\n    Collection.prototype[method] = function() {\n      var args = slice.call(arguments);\n      args.unshift(this.models);\n      return _[method].apply(_, args);\n    };\n  });\n\n  // Underscore methods that take a property name as an argument.\n  var attributeMethods = ['groupBy', 'countBy', 'sortBy'];\n\n  // Use attributes instead of properties.\n  _.each(attributeMethods, function(method) {\n    Collection.prototype[method] = function(value, context) {\n      var iterator = _.isFunction(value) ? value : function(model) {\n        return model.get(value);\n      };\n      return _[method](this.models, iterator, context);\n    };\n  });\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    this._configure(options || {});\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n    this.delegateEvents();\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be merged as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be prefered to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this.$el.remove();\n      this.stopListening();\n      return this;\n    },\n\n    // Change the view's element (`this.el` property), including event\n    // re-delegation.\n    setElement: function(element, delegate) {\n      if (this.$el) this.undelegateEvents();\n      this.$el = element instanceof Backbone.$ ? element : Backbone.$(element);\n      this.el = this.$el[0];\n      if (delegate !== false) this.delegateEvents();\n      return this;\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save'\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    // This only works for delegate-able events: not `focus`, `blur`, and\n    // not `change`, `submit`, and `reset` in Internet Explorer.\n    delegateEvents: function(events) {\n      if (!(events || (events = _.result(this, 'events')))) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[events[key]];\n        if (!method) continue;\n\n        var match = key.match(delegateEventSplitter);\n        var eventName = match[1], selector = match[2];\n        method = _.bind(method, this);\n        eventName += '.delegateEvents' + this.cid;\n        if (selector === '') {\n          this.$el.on(eventName, method);\n        } else {\n          this.$el.on(eventName, selector, method);\n        }\n      }\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view with `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // Performs the initial configuration of a View with a set of options.\n    // Keys with special meaning *(e.g. model, collection, id, className)* are\n    // attached directly to the view.  See `viewOptions` for an exhaustive\n    // list.\n    _configure: function(options) {\n      if (this.options) options = _.extend({}, _.result(this, 'options'), options);\n      _.extend(this, _.pick(options, viewOptions));\n      this.options = options;\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        var $el = Backbone.$('<' + _.result(this, 'tagName') + '>').attr(attrs);\n        this.setElement($el, false);\n      } else {\n        this.setElement(_.result(this, 'el'), false);\n      }\n    }\n\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // If we're sending a `PATCH` request, and we're in an old Internet Explorer\n    // that still has ActiveX enabled by default, override jQuery to use that\n    // for XHR instead. Remove this line when jQuery supports `PATCH` on IE8.\n    if (params.type === 'PATCH' && window.ActiveXObject &&\n          !(window.external && window.external.msActiveXFilteringEnabled)) {\n      params.xhr = function() {\n        return new ActiveXObject(\"Microsoft.XMLHTTP\");\n      };\n    }\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    'create': 'POST',\n    'update': 'PUT',\n    'patch':  'PATCH',\n    'delete': 'DELETE',\n    'read':   'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        callback && callback.apply(router, args);\n        router.trigger.apply(router, ['route:' + name].concat(args));\n        router.trigger('route', name, args);\n        Backbone.history.trigger('route', router, name, args);\n      });\n      return this;\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n                   .replace(optionalParam, '(?:$1)?')\n                   .replace(namedParam, function(match, optional){\n                     return optional ? match : '([^\\/]+)';\n                   })\n                   .replace(splatParam, '(.*?)');\n      return new RegExp('^' + route + '$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param) {\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    _.bindAll(this, 'checkUrl');\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for detecting MSIE.\n  var isExplorer = /msie [\\w.]+/;\n\n  // Cached regex for removing a trailing slash.\n  var trailingSlash = /\\/$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the cross-browser normalized URL fragment, either from the URL,\n    // the hash, or the override.\n    getFragment: function(fragment, forcePushState) {\n      if (fragment == null) {\n        if (this._hasPushState || !this._wantsHashChange || forcePushState) {\n          fragment = this.location.pathname;\n          var root = this.root.replace(trailingSlash, '');\n          if (!fragment.indexOf(root)) fragment = fragment.substr(root.length);\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error(\"Backbone.history has already been started\");\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({}, {root: '/'}, this.options, options);\n      this.root             = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.options.pushState && this.history && this.history.pushState);\n      var fragment          = this.getFragment();\n      var docMode           = document.documentMode;\n      var oldIE             = (isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7));\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      if (oldIE && this._wantsHashChange) {\n        this.iframe = Backbone.$('<iframe src=\"javascript:0\" tabindex=\"-1\" />').hide().appendTo('body')[0].contentWindow;\n        this.navigate(fragment);\n      }\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._hasPushState) {\n        Backbone.$(window).on('popstate', this.checkUrl);\n      } else if (this._wantsHashChange && ('onhashchange' in window) && !oldIE) {\n        Backbone.$(window).on('hashchange', this.checkUrl);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      // Determine if we need to change the base url, for a pushState link\n      // opened by a non-pushState browser.\n      this.fragment = fragment;\n      var loc = this.location;\n      var atRoot = loc.pathname.replace(/[^\\/]$/, '$&/') === this.root;\n\n      // If we've started off with a route from a `pushState`-enabled browser,\n      // but we're currently in a browser that doesn't support it...\n      if (this._wantsHashChange && this._wantsPushState && !this._hasPushState && !atRoot) {\n        this.fragment = this.getFragment(null, true);\n        this.location.replace(this.root + this.location.search + '#' + this.fragment);\n        // Return immediately as browser will do redirect to new url\n        return true;\n\n      // Or if we've started out with a hash-based route, but we're currently\n      // in a browser where it could be `pushState`-based instead...\n      } else if (this._wantsPushState && this._hasPushState && atRoot && loc.hash) {\n        this.fragment = this.getHash().replace(routeStripper, '');\n        this.history.replaceState({}, document.title, this.root + this.fragment + loc.search);\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      Backbone.$(window).off('popstate', this.checkUrl).off('hashchange', this.checkUrl);\n      clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n      if (current === this.fragment && this.iframe) {\n        current = this.getFragment(this.getHash(this.iframe));\n      }\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl() || this.loadUrl(this.getHash());\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragmentOverride) {\n      var fragment = this.fragment = this.getFragment(fragmentOverride);\n      var matched = _.any(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n      return matched;\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: options};\n      fragment = this.getFragment(fragment || '');\n      if (this.fragment === fragment) return;\n      this.fragment = fragment;\n      var url = this.root + fragment;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._hasPushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && (fragment !== this.getFragment(this.getHash(this.iframe)))) {\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if(!options.replace) this.iframe.document.open().close();\n          this._updateHash(this.iframe.location, fragment, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain, for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent's constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function.\n    var Surrogate = function(){ this.constructor = child; };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate;\n\n    // Add prototype properties (instance properties) to the subclass,\n    // if supplied.\n    if (protoProps) _.extend(child.prototype, protoProps);\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function (model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error(model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n}).call(this);\n","/*\n * Utilities: A classic collection of JavaScript utilities\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\nvar core = require('./core')\n  , inflection = require('./inflection')\n  , string;\n\n\n/**\n  @name string\n  @namespace string\n*/\n\nstring = new (function () {\n\n  // Regexes for trimming, and character maps for escaping\n  var _LTR = /^\\s+/\n    , _RTR = /\\s+$/\n    , _TR = /^\\s+|\\s+$/g\n    , _NL = /\\n|\\r|\\r\\n/g\n    , _CHARS = {\n          '&': '&amp;'\n        , '<': '&lt;'\n        , '>': '&gt;'\n        , '\"': '&quot;'\n        , '\\'': '&#39;'\n      }\n    , _UUID_CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('')\n    , _buildEscape\n    , _buildEscapeTest;\n\n  // Builds the escape/unescape methods using a\n  // map of characters\n  _buildEscape = function (direction) {\n    return function (str) {\n      var string = str;\n\n      // If string is NaN, null or undefined then provide an empty default\n      if((typeof string === 'undefined') ||\n          string === null ||\n          (!string && isNaN(string))) {\n        string = '';\n      }\n      string = string.toString();\n\n      var from, to, p;\n      for (p in _CHARS) {\n        from = direction == 'to' ? p : _CHARS[p];\n        to = direction == 'to' ? _CHARS[p] : p;\n\n        string = string.replace(new RegExp(from, 'gm'), to);\n      }\n\n      return string;\n    }\n  };\n\n  // Builds a method that tests for any escapable\n  // characters, useful for avoiding double-scaping if\n  // you're not sure if a string has already been escaped\n  _buildEscapeTest = function (direction) {\n    return function (string) {\n      var pat = ''\n        , p;\n\n      for (p in _CHARS) {\n        pat += direction == 'to' ? p : _CHARS[p];\n        pat += '|';\n      }\n\n      pat = pat.substr(0, pat.length - 1);\n      pat = new RegExp(pat, \"gm\");\n      return pat.test(string)\n    }\n  };\n\n  // Escape special XMl chars\n  this.escapeXML = _buildEscape('to');\n\n  // Unescape XML chars to literal representation\n  this.unescapeXML = _buildEscape('from');\n\n  // Test if a string includes special chars\n  // that need escaping\n  this.needsEscape = _buildEscapeTest('to');\n\n  // Test if a string includes escaped chars\n  // that need unescaping\n  this.needsUnescape = _buildEscapeTest('from');\n\n  /**\n    @name string#escapeRegExpChars\n    @public\n    @function\n    @return {String} A string of escaped characters\n    @description Escapes regex control-characters in strings\n                 used to build regexes dynamically\n    @param {String} string The string of chars to escape\n  */\n  this.escapeRegExpChars = (function () {\n    var specials = [ '^', '$', '/', '.', '*', '+', '?', '|', '(', ')',\n        '[', ']', '{', '}', '\\\\' ];\n    sRE = new RegExp('(\\\\' + specials.join('|\\\\') + ')', 'g');\n    return function (string) {\n      var str = string || '';\n      str = String(str);\n      return str.replace(sRE, '\\\\$1');\n    };\n  }).call(this);\n\n  /**\n    @name string#toArray\n    @public\n    @function\n    @return {Array} Returns an array of characters\n    @description Converts a string to an array\n    @param {String} string The string to convert\n  */\n  this.toArray = function (string) {\n    var str = string || ''\n      , arr = []\n      , i = -1;\n    str = String(str);\n\n    while (++i < str.length) {\n      arr.push(str.substr(i, 1));\n    }\n\n    return arr;\n  };\n\n  /**\n    @name string#reverse\n    @public\n    @function\n    @return {String} Returns the `string` reversed\n    @description Reverses a string\n    @param {String} string The string to reverse\n  */\n  this.reverse = function (string) {\n    var str = string || '';\n    str = String(str);\n    return this.toArray(str).reverse().join('');\n  };\n\n  /**\n    @name string#ltrim\n    @public\n    @function\n    @return {String} Returns the trimmed string\n    @description Ltrim trims `char` from the left of a `string` and returns it\n                 if no `char` is given it will trim spaces\n    @param {String} string The string to trim\n    @param {String} char The character to trim\n  */\n  this.ltrim = function (string, char) {\n    var str = string || ''\n      , pat = char ? new RegExp('^' + char + '+') : _LTR;\n    str = String(str);\n\n    return str.replace(pat, '');\n  };\n\n  /**\n    @name string#rtrim\n    @public\n    @function\n    @return {String} Returns the trimmed string\n    @description Rtrim trims `char` from the right of a `string` and returns it\n                 if no `char` is given it will trim spaces\n    @param {String} string The string to trim\n    @param {String} char The character to trim\n  */\n  this.rtrim = function (string, char) {\n    var str = string || ''\n      , pat = char ? new RegExp(char + '+$') : _RTR;\n    str = String(str);\n\n    return str.replace(pat, '');\n  };\n\n  // Alias\n  this.chomp = this.rtrim;\n\n  /**\n    @name string#trim\n    @public\n    @function\n    @return {String} Returns the trimmed string\n    @description Trim trims `char` from the left and right of a `string` and returns it\n                 if no `char` is given it will trim spaces\n    @param {String} string The string to trim\n    @param {String} char The character to trim\n  */\n  this.trim = function (string, char) {\n    var str = string || ''\n      , pat = char ? new RegExp('^' + char + '+|' + char + '+$', 'g') : _TR;\n    str = String(str);\n\n    return str.replace(pat, '');\n  };\n\n  /**\n    @name string#chop\n    @public\n    @function\n    @description Returns a new String with the last character removed. If the\n                 string ends with \\r\\n, both characters are removed. Applying chop to an\n                 empty string returns an empty string.\n    @param {String} string to return with the last character removed.\n  */\n  this.chop = function (string) {\n    var index\n      , str = string || '';\n    str = String(str);\n\n    if (str.length) {\n      // Special-case for \\r\\n\n      index = str.indexOf('\\r\\n');\n      if (index == str.length - 2) {\n        return str.substring(0, index);\n      }\n      return str.substring(0, str.length - 1);\n    }\n    else {\n      return '';\n    }\n  };\n\n  /**\n    @name string#lpad\n    @public\n    @function\n    @return {String} Returns the padded string\n    @description Lpad adds `char` to the left of `string` until the length\n                 of `string` is more than `width`\n    @param {String} string The string to pad\n    @param {String} char The character to pad with\n    @param {Number} width the width to pad to\n  */\n  this.lpad = function (string, char, width) {\n    var str = string || ''\n      , width;\n    str = String(str);\n\n    // Should width be string.length + 1? or the same to be safe\n    width = parseInt(width, 10) || str.length;\n    char = char || ' ';\n\n    while (str.length < width) {\n      str = char + str;\n    }\n    return str;\n  };\n\n  /**\n    @name string#rpad\n    @public\n    @function\n    @return {String} Returns the padded string\n    @description Rpad adds `char` to the right of `string` until the length\n                 of `string` is more than `width`\n    @param {String} string The string to pad\n    @param {String} char The character to pad with\n    @param {Number} width the width to pad to\n  */\n  this.rpad = function (string, char, width) {\n    var str = string || ''\n      , width;\n    str = String(str);\n\n    // Should width be string.length + 1? or the same to be safe\n    width = parseInt(width, 10) || str.length;\n    char = char || ' ';\n\n    while (str.length < width) {\n      str += char;\n    }\n    return str;\n  };\n\n  /**\n    @name string#pad\n    @public\n    @function\n    @return {String} Returns the padded string\n    @description Pad adds `char` to the left and right of `string` until the length\n                 of `string` is more than `width`\n    @param {String} string The string to pad\n    @param {String} char The character to pad with\n    @param {Number} width the width to pad to\n  */\n  this.pad = function (string, char, width) {\n    var str = string || ''\n      , width;\n    str = String(str);\n\n    // Should width be string.length + 1? or the same to be safe\n    width = parseInt(width, 10) || str.length;\n    char = char || ' ';\n\n    while (str.length < width) {\n      str = char + str + char;\n    }\n    return str;\n  };\n\n  /**\n    @name string#truncate\n    @public\n    @function\n    @return {String} Returns the truncated string\n    @description Truncates a given `string` after a specified `length` if `string` is longer than\n                 `length`. The last characters will be replaced with an `omission` for a total length\n                 not exceeding `length`. If `callback` is given it will fire if `string` is truncated.\n    @param {String} string The string to truncate\n    @param {Integer/Object} options Options for truncation, If options is an Integer it will be length\n      @param {Integer} [options.length=string.length] Length the output string will be\n      @param {Integer} [options.len] Alias for `length`\n      @param {String} [options.omission='...'] Replace last characters with an omission\n      @param {String} [options.ellipsis='...'] Alias for `omission`\n      @param {String/RegExp} [options.seperator] Break the truncated test at the nearest `seperator`\n    @param {Function} callback Callback is called only if a truncation is done\n  */\n  this.truncate = function (string, options, callback) {\n    var str = string || ''\n      , stringLen\n      , opts\n      , stringLenWithOmission\n      , last\n      , ignoreCase\n      , multiLine\n      , stringToWorkWith\n      , lastIndexOf\n      , nextStop\n      , result\n      , returnString;\n\n    str = String(str);\n    stringLen = str.length\n\n    // If `options` is a number, assume it's the length and\n    // create a options object with length\n    if (typeof options === 'number') {\n      opts = {\n        length: options\n      };\n    }\n    else {\n      opts = options || {};\n    }\n\n    // Set `opts` defaults\n    opts.length = opts.length || stringLen;\n    opts.omission = opts.omission || opts.ellipsis || '...';\n\n    stringLenWithOmission = opts.length - opts.omission.length;\n\n    // Set the index to stop at for `string`\n    if (opts.seperator) {\n      if (opts.seperator instanceof RegExp) {\n        // If `seperator` is a regex\n        if (opts.seperator.global) {\n          opts.seperator = opts.seperator;\n        } else {\n          ignoreCase = opts.seperator.ignoreCase ? 'i' : ''\n          multiLine = opts.seperator.multiLine ? 'm' : '';\n          opts.seperator = new RegExp(opts.seperator.source,\n              'g' + ignoreCase + multiLine);\n        }\n        stringToWorkWith = str.substring(0, stringLenWithOmission + 1)\n        lastIndexOf = -1\n        nextStop = 0\n\n        while ((result = opts.seperator.exec(stringToWorkWith))) {\n          lastIndexOf = result.index;\n          opts.seperator.lastIndex = ++nextStop;\n        }\n        last = lastIndexOf;\n      }\n      else {\n        // Seperator is a String\n        last = str.lastIndexOf(opts.seperator, stringLenWithOmission);\n      }\n\n      // If the above couldn't be found, they'll default to -1 so,\n      // we need to just set it as `stringLenWithOmission`\n      if (last === -1) {\n        last = stringLenWithOmission;\n      }\n    }\n    else {\n      last = stringLenWithOmission;\n    }\n\n    if (stringLen < opts.length) {\n      return str;\n    }\n    else {\n      returnString = str.substring(0, last) + opts.omission;\n      returnString += callback && typeof callback === 'function' ? callback() : '';\n      return returnString;\n    }\n  };\n\n  /**\n    @name string#truncateHTML\n    @public\n    @function\n    @return {String} Returns the HTML safe truncated string\n    @description Truncates a given `string` inside HTML tags after a specified `length` if string`\n                 is longer than `length`. The last characters will be replaced with an `omission`\n                 for a total length not exceeding `length`. If `callback` is given it will fire if\n                 `string` is truncated. If `once` is true only the first string in the first HTML\n                 tags will be truncated leaving the others as they were\n    @param {String} string The string to truncate\n    @param {Integer/Object} options Options for truncation, If options is an Integer it will be length\n                            all Object options are the same as `truncate`\n      @param {Boolean} [options.once=false] If true, it will only be truncated once, otherwise the\n                                            truncation will loop through all text inside HTML tags\n    @param {Function} callback Callback is called only if a truncation is done\n  */\n  this.truncateHTML = function (string, options, callback) {\n    var str = string || ''\n      , returnString = ''\n      , opts = options;\n\n    str = String(str);\n\n    // If `options` is a number assume it's the length and create a options object with length\n    if (typeof opts === 'number') {\n      var num = opts;\n\n      opts = {};\n      opts.length = num;\n    } else opts = opts || {};\n\n    // Set `default` options for HTML specifics\n    opts.once = opts.once || false;\n\n    var pat = /(<[^>]*>)/ // Patter for matching HTML tags\n      , arr = [] // Holds the HTML tags and content seperately\n      , truncated = false\n      , result = pat.exec(str)\n      , item\n      , firstPos\n      , lastPos\n      , i;\n\n    // Gather the HTML tags and content into the array\n    while (result) {\n      firstPos = result.index;\n      lastPos = pat.lastIndex;\n\n      if (firstPos !== 0) {\n        // Should be content not HTML tags\n        arr.push(str.substring(0, firstPos));\n        // Slice content from string\n        str = str.slice(firstPos);\n      }\n\n      arr.push(result[0]); // Push HTML tags\n      str = str.slice(result[0].length);\n\n      // Re-run the pattern on the new string\n      result = pat.exec(str);\n    }\n    if (str !== '') {\n      arr.push(str);\n    }\n\n    // Loop through array items appending the tags to the string,\n    // - and truncating the text then appending it to content\n    i = -1;\n    while (++i < arr.length) {\n      item = arr[i];\n      switch (true) {\n        // Closing tag\n        case item.indexOf('</') == 0:\n          returnString += item;\n          openTag = null;\n          break;\n        // Opening tag\n        case item.indexOf('<') == 0:\n          returnString += item;\n          openTag = item;\n          break;\n        // Normal text\n        default:\n          if (opts.once && truncated) {\n            returnString += item;\n          } else {\n            returnString += this.truncate(item, opts, callback);\n            truncated = true;\n          }\n          break;\n      }\n    }\n\n    return returnString;\n  };\n\n  /**\n    @name string#nl2br\n    @public\n    @function\n    @return {String} The string with converted newlines chars to br tags\n    @description Nl2br returns a string where all newline chars are turned\n                 into line break HTML tags\n    @param {String} string The string to convert\n  */\n  this.nl2br = function (string) {\n    var str = string || '';\n    str = String(str);\n\n    return str.replace(_NL,'<br />');\n  };\n\n  /**\n    @name string#snakeize\n    @public\n    @function\n    @return {String} The string in a snake_case version\n    @description Snakeize converts camelCase and CamelCase strings to snake_case strings\n    @param {String} string The string to convert to snake_case\n    @param {String} separ='_' The seperator to use\n  */\n  this.snakeize = (function () {\n    // Only create regexes once on initial load\n    var repl = /([A-Z]+)/g\n      , lead = /^_/g;\n    return function (string, separ) {\n      var str = string || ''\n        , sep = separ || '_'\n        , leading = separ ? new RegExp('^' + sep, 'g') : lead;\n      str = String(str);\n      return str.replace(repl, sep + '$1').toLowerCase().\n        replace(leading, '');\n    };\n  }).call(this);\n\n  // Aliases\n  /**\n    @name string#underscorize\n    @public\n    @function\n    @return {String} The string in a underscorized version\n    @description Underscorize returns the given `string` converting camelCase and snakeCase to underscores\n    @param {String} string The string to underscorize\n  */\n  this.underscorize = this.snakeize;\n  this.underscoreize = this.snakeize;\n  this.decamelize = this.snakeize;\n\n  /**\n    @name string#camelize\n    @public\n    @function\n    @return {String} The string in a camelCase version\n    @description Camelize takes a string and optional options and\n                 returns a camelCase version of the given `string`\n    @param {String} string The string to convert to camelCase\n    @param {Object} options\n      @param {Boolean} [options.initialCap] If initialCap is true the returned\n                                            string will have a capitalized first letter\n      @param {Boolean} [options.leadingUnderscore] If leadingUnderscore os true then if\n                                                   an underscore exists at the beggining\n                                                   of the string, it will stay there.\n                                                   Otherwise it'll be removed.\n  */\n  this.camelize = (function () {\n    // Only create regex once on initial load\n    var repl = /[-_](\\w)/g;\n    return function (string, options) {\n      var str = string || ''\n        , ret\n        , config = {\n            initialCap: false\n          , leadingUnderscore: false\n          }\n        , opts = options || {};\n\n      str = String(str);\n\n      // Backward-compat\n      if (typeof opts == 'boolean') {\n        config = {\n          initialCap: true\n        };\n      }\n      else {\n        core.mixin(config, opts);\n      }\n\n      ret = str.replace(repl, function (m, m1) {\n        return m1.toUpperCase();\n      });\n\n      if (config.leadingUnderscore & str.indexOf('_') === 0) {\n        ret = '_' + this.decapitalize(ret);\n      }\n      // If initialCap is true capitalize it\n      ret = config.initialCap ? this.capitalize(ret) : this.decapitalize(ret);\n\n      return ret;\n    };\n  }).call(this);\n\n  /**\n    @name string#decapitalize\n    @public\n    @function\n    @return {String} The string with the first letter decapitalized\n    @description Decapitalize returns the given string with the first letter uncapitalized.\n    @param {String} string The string to decapitalize\n  */\n  this.decapitalize = function (string) {\n    var str = string || '';\n    str = String(str);\n\n    return str.substr(0, 1).toLowerCase() + str.substr(1);\n  };\n\n  /**\n    @name string#capitalize\n    @public\n    @function\n    @return {String} The string with the first letter capitalized\n    @description capitalize returns the given string with the first letter capitalized.\n    @param {String} string The string to capitalize\n  */\n  this.capitalize = function (string) {\n    var str = string || '';\n    str = String(str);\n\n    return str.substr(0, 1).toUpperCase() + str.substr(1);\n  };\n\n  /**\n    @name string#dasherize\n    @public\n    @function\n    @return {String} The string in a dashed version\n    @description Dasherize returns the given `string` converting camelCase and snakeCase\n                 to dashes or replace them with the `replace` character.\n    @param {String} string The string to dasherize\n    @param {String} replace='-' The character to replace with\n  */\n  this.dasherize = function (string, replace) {\n    var repl = replace || '-'\n    return this.snakeize(string, repl);\n  };\n\n  /**\n    @name string#include\n    @public\n    @function\n    @return {Boolean} Returns true if the string is found in the string to search\n    @description Searches for a particular string in another string\n    @param {String} searchIn The string to search for the other string in\n    @param {String} searchFor The string to search for\n  */\n  this.include = function (searchIn, searchFor) {\n    var str = searchFor;\n    if (!str && typeof string != 'string') {\n      return false;\n    }\n    str = String(str);\n    return (searchIn.indexOf(str) > -1);\n  };\n\n  /*\n   * getInflections(name<String>, initialCap<String>)\n   *\n   * Inflection returns an object that contains different inflections\n   * created from the given `name`\n  */\n\n  /**\n    @name string#getInflections\n    @public\n    @function\n    @return {Object} A Object containing multiple different inflects for the given `name`\n    @description Inflection returns an object that contains different inflections\n                 created from the given `name`\n    @param {String} name The string to create inflections from\n  */\n  this.getInflections = function (name) {\n    if (!name) {\n      return;\n    }\n\n    var self = this\n        // Use plural version to fix possible mistakes(e,g,. thingie instead of thingy)\n      , normalizedName = this.snakeize(inflection.pluralize(name))\n      , nameSingular = inflection.singularize(normalizedName)\n      , namePlural = inflection.pluralize(normalizedName);\n\n    return {\n      // For filepaths or URLs\n      filename: {\n        // neil_peart\n        singular: nameSingular\n        // neil_pearts\n      , plural: namePlural\n      }\n      // Constructor names\n    , constructor: {\n        // NeilPeart\n        singular: self.camelize(nameSingular, {initialCap: true})\n        // NeilPearts\n      , plural: self.camelize(namePlural, {initialCap: true})\n      }\n    , property: {\n        // neilPeart\n        singular: self.camelize(nameSingular)\n        // neilPearts\n      , plural: self.camelize(namePlural)\n      }\n    };\n  };\n\n  /**\n    @name string#getInflection\n    @public\n    @function\n    @return {Object} A Object containing multiple different inflects for the given `name`\n    @description Inflection returns an object that contains different inflections\n                 created from the given `name`\n    @param {String} name The string to create inflections from\n  */\n  this.getInflection = function (name, key, pluralization) {\n    var infl = this.getInflections(name);\n    return infl[key][pluralization];\n  };\n\n  // From Math.uuid.js, https://github.com/broofa/node-uuid\n  // Robert Kieffer (robert@broofa.com), MIT license\n  this.uuid = function (length, radix) {\n    var chars = _UUID_CHARS\n      , uuid = []\n      , r\n      , i;\n\n    radix = radix || chars.length;\n\n    if (length) {\n      // Compact form\n      i = -1;\n      while (++i < length) {\n        uuid[i] = chars[0 | Math.random()*radix];\n      }\n    } else {\n      // rfc4122, version 4 form\n\n      // rfc4122 requires these characters\n      uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n      uuid[14] = '4';\n\n      // Fill in random data.  At i==19 set the high bits of clock sequence as\n      // per rfc4122, sec. 4.1.5\n      i = -1;\n      while (++i < 36) {\n        if (!uuid[i]) {\n          r = 0 | Math.random()*16;\n          uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\n        }\n      }\n    }\n\n    return uuid.join('');\n  };\n\n})();\n\nmodule.exports = string;\n\n","//     Underscore.js 1.5.1\n//     http://underscorejs.org\n//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `global` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Establish the object that gets returned to break out of a loop iteration.\n  var breaker = {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    concat           = ArrayProto.concat,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeForEach      = ArrayProto.forEach,\n    nativeMap          = ArrayProto.map,\n    nativeReduce       = ArrayProto.reduce,\n    nativeReduceRight  = ArrayProto.reduceRight,\n    nativeFilter       = ArrayProto.filter,\n    nativeEvery        = ArrayProto.every,\n    nativeSome         = ArrayProto.some,\n    nativeIndexOf      = ArrayProto.indexOf,\n    nativeLastIndexOf  = ArrayProto.lastIndexOf,\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object via a string identifier,\n  // for Closure Compiler \"advanced\" mode.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.5.1';\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles objects with the built-in `forEach`, arrays, and raw objects.\n  // Delegates to **ECMAScript 5**'s native `forEach` if available.\n  var each = _.each = _.forEach = function(obj, iterator, context) {\n    if (obj == null) return;\n    if (nativeForEach && obj.forEach === nativeForEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        if (iterator.call(context, obj[i], i, obj) === breaker) return;\n      }\n    } else {\n      for (var key in obj) {\n        if (_.has(obj, key)) {\n          if (iterator.call(context, obj[key], key, obj) === breaker) return;\n        }\n      }\n    }\n  };\n\n  // Return the results of applying the iterator to each element.\n  // Delegates to **ECMAScript 5**'s native `map` if available.\n  _.map = _.collect = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);\n    each(obj, function(value, index, list) {\n      results.push(iterator.call(context, value, index, list));\n    });\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.\n  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduce && obj.reduce === nativeReduce) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\n    }\n    each(obj, function(value, index, list) {\n      if (!initial) {\n        memo = value;\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, value, index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.\n  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);\n    }\n    var length = obj.length;\n    if (length !== +length) {\n      var keys = _.keys(obj);\n      length = keys.length;\n    }\n    each(obj, function(value, index, list) {\n      index = keys ? keys[--length] : --length;\n      if (!initial) {\n        memo = obj[index];\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, obj[index], index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, iterator, context) {\n    var result;\n    any(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Delegates to **ECMAScript 5**'s native `filter` if available.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context);\n    each(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, iterator, context) {\n    return _.filter(obj, function(value, index, list) {\n      return !iterator.call(context, value, index, list);\n    }, context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Delegates to **ECMAScript 5**'s native `every` if available.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = true;\n    if (obj == null) return result;\n    if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context);\n    each(obj, function(value, index, list) {\n      if (!(result = result && iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Delegates to **ECMAScript 5**'s native `some` if available.\n  // Aliased as `any`.\n  var any = _.some = _.any = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = false;\n    if (obj == null) return result;\n    if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context);\n    each(obj, function(value, index, list) {\n      if (result || (result = iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;\n    return any(obj, function(value) {\n      return value === target;\n    });\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      return (isFunc ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, function(value){ return value[key]; });\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs, first) {\n    if (_.isEmpty(attrs)) return first ? void 0 : [];\n    return _[first ? 'find' : 'filter'](obj, function(value) {\n      for (var key in attrs) {\n        if (attrs[key] !== value[key]) return false;\n      }\n      return true;\n    });\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.where(obj, attrs, true);\n  };\n\n  // Return the maximum element or (element-based computation).\n  // Can't optimize arrays of integers longer than 65,535 elements.\n  // See [WebKit Bug 80797](https://bugs.webkit.org/show_bug.cgi?id=80797)\n  _.max = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.max.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return -Infinity;\n    var result = {computed : -Infinity, value: -Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed > result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.min.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return Infinity;\n    var result = {computed : Infinity, value: Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed < result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Shuffle an array.\n  _.shuffle = function(obj) {\n    var rand;\n    var index = 0;\n    var shuffled = [];\n    each(obj, function(value) {\n      rand = _.random(index++);\n      shuffled[index - 1] = shuffled[rand];\n      shuffled[rand] = value;\n    });\n    return shuffled;\n  };\n\n  // An internal function to generate lookup iterators.\n  var lookupIterator = function(value) {\n    return _.isFunction(value) ? value : function(obj){ return obj[value]; };\n  };\n\n  // Sort the object's values by a criterion produced by an iterator.\n  _.sortBy = function(obj, value, context) {\n    var iterator = lookupIterator(value);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value : value,\n        index : index,\n        criteria : iterator.call(context, value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index < right.index ? -1 : 1;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(obj, value, context, behavior) {\n    var result = {};\n    var iterator = lookupIterator(value == null ? _.identity : value);\n    each(obj, function(value, index) {\n      var key = iterator.call(context, value, index, obj);\n      behavior(result, key, value);\n    });\n    return result;\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key, value) {\n      (_.has(result, key) ? result[key] : (result[key] = [])).push(value);\n    });\n  };\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key) {\n      if (!_.has(result, key)) result[key] = 0;\n      result[key]++;\n    });\n  };\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iterator, context) {\n    iterator = iterator == null ? _.identity : lookupIterator(iterator);\n    var value = iterator.call(context, obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;\n    }\n    return low;\n  };\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    return (n != null) && !guard ? slice.call(array, 0, n) : array[0];\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if ((n != null) && !guard) {\n      return slice.call(array, Math.max(array.length - n, 0));\n    } else {\n      return array[array.length - 1];\n    }\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, (n == null) || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, output) {\n    if (shallow && _.every(input, _.isArray)) {\n      return concat.apply(output, input);\n    }\n    each(input, function(value) {\n      if (_.isArray(value) || _.isArguments(value)) {\n        shallow ? push.apply(output, value) : flatten(value, shallow, output);\n      } else {\n        output.push(value);\n      }\n    });\n    return output;\n  };\n\n  // Return a completely flattened version of an array.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iterator, context) {\n    if (_.isFunction(isSorted)) {\n      context = iterator;\n      iterator = isSorted;\n      isSorted = false;\n    }\n    var initial = iterator ? _.map(array, iterator, context) : array;\n    var results = [];\n    var seen = [];\n    each(initial, function(value, index) {\n      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {\n        seen.push(value);\n        results.push(array[index]);\n      }\n    });\n    return results;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(_.flatten(arguments, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var rest = slice.call(arguments, 1);\n    return _.filter(_.uniq(array), function(item) {\n      return _.every(rest, function(other) {\n        return _.indexOf(other, item) >= 0;\n      });\n    });\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));\n    return _.filter(array, function(value){ return !_.contains(rest, value); });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    var length = _.max(_.pluck(arguments, \"length\").concat(0));\n    var results = new Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(arguments, '' + i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),\n  // we need this function. Return the position of the first occurrence of an\n  // item in an array, or -1 if the item is not included in the array.\n  // Delegates to **ECMAScript 5**'s native `indexOf` if available.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, l = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = (isSorted < 0 ? Math.max(0, l + isSorted) : isSorted);\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);\n    for (; i < l; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var hasIndex = from != null;\n    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {\n      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);\n    }\n    var i = (hasIndex ? from : array.length);\n    while (i--) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = arguments[2] || 1;\n\n    var len = Math.max(Math.ceil((stop - start) / step), 0);\n    var idx = 0;\n    var range = new Array(len);\n\n    while(idx < len) {\n      range[idx++] = start;\n      start += step;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Reusable constructor function for prototype setting.\n  var ctor = function(){};\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    var args, bound;\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError;\n    args = slice.call(arguments, 2);\n    return bound = function() {\n      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));\n      ctor.prototype = func.prototype;\n      var self = new ctor;\n      ctor.prototype = null;\n      var result = func.apply(self, args.concat(slice.call(arguments)));\n      if (Object(result) === result) return result;\n      return self;\n    };\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context.\n  _.partial = function(func) {\n    var args = slice.call(arguments, 1);\n    return function() {\n      return func.apply(this, args.concat(slice.call(arguments)));\n    };\n  };\n\n  // Bind all of an object's methods to that object. Useful for ensuring that\n  // all callbacks defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var funcs = slice.call(arguments, 1);\n    if (funcs.length === 0) throw new Error(\"bindAll must be passed function names\");\n    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memo = {};\n    hasher || (hasher = _.identity);\n    return function() {\n      var key = hasher.apply(this, arguments);\n      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));\n    };\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){ return func.apply(null, args); }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    options || (options = {});\n    var later = function() {\n      previous = options.leading === false ? 0 : new Date;\n      timeout = null;\n      result = func.apply(context, args);\n    };\n    return function() {\n      var now = new Date;\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var result;\n    var timeout = null;\n    return function() {\n      var context = this, args = arguments;\n      var later = function() {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n      };\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) result = func.apply(context, args);\n      return result;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = function(func) {\n    var ran = false, memo;\n    return function() {\n      if (ran) return memo;\n      ran = true;\n      memo = func.apply(this, arguments);\n      func = null;\n      return memo;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return function() {\n      var args = [func];\n      push.apply(args, arguments);\n      return wrapper.apply(this, args);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var funcs = arguments;\n    return function() {\n      var args = arguments;\n      for (var i = funcs.length - 1; i >= 0; i--) {\n        args = [funcs[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = nativeKeys || function(obj) {\n    if (obj !== Object(obj)) throw new TypeError('Invalid object');\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var values = [];\n    for (var key in obj) if (_.has(obj, key)) values.push(obj[key]);\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var pairs = [];\n    for (var key in obj) if (_.has(obj, key)) pairs.push([key, obj[key]]);\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    for (var key in obj) if (_.has(obj, key)) result[obj[key]] = key;\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    each(keys, function(key) {\n      if (key in obj) copy[key] = obj[key];\n    });\n    return copy;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    for (var key in obj) {\n      if (!_.contains(keys, key)) copy[key] = obj[key];\n    }\n    return copy;\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          if (obj[prop] === void 0) obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a == 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className != toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, dates, and booleans are compared by value.\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return a == String(b);\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for\n        // other numeric values.\n        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a == +b;\n      // RegExps are compared by their source patterns and flags.\n      case '[object RegExp]':\n        return a.source == b.source &&\n               a.global == b.global &&\n               a.multiline == b.multiline &&\n               a.ignoreCase == b.ignoreCase;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] == a) return bStack[length] == b;\n    }\n    // Objects with different constructors are not equivalent, but `Object`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(_.isFunction(aCtor) && (aCtor instanceof aCtor) &&\n                             _.isFunction(bCtor) && (bCtor instanceof bCtor))) {\n      return false;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size = 0, result = true;\n    // Recursively compare objects and arrays.\n    if (className == '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size == b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Deep compare objects.\n      for (var key in a) {\n        if (_.has(a, key)) {\n          // Count the expected number of properties.\n          size++;\n          // Deep compare each member.\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n      // Ensure that both objects contain the same number of properties.\n      if (result) {\n        for (key in b) {\n          if (_.has(b, key) && !(size--)) break;\n        }\n        result = !size;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    return obj === Object(obj);\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) == '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return !!(obj && _.has(obj, 'callee'));\n    };\n  }\n\n  // Optimize `isFunction` if appropriate.\n  if (typeof (/./) !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj === 'function';\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj != +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iterators.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iterator, context) {\n    var accum = Array(Math.max(0, n));\n    for (var i = 0; i < n; i++) accum[i] = iterator.call(context, i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // List of HTML entities for escaping.\n  var entityMap = {\n    escape: {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '/': '&#x2F;'\n    }\n  };\n  entityMap.unescape = _.invert(entityMap.escape);\n\n  // Regexes containing the keys and values listed immediately above.\n  var entityRegexes = {\n    escape:   new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),\n    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')\n  };\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  _.each(['escape', 'unescape'], function(method) {\n    _[method] = function(string) {\n      if (string == null) return '';\n      return ('' + string).replace(entityRegexes[method], function(match) {\n        return entityMap[method][match];\n      });\n    };\n  });\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return void 0;\n    var value = object[property];\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    each(_.functions(obj), function(name){\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\t':     't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  _.template = function(text, data, settings) {\n    var render;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = new RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset)\n        .replace(escaper, function(match) { return '\\\\' + escapes[match]; });\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      }\n      if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      }\n      if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + \"return __p;\\n\";\n\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    if (data) return render(data, _);\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled function source as a convenience for precompilation.\n    template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function, which will delegate to the wrapper.\n  _.chain = function(obj) {\n    return _(obj).chain();\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  _.extend(_.prototype, {\n\n    // Start chaining a wrapped Underscore object.\n    chain: function() {\n      this._chain = true;\n      return this;\n    },\n\n    // Extracts the result from a wrapped and chained object.\n    value: function() {\n      return this._wrapped;\n    }\n\n  });\n\n}).call(this);\n","/*\n * Utilities: A classic collection of JavaScript utilities\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\nvar core = new (function () {\n\n  var _mix = function (targ, src, merge, includeProto) {\n    for (var p in src) {\n      // Don't copy stuff from the prototype\n      if (src.hasOwnProperty(p) || includeProto) {\n        if (merge &&\n            // Assumes the source property is an Object you can\n            // actually recurse down into\n            (typeof src[p] == 'object') &&\n            (src[p] !== null) &&\n            !(src[p] instanceof Array)) {\n          // Create the source property if it doesn't exist\n          // Double-equal to undefined includes both null and undefined\n          if (targ[p] == undefined) {\n            targ[p] = {};\n          }\n          _mix(targ[p], src[p], merge, includeProto); // Recurse\n        }\n        // If it's not a merge-copy, just set and forget\n        else {\n          targ[p] = src[p];\n        }\n      }\n    }\n  };\n\n  /*\n   * Mix in the properties on an object to another object\n   * yam.mixin(target, source, [source,] [source, etc.] [merge-flag]);\n   * 'merge' recurses, to merge object sub-properties together instead\n   * of just overwriting with the source object.\n   */\n  this.mixin = function () {\n    var args = Array.prototype.slice.apply(arguments),\n        merge = false,\n        targ, sources;\n    if (args.length > 2) {\n      if (typeof args[args.length - 1] == 'boolean') {\n        merge = args.pop();\n      }\n    }\n    targ = args.shift();\n    sources = args;\n    for (var i = 0, ii = sources.length; i < ii; i++) {\n      _mix(targ, sources[i], merge);\n    }\n    return targ;\n  };\n\n  this.enhance = function () {\n    var args = Array.prototype.slice.apply(arguments),\n        merge = false,\n        targ, sources;\n    if (args.length > 2) {\n      if (typeof args[args.length - 1] == 'boolean') {\n        merge = args.pop();\n      }\n    }\n    targ = args.shift();\n    sources = args;\n    for (var i = 0, ii = sources.length; i < ii; i++) {\n      _mix(targ, sources[i], merge, true);\n    }\n    return targ;\n  };\n\n  // Idea to add invalid number & Date from Michael J. Ryan,\n  // http://frugalcoder.us/post/2010/02/15/js-is-empty.aspx\n  this.isEmpty = function (val) {\n    // Empty string, null or undefined (these two are double-equal)\n    if (val === '' || val == undefined) {\n      return true;\n    }\n    // Invalid numerics\n    if (typeof val == 'number' && isNaN(val)) {\n      return true;\n    }\n    // Invalid Dates\n    if (val instanceof Date && isNaN(val.getTime())) {\n      return true;\n    }\n    return false;\n  };\n\n})();\n\nmodule.exports = core;\n","/*\n * Copyright (c) 2010 George Moschovitis, http://www.gmosx.com\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\n * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * A port of the Rails/ActiveSupport Inflector class\n * http://api.rubyonrails.org/classes/ActiveSupport/Inflector.html\n*/\n\n/**\n  @name inflection\n  @namespace inflection\n*/\n\nvar inflection = new (function () {\n\n  /**\n    @name inflection#inflections\n    @public\n    @object\n    @description A list of rules and replacements for different inflection types\n  */\n  this.inflections = {\n      plurals: []\n    , singulars: []\n    , uncountables: []\n  };\n\n  var self = this\n    , setInflection\n    , setPlural\n    , setSingular\n    , setUncountable\n    , setIrregular;\n\n  // Add a new inflection rule/replacement to the beginning of the array for the\n  // inflection type\n  setInflection = function (type, rule, replacement) {\n    self.inflections[type].unshift([rule, replacement]);\n  };\n\n  // Add a new plural inflection rule\n  setPlural = function (rule, replacement) {\n    setInflection('plurals', rule, replacement);\n  };\n\n  // Add a new singular inflection rule\n  setSingular = function (rule, replacement) {\n    setInflection('singulars', rule, replacement);\n  };\n\n  // Add a new irregular word to the inflection list, by a given singular and plural inflection\n  setIrregular = function (singular, plural) {\n    if (singular.substr(0, 1).toUpperCase() == plural.substr(0, 1).toUpperCase()) {\n      setPlural(new RegExp(\"(\" + singular.substr(0, 1) + \")\" + singular.substr(1) + \"$\", \"i\"),\n        '$1' + plural.substr(1));\n      setPlural(new RegExp(\"(\" + plural.substr(0, 1) + \")\" + plural.substr(1) + \"$\", \"i\"),\n        '$1' + plural.substr(1));\n      setSingular(new RegExp(\"(\" + plural.substr(0, 1) + \")\" + plural.substr(1) + \"$\", \"i\"),\n        '$1' + singular.substr(1));\n    } else {\n      setPlural(new RegExp(singular.substr(0, 1).toUpperCase() + singular.substr(1) + \"$\"),\n        plural.substr(0, 1).toUpperCase() + plural.substr(1));\n      setPlural(new RegExp(singular.substr(0, 1).toLowerCase() + singular.substr(1) + \"$\"),\n        plural.substr(0, 1).toLowerCase() + plural.substr(1));\n      setPlural(new RegExp(plural.substr(0, 1).toUpperCase() + plural.substr(1) + \"$\"),\n        plural.substr(0, 1).toUpperCase() + plural.substr(1));\n      setPlural(new RegExp(plural.substr(0, 1).toLowerCase() + plural.substr(1) + \"$\"),\n        plural.substr(0, 1).toLowerCase() + plural.substr(1));\n      setSingular(new RegExp(plural.substr(0, 1).toUpperCase() + plural.substr(1) + \"$\"),\n        singular.substr(0, 1).toUpperCase() + singular.substr(1));\n      setSingular(new RegExp(plural.substr(0, 1).toLowerCase() + plural.substr(1) + \"$\"),\n        singular.substr(0, 1).toLowerCase() + singular.substr(1));\n    }\n  };\n\n  // Add a new word to the uncountable inflection list\n  setUncountable = function (word) {\n    self.inflections.uncountables[word] = true;\n  };\n\n  // Create inflections\n  (function () {\n    setPlural(/$/, \"s\");\n    setPlural(/s$/i, \"s\");\n    setPlural(/(ax|test)is$/i, \"$1es\");\n    setPlural(/(octop|vir)us$/i, \"$1i\");\n    setPlural(/(alias|status)$/i, \"$1es\");\n    setPlural(/(bu)s$/i, \"$1ses\");\n    setPlural(/(buffal|tomat)o$/i, \"$1oes\");\n    setPlural(/([ti])um$/i, \"$1a\");\n    setPlural(/sis$/i, \"ses\");\n    setPlural(/(?:([^f])fe|([lr])f)$/i, \"$1$2ves\");\n    setPlural(/(hive)$/i, \"$1s\");\n    setPlural(/([^aeiouy]|qu)y$/i, \"$1ies\");\n    setPlural(/(x|ch|ss|sh)$/i, \"$1es\");\n    setPlural(/(matr|vert|ind)(?:ix|ex)$/i, \"$1ices\");\n    setPlural(/([m|l])ouse$/i, \"$1ice\");\n    setPlural(/^(ox)$/i, \"$1en\");\n    setPlural(/(quiz)$/i, \"$1zes\");\n\n    setSingular(/s$/i, \"\")\n\t\tsetSingular(/ss$/i, \"ss\")\n    setSingular(/(n)ews$/i, \"$1ews\")\n    setSingular(/([ti])a$/i, \"$1um\")\n    setSingular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i, \"$1$2sis\")\n    setSingular(/(^analy)ses$/i, \"$1sis\")\n    setSingular(/([^f])ves$/i, \"$1fe\")\n    setSingular(/(hive)s$/i, \"$1\")\n    setSingular(/(tive)s$/i, \"$1\")\n    setSingular(/([lr])ves$/i, \"$1f\")\n    setSingular(/([^aeiouy]|qu)ies$/i, \"$1y\")\n    setSingular(/(s)eries$/i, \"$1eries\")\n    setSingular(/(m)ovies$/i, \"$1ovie\")\n    setSingular(/(x|ch|ss|sh)es$/i, \"$1\")\n    setSingular(/([m|l])ice$/i, \"$1ouse\")\n    setSingular(/(bus)es$/i, \"$1\")\n    setSingular(/(o)es$/i, \"$1\")\n    setSingular(/(shoe)s$/i, \"$1\")\n    setSingular(/(cris|ax|test)es$/i, \"$1is\")\n    setSingular(/(octop|vir)i$/i, \"$1us\")\n    setSingular(/(alias|status)es$/i, \"$1\")\n    setSingular(/^(ox)en/i, \"$1\")\n    setSingular(/(vert|ind)ices$/i, \"$1ex\")\n    setSingular(/(matr)ices$/i, \"$1ix\")\n    setSingular(/(quiz)zes$/i, \"$1\")\n    setSingular(/(database)s$/i, \"$1\")\n\n    setIrregular(\"person\", \"people\");\n    setIrregular(\"man\", \"men\");\n    setIrregular(\"child\", \"children\");\n    setIrregular(\"sex\", \"sexes\");\n    setIrregular(\"move\", \"moves\");\n    setIrregular(\"cow\", \"kine\");\n\n    setUncountable(\"equipment\");\n    setUncountable(\"information\");\n    setUncountable(\"rice\");\n    setUncountable(\"money\");\n    setUncountable(\"species\");\n    setUncountable(\"series\");\n    setUncountable(\"fish\");\n    setUncountable(\"sheep\");\n    setUncountable(\"jeans\");\n  })();\n\n  /**\n    @name inflection#parse\n    @public\n    @function\n    @return {String} The inflection of the word from the type given\n    @description Parse a word from the given inflection type\n    @param {String} type A type of the inflection to use\n    @param {String} word the word to parse\n  */\n  this.parse = function (type, word) {\n    var lowWord = word.toLowerCase()\n      , inflections = this.inflections[type];\n\n    if (this.inflections.uncountables[lowWord]) {\n      return word;\n    }\n\n    var i = -1;\n    while (++i < inflections.length) {\n      var rule = inflections[i][0]\n        , replacement = inflections[i][1];\n\n      if (rule.test(word)) {\n        return word.replace(rule, replacement)\n      }\n    }\n\n    return word;\n  };\n\n  /**\n    @name inflection#pluralize\n    @public\n    @function\n    @return {String} The plural inflection for the given word\n    @description Create a plural inflection for a word\n    @param {String} word the word to create a plural version for\n  */\n  this.pluralize = function (word) {\n    return this.parse('plurals', word);\n  };\n\n  /**\n    @name inflection#singularize\n    @public\n    @function\n    @return {String} The singular inflection for the given word\n    @description Create a singular inflection for a word\n    @param {String} word the word to create a singular version for\n  */\n  this.singularize = function (word) {\n    return this.parse('singulars', word);\n  };\n\n})();\n\nmodule.exports = inflection;\n","(function () {\n  var View = require('../../base')\n    , NavbarView = require('../../layout/navbar.js')\n    , FooterView = require('../../layout/footer.js')\n    , _ = require('lodash')\n    , Backbone = require('../../../helpers/BackboneLoader')\n    , IndexView = View.extend({\n        template: require('../../../templates/routes/pages/create.hbs')\n      , events: {\n          'submit': 'performSave'\n        , 'click a.app': 'handleAppLink'\n        }\n      , initialize: function (options) {\n          this.app = options.app;\n\n          this.model = this.app.db.createModel('page');\n\n          this.listenTo(this.model,'invalid',function(model, err) {\n            this.app.error(this.model, err);\n          },this);\n\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n\n          this.toggleContact = _.bind(this.toggleContact, this);\n        }\n      , remove : function () {\n          this.$('input[name=showContact]').parent().parent().on('switch-change', this.toggleContact);\n          Backbone.View.prototype.remove.apply(this, arguments);\n        }\n      , afterRender: function () {\n        var inputElem;\n\n        var navbar = new NavbarView({app:this.app})\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n\n        //Focus on name input if it's empty\n        inputElem = this.$('input[name=name]');\n        if(inputElem.val().replace(/]w/, '') == '') {\n          inputElem.val('').focus();\n        }\n\n        this.$(\".switch\").bootstrapSwitch();\n\n        this.$('input[name=showContact]').parent().parent().on('switch-change', this.toggleContact);\n      }\n      , context: function () {\n          var customization = this.app.getCustomization()\n            , config;\n\n          if(customization && customization.attributes && customization.attributes.config) {\n            config = customization.attributes.config;\n\n            return this.getContext({\n              showContact: config.showContact ? config.showContact.value : false\n            });\n          }\n          else {\n            return this.getContext({showContact: false});\n          }\n        }\n      , performSave: function(e) {\n          var self = this;\n\n          e.preventDefault();\n\n          var name = this.$('input[name=name]').val();\n\n          self.model.save({\n            userId:self.app.getUser().id,\n            name:name,\n            // Make last priority!\n            priority:self.app.db.fetchCollection('pages').length\n          }, {\n            success: function () {\n              self.app.db.fetchCollection('pages').add(self.model);\n\n              self.app.navigate('page/'+name,{trigger:true});\n            }\n          , error: self.app.error\n          });\n        }\n      , toggleContact: function (e) {\n          var self = this\n            , showContact = this.$(\"input[name=showContact]\").parent().hasClass(\"switch-on\")\n            , customization = this.app.getCustomization()\n            , config = customization.attributes.config;\n\n          e.stopPropagation();\n          e.preventDefault();\n\n          this.app.setFlash('info', 'Turning contact page ' + (showContact ? 'on' : 'off') + '...');\n\n          if(!config.showContact) {\n            config.showContact = {\n              type: \"boolean\"\n            , name: \"Show Contact Page\"\n            , \"default\": false\n            };\n          }\n\n          config.showContact.value = showContact;\n\n          customization.set('config', config);\n\n          customization.save({}, {\n            success: function () {\n              self.app.setFlash('success', 'Your contact page has been turned '+ (showContact ? 'on' : 'off'));\n\n              // Redraw the navbar!\n              self.render();\n            }\n          , error: self.app.error\n          });\n        }\n      });\n\n  module.exports = IndexView;\n}());","(function () {\n  var View = require('../../base')\n    , _ = require('lodash')\n    , NavbarView = require('../../layout/navbar.js')\n    , FooterView = require('../../layout/footer.js')\n    , Holder = require('../../../helpers/lib/holder.js')\n    , IndexView = View.extend({\n        template: require('../../../templates/routes/media/pick.hbs')\n      , events: {\n          'click .reelgrid a': 'appendMedia'\n        }\n      , initialize: function (options) {\n          this.app = options.app;\n          this.page = this.app.db.createModel('page').set({\n            name: 'Loading...'\n          });\n          this.images = this.app.db.fetchCollection('images');\n          this.videos = this.app.db.fetchCollection('videos');\n\n          var pages = this.app.db.fetchCollection('pages');\n          this.listenTo(this.images, 'add remove change sort', this.render, this);\n          this.listenTo(this.videos, 'add remove change sort', this.render, this);\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n\n          // First make sure we can load the pages collection\n          pages.once('ready', function () {\n            var foundPage = pages.find(function (page) {\n              return page.attributes.name.toLowerCase() === options.pageName.toLowerCase();\n            });\n\n            if(foundPage) {\n              this.page = foundPage;\n\n              this.listenTo(this.page, 'change ready', this.render, this);\n            }\n            else {\n              this.page.set({name:'404'});\n              this.app.error('Error 404: The page could not be found');\n            }\n          }, this);\n        }\n      , afterRender: function () {\n        var navbar = new NavbarView({app:this.app})\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n\n        Holder.run();\n      }\n      , context: function () {\n          var media = [];\n          var safeName = encodeURIComponent(this.page.attributes.name);\n\n          if(this.images) {\n            this.images.forEach(function(model) {\n              media.push(model.templateVars(safeName));\n            });\n          }\n          if(this.videos) {\n            this.videos.forEach(function(model) {\n              media.push(model.templateVars(safeName));\n            });\n          }\n\n          return this.getContext({\n            media: media\n          , page: this.page.attributes\n          , uploadUrl: 'page/' + safeName + '/addMedia'\n          });\n        }\n      , appendMedia: function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          var self = this\n            , safeName = self.page.attributes ? encodeURIComponent(self.page.attributes.name) : 'undefined'\n            , newItems\n            , target = e.target\n            , media;\n\n          while(target.tagName.toLowerCase() != 'a') {\n            target = target.parentElement;\n          }\n\n          target = $(target);\n\n          self.app.setFlash('info', 'Adding to page...');\n\n          media = this.app.db.fetchModel(target.attr('data-media-type'), target.attr('data-media-id'));\n\n          media.once('ready', function () {\n            if(self.page.attributes.name !== 'Loading...') {\n              // TODO: Find the item, and append it after ready\n              newItems = _.clone(self.page.attributes.items);\n              newItems.push({\n                  ID: media.id\n                , NAME: media.attributes.name\n                , TYPE: media.attributes.type.toLowerCase()\n                , THUMB: media.templateVars().thumbnailUrl\n              });\n\n              self.page.save({items: newItems}, {\n                success: function () {\n                  self.app.navigate('page/' + safeName, {trigger: true});\n                  self.app.setFlash('success', 'Added!');\n                }\n              , error: self.app.error\n              });\n            }\n            else {\n              self.app.error('Please wait for the page to load before picking a media file');\n            }\n          });\n        }\n      });\n\n  module.exports = IndexView;\n}());\n","(function () {\n  var View = require('../../base')\n    , _ = require('lodash')\n    , NavbarView = require('../../layout/navbar.js')\n    , FooterView = require('../../layout/footer.js')\n    , ThumbView = require('../../routes/media/thumb.js')\n    , EditView = View.extend({\n        template: require('../../../templates/routes/media/edit.hbs')\n      , events: {\n          'submit': 'performSave'\n        , 'click a.btn-danger':'performDelete'\n        , 'click a.upload':'performPick'\n        , 'click a.crop':'performCapture'\n        , 'click a.capture':'performCapture'\n        , 'click a.app': 'handleAppLink'\n        , 'click a.choose':'performChoose'\n        }\n      , initialize: function (options) {\n          this.app = options.app;\n          this.mediaType = options.mediaType;\n          this.mediaId = options.mediaId;\n\n          this.showThumbnailPicker = false;\n\n          this.media = this.app.db.fetchModel(options.mediaType, options.mediaId);\n\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n          this.listenTo(this.media, 'change', this.render, this);\n\n          this.listenTo(this.media, 'invalid', function () {\n            this.app.error(this.media.validationError);\n          }, this);\n\n          this.renderOnReady(this.media);\n        }\n      , afterRender: function () {\n        var inputElem;\n\n        var navbar = new NavbarView({app:this.app})\n          , thumber = new ThumbView({\n              app:this.app\n            , mediaType:this.mediaType\n            , mediaId:this.mediaId\n            })\n          , footer = new FooterView({app:this.app});\n\n        this.appendSubview(navbar, this.$('#header'));\n\n        if(this.media.attributes && this.media.attributes.status === 2) {\n          this.appendSubview(thumber, this.$('#thumber'));\n        }\n\n        this.appendSubview(footer, this.$('#footer'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n\n        //Pretty stupid, but the tags plugin won't work until the thing\n        //is actually on the DOM... so we have to defer here\n        _.defer(function () {\n          // Wipe out all previous instances\n          this.$('div.tagsinput').remove();\n\n          // Enhance\n          this.$(\"input[name=attribs]\").tagsInput();\n\n          this.$(\"legend span\").popover({placement:'right', trigger:'hover', html:true});\n        }, this);\n\n          this.$('#useOriginalButton').button('reset');\n          this.$('#useCaptureButton').button('reset');\n      }\n      , context: function () {\n          return this.getContext({\n            media: this.media.templateVars()\n          , isEncoded: this.media.attributes.status === 2\n          , showThumbnailPicker: this.showThumbnailPicker\n          });\n        }\n        // Just sets the properties immediately\n      , readInput : function (e) {\n          var self = this\n            , attrs = this.readAttributes();\n\n          if(e) {\n            e.preventDefault();\n          }\n\n          this.media.set(attrs);\n        }\n      , readAttributes: function () {\n          return {\n            name: this.$('input[name=name]').val()\n          , attribs: this.$('input[name=attribs]').val().split(\",\")\n          };\n        }\n        //Tries to save the edited media\n      , performSave: function(e) {\n          var self = this;\n\n          e.preventDefault();\n\n          var name = this.$('input[name=name]').val();\n          var attribs = this.$('input[name=attribs]').val().split(\",\");\n\n          this.app.clearFlash();\n\n          this.media.save({\n            userId: self.app.getUser().attributes.id,\n            name: name,\n            attribs: attribs\n          }, {\n            success: function () {\n              self.app.db.fetchCollection('unprocessedUploads').fetch({\n                success: function () {\n                  var ucedType = self.media.attributes.type.charAt(0).toUpperCase()\n                  ucedType += self.media.attributes.type.substr(1);\n\n                  self.app.setFlash('success', ucedType +' Saved!');\n                },\n                error: self.app.error\n              });\n            },\n            error: self.app.error\n          });\n        }\n        //Tries to delete the media\n      , performDelete: function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          var self = this;\n\n          var proceed = confirm(\"Are you sure you want to delete \"+self.media.attributes.name+\"?\");\n          if(proceed) {\n            filepicker.remove(self.media.fpfile(), {\n              policy: self.app.getUser().attributes.policy,\n              signature: self.app.getUser().attributes.signature\n            }, function() {\n              self.media.destroy({\n                success: function () {\n                  //Return to home\n                  self.app.navigate('',{trigger:true});\n                },\n                error: self.app.error\n              });\n            },\n            self.app.error);\n          }\n          else {\n            //noop\n            return false;\n          }\n        }\n        //Tries to pick a new thumbnail\n      , performPick: function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          this.app.clearFlash();\n\n          this.media.pickThumbnail();\n        }\n        //Tries to capture a frame from the video\n      , performCapture: function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          this.app.clearFlash();\n\n          this.app.trigger(\"captureThumbnail\", this.mediaType, this.mediaId, this.readAttributes());\n          this.$('#useCaptureButton').button('loading');\n        }\n      , performChoose: function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          this.showThumbnailPicker = true;\n          this.render();\n        }\n      });\n\n  module.exports = EditView;\n}());","(function () {\n  var View = require('../../base')\n    , _ = require('lodash')\n    , jst = require('js-thumb')\n    , CarouselView = require('./carousel')\n    , vjs = require('videojs')\n    , ShowView = View.extend({\n        template: require('../../../templates/routes/media/show.hbs')\n      , events: {\n        }\n      , initialize: function (options) {\n          this.app = options.app;\n          this.pageName = options.pageName;\n          this.mediaType = options.mediaType;\n          this.mediaId = options.mediaId;\n\n          this.media = this.app.db.fetchModel(options.mediaType, options.mediaId);\n\n          if(this.media.id) {\n            this.media.fetch();\n          }\n\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n          this.listenTo(this.media, 'change', this.render, this);\n\n          this.fetchPage(options.pageName, function () {\n            this.render();\n          });\n        }\n      , beforeRender: function () {\n          $('body').addClass('dark');\n        }\n      , beforeClose: function () {\n          $('body').removeClass('dark');\n        }\n      , afterRender: function () {\n        var self = this\n          , mediaTemplateVars = this.media.templateVars()\n          , carouselView = new CarouselView({\n              app:this.app\n            , pageName:this.pageName\n            })\n          , afterVideoLoad = function (err, elem, player) {\n              if(err) {\n                self.app.error(err);\n              }\n              else {\n                player.on(\"ended\",function () {\n                  self.app.trigger(\"videoEnded\",self.media);\n                });\n              }\n            };\n\n        this.appendSubview(carouselView, this.$('#carouselWrapper'));\n\n        //Render all the subviews\n        this.eachSubview(function (subview) {\n          subview.render();\n        });\n\n        //Activate VJS\n        _.defer(function () {\n          if(self.media\n            && self.media.attributes\n            && self.media.attributes.type.toLowerCase() === 'video'\n            && self.media.attributes.status === 2) {\n\n            self.$('#vid_placeholder').empty();\n\n            jst.loadVideo(self.$('#vid_placeholder')[0]\n              , {\n                  vjs: {\n                    autoplay: true\n                  }\n                , attributes: {\n                    center: true\n                  , resize: {\n                      maxWidth: 960\n                    , upscale: false\n                    }\n                  , width: self.media.attributes.width || 960\n                  , height: self.media.attributes.height || 540\n                  }\n                , sources: [\n                    {\n                      src: mediaTemplateVars.hdUrl\n                    , type: self.app.util.mime('video/mp4')\n                    }\n                  ]\n                }\n              , afterVideoLoad);\n          }\n        });\n      }\n      , context: function () {\n          return this.getContext({\n            media: this.media.templateVars()\n          });\n        }\n      });\n\n  module.exports = ShowView;\n}());","(function () {\n  var Model = require('./base')\n    , Backbone = require('../helpers/BackboneLoader.js')\n    , _ = require('lodash')\n    , stringUtils = require('utilities/lib/string')\n    , Media = Model.extend({\n        name:'media'\n      , urlRoot: function () {\n        return this.app.config.baseUrl + '/Media_is_an_abstract_class_do_not_use_it';\n      }\n      , defaults: {\n        name: 'Untitled',\n        s3key: null,\n        fpkey: null,\n        mimeType: null,\n        originalFilesize: null,\n        userId: null,\n        thumbnailS3key: null,\n        thumbnailFpkey: null,\n        width: 1280,\n        height: 720,\n        attribs: [],\n        reviewIssue: null,\n        status: 0,\n        type: 'unknown'\n      }\n      , validate: function(attrs,options) {\n          var errors = [];\n\n          if(!attrs.name || attrs.name.length == 0) {\n            errors.push({attr:\"name\",message:\"Media name cannot be empty\"});\n          }\n\n          if(errors.length) {\n            return errors;\n          }\n        }\n      , toJSON: function () {\n          incoming = _.clone(this.attributes);\n\n          if(incoming.attribs) {\n            incoming.userAttributes = JSON.stringify(incoming.attribs);\n          }\n\n          return incoming;\n        }\n      , sync: function(method, model, options) {\n        var self = this;\n\n        var afterCheckingMedia = function() {\n          //Now check the thumbnail\n          if(!model.attributes.thumbnailS3key && model.attributes.thumbnailFpkey && model.attributes.debug !== true) {\n            filepicker.stat(self.thumbnailFpfile(),\n              {\n                path:true,\n                policy:self.app.db.fetchModel('user').attributes.policy,\n                signature:self.app.db.fetchModel('user').attributes.signature\n              },\n              function(metadata) {\n                model.set('thumbnailS3key',metadata.path);\n                Backbone.sync(method, model, options);\n              }\n            );\n          }\n          else {\n            Backbone.sync(method, model, options);\n          }\n        }\n\n        //If the s3key is unknown, try and find it first\n        if(!model.attributes.s3key && model.attributes.fpkey && model.attributes.debug !== true) {\n          filepicker.stat(self.fpfile(),\n            {\n              path:true,\n              policy:self.app.db.fetchModel('user').attributes.policy,\n              signature:self.app.db.fetchModel('user').attributes.signature\n            },\n            function(metadata) {\n              model.set('s3key',metadata.path);\n              afterCheckingMedia();\n            }\n          );\n        }\n        else {\n          afterCheckingMedia();\n        }\n      }\n      , destroy: function(options) {\n        var self = this;\n\n        if(this.attributes.status === 1) {\n          self.app.setFlash('error', 'Please wait until encoding is finished to delete this');\n        }\n        else {\n          if(options.success) {\n            var oldcb = options.success;\n            options.success = function() {\n              //Reload unprocessed files\n              self.app.db.fetchCollection('unprocessedUploads').fetch();\n              self.app.db.fetchCollection('images').fetch();\n              self.app.db.fetchCollection('videos').fetch();\n\n              if(oldcb) {\n                oldcb();\n              }\n            };\n          }\n          Backbone.sync('delete',this,options);\n        }\n      }\n      , parse: function(data, options) {\n        try {\n          data.attribs = JSON.parse(data.userAttributes);\n        }\n        catch(e) {\n          data.attribs = [];\n        }\n        finally {\n          delete data.userAttributes;\n        }\n        return data;\n      }\n      /* Lets the user pick a thumbnail */\n      , pickThumbnail: function() {\n        var self = this;\n\n        filepicker.pick({\n          extensions:self.app.config.imageExts,\n          path:self.app.db.fetchModel('user').attributes.path + stringUtils.uuid(10),\n          signature:self.app.db.fetchModel('user').attributes.signature,\n          policy:self.app.db.fetchModel('user').attributes.policy,\n          services:[\n            'COMPUTER',\n            'DROPBOX',\n            'FLICKR',\n            'GOOGLE_DRIVE',\n            'FTP',\n            'URL',\n            'IMAGE_SEARCH'\n          ]\n        },\n        function(FPFile) {\n          //Use post-processing to downsize the original image\n          self.cropThumbnail(FPFile);\n        },\n        function(FPError) {\n          if(FPError.code !== 101) {\n            self.app.error(FPError);\n          }\n        });\n      }\n      /*\n       * Crops a thumbnail with filepicker.io\n       * set a callback if you want to use this\n       * like an API call (no flash msgs)\n       */\n      , cropThumbnail: function(FPFile, cb) {\n        var self = this;\n\n        if(!FPFile) {\n          FPFile = self.fpfile();\n        }\n\n        if(!cb) {\n          self.app.setFlash('info', 'Please wait while we process the image...');\n        }\n\n        filepicker.convert(FPFile,\n          //Convert options\n          {\n            signature:self.app.db.fetchModel('user').attributes.signature,\n            policy:self.app.db.fetchModel('user').attributes.policy,\n            width:self.app.config.thumbnailDims.width,\n            height:self.app.config.thumbnailDims.height,\n            fit:'crop'\n          },\n          //Store options\n          {\n            path:self.app.getUser().attributes.path + stringUtils.uuid(10),\n            location:'s3',\n            access:'public'\n          },\n          function(FPFileThumb) {\n            //Set s3key to null to force a re-stat\n            self.save({\n                thumbnailFpkey: FPFileThumb.url\n              , thumbnailS3key: null\n              , status: 2\n              },{\n              success:function() {\n                self.app.db.fetchCollection('unprocessedUploads').fetch();\n\n                if(!cb) {\n                  self.app.setFlash('success', 'Thumbnail saved!');\n                }\n                else {\n                  cb();\n                }\n              },\n              error: function (model, response) {\n                if(cb) {\n                  cb(response.responseText);\n                }\n                else {\n                  self.app.error.apply(this, arguments);\n                }\n              }\n            });\n          },\n          function(FPError) {\n            self.app.error(FPError);\n          }\n        );\n      }\n      /**\n      * Use the data as the new thumbnail\n      */\n      , useThumbnail: function(base64Data) {\n        var self = this;\n\n        self.app.setFlash('info', 'Please wait while we process the image...');\n\n        filepicker.store(base64Data,\n          //Convert options\n          {\n            signature: self.app.getUser().attributes.signature,\n            policy: self.app.getUser().attributes.policy,\n            mimetype: 'image/png',\n            base64decode: true,\n            path: self.app.getUser().attributes.path + stringUtils.uuid(10),\n            location: 's3',\n            access: 'public'\n          },\n          function(FPFileThumb) {\n            //Set s3key to null to force a re-stat\n            self.save({thumbnailFpkey:FPFileThumb.url, thumbnailS3key:null},{\n              success:function() {\n                self.app.setFlash('success', 'Thumbnail saved!');\n                self.app.db.fetchCollection('unprocessedUploads').fetch();\n              },\n              error: self.app.error\n            });\n          },\n          function(FPError) {\n            self.app.error(FPError);\n          }\n        );\n      }\n      /**\n      * Returns the current model as an fpfile\n      */\n      , fpfile: function() {\n        return {\n          url:this.attributes.fpkey,\n          filename:this.attributes.name,\n          mimetype:this.attributes.mimeType,\n          isWriteable:false,\n          size:this.attributes.originalFilesize\n        };\n      }\n      /**\n      * Returns the current model's thumbnail as an fpfile\n      */\n      , thumbnailFpfile: function() {\n        return {\n          url:this.attributes.thumbnailFpkey\n        };\n      }\n      /**\n      * Helper function for templating\n      */\n      , templateVars: function (safePageName, halfSizeThumbnails) {\n        var attrs = _.clone(this.attributes);\n\n        halfSizeThumbnails = (halfSizeThumbnails===true);\n\n        if(attrs.s3key) {\n          attrs.url = this.app.config.s3prefix + attrs.s3key;\n        }\n        else {\n          attrs.thumbnailUrl = this.app.util.placeholderThumbnail(halfSizeThumbnails);\n        }\n\n        if(attrs.thumbnailS3key) {\n          attrs.thumbnailUrl = this.app.config.s3prefix + attrs.thumbnailS3key;\n        }\n        else {\n          //Halfsized with the true option\n          attrs.thumbnailUrl = this.app.util.placeholderThumbnail(halfSizeThumbnails);\n        }\n\n        attrs.isImage = attrs.type.toLowerCase() === 'image';\n        attrs.isVideo = attrs.type.toLowerCase() === 'video';\n\n        if(attrs.isVideo && attrs.status === 1) {\n          if(halfSizeThumbnails) {\n            attrs.thumbnailUrl = this.app.config.placeholders.encoding.half;\n          }\n          else {\n            attrs.thumbnailUrl = this.app.config.placeholders.encoding.full;\n          }\n        }\n\n        attrs.attributeList = attrs.attribs.join(',');\n\n        /*\n        attrs.attribs = _.map(attrs.attribs, function (attrib) {\n          return attrib.replace(/^(.*:)/, '<strong>$1</strong>');\n        });\n        */\n\n        if(this.app.isLoggedIn()) {\n          attrs.editHref = '/media/'+attrs.type.toLowerCase()+'/'+attrs.id+'/edit';\n          attrs.removeHref = '/media/'+attrs.type.toLowerCase()+'/'+attrs.id+'/remove/'+safePageName;\n        }\n\n        if(safePageName) {\n          attrs.playerUrl = 'page/'+safePageName+'/'+attrs.type.toLowerCase()+'/'+attrs.id;\n        }\n\n        switch(attrs.status) {\n          case 1:\n            attrs.reviewIssue = 'Encoding in progress';\n          break;\n          case 2:\n            attrs.reviewIssue = 'Encoding completed';\n\n            attrs.hdUrl = attrs.url + '/hd.mp4';\n            attrs.sdUrl = attrs.url + '/sd.mp4';\n          break;\n          case 3:\n            attrs.reviewIssue = 'Encoding failed';\n          break;\n        }\n\n        attrs.isEncoding = (attrs.status === 1);\n\n        return attrs;\n      }\n    });\n\n  module.exports = Media;\n}());","(function () {\n  var async = require('async')\n    , View = require('../../base')\n    , NavbarView = require('../../layout/navbar.js')\n    , FooterView = require('../../layout/footer.js')\n    , ReorderView = View.extend({\n        template: require('../../../templates/routes/pages/reorder.hbs')\n      , events: {\n          'submit': 'performSave'\n        }\n      , initialize: function (options) {\n          this.app = options.app;\n          this.pages = this.app.db.fetchCollection('pages');\n\n          this.renderOnReady(this.pages);\n        }\n      , context: function () {\n          var pages = this.pages.map(function (page) {\n            return page.attributes;\n          });\n\n          return this.getContext({\n            pages: pages\n          });\n        }\n      , afterRender: function () {\n          var self = this\n            , navbar = new NavbarView({app:self.app})\n            , footer = new FooterView({app:self.app});\n\n          self.appendSubview(navbar, self.$('#header'));\n          self.appendSubview(footer, self.$('#footer'));\n\n          //Render all the subviews\n          self.eachSubview(function (subview) {\n            subview.render();\n          });\n\n          self.$('.sortable').sortable().bind('sortupdate', function() {\n            //\n          });\n        }\n\n        //Reads the sorting order of items on the page\n      , readSortOrder: function() {\n          var self = this;\n\n          var items = self.$('.sortable').children()\n            , models = []\n            , saves = [];\n\n          items.each(function(index,elem) {\n            var fModel = self.pages.get($(elem).attr(\"data-uuid\"));\n\n            fModel.set('priority', index);\n\n            models.push(fModel);\n\n            saves.push(function (next) {\n              fModel.save({}, {\n                success: next\n              });\n            });\n          });\n\n          self.pages.reset(models).sort();\n\n          async.parallel(saves, function () {\n            self.app.setFlash('success', 'Page order saved!');\n\n            self.$('button').button('reset');\n          });\n        }\n      , performSave: function (e) {\n          if(e) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          this.app.clearFlash();\n\n          this.$('button').button('loading');\n\n          this.readSortOrder();\n        }\n      });\n\n  module.exports = ReorderView;\n}());\n","(function () {\n  var Ribcage = require('ribcage-view')\n    , _ = require('lodash')\n    , View = Ribcage.extend({\n        /*\n        * Intended to be use in the initializer as a simple way to\n        * trigger a render after dependent models and collections\n        * have loaded from the server or cache\n        *\n        * Usage: this.renderOnReady(myModelA,myCollectionA,myCollectionB...);\n        *   Will render the view after all the models and collections have been loaded\n        */\n        renderOnReady: function () {\n          var things = Array.prototype.slice.call(arguments)\n            , self = this\n            , thingCount = things.length\n            , next = function () {\n                thingCount--;\n\n                if(thingCount<0) {\n                  self.render();\n                }\n              };\n\n          _.each(things, function (thing) {\n            thing.once('ready', next, thing);\n          });\n\n          next();\n        }\n\n        /*\n        * Fetches a page, assigns it to this.page, listens to it and renders on change\n        * query [String] - Page name\n        * cb [Function] - function (err, page)\n        */\n      , fetchPage: function (query, cb) {\n          var self = this\n            , errmsg = 'Error 404: The page could not be found';\n\n          query = query.toLowerCase();\n\n          self.page = this.app.db.createModel('page').set({\n              name: 'Loading...'\n            });\n          self.pages = this.app.db.fetchCollection('pages');\n\n          // First make sure we can load the pages collection\n          self.pages.once('ready', function () {\n            var err\n              , foundPage = self.pages.find(function (page) {\n                return page.attributes.name.toLowerCase() === query.toLowerCase();\n              });\n\n            if(foundPage) {\n              self.page = foundPage;\n              self.listenTo(self.page, 'change', self.render, self);\n            }\n            else {\n              self.page.set({name:'404'});\n              self.app.error(errmsg);\n              err = new Error(errmsg);\n            }\n\n            cb.call(self, err, self.page);\n          });\n        }\n\n      // Nice function that mixes in custom attrs to the standard context\n      , getContext: function (additions) {\n          var userAdditions = additions || {}\n            , ourAdditions = {\n              isLoggedIn: this.app.isLoggedIn()\n            , flash: _.clone(this.app.flash)\n            , debug: (this.app.bootstrap.debug || undefined !== 'production') ? true : false\n            }\n            , context = this.app.getUserVars();\n\n          return _.extend({}, context, ourAdditions, userAdditions);\n        }\n\n      // By default just return the standard context\n      , context: function () {\n          return this.getContext();\n        }\n\n      // Used by a.app links\n      , handleAppLink: function (e) {\n          this.app.handleAppLink(e);\n        }\n\n      // App links with a class of `app` are treated as routes\n      , events: {\n          'click a.app': 'handleAppLink'\n        }\n\n      // Clean up subviews in beforeRender as we'll add new\n      // ones in afterRender\n      , beforeRender: function () {\n          //Close all the subviews\n          this.eachSubview(function (subview) {\n            subview.close();\n          });\n          this.$el.empty();\n        }\n      });\n\n  module.exports = View;\n}());\n","(function () {\n  var View = require('../base')\n    , Backbone = require('../../helpers/BackboneLoader.js')\n    , _ = require('lodash')\n    , NavbarView = View.extend({\n        template: require('../../templates/layout/navbar.hbs')\n      , initialize: function (options) {\n          this.app = options.app;\n          this.pages = this.app.db.fetchCollection('pages');\n          this.unprocessed = this.app.db.fetchCollection('unprocessedUploads');\n\n          this.listenTo(this.pages, 'change add remove sort', this.render, this);\n          this.listenTo(this.unprocessed, 'change add remove', this.render, this);\n          this.listenTo(this.app.getUser(), 'change', this.render, this);\n          this.listenTo(this.app, 'flash', this.render, this);\n\n          this.renderOnReady(this.pages, this.unprocessed, this.app.getUser());\n        }\n      , context: function () {\n          var addMediaHref = null\n            , editPageHref = null\n            , editPageMakePublicHref = null\n            , editPageMakePrivateHref = null\n            , isPublished = null\n            , modelAttrs = []\n            //Count unprocessed files etc\n            , unprocessedCount = this.unprocessed.length\n            , pluralS = (this.unprocessed.length===1?\"\":\"s\")\n            , isAre = (this.unprocessed.length===1?\"is\":\"are\")\n            , unprocessedPrompt = this.unprocessed.length + ' upload' + pluralS + ' ' + isAre + ' being encoded'\n            , customization = this.app.getCustomization()\n            , config\n            , showContact;\n\n          if(customization && customization.attributes && customization.attributes.config) {\n            config = customization.attributes.config;\n            showContact = config.showContact ? config.showContact.value : false;\n          }\n\n\n          //Load page attrs etc\n          this.pages.forEach(function(model) {\n            if(!this.app.isLoggedIn() && !model.attributes.isPublished) {\n              // Don't show pages that aren't published to logged out users\n              return;\n            }\n\n            var safename = encodeURIComponent(model.attributes.name)\n              , attrs = _.extend(_.clone(model.attributes), {\n                  href: '/page/'+safename,\n                  editHref: '/page/'+safename+'/edit',\n                  addHref: '/page/'+safename+'/addMedia',\n                  active: false\n                });\n\n            if(\n              //Exact match\n              Backbone.history.fragment === attrs.href.replace(/^\\//,'') ||\n              //Editing or adding media to page\n              Backbone.history.fragment.indexOf('page/'+safename+'/')==0\n            ) {\n              attrs.active = true;\n              editPageHref = attrs.editHref;\n              editPageMakePublicHref = attrs.editHref + '/makePublic/immediately';\n              editPageMakePrivateHref = attrs.editHref + '/makePrivate/immediately';\n              addMediaHref = attrs.addHref;\n              isPublished = attrs.isPublished;\n            }\n            modelAttrs.push(attrs);\n          }, this);\n\n          //Mixin our template vars\n          return this.getContext({\n            pages:modelAttrs,\n            editPageHref:editPageHref,\n            editPageMakePublicHref:editPageMakePublicHref,\n            editPageMakePrivateHref:editPageMakePrivateHref,\n            addMediaHref:addMediaHref,\n            showContact:showContact,\n            createHref:'/createPage',\n            reviewHref:'/review',\n            reorderHref:'/reorder',\n            hasAtLeastTwoPages: this.pages.length > 1,\n            isHome:Backbone.history.fragment === '',\n            isPublished:isPublished,\n            isContact:Backbone.history.fragment.match(/^contact/)?true:false,\n            isPage:Backbone.history.fragment.match(/^(edit)?[pP]age\\//)?true:false,\n            isEditingPage:Backbone.history.fragment.match(/^page\\/[a-zA-Z0-9\\-]+\\/edit$/)?true:false,\n            isAddingMedia:Backbone.history.fragment.match(/^page\\/[a-zA-Z0-9\\-]+\\/(addMedia|pickMedia)$/)?true:false,\n            isEditingMedia:Backbone.history.fragment.match(/^media\\/(image|video)\\/[a-zA-Z0-9\\-]+\\/edit$/)?true:false,\n            isCreatingPage:Backbone.history.fragment.match(/^createPage/)?true:false,\n            isReviewingUploads:Backbone.history.fragment.match(/^review/)?true:false,\n            isReorderingPages:Backbone.history.fragment.match(/^reorder/)?true:false,\n            unprocessedCount:unprocessedCount,\n            unprocessedPrompt:unprocessedPrompt\n          });\n        }\n      , afterRender: function () {\n          //Render all the subviews\n          this.eachSubview(function (subview) {\n            subview.render();\n          });\n\n          // Enable alert dismissal\n          this.$('.alert').alert();\n        }\n      });\n\n  module.exports = NavbarView;\n}());","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <div class=\\\"span12 centered\\\">\\n      <h1 class=\\\"title\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = depth0.sitetitle),stack1 == null || stack1 === false ? stack1 : stack1.value)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</h1>\\n    </div>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <div class=\\\"span12 centered\\\">\\n      <h2>Sorry!</h2>\\n      <p>\\n        There are no pages on \"\n    + escapeExpression(((stack1 = ((stack1 = depth0.sitetitle),stack1 == null || stack1 === false ? stack1 : stack1.value)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"'s site yet.\\n      </p>\\n      <p>\\n        <strong>Are you \"\n    + escapeExpression(((stack1 = ((stack1 = depth0.sitetitle),stack1 == null || stack1 === false ? stack1 : stack1.value)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"?</strong><br />\\n        Log in with the link in the footer, create a page, and make it public to remove this message.\\n      </p>\\n    </div>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <div class=\\\"alert alert-info\\\">\\n          <h3>Welcome Back, \"\n    + escapeExpression(((stack1 = ((stack1 = depth0.user),stack1 == null || stack1 === false ? stack1 : stack1.username)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</h3>\\n          <p>You're now able to edit your website.</p>\\n          <a href=\\\"/\\\" class=\\\"btn btn-info btn-wide app\\\">Go to homepage</a>\\n          <a href=\\\"/logout\\\" class=\\\"btn btn-danger btn-wide app\\\">Log Out</a>\\n        </div>\\n      \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, stack2;\n  buffer += \"\\n        \";\n  stack1 = helpers['if'].call(depth0, depth0.debug, {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  stack2 = helpers['if'].call(depth0, ((stack1 = depth0.user),stack1 == null || stack1 === false ? stack1 : stack1.error), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"\\n        <form>\\n          <div class=\\\"control-group\\\">\\n            <input type=\\\"text\\\" name=\\\"username\\\" value=\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = depth0.user),stack1 == null || stack1 === false ? stack1 : stack1.username)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" class=\\\"span6\\\" placeholder=\\\"Username\\\" />\\n          </div>\\n          <div class=\\\"control-group\\\">\\n            <input type=\\\"password\\\" name=\\\"password\\\" value=\\\"\\\" class=\\\"span6\\\" placeholder=\\\"Password\\\" />\\n          </div>\\n          <div class=\\\"actions\\\">\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block\\\">Log In</button>\\n          </div>\\n        </form>\\n      \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  \n  return \"\\n          <div class=\\\"alert alert-info\\\">\\n            <h3>Test Account Available</h3>\\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\\n            <a class=\\\"provisionTestAccount btn btn-info btn-block\\\">Create Test Account</a>\\n          </div>\\n        \";\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          <div class=\\\"alert alert-error\\\">\\n            \"\n    + escapeExpression(((stack1 = ((stack1 = depth0.user),stack1 == null || stack1 === false ? stack1 : stack1.error)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\n          </div>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <div class=\\\"span6 offset3\\\">\\n      \";\n  stack1 = helpers['if'].call(depth0, depth0.isLoggedIn, {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            <tr>\\n              <td><big>\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</big></td>\\n              <td><big>\";\n  if (stack1 = helpers.reviewIssue) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.reviewIssue; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</big></td>\\n            </tr>\\n          \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \"\\n            <tr>\\n              <td colspan=\\\"2\\\">All videos encoded!</td>\\n            </tr>\\n          \";\n  }\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <div class=\\\"span12 centered\\\">\\n      <table class=\\\"table\\\">\\n        <thead>\\n          <tr>\\n            <th>File</th>\\n            <th>Status</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          \";\n  stack1 = helpers.each.call(depth0, depth0.unprocessed, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n          \";\n  stack1 = helpers['if'].call(depth0, depth0.nothingToReview, {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </tbody>\\n      </table>\\n    </div>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <div class=\\\"span6\\\">\\n      <form id=\\\"contact\\\">\\n        <fieldset>\\n          <legend>Send Me A Message</legend>\\n          <label class=\\\"control-label\\\" for=\\\"name\\\">Your Name</label>\\n          <input type=\\\"text\\\" id=\\\"name\\\" name=\\\"name\\\" placeholder=\\\"John Doe\\\" class=\\\"span6\\\" value=\\\"\";\n  if (stack1 = helpers.nameVal) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.nameVal; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n          <label class=\\\"control-label\\\" for=\\\"email\\\">Your Email</label>\\n          <input type=\\\"email\\\" id=\\\"email\\\" name=\\\"email\\\" placeholder=\\\"john@doe.com\\\" class=\\\"span6\\\" value=\\\"\";\n  if (stack1 = helpers.emailVal) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.emailVal; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n          <label class=\\\"control-label\\\" for=\\\"message\\\">Your Message</label>\\n          <textarea id=\\\"message\\\" name=\\\"message\\\" placeholder=\\\"Your Message\\\" rows=\\\"5\\\" class=\\\"span6\\\">\";\n  if (stack1 = helpers.messageVal) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.messageVal; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</textarea>\\n          <div class=\\\"control-group\\\">\\n            <div class=\\\"controls\\\">\\n              <button type=\\\"submit\\\" class=\\\"btn btn-inverse\\\" data-loading-text=\\\"Sending...\\\">Send</button>\\n            </div>\\n          </div>\\n        </fieldset>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\";\n  return buffer;\n  });\n","var process=require(\"__browserify_process\");/*global setImmediate: false, setTimeout: false, console: false */\n(function () {\n\n    var async = {};\n\n    // global on the server, window in the browser\n    var root, previous_async;\n\n    root = this;\n    if (root != null) {\n      previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        var called = false;\n        return function() {\n            if (called) throw new Error(\"Callback was already called.\");\n            called = true;\n            fn.apply(root, arguments);\n        }\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _each = function (arr, iterator) {\n        if (arr.forEach) {\n            return arr.forEach(iterator);\n        }\n        for (var i = 0; i < arr.length; i += 1) {\n            iterator(arr[i], i, arr);\n        }\n    };\n\n    var _map = function (arr, iterator) {\n        if (arr.map) {\n            return arr.map(iterator);\n        }\n        var results = [];\n        _each(arr, function (x, i, a) {\n            results.push(iterator(x, i, a));\n        });\n        return results;\n    };\n\n    var _reduce = function (arr, iterator, memo) {\n        if (arr.reduce) {\n            return arr.reduce(iterator, memo);\n        }\n        _each(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    };\n\n    var _keys = function (obj) {\n        if (Object.keys) {\n            return Object.keys(obj);\n        }\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        if (typeof setImmediate === 'function') {\n            async.nextTick = function (fn) {\n                // not a direct alias for IE10 compatibility\n                setImmediate(fn);\n            };\n            async.setImmediate = async.nextTick;\n        }\n        else {\n            async.nextTick = function (fn) {\n                setTimeout(fn, 0);\n            };\n            async.setImmediate = async.nextTick;\n        }\n    }\n    else {\n        async.nextTick = process.nextTick;\n        if (typeof setImmediate !== 'undefined') {\n            async.setImmediate = setImmediate;\n        }\n        else {\n            async.setImmediate = async.nextTick;\n        }\n    }\n\n    async.each = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        _each(arr, function (x) {\n            iterator(x, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed >= arr.length) {\n                        callback(null);\n                    }\n                }\n            }));\n        });\n    };\n    async.forEach = async.each;\n\n    async.eachSeries = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        var iterate = function () {\n            iterator(arr[completed], function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed >= arr.length) {\n                        callback(null);\n                    }\n                    else {\n                        iterate();\n                    }\n                }\n            });\n        };\n        iterate();\n    };\n    async.forEachSeries = async.eachSeries;\n\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        var fn = _eachLimit(limit);\n        fn.apply(null, [arr, iterator, callback]);\n    };\n    async.forEachLimit = async.eachLimit;\n\n    var _eachLimit = function (limit) {\n\n        return function (arr, iterator, callback) {\n            callback = callback || function () {};\n            if (!arr.length || limit <= 0) {\n                return callback();\n            }\n            var completed = 0;\n            var started = 0;\n            var running = 0;\n\n            (function replenish () {\n                if (completed >= arr.length) {\n                    return callback();\n                }\n\n                while (running < limit && started < arr.length) {\n                    started += 1;\n                    running += 1;\n                    iterator(arr[started - 1], function (err) {\n                        if (err) {\n                            callback(err);\n                            callback = function () {};\n                        }\n                        else {\n                            completed += 1;\n                            running -= 1;\n                            if (completed >= arr.length) {\n                                callback();\n                            }\n                            else {\n                                replenish();\n                            }\n                        }\n                    });\n                }\n            })();\n        };\n    };\n\n\n    var doParallel = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.each].concat(args));\n        };\n    };\n    var doParallelLimit = function(limit, fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [_eachLimit(limit)].concat(args));\n        };\n    };\n    var doSeries = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.eachSeries].concat(args));\n        };\n    };\n\n\n    var _asyncMap = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (err, v) {\n                results[x.index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = function (arr, limit, iterator, callback) {\n        return _mapLimit(limit)(arr, iterator, callback);\n    };\n\n    var _mapLimit = function(limit) {\n        return doParallelLimit(limit, _asyncMap);\n    };\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachSeries(arr, function (x, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n    // inject alias\n    async.inject = async.reduce;\n    // foldl alias\n    async.foldl = async.reduce;\n\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n    // foldr alias\n    async.foldr = async.reduceRight;\n\n    var _filter = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.filter = doParallel(_filter);\n    async.filterSeries = doSeries(_filter);\n    // select alias\n    async.select = async.filter;\n    async.selectSeries = async.filterSeries;\n\n    var _reject = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    var _detect = function (eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = function () {};\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            main_callback();\n        });\n    };\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.some = function (arr, iterator, main_callback) {\n        async.each(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(false);\n        });\n    };\n    // any alias\n    async.any = async.some;\n\n    async.every = function (arr, iterator, main_callback) {\n        async.each(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(true);\n        });\n    };\n    // all alias\n    async.all = async.every;\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                var fn = function (left, right) {\n                    var a = left.criteria, b = right.criteria;\n                    return a < b ? -1 : a > b ? 1 : 0;\n                };\n                callback(null, _map(results.sort(fn), function (x) {\n                    return x.value;\n                }));\n            }\n        });\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = callback || function () {};\n        var keys = _keys(tasks);\n        if (!keys.length) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        var addListener = function (fn) {\n            listeners.unshift(fn);\n        };\n        var removeListener = function (fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        };\n        var taskComplete = function () {\n            _each(listeners.slice(0), function (fn) {\n                fn();\n            });\n        };\n\n        addListener(function () {\n            if (_keys(results).length === keys.length) {\n                callback(null, results);\n                callback = function () {};\n            }\n        });\n\n        _each(keys, function (k) {\n            var task = (tasks[k] instanceof Function) ? [tasks[k]]: tasks[k];\n            var taskCallback = function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _each(_keys(results), function(rkey) {\n                        safeResults[rkey] = results[rkey];\n                    });\n                    safeResults[k] = args;\n                    callback(err, safeResults);\n                    // stop subsequent errors hitting callback multiple times\n                    callback = function () {};\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            };\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            var ready = function () {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            };\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                var listener = function () {\n                    if (ready()) {\n                        removeListener(listener);\n                        task[task.length - 1](taskCallback, results);\n                    }\n                };\n                addListener(listener);\n            }\n        });\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor !== Array) {\n          var err = new Error('First argument to waterfall must be an array of functions');\n          return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        var wrapIterator = function (iterator) {\n            return function (err) {\n                if (err) {\n                    callback.apply(null, arguments);\n                    callback = function () {};\n                }\n                else {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    async.setImmediate(function () {\n                        iterator.apply(null, args);\n                    });\n                }\n            };\n        };\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    var _parallel = function(eachfn, tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            eachfn.map(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            eachfn.each(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.parallel = function (tasks, callback) {\n        _parallel({ map: async.map, each: async.each }, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel({ map: _mapLimit(limit), each: _eachLimit(limit) }, tasks, callback);\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            async.mapSeries(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            async.eachSeries(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.iterator = function (tasks) {\n        var makeCallback = function (index) {\n            var fn = function () {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            };\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        };\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(Array.prototype.slice.call(arguments))\n            );\n        };\n    };\n\n    var _concat = function (eachfn, arr, fn, callback) {\n        var r = [];\n        eachfn(arr, function (x, cb) {\n            fn(x, function (err, y) {\n                r = r.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, r);\n        });\n    };\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            if (test()) {\n                async.doWhilst(iterator, test, callback);\n            }\n            else {\n                callback();\n            }\n        });\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            if (!test()) {\n                async.doUntil(iterator, test, callback);\n            }\n            else {\n                callback();\n            }\n        });\n    };\n\n    async.queue = function (worker, concurrency) {\n        if (concurrency === undefined) {\n            concurrency = 1;\n        }\n        function _insert(q, data, pos, callback) {\n          if(data.constructor !== Array) {\n              data = [data];\n          }\n          _each(data, function(task) {\n              var item = {\n                  data: task,\n                  callback: typeof callback === 'function' ? callback : null\n              };\n\n              if (pos) {\n                q.tasks.unshift(item);\n              } else {\n                q.tasks.push(item);\n              }\n\n              if (q.saturated && q.tasks.length === concurrency) {\n                  q.saturated();\n              }\n              async.setImmediate(q.process);\n          });\n        }\n\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n              _insert(q, data, false, callback);\n            },\n            unshift: function (data, callback) {\n              _insert(q, data, true, callback);\n            },\n            process: function () {\n                if (workers < q.concurrency && q.tasks.length) {\n                    var task = q.tasks.shift();\n                    if (q.empty && q.tasks.length === 0) {\n                        q.empty();\n                    }\n                    workers += 1;\n                    var next = function () {\n                        workers -= 1;\n                        if (task.callback) {\n                            task.callback.apply(task, arguments);\n                        }\n                        if (q.drain && q.tasks.length + workers === 0) {\n                            q.drain();\n                        }\n                        q.process();\n                    };\n                    var cb = only_once(next);\n                    worker(task.data, cb);\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            }\n        };\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        var working     = false,\n            tasks       = [];\n\n        var cargo = {\n            tasks: tasks,\n            payload: payload,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n                if(data.constructor !== Array) {\n                    data = [data];\n                }\n                _each(data, function(task) {\n                    tasks.push({\n                        data: task,\n                        callback: typeof callback === 'function' ? callback : null\n                    });\n                    if (cargo.saturated && tasks.length === payload) {\n                        cargo.saturated();\n                    }\n                });\n                async.setImmediate(cargo.process);\n            },\n            process: function process() {\n                if (working) return;\n                if (tasks.length === 0) {\n                    if(cargo.drain) cargo.drain();\n                    return;\n                }\n\n                var ts = typeof payload === 'number'\n                            ? tasks.splice(0, payload)\n                            : tasks.splice(0);\n\n                var ds = _map(ts, function (task) {\n                    return task.data;\n                });\n\n                if(cargo.empty) cargo.empty();\n                working = true;\n                worker(ds, function () {\n                    working = false;\n\n                    var args = arguments;\n                    _each(ts, function (data) {\n                        if (data.callback) {\n                            data.callback.apply(null, args);\n                        }\n                    });\n\n                    process();\n                });\n            },\n            length: function () {\n                return tasks.length;\n            },\n            running: function () {\n                return working;\n            }\n        };\n        return cargo;\n    };\n\n    var _console_fn = function (name) {\n        return function (fn) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _each(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    };\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        var memoized = function () {\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                callback.apply(null, memo[key]);\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = arguments;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        };\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n    async.times = function (count, iterator, callback) {\n        var counter = [];\n        for (var i = 0; i < count; i++) {\n            counter.push(i);\n        }\n        return async.map(counter, iterator, callback);\n    };\n\n    async.timesSeries = function (count, iterator, callback) {\n        var counter = [];\n        for (var i = 0; i < count; i++) {\n            counter.push(i);\n        }\n        return async.mapSeries(counter, iterator, callback);\n    };\n\n    async.compose = function (/* functions... */) {\n        var fns = Array.prototype.reverse.call(arguments);\n        return function () {\n            var that = this;\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([function () {\n                    var err = arguments[0];\n                    var nextargs = Array.prototype.slice.call(arguments, 1);\n                    cb(err, nextargs);\n                }]))\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        };\n    };\n\n    var _applyEach = function (eachfn, fns /*args...*/) {\n        var go = function () {\n            var that = this;\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            return eachfn(fns, function (fn, cb) {\n                fn.apply(that, args.concat([cb]));\n            },\n            callback);\n        };\n        if (arguments.length > 2) {\n            var args = Array.prototype.slice.call(arguments, 2);\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    };\n    async.applyEach = doParallel(_applyEach);\n    async.applyEachSeries = doSeries(_applyEach);\n\n    async.forever = function (fn, callback) {\n        function next(err) {\n            if (err) {\n                if (callback) {\n                    return callback(err);\n                }\n                throw err;\n            }\n            fn(next);\n        }\n        next();\n    };\n\n    // AMD / RequireJS\n    if (typeof define !== 'undefined' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // Node.js\n    else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n","/*\n\nCopyright (C) 2011 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\n// lib/handlebars/browser-prefix.js\nvar Handlebars = {};\nmodule.exports = Handlebars;\n\n(function(Handlebars, undefined) {\n;\n// lib/handlebars/base.js\n\nHandlebars.VERSION = \"1.0.0\";\nHandlebars.COMPILER_REVISION = 4;\n\nHandlebars.REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '>= 1.0.0'\n};\n\nHandlebars.helpers  = {};\nHandlebars.partials = {};\n\nvar toString = Object.prototype.toString,\n    functionType = '[object Function]',\n    objectType = '[object Object]';\n\nHandlebars.registerHelper = function(name, fn, inverse) {\n  if (toString.call(name) === objectType) {\n    if (inverse || fn) { throw new Handlebars.Exception('Arg not supported with multiple helpers'); }\n    Handlebars.Utils.extend(this.helpers, name);\n  } else {\n    if (inverse) { fn.not = inverse; }\n    this.helpers[name] = fn;\n  }\n};\n\nHandlebars.registerPartial = function(name, str) {\n  if (toString.call(name) === objectType) {\n    Handlebars.Utils.extend(this.partials,  name);\n  } else {\n    this.partials[name] = str;\n  }\n};\n\nHandlebars.registerHelper('helperMissing', function(arg) {\n  if(arguments.length === 2) {\n    return undefined;\n  } else {\n    throw new Error(\"Missing helper: '\" + arg + \"'\");\n  }\n});\n\nHandlebars.registerHelper('blockHelperMissing', function(context, options) {\n  var inverse = options.inverse || function() {}, fn = options.fn;\n\n  var type = toString.call(context);\n\n  if(type === functionType) { context = context.call(this); }\n\n  if(context === true) {\n    return fn(this);\n  } else if(context === false || context == null) {\n    return inverse(this);\n  } else if(type === \"[object Array]\") {\n    if(context.length > 0) {\n      return Handlebars.helpers.each(context, options);\n    } else {\n      return inverse(this);\n    }\n  } else {\n    return fn(context);\n  }\n});\n\nHandlebars.K = function() {};\n\nHandlebars.createFrame = Object.create || function(object) {\n  Handlebars.K.prototype = object;\n  var obj = new Handlebars.K();\n  Handlebars.K.prototype = null;\n  return obj;\n};\n\nHandlebars.logger = {\n  DEBUG: 0, INFO: 1, WARN: 2, ERROR: 3, level: 3,\n\n  methodMap: {0: 'debug', 1: 'info', 2: 'warn', 3: 'error'},\n\n  // can be overridden in the host environment\n  log: function(level, obj) {\n    if (Handlebars.logger.level <= level) {\n      var method = Handlebars.logger.methodMap[level];\n      if (typeof console !== 'undefined' && console[method]) {\n        console[method].call(console, obj);\n      }\n    }\n  }\n};\n\nHandlebars.log = function(level, obj) { Handlebars.logger.log(level, obj); };\n\nHandlebars.registerHelper('each', function(context, options) {\n  var fn = options.fn, inverse = options.inverse;\n  var i = 0, ret = \"\", data;\n\n  var type = toString.call(context);\n  if(type === functionType) { context = context.call(this); }\n\n  if (options.data) {\n    data = Handlebars.createFrame(options.data);\n  }\n\n  if(context && typeof context === 'object') {\n    if(context instanceof Array){\n      for(var j = context.length; i<j; i++) {\n        if (data) { data.index = i; }\n        ret = ret + fn(context[i], { data: data });\n      }\n    } else {\n      for(var key in context) {\n        if(context.hasOwnProperty(key)) {\n          if(data) { data.key = key; }\n          ret = ret + fn(context[key], {data: data});\n          i++;\n        }\n      }\n    }\n  }\n\n  if(i === 0){\n    ret = inverse(this);\n  }\n\n  return ret;\n});\n\nHandlebars.registerHelper('if', function(conditional, options) {\n  var type = toString.call(conditional);\n  if(type === functionType) { conditional = conditional.call(this); }\n\n  if(!conditional || Handlebars.Utils.isEmpty(conditional)) {\n    return options.inverse(this);\n  } else {\n    return options.fn(this);\n  }\n});\n\nHandlebars.registerHelper('unless', function(conditional, options) {\n  return Handlebars.helpers['if'].call(this, conditional, {fn: options.inverse, inverse: options.fn});\n});\n\nHandlebars.registerHelper('with', function(context, options) {\n  var type = toString.call(context);\n  if(type === functionType) { context = context.call(this); }\n\n  if (!Handlebars.Utils.isEmpty(context)) return options.fn(context);\n});\n\nHandlebars.registerHelper('log', function(context, options) {\n  var level = options.data && options.data.level != null ? parseInt(options.data.level, 10) : 1;\n  Handlebars.log(level, context);\n});\n;\n// lib/handlebars/utils.js\n\nvar errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\nHandlebars.Exception = function(message) {\n  var tmp = Error.prototype.constructor.apply(this, arguments);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n};\nHandlebars.Exception.prototype = new Error();\n\n// Build out our basic SafeString type\nHandlebars.SafeString = function(string) {\n  this.string = string;\n};\nHandlebars.SafeString.prototype.toString = function() {\n  return this.string.toString();\n};\n\nvar escape = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#x27;\",\n  \"`\": \"&#x60;\"\n};\n\nvar badChars = /[&<>\"'`]/g;\nvar possible = /[&<>\"'`]/;\n\nvar escapeChar = function(chr) {\n  return escape[chr] || \"&amp;\";\n};\n\nHandlebars.Utils = {\n  extend: function(obj, value) {\n    for(var key in value) {\n      if(value.hasOwnProperty(key)) {\n        obj[key] = value[key];\n      }\n    }\n  },\n\n  escapeExpression: function(string) {\n    // don't escape SafeStrings, since they're already safe\n    if (string instanceof Handlebars.SafeString) {\n      return string.toString();\n    } else if (string == null || string === false) {\n      return \"\";\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = string.toString();\n\n    if(!possible.test(string)) { return string; }\n    return string.replace(badChars, escapeChar);\n  },\n\n  isEmpty: function(value) {\n    if (!value && value !== 0) {\n      return true;\n    } else if(toString.call(value) === \"[object Array]\" && value.length === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n};\n;\n// lib/handlebars/runtime.js\n\nHandlebars.VM = {\n  template: function(templateSpec) {\n    // Just add water\n    var container = {\n      escapeExpression: Handlebars.Utils.escapeExpression,\n      invokePartial: Handlebars.VM.invokePartial,\n      programs: [],\n      program: function(i, fn, data) {\n        var programWrapper = this.programs[i];\n        if(data) {\n          programWrapper = Handlebars.VM.program(i, fn, data);\n        } else if (!programWrapper) {\n          programWrapper = this.programs[i] = Handlebars.VM.program(i, fn);\n        }\n        return programWrapper;\n      },\n      merge: function(param, common) {\n        var ret = param || common;\n\n        if (param && common) {\n          ret = {};\n          Handlebars.Utils.extend(ret, common);\n          Handlebars.Utils.extend(ret, param);\n        }\n        return ret;\n      },\n      programWithDepth: Handlebars.VM.programWithDepth,\n      noop: Handlebars.VM.noop,\n      compilerInfo: null\n    };\n\n    return function(context, options) {\n      options = options || {};\n      var result = templateSpec.call(container, Handlebars, context, options.helpers, options.partials, options.data);\n\n      var compilerInfo = container.compilerInfo || [],\n          compilerRevision = compilerInfo[0] || 1,\n          currentRevision = Handlebars.COMPILER_REVISION;\n\n      if (compilerRevision !== currentRevision) {\n        if (compilerRevision < currentRevision) {\n          var runtimeVersions = Handlebars.REVISION_CHANGES[currentRevision],\n              compilerVersions = Handlebars.REVISION_CHANGES[compilerRevision];\n          throw \"Template was precompiled with an older version of Handlebars than the current runtime. \"+\n                \"Please update your precompiler to a newer version (\"+runtimeVersions+\") or downgrade your runtime to an older version (\"+compilerVersions+\").\";\n        } else {\n          // Use the embedded version info since the runtime doesn't know about this revision yet\n          throw \"Template was precompiled with a newer version of Handlebars than the current runtime. \"+\n                \"Please update your runtime to a newer version (\"+compilerInfo[1]+\").\";\n        }\n      }\n\n      return result;\n    };\n  },\n\n  programWithDepth: function(i, fn, data /*, $depth */) {\n    var args = Array.prototype.slice.call(arguments, 3);\n\n    var program = function(context, options) {\n      options = options || {};\n\n      return fn.apply(this, [context, options.data || data].concat(args));\n    };\n    program.program = i;\n    program.depth = args.length;\n    return program;\n  },\n  program: function(i, fn, data) {\n    var program = function(context, options) {\n      options = options || {};\n\n      return fn(context, options.data || data);\n    };\n    program.program = i;\n    program.depth = 0;\n    return program;\n  },\n  noop: function() { return \"\"; },\n  invokePartial: function(partial, name, context, helpers, partials, data) {\n    var options = { helpers: helpers, partials: partials, data: data };\n\n    if(partial === undefined) {\n      throw new Handlebars.Exception(\"The partial \" + name + \" could not be found\");\n    } else if(partial instanceof Function) {\n      return partial(context, options);\n    } else if (!Handlebars.compile) {\n      throw new Handlebars.Exception(\"The partial \" + name + \" could not be compiled when running in runtime-only mode\");\n    } else {\n      partials[name] = Handlebars.compile(partial, {data: data !== undefined});\n      return partials[name](context, options);\n    }\n  }\n};\n\nHandlebars.template = Handlebars.VM.template;\n;\n// lib/handlebars/browser-suffix.js\n})(Handlebars);\n;\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\\n\";\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, stack2, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"checked=\\\"checked\\\"\";\n  }\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <div class=\\\"span6 centered\\\">\\n      <form>\\n        <fieldset>\\n          <legend>New Media Page</legend>\\n          <div class=\\\"control-group\\\">\\n            <label class=\\\"control-label\\\" for=\\\"name\\\">Page Title</label>\\n            <input type=\\\"text\\\" id=\\\"name\\\" name=\\\"name\\\" placeholder=\\\"Untitled Page\\\" value=\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = depth0.page),stack1 == null || stack1 === false ? stack1 : stack1.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n          </div>\\n          <div class=\\\"control-group\\\">\\n            <div class=\\\"controls\\\">\\n              <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Create</button>\\n            </div>\\n          </div>\\n        </fieldset>\\n      </form>\\n    </div>\\n    <div class=\\\"span6 centered\\\">\\n      <form>\\n        <fieldset>\\n          <legend>Custom Pages</legend>\\n          <div class=\\\"control-group\\\">\\n            <label class=\\\"control-label\\\" for=\\\"showContact\\\">Show Contact Page?</label>\\n            <div class=\\\"switch switch-large\\\"\\n              data-on-label=\\\"Yes\\\"\\n              data-off-label=\\\"No\\\">\\n              <input name=\\\"showContact\\\" \";\n  stack2 = helpers['if'].call(depth0, depth0.showContact, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \" type=\\\"checkbox\\\" />\\n            </div>\\n          </div>\\n        </fieldset>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <fieldset>\\n          <legend>Title</legend>\\n          <input type=\\\"text\\\" id=\\\"name\\\" name=\\\"name\\\" placeholder=\\\"Untitled Page\\\" value=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n        </fieldset>\\n        <fieldset>\\n          <legend>Visible To Public?</legend>\\n          <div class=\\\"switch switch-large\\\"\\n            data-on-label=\\\"Yes\\\"\\n            data-off-label=\\\"No\\\">\\n            <input name=\\\"isPublished\\\" \";\n  stack1 = helpers['if'].call(depth0, depth0.isPublished, {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" type=\\\"checkbox\\\" />\\n          </div>\\n        </fieldset>\\n        <div class=\\\"control-group\\\">\\n          <div class=\\\"controls\\\">\\n            <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Save</button>\\n            <a class=\\\"btn btn-danger\\\">Delete</a>\\n          </div>\\n        </div>\\n        \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"checked=\\\"checked\\\"\";\n  }\n\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            <li class=\\\"span4\\\" data-uuid=\\\"\";\n  if (stack1 = helpers.id) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.id; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n              <div class=\\\"relfix\\\">\\n                <img src=\\\"\";\n  if (stack1 = helpers.thumbnailUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.thumbnailUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" alt=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"img-polaroid\\\" />\\n                <p class=\\\"absfix\\\">\\n                  <a href=\\\"\";\n  if (stack1 = helpers.editHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app btn btn-mini btn-info\\\">Edit</a>\\n                </p>\\n              </div>\\n            </li>\\n          \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <form>\\n      <div class=\\\"span3 centered\\\">\\n        \";\n  stack1 = helpers['with'].call(depth0, depth0.page, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </div>\\n      <div class=\\\"span9\\\">\\n        <fieldset>\\n          <div class=\\\"alert alert-info\\\">\\n            Drag to sort media\\n          </div>\\n          <ul class=\\\"mediagrid sortable\\\">\\n          \";\n  stack1 = helpers.each.call(depth0, depth0.media, {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n          </ul>\\n        </fieldset>\\n      </div>\\n    </form>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          <li data-uuid=\\\"\";\n  if (stack1 = helpers.id) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.id; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</li>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <div class=\\\"span4 offset4 centered\\\">\\n    <form>\\n      <fieldset>\\n        <legend>Drag To Sort</legend>\\n        <ul class=\\\"sortable pageSortable\\\">\\n        \";\n  stack1 = helpers.each.call(depth0, depth0.pages, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n      </fieldset>\\n      <div class=\\\"control-group\\\">\\n        <div class=\\\"controls\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" data-loading-text=\\\"Saving...\\\">Save</button>\\n        </div>\\n      </div>\\n    </form>\\n    </div>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, stack2, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <div class=\\\"span2 offset4 centered\\\">\\n      <div id=\\\"uploadFileLink\\\">\\n        <p>\\n          <a href=\\\"#\\\" class=\\\"filepicker\\\">\\n            <img class=\\\"flatIcon\\\" src=\\\"/img/file_upload.png\\\" alt=\\\"upload-file\\\" />\\n          </a>\\n        </p>\\n        <p>\\n          <a href=\\\"#\\\" class=\\\"filepicker btn btn-success\\\">Upload File</a>\\n        </p>\\n      </div>\\n    </div>\\n    <div class=\\\"span2 centered\\\">\\n      <div id=\\\"pickFileLink\\\">\\n        <p>\\n          <a href=\\\"\";\n  if (stack1 = helpers.pickMediaUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.pickMediaUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app\\\">\\n            <img class=\\\"flatIcon\\\" src=\\\"/img/folder.png\\\" alt=\\\"pick-file\\\" />\\n          </a>\\n        </p>\\n        <p>\\n          <a href=\\\"\";\n  if (stack1 = helpers.pickMediaUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.pickMediaUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"useExisting btn btn-info app\\\">Use Existing</a>\\n        </p>\\n      </div>\\n    </div>\\n    \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    \";\n  stack2 = helpers['if'].call(depth0, ((stack1 = depth0.page),stack1 == null || stack1 === false ? stack1 : stack1.id), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, stack2, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      <li>\\n        <div class=\\\"relfix\\\">\\n          <a href=\\\"#\\\" data-media-id=\\\"\";\n  if (stack1 = helpers.id) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.id; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-media-type=\\\"\";\n  if (stack1 = helpers.type) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.type; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n            <img src=\\\"\";\n  if (stack1 = helpers.thumbnailUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.thumbnailUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" alt=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" />\\n            <div class=\\\"captions centered\\\">\\n              <h2>\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n            </div>\\n          </a>\\n        </div>\\n      </li>\\n    \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <div class=\\\"alert alert-block\\\">\\n      <h3>This Is All Your Media</h3>\\n      <p>\\n        Select a file to add it to \"\n    + escapeExpression(((stack1 = ((stack1 = depth0.page),stack1 == null || stack1 === false ? stack1 : stack1.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \", or <a href=\\\"\";\n  if (stack2 = helpers.uploadUrl) { stack2 = stack2.call(depth0, {hash:{},data:data}); }\n  else { stack2 = depth0.uploadUrl; stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2; }\n  buffer += escapeExpression(stack2)\n    + \"\\\" class=\\\"app\\\">Upload A New File</a>.\\n      </p>\\n    </div>\\n    <ul class=\\\"reelgrid\\\">\\n    \";\n  stack2 = helpers.each.call(depth0, depth0.media, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"\\n    </ul>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, depth0.isVideo, {hash:{},inverse:self.program(7, program7, data),fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      <div class=\\\"media_meta\\\">\\n        <h4>\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</h4>\\n        <ul>\\n        \";\n  stack1 = helpers.each.call(depth0, depth0.attribs, {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n      </div>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        \";\n  stack1 = helpers['if'].call(depth0, depth0.isEncoding, {hash:{},inverse:self.program(5, program5, data),fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          <img id=\\\"media_image\\\" class=\\\"pickerHolder\\\" alt=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" src=\\\"\";\n  if (stack1 = helpers.thumbnailUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.thumbnailUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" />\\n        \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  \n  return \"\\n          <div id=\\\"vid_placeholder\\\" />\\n        \";\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <img id=\\\"media_image\\\" class=\\\"pickerHolder\\\" alt=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" src=\\\"\";\n  if (stack1 = helpers.url) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.url; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" />\\n      \";\n  return buffer;\n  }\n\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          <li>\";\n  stack1 = (typeof depth0 === functionType ? depth0.apply(depth0) : depth0);\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"</li>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<div id=\\\"carouselWrapper\\\">\\n</div>\\n<div id=\\\"content\\\" class=\\\"container\\\">\\n  <div class=\\\"row\\\">\\n    <div id=\\\"preview\\\" class=\\\"span12 centered previewPadding\\\">\\n    \";\n  stack1 = helpers['with'].call(depth0, depth0.media, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n  </div>\\n</div>\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n<div class=\\\"container\\\">\\n  <div id=\\\"header\\\">\\n  </div>\\n  <div id=\\\"content\\\" class=\\\"row\\\">\\n    <form>\\n    <div class=\\\"span6\\\">\\n      <fieldset>\\n        <legend>Title</legend>\\n        <input type=\\\"text\\\" id=\\\"fileNameField\\\" name=\\\"name\\\" placeholder=\\\"Untitled \";\n  if (stack1 = helpers.type) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.type; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" value=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n      </fieldset>\\n      <fieldset>\\n        <legend>Labels <span data-toggle=\\\"tooltip\\\" data-title=\\\"Example Labels\\\" data-content=\\\"These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to bold the first word.&lt;/p&gt;\\\" class=\\\"fui-question\\\"></span></legend>\\n        <input name=\\\"attribs\\\" class=\\\"tagsinput tagsinput-primary\\\" value=\\\"\";\n  if (stack1 = helpers.attributeList) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.attributeList; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" id=\\\"tags1371235017630\\\" style=\\\"display: none;\\\" />\\n      </fieldset>\\n      \";\n  stack1 = helpers['if'].call(depth0, depth1.isEncoded, {hash:{},inverse:self.noop,fn:self.programWithDepth(2, program2, data, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      <fieldset>\\n        <div class=\\\"control-group\\\">\\n          <div class=\\\"controls\\\">\\n            <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Save</button>\\n            <!-- <a class=\\\"btn btn-danger\\\">Delete</a> -->\\n          </div>\\n        </div>\\n      </fieldset>\\n    </div>\\n    \";\n  stack1 = helpers['if'].call(depth0, depth1.showThumbnailPicker, {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </form>\\n  </div>\\n</div>\\n<div id=\\\"footer\\\" class=\\\"bottom-menu\\\">\\n</div>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data,depth2) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      <fieldset>\\n        <legend>Thumbnail</legend>\\n        \";\n  stack1 = helpers['if'].call(depth0, depth0.thumbnailS3key, {hash:{},inverse:self.program(5, program5, data),fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        <input type=\\\"hidden\\\" id=\\\"thumbnail\\\" name=\\\"thumbnail\\\" value=\\\"\";\n  if (stack1 = helpers.thumbnail) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.thumbnail; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, depth2.showThumbnailPicker, {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  stack1 = helpers['if'].call(depth0, depth0.isImage, {hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        <a id=\\\"useCustomButton\\\" href=\\\"#\\\" class=\\\"btn btn-inverse btn-mini upload\\\">Upload Thumbnail</a>\\n      </fieldset>\\n      \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          <p>\\n            <img src=\\\"\";\n  if (stack1 = helpers.thumbnailUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.thumbnailUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"thumbHolder img-polaroid\\\" alt=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \" Thumbnail\\\" />\\n          </p>\\n        \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  \n  return \"\\n          <div class=\\\"alert alert-warning\\\">\\n            <big>No thumbnail yet! Select or upload one.</big>\\n          </div>\\n        \";\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          \";\n  stack1 = helpers['if'].call(depth0, depth0.isVideo, {hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  \n  return \"\\n            <a id=\\\"chooseFrameButton\\\" href=\\\"#\\\" class=\\\"btn btn-info btn-mini choose\\\">Choose A Frame</a>\\n          \";\n  }\n\nfunction program10(depth0,data) {\n  \n  \n  return \"\\n          <a id=\\\"useOriginalButton\\\" href=\\\"#\\\" class=\\\"btn btn-info btn-mini crop\\\" data-loading-text=\\\"Processing...\\\">Use Original</a>\\n        \";\n  }\n\nfunction program12(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <div class=\\\"span6\\\">\\n      <div class=\\\"row centered\\\">\\n        <div id=\\\"thumber\\\">\\n        </div>\\n        <div class=\\\"controls\\\">\\n          \";\n  stack1 = helpers['if'].call(depth0, depth0.isVideo, {hash:{},inverse:self.noop,fn:self.program(13, program13, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </div>\\n    </div>\\n    \";\n  return buffer;\n  }\nfunction program13(depth0,data) {\n  \n  \n  return \"\\n            <a id=\\\"useCaptureButton\\\" href=\\\"#\\\" class=\\\"btn btn-info btn-mini capture\\\" data-loading-text=\\\"Processing...\\\">Use Current Frame</a>\\n          \";\n  }\n\n  stack1 = helpers['with'].call(depth0, depth0.media, {hash:{},inverse:self.noop,fn:self.programWithDepth(1, program1, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, stack2, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n<div class=\\\"row topbar\\\">\\n  <ul class=\\\"nav nav-boxes actionable\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, depth0.isPage, {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, depth0.isCreatingPage, {hash:{},inverse:self.program(17, program17, data),fn:self.program(15, program15, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, depth0.hasAtLeastTwoPages, {hash:{},inverse:self.noop,fn:self.program(19, program19, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    <!--\\n    \";\n  stack1 = helpers['if'].call(depth0, depth1.isLoggedIn, {hash:{},inverse:self.noop,fn:self.program(24, program24, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    -->\\n  </ul>\\n</div>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, depth0.isPublished, {hash:{},inverse:self.program(5, program5, data),fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, depth0.isAddingMedia, {hash:{},inverse:self.program(9, program9, data),fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, depth0.isEditingPage, {hash:{},inverse:self.program(13, program13, data),fn:self.program(11, program11, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <li class=\\\"privacy\\\"><a href=\\\"\";\n  if (stack1 = helpers.editPageMakePrivateHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editPageMakePrivateHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"current app boxed public\\\">Public</a></li>\\n      \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <li class=\\\"privacy\\\"><a href=\\\"\";\n  if (stack1 = helpers.editPageMakePublicHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editPageMakePublicHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"current app boxed private\\\">Private</a></li>\\n      \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <li><a href=\\\"\";\n  if (stack1 = helpers.addMediaHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.addMediaHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" id=\\\"addMediaLink\\\" class=\\\"current app boxed\\\">Add Media</a></li>\\n      \";\n  return buffer;\n  }\n\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <li><a href=\\\"\";\n  if (stack1 = helpers.addMediaHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.addMediaHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" id=\\\"addMediaLink\\\" class=\\\"app boxed\\\">Add Media</a></li>\\n      \";\n  return buffer;\n  }\n\nfunction program11(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <li><a href=\\\"\";\n  if (stack1 = helpers.editPageHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editPageHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"current app boxed\\\">Edit Page</a></li>\\n      \";\n  return buffer;\n  }\n\nfunction program13(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <li><a href=\\\"\";\n  if (stack1 = helpers.editPageHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editPageHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app boxed\\\">Edit Page</a></li>\\n      \";\n  return buffer;\n  }\n\nfunction program15(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      <li><a href=\\\"\";\n  if (stack1 = helpers.createHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.createHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" id=\\\"newPageLink\\\" class=\\\"current app boxed\\\">New Page</a></li>\\n    \";\n  return buffer;\n  }\n\nfunction program17(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      <li><a href=\\\"\";\n  if (stack1 = helpers.createHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.createHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" id=\\\"newPageLink\\\" class=\\\"app boxed\\\">New Page</a></li>\\n    \";\n  return buffer;\n  }\n\nfunction program19(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      \";\n  stack1 = helpers['if'].call(depth0, depth0.isReorderingPages, {hash:{},inverse:self.program(22, program22, data),fn:self.program(20, program20, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  return buffer;\n  }\nfunction program20(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <li><a href=\\\"\";\n  if (stack1 = helpers.reorderHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.reorderHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" id=\\\"reorderPageLink\\\" class=\\\"current app boxed\\\">Sort Pages</a></li>\\n      \";\n  return buffer;\n  }\n\nfunction program22(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <li><a href=\\\"\";\n  if (stack1 = helpers.reorderHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.reorderHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" id=\\\"reorderPageLink\\\" class=\\\"app boxed\\\">Sort Pages</a></li>\\n      \";\n  return buffer;\n  }\n\nfunction program24(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n      <br />\\n      \";\n  stack1 = helpers['if'].call(depth0, depth0.isPublished, {hash:{},inverse:self.program(27, program27, data),fn:self.program(25, program25, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  return buffer;\n  }\nfunction program25(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <a href=\\\"\";\n  if (stack1 = helpers.editHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app pageStatus\\\">Public</a>\\n      \";\n  return buffer;\n  }\n\nfunction program27(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <a href=\\\"\";\n  if (stack1 = helpers.editHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app pageStatus\\\">Private</a>\\n      \";\n  return buffer;\n  }\n\nfunction program29(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          <li>\\n          \";\n  stack1 = helpers['if'].call(depth0, depth0.active, {hash:{},inverse:self.program(32, program32, data),fn:self.program(30, program30, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n          </li>\\n        \";\n  return buffer;\n  }\nfunction program30(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            <a href=\\\"\";\n  if (stack1 = helpers.href) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.href; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"current app boxed\\\">\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n          \";\n  return buffer;\n  }\n\nfunction program32(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            <a href=\\\"\";\n  if (stack1 = helpers.href) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.href; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app boxed\\\">\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n          \";\n  return buffer;\n  }\n\nfunction program34(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          \";\n  stack1 = helpers['if'].call(depth0, depth0.isContact, {hash:{},inverse:self.program(37, program37, data),fn:self.program(35, program35, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  return buffer;\n  }\nfunction program35(depth0,data) {\n  \n  \n  return \"\\n            <li class=\\\"contact\\\"><a href=\\\"/contact\\\" class=\\\"current app boxed\\\">Contact</a></li>\\n          \";\n  }\n\nfunction program37(depth0,data) {\n  \n  \n  return \"\\n            <li class=\\\"contact\\\"><a href=\\\"/contact\\\" class=\\\"app boxed\\\">Contact</a></li>\\n          \";\n  }\n\nfunction program39(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <div class=\\\"alert alert-\";\n  if (stack1 = helpers.type) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.type; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n      <button type=\\\"button\\\" class=\\\"close fui-cross\\\" data-dismiss=\\\"alert\\\"></button>\\n      \";\n  if (stack1 = helpers.message) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.message; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\n    </div>\\n    \";\n  return buffer;\n  }\n\n  stack1 = helpers['if'].call(depth0, depth0.isLoggedIn, {hash:{},inverse:self.noop,fn:self.programWithDepth(1, program1, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n<div class=\\\"row pagebar\\\">\\n  <div class=\\\"span4\\\">\\n    <h1><a href=\\\"#\\\" class=\\\"app\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = depth0.sitetitle),stack1 == null || stack1 === false ? stack1 : stack1.value)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a></h1>\\n  </div>\\n  <div id=\\\"header\\\" class=\\\"span8\\\">\\n    <div class=\\\"rightaligned-boxes\\\">\\n      <ul id=\\\"mainnav\\\" class=\\\"nav nav-boxes\\\">\\n        \"\n    + \"\\n        \";\n  stack2 = helpers.each.call(depth0, depth0.pages, {hash:{},inverse:self.noop,fn:self.program(29, program29, data),data:data});\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"\\n        \";\n  stack2 = helpers['if'].call(depth0, depth0.showContact, {hash:{},inverse:self.noop,fn:self.program(34, program34, data),data:data});\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"\\n      </ul>\\n    </div>\\n    \";\n  options = {hash:{},inverse:self.noop,fn:self.program(39, program39, data),data:data};\n  if (stack2 = helpers.flash) { stack2 = stack2.call(depth0, options); }\n  else { stack2 = depth0.flash; stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2; }\n  if (!helpers.flash) { stack2 = blockHelperMissing.call(depth0, stack2, options); }\n  if(stack2 || stack2 === 0) { buffer += stack2; }\n  buffer += \"\\n  </div>\\n</div>\\n\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, stack2, self=this, functionType=\"function\", escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n            <li><a href=\\\"/logout\\\" class=\\\"app\\\">Log Out</a></li>\\n          \";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \"\\n            <li><a href=\\\"/login\\\" class=\\\"app\\\">Log In</a></li>\\n          \";\n  }\n\n  buffer += \"  <div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"span12\\\">\\n        <ul class=\\\"bottom-links\\\">\\n          \";\n  stack1 = helpers['if'].call(depth0, depth0.isLoggedIn, {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n        <span class=\\\"pull-right\\\">&copy; \"\n    + escapeExpression(((stack1 = ((stack1 = depth0.sitetitle),stack1 == null || stack1 === false ? stack1 : stack1.value)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \" \";\n  if (stack2 = helpers.copyrightYear) { stack2 = stack2.call(depth0, {hash:{},data:data}); }\n  else { stack2 = depth0.copyrightYear; stack2 = typeof stack2 === functionType ? stack2.apply(depth0) : stack2; }\n  buffer += escapeExpression(stack2)\n    + \"</span>\\n      </div>\\n    </div>\\n  </div>\\n\";\n  return buffer;\n  });\n","var _ = require('lodash')\n  , $ = require('jquery-browserify')\n  , Backbone = require('backbone');\n\nBackbone._ = _;\nBackbone.$ = $;\n\nvar Base = Backbone.View.extend({\n\n  initialize: function (opts) {\n\n    var tn = this.templateName;\n\n    if(this.beforeInit) {\n      this.beforeInit(opts);\n    }\n\n    this.template = this.template || opts.template;\n\n    if (!this.template) {\n      this.template = function () { return ''; };\n    }\n\n    if (this.afterInit) {\n      this.afterInit(opts);\n    }\n\n    this.render();\n\n  }\n\n, context: function () {\n    return _.extend({}, this.options, this.model);\n  }\n\n, close: function() {\n\n    if (this.beforeClose) {\n      this.beforeClose();\n    }\n\n    this.closeSubviews();\n    this.off();\n    this.remove();\n\n  }\n\n, render: function () {\n    var self = this\n      , model = this.model;\n\n    if (this.beforeRender) {\n      this.beforeRender();\n    }\n\n    this.closeSubviews();\n    this.$el.empty();\n\n    if (this.beforeTemplating) {\n      model = this.beforeTemplating();\n    }\n\n    if (this.context) {\n      model = this.context();\n    }\n\n    this.$el.html(this.template(model));\n\n    // I'm not happy deferring here, but backbone's\n    // event system is based on the DOM, so my hands\n    // are tied. - Daniel\n    _.defer(function () {\n      self.trigger('afterRender')\n    });\n\n    if (this.afterRender) {\n      this.afterRender();\n    }\n\n    return this;\n\n  }\n\n, proxy: function (name, view) {\n    var self = this;\n    view.on(name, function () {\n      var args = Array.prototype.slice.call(arguments, 0);\n      args.splice(0, 0, name);\n      self.trigger.apply(self, args);\n    });\n  }\n\n, eachSubview: function(iterator) {\n    _.each(this.subviews, iterator);\n  }\n\n, appendSubview: function(view, el) {\n    el || (el = this.$el);\n\n    this.subviews = this.subviews || {};\n    this.subviews[view.cid] = view;\n    el.append(view.el);\n\n    _.defer(function () {\n      view.trigger('afterAppend');\n    });\n\n    if (view.afterAppend) {\n      view.afterAppend();\n    }\n\n  }\n\n, closeSubviews: function() {\n\n    this.eachSubview(function(subview) {\n      subview.close();\n    });\n\n    this.subviews = {};\n\n  }\n\n, detachSubview: function(view) {\n\n    if (this.subviews) {\n      delete this.subviews[view.cid];\n    }\n\n    view.$el.detach();\n\n  }\n\n});\n\nmodule.exports = Base;\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n  <li>\\n    <div class=\\\"relfix\\\">\\n      <a href=\\\"\";\n  if (stack1 = helpers.playerUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.playerUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app\\\">\\n        <img src=\\\"\";\n  if (stack1 = helpers.thumbnailUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.thumbnailUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" alt=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" />\\n        \";\n  stack1 = helpers['if'].call(depth0, depth0.editHref, {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        <div class=\\\"captions centered\\\">\\n          <h2>\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n        </div>\\n      </a>\\n    </div>\\n  </li>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          <p class=\\\"absfix\\\">\\n            <a href=\\\"\";\n  if (stack1 = helpers.editHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app btn btn-mini btn-info\\\"><i class=\\\"icon-edit\\\"></i></a>\\n            <a href=\\\"\";\n  if (stack1 = helpers.removeHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.removeHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app btn btn-mini btn-danger\\\"><i class=\\\"icon-trash\\\"></i></a>\\n          </p>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<ul class=\\\"reelgrid\\\">\\n\";\n  stack1 = helpers.each.call(depth0, depth0.media, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</ul>\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n  <iframe src=\\\"\";\n  if (stack1 = helpers.thumberUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.thumberUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" frameborder=\\\"0\\\" width=\\\"100%\\\"></iframe>\\n\";\n  return buffer;\n  }\n\n  stack1 = helpers['if'].call(depth0, depth0.thumberUrl, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n","var Handlebars = require('handlebars-runtime');\nmodule.exports = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <li>\\n      <div class=\\\"relfix\\\">\\n        <a href=\\\"\";\n  if (stack1 = helpers.playerUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.playerUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app\\\">\\n          <img src=\\\"\";\n  if (stack1 = helpers.thumbnailUrl) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.thumbnailUrl; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" alt=\\\"\";\n  if (stack1 = helpers.name) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.name; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" />\\n        </a>\\n        \";\n  stack1 = helpers['if'].call(depth0, depth0.editHref, {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </div>\\n    </li>\\n  \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n          <p class=\\\"absfix\\\">\\n            <a href=\\\"\";\n  if (stack1 = helpers.editHref) { stack1 = stack1.call(depth0, {hash:{},data:data}); }\n  else { stack1 = depth0.editHref; stack1 = typeof stack1 === functionType ? stack1.apply(depth0) : stack1; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"app btn btn-micro btn-info\\\">Edit</a>\\n          </p>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"sliderWrap\\\">\\n  <ul class=\\\"carousel elastislide-list\\\">\\n  \";\n  stack1 = helpers.each.call(depth0, depth0.media, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </ul>\\n</div>\\n<div class=\\\"controls clearfix centered\\\">\\n  <div class=\\\"control-fix centered\\\">\\n    <a href=\\\"#\\\" class=\\\"carouselControl goLeft hidden\\\">&lt;</a>\\n    <a href=\\\"#\\\" class=\\\"carouselControl reelToggle\\\"><span class=\\\"symbol\\\">&and;</span><br /><small>Reel</small></a>\\n    <a href=\\\"#\\\" class=\\\"carouselControl goRight hidden\\\">&gt;</a>\\n  </div>\\n  <a href=\\\"#\\\" class=\\\"carouselControl bigClose pull-right\\\">&times;</a>\\n</div>\\n\";\n  return buffer;\n  });\n","var global=self;/**\n * @license\n * Lo-Dash 1.2.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modern -o ./dist/lodash.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.4.4 <http://underscorejs.org/>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * Available under MIT license <http://lodash.com/license>\n */\n;(function(window) {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Detect free variable `exports` */\n  var freeExports = typeof exports == 'object' && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = typeof module == 'object' && module && module.exports == freeExports && module;\n\n  /** Detect free variable `global`, from Node.js or Browserified code, and use it as `window` */\n  var freeGlobal = typeof global == 'object' && global;\n  if (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n    window = freeGlobal;\n  }\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used internally to indicate various things */\n  var indicatorObject = {};\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date + '';\n\n  /** Used as the size when optimizations are enabled for large arrays */\n  var largeArraySize = 200;\n\n  /** Used to match empty string literals in compiled template source */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g;\n\n  /**\n   * Used to match ES6 template delimiters\n   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-7.8.6\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to detect and test whitespace */\n  var whitespace = (\n    // whitespace\n    ' \\t\\x0B\\f\\xA0\\ufeff' +\n\n    // line terminators\n    '\\n\\r\\u2028\\u2029' +\n\n    // unicode category \"Zs\" space separators\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to match leading whitespace and zeros to be removed */\n  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to match HTML characters */\n  var reUnescapedHtml = /[&<>\"']/g;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** Used to assign default `context` object properties */\n  var contextProps = [\n    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object', 'RegExp',\n    'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN', 'parseInt',\n    'setImmediate', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify */\n  var templateCounter = 0;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} [context=window] The context object.\n   * @returns {Function} Returns the `lodash` function.\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See http://es5.github.com/#x11.1.5.\n    context = context ? _.defaults(window.Object(), context, _.pick(window, contextProps)) : window;\n\n    /** Native constructor references */\n    var Array = context.Array,\n        Boolean = context.Boolean,\n        Date = context.Date,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for `Array` and `Object` method references */\n    var arrayRef = Array(),\n        objectRef = Object();\n\n    /** Used to restore the original `_` reference in `noConflict` */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native */\n    var reNative = RegExp('^' +\n      String(objectRef.valueOf)\n        .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n        .replace(/valueOf|for [^\\]]+/g, '.+?') + '$'\n    );\n\n    /** Native method shortcuts */\n    var ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        concat = arrayRef.concat,\n        floor = Math.floor,\n        getPrototypeOf = reNative.test(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        hasOwnProperty = objectRef.hasOwnProperty,\n        push = arrayRef.push,\n        setImmediate = context.setImmediate,\n        setTimeout = context.setTimeout,\n        toString = objectRef.toString;\n\n    /* Native method shortcuts for methods with the same name as other `lodash` methods */\n    var nativeBind = reNative.test(nativeBind = toString.bind) && nativeBind,\n        nativeIsArray = reNative.test(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeIsFinite = context.isFinite,\n        nativeIsNaN = context.isNaN,\n        nativeKeys = reNative.test(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeSlice = arrayRef.slice;\n\n    /** Detect various environments */\n    var isIeOpera = reNative.test(context.attachEvent),\n        isV8 = nativeBind && !/\\n|true/.test(nativeBind + isIeOpera);\n\n    /** Used to lookup a built-in constructor by [[Class]] */\n    var ctorByClass = {};\n    ctorByClass[arrayClass] = Array;\n    ctorByClass[boolClass] = Boolean;\n    ctorByClass[dateClass] = Date;\n    ctorByClass[objectClass] = Object;\n    ctorByClass[numberClass] = Number;\n    ctorByClass[regexpClass] = RegExp;\n    ctorByClass[stringClass] = String;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object, which wraps the given `value`, to enable method\n     * chaining.\n     *\n     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n     * and `unshift`\n     *\n     * Chaining is supported in custom builds as long as the `value` method is\n     * implicitly or explicitly included in the build.\n     *\n     * The chainable wrapper functions are:\n     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n     * `compose`, `concat`, `countBy`, `createCallback`, `debounce`, `defaults`,\n     * `defer`, `delay`, `difference`, `filter`, `flatten`, `forEach`, `forIn`,\n     * `forOwn`, `functions`, `groupBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `push`, `range`,\n     * `reject`, `rest`, `reverse`, `shuffle`, `slice`, `sort`, `sortBy`, `splice`,\n     * `tap`, `throttle`, `times`, `toArray`, `union`, `uniq`, `unshift`, `unzip`,\n     * `values`, `where`, `without`, `wrap`, and `zip`\n     *\n     * The non-chainable wrapper functions are:\n     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `has`,\n     * `identity`, `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`,\n     * `isElement`, `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`,\n     * `isNull`, `isNumber`, `isObject`, `isPlainObject`, `isRegExp`, `isString`,\n     * `isUndefined`, `join`, `lastIndexOf`, `mixin`, `noConflict`, `parseInt`,\n     * `pop`, `random`, `reduce`, `reduceRight`, `result`, `shift`, `size`, `some`,\n     * `sortedIndex`, `runInContext`, `template`, `unescape`, `uniqueId`, and `value`\n     *\n     * The wrapper functions `first` and `last` return wrapped values when `n` is\n     * passed, otherwise they return unwrapped values.\n     *\n     * @name _\n     * @constructor\n     * @category Chaining\n     * @param {Mixed} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns a `lodash` instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(num) {\n     *   return num * num;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor\n      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))\n       ? value\n       : new lodashWrapper(value);\n    }\n\n    /**\n     * An object used to flag environments features.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * Detect if `Function#bind` exists and is inferred to be fast (all but V8).\n     *\n     * @memberOf _.support\n     * @type Boolean\n     */\n    support.fastBind = nativeBind && !isV8;\n\n    /**\n     * By default, the template delimiters used by Lo-Dash are similar to those in\n     * embedded Ruby (ERB). Change the following template settings to use alternative\n     * delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': /<%-([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': /<%([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type String\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function optimized to search large arrays for a given `value`,\n     * starting at `fromIndex`, using strict equality for comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {Array} array The array to search.\n     * @param {Mixed} value The value to search for.\n     * @returns {Boolean} Returns `true`, if `value` is found, else `false`.\n     */\n    function cachedContains(array) {\n      var length = array.length,\n          isLarge = length >= largeArraySize;\n\n      if (isLarge) {\n        var cache = {},\n            index = -1;\n\n        while (++index < length) {\n          var key = keyPrefix + array[index];\n          (cache[key] || (cache[key] = [])).push(array[index]);\n        }\n      }\n      return function(value) {\n        if (isLarge) {\n          var key = keyPrefix + value;\n          return  cache[key] && indexOf(cache[key], value) > -1;\n        }\n        return indexOf(array, value) > -1;\n      }\n    }\n\n    /**\n     * Used by `_.max` and `_.min` as the default `callback` when a given\n     * `collection` is a string value.\n     *\n     * @private\n     * @param {String} value The character to inspect.\n     * @returns {Number} Returns the code unit of given character.\n     */\n    function charAtCallback(value) {\n      return value.charCodeAt(0);\n    }\n\n    /**\n     * Used by `sortBy` to compare transformed `collection` values, stable sorting\n     * them in ascending order.\n     *\n     * @private\n     * @param {Object} a The object to compare to `b`.\n     * @param {Object} b The object to compare to `a`.\n     * @returns {Number} Returns the sort order indicator of `1` or `-1`.\n     */\n    function compareAscending(a, b) {\n      var ai = a.index,\n          bi = b.index;\n\n      a = a.criteria;\n      b = b.criteria;\n\n      // ensure a stable sort in V8 and other engines\n      // http://code.google.com/p/v8/issues/detail?id=90\n      if (a !== b) {\n        if (a > b || typeof a == 'undefined') {\n          return 1;\n        }\n        if (a < b || typeof b == 'undefined') {\n          return -1;\n        }\n      }\n      return ai < bi ? -1 : 1;\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with the `this` binding\n     * of `thisArg` and prepends any `partialArgs` to the arguments passed to the\n     * bound function.\n     *\n     * @private\n     * @param {Function|String} func The function to bind or the method name.\n     * @param {Mixed} [thisArg] The `this` binding of `func`.\n     * @param {Array} partialArgs An array of arguments to be partially applied.\n     * @param {Object} [idicator] Used to indicate binding by key or partially\n     *  applying arguments from the right.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBound(func, thisArg, partialArgs, indicator) {\n      var isFunc = isFunction(func),\n          isPartial = !partialArgs,\n          key = thisArg;\n\n      // juggle arguments\n      if (isPartial) {\n        var rightIndicator = indicator;\n        partialArgs = thisArg;\n      }\n      else if (!isFunc) {\n        if (!indicator) {\n          throw new TypeError;\n        }\n        thisArg = func;\n      }\n\n      function bound() {\n        // `Function#bind` spec\n        // http://es5.github.com/#x15.3.4.5\n        var args = arguments,\n            thisBinding = isPartial ? this : thisArg;\n\n        if (!isFunc) {\n          func = thisArg[key];\n        }\n        if (partialArgs.length) {\n          args = args.length\n            ? (args = nativeSlice.call(args), rightIndicator ? args.concat(partialArgs) : partialArgs.concat(args))\n            : partialArgs;\n        }\n        if (this instanceof bound) {\n          // ensure `new bound` is an instance of `func`\n          noop.prototype = func.prototype;\n          thisBinding = new noop;\n          noop.prototype = null;\n\n          // mimic the constructor's `return` behavior\n          // http://es5.github.com/#x13.2.2\n          var result = func.apply(thisBinding, args);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisBinding, args);\n      }\n      return bound;\n    }\n\n    /**\n     * Used by `template` to escape characters for inclusion in compiled\n     * string literals.\n     *\n     * @private\n     * @param {String} match The matched character to escape.\n     * @returns {String} Returns the escaped character.\n     */\n    function escapeStringChar(match) {\n      return '\\\\' + stringEscapes[match];\n    }\n\n    /**\n     * Used by `escape` to convert characters to HTML entities.\n     *\n     * @private\n     * @param {String} match The matched character to escape.\n     * @returns {String} Returns the escaped character.\n     */\n    function escapeHtmlChar(match) {\n      return htmlEscapes[match];\n    }\n\n    /**\n     * A fast path for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {Mixed} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns a `lodash` instance.\n     */\n    function lodashWrapper(value) {\n      this.__wrapped__ = value;\n    }\n    // ensure `new lodashWrapper` is an instance of `lodash`\n    lodashWrapper.prototype = lodash.prototype;\n\n    /**\n     * A no-operation function.\n     *\n     * @private\n     */\n    function noop() {\n      // no operation performed\n    }\n\n    /**\n     * A fallback implementation of `isPlainObject` which checks if a given `value`\n     * is an object created by the `Object` constructor, assuming objects created\n     * by the `Object` constructor have no inherited enumerable properties and that\n     * there are no `Object.prototype` extensions.\n     *\n     * @private\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      // avoid non-objects and false positives for `arguments` objects\n      var result = false;\n      if (!(value && toString.call(value) == objectClass)) {\n        return result;\n      }\n      // check that the constructor is `Object` (i.e. `Object instanceof Object`)\n      var ctor = value.constructor;\n\n      if (isFunction(ctor) ? ctor instanceof ctor : true) {\n        // In most environments an object's own properties are iterated before\n        // its inherited properties. If the last iterated property is an object's\n        // own property then there are no inherited enumerable properties.\n        forIn(value, function(value, key) {\n          result = key;\n        });\n        return result === false || hasOwnProperty.call(value, result);\n      }\n      return result;\n    }\n\n    /**\n     * Slices the `collection` from the `start` index up to, but not including,\n     * the `end` index.\n     *\n     * Note: This function is used, instead of `Array#slice`, to support node lists\n     * in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @private\n     * @param {Array|Object|String} collection The collection to slice.\n     * @param {Number} start The start index.\n     * @param {Number} end The end index.\n     * @returns {Array} Returns the new array.\n     */\n    function slice(array, start, end) {\n      start || (start = 0);\n      if (typeof end == 'undefined') {\n        end = array ? array.length : 0;\n      }\n      var index = -1,\n          length = end - start || 0,\n          result = Array(length < 0 ? 0 : length);\n\n      while (++index < length) {\n        result[index] = array[start + index];\n      }\n      return result;\n    }\n\n    /**\n     * Used by `unescape` to convert HTML entities to characters.\n     *\n     * @private\n     * @param {String} match The matched character to unescape.\n     * @returns {String} Returns the unescaped character.\n     */\n    function unescapeHtmlChar(match) {\n      return htmlUnescapes[match];\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `value` is an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is an `arguments` object, else `false`.\n     * @example\n     *\n     * (function() { return _.isArguments(arguments); })(1, 2, 3);\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return toString.call(value) == argsClass;\n    }\n\n    /**\n     * Checks if `value` is an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is an array, else `false`.\n     * @example\n     *\n     * (function() { return _.isArray(arguments); })();\n     * // => false\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     */\n    var isArray = nativeIsArray;\n\n    /**\n     * A fallback implementation of `Object.keys` which produces an array of the\n     * given object's own enumerable property names.\n     *\n     * @private\n     * @type Function\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns a new array of property names.\n     */\n    var shimKeys = function (object) {\n      var index, iterable = object, result = [];\n      if (!iterable) return result;\n      if (!(objectTypes[typeof object])) return result;\n\n        for (index in iterable) {\n          if (hasOwnProperty.call(iterable, index)) {    \n          result.push(index);    \n          }\n        }    \n      return result\n    };\n\n    /**\n     * Creates an array composed of the own enumerable property names of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns a new array of property names.\n     * @example\n     *\n     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => ['one', 'two', 'three'] (order is not guaranteed)\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (!isObject(object)) {\n        return [];\n      }\n      return nativeKeys(object);\n    };\n\n    /**\n     * Used to convert characters to HTML entities:\n     *\n     * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n     * don't require escaping in HTML and have no special meaning unless they're part\n     * of a tag or an unquoted attribute value.\n     * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n     */\n    var htmlEscapes = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    };\n\n    /** Used to convert HTML entities to characters */\n    var htmlUnescapes = invert(htmlEscapes);\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources will overwrite property assignments of previous\n     * sources. If a `callback` function is passed, it will be executed to produce\n     * the assigned values. The `callback` is bound to `thisArg` and invoked with\n     * two arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @alias extend\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {Object} [source1, source2, ...] The source objects.\n     * @param {Function} [callback] The function to customize assigning values.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * _.assign({ 'name': 'moe' }, { 'age': 40 });\n     * // => { 'name': 'moe', 'age': 40 }\n     *\n     * var defaults = _.partialRight(_.assign, function(a, b) {\n     *   return typeof a == 'undefined' ? b : a;\n     * });\n     *\n     * var food = { 'name': 'apple' };\n     * defaults(food, { 'name': 'banana', 'type': 'fruit' });\n     * // => { 'name': 'apple', 'type': 'fruit' }\n     */\n    var assign = function (object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n        var callback = lodash.createCallback(args[--argsLength - 1], args[argsLength--], 2);\n      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n        callback = args[--argsLength];\n      }\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {;\n      var length = iterable.length; index = -1;\n      if (isArray(iterable)) {\n        while (++index < length) {\n          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]\n        }\n      }\n      else {    \n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] ? keys(iterable) : [],\n            length = ownProps.length;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]\n        }    \n      }\n        }\n      };\n      return result\n    };\n\n    /**\n     * Creates a clone of `value`. If `deep` is `true`, nested objects will also\n     * be cloned, otherwise they will be assigned by reference. If a `callback`\n     * function is passed, it will be executed to produce the cloned values. If\n     * `callback` returns `undefined`, cloning will be handled by the method instead.\n     * The `callback` is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to clone.\n     * @param {Boolean} [deep=false] A flag to indicate a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @param- {Array} [stackA=[]] Tracks traversed source objects.\n     * @param- {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {Mixed} Returns the cloned `value`.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * var shallow = _.clone(stooges);\n     * shallow[0] === stooges[0];\n     * // => true\n     *\n     * var deep = _.clone(stooges, true);\n     * deep[0] === stooges[0];\n     * // => false\n     *\n     * _.mixin({\n     *   'clone': _.partialRight(_.clone, function(value) {\n     *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n     *   })\n     * });\n     *\n     * var clone = _.clone(document.body);\n     * clone.childNodes.length;\n     * // => 0\n     */\n    function clone(value, deep, callback, thisArg, stackA, stackB) {\n      var result = value;\n\n      // allows working with \"Collections\" methods without using their `callback`\n      // argument, `index|key`, for this method's `callback`\n      if (typeof deep == 'function') {\n        thisArg = callback;\n        callback = deep;\n        deep = false;\n      }\n      if (typeof callback == 'function') {\n        callback = (typeof thisArg == 'undefined')\n          ? callback\n          : lodash.createCallback(callback, thisArg, 1);\n\n        result = callback(result);\n        if (typeof result != 'undefined') {\n          return result;\n        }\n        result = value;\n      }\n      // inspect [[Class]]\n      var isObj = isObject(result);\n      if (isObj) {\n        var className = toString.call(result);\n        if (!cloneableClasses[className]) {\n          return result;\n        }\n        var isArr = isArray(result);\n      }\n      // shallow clone\n      if (!isObj || !deep) {\n        return isObj\n          ? (isArr ? slice(result) : assign({}, result))\n          : result;\n      }\n      var ctor = ctorByClass[className];\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          return new ctor(+result);\n\n        case numberClass:\n        case stringClass:\n          return new ctor(result);\n\n        case regexpClass:\n          return ctor(result.source, reFlags.exec(result));\n      }\n      // check for circular references and return corresponding clone\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // init cloned object\n      result = isArr ? ctor(result.length) : {};\n\n      // add array properties assigned by `RegExp#exec`\n      if (isArr) {\n        if (hasOwnProperty.call(value, 'index')) {\n          result.index = value.index;\n        }\n        if (hasOwnProperty.call(value, 'input')) {\n          result.input = value.input;\n        }\n      }\n      // add the source value to the stack of traversed objects\n      // and associate it with its clone\n      stackA.push(value);\n      stackB.push(result);\n\n      // recursively populate clone (susceptible to call stack limits)\n      (isArr ? forEach : forOwn)(value, function(objValue, key) {\n        result[key] = clone(objValue, deep, callback, undefined, stackA, stackB);\n      });\n\n      return result;\n    }\n\n    /**\n     * Creates a deep clone of `value`. If a `callback` function is passed,\n     * it will be executed to produce the cloned values. If `callback` returns\n     * `undefined`, cloning will be handled by the method instead. The `callback`\n     * is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * Note: This function is loosely based on the structured clone algorithm. Functions\n     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and\n     * objects created by constructors other than `Object` are cloned to plain `Object` objects.\n     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the deep cloned `value`.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * var deep = _.cloneDeep(stooges);\n     * deep[0] === stooges[0];\n     * // => false\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'node': element\n     * };\n     *\n     * var clone = _.cloneDeep(view, function(value) {\n     *   return _.isElement(value) ? value.cloneNode(true) : undefined;\n     * });\n     *\n     * clone.node == view.node;\n     * // => false\n     */\n    function cloneDeep(value, callback, thisArg) {\n      return clone(value, true, callback, thisArg);\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional defaults of the same property will be ignored.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {Object} [source1, source2, ...] The source objects.\n     * @param- {Object} [guard] Allows working with `_.reduce` without using its\n     *  callback's `key` and `object` arguments as sources.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var food = { 'name': 'apple' };\n     * _.defaults(food, { 'name': 'banana', 'type': 'fruit' });\n     * // => { 'name': 'apple', 'type': 'fruit' }\n     */\n    var defaults = function (object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {;\n      var length = iterable.length; index = -1;\n      if (isArray(iterable)) {\n        while (++index < length) {\n          if (typeof result[index] == 'undefined') result[index] = iterable[index]\n        }\n      }\n      else {    \n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] ? keys(iterable) : [],\n            length = ownProps.length;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (typeof result[index] == 'undefined') result[index] = iterable[index]\n        }    \n      }\n        }\n      };\n      return result\n    };\n\n    /**\n     * This method is similar to `_.find`, except that it returns the key of the\n     * element that passes the callback check, instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * _.findKey({ 'a': 1, 'b': 2, 'c': 3, 'd': 4 }, function(num) {\n     *   return num % 2 == 0;\n     * });\n     * // => 'b'\n     */\n    function findKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg);\n      forOwn(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over `object`'s own and inherited enumerable properties, executing\n     * the `callback` for each property. The `callback` is bound to `thisArg` and\n     * invoked with three arguments; (value, key, object). Callbacks may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Dog(name) {\n     *   this.name = name;\n     * }\n     *\n     * Dog.prototype.bark = function() {\n     *   alert('Woof, woof!');\n     * };\n     *\n     * _.forIn(new Dog('Dagny'), function(value, key) {\n     *   alert(key);\n     * });\n     * // => alerts 'name' and 'bark' (order is not guaranteed)\n     */\n    var forIn = function (collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);\n\n        for (index in iterable) {\n          if (callback(iterable[index], index, collection) === false) return result;    \n        }    \n      return result\n    };\n\n    /**\n     * Iterates over an object's own enumerable properties, executing the `callback`\n     * for each property. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, key, object). Callbacks may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   alert(key);\n     * });\n     * // => alerts '0', '1', and 'length' (order is not guaranteed)\n     */\n    var forOwn = function (collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);\n\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] ? keys(iterable) : [],\n            length = ownProps.length;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (callback(iterable[index], index, collection) === false) return result\n        }    \n      return result\n    };\n\n    /**\n     * Creates a sorted array of all enumerable properties, own and inherited,\n     * of `object` that have function values.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns a new array of property names that have function values.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n     */\n    function functions(object) {\n      var result = [];\n      forIn(object, function(value, key) {\n        if (isFunction(value)) {\n          result.push(key);\n        }\n      });\n      return result.sort();\n    }\n\n    /**\n     * Checks if the specified object `property` exists and is a direct property,\n     * instead of an inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to check.\n     * @param {String} property The property to check for.\n     * @returns {Boolean} Returns `true` if key is a direct property, else `false`.\n     * @example\n     *\n     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n     * // => true\n     */\n    function has(object, property) {\n      return object ? hasOwnProperty.call(object, property) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of the given `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the created inverted object.\n     * @example\n     *\n     *  _.invert({ 'first': 'moe', 'second': 'larry' });\n     * // => { 'moe': 'first', 'larry': 'second' }\n     */\n    function invert(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        result[object[key]] = key;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a boolean value.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a boolean value, else `false`.\n     * @example\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || toString.call(value) == boolClass;\n    }\n\n    /**\n     * Checks if `value` is a date.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a date, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     */\n    function isDate(value) {\n      return value ? (typeof value == 'object' && toString.call(value) == dateClass) : false;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     */\n    function isElement(value) {\n      return value ? value.nodeType === 1 : false;\n    }\n\n    /**\n     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n     * length of `0` and objects with no own enumerable properties are considered\n     * \"empty\".\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object|String} value The value to inspect.\n     * @returns {Boolean} Returns `true`, if the `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({});\n     * // => true\n     *\n     * _.isEmpty('');\n     * // => true\n     */\n    function isEmpty(value) {\n      var result = true;\n      if (!value) {\n        return result;\n      }\n      var className = toString.call(value),\n          length = value.length;\n\n      if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n        return !length;\n      }\n      forOwn(value, function() {\n        return (result = false);\n      });\n      return result;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent to each other. If `callback` is passed, it will be executed to\n     * compare values. If `callback` returns `undefined`, comparisons will be handled\n     * by the method instead. The `callback` is bound to `thisArg` and invoked with\n     * two arguments; (a, b).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} a The value to compare.\n     * @param {Mixed} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @param- {Array} [stackA=[]] Tracks traversed `a` objects.\n     * @param- {Array} [stackB=[]] Tracks traversed `b` objects.\n     * @returns {Boolean} Returns `true`, if the values are equivalent, else `false`.\n     * @example\n     *\n     * var moe = { 'name': 'moe', 'age': 40 };\n     * var copy = { 'name': 'moe', 'age': 40 };\n     *\n     * moe == copy;\n     * // => false\n     *\n     * _.isEqual(moe, copy);\n     * // => true\n     *\n     * var words = ['hello', 'goodbye'];\n     * var otherWords = ['hi', 'goodbye'];\n     *\n     * _.isEqual(words, otherWords, function(a, b) {\n     *   var reGreet = /^(?:hello|hi)$/i,\n     *       aGreet = _.isString(a) && reGreet.test(a),\n     *       bGreet = _.isString(b) && reGreet.test(b);\n     *\n     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n     * });\n     * // => true\n     */\n    function isEqual(a, b, callback, thisArg, stackA, stackB) {\n      // used to indicate that when comparing objects, `a` has at least the properties of `b`\n      var whereIndicator = callback === indicatorObject;\n      if (typeof callback == 'function' && !whereIndicator) {\n        callback = lodash.createCallback(callback, thisArg, 2);\n        var result = callback(a, b);\n        if (typeof result != 'undefined') {\n          return !!result;\n        }\n      }\n      // exit early for identical values\n      if (a === b) {\n        // treat `+0` vs. `-0` as not equal\n        return a !== 0 || (1 / a == 1 / b);\n      }\n      var type = typeof a,\n          otherType = typeof b;\n\n      // exit early for unlike primitive values\n      if (a === a &&\n          (!a || (type != 'function' && type != 'object')) &&\n          (!b || (otherType != 'function' && otherType != 'object'))) {\n        return false;\n      }\n      // exit early for `null` and `undefined`, avoiding ES3's Function#call behavior\n      // http://es5.github.com/#x15.3.4.4\n      if (a == null || b == null) {\n        return a === b;\n      }\n      // compare [[Class]] names\n      var className = toString.call(a),\n          otherClass = toString.call(b);\n\n      if (className == argsClass) {\n        className = objectClass;\n      }\n      if (otherClass == argsClass) {\n        otherClass = objectClass;\n      }\n      if (className != otherClass) {\n        return false;\n      }\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          // coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0`, treating invalid dates coerced to `NaN` as not equal\n          return +a == +b;\n\n        case numberClass:\n          // treat `NaN` vs. `NaN` as equal\n          return (a != +a)\n            ? b != +b\n            // but treat `+0` vs. `-0` as not equal\n            : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n        case regexpClass:\n        case stringClass:\n          // coerce regexes to strings (http://es5.github.com/#x15.10.6.4)\n          // treat string primitives and their corresponding object instances as equal\n          return a == String(b);\n      }\n      var isArr = className == arrayClass;\n      if (!isArr) {\n        // unwrap any `lodash` wrapped values\n        if (hasOwnProperty.call(a, '__wrapped__ ') || hasOwnProperty.call(b, '__wrapped__')) {\n          return isEqual(a.__wrapped__ || a, b.__wrapped__ || b, callback, thisArg, stackA, stackB);\n        }\n        // exit for functions and DOM nodes\n        if (className != objectClass) {\n          return false;\n        }\n        // in older versions of Opera, `arguments` objects have `Array` constructors\n        var ctorA = a.constructor,\n            ctorB = b.constructor;\n\n        // non `Object` object instances with different constructors are not equal\n        if (ctorA != ctorB && !(\n              isFunction(ctorA) && ctorA instanceof ctorA &&\n              isFunction(ctorB) && ctorB instanceof ctorB\n            )) {\n          return false;\n        }\n      }\n      // assume cyclic structures are equal\n      // the algorithm for detecting cyclic structures is adapted from ES 5.1\n      // section 15.12.3, abstract operation `JO` (http://es5.github.com/#x15.12.3)\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == a) {\n          return stackB[length] == b;\n        }\n      }\n      var size = 0;\n      result = true;\n\n      // add `a` and `b` to the stack of traversed objects\n      stackA.push(a);\n      stackB.push(b);\n\n      // recursively compare objects and arrays (susceptible to call stack limits)\n      if (isArr) {\n        length = a.length;\n        size = b.length;\n\n        // compare lengths to determine if a deep comparison is necessary\n        result = size == a.length;\n        if (!result && !whereIndicator) {\n          return result;\n        }\n        // deep compare the contents, ignoring non-numeric properties\n        while (size--) {\n          var index = length,\n              value = b[size];\n\n          if (whereIndicator) {\n            while (index--) {\n              if ((result = isEqual(a[index], value, callback, thisArg, stackA, stackB))) {\n                break;\n              }\n            }\n          } else if (!(result = isEqual(a[size], value, callback, thisArg, stackA, stackB))) {\n            break;\n          }\n        }\n        return result;\n      }\n      // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`\n      // which, in this case, is more costly\n      forIn(b, function(value, key, b) {\n        if (hasOwnProperty.call(b, key)) {\n          // count the number of properties.\n          size++;\n          // deep compare each property value.\n          return (result = hasOwnProperty.call(a, key) && isEqual(a[key], value, callback, thisArg, stackA, stackB));\n        }\n      });\n\n      if (result && !whereIndicator) {\n        // ensure both objects have the same number of properties\n        forIn(a, function(value, key, a) {\n          if (hasOwnProperty.call(a, key)) {\n            // `size` will be `-1` if `a` has more properties than `b`\n            return (result = --size > -1);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is, or can be coerced to, a finite number.\n     *\n     * Note: This is not the same as native `isFinite`, which will return true for\n     * booleans and empty strings. See http://es5.github.com/#x15.1.2.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is finite, else `false`.\n     * @example\n     *\n     * _.isFinite(-101);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => true\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite('');\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n    }\n\n    /**\n     * Checks if `value` is a function.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     */\n    function isFunction(value) {\n      return typeof value == 'function';\n    }\n\n    /**\n     * Checks if `value` is the language type of Object.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // check if the value is the ECMAScript language type of Object\n      // http://es5.github.com/#x8\n      // and avoid a V8 bug\n      // http://code.google.com/p/v8/issues/detail?id=2291\n      return value ? objectTypes[typeof value] : false;\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * Note: This is not the same as native `isNaN`, which will return `true` for\n     * `undefined` and other values. See http://es5.github.com/#x15.1.2.4.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // `NaN` as a primitive is the only value that is not equal to itself\n      // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n      return isNumber(value) && value != +value\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(undefined);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is a number.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4 * 5);\n     * // => true\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || toString.call(value) == numberClass;\n    }\n\n    /**\n     * Checks if a given `value` is an object created by the `Object` constructor.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Stooge(name, age) {\n     *   this.name = name;\n     *   this.age = age;\n     * }\n     *\n     * _.isPlainObject(new Stooge('moe', 40));\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'name': 'moe', 'age': 40 });\n     * // => true\n     */\n    var isPlainObject = function(value) {\n      if (!(value && toString.call(value) == objectClass)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = typeof valueOf == 'function' && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is a regular expression.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a regular expression, else `false`.\n     * @example\n     *\n     * _.isRegExp(/moe/);\n     * // => true\n     */\n    function isRegExp(value) {\n      return value ? (typeof value == 'object' && toString.call(value) == regexpClass) : false;\n    }\n\n    /**\n     * Checks if `value` is a string.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('moe');\n     * // => true\n     */\n    function isString(value) {\n      return typeof value == 'string' || toString.call(value) == stringClass;\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Mixed} value The value to check.\n     * @returns {Boolean} Returns `true`, if the `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined`, into the destination object. Subsequent sources\n     * will overwrite property assignments of previous sources. If a `callback` function\n     * is passed, it will be executed to produce the merged values of the destination\n     * and source properties. If `callback` returns `undefined`, merging will be\n     * handled by the method instead. The `callback` is bound to `thisArg` and\n     * invoked with two arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {Object} [source1, source2, ...] The source objects.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @param- {Object} [deepIndicator] Indicates that `stackA` and `stackB` are\n     *  arrays of traversed objects, instead of source objects.\n     * @param- {Array} [stackA=[]] Tracks traversed source objects.\n     * @param- {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var names = {\n     *   'stooges': [\n     *     { 'name': 'moe' },\n     *     { 'name': 'larry' }\n     *   ]\n     * };\n     *\n     * var ages = {\n     *   'stooges': [\n     *     { 'age': 40 },\n     *     { 'age': 50 }\n     *   ]\n     * };\n     *\n     * _.merge(names, ages);\n     * // => { 'stooges': [{ 'name': 'moe', 'age': 40 }, { 'name': 'larry', 'age': 50 }] }\n     *\n     * var food = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var otherFood = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(food, otherFood, function(a, b) {\n     *   return _.isArray(a) ? a.concat(b) : undefined;\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n     */\n    function merge(object, source, deepIndicator) {\n      var args = arguments,\n          index = 0,\n          length = 2;\n\n      if (!isObject(object)) {\n        return object;\n      }\n      if (deepIndicator === indicatorObject) {\n        var callback = args[3],\n            stackA = args[4],\n            stackB = args[5];\n      } else {\n        stackA = [];\n        stackB = [];\n\n        // allows working with `_.reduce` and `_.reduceRight` without\n        // using their `callback` arguments, `index|key` and `collection`\n        if (typeof deepIndicator != 'number') {\n          length = args.length;\n        }\n        if (length > 3 && typeof args[length - 2] == 'function') {\n          callback = lodash.createCallback(args[--length - 1], args[length--], 2);\n        } else if (length > 2 && typeof args[length - 1] == 'function') {\n          callback = args[--length];\n        }\n      }\n      while (++index < length) {\n        (isArray(args[index]) ? forEach : forOwn)(args[index], function(source, key) {\n          var found,\n              isArr,\n              result = source,\n              value = object[key];\n\n          if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n            // avoid merging previously merged cyclic sources\n            var stackLength = stackA.length;\n            while (stackLength--) {\n              if ((found = stackA[stackLength] == source)) {\n                value = stackB[stackLength];\n                break;\n              }\n            }\n            if (!found) {\n              var isShallow;\n              if (callback) {\n                result = callback(value, source);\n                if ((isShallow = typeof result != 'undefined')) {\n                  value = result;\n                }\n              }\n              if (!isShallow) {\n                value = isArr\n                  ? (isArray(value) ? value : [])\n                  : (isPlainObject(value) ? value : {});\n              }\n              // add `source` and associated `value` to the stack of traversed objects\n              stackA.push(source);\n              stackB.push(value);\n\n              // recursively merge objects and arrays (susceptible to call stack limits)\n              if (!isShallow) {\n                value = merge(value, source, indicatorObject, callback, stackA, stackB);\n              }\n            }\n          }\n          else {\n            if (callback) {\n              result = callback(value, source);\n              if (typeof result == 'undefined') {\n                result = source;\n              }\n            }\n            if (typeof result != 'undefined') {\n              value = result;\n            }\n          }\n          object[key] = value;\n        });\n      }\n      return object;\n    }\n\n    /**\n     * Creates a shallow clone of `object` excluding the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a `callback` function is passed, it will be executed\n     * for each property in the `object`, omitting the properties `callback`\n     * returns truthy for. The `callback` is bound to `thisArg` and invoked\n     * with three arguments; (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|String} callback|[prop1, prop2, ...] The properties to omit\n     *  or the function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object without the omitted properties.\n     * @example\n     *\n     * _.omit({ 'name': 'moe', 'age': 40 }, 'age');\n     * // => { 'name': 'moe' }\n     *\n     * _.omit({ 'name': 'moe', 'age': 40 }, function(value) {\n     *   return typeof value == 'number';\n     * });\n     * // => { 'name': 'moe' }\n     */\n    function omit(object, callback, thisArg) {\n      var isFunc = typeof callback == 'function',\n          result = {};\n\n      if (isFunc) {\n        callback = lodash.createCallback(callback, thisArg);\n      } else {\n        var props = concat.apply(arrayRef, nativeSlice.call(arguments, 1));\n      }\n      forIn(object, function(value, key, object) {\n        if (isFunc\n              ? !callback(value, key, object)\n              : indexOf(props, key) < 0\n            ) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Creates a two dimensional array of the given object's key-value pairs,\n     * i.e. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'moe': 30, 'larry': 40 });\n     * // => [['moe', 30], ['larry', 40]] (order is not guaranteed)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a shallow clone of `object` composed of the specified properties.\n     * Property names may be specified as individual arguments or as arrays of property\n     * names. If `callback` is passed, it will be executed for each property in the\n     * `object`, picking the properties `callback` returns truthy for. The `callback`\n     * is bound to `thisArg` and invoked with three arguments; (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Array|Function|String} callback|[prop1, prop2, ...] The function called\n     *  per iteration or properties to pick, either as individual arguments or arrays.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object composed of the picked properties.\n     * @example\n     *\n     * _.pick({ 'name': 'moe', '_userid': 'moe1' }, 'name');\n     * // => { 'name': 'moe' }\n     *\n     * _.pick({ 'name': 'moe', '_userid': 'moe1' }, function(value, key) {\n     *   return key.charAt(0) != '_';\n     * });\n     * // => { 'name': 'moe' }\n     */\n    function pick(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var index = -1,\n            props = concat.apply(arrayRef, nativeSlice.call(arguments, 1)),\n            length = isObject(object) ? props.length : 0;\n\n        while (++index < length) {\n          var key = props[index];\n          if (key in object) {\n            result[key] = object[key];\n          }\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg);\n        forIn(object, function(value, key, object) {\n          if (callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array composed of the own enumerable property values of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns a new array of property values.\n     * @example\n     *\n     * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => [1, 2, 3] (order is not guaranteed)\n     */\n    function values(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements from the specified indexes, or keys, of the\n     * `collection`. Indexes may be specified as individual arguments or as arrays\n     * of indexes.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Array|Number|String} [index1, index2, ...] The indexes of\n     *  `collection` to retrieve, either as individual arguments or arrays.\n     * @returns {Array} Returns a new array of elements corresponding to the\n     *  provided indexes.\n     * @example\n     *\n     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);\n     * // => ['a', 'c', 'e']\n     *\n     * _.at(['moe', 'larry', 'curly'], 0, 2);\n     * // => ['moe', 'curly']\n     */\n    function at(collection) {\n      var index = -1,\n          props = concat.apply(arrayRef, nativeSlice.call(arguments, 1)),\n          length = props.length,\n          result = Array(length);\n\n      while(++index < length) {\n        result[index] = collection[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * Checks if a given `target` element is present in a `collection` using strict\n     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n     * as the offset from the end of the collection.\n     *\n     * @static\n     * @memberOf _\n     * @alias include\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Mixed} target The value to check for.\n     * @param {Number} [fromIndex=0] The index to search from.\n     * @returns {Boolean} Returns `true` if the `target` element is found, else `false`.\n     * @example\n     *\n     * _.contains([1, 2, 3], 1);\n     * // => true\n     *\n     * _.contains([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.contains({ 'name': 'moe', 'age': 40 }, 'moe');\n     * // => true\n     *\n     * _.contains('curly', 'ur');\n     * // => true\n     */\n    function contains(collection, target, fromIndex) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = false;\n\n      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;\n      if (typeof length == 'number') {\n        result = (isString(collection)\n          ? collection.indexOf(target, fromIndex)\n          : indexOf(collection, target, fromIndex)\n        ) > -1;\n      } else {\n        forOwn(collection, function(value) {\n          if (++index >= fromIndex) {\n            return !(result = value === target);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of keys returned from running each element of the\n     * `collection` through the given `callback`. The corresponding value of each key\n     * is the number of times the key was returned by the `callback`. The `callback`\n     * is bound to `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    function countBy(collection, callback, thisArg) {\n      var result = {};\n      callback = lodash.createCallback(callback, thisArg);\n\n      forEach(collection, function(value, key, collection) {\n        key = String(callback(value, key, collection));\n        (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n      });\n      return result;\n    }\n\n    /**\n     * Checks if the `callback` returns a truthy value for **all** elements of a\n     * `collection`. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Boolean} Returns `true` if all elements pass the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.every(stooges, 'age');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.every(stooges, { 'age': 50 });\n     * // => false\n     */\n    function every(collection, callback, thisArg) {\n      var result = true;\n      callback = lodash.createCallback(callback, thisArg);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (!(result = !!callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return (result = !!callback(value, index, collection));\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Examines each element in a `collection`, returning an array of all elements\n     * the `callback` returns truthy for. The `callback` is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that passed the callback check.\n     * @example\n     *\n     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [2, 4, 6]\n     *\n     * var food = [\n     *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n     *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.filter(food, 'organic');\n     * // => [{ 'name': 'carrot', 'organic': true, 'type': 'vegetable' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.filter(food, { 'type': 'fruit' });\n     * // => [{ 'name': 'apple', 'organic': false, 'type': 'fruit' }]\n     */\n    function filter(collection, callback, thisArg) {\n      var result = [];\n      callback = lodash.createCallback(callback, thisArg);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Examines each element in a `collection`, returning the first that the `callback`\n     * returns truthy for. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the found element, else `undefined`.\n     * @example\n     *\n     * _.find([1, 2, 3, 4], function(num) {\n     *   return num % 2 == 0;\n     * });\n     * // => 2\n     *\n     * var food = [\n     *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n     *   { 'name': 'banana', 'organic': true,  'type': 'fruit' },\n     *   { 'name': 'beet',   'organic': false, 'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.find(food, { 'type': 'vegetable' });\n     * // => { 'name': 'beet', 'organic': false, 'type': 'vegetable' }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.find(food, 'organic');\n     * // => { 'name': 'banana', 'organic': true, 'type': 'fruit' }\n     */\n    function find(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            return value;\n          }\n        }\n      } else {\n        var result;\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result = value;\n            return false;\n          }\n        });\n        return result;\n      }\n    }\n\n    /**\n     * Iterates over a `collection`, executing the `callback` for each element in\n     * the `collection`. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection). Callbacks may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|String} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEach(alert).join(',');\n     * // => alerts each number and returns '1,2,3'\n     *\n     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, alert);\n     * // => alerts each number value (order is not guaranteed)\n     */\n    function forEach(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = callback && typeof thisArg == 'undefined' ? callback : lodash.createCallback(callback, thisArg);\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (callback(collection[index], index, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, callback);\n      }\n      return collection;\n    }\n\n    /**\n     * Creates an object composed of keys returned from running each element of the\n     * `collection` through the `callback`. The corresponding value of each key is\n     * an array of elements passed to `callback` that returned the key. The `callback`\n     * is bound to `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    function groupBy(collection, callback, thisArg) {\n      var result = {};\n      callback = lodash.createCallback(callback, thisArg);\n\n      forEach(collection, function(value, key, collection) {\n        key = String(callback(value, key, collection));\n        (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n      });\n      return result;\n    }\n\n    /**\n     * Invokes the method named by `methodName` on each element in the `collection`,\n     * returning an array of the results of each invoked method. Additional arguments\n     * will be passed to each invoked method. If `methodName` is a function, it will\n     * be invoked for, and `this` bound to, each element in the `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|String} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the method with.\n     * @returns {Array} Returns a new array of the results of each invoked method.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    function invoke(collection, methodName) {\n      var args = nativeSlice.call(arguments, 2),\n          index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an array of values by running each element in the `collection`\n     * through the `callback`. The `callback` is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of the results of each `callback` execution.\n     * @example\n     *\n     * _.map([1, 2, 3], function(num) { return num * 3; });\n     * // => [3, 6, 9]\n     *\n     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n     * // => [3, 6, 9] (order is not guaranteed)\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(stooges, 'name');\n     * // => ['moe', 'larry']\n     */\n    function map(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg);\n      if (typeof length == 'number') {\n        var result = Array(length);\n        while (++index < length) {\n          result[index] = callback(collection[index], index, collection);\n        }\n      } else {\n        result = [];\n        forOwn(collection, function(value, key, collection) {\n          result[++index] = callback(value, key, collection);\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the maximum value of an `array`. If `callback` is passed,\n     * it will be executed for each value in the `array` to generate the\n     * criterion by which the value is ranked. The `callback` is bound to\n     * `thisArg` and invoked with three arguments; (value, index, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * _.max(stooges, function(stooge) { return stooge.age; });\n     * // => { 'name': 'larry', 'age': 50 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.max(stooges, 'age');\n     * // => { 'name': 'larry', 'age': 50 };\n     */\n    function max(collection, callback, thisArg) {\n      var computed = -Infinity,\n          result = computed;\n\n      if (!callback && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value > result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (!callback && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current > computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the minimum value of an `array`. If `callback` is passed,\n     * it will be executed for each value in the `array` to generate the\n     * criterion by which the value is ranked. The `callback` is bound to `thisArg`\n     * and invoked with three arguments; (value, index, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * _.min(stooges, function(stooge) { return stooge.age; });\n     * // => { 'name': 'moe', 'age': 40 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.min(stooges, 'age');\n     * // => { 'name': 'moe', 'age': 40 };\n     */\n    function min(collection, callback, thisArg) {\n      var computed = Infinity,\n          result = computed;\n\n      if (!callback && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value < result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (!callback && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current < computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the value of a specified property from all elements in the `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {String} property The property to pluck.\n     * @returns {Array} Returns a new array of property values.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * _.pluck(stooges, 'name');\n     * // => ['moe', 'larry']\n     */\n    function pluck(collection, property) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        var result = Array(length);\n        while (++index < length) {\n          result[index] = collection[index][property];\n        }\n      }\n      return result || map(collection, property);\n    }\n\n    /**\n     * Reduces a `collection` to a value which is the accumulated result of running\n     * each element in the `collection` through the `callback`, where each successive\n     * `callback` execution consumes the return value of the previous execution.\n     * If `accumulator` is not passed, the first element of the `collection` will be\n     * used as the initial `accumulator` value. The `callback` is bound to `thisArg`\n     * and invoked with four arguments; (accumulator, value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [accumulator] Initial value of the accumulator.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the accumulated value.\n     * @example\n     *\n     * var sum = _.reduce([1, 2, 3], function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function reduce(collection, callback, accumulator, thisArg) {\n      if (!collection) return accumulator;\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n\n      var index = -1,\n          length = collection.length;\n\n      if (typeof length == 'number') {\n        if (noaccum) {\n          accumulator = collection[++index];\n        }\n        while (++index < length) {\n          accumulator = callback(accumulator, collection[index], index, collection);\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          accumulator = noaccum\n            ? (noaccum = false, value)\n            : callback(accumulator, value, index, collection)\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * This method is similar to `_.reduce`, except that it iterates over a\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {Mixed} [accumulator] Initial value of the accumulator.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the accumulated value.\n     * @example\n     *\n     * var list = [[0, 1], [2, 3], [4, 5]];\n     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, callback, accumulator, thisArg) {\n      var iterable = collection,\n          length = collection ? collection.length : 0,\n          noaccum = arguments.length < 3;\n\n      if (typeof length != 'number') {\n        var props = keys(collection);\n        length = props.length;\n      }\n      callback = lodash.createCallback(callback, thisArg, 4);\n      forEach(collection, function(value, index, collection) {\n        index = props ? props[--length] : --length;\n        accumulator = noaccum\n          ? (noaccum = false, iterable[index])\n          : callback(accumulator, iterable[index], index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The opposite of `_.filter`, this method returns the elements of a\n     * `collection` that `callback` does **not** return truthy for.\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that did **not** pass the\n     *  callback check.\n     * @example\n     *\n     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [1, 3, 5]\n     *\n     * var food = [\n     *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n     *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.reject(food, 'organic');\n     * // => [{ 'name': 'apple', 'organic': false, 'type': 'fruit' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.reject(food, { 'type': 'fruit' });\n     * // => [{ 'name': 'carrot', 'organic': true, 'type': 'vegetable' }]\n     */\n    function reject(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg);\n      return filter(collection, function(value, index, collection) {\n        return !callback(value, index, collection);\n      });\n    }\n\n    /**\n     * Creates an array of shuffled `array` values, using a version of the\n     * Fisher-Yates shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to shuffle.\n     * @returns {Array} Returns a new shuffled collection.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4, 5, 6]);\n     * // => [4, 1, 6, 3, 5, 2]\n     */\n    function shuffle(collection) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        var rand = floor(nativeRandom() * (++index + 1));\n        result[index] = result[rand];\n        result[rand] = value;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the size of the `collection` by returning `collection.length` for arrays\n     * and array-like objects or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to inspect.\n     * @returns {Number} Returns `collection.length` or number of own enumerable properties.\n     * @example\n     *\n     * _.size([1, 2]);\n     * // => 2\n     *\n     * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => 3\n     *\n     * _.size('curly');\n     * // => 5\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return typeof length == 'number' ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if the `callback` returns a truthy value for **any** element of a\n     * `collection`. The function returns as soon as it finds passing value, and\n     * does not iterate over the entire `collection`. The `callback` is bound to\n     * `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Boolean} Returns `true` if any element passes the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var food = [\n     *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n     *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.some(food, 'organic');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.some(food, { 'type': 'meat' });\n     * // => false\n     */\n    function some(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if ((result = callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return !(result = callback(value, index, collection));\n        });\n      }\n      return !!result;\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in the `collection` through the `callback`. This method\n     * performs a stable sort, that is, it will preserve the original sort order of\n     * equal elements. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of sorted elements.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n     * // => [3, 1, 2]\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.sortBy(['banana', 'strawberry', 'apple'], 'length');\n     * // => ['apple', 'banana', 'strawberry']\n     */\n    function sortBy(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      callback = lodash.createCallback(callback, thisArg);\n      forEach(collection, function(value, key, collection) {\n        result[++index] = {\n          'criteria': callback(value, key, collection),\n          'index': index,\n          'value': value\n        };\n      });\n\n      length = result.length;\n      result.sort(compareAscending);\n      while (length--) {\n        result[length] = result[length].value;\n      }\n      return result;\n    }\n\n    /**\n     * Converts the `collection` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to convert.\n     * @returns {Array} Returns the new converted array.\n     * @example\n     *\n     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n     * // => [2, 3, 4]\n     */\n    function toArray(collection) {\n      if (collection && typeof collection.length == 'number') {\n        return slice(collection);\n      }\n      return values(collection);\n    }\n\n    /**\n     * Examines each element in a `collection`, returning an array of all elements\n     * that have the given `properties`. When checking `properties`, this method\n     * performs a deep comparison between values to determine if they are equivalent\n     * to each other.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|String} collection The collection to iterate over.\n     * @param {Object} properties The object of property values to filter by.\n     * @returns {Array} Returns a new array of elements that have the given `properties`.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * _.where(stooges, { 'age': 40 });\n     * // => [{ 'name': 'moe', 'age': 40 }]\n     */\n    var where = filter;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array with all falsey values of `array` removed. The values\n     * `false`, `null`, `0`, `\"\"`, `undefined` and `NaN` are all falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns a new filtered array.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of `array` elements not present in the other arrays\n     * using strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {Array} [array1, array2, ...] Arrays to check.\n     * @returns {Array} Returns a new array of `array` elements not present in the\n     *  other arrays.\n     * @example\n     *\n     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n     * // => [1, 3, 4]\n     */\n    function difference(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          flattened = concat.apply(arrayRef, nativeSlice.call(arguments, 1)),\n          contains = cachedContains(flattened),\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (!contains(value)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is similar to `_.find`, except that it returns the index of\n     * the element that passes the callback check, instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * _.findIndex(['apple', 'banana', 'beet'], function(food) {\n     *   return /^b/.test(food);\n     * });\n     * // => 1\n     */\n    function findIndex(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg);\n      while (++index < length) {\n        if (callback(array[index], index, array)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the first element of the `array`. If a number `n` is passed, the first\n     * `n` elements of the `array` are returned. If a `callback` function is passed,\n     * elements at the beginning of the array are returned as long as the `callback`\n     * returns truthy. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head, take\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|Number|String} [callback|n] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the first element(s) of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.first([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var food = [\n     *   { 'name': 'banana', 'organic': true },\n     *   { 'name': 'beet',   'organic': false },\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.first(food, 'organic');\n     * // => [{ 'name': 'banana', 'organic': true }]\n     *\n     * var food = [\n     *   { 'name': 'apple',  'type': 'fruit' },\n     *   { 'name': 'banana', 'type': 'fruit' },\n     *   { 'name': 'beet',   'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.first(food, { 'type': 'fruit' });\n     * // => [{ 'name': 'apple', 'type': 'fruit' }, { 'name': 'banana', 'type': 'fruit' }]\n     */\n    function first(array, callback, thisArg) {\n      if (array) {\n        var n = 0,\n            length = array.length;\n\n        if (typeof callback != 'number' && callback != null) {\n          var index = -1;\n          callback = lodash.createCallback(callback, thisArg);\n          while (++index < length && callback(array[index], index, array)) {\n            n++;\n          }\n        } else {\n          n = callback;\n          if (n == null || thisArg) {\n            return array[0];\n          }\n        }\n        return slice(array, 0, nativeMin(nativeMax(0, n), length));\n      }\n    }\n\n    /**\n     * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n     * is truthy, `array` will only be flattened a single level. If `callback`\n     * is passed, each element of `array` is passed through a `callback` before\n     * flattening. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to flatten.\n     * @param {Boolean} [isShallow=false] A flag to indicate only flattening a single level.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2], [3, [[4]]]]);\n     * // => [1, 2, 3, 4];\n     *\n     * _.flatten([1, [2], [3, [[4]]]], true);\n     * // => [1, 2, 3, [[4]]];\n     *\n     * var stooges = [\n     *   { 'name': 'curly', 'quotes': ['Oh, a wise guy, eh?', 'Poifect!'] },\n     *   { 'name': 'moe', 'quotes': ['Spread out!', 'You knucklehead!'] }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.flatten(stooges, 'quotes');\n     * // => ['Oh, a wise guy, eh?', 'Poifect!', 'Spread out!', 'You knucklehead!']\n     */\n    function flatten(array, isShallow, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      // juggle arguments\n      if (typeof isShallow != 'boolean' && isShallow != null) {\n        thisArg = callback;\n        callback = isShallow;\n        isShallow = false;\n      }\n      if (callback != null) {\n        callback = lodash.createCallback(callback, thisArg);\n      }\n      while (++index < length) {\n        var value = array[index];\n        if (callback) {\n          value = callback(value, index, array);\n        }\n        // recursively flatten arrays (susceptible to call stack limits)\n        if (isArray(value)) {\n          push.apply(result, isShallow ? value : flatten(value));\n        } else {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found using\n     * strict equality for comparisons, i.e. `===`. If the `array` is already\n     * sorted, passing `true` for `fromIndex` will run a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Mixed} value The value to search for.\n     * @param {Boolean|Number} [fromIndex=0] The index to search from or `true` to\n     *  perform a binary search on a sorted `array`.\n     * @returns {Number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 1\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 4\n     *\n     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0) - 1;\n      } else if (fromIndex) {\n        index = sortedIndex(array, value);\n        return array[index] === value ? index : -1;\n      }\n      while (++index < length) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets all but the last element of `array`. If a number `n` is passed, the\n     * last `n` elements are excluded from the result. If a `callback` function\n     * is passed, elements at the end of the array are excluded from the result\n     * as long as the `callback` returns truthy. The `callback` is bound to\n     * `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|Number|String} [callback|n=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.initial([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.initial([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [1]\n     *\n     * var food = [\n     *   { 'name': 'beet',   'organic': false },\n     *   { 'name': 'carrot', 'organic': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.initial(food, 'organic');\n     * // => [{ 'name': 'beet',   'organic': false }]\n     *\n     * var food = [\n     *   { 'name': 'banana', 'type': 'fruit' },\n     *   { 'name': 'beet',   'type': 'vegetable' },\n     *   { 'name': 'carrot', 'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.initial(food, { 'type': 'vegetable' });\n     * // => [{ 'name': 'banana', 'type': 'fruit' }]\n     */\n    function initial(array, callback, thisArg) {\n      if (!array) {\n        return [];\n      }\n      var n = 0,\n          length = array.length;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : callback || n;\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n    }\n\n    /**\n     * Computes the intersection of all the passed-in arrays using strict equality\n     * for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} [array1, array2, ...] Arrays to process.\n     * @returns {Array} Returns a new array of unique elements that are present\n     *  in **all** of the arrays.\n     * @example\n     *\n     * _.intersection([1, 2, 3], [101, 2, 1, 10], [2, 1]);\n     * // => [1, 2]\n     */\n    function intersection(array) {\n      var args = arguments,\n          argsLength = args.length,\n          cache = { '0': {} },\n          index = -1,\n          length = array ? array.length : 0,\n          isLarge = length >= largeArraySize,\n          result = [],\n          seen = result;\n\n      outer:\n      while (++index < length) {\n        var value = array[index];\n        if (isLarge) {\n          var key = keyPrefix + value;\n          var inited = cache[0][key]\n            ? !(seen = cache[0][key])\n            : (seen = cache[0][key] = []);\n        }\n        if (inited || indexOf(seen, value) < 0) {\n          if (isLarge) {\n            seen.push(value);\n          }\n          var argsIndex = argsLength;\n          while (--argsIndex) {\n            if (!(cache[argsIndex] || (cache[argsIndex] = cachedContains(args[argsIndex])))(value)) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the last element of the `array`. If a number `n` is passed, the\n     * last `n` elements of the `array` are returned. If a `callback` function\n     * is passed, elements at the end of the array are returned as long as the\n     * `callback` returns truthy. The `callback` is bound to `thisArg` and\n     * invoked with three arguments;(value, index, array).\n     *\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|Number|String} [callback|n] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Mixed} Returns the last element(s) of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     *\n     * _.last([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.last([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var food = [\n     *   { 'name': 'beet',   'organic': false },\n     *   { 'name': 'carrot', 'organic': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.last(food, 'organic');\n     * // => [{ 'name': 'carrot', 'organic': true }]\n     *\n     * var food = [\n     *   { 'name': 'banana', 'type': 'fruit' },\n     *   { 'name': 'beet',   'type': 'vegetable' },\n     *   { 'name': 'carrot', 'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.last(food, { 'type': 'vegetable' });\n     * // => [{ 'name': 'beet', 'type': 'vegetable' }, { 'name': 'carrot', 'type': 'vegetable' }]\n     */\n    function last(array, callback, thisArg) {\n      if (array) {\n        var n = 0,\n            length = array.length;\n\n        if (typeof callback != 'number' && callback != null) {\n          var index = length;\n          callback = lodash.createCallback(callback, thisArg);\n          while (index-- && callback(array[index], index, array)) {\n            n++;\n          }\n        } else {\n          n = callback;\n          if (n == null || thisArg) {\n            return array[length - 1];\n          }\n        }\n        return slice(array, nativeMax(0, length - n));\n      }\n    }\n\n    /**\n     * Gets the index at which the last occurrence of `value` is found using strict\n     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n     * as the offset from the end of the collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Mixed} value The value to search for.\n     * @param {Number} [fromIndex=array.length-1] The index to search from.\n     * @returns {Number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 4\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var index = array ? array.length : 0;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to but not including `end`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Number} [start=0] The start of the range.\n     * @param {Number} end The end of the range.\n     * @param {Number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns a new range array.\n     * @example\n     *\n     * _.range(10);\n     * // => [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n     *\n     * _.range(1, 11);\n     * // => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n     *\n     * _.range(0, 30, 5);\n     * // => [0, 5, 10, 15, 20, 25]\n     *\n     * _.range(0, -10, -1);\n     * // => [0, -1, -2, -3, -4, -5, -6, -7, -8, -9]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      start = +start || 0;\n      step = +step || 1;\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      }\n      // use `Array(length)` so V8 will avoid the slower \"dictionary\" mode\n      // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n      var index = -1,\n          length = nativeMax(0, ceil((end - start) / step)),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.initial`, this method gets all but the first value of\n     * `array`. If a number `n` is passed, the first `n` values are excluded from\n     * the result. If a `callback` function is passed, elements at the beginning\n     * of the array are excluded from the result as long as the `callback` returns\n     * truthy. The `callback` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias drop, tail\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|Number|String} [callback|n=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.rest([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.rest([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [3]\n     *\n     * var food = [\n     *   { 'name': 'banana', 'organic': true },\n     *   { 'name': 'beet',   'organic': false },\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.rest(food, 'organic');\n     * // => [{ 'name': 'beet', 'organic': false }]\n     *\n     * var food = [\n     *   { 'name': 'apple',  'type': 'fruit' },\n     *   { 'name': 'banana', 'type': 'fruit' },\n     *   { 'name': 'beet',   'type': 'vegetable' }\n     * ];\n     *\n     * // using \"_.where\" callback shorthand\n     * _.rest(food, { 'type': 'fruit' });\n     * // => [{ 'name': 'beet', 'type': 'vegetable' }]\n     */\n    function rest(array, callback, thisArg) {\n      if (typeof callback != 'number' && callback != null) {\n        var n = 0,\n            index = -1,\n            length = array ? array.length : 0;\n\n        callback = lodash.createCallback(callback, thisArg);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n      }\n      return slice(array, n);\n    }\n\n    /**\n     * Uses a binary search to determine the smallest index at which the `value`\n     * should be inserted into `array` in order to maintain the sort order of the\n     * sorted `array`. If `callback` is passed, it will be executed for `value` and\n     * each element in `array` to compute their sort ranking. The `callback` is\n     * bound to `thisArg` and invoked with one argument; (value).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to inspect.\n     * @param {Mixed} value The value to evaluate.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Number} Returns the index at which the value should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([20, 30, 50], 40);\n     * // => 2\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 2\n     *\n     * var dict = {\n     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n     * };\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return dict.wordToNumber[word];\n     * });\n     * // => 2\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return this.wordToNumber[word];\n     * }, dict);\n     * // => 2\n     */\n    function sortedIndex(array, value, callback, thisArg) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      // explicitly reference `identity` for better inlining in Firefox\n      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;\n      value = callback(value);\n\n      while (low < high) {\n        var mid = (low + high) >>> 1;\n        (callback(array[mid]) < value)\n          ? low = mid + 1\n          : high = mid;\n      }\n      return low;\n    }\n\n    /**\n     * Computes the union of the passed-in arrays using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} [array1, array2, ...] Arrays to process.\n     * @returns {Array} Returns a new array of unique values, in order, that are\n     *  present in one or more of the arrays.\n     * @example\n     *\n     * _.union([1, 2, 3], [101, 2, 1, 10], [2, 1]);\n     * // => [1, 2, 3, 101, 10]\n     */\n    function union(array) {\n      if (!isArray(array)) {\n        arguments[0] = array ? nativeSlice.call(array) : arrayRef;\n      }\n      return uniq(concat.apply(arrayRef, arguments));\n    }\n\n    /**\n     * Creates a duplicate-value-free version of the `array` using strict equality\n     * for comparisons, i.e. `===`. If the `array` is already sorted, passing `true`\n     * for `isSorted` will run a faster algorithm. If `callback` is passed, each\n     * element of `array` is passed through a `callback` before uniqueness is computed.\n     * The `callback` is bound to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is passed for `callback`, the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is passed for `callback`, the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {Boolean} [isSorted=false] A flag to indicate that the `array` is already sorted.\n     * @param {Function|Object|String} [callback=identity] The function called per\n     *  iteration. If a property name or object is passed, it will be used to create\n     *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1, 3, 1]);\n     * // => [1, 2, 3]\n     *\n     * _.uniq([1, 1, 2, 2, 3], true);\n     * // => [1, 2, 3]\n     *\n     * _.uniq([1, 2, 1.5, 3, 2.5], function(num) { return Math.floor(num); });\n     * // => [1, 2, 3]\n     *\n     * _.uniq([1, 2, 1.5, 3, 2.5], function(num) { return this.floor(num); }, Math);\n     * // => [1, 2, 3]\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [],\n          seen = result;\n\n      // juggle arguments\n      if (typeof isSorted != 'boolean' && isSorted != null) {\n        thisArg = callback;\n        callback = isSorted;\n        isSorted = false;\n      }\n      // init value cache for large arrays\n      var isLarge = !isSorted && length >= largeArraySize;\n      if (isLarge) {\n        var cache = {};\n      }\n      if (callback != null) {\n        seen = [];\n        callback = lodash.createCallback(callback, thisArg);\n      }\n      while (++index < length) {\n        var value = array[index],\n            computed = callback ? callback(value, index, array) : value;\n\n        if (isLarge) {\n          var key = keyPrefix + computed;\n          var inited = cache[key]\n            ? !(seen = cache[key])\n            : (seen = cache[key] = []);\n        }\n        if (isSorted\n              ? !index || seen[seen.length - 1] !== computed\n              : inited || indexOf(seen, computed) < 0\n            ) {\n          if (callback || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The inverse of `_.zip`, this method splits groups of elements into arrays\n     * composed of elements from each group at their corresponding indexes.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @returns {Array} Returns a new array of the composed arrays.\n     * @example\n     *\n     * _.unzip([['moe', 30, true], ['larry', 40, false]]);\n     * // => [['moe', 'larry'], [30, 40], [true, false]];\n     */\n    function unzip(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          tupleLength = length ? max(pluck(array, 'length')) : 0,\n          result = Array(tupleLength);\n\n      while (++index < length) {\n        var tupleIndex = -1,\n            tuple = array[index];\n\n        while (++tupleIndex < tupleLength) {\n          (result[tupleIndex] || (result[tupleIndex] = Array(length)))[index] = tuple[tupleIndex];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all occurrences of the passed values removed using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to filter.\n     * @param {Mixed} [value1, value2, ...] Values to remove.\n     * @returns {Array} Returns a new filtered array.\n     * @example\n     *\n     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n     * // => [2, 3, 4]\n     */\n    function without(array) {\n      return difference(array, nativeSlice.call(arguments, 1));\n    }\n\n    /**\n     * Groups the elements of each array at their corresponding indexes. Useful for\n     * separate data sources that are coordinated through matching array indexes.\n     * For a matrix of nested arrays, `_.zip.apply(...)` can transpose the matrix\n     * in a similar fashion.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} [array1, array2, ...] Arrays to process.\n     * @returns {Array} Returns a new array of grouped elements.\n     * @example\n     *\n     * _.zip(['moe', 'larry'], [30, 40], [true, false]);\n     * // => [['moe', 30, true], ['larry', 40, false]]\n     */\n    function zip(array) {\n      var index = -1,\n          length = array ? max(pluck(arguments, 'length')) : 0,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = pluck(arguments, index);\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed from arrays of `keys` and `values`. Pass either\n     * a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`, or\n     * two arrays, one of `keys` and one of corresponding `values`.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Arrays\n     * @param {Array} keys The array of keys.\n     * @param {Array} [values=[]] The array of values.\n     * @returns {Object} Returns an object composed of the given keys and\n     *  corresponding values.\n     * @example\n     *\n     * _.zipObject(['moe', 'larry'], [30, 40]);\n     * // => { 'moe': 30, 'larry': 40 }\n     */\n    function zipObject(keys, values) {\n      var index = -1,\n          length = keys ? keys.length : 0,\n          result = {};\n\n      while (++index < length) {\n        var key = keys[index];\n        if (values) {\n          result[key] = values[index];\n        } else {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * If `n` is greater than `0`, a function is created that is restricted to\n     * executing `func`, with the `this` binding and arguments of the created\n     * function, only after it is called `n` times. If `n` is less than `1`,\n     * `func` is executed immediately, without a `this` binding or additional\n     * arguments, and its result is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Number} n The number of times the function must be called before\n     * it is executed.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var renderNotes = _.after(notes.length, render);\n     * _.forEach(notes, function(note) {\n     *   note.asyncSave({ 'success': renderNotes });\n     * });\n     * // `renderNotes` is run once, after all notes have saved\n     */\n    function after(n, func) {\n      if (n < 1) {\n        return func();\n      }\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with the `this`\n     * binding of `thisArg` and prepends any additional `bind` arguments to those\n     * passed to the bound function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to bind.\n     * @param {Mixed} [thisArg] The `this` binding of `func`.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var func = function(greeting) {\n     *   return greeting + ' ' + this.name;\n     * };\n     *\n     * func = _.bind(func, { 'name': 'moe' }, 'hi');\n     * func();\n     * // => 'hi moe'\n     */\n    function bind(func, thisArg) {\n      // use `Function#bind` if it exists and is fast\n      // (in V8 `Function#bind` is slower except when partially applied)\n      return support.fastBind || (nativeBind && arguments.length > 2)\n        ? nativeBind.call.apply(nativeBind, arguments)\n        : createBound(func, thisArg, nativeSlice.call(arguments, 2));\n    }\n\n    /**\n     * Binds methods on `object` to `object`, overwriting the existing method.\n     * Method names may be specified as individual arguments or as arrays of method\n     * names. If no method names are provided, all the function properties of `object`\n     * will be bound.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {String} [methodName1, methodName2, ...] Method names on the object to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *  'label': 'docs',\n     *  'onClick': function() { alert('clicked ' + this.label); }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => alerts 'clicked docs', when the button is clicked\n     */\n    function bindAll(object) {\n      var funcs = arguments.length > 1 ? concat.apply(arrayRef, nativeSlice.call(arguments, 1)) : functions(object),\n          index = -1,\n          length = funcs.length;\n\n      while (++index < length) {\n        var key = funcs[index];\n        object[key] = bind(object[key], object);\n      }\n      return object;\n    }\n\n    /**\n     * Creates a function that, when called, invokes the method at `object[key]`\n     * and prepends any additional `bindKey` arguments to those passed to the bound\n     * function. This method differs from `_.bind` by allowing bound functions to\n     * reference methods that will be redefined or don't yet exist.\n     * See http://michaux.ca/articles/lazy-function-definition-pattern.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object the method belongs to.\n     * @param {String} key The key of the method.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'name': 'moe',\n     *   'greet': function(greeting) {\n     *     return greeting + ' ' + this.name;\n     *   }\n     * };\n     *\n     * var func = _.bindKey(object, 'greet', 'hi');\n     * func();\n     * // => 'hi moe'\n     *\n     * object.greet = function(greeting) {\n     *   return greeting + ', ' + this.name + '!';\n     * };\n     *\n     * func();\n     * // => 'hi, moe!'\n     */\n    function bindKey(object, key) {\n      return createBound(object, key, nativeSlice.call(arguments, 2), indicatorObject);\n    }\n\n    /**\n     * Creates a function that is the composition of the passed functions,\n     * where each function consumes the return value of the function that follows.\n     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n     * Each function is executed with the `this` binding of the composed function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} [func1, func2, ...] Functions to compose.\n     * @returns {Function} Returns the new composed function.\n     * @example\n     *\n     * var greet = function(name) { return 'hi ' + name; };\n     * var exclaim = function(statement) { return statement + '!'; };\n     * var welcome = _.compose(exclaim, greet);\n     * welcome('moe');\n     * // => 'hi moe!'\n     */\n    function compose() {\n      var funcs = arguments;\n      return function() {\n        var args = arguments,\n            length = funcs.length;\n\n        while (length--) {\n          args = [funcs[length].apply(this, args)];\n        }\n        return args[0];\n      };\n    }\n\n    /**\n     * Produces a callback bound to an optional `thisArg`. If `func` is a property\n     * name, the created callback will return the property value for a given element.\n     * If `func` is an object, the created callback will return `true` for elements\n     * that contain the equivalent object properties, otherwise it will return `false`.\n     *\n     * Note: All Lo-Dash methods, that accept a `callback` argument, use `_.createCallback`.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Mixed} [func=identity] The value to convert to a callback.\n     * @param {Mixed} [thisArg] The `this` binding of the created callback.\n     * @param {Number} [argCount=3] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     * @example\n     *\n     * var stooges = [\n     *   { 'name': 'moe', 'age': 40 },\n     *   { 'name': 'larry', 'age': 50 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n     *   return !match ? func(callback, thisArg) : function(object) {\n     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(stooges, 'age__gt45');\n     * // => [{ 'name': 'larry', 'age': 50 }]\n     *\n     * // create mixins with support for \"_.pluck\" and \"_.where\" callback shorthands\n     * _.mixin({\n     *   'toLookup': function(collection, callback, thisArg) {\n     *     callback = _.createCallback(callback, thisArg);\n     *     return _.reduce(collection, function(result, value, index, collection) {\n     *       return (result[callback(value, index, collection)] = value, result);\n     *     }, {});\n     *   }\n     * });\n     *\n     * _.toLookup(stooges, 'name');\n     * // => { 'moe': { 'name': 'moe', 'age': 40 }, 'larry': { 'name': 'larry', 'age': 50 } }\n     */\n    function createCallback(func, thisArg, argCount) {\n      if (func == null) {\n        return identity;\n      }\n      var type = typeof func;\n      if (type != 'function') {\n        if (type != 'object') {\n          return function(object) {\n            return object[func];\n          };\n        }\n        var props = keys(func);\n        return function(object) {\n          var length = props.length,\n              result = false;\n          while (length--) {\n            if (!(result = isEqual(object[props[length]], func[props[length]], indicatorObject))) {\n              break;\n            }\n          }\n          return result;\n        };\n      }\n      if (typeof thisArg != 'undefined') {\n        if (argCount === 1) {\n          return function(value) {\n            return func.call(thisArg, value);\n          };\n        }\n        if (argCount === 2) {\n          return function(a, b) {\n            return func.call(thisArg, a, b);\n          };\n        }\n        if (argCount === 4) {\n          return function(accumulator, value, index, collection) {\n            return func.call(thisArg, accumulator, value, index, collection);\n          };\n        }\n        return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n      }\n      return func;\n    }\n\n    /**\n     * Creates a function that will delay the execution of `func` until after\n     * `wait` milliseconds have elapsed since the last time it was invoked. Pass\n     * an `options` object to indicate that `func` should be invoked on the leading\n     * and/or trailing edge of the `wait` timeout. Subsequent calls to the debounced\n     * function will return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true`, `func` will be called\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to debounce.\n     * @param {Number} wait The number of milliseconds to delay.\n     * @param {Object} options The options object.\n     *  [leading=false] A boolean to specify execution on the leading edge of the timeout.\n     *  [trailing=true] A boolean to specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * var lazyLayout = _.debounce(calculateLayout, 300);\n     * jQuery(window).on('resize', lazyLayout);\n     *\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 200, {\n     *   'leading': true,\n     *   'trailing': false\n     * });\n     */\n    function debounce(func, wait, options) {\n      var args,\n          inited,\n          result,\n          thisArg,\n          timeoutId,\n          trailing = true;\n\n      function delayed() {\n        inited = timeoutId = null;\n        if (trailing) {\n          result = func.apply(thisArg, args);\n        }\n      }\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (options && objectTypes[typeof options]) {\n        leading = options.leading;\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      return function() {\n        args = arguments;\n        thisArg = this;\n        clearTimeout(timeoutId);\n\n        if (!inited && leading) {\n          inited = true;\n          result = func.apply(thisArg, args);\n        } else {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Defers executing the `func` function until the current call stack has cleared.\n     * Additional arguments will be passed to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to defer.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the function with.\n     * @returns {Number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function() { alert('deferred'); });\n     * // returns from the function before `alert` is called\n     */\n    function defer(func) {\n      var args = nativeSlice.call(arguments, 1);\n      return setTimeout(function() { func.apply(undefined, args); }, 1);\n    }\n    // use `setImmediate` if it's available in Node.js\n    if (isV8 && freeModule && typeof setImmediate == 'function') {\n      defer = bind(setImmediate, context);\n    }\n\n    /**\n     * Executes the `func` function after `wait` milliseconds. Additional arguments\n     * will be passed to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to delay.\n     * @param {Number} wait The number of milliseconds to delay execution.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the function with.\n     * @returns {Number} Returns the timer id.\n     * @example\n     *\n     * var log = _.bind(console.log, console);\n     * _.delay(log, 1000, 'logged later');\n     * // => 'logged later' (Appears after one second.)\n     */\n    function delay(func, wait) {\n      var args = nativeSlice.call(arguments, 2);\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * passed, it will be used to determine the cache key for storing the result\n     * based on the arguments passed to the memoized function. By default, the first\n     * argument passed to the memoized function is used as the cache key. The `func`\n     * is executed with the `this` binding of the memoized function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] A function used to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var fibonacci = _.memoize(function(n) {\n     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n     * });\n     */\n    function memoize(func, resolver) {\n      var cache = {};\n      return function() {\n        var key = keyPrefix + (resolver ? resolver.apply(this, arguments) : arguments[0]);\n        return hasOwnProperty.call(cache, key)\n          ? cache[key]\n          : (cache[key] = func.apply(this, arguments));\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to execute `func` once. Repeat calls to\n     * the function will return the value of the first call. The `func` is executed\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` executes `createApplication` once\n     */\n    function once(func) {\n      var ran,\n          result;\n\n      return function() {\n        if (ran) {\n          return result;\n        }\n        ran = true;\n        result = func.apply(this, arguments);\n\n        // clear the `func` variable so the function may be garbage collected\n        func = null;\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with any additional\n     * `partial` arguments prepended to those passed to the new function. This\n     * method is similar to `_.bind`, except it does **not** alter the `this` binding.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) { return greeting + ' ' + name; };\n     * var hi = _.partial(greet, 'hi');\n     * hi('moe');\n     * // => 'hi moe'\n     */\n    function partial(func) {\n      return createBound(func, nativeSlice.call(arguments, 1));\n    }\n\n    /**\n     * This method is similar to `_.partial`, except that `partial` arguments are\n     * appended to those passed to the new function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var defaultsDeep = _.partialRight(_.merge, _.defaults);\n     *\n     * var options = {\n     *   'variable': 'data',\n     *   'imports': { 'jq': $ }\n     * };\n     *\n     * defaultsDeep(options, _.templateSettings);\n     *\n     * options.variable\n     * // => 'data'\n     *\n     * options.imports\n     * // => { '_': _, 'jq': $ }\n     */\n    function partialRight(func) {\n      return createBound(func, nativeSlice.call(arguments, 1), null, indicatorObject);\n    }\n\n    /**\n     * Creates a function that, when executed, will only call the `func` function\n     * at most once per every `wait` milliseconds. Pass an `options` object to\n     * indicate that `func` should be invoked on the leading and/or trailing edge\n     * of the `wait` timeout. Subsequent calls to the throttled function will\n     * return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true`, `func` will be called\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to throttle.\n     * @param {Number} wait The number of milliseconds to throttle executions to.\n     * @param {Object} options The options object.\n     *  [leading=true] A boolean to specify execution on the leading edge of the timeout.\n     *  [trailing=true] A boolean to specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * var throttled = _.throttle(updatePosition, 100);\n     * jQuery(window).on('scroll', throttled);\n     *\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     */\n    function throttle(func, wait, options) {\n      var args,\n          result,\n          thisArg,\n          timeoutId,\n          lastCalled = 0,\n          leading = true,\n          trailing = true;\n\n      function trailingCall() {\n        timeoutId = null;\n        if (trailing) {\n          lastCalled = new Date;\n          result = func.apply(thisArg, args);\n        }\n      }\n      if (options === false) {\n        leading = false;\n      } else if (options && objectTypes[typeof options]) {\n        leading = 'leading' in options ? options.leading : leading;\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      return function() {\n        var now = new Date;\n        if (!timeoutId && !leading) {\n          lastCalled = now;\n        }\n        var remaining = wait - (now - lastCalled);\n        args = arguments;\n        thisArg = this;\n\n        if (remaining <= 0) {\n          clearTimeout(timeoutId);\n          timeoutId = null;\n          lastCalled = now;\n          result = func.apply(thisArg, args);\n        }\n        else if (!timeoutId) {\n          timeoutId = setTimeout(trailingCall, remaining);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that passes `value` to the `wrapper` function as its\n     * first argument. Additional arguments passed to the function are appended\n     * to those passed to the `wrapper` function. The `wrapper` is executed with\n     * the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Mixed} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var hello = function(name) { return 'hello ' + name; };\n     * hello = _.wrap(hello, function(func) {\n     *   return 'before, ' + func('moe') + ', after';\n     * });\n     * hello();\n     * // => 'before, hello moe, after'\n     */\n    function wrap(value, wrapper) {\n      return function() {\n        var args = [value];\n        push.apply(args, arguments);\n        return wrapper.apply(this, args);\n      };\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n     * corresponding HTML entities.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} string The string to escape.\n     * @returns {String} Returns the escaped string.\n     * @example\n     *\n     * _.escape('Moe, Larry & Curly');\n     * // => 'Moe, Larry &amp; Curly'\n     */\n    function escape(string) {\n      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n    }\n\n    /**\n     * This function returns the first argument passed to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Mixed} value Any value.\n     * @returns {Mixed} Returns `value`.\n     * @example\n     *\n     * var moe = { 'name': 'moe' };\n     * moe === _.identity(moe);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Adds functions properties of `object` to the `lodash` function and chainable\n     * wrapper.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Object} object The object of function properties to add to `lodash`.\n     * @example\n     *\n     * _.mixin({\n     *   'capitalize': function(string) {\n     *     return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n     *   }\n     * });\n     *\n     * _.capitalize('moe');\n     * // => 'Moe'\n     *\n     * _('moe').capitalize();\n     * // => 'Moe'\n     */\n    function mixin(object) {\n      forEach(functions(object), function(methodName) {\n        var func = lodash[methodName] = object[methodName];\n\n        lodash.prototype[methodName] = function() {\n          var value = this.__wrapped__,\n              args = [value];\n\n          push.apply(args, arguments);\n          var result = func.apply(lodash, args);\n          return (value && typeof value == 'object' && value == result)\n            ? this\n            : new lodashWrapper(result);\n        };\n      });\n    }\n\n    /**\n     * Reverts the '_' variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * Converts the given `value` into an integer of the specified `radix`.\n     * If `radix` is `undefined` or `0`, a `radix` of `10` is used unless the\n     * `value` is a hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * Note: This method avoids differences in native ES3 and ES5 `parseInt`\n     * implementations. See http://es5.github.com/#E.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} value The value to parse.\n     * @param {Number} [radix] The radix used to interpret the value to parse.\n     * @returns {Number} Returns the new integer value.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     */\n    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {\n      // Firefox and Opera still follow the ES3 specified implementation of `parseInt`\n      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);\n    };\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is passed, a number between `0` and the given number will be returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Number} [min=0] The minimum possible value.\n     * @param {Number} [max=1] The maximum possible value.\n     * @returns {Number} Returns a random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => a number between 0 and 5\n     *\n     * _.random(5);\n     * // => also a number between 0 and 5\n     */\n    function random(min, max) {\n      if (min == null && max == null) {\n        max = 1;\n      }\n      min = +min || 0;\n      if (max == null) {\n        max = min;\n        min = 0;\n      }\n      return min + floor(nativeRandom() * ((+max || 0) - min + 1));\n    }\n\n    /**\n     * Resolves the value of `property` on `object`. If `property` is a function,\n     * it will be invoked with the `this` binding of `object` and its result returned,\n     * else the property value is returned. If `object` is falsey, then `undefined`\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Object} object The object to inspect.\n     * @param {String} property The property to get the value of.\n     * @returns {Mixed} Returns the resolved value.\n     * @example\n     *\n     * var object = {\n     *   'cheese': 'crumpets',\n     *   'stuff': function() {\n     *     return 'nonsense';\n     *   }\n     * };\n     *\n     * _.result(object, 'cheese');\n     * // => 'crumpets'\n     *\n     * _.result(object, 'stuff');\n     * // => 'nonsense'\n     */\n    function result(object, property) {\n      var value = object ? object[property] : undefined;\n      return isFunction(value) ? object[property]() : value;\n    }\n\n    /**\n     * A micro-templating method that handles arbitrary delimiters, preserves\n     * whitespace, and correctly escapes quotes within interpolated code.\n     *\n     * Note: In the development build, `_.template` utilizes sourceURLs for easier\n     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n     *\n     * For more information on precompiling templates see:\n     * http://lodash.com/#custom-builds\n     *\n     * For more information on Chrome extension sandboxes see:\n     * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} text The template text.\n     * @param {Object} data The data object used to populate the text.\n     * @param {Object} options The options object.\n     *  escape - The \"escape\" delimiter regexp.\n     *  evaluate - The \"evaluate\" delimiter regexp.\n     *  interpolate - The \"interpolate\" delimiter regexp.\n     *  sourceURL - The sourceURL of the template's compiled source.\n     *  variable - The data object variable name.\n     * @returns {Function|String} Returns a compiled function when no `data` object\n     *  is given, else it returns the interpolated text.\n     * @example\n     *\n     * // using a compiled template\n     * var compiled = _.template('hello <%= name %>');\n     * compiled({ 'name': 'moe' });\n     * // => 'hello moe'\n     *\n     * var list = '<% _.forEach(people, function(name) { %><li><%= name %></li><% }); %>';\n     * _.template(list, { 'people': ['moe', 'larry'] });\n     * // => '<li>moe</li><li>larry</li>'\n     *\n     * // using the \"escape\" delimiter to escape HTML in data property values\n     * _.template('<b><%- value %></b>', { 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n     * _.template('hello ${ name }', { 'name': 'curly' });\n     * // => 'hello curly'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * _.template('<% print(\"hello \" + epithet); %>!', { 'epithet': 'stooge' });\n     * // => 'hello stooge!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings = {\n     *   'interpolate': /{{([\\s\\S]+?)}}/g\n     * };\n     *\n     * _.template('hello {{ name }}!', { 'name': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     *   var __t, __p = '', __e = _.escape;\n     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n     *   return __p;\n     * }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(text, data, options) {\n      // based on John Resig's `tmpl` implementation\n      // http://ejohn.org/blog/javascript-micro-templating/\n      // and Laura Doktorova's doT.js\n      // https://github.com/olado/doT\n      var settings = lodash.templateSettings;\n      text || (text = '');\n\n      // avoid missing dependencies when `iteratorTemplate` is not defined\n      options = defaults({}, options, settings);\n\n      var imports = defaults({}, options.imports, settings.imports),\n          importsKeys = keys(imports),\n          importsValues = values(imports);\n\n      var isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // compile the regexp to match each delimiter\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // escape characters that cannot be included in string literals\n        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // replace delimiters with snippets\n        if (escapeValue) {\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // the JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // if `variable` is not specified, wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain\n      var variable = options.variable,\n          hasVariable = variable;\n\n      if (!hasVariable) {\n        variable = 'obj';\n        source = 'with (' + variable + ') {\\n' + source + '\\n}\\n';\n      }\n      // cleanup code by stripping empty strings\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // frame code as the function body\n      source = 'function(' + variable + ') {\\n' +\n        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\\n') +\n        \"var __t, __p = '', __e = _.escape\" +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      // Use a sourceURL for easier debugging and wrap in a multi-line comment to\n      // avoid issues with Narwhal, IE conditional compilation, and the JS engine\n      // embedded in Adobe products.\n      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n      var sourceURL = '\\n/*\\n//@ sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\\n*/';\n\n      try {\n        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);\n      } catch(e) {\n        e.source = source;\n        throw e;\n      }\n      if (data) {\n        return result(data);\n      }\n      // provide the compiled function's source via its `toString` method, in\n      // supported environments, or the `source` property as a convenience for\n      // inlining compiled templates during the build process\n      result.source = source;\n      return result;\n    }\n\n    /**\n     * Executes the `callback` function `n` times, returning an array of the results\n     * of each `callback` execution. The `callback` is bound to `thisArg` and invoked\n     * with one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Number} n The number of times to execute the callback.\n     * @param {Function} callback The function called per iteration.\n     * @param {Mixed} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of the results of each `callback` execution.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) { mage.castSpell(n); });\n     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) { this.cast(n); }, mage);\n     * // => also calls `mage.castSpell(n)` three times\n     */\n    function times(n, callback, thisArg) {\n      n = (n = +n) > -1 ? n : 0;\n      var index = -1,\n          result = Array(n);\n\n      callback = lodash.createCallback(callback, thisArg, 1);\n      while (++index < n) {\n        result[index] = callback(index);\n      }\n      return result;\n    }\n\n    /**\n     * The inverse of `_.escape`, this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n     * corresponding characters.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} string The string to unescape.\n     * @returns {String} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('Moe, Larry &amp; Curly');\n     * // => 'Moe, Larry & Curly'\n     */\n    function unescape(string) {\n      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is passed, the ID will be appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {String} [prefix] The value to prefix the ID with.\n     * @returns {String} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return String(prefix == null ? '' : prefix) + id;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Invokes `interceptor` with the `value` as the first argument, and then\n     * returns `value`. The purpose of this method is to \"tap into\" a method chain,\n     * in order to perform operations on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {Mixed} value The value to pass to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {Mixed} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3, 4])\n     *  .filter(function(num) { return num % 2 == 0; })\n     *  .tap(alert)\n     *  .map(function(num) { return num * num; })\n     *  .value();\n     * // => // [2, 4] (alerted)\n     * // => [4, 16]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * Produces the `toString` result of the wrapped value.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chaining\n     * @returns {String} Returns the string result.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return String(this.__wrapped__);\n    }\n\n    /**\n     * Extracts the wrapped value.\n     *\n     * @name valueOf\n     * @memberOf _\n     * @alias value\n     * @category Chaining\n     * @returns {Mixed} Returns the wrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).valueOf();\n     * // => [1, 2, 3]\n     */\n    function wrapperValueOf() {\n      return this.__wrapped__;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return wrapped values when chaining\n    lodash.after = after;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.compact = compact;\n    lodash.compose = compose;\n    lodash.countBy = countBy;\n    lodash.createCallback = createCallback;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.forEach = forEach;\n    lodash.forIn = forIn;\n    lodash.forOwn = forOwn;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.map = map;\n    lodash.max = max;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.min = min;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.range = range;\n    lodash.reject = reject;\n    lodash.rest = rest;\n    lodash.shuffle = shuffle;\n    lodash.sortBy = sortBy;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.values = values;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // add aliases\n    lodash.collect = map;\n    lodash.drop = rest;\n    lodash.each = forEach;\n    lodash.extend = assign;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // add functions to `lodash.prototype`\n    mixin(lodash);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return unwrapped values when chaining\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.contains = contains;\n    lodash.escape = escape;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.indexOf = indexOf;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isNaN = isNaN;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isUndefined = isUndefined;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.mixin = mixin;\n    lodash.noConflict = noConflict;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.template = template;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n\n    // add aliases\n    lodash.all = every;\n    lodash.any = some;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.include = contains;\n    lodash.inject = reduce;\n\n    forOwn(lodash, function(func, methodName) {\n      if (!lodash.prototype[methodName]) {\n        lodash.prototype[methodName] = function() {\n          var args = [this.__wrapped__];\n          push.apply(args, arguments);\n          return func.apply(lodash, args);\n        };\n      }\n    });\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions capable of returning wrapped and unwrapped values when chaining\n    lodash.first = first;\n    lodash.last = last;\n\n    // add aliases\n    lodash.take = first;\n    lodash.head = first;\n\n    forOwn(lodash, function(func, methodName) {\n      if (!lodash.prototype[methodName]) {\n        lodash.prototype[methodName]= function(callback, thisArg) {\n          var result = func(this.__wrapped__, callback, thisArg);\n          return callback == null || (thisArg && typeof callback != 'function')\n            ? result\n            : new lodashWrapper(result);\n        };\n      }\n    });\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type String\n     */\n    lodash.VERSION = '1.2.1';\n\n    // add \"Chaining\" functions to the wrapper\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.value = wrapperValueOf;\n    lodash.prototype.valueOf = wrapperValueOf;\n\n    // add `Array` functions that return unwrapped values\n    forEach(['join', 'pop', 'shift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        return func.apply(this.__wrapped__, arguments);\n      };\n    });\n\n    // add `Array` functions that return the wrapped value\n    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        func.apply(this.__wrapped__, arguments);\n        return this;\n      };\n    });\n\n    // add `Array` functions that return new wrapped values\n    forEach(['concat', 'slice', 'splice'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        return new lodashWrapper(func.apply(this.__wrapped__, arguments));\n      };\n    });\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose Lo-Dash\n  var _ = runInContext();\n\n  // some AMD build optimizers, like r.js, check for specific condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash was injected by a third-party script and not intended to be\n    // loaded as a module. The global assignment can be reverted in the Lo-Dash\n    // module via its `noConflict()` method.\n    window._ = _;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return _;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && !freeExports.nodeType) {\n    // in Node.js or RingoJS v0.8.0+\n    if (freeModule) {\n      (freeModule.exports = _)._ = _;\n    }\n    // in Narwhal or RingoJS v0.7.0-\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    window._ = _;\n  }\n}(this));\n"]}