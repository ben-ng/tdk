/*

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>

 Lo-Dash 1.2.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
require=function(l,w,y){function c(p,e){if(!w[p]){if(!l[p]){var k="function"==typeof require&&require;if(!e&&k)return k(p,!0);if(a)return a(p,!0);throw Error("Cannot find module '"+p+"'");}k=w[p]={exports:{}};l[p][0].call(k.exports,function(a){var e=l[p][1][a];return c(e?e:a)},k,k.exports)}return w[p].exports}for(var a="function"==typeof require&&require,t=0;t<y.length;t++)c(y[t]);return c}({"jquery-browserify":[function(l,w,y){w.exports=l("Gb3VIQ")},{}],Gb3VIQ:[function(l,w,y){(function(){(function(c,
a){"object"===typeof y?w.exports=a():"function"===typeof define&&define.amd?define([],a):c.returnExports=a()})(this,function(){return function(c,a){function t(u){var a=Vb[u]={};f.each(u.split(ua),function(u,b){a[b]=!0});return a}function p(u,b,d){if(d===a&&1===u.nodeType)if(d="data-"+b.replace(sb,"-$1").toLowerCase(),d=u.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:ba.test(d)?f.parseJSON(d):d}catch(kc){}f.data(u,b,d)}else d=a;return d}function e(u){for(var a in u)if(("data"!==
a||!f.isEmptyObject(u[a]))&&"toJSON"!==a)return!1;return!0}function k(){return!1}function A(){return!0}function v(u){return!u||!u.parentNode||11===u.parentNode.nodeType}function g(u,a){do u=u[a];while(u&&1!==u.nodeType);return u}function B(u,a,b){a=a||0;if(f.isFunction(a))return f.grep(u,function(u,d){return!!a.call(u,d,u)===b});if(a.nodeType)return f.grep(u,function(u,d){return u===a===b});if("string"===typeof a){var d=f.grep(u,function(u){return 1===u.nodeType});if(lb.test(a))return f.filter(a,
d,!b);a=f.filter(a,d)}return f.grep(u,function(u,d){return 0<=f.inArray(u,a)===b})}function l(u){var a=Ba.split("|");u=u.createDocumentFragment();if(u.createElement)for(;a.length;)u.createElement(a.pop());return u}function b(u,a){if(1===a.nodeType&&f.hasData(u)){var b,d,c;d=f._data(u);var h=f._data(a,d),m=d.events;if(m)for(b in delete h.handle,h.events={},m)for(d=0,c=m[b].length;d<c;d++)f.event.add(a,b,m[b][d]);h.data&&(h.data=f.extend({},h.data))}}function d(u,a){var b;1===a.nodeType&&(a.clearAttributes&&
a.clearAttributes(),a.mergeAttributes&&a.mergeAttributes(u),b=a.nodeName.toLowerCase(),"object"===b?(a.parentNode&&(a.outerHTML=u.outerHTML),f.support.html5Clone&&(u.innerHTML&&!f.trim(a.innerHTML))&&(a.innerHTML=u.innerHTML)):"input"===b&&ab.test(u.type)?(a.defaultChecked=a.checked=u.checked,a.value!==u.value&&(a.value=u.value)):"option"===b?a.selected=u.defaultSelected:"input"===b||"textarea"===b?a.defaultValue=u.defaultValue:"script"===b&&a.text!==u.text&&(a.text=u.text),a.removeAttribute(f.expando))}
function n(u){return"undefined"!==typeof u.getElementsByTagName?u.getElementsByTagName("*"):"undefined"!==typeof u.querySelectorAll?u.querySelectorAll("*"):[]}function q(u){ab.test(u.type)&&(u.defaultChecked=u.checked)}function C(u,a){if(a in u)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),d=a,f=na.length;f--;)if(a=na[f]+b,a in u)return a;return d}function w(u,a){u=a||u;return"none"===f.css(u,"display")||!f.contains(u.ownerDocument,u)}function D(u,a){for(var b,d,c=[],h=0,m=u.length;h<m;h++)b=
u[h],b.style&&(c[h]=f._data(b,"olddisplay"),a?(c[h]||"none"!==b.style.display||(b.style.display=""),""===b.style.display&&w(b)&&(c[h]=f._data(b,"olddisplay",s(b.nodeName)))):(d=P(b,"display"),c[h]||"none"===d||f._data(b,"olddisplay",d)));for(h=0;h<m;h++)b=u[h],!b.style||a&&"none"!==b.style.display&&""!==b.style.display||(b.style.display=a?c[h]||"":"none");return u}function G(u,a,b){return(u=xa.exec(a))?Math.max(0,u[1]-(b||0))+(u[2]||"px"):a}function T(u,a,b,d){a=b===(d?"border":"content")?4:"width"===
a?1:0;for(var c=0;4>a;a+=2)"margin"===b&&(c+=f.css(u,b+Ha[a],!0)),d?("content"===b&&(c-=parseFloat(P(u,"padding"+Ha[a]))||0),"margin"!==b&&(c-=parseFloat(P(u,"border"+Ha[a]+"Width"))||0)):(c+=parseFloat(P(u,"padding"+Ha[a]))||0,"padding"!==b&&(c+=parseFloat(P(u,"border"+Ha[a]+"Width"))||0));return c}function W(a,b,d){var c="width"===b?a.offsetWidth:a.offsetHeight,h=!0,m=f.support.boxSizing&&"border-box"===f.css(a,"boxSizing");if(0>=c||null==c){c=P(a,b);if(0>c||null==c)c=a.style[b];if(Xa.test(c))return c;
h=m&&(f.support.boxSizingReliable||c===a.style[b]);c=parseFloat(c)||0}return c+T(a,b,d||(m?"border":"content"),h)+"px"}function s(a){if(Ra[a])return Ra[a];var b=f("<"+a+">").appendTo(r.body),d=b.css("display");b.remove();if("none"===d||""===d)Na=r.body.appendChild(Na||f.extend(r.createElement("iframe"),{frameBorder:0,width:0,height:0})),L&&Na.createElement||(L=(Na.contentWindow||Na.contentDocument).document,L.write("<!doctype html><html><body>"),L.close()),b=L.body.appendChild(L.createElement(a)),
d=P(b,"display"),r.body.removeChild(Na);return Ra[a]=d}function I(a,b,d,c){var h;if(f.isArray(b))f.each(b,function(b,fa){d||tb.test(a)?c(a,fa):I(a+"["+("object"===typeof fa?b:"")+"]",fa,d,c)});else if(d||"object"!==f.type(b))c(a,b);else for(h in b)I(a+"["+h+"]",b[h],d,c)}function oa(a){return function(b,d){"string"!==typeof b&&(d=b,b="*");var c,h,m=b.toLowerCase().split(ua),r=0,g=m.length;if(f.isFunction(d))for(;r<g;r++)c=m[r],(h=/^\+/.test(c))&&(c=c.substr(1)||"*"),c=a[c]=a[c]||[],c[h?"unshift":
"push"](d)}}function y(u,b,d,f,c,h){c=c||b.dataTypes[0];h=h||{};h[c]=!0;var m;c=u[c];for(var r=0,g=c?c.length:0,e=u===Wb;r<g&&(e||!m);r++)m=c[r](b,d,f),"string"===typeof m&&(!e||h[m]?m=a:(b.dataTypes.unshift(m),m=y(u,b,d,f,m,h)));!e&&m||h["*"]||(m=y(u,b,d,f,"*",h));return m}function M(u,b){var d,c,h=f.ajaxSettings.flatOptions||{};for(d in b)b[d]!==a&&((h[d]?u:c||(c={}))[d]=b[d]);c&&f.extend(!0,u,c)}function va(){try{return new c.XMLHttpRequest}catch(a){}}function pa(){setTimeout(function(){Sa=a},
0);return Sa=f.now()}function X(a,b){f.each(b,function(b,d){for(var fa=(Xb[b]||[]).concat(Xb["*"]),f=0,c=fa.length;f<c&&!fa[f].call(a,b,d);f++);})}function qa(a,b,d){var c=0,h=Ob.length,m=f.Deferred().always(function(){delete r.elem}),r=function(){for(var b=Sa||pa(),b=Math.max(0,g.startTime+g.duration-b),d=1-(b/g.duration||0),fa=0,f=g.tweens.length;fa<f;fa++)g.tweens[fa].run(d);m.notifyWith(a,[g,d,b]);if(1>d&&f)return b;m.resolveWith(a,[g]);return!1},g=m.promise({elem:a,props:f.extend({},b),opts:f.extend(!0,
{specialEasing:{}},d),originalProperties:b,originalOptions:d,startTime:Sa||pa(),duration:d.duration,tweens:[],createTween:function(b,d,fa){b=f.Tween(a,g.opts,b,d,g.opts.specialEasing[b]||g.opts.easing);g.tweens.push(b);return b},stop:function(b){for(var d=0,fa=b?g.tweens.length:0;d<fa;d++)g.tweens[d].run(1);b?m.resolveWith(a,[g,b]):m.rejectWith(a,[g,b]);return this}});d=g.props;for(ja(d,g.opts.specialEasing);c<h;c++)if(b=Ob[c].call(g,a,d,g.opts))return b;X(g,d);f.isFunction(g.opts.start)&&g.opts.start.call(a,
g);f.fx.timer(f.extend(r,{anim:g,queue:g.opts.queue,elem:a}));return g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function ja(a,b){var d,c,h,m,g;for(d in a)if(c=f.camelCase(d),h=b[c],m=a[d],f.isArray(m)&&(h=m[1],m=a[d]=m[0]),d!==c&&(a[c]=m,delete a[d]),(g=f.cssHooks[c])&&"expand"in g)for(d in m=g.expand(m),delete a[c],m)d in a||(a[d]=m[d],b[d]=h);else b[c]=h}function Q(a,b,d,f,c){return new Q.prototype.init(a,b,d,f,c)}function H(a,b){var d,
f={height:a},c=0;for(b=b?1:0;4>c;c+=2-b)d=Ha[c],f["margin"+d]=f["padding"+d]=a;b&&(f.opacity=f.width=a);return f}function J(a){return f.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ka,h,r=c.document,Ca=c.location,z=c.navigator,ub=c.jQuery,nb=c.$,ya=Array.prototype.push,Da=Array.prototype.slice,bb=Array.prototype.indexOf,Ta=Object.prototype.toString,Ia=Object.prototype.hasOwnProperty,Ma=String.prototype.trim,f=function(a,b){return new f.fn.init(a,b,ka)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,
ob=/\S/,ua=/\s+/,cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Oa=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,wa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,db=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,bc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Db=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,cc=/^-ms-/,Yb=/-([\da-z])/gi,dc=function(a,b){return(b+"").toUpperCase()},Eb=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",Eb,!1),f.ready()):"complete"===r.readyState&&(r.detachEvent("onreadystatechange",
Eb),f.ready())},Fb={};f.fn=f.prototype={constructor:f,init:function(u,b,d){var c;if(!u)return this;if(u.nodeType)return this.context=this[0]=u,this.length=1,this;if("string"===typeof u){c="<"===u.charAt(0)&&">"===u.charAt(u.length-1)&&3<=u.length?[null,u,null]:Oa.exec(u);if(!c||!c[1]&&b)return!b||b.jquery?(b||d).find(u):this.constructor(b).find(u);if(c[1])return u=(b=b instanceof f?b[0]:b)&&b.nodeType?b.ownerDocument||b:r,u=f.parseHTML(c[1],u,!0),wa.test(c[1])&&f.isPlainObject(b)&&this.attr.call(u,
b,!0),f.merge(this,u);if((b=r.getElementById(c[2]))&&b.parentNode){if(b.id!==c[2])return d.find(u);this.length=1;this[0]=b}this.context=r;this.selector=u;return this}if(f.isFunction(u))return d.ready(u);u.selector!==a&&(this.selector=u.selector,this.context=u.context);return f.makeArray(u,this)},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return Da.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,
b,d){a=f.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===b?a.selector=this.selector+(this.selector?" ":"")+d:b&&(a.selector=this.selector+"."+b+"("+d+")");return a},each:function(a,b){return f.each(this,a,b)},ready:function(a){f.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Da.apply(this,arguments),"slice",
Da.call(arguments).join(","))},map:function(a){return this.pushStack(f.map(this,function(b,d){return a.call(b,d,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ya,sort:[].sort,splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var u,b,d,c,h,m=arguments[0]||{},g=1,r=arguments.length,e=!1;"boolean"===typeof m&&(e=m,m=arguments[1]||{},g=2);"object"===typeof m||f.isFunction(m)||(m={});r===g&&(m=this,--g);for(;g<r;g++)if(null!=(u=arguments[g]))for(b in u)d=
m[b],c=u[b],m!==c&&(e&&c&&(f.isPlainObject(c)||(h=f.isArray(c)))?(h?(h=!1,d=d&&f.isArray(d)?d:[]):d=d&&f.isPlainObject(d)?d:{},m[b]=f.extend(e,d,c)):c!==a&&(m[b]=c));return m};f.extend({noConflict:function(a){c.$===f&&(c.$=nb);a&&c.jQuery===f&&(c.jQuery=ub);return f},isReady:!1,readyWait:1,holdReady:function(a){a?f.readyWait++:f.ready(!0)},ready:function(a){if(!0===a?!--f.readyWait:!f.isReady){if(!r.body)return setTimeout(f.ready,1);f.isReady=!0;!0!==a&&0<--f.readyWait||(h.resolveWith(r,[f]),f.fn.trigger&&
f(r).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===f.type(a)},isArray:Array.isArray||function(a){return"array"===f.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):Fb[Ta.call(a)]||"object"},isPlainObject:function(u){if(!u||"object"!==f.type(u)||u.nodeType||f.isWindow(u))return!1;try{if(u.constructor&&!Ia.call(u,"constructor")&&!Ia.call(u.constructor.prototype,
"isPrototypeOf"))return!1}catch(b){return!1}for(var d in u);return d===a||Ia.call(u,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,d){var c;if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(d=b,b=0);b=b||r;if(c=wa.exec(a))return[b.createElement(c[1])];c=f.buildFragment([a],b,d?null:[]);return f.merge([],(c.cacheable?f.clone(c.fragment):c.fragment).childNodes)},parseJSON:function(a){if(!a||"string"!==typeof a)return null;
a=f.trim(a);if(c.JSON&&c.JSON.parse)return c.JSON.parse(a);if(db.test(a.replace(bc,"@").replace(Db,"]").replace(S,"")))return(new Function("return "+a))();f.error("Invalid JSON: "+a)},parseXML:function(b){var d,Nb;if(!b||"string"!==typeof b)return null;try{c.DOMParser?(Nb=new DOMParser,d=Nb.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(h){d=a}d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+b);
return d},noop:function(){},globalEval:function(a){a&&ob.test(a)&&(c.execScript||function(a){c.eval.call(c,a)})(a)},camelCase:function(a){return a.replace(cc,"ms-").replace(Yb,dc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,d,Nb){var c,h=0,m=b.length,g=m===a||f.isFunction(b);if(Nb)if(g)for(c in b){if(!1===d.apply(b[c],Nb))break}else for(;h<m&&!1!==d.apply(b[h++],Nb););else if(g)for(c in b){if(!1===d.call(b[c],c,b[c]))break}else for(;h<m&&
!1!==d.call(b[h],h,b[h++]););return b},trim:Ma&&!Ma.call("\ufeff\u00a0")?function(a){return null==a?"":Ma.call(a)}:function(a){return null==a?"":a.toString().replace(cb,"")},makeArray:function(a,b){var d,c=b||[];null!=a&&(d=f.type(a),null==a.length||"string"===d||"function"===d||"regexp"===d||f.isWindow(a)?ya.call(c,a):f.merge(c,a));return c},inArray:function(a,b,d){var f;if(b){if(bb)return bb.call(b,a,d);f=b.length;for(d=d?0>d?Math.max(0,f+d):d:0;d<f;d++)if(d in b&&b[d]===a)return d}return-1},merge:function(b,
d){var f=d.length,c=b.length,h=0;if("number"===typeof f)for(;h<f;h++)b[c++]=d[h];else for(;d[h]!==a;)b[c++]=d[h++];b.length=c;return b},grep:function(a,b,d){var f,c=[],h=0,m=a.length;for(d=!!d;h<m;h++)f=!!b(a[h],h),d!==f&&c.push(a[h]);return c},map:function(b,d,c){var h,m,g=[],r=0,e=b.length;if(b instanceof f||e!==a&&"number"===typeof e&&(0<e&&b[0]&&b[e-1]||0===e||f.isArray(b)))for(;r<e;r++)h=d(b[r],r,c),null!=h&&(g[g.length]=h);else for(m in b)h=d(b[m],m,c),null!=h&&(g[g.length]=h);return g.concat.apply([],
g)},guid:1,proxy:function(b,d){var c,h;"string"===typeof d&&(c=b[d],d=b,b=c);if(!f.isFunction(b))return a;h=Da.call(arguments,2);c=function(){return b.apply(d,h.concat(Da.call(arguments)))};c.guid=b.guid=b.guid||c.guid||f.guid++;return c},access:function(b,d,c,h,m,g,r){var e,n=null==c,x=0,q=b.length;if(c&&"object"===typeof c){for(x in c)f.access(b,d,x,c[x],1,g,h);m=1}else if(h!==a){e=r===a&&f.isFunction(h);n&&(e?(e=d,d=function(a,b,u){return e.call(f(a),u)}):(d.call(b,h),d=null));if(d)for(;x<q;x++)d(b[x],
c,e?h.call(b[x],x,d(b[x],c)):h,r);m=1}return m?b:n?d.call(b):q?d(b[0],c):g},now:function(){return(new Date).getTime()}});f.ready.promise=function(a){if(!h)if(h=f.Deferred(),"complete"===r.readyState)setTimeout(f.ready,1);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",Eb,!1),c.addEventListener("load",f.ready,!1);else{r.attachEvent("onreadystatechange",Eb);c.attachEvent("onload",f.ready);var b=!1;try{b=null==c.frameElement&&r.documentElement}catch(d){}b&&b.doScroll&&function hc(){if(!f.isReady){try{b.doScroll("left")}catch(a){return setTimeout(hc,
50)}f.ready()}}()}return h.promise(a)};f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Fb["[object "+b+"]"]=b.toLowerCase()});ka=f(r);var Vb={};f.Callbacks=function(b){b="string"===typeof b?Vb[b]||t(b):f.extend({},b);var d,c,h,m,g,r,e=[],n=!b.once&&[],x=function(a){d=b.memory&&a;c=!0;r=m||0;m=0;g=e.length;for(h=!0;e&&r<g;r++)if(!1===e[r].apply(a[0],a[1])&&b.stopOnFalse){d=!1;break}h=!1;e&&(n?n.length&&x(n.shift()):d?e=[]:q.disable())},q={add:function(){if(e){var a=
e.length;(function ic(a){f.each(a,function(a,d){var c=f.type(d);"function"!==c||b.unique&&q.has(d)?d&&(d.length&&"string"!==c)&&ic(d):e.push(d)})})(arguments);h?g=e.length:d&&(m=a,x(d))}return this},remove:function(){e&&f.each(arguments,function(a,b){for(var u;-1<(u=f.inArray(b,e,u));)e.splice(u,1),h&&(u<=g&&g--,u<=r&&r--)});return this},has:function(a){return-1<f.inArray(a,e)},empty:function(){e=[];return this},disable:function(){e=n=d=a;return this},disabled:function(){return!e},lock:function(){n=
a;d||q.disable();return this},locked:function(){return!n},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];!e||c&&!n||(h?n.push(b):x(b));return this},fire:function(){q.fireWith(this,arguments);return this},fired:function(){return!!c}};return q};f.extend({Deferred:function(a){var b=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],d="pending",c={state:function(){return d},always:function(){h.done(arguments).fail(arguments);
return this},then:function(){var a=arguments;return f.Deferred(function(u){f.each(b,function(b,d){var c=d[0],fa=a[b];h[d[1]](f.isFunction(fa)?function(){var a=fa.apply(this,arguments);if(a&&f.isFunction(a.promise))a.promise().done(u.resolve).fail(u.reject).progress(u.notify);else u[c+"With"](this===h?u:this,[a])}:u[c])});a=null}).promise()},promise:function(a){return"object"===typeof a?f.extend(a,c):c}},h={};c.pipe=c.then;f.each(b,function(a,u){var f=u[2],m=u[3];c[u[1]]=f.add;m&&f.add(function(){d=
m},b[a^1][2].disable,b[2][2].lock);h[u[0]]=f.fire;h[u[0]+"With"]=f.fireWith});c.promise(h);a&&a.call(h,h);return h},when:function(a){var b=0,d=Da.call(arguments),c=d.length,h=1!==c||a&&f.isFunction(a.promise)?c:0,m=1===h?a:f.Deferred(),g=function(a,b,u){return function(d){b[a]=this;u[a]=1<arguments.length?Da.call(arguments):d;u===r?m.notifyWith(b,u):--h||m.resolveWith(b,u)}},r,e,n;if(1<c)for(r=Array(c),e=Array(c),n=Array(c);b<c;b++)d[b]&&f.isFunction(d[b].promise)?d[b].promise().done(g(b,n,d)).fail(m.reject).progress(g(b,
e,r)):--h;h||m.resolveWith(n,d);return m.promise()}});f.support=function(){var a,b,d,h,m,g,e,n=r.createElement("div");n.setAttribute("className","t");n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=n.getElementsByTagName("*");d=n.getElementsByTagName("a")[0];d.style.cssText="top:1px;float:left;opacity:.5";if(!b||!b.length||!d)return{};h=r.createElement("select");m=h.appendChild(r.createElement("option"));b=n.getElementsByTagName("input")[0];a={leadingWhitespace:3===
n.firstChild.nodeType,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===b.value,optSelected:m.selected,getSetAttribute:"t"!==n.className,enctype:!!r.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===r.compatMode,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;h.disabled=!0;a.optDisabled=!m.disabled;try{delete n.test}catch(x){a.deleteExpando=!1}!n.addEventListener&&(n.attachEvent&&n.fireEvent)&&(n.attachEvent("onclick",d=function(){a.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",
d));b=r.createElement("input");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked","checked");b.setAttribute("name","t");n.appendChild(b);d=r.createDocumentFragment();d.appendChild(n.lastChild);a.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=b.checked;d.removeChild(b);d.appendChild(n);if(n.attachEvent)for(g in{submit:!0,change:!0,focusin:!0})b="on"+g,e=b in n,e||(n.setAttribute(b,"return;"),e="function"===typeof n[b]),a[g+"Bubbles"]=
e;f(function(){var b,d,f,fa=r.getElementsByTagName("body")[0];fa&&(b=r.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",fa.insertBefore(b,fa.firstChild),d=r.createElement("div"),b.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",e=0===f[0].offsetHeight,f[0].style.display="",f[1].style.display="none",a.reliableHiddenOffsets=
e&&0===f[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",a.boxSizing=4===d.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==fa.offsetTop,c.getComputedStyle&&(a.pixelPosition="1%"!==(c.getComputedStyle(d,null)||{}).top,a.boxSizingReliable="4px"===(c.getComputedStyle(d,null)||{width:"4px"}).width,f=r.createElement("div"),f.style.cssText=
d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),a.reliableMarginRight=!parseFloat((c.getComputedStyle(f,null)||{}).marginRight)),"undefined"!==typeof d.style.zoom&&(d.innerHTML="",d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML=
"<div></div>",d.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==d.offsetWidth,b.style.zoom=1),fa.removeChild(b))});d.removeChild(n);b=d=h=m=b=d=n=null;return a}();var ba=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,sb=/([A-Z])/g;f.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!e(a)},data:function(b,
d,c,h){if(f.acceptData(b)){var m=f.expando,g="string"===typeof d,r=b.nodeType,e=r?f.cache:b,n=r?b[m]:b[m]&&m;if(n&&e[n]&&(h||e[n].data)||!g||c!==a){n||(r?b[m]=n=f.deletedIds.pop()||++f.uuid:n=m);e[n]||(e[n]={},r||(e[n].toJSON=f.noop));if("object"===typeof d||"function"===typeof d)h?e[n]=f.extend(e[n],d):e[n].data=f.extend(e[n].data,d);b=e[n];h||(b.data||(b.data={}),b=b.data);c!==a&&(b[f.camelCase(d)]=c);g?(c=b[d],null==c&&(c=b[f.camelCase(d)])):c=b;return c}}},removeData:function(a,b,d){if(f.acceptData(a)){var c,
h,m,g=a.nodeType,r=g?f.cache:a,n=g?a[f.expando]:f.expando;if(r[n]){if(b&&(c=d?r[n]:r[n].data)){f.isArray(b)||(b in c?b=[b]:(b=f.camelCase(b),b=b in c?[b]:b.split(" ")));h=0;for(m=b.length;h<m;h++)delete c[b[h]];if(!(d?e:f.isEmptyObject)(c))return}if(!d&&(delete r[n].data,!e(r[n])))return;g?f.cleanData([a],!0):f.support.deleteExpando||r!=r.window?delete r[n]:r[n]=null}}},_data:function(a,b,d){return f.data(a,b,d,!0)},acceptData:function(a){var b=a.nodeName&&f.noData[a.nodeName.toLowerCase()];return!b||
!0!==b&&a.getAttribute("classid")===b}});f.fn.extend({data:function(b,d){var c,h,m,g,r,e=this[0],n=0,x=null;if(b===a){if(this.length&&(x=f.data(e),1===e.nodeType&&!f._data(e,"parsedAttrs"))){m=e.attributes;for(r=m.length;n<r;n++)g=m[n].name,0===g.indexOf("data-")&&(g=f.camelCase(g.substring(5)),p(e,g,x[g]));f._data(e,"parsedAttrs",!0)}return x}if("object"===typeof b)return this.each(function(){f.data(this,b)});c=b.split(".",2);c[1]=c[1]?"."+c[1]:"";h=c[1]+"!";return f.access(this,function(d){if(d===
a)return x=this.triggerHandler("getData"+h,[c[0]]),x===a&&e&&(x=f.data(e,b),x=p(e,b,x)),x===a&&c[1]?this.data(c[0]):x;c[1]=d;this.each(function(){var a=f(this);a.triggerHandler("setData"+h,c);f.data(this,b,d);a.triggerHandler("changeData"+h,c)})},null,d,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}});f.extend({queue:function(a,b,d){var c;if(a)return b=(b||"fx")+"queue",c=f._data(a,b),d&&(!c||f.isArray(d)?c=f._data(a,b,f.makeArray(d)):c.push(d)),
c||[]},dequeue:function(a,b){b=b||"fx";var d=f.queue(a,b),c=d.length,h=d.shift(),m=f._queueHooks(a,b),g=function(){f.dequeue(a,b)};"inprogress"===h&&(h=d.shift(),c--);h&&("fx"===b&&d.unshift("inprogress"),delete m.stop,h.call(a,g,m));!c&&m&&m.empty.fire()},_queueHooks:function(a,b){var d=b+"queueHooks";return f._data(a,d)||f._data(a,d,{empty:f.Callbacks("once memory").add(function(){f.removeData(a,b+"queue",!0);f.removeData(a,d,!0)})})}});f.fn.extend({queue:function(b,d){var c=2;"string"!==typeof b&&
(d=b,b="fx",c--);return arguments.length<c?f.queue(this[0],b):d===a?this:this.each(function(){var a=f.queue(this,b,d);f._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&f.dequeue(this,b)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,d){var f=setTimeout(b,a);d.stop=function(){clearTimeout(f)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(b,d){var c,h=1,m=f.Deferred(),
g=this,r=this.length,e=function(){--h||m.resolveWith(g,[g])};"string"!==typeof b&&(d=b,b=a);for(b=b||"fx";r--;)(c=f._data(g[r],b+"queueHooks"))&&c.empty&&(h++,c.empty.add(e));e();return m.promise(d)}});var ra,Ea,za,vb=/[\t\r\n]/g,eb=/\r/g,Gb=/^(?:button|input)$/i,pb=/^(?:button|input|object|select|textarea)$/i,Hb=/^a(?:rea|)$/i,Pa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ya=f.support.getSetAttribute;f.fn.extend({attr:function(a,
b){return f.access(this,f.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,1<arguments.length)},removeProp:function(b){b=f.propFix[b]||b;return this.each(function(){try{this[b]=a,delete this[b]}catch(d){}})},addClass:function(a){var b,d,c,h,m,g,r;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a)for(b=a.split(ua),d=0,c=
this.length;d<c;d++)if(h=this[d],1===h.nodeType)if(h.className||1!==b.length){m=" "+h.className+" ";g=0;for(r=b.length;g<r;g++)~m.indexOf(" "+b[g]+" ")||(m+=b[g]+" ");h.className=f.trim(m)}else h.className=a;return this},removeClass:function(b){var d,c,h,m,g,r,e;if(f.isFunction(b))return this.each(function(a){f(this).removeClass(b.call(this,a,this.className))});if(b&&"string"===typeof b||b===a)for(d=(b||"").split(ua),r=0,e=this.length;r<e;r++)if(h=this[r],1===h.nodeType&&h.className){c=(" "+h.className+
" ").replace(vb," ");m=0;for(g=d.length;m<g;m++)for(;-1<c.indexOf(" "+d[m]+" ");)c=c.replace(" "+d[m]+" "," ");h.className=b?f.trim(c):""}return this},toggleClass:function(a,b){var d=typeof a,c="boolean"===typeof b;return f.isFunction(a)?this.each(function(d){f(this).toggleClass(a.call(this,d,this.className,b),b)}):this.each(function(){if("string"===d)for(var h,m=0,g=f(this),r=b,e=a.split(ua);h=e[m++];)r=c?r:!g.hasClass(h),g[r?"addClass":"removeClass"](h);else if("undefined"===d||"boolean"===d)this.className&&
f._data(this,"__className__",this.className),this.className=this.className||!1===a?"":f._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(vb," ").indexOf(a))return!0;return!1},val:function(b){var d,c,h,m=this[0];if(arguments.length)return h=f.isFunction(b),this.each(function(c){var m=f(this);1===this.nodeType&&(c=h?b.call(this,c,m.val()):b,null==c?c="":"number"===typeof c?c+="":f.isArray(c)&&
(c=f.map(c,function(a){return null==a?"":a+""})),d=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,c,"value")!==a||(this.value=c))});if(m){if((d=f.valHooks[m.type]||f.valHooks[m.nodeName.toLowerCase()])&&"get"in d&&(c=d.get(m,"value"))!==a)return c;c=m.value;return"string"===typeof c?c.replace(eb,""):null==c?"":c}}});f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,d,c=
a.selectedIndex,h=[],m=a.options,g="select-one"===a.type;if(0>c)return null;a=g?c:0;for(d=g?c+1:m.length;a<d;a++)if(b=m[a],b.selected&&!((f.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&f.nodeName(b.parentNode,"optgroup"))){b=f(b).val();if(g)return b;h.push(b)}return g&&!h.length&&m.length?f(m[c]).val():h},set:function(a,b){var d=f.makeArray(b);f(a).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),d)});d.length||(a.selectedIndex=-1);
return d}}},attrFn:{},attr:function(b,d,c,h){var m,g,r=b.nodeType;if(b&&3!==r&&8!==r&&2!==r){if(h&&f.isFunction(f.fn[d]))return f(b)[d](c);if("undefined"===typeof b.getAttribute)return f.prop(b,d,c);if(h=1!==r||!f.isXMLDoc(b))d=d.toLowerCase(),g=f.attrHooks[d]||(Pa.test(d)?Ea:ra);if(c!==a)if(null===c)f.removeAttr(b,d);else{if(g&&"set"in g&&h&&(m=g.set(b,c,d))!==a)return m;b.setAttribute(d,""+c);return c}else{if(g&&"get"in g&&h&&null!==(m=g.get(b,d)))return m;m=b.getAttribute(d);return null===m?a:
m}}},removeAttr:function(a,b){var d,c,h,m,g=0;if(b&&1===a.nodeType)for(c=b.split(ua);g<c.length;g++)if(h=c[g])d=f.propFix[h]||h,(m=Pa.test(h))||f.attr(a,h,""),a.removeAttribute(Ya?h:d),m&&d in a&&(a[d]=!1)},attrHooks:{type:{set:function(a,b){if(Gb.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&"radio"===b&&f.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);d&&(a.value=d);return b}}},value:{get:function(a,b){return ra&&f.nodeName(a,
"button")?ra.get(a,b):b in a?a.value:null},set:function(a,b,d){if(ra&&f.nodeName(a,"button"))return ra.set(a,b,d);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,d,c){var h,m,g;g=b.nodeType;if(b&&3!==g&&8!==g&&2!==g){if(g=1!==g||!f.isXMLDoc(b))d=f.propFix[d]||
d,m=f.propHooks[d];return c!==a?m&&"set"in m&&(h=m.set(b,c,d))!==a?h:b[d]=c:m&&"get"in m&&null!==(h=m.get(b,d))?h:b[d]}},propHooks:{tabIndex:{get:function(b){var d=b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):pb.test(b.nodeName)||Hb.test(b.nodeName)&&b.href?0:a}}}});Ea={get:function(b,d){var c,h=f.prop(b,d);return!0===h||"boolean"!==typeof h&&(c=b.getAttributeNode(d))&&!1!==c.nodeValue?d.toLowerCase():a},set:function(a,b,d){!1===b?f.removeAttr(a,d):(b=f.propFix[d]||d,
b in a&&(a[b]=!0),a.setAttribute(d,d.toLowerCase()));return d}};Ya||(za={name:!0,id:!0,coords:!0},ra=f.valHooks.button={get:function(b,d){var c;return(c=b.getAttributeNode(d))&&(za[d]?""!==c.value:c.specified)?c.value:a},set:function(a,b,d){var c=a.getAttributeNode(d);c||(c=r.createAttribute(d),a.setAttributeNode(c));return c.value=b+""}},f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,d){if(""===d)return a.setAttribute(b,"auto"),d}})}),f.attrHooks.contenteditable=
{get:ra.get,set:function(a,b,d){""===b&&(b="false");ra.set(a,b,d)}});f.support.hrefNormalized||f.each(["href","src","width","height"],function(b,d){f.attrHooks[d]=f.extend(f.attrHooks[d],{get:function(b){b=b.getAttribute(d,2);return null===b?a:b}})});f.support.style||(f.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||a},set:function(a,b){return a.style.cssText=""+b}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,
a.parentNode&&a.parentNode.selectedIndex;return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=0<=f.inArray(f(a).val(),b)}})});var fb=/^(?:textarea|input|select)$/i,aa=/^([^\.]*|)(?:\.(.+)|)$/,wb=/(?:^|\s)hover(\.\S+|)\b/,
xb=/^key/,yb=/^(?:mouse|contextmenu)|click/,gb=/^(?:focusinfocus|focusoutblur)$/,zb=function(a){return f.event.special.hover?a:a.replace(wb,"mouseenter$1 mouseleave$1")};f.event={add:function(b,d,c,h,m){var g,r,e,n,x,q,z,k,s;if(3!==b.nodeType&&8!==b.nodeType&&d&&c&&(g=f._data(b))){c.handler&&(z=c,c=z.handler,m=z.selector);c.guid||(c.guid=f.guid++);e=g.events;e||(g.events=e={});r=g.handle;r||(g.handle=r=function(b){return"undefined"===typeof f||b&&f.event.triggered===b.type?a:f.event.dispatch.apply(r.elem,
arguments)},r.elem=b);d=f.trim(zb(d)).split(" ");for(g=0;g<d.length;g++)n=aa.exec(d[g])||[],x=n[1],q=(n[2]||"").split(".").sort(),s=f.event.special[x]||{},x=(m?s.delegateType:s.bindType)||x,s=f.event.special[x]||{},n=f.extend({type:x,origType:n[1],data:h,handler:c,guid:c.guid,selector:m,namespace:q.join(".")},z),k=e[x],k||(k=e[x]=[],k.delegateCount=0,s.setup&&!1!==s.setup.call(b,h,q,r)||(b.addEventListener?b.addEventListener(x,r,!1):b.attachEvent&&b.attachEvent("on"+x,r))),s.add&&(s.add.call(b,n),
n.handler.guid||(n.handler.guid=c.guid)),m?k.splice(k.delegateCount++,0,n):k.push(n),f.event.global[x]=!0;b=null}},global:{},remove:function(a,b,d,c,h){var m,g,r,e,n,x,q,k,z,s,H=f.hasData(a)&&f._data(a);if(H&&(q=H.events)){b=f.trim(zb(b||"")).split(" ");for(m=0;m<b.length;m++)if(g=aa.exec(b[m])||[],r=e=g[1],g=g[2],r){k=f.event.special[r]||{};r=(c?k.delegateType:k.bindType)||r;z=q[r]||[];n=z.length;g=g?RegExp("(^|\\.)"+g.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(x=0;x<z.length;x++)s=
z[x],!h&&e!==s.origType||(d&&d.guid!==s.guid||g&&!g.test(s.namespace)||c&&!(c===s.selector||"**"===c&&s.selector))||(z.splice(x--,1),s.selector&&z.delegateCount--,k.remove&&k.remove.call(a,s));0===z.length&&n!==z.length&&(k.teardown&&!1!==k.teardown.call(a,g,H.handle)||f.removeEvent(a,r,H.handle),delete q[r])}else for(r in q)f.event.remove(a,r+b[m],d,c,!0);f.isEmptyObject(q)&&(delete H.handle,f.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,d,h,m){if(!h||
3!==h.nodeType&&8!==h.nodeType){var g,e,n,x,q,k,z=b.type||b;n=[];if(!gb.test(z+f.event.triggered)&&(0<=z.indexOf("!")&&(z=z.slice(0,-1),g=!0),0<=z.indexOf(".")&&(n=z.split("."),z=n.shift(),n.sort()),h&&!f.event.customEvent[z]||f.event.global[z]))if(b="object"===typeof b?b[f.expando]?b:new f.Event(z,b):new f.Event(z),b.type=z,b.isTrigger=!0,b.exclusive=g,b.namespace=n.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n=0>z.indexOf(":")?"on"+z:"",h){if(b.result=
a,b.target||(b.target=h),d=null!=d?f.makeArray(d):[],d.unshift(b),x=f.event.special[z]||{},!x.trigger||!1!==x.trigger.apply(h,d)){k=[[h,x.bindType||z]];if(!m&&!x.noBubble&&!f.isWindow(h)){q=x.delegateType||z;g=gb.test(q+z)?h:h.parentNode;for(e=h;g;g=g.parentNode)k.push([g,q]),e=g;e===(h.ownerDocument||r)&&k.push([e.defaultView||e.parentWindow||c,q])}for(e=0;e<k.length&&!b.isPropagationStopped();e++)g=k[e][0],b.type=k[e][1],(q=(f._data(g,"events")||{})[b.type]&&f._data(g,"handle"))&&q.apply(g,d),(q=
n&&g[n])&&(f.acceptData(g)&&!1===q.apply(g,d))&&b.preventDefault();b.type=z;m||b.isDefaultPrevented()||(x._default&&!1!==x._default.apply(h.ownerDocument,d)||"click"===z&&f.nodeName(h,"a")||!f.acceptData(h)||!n||!h[z]||("focus"===z||"blur"===z)&&0===b.target.offsetWidth||f.isWindow(h))||((e=h[n])&&(h[n]=null),f.event.triggered=z,h[z](),f.event.triggered=a,e&&(h[n]=e));return b.result}}else for(e in h=f.cache,h)h[e].events&&h[e].events[z]&&f.event.trigger(b,d,h[e].handle.elem,!0)}},dispatch:function(b){b=
f.event.fix(b||c.event);var d,h,m,g,r,e,n=(f._data(this,"events")||{})[b.type]||[],x=n.delegateCount,z=[].slice.call(arguments),q=!b.exclusive&&!b.namespace,k=f.event.special[b.type]||{},s=[];z[0]=b;b.delegateTarget=this;if(!k.preDispatch||!1!==k.preDispatch.call(this,b)){if(x&&(!b.button||"click"!==b.type))for(h=b.target;h!=this;h=h.parentNode||this)if(!0!==h.disabled||"click"!==b.type){g={};r=[];for(d=0;d<x;d++)m=n[d],e=m.selector,g[e]===a&&(g[e]=0<=f(e,this).index(h)),g[e]&&r.push(m);r.length&&
s.push({elem:h,matches:r})}n.length>x&&s.push({elem:this,matches:n.slice(x)});for(d=0;d<s.length&&!b.isPropagationStopped();d++)for(g=s[d],b.currentTarget=g.elem,h=0;h<g.matches.length&&!b.isImmediatePropagationStopped();h++)if(m=g.matches[h],q||!b.namespace&&!m.namespace||b.namespace_re&&b.namespace_re.test(m.namespace))b.data=m.data,b.handleObj=m,m=((f.event.special[m.origType]||{}).handle||m.handler).apply(g.elem,z),m!==a&&(b.result=m,!1===m&&(b.preventDefault(),b.stopPropagation()));k.postDispatch&&
k.postDispatch.call(this,b);return b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(b,d){var c,f,h=d.button,m=d.fromElement;null==b.pageX&&null!=d.clientX&&(c=b.target.ownerDocument||r,f=c.documentElement,c=c.body,b.pageX=d.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),b.pageY=d.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0));!b.relatedTarget&&m&&(b.relatedTarget=m===b.target?d.toElement:m);b.which||h===a||(b.which=h&1?1:h&2?3:h&4?2:0);return b}},fix:function(a){if(a[f.expando])return a;var b,
d,c=a,h=f.event.fixHooks[a.type]||{},m=h.props?this.props.concat(h.props):this.props;a=f.Event(c);for(b=m.length;b;)d=m[--b],a[d]=c[d];a.target||(a.target=c.srcElement||r);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return h.filter?h.filter(a,c):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,d){f.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=
null)}}},simulate:function(a,b,d,c){a=f.extend(new f.Event,d,{type:a,isSimulated:!0,originalEvent:{}});c?f.event.trigger(a,null,b):f.event.dispatch.call(b,a);a.isDefaultPrevented()&&d.preventDefault()}};f.event.handle=f.event.dispatch;f.removeEvent=r.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,!1)}:function(a,b,d){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,d))};f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,
b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?A:k):this.type=a;b&&f.extend(this,b);this.timeStamp=a&&a.timeStamp||f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=A;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=A;var a=this.originalEvent;a&&(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=A;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var d,c=a.relatedTarget,u=a.handleObj;if(!c||c!==this&&!f.contains(this,c))a.type=u.origType,d=u.handler.apply(this,arguments),a.type=b;return d}}});f.support.submitBubbles||
(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=f.nodeName(b,"input")||f.nodeName(b,"button")?b.form:a)&&!f._data(b,"_submit_attached")&&(f.event.add(b,"submit._submit",function(a){a._submit_bubble=!0}),f._data(b,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,
"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(fb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)f.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);f.event.simulate("change",this,a,!0)});return!1}f.event.add(this,"beforeactivate._change",
function(a){a=a.target;fb.test(a.nodeName)&&!f._data(a,"_change_attached")&&(f.event.add(a,"change._change",function(a){!this.parentNode||(a.isSimulated||a.isTrigger)||f.event.simulate("change",this.parentNode,a,!0)}),f._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return!fb.test(this.nodeName)}});
f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,c=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){0===d++&&r.addEventListener(a,c,!0)},teardown:function(){0===--d&&r.removeEventListener(a,c,!0)}}});f.fn.extend({on:function(b,d,c,h,m){var g,r;if("object"===typeof b){"string"!==typeof d&&(c=c||d,d=a);for(r in b)this.on(r,d,c,b[r],m);return this}null==c&&null==h?(h=d,c=d=a):null==h&&("string"===typeof d?(h=c,c=
a):(h=c,c=d,d=a));if(!1===h)h=k;else if(!h)return this;1===m&&(g=h,h=function(a){f().off(a);return g.apply(this,arguments)},h.guid=g.guid||(g.guid=f.guid++));return this.each(function(){f.event.add(this,b,h,c,d)})},one:function(a,b,d,c){return this.on(a,b,d,c,1)},off:function(b,d,c){var h;if(b&&b.preventDefault&&b.handleObj)return h=b.handleObj,f(b.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"===typeof b){for(h in b)this.off(h,d,b[h]);
return this}if(!1===d||"function"===typeof d)c=d,d=a;!1===c&&(c=k);return this.each(function(){f.event.remove(this,b,c,d)})},bind:function(a,b,d){return this.on(a,null,b,d)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,d){f(this.context).on(a,this.selector,b,d);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,d,c){return this.on(b,a,d,c)},undelegate:function(a,b,d){return 1==arguments.length?this.off(a,"**"):this.off(b,
a||"**",d)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,d=a.guid||f.guid++,c=0,h=function(d){var h=(f._data(this,"lastToggle"+a.guid)||0)%c;f._data(this,"lastToggle"+a.guid,h+1);d.preventDefault();return b[h].apply(this,arguments)||!1};for(h.guid=d;c<b.length;)b[c++].guid=d;return this.click(h)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,d){null==d&&(d=a,a=null);return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)};xb.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks);yb.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)});(function(a,b){function d(a,b,c,f){c=c||[];b=b||
O;var h,u,m,g,r=b.nodeType;if(1!==r&&9!==r)return[];if(!a||"string"!==typeof a)return c;m=Ca(b);if(!m&&!f&&(h=G.exec(a)))if(g=h[1])if(9===r)if((u=b.getElementById(g))&&u.parentNode){if(u.id===g)return c.push(u),c}else return c;else{if(b.ownerDocument&&(u=b.ownerDocument.getElementById(g))&&t(b,u)&&u.id===g)return c.push(u),c}else{if(h[2])return E.apply(c,l.call(b.getElementsByTagName(a),0)),c;if((g=h[3])&&K&&b.getElementsByClassName)return E.apply(c,l.call(b.getElementsByClassName(g),0)),c}return k(a,
b,c,f,m)}function c(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function h(a){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}}function m(a,b,d){if(a===b)return d;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function g(a,b,c,f){var h,u,m,r,e,n,x,z,q,k=!c&&b!==O,s=(k?"<s>":"")+a.replace(W,"$1<s>");if(e=La[C][s])return f?0:l.call(e,0);e=a;n=[];z=F.preFilter;for(q=F.filter;e;){if(!h||(u=I.exec(e)))u&&
(e=e.slice(u[0].length),m.selector=x),n.push(m=[]),x="",k&&(e=" "+e);h=!1;if(u=rb.exec(e))x+=u[0],e=e.slice(u[0].length),h=m.push({part:u.pop().replace(W," "),string:u[0],captures:u});for(r in q)!(u=ya[r].exec(e))||z[r]&&!(u=z[r](u,b,c))||(x+=u[0],e=e.slice(u[0].length),h=m.push({part:r,string:u.shift(),captures:u}));if(!h)break}x&&(m.selector=x);return f?e.length:e?d.error(a):l.call(La(s,n),0)}function r(a,b,d,c){var f=b.dir,h=Aa++;a||(a=function(a){return a===d});return b.first?function(b){for(;b=
b[f];)if(1===b.nodeType)return a(b)&&b}:c?function(b){for(;b=b[f];)if(1===b.nodeType&&a(b))return b}:function(b){for(var d,c=h+"."+s,u=c+"."+H;b=b[f];)if(1===b.nodeType){if((d=b[C])===u)return b.sizset;if("string"===typeof d&&0===d.indexOf(c)){if(b.sizset)return b}else{b[C]=u;if(a(b))return b.sizset=!0,b;b.sizset=!1}}}}function e(a,b){return a?function(d){var c=b(d);return c&&a(!0===c?d:c)}:b}function n(a){return function(b){for(var d,c=0;d=a[c];c++)if(d(b))return!0;return!1}}function x(a,b,c,f){for(var h=
0,u=b.length;h<u;h++)d(a,b[h],c,f)}function z(a,b,c,f,h,u){var m,g=F.setFilters[b.toLowerCase()];g||d.error(b);!a&&(m=h)||x(a||"*",f,m=[],h);return 0<m.length?g(m,c,u):[]}function q(a,c,f,h){for(var u,m,g,r,e,n,k,s,H,F,p,v=0,Ca=a.length,R=ya.POS,t=RegExp("^"+R.source+"(?!"+S+")","i"),A=function(){for(var a=1,d=arguments.length-2;a<d;a++)arguments[a]===b&&(s[a]=b)};v<Ca;v++){u=a[v];m="";k=h;g=0;for(r=u.length;g<r;g++){e=u[g];n=e.string;if("PSEUDO"===e.part)for(R.exec(""),e=0;s=R.exec(n);){H=!0;F=R.lastIndex=
s.index+s[0].length;if(F>e){m+=n.slice(e,s.index);e=F;F=[c];rb.test(m)&&(k&&(F=k),k=h);if(p=ec.test(m))m=m.slice(0,-5).replace(rb,"$&*"),e++;1<s.length&&s[0].replace(t,A);k=z(m,s[1],s[2],F,k,p)}m=""}H||(m+=n);H=!1}m?rb.test(m)?x(m,k||[c],f,h):d(m,c,f,h?h.concat(k):k):E.apply(f,k)}return 1===Ca?f:d.uniqueSort(f)}function k(a,b,d,c,f){a=a.replace(W,"$1");var h,u,m,r,e,n;u=g(a,b,f);e=b.nodeType;if(ya.POS.test(a))return q(u,b,d,c);if(c)h=l.call(c,0);else if(1===u.length){if(2<(m=l.call(u[0],0)).length&&
"ID"===(r=m[0]).part&&9===e&&!f&&F.relative[m[1].part]){b=F.find.ID(r.captures[0].replace(ma,""),b,f)[0];if(!b)return d;a=a.slice(m.shift().string.length)}c=(u=w.exec(m[0].string))&&!u.index&&b.parentNode||b;e="";for(u=m.length-1;0<=u;u--){r=m[u];n=r.part;e=r.string+e;if(F.relative[n])break;if(F.order.test(n)&&(h=F.find[n](r.captures[0].replace(ma,""),c,f),null!=h)){(a=a.slice(0,a.length-e.length)+e.replace(ya[n],""))||E.apply(d,l.call(h,0));break}}}if(a)for(f=R(a,b,f),s=f.dirruns++,null==h&&(h=F.find.TAG("*",
w.test(a)&&b.parentNode||b)),u=0;a=h[u];u++)H=f.runs++,f(a)&&d.push(a);return d}var s,H,p,F,v,Ca,t,R,A,ia,B=!0,C=("sizcache"+Math.random()).replace(".",""),O=a.document,J=O.documentElement,Aa=0,l=[].slice,E=[].push,Sa=function(a,b){a[C]=b||!0;return a},Y=function(){var a={},b=[];return Sa(function(d,c){b.push(d)>F.cacheLength&&delete a[b.shift()];return a[d]=c},a)},oa=Y(),La=Y(),ka=Y(),S="[\\x20\\t\\r\\n\\f]",Y="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#"),Y="\\["+S+"*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)"+
S+"*(?:([*^$|!~]?=)"+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Y+")|)|)"+S+"*\\]",D=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+Y+")|[^:]|\\\\.)*|.*))\\)|)",W=RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),I=RegExp("^"+S+"*,"+S+"*"),rb=RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),Sb=RegExp(D),G=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,w=/[\x20\t\r\n\f]*[+~]/,ec=/:not\($/,T=/h\d/i,ub=/input|select|textarea|button/i,ma=/\\(?!\\)/g,ya={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Y),PSEUDO:RegExp("^"+D),CHILD:RegExp("^:(only|nth|last|first)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),POS:RegExp(":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)","ig"),needsContext:RegExp("^"+S+"*[>+~]|:(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",
"i")},ea=function(a){var b=O.createElement("div");try{return a(b)}catch(d){return!1}finally{}},Y=ea(function(a){a.appendChild(O.createComment(""));return!a.getElementsByTagName("*").length}),D=ea(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),nb=ea(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),K=ea(function(a){a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),Ob=ea(function(a){a.id=C+0;a.innerHTML="<a name='"+C+"'></a><div name='"+C+"'></div>";J.insertBefore(a,J.firstChild);var b=O.getElementsByName&&O.getElementsByName(C).length===2+O.getElementsByName(C+0).length;p=!O.getElementById(C);J.removeChild(a);return b});try{l.call(J.childNodes,0)[0].nodeType}catch(fc){l=
function(a){for(var b,d=[];b=this[a];a++)d.push(b);return d}}d.matches=function(a,b){return d(a,null,null,b)};d.matchesSelector=function(a,b){return 0<d(b,null,null,[a]).length};v=d.getText=function(a){var b,d="",c=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=v(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[c];c++)d+=v(b);return d};Ca=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?
"HTML"!==a.nodeName:!1};t=d.contains=J.contains?function(a,b){var d=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!!(c&&1===c.nodeType&&d.contains&&d.contains(c))}:J.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};d.attr=function(a,b){var d;(d=Ca(a))||(b=b.toLowerCase());return F.attrHandle[b]?F.attrHandle[b](a):nb||d?a.getAttribute(b):(d=a.getAttributeNode(b))?"boolean"===typeof a[b]?
a[b]?b:null:d.specified?d.value:null:null};F=d.selectors={cacheLength:50,createPseudo:Sa,match:ya,order:RegExp("ID|TAG"+(Ob?"|NAME":"")+(K?"|CLASS":"")),attrHandle:D?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:p?function(a,b,d){if("undefined"!==typeof b.getElementById&&!d)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,d,c){if("undefined"!==typeof d.getElementById&&!c)return(d=d.getElementById(a))?d.id===a||"undefined"!==
typeof d.getAttributeNode&&d.getAttributeNode("id").value===a?[d]:b:[]},TAG:Y?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var d=b.getElementsByTagName(a);if("*"===a){for(var c,f=[],h=0;c=d[h];h++)1===c.nodeType&&f.push(c);return f}return d},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},CLASS:function(a,b,d){if("undefined"!==typeof b.getElementsByClassName&&!d)return b.getElementsByClassName(a)}},
relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ma,"");a[3]=(a[4]||a[5]||"").replace(ma,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||d.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&d.error(a[0]);return a},PSEUDO:function(a,b,d){var c,
f;if(ya.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(c=a[4])Sb.test(c)&&((f=g(c,b,d,!0))&&(f=c.indexOf(")",c.length-f)-c.length))&&(c=c.slice(0,f),a[0]=a[0].slice(0,f)),a[2]=c;return a.slice(0,3)}},filter:{ID:p?function(a){a=a.replace(ma,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(ma,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};
a=a.replace(ma,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=oa[C][a];b||(b=oa(a,RegExp("(^|"+S+")"+a+"("+S+"|$)")));return function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return b?function(f){f=d.attr(f,a);var h=f+"";if(null==f)return"!="===b;switch(b){case "=":return h===c;case "!=":return h!==c;case "^=":return c&&0===h.indexOf(c);case "*=":return c&&
-1<h.indexOf(c);case "$=":return c&&h.substr(h.length-c.length)===c;case "~=":return-1<(" "+h+" ").indexOf(c);case "|=":return h===c||h.substr(0,c.length+1)===c+"-"}}:function(b){return null!=d.attr(b,a)}},CHILD:function(a,b,d,c){if("nth"===a){var f=Aa++;return function(a){var b,h=0,u=a;if(1===d&&0===c)return!0;if((b=a.parentNode)&&(b[C]!==f||!a.sizset)){for(u=b.firstChild;u&&(1!==u.nodeType||(u.sizset=++h,u!==a));u=u.nextSibling);b[C]=f}a=a.sizset-c;return 0===d?0===a:0===a%d&&0<=a/d}}return function(b){var d=
b;switch(a){case "only":case "first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===a)return!0;d=b;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0}}},PSEUDO:function(a,b,c,f){var h,u=F.pseudos[a]||F.pseudos[a.toLowerCase()];u||d.error("unsupported pseudo: "+a);return u[C]?u(b,c,f):1<u.length?(h=[a,a,"",b],function(a){return u(a,0,h)}):u}},pseudos:{not:Sa(function(a,b,d){var c=R(a.replace(W,"$1"),b,d);return function(a){return!c(a)}}),enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!F.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},contains:Sa(function(a){return function(b){return-1<(b.textContent||b.innerText||
v(b)).indexOf(a)}}),has:Sa(function(a){return function(b){return 0<d(a,b).length}}),header:function(a){return T.test(a.nodeName)},text:function(a){var b,d;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(d=a.getAttribute("type"))||d.toLowerCase()===b)},radio:c("radio"),checkbox:c("checkbox"),file:c("file"),password:c("password"),image:c("image"),submit:h("submit"),reset:h("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===
b},input:function(a){return ub.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,d){return d?a.slice(1):[a[0]]},last:function(a,b,d){b=a.pop();return d?a:[b]},even:function(a,b,d){b=[];d=d?1:0;for(var c=a.length;d<c;d+=2)b.push(a[d]);return b},odd:function(a,b,d){b=[];d=d?0:1;for(var c=a.length;d<c;d+=2)b.push(a[d]);return b},
lt:function(a,b,d){return d?a.slice(+b):a.slice(0,+b)},gt:function(a,b,d){return d?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,d){b=a.splice(+b,1);return d?a:b}}};A=J.compareDocumentPosition?function(a,b){return a===b?(ia=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?a.compareDocumentPosition(b)&4:a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return ia=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var d,c,f=[],h=[];d=a.parentNode;c=b.parentNode;
var u=d;if(d===c)return m(a,b);if(!d)return-1;if(!c)return 1;for(;u;)f.unshift(u),u=u.parentNode;for(u=c;u;)h.unshift(u),u=u.parentNode;d=f.length;c=h.length;for(u=0;u<d&&u<c;u++)if(f[u]!==h[u])return m(f[u],h[u]);return u===d?m(a,h[u],-1):m(f[u],b,1)};[0,0].sort(A);B=!ia;d.uniqueSort=function(a){var b,d=1;ia=B;a.sort(A);if(ia)for(;b=a[d];d++)b===a[d-1]&&a.splice(d--,1);return a};d.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};R=d.compile=function(a,b,d){var c,f,h;if((c=
ka[C][a])&&c.context===b)return c;c=g(a,b,d);f=0;for(h=c.length;f<h;f++){for(var u=c,m=f,x=c[f],z=b,k=d,q=void 0,s=void 0,H=0;q=x[H];H++)s=F.relative[q.part]?r(s,F.relative[q.part],z,k):e(s,F.filter[q.part].apply(null,q.captures.concat(z,k)));u[m]=s}c=ka(a,n(c));c.context=b;c.runs=c.dirruns=0;return c};O.querySelectorAll&&function(){var a,b=k,c=/'|\\/g,f=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,h=[],u=[":active"],m=J.matchesSelector||J.mozMatchesSelector||J.webkitMatchesSelector||J.oMatchesSelector||
J.msMatchesSelector;ea(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||h.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||h.push(":checked")});ea(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&h.push("[*^$]="+S+"*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||h.push(":enabled",":disabled")});
h=h.length&&RegExp(h.join("|"));k=function(a,d,f,u,m){if(!(u||m||h&&h.test(a)))if(9===d.nodeType)try{return E.apply(f,l.call(d.querySelectorAll(a),0)),f}catch(r){}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var e,n,x,z=d.getAttribute("id"),k=z||C,q=w.test(a)&&d.parentNode||d;z?k=k.replace(c,"\\$&"):d.setAttribute("id",k);e=g(a,d,m);k="[id='"+k+"']";n=0;for(x=e.length;n<x;n++)e[n]=k+e[n].selector;try{return E.apply(f,l.call(q.querySelectorAll(e.join(",")),0)),f}catch(s){}finally{z||
d.removeAttribute("id")}}return b(a,d,f,u,m)};m&&(ea(function(b){a=m.call(b,"div");try{m.call(b,"[test!='']:sizzle"),u.push(ya.PSEUDO.source,ya.POS.source,"!=")}catch(d){}}),u=RegExp(u.join("|")),d.matchesSelector=function(b,c){c=c.replace(f,"='$1']");if(!(Ca(b)||u.test(c)||h&&h.test(c)))try{var g=m.call(b,c);if(g||a||b.document&&11!==b.document.nodeType)return g}catch(e){}return 0<d(c,null,null,[b]).length})}();F.setFilters.nth=F.setFilters.eq;F.filters=F.pseudos;d.attr=f.attr;f.find=d;f.expr=d.selectors;
f.expr[":"]=f.expr.pseudos;f.unique=d.uniqueSort;f.text=d.getText;f.isXMLDoc=d.isXML;f.contains=d.contains})(c);var Ib=/Until$/,ga=/^(?:parents|prev(?:Until|All))/,lb=/^.[^:#\[\.,]*$/,qb=f.expr.match.needsContext,Jb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b,d,c,h,m,g,e=this;if("string"!==typeof a)return f(a).filter(function(){b=0;for(d=e.length;b<d;b++)if(f.contains(e[b],this))return!0});g=this.pushStack("","find",a);b=0;for(d=this.length;b<d;b++)if(c=g.length,
f.find(a,this[b],g),0<b)for(h=c;h<g.length;h++)for(m=0;m<c;m++)if(g[m]===g[h]){g.splice(h--,1);break}return g},has:function(a){var b,d=f(a,this),c=d.length;return this.filter(function(){for(b=0;b<c;b++)if(f.contains(this,d[b]))return!0})},not:function(a){return this.pushStack(B(this,a,!1),"not",a)},filter:function(a){return this.pushStack(B(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?qb.test(a)?0<=f(a,this.context).index(this[0]):0<f.filter(a,this).length:0<this.filter(a).length)},
closest:function(a,b){for(var d,c=0,h=this.length,m=[],g=qb.test(a)||"string"!==typeof a?f(a,b||this.context):0;c<h;c++)for(d=this[c];d&&d.ownerDocument&&d!==b&&11!==d.nodeType;){if(g?-1<g.index(d):f.find.matchesSelector(d,a)){m.push(d);break}d=d.parentNode}m=1<m.length?f.unique(m):m;return this.pushStack(m,"closest",a)},index:function(a){return a?"string"===typeof a?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var d=
"string"===typeof a?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),c=f.merge(this.get(),d);return this.pushStack(v(d[0])||v(c[0])?c:f.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});f.fn.andSelf=f.fn.addBack;f.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,d){return f.dir(a,"parentNode",d)},next:function(a){return g(a,"nextSibling")},prev:function(a){return g(a,
"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,d){return f.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return f.dir(a,"previousSibling",d)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.merge([],a.childNodes)}},function(a,
b){f.fn[a]=function(d,c){var h=f.map(this,b,d);Ib.test(a)||(c=d);c&&"string"===typeof c&&(h=f.filter(c,h));h=1<this.length&&!Jb[a]?f.unique(h):h;1<this.length&&ga.test(a)&&(h=h.reverse());return this.pushStack(h,a,Da.call(arguments).join(","))}});f.extend({filter:function(a,b,d){d&&(a=":not("+a+")");return 1===b.length?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(b,d,c){var h=[];for(b=b[d];b&&9!==b.nodeType&&(c===a||1!==b.nodeType||!f(b).is(c));)1===b.nodeType&&h.push(b),
b=b[d];return h},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d}});var Ba="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pb=/ jQuery\d+="(?:null|\d+)"/g,Za=/^\s+/,hb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ja=/<([\w:]+)/,Qb=/<tbody/i,sa=/<|&#?\w+;/,Ab=/<(?:script|style|link)/i,Rb=/<(?:script|object|embed|option|style)/i,
ca=RegExp("<(?:"+Ba+")[\\s/>]","i"),ab=/^(?:checkbox|radio)$/,ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Ua=/\/(java|ecma)script/i,Ka=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,la={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",
""]},da=l(r),Va=da.appendChild(r.createElement("div"));la.optgroup=la.option;la.tbody=la.tfoot=la.colgroup=la.caption=la.thead;la.th=la.td;f.support.htmlSerialize||(la._default=[1,"X<div>","</div>"]);f.fn.extend({text:function(b){return f.access(this,function(b){return b===a?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(b))},null,b,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=
f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(d){f(this).wrapAll(b?a.call(this,d):
a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!v(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,
this)});if(arguments.length){var a=f.clean(arguments);return this.pushStack(f.merge(a,this),"before",this.selector)}},after:function(){if(!v(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=f.clean(arguments);return this.pushStack(f.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var d,c=0;null!=(d=this[c]);c++)if(!a||f.filter(a,[d]).length)b||1!==d.nodeType||(f.cleanData(d.getElementsByTagName("*")),
f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&f.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(b){return f.access(this,function(b){var d=this[0]||{},c=0,h=this.length;if(b===a)return 1===d.nodeType?d.innerHTML.replace(Pb,""):a;if("string"===
typeof b&&!(Ab.test(b)||!f.support.htmlSerialize&&ca.test(b)||!f.support.leadingWhitespace&&Za.test(b)||la[(Ja.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(hb,"<$1></$2>");try{for(;c<h;c++)d=this[c]||{},1===d.nodeType&&(f.cleanData(d.getElementsByTagName("*")),d.innerHTML=b);d=0}catch(m){}}d&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(a){if(!v(this[0])){if(f.isFunction(a))return this.each(function(b){var d=f(this),c=d.html();d.replaceWith(a.call(this,b,c))});"string"!==
typeof a&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,d=this.parentNode;f(this).remove();b?f(b).before(a):f(d).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(b,d,c){b=[].concat.apply([],b);var h,m,g,e=0,r=b[0],n=[],x=this.length;if(!f.support.checkClone&&1<x&&"string"===typeof r&&ib.test(r))return this.each(function(){f(this).domManip(b,d,c)});if(f.isFunction(r))return this.each(function(h){var m=
f(this);b[0]=r.call(this,h,d?m.html():a);m.domManip(b,d,c)});if(this[0]){h=f.buildFragment(b,this,n);g=h.fragment;m=g.firstChild;1===g.childNodes.length&&(g=m);if(m)for(d=d&&f.nodeName(m,"tr"),h=h.cacheable||x-1;e<x;e++)c.call(d&&f.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e],e===h?g:f.clone(g,!0,!0));g=m=null;n.length&&f.each(n,function(a,b){b.src?f.ajax?f.ajax({url:b.src,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0}):f.error("no ajax"):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Ka,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});f.buildFragment=function(b,d,c){var h,m,g,e=b[0];d=d||r;d=!d.nodeType&&d[0]||d;d=d.ownerDocument||d;1===b.length&&("string"===typeof e&&512>e.length&&d===r&&"<"===e.charAt(0)&&!(Rb.test(e)||!f.support.checkClone&&ib.test(e)||!f.support.html5Clone&&ca.test(e)))&&(m=!0,h=f.fragments[e],g=h!==a);h||(h=d.createDocumentFragment(),
f.clean(b,d,h,c),m&&(f.fragments[e]=g&&h));return{fragment:h,cacheable:m}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(d){var c,h=0,m=[];d=f(d);var g=d.length;c=1===this.length&&this[0].parentNode;if((null==c||c&&11===c.nodeType&&1===c.childNodes.length)&&1===g)return d[b](this[0]),this;for(;h<g;h++)c=(0<h?this.clone(!0):this).get(),f(d[h])[b](c),m=m.concat(c);return this.pushStack(m,
a,d.selector)}});f.extend({clone:function(a,c,h){var m,g,e,r;f.support.html5Clone||f.isXMLDoc(a)||!ca.test("<"+a.nodeName+">")?r=a.cloneNode(!0):(Va.innerHTML=a.outerHTML,Va.removeChild(r=Va.firstChild));if(!(f.support.noCloneEvent&&f.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||f.isXMLDoc(a)))for(d(a,r),m=n(a),g=n(r),e=0;m[e];++e)g[e]&&d(m[e],g[e]);if(c&&(b(a,r),h))for(m=n(a),g=n(r),e=0;m[e];++e)b(m[e],g[e]);return r},clean:function(a,b,d,c){var h,m,g,e,n,x,z=b===r&&da,k=[];b&&"undefined"!==
typeof b.createDocumentFragment||(b=r);for(h=0;null!=(g=a[h]);h++)if("number"===typeof g&&(g+=""),g){if("string"===typeof g)if(sa.test(g)){z=z||l(b);x=b.createElement("div");z.appendChild(x);g=g.replace(hb,"<$1></$2>");m=(Ja.exec(g)||["",""])[1].toLowerCase();e=la[m]||la._default;n=e[0];for(x.innerHTML=e[1]+g+e[2];n--;)x=x.lastChild;if(!f.support.tbody)for(n=Qb.test(g),e="table"!==m||n?"<table>"!==e[1]||n?[]:x.childNodes:x.firstChild&&x.firstChild.childNodes,m=e.length-1;0<=m;--m)f.nodeName(e[m],
"tbody")&&!e[m].childNodes.length&&e[m].parentNode.removeChild(e[m]);!f.support.leadingWhitespace&&Za.test(g)&&x.insertBefore(b.createTextNode(Za.exec(g)[0]),x.firstChild);g=x.childNodes;x.parentNode.removeChild(x)}else g=b.createTextNode(g);g.nodeType?k.push(g):f.merge(k,g)}x&&(g=x=z=null);if(!f.support.appendChecked)for(h=0;null!=(g=k[h]);h++)f.nodeName(g,"input")?q(g):"undefined"!==typeof g.getElementsByTagName&&f.grep(g.getElementsByTagName("input"),q);if(d)for(a=function(a){if(!a.type||Ua.test(a.type))return c?
c.push(a.parentNode?a.parentNode.removeChild(a):a):d.appendChild(a)},h=0;null!=(g=k[h]);h++)f.nodeName(g,"script")&&a(g)||(d.appendChild(g),"undefined"!==typeof g.getElementsByTagName&&(g=f.grep(f.merge([],g.getElementsByTagName("script")),a),k.splice.apply(k,[h+1,0].concat(g)),h+=g.length));return k},cleanData:function(a,b){for(var d,c,h,m,g=0,e=f.expando,r=f.cache,n=f.support.deleteExpando,x=f.event.special;null!=(h=a[g]);g++)if(b||f.acceptData(h))if(d=(c=h[e])&&r[c]){if(d.events)for(m in d.events)x[m]?
f.event.remove(h,m):f.removeEvent(h,m,d.handle);r[c]&&(delete r[c],n?delete h[e]:h.removeAttribute?h.removeAttribute(e):h[e]=null,f.deletedIds.push(c))}}});(function(){var a,b;f.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=f.uaMatch(z.userAgent);b={};
a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);f.browser=b;f.sub=function(){function a(b,d){return new a.fn.init(b,d)}f.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(d,c){c&&(c instanceof f&&!(c instanceof a))&&(c=a(c));return f.fn.init.call(this,d,c,b)};a.fn.init.prototype=a.fn;var b=a(r);return a}})();var P,Na,L,Fa=/alpha\([^)]*\)/i,Kb=/opacity=([^)]*)/,jb=/^(top|right|bottom|left)$/,
Zb=/^(none|table(?!-c[ea]).+)/,Wa=/^margin/,xa=RegExp("^("+Z+")(.*)$","i"),Xa=RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Lb=RegExp("^([-+])=("+Z+")","i"),Ra={},N={position:"absolute",visibility:"hidden",display:"block"},Ga={letterSpacing:0,fontWeight:400},Ha=["Top","Right","Bottom","Left"],na=["Webkit","O","Moz","ms"],V=f.fn.toggle;f.fn.extend({css:function(b,d){return f.access(this,function(b,d,c){return c!==a?f.style(b,d,c):f.css(b,d)},b,d,1<arguments.length)},show:function(){return D(this,!0)},hide:function(){return D(this)},
toggle:function(a,b){var d="boolean"===typeof a;return f.isFunction(a)&&f.isFunction(b)?V.apply(this,arguments):this.each(function(){(d?a:w(this))?f(this).show():f(this).hide()})}});f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=P(a,"opacity");return""===d?"1":d}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,d,c,h){if(b&&3!==b.nodeType&&8!==b.nodeType&&
b.style){var m,g,e,r=f.camelCase(d),n=b.style;d=f.cssProps[r]||(f.cssProps[r]=C(n,r));e=f.cssHooks[d]||f.cssHooks[r];if(c!==a){if(g=typeof c,"string"===g&&(m=Lb.exec(c))&&(c=(m[1]+1)*m[2]+parseFloat(f.css(b,d)),g="number"),!(null==c||"number"===g&&isNaN(c)||("number"!==g||f.cssNumber[r]||(c+="px"),e&&"set"in e&&(c=e.set(b,c,h))===a)))try{n[d]=c}catch(x){}}else return e&&"get"in e&&(m=e.get(b,!1,h))!==a?m:n[d]}},css:function(b,d,c,h){var m,g;g=f.camelCase(d);d=f.cssProps[g]||(f.cssProps[g]=C(b.style,
g));(g=f.cssHooks[d]||f.cssHooks[g])&&"get"in g&&(m=g.get(b,!0,h));m===a&&(m=P(b,d));"normal"===m&&d in Ga&&(m=Ga[d]);return c||h!==a?(b=parseFloat(m),c||f.isNumeric(b)?b||0:m):m},swap:function(a,b,d){var c,h={};for(c in b)h[c]=a.style[c],a.style[c]=b[c];d=d.call(a);for(c in b)a.style[c]=h[c];return d}});c.getComputedStyle?P=function(a,b){var d,h,m,g,e=c.getComputedStyle(a,null),r=a.style;e&&(d=e[b],""!==d||f.contains(a.ownerDocument,a)||(d=f.style(a,b)),Xa.test(d)&&Wa.test(b)&&(h=r.width,m=r.minWidth,
g=r.maxWidth,r.minWidth=r.maxWidth=r.width=d,d=e.width,r.width=h,r.minWidth=m,r.maxWidth=g));return d}:r.documentElement.currentStyle&&(P=function(a,b){var d,c,h=a.currentStyle&&a.currentStyle[b],f=a.style;null==h&&(f&&f[b])&&(h=f[b]);if(Xa.test(h)&&!jb.test(b)){d=f.left;if(c=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===b?"1em":h;h=f.pixelLeft+"px";f.left=d;c&&(a.runtimeStyle.left=c)}return""===h?"auto":h});f.each(["height","width"],function(a,b){f.cssHooks[b]=
{get:function(a,d,c){if(d)return 0===a.offsetWidth&&Zb.test(P(a,"display"))?f.swap(a,N,function(){return W(a,b,c)}):W(a,b,c)},set:function(a,d,c){return G(a,d,c?T(a,b,c,f.support.boxSizing&&"border-box"===f.css(a,"boxSizing")):0)}}});f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return Kb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var d=a.style,c=a.currentStyle,h=f.isNumeric(b)?"alpha(opacity="+100*b+")":
"",m=c&&c.filter||d.filter||"";d.zoom=1;if(1<=b&&(""===f.trim(m.replace(Fa,""))&&d.removeAttribute)&&(d.removeAttribute("filter"),c&&!c.filter))return;d.filter=Fa.test(m)?m.replace(Fa,h):m+" "+h}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){if(b)return P(a,"marginRight")})}});!f.support.pixelPosition&&f.fn.position&&f.each(["top","left"],function(a,b){f.cssHooks[b]={get:function(a,d){if(d){var c=P(a,b);
return Xa.test(c)?f(a).position()[b]+"px":c}}}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!f.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||P(a,"display"))},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(d){var c="string"===typeof d?d.split(" "):[d],h={};for(d=0;4>d;d++)h[a+Ha[d]+b]=c[d]||c[d-2]||c[0];
return h}};Wa.test(a)||(f.cssHooks[a+b].set=G)});var Qa=/%20/g,tb=/\[\]$/,kb=/\r?\n/g,Mb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,$a=/^(?:select|textarea)/i;f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||$a.test(this.nodeName)||
Mb.test(this.type))}).map(function(a,b){var d=f(this).val();return null==d?null:f.isArray(d)?f.map(d,function(a,d){return{name:b.name,value:a.replace(kb,"\r\n")}}):{name:b.name,value:d.replace(kb,"\r\n")}}).get()}});f.param=function(b,d){var c,h=[],m=function(a,b){b=f.isFunction(b)?b():null==b?"":b;h[h.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};d===a&&(d=f.ajaxSettings&&f.ajaxSettings.traditional);if(f.isArray(b)||b.jquery&&!f.isPlainObject(b))f.each(b,function(){m(this.name,this.value)});
else for(c in b)I(c,b[c],d,m);return h.join("&").replace(Qa,"+")};var U,ha,m=/#.*$/,F=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ia=/^(?:GET|HEAD)$/,O=/^\/\//,La=/\?/,Sb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ma=/([?&])_=[^&]*/,ea=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,$b=f.fn.load,Wb={},Tb={},Ub=["*/"]+["*"];try{U=Ca.href}catch(Bb){U=r.createElement("a"),U.href="",U=U.href}ha=ea.exec(U.toLowerCase())||[];f.fn.load=function(b,d,c){if("string"!==typeof b&&$b)return $b.apply(this,arguments);
if(!this.length)return this;var h,m,g,e=this,r=b.indexOf(" ");0<=r&&(h=b.slice(r,b.length),b=b.slice(0,r));f.isFunction(d)?(c=d,d=a):d&&"object"===typeof d&&(m="POST");f.ajax({url:b,type:m,dataType:"html",data:d,complete:function(a,b){c&&e.each(c,g||[a.responseText,b,a])}}).done(function(a){g=arguments;e.html(h?f("<div>").append(a.replace(Sb,"")).find(h):a)});return this};f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,
a)}});f.each(["get","post"],function(b,d){f[d]=function(b,c,h,m){f.isFunction(c)&&(m=m||h,h=c,c=a);return f.ajax({type:d,url:b,data:c,success:h,dataType:m})}});f.extend({getScript:function(b,d){return f.get(b,a,d,"script")},getJSON:function(a,b,d){return f.get(a,b,d,"json")},ajaxSetup:function(a,b){b?M(a,f.ajaxSettings):(b=a,a=f.ajaxSettings);M(a,b);return a},ajaxSettings:{url:U,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ha[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Ub},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:oa(Wb),ajaxTransport:oa(Tb),ajax:function(b,d){function c(b,d,m,e){var x,u,z,F,R=d;if(2!==A){A=2;n&&clearTimeout(n);
r=a;g=e||"";B.readyState=0<b?4:0;if(m){F=q;e=B;var t,C,ia,J,O=F.contents,Aa=F.dataTypes,l=F.responseFields;for(C in l)C in m&&(e[l[C]]=m[C]);for(;"*"===Aa[0];)Aa.shift(),t===a&&(t=F.mimeType||e.getResponseHeader("content-type"));if(t)for(C in O)if(O[C]&&O[C].test(t)){Aa.unshift(C);break}if(Aa[0]in m)ia=Aa[0];else{for(C in m){if(!Aa[0]||F.converters[C+" "+Aa[0]]){ia=C;break}J||(J=C)}ia=ia||J}ia?(ia!==Aa[0]&&Aa.unshift(ia),F=m[ia]):F=void 0}if(200<=b&&300>b||304===b)if(q.ifModified&&((m=B.getResponseHeader("Last-Modified"))&&
(f.lastModified[h]=m),(m=B.getResponseHeader("Etag"))&&(f.etag[h]=m)),304===b)R="notmodified",x=!0;else{a:{u=q;z=F;var Y,E,R=u.dataTypes.slice();t=R[0];C={};ia=0;u.dataFilter&&(z=u.dataFilter(z,u.dataType));if(R[1])for(Y in u.converters)C[Y.toLowerCase()]=u.converters[Y];for(;m=R[++ia];)if("*"!==m){if("*"!==t&&t!==m){Y=C[t+" "+m]||C["* "+m];if(!Y)for(E in C)if(x=E.split(" "),x[1]===m&&(Y=C[t+" "+x[0]]||C["* "+x[0]])){!0===Y?Y=C[E]:!0!==C[E]&&(m=x[0],R.splice(ia--,0,m));break}if(!0!==Y)if(Y&&u["throws"])z=
Y(z);else try{z=Y(z)}catch(Sa){x={state:"parsererror",error:Y?Sa:"No conversion from "+t+" to "+m};break a}}t=m}x={state:"success",data:z}}R=x.state;u=x.data;z=x.error;x=!z}else if(z=R,!R||b)R="error",0>b&&(b=0);B.status=b;B.statusText=""+(d||R);x?p.resolveWith(s,[u,R,B]):p.rejectWith(s,[B,R,z]);B.statusCode(Ca);Ca=a;k&&H.trigger("ajax"+(x?"Success":"Error"),[B,q,x?u:z]);v.fireWith(s,[B,R]);k&&(H.trigger("ajaxComplete",[B,q]),--f.active||f.event.trigger("ajaxStop"))}}"object"===typeof b&&(d=b,b=a);
d=d||{};var h,g,e,r,n,x,k,z,q=f.ajaxSetup({},d),s=q.context||q,H=s!==q&&(s.nodeType||s instanceof f)?f(s):f.event,p=f.Deferred(),v=f.Callbacks("once memory"),Ca=q.statusCode||{},R={},t={},A=0,C="canceled",B={readyState:0,setRequestHeader:function(a,b){if(!A){var d=a.toLowerCase();a=t[d]=t[d]||a;R[a]=b}return this},getAllResponseHeaders:function(){return 2===A?g:null},getResponseHeader:function(b){var d;if(2===A){if(!e)for(e={};d=F.exec(g);)e[d[1].toLowerCase()]=d[2];d=e[b.toLowerCase()]}return d===
a?null:d},overrideMimeType:function(a){A||(q.mimeType=a);return this},abort:function(a){a=a||C;r&&r.abort(a);c(0,a);return this}};p.promise(B);B.success=B.done;B.error=B.fail;B.complete=v.add;B.statusCode=function(a){if(a){var b;if(2>A)for(b in a)Ca[b]=[Ca[b],a[b]];else b=a[B.status],B.always(b)}return this};q.url=((b||q.url)+"").replace(m,"").replace(O,ha[1]+"//");q.dataTypes=f.trim(q.dataType||"*").toLowerCase().split(ua);null==q.crossDomain&&(x=ea.exec(q.url.toLowerCase()),q.crossDomain=!(!x||
x[1]==ha[1]&&x[2]==ha[2]&&(x[3]||("http:"===x[1]?80:443))==(ha[3]||("http:"===ha[1]?80:443))));q.data&&(q.processData&&"string"!==typeof q.data)&&(q.data=f.param(q.data,q.traditional));y(Wb,q,d,B);if(2===A)return B;k=q.global;q.type=q.type.toUpperCase();q.hasContent=!ia.test(q.type);k&&0===f.active++&&f.event.trigger("ajaxStart");if(!q.hasContent&&(q.data&&(q.url+=(La.test(q.url)?"&":"?")+q.data,delete q.data),h=q.url,!1===q.cache)){x=f.now();var J=q.url.replace(ma,"$1_="+x);q.url=J+(J===q.url?(La.test(q.url)?
"&":"?")+"_="+x:"")}(q.data&&q.hasContent&&!1!==q.contentType||d.contentType)&&B.setRequestHeader("Content-Type",q.contentType);q.ifModified&&(h=h||q.url,f.lastModified[h]&&B.setRequestHeader("If-Modified-Since",f.lastModified[h]),f.etag[h]&&B.setRequestHeader("If-None-Match",f.etag[h]));B.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+Ub+"; q=0.01":""):q.accepts["*"]);for(z in q.headers)B.setRequestHeader(z,q.headers[z]);if(q.beforeSend&&
(!1===q.beforeSend.call(s,B,q)||2===A))return B.abort();C="abort";for(z in{success:1,error:1,complete:1})B[z](q[z]);if(r=y(Tb,q,d,B)){B.readyState=1;k&&H.trigger("ajaxSend",[B,q]);q.async&&0<q.timeout&&(n=setTimeout(function(){B.abort("timeout")},q.timeout));try{A=1,r.send(R,c)}catch(Aa){if(2>A)c(-1,Aa);else throw Aa;}}else c(-1,"No Transport");return B},active:0,lastModified:{},etag:{}});var ta=[],ac=/\?/,Cb=/(=)\?(?=&|$)|\?\?/,Y=f.now();f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=
ta.pop()||f.expando+"_"+Y++;this[a]=!0;return a}});f.ajaxPrefilter("json jsonp",function(b,d,h){var m,g,e,r=b.data,n=b.url,x=!1!==b.jsonp,q=x&&Cb.test(n),z=x&&!q&&"string"===typeof r&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Cb.test(r);if("jsonp"===b.dataTypes[0]||q||z)return m=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,g=c[m],q?b.url=n.replace(Cb,"$1"+m):z?b.data=r.replace(Cb,"$1"+m):x&&(b.url+=(ac.test(n)?"&":"?")+b.jsonp+"="+m),b.converters["script json"]=
function(){e||f.error(m+" was not called");return e[0]},b.dataTypes[0]="json",c[m]=function(){e=arguments},h.always(function(){c[m]=g;b[m]&&(b.jsonpCallback=d.jsonpCallback,ta.push(m));e&&f.isFunction(g)&&g(e[0]);e=g=a}),"script"});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(b){b.cache===
a&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});f.ajaxTransport("script",function(b){if(b.crossDomain){var d,c=r.head||r.getElementsByTagName("head")[0]||r.documentElement;return{send:function(h,f){d=r.createElement("script");d.async="async";b.scriptCharset&&(d.charset=b.scriptCharset);d.src=b.url;d.onload=d.onreadystatechange=function(b,h){if(h||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,c&&d.parentNode&&c.removeChild(d),d=a,h||f(200,"success")};
c.insertBefore(d,c.firstChild)},abort:function(){if(d)d.onload(0,1)}}}});var x,R=c.ActiveXObject?function(){for(var a in x)x[a](0,1)}:!1,Aa=0;f.ajaxSettings.xhr=c.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&va()))a:{try{a=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:va;(function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(b){if(!b.crossDomain||f.support.cors){var d;return{send:function(h,
m){var g,e,r=b.xhr();b.username?r.open(b.type,b.url,b.async,b.username,b.password):r.open(b.type,b.url,b.async);if(b.xhrFields)for(e in b.xhrFields)r[e]=b.xhrFields[e];b.mimeType&&r.overrideMimeType&&r.overrideMimeType(b.mimeType);b.crossDomain||h["X-Requested-With"]||(h["X-Requested-With"]="XMLHttpRequest");try{for(e in h)r.setRequestHeader(e,h[e])}catch(n){}r.send(b.hasContent&&b.data||null);d=function(c,h){var e,n,q,z,k;try{if(d&&(h||4===r.readyState))if(d=a,g&&(r.onreadystatechange=f.noop,R&&
delete x[g]),h)4!==r.readyState&&r.abort();else{e=r.status;q=r.getAllResponseHeaders();z={};(k=r.responseXML)&&k.documentElement&&(z.xml=k);try{z.text=r.responseText}catch(s){}try{n=r.statusText}catch(F){n=""}e||!b.isLocal||b.crossDomain?1223===e&&(e=204):e=z.text?200:404}}catch(H){h||m(-1,H)}z&&m(e,n,z,q)};b.async?4===r.readyState?setTimeout(d,0):(g=++Aa,R&&(x||(x={},f(c).unload(R)),x[g]=d),r.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Sa,rb,ec=/^(?:toggle|show|hide)$/,fc=RegExp("^(?:([-+])=|)("+
Z+")([a-z%]*)$","i"),jc=/queueHooks$/,Ob=[function(a,b,d){var c,h,m,g,e,r,n=this,x=a.style,q={},z=[],k=a.nodeType&&w(a);d.queue||(e=f._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,r=e.empty.fire,e.empty.fire=function(){e.unqueued||r()}),e.unqueued++,n.always(function(){n.always(function(){e.unqueued--;f.queue(a,"fx").length||e.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(d.overflow=[x.overflow,x.overflowX,x.overflowY],"inline"===f.css(a,"display")&&"none"===f.css(a,"float")&&
(f.support.inlineBlockNeedsLayout&&"inline"!==s(a.nodeName)?x.zoom=1:x.display="inline-block"));d.overflow&&(x.overflow="hidden",f.support.shrinkWrapBlocks||n.done(function(){x.overflow=d.overflow[0];x.overflowX=d.overflow[1];x.overflowY=d.overflow[2]}));for(c in b)h=b[c],ec.exec(h)&&(delete b[c],h!==(k?"hide":"show")&&z.push(c));if(h=z.length)for(m=f._data(a,"fxshow")||f._data(a,"fxshow",{}),k?f(a).show():n.done(function(){f(a).hide()}),n.done(function(){var b;f.removeData(a,"fxshow",!0);for(b in q)f.style(a,
b,q[b])}),c=0;c<h;c++)b=z[c],g=n.createTween(b,k?m[b]:0),q[b]=m[b]||f.style(a,b),b in m||(m[b]=g.start,k&&(g.end=g.start,g.start="width"===b||"height"===b?1:0))}],Xb={"*":[function(a,b){var d,c,h,m=this.createTween(a,b),g=fc.exec(b),e=m.cur(),r=+e||0,n=1;if(g){d=+g[2];c=g[3]||(f.cssNumber[a]?"":"px");if("px"!==c&&r){r=f.css(m.elem,a,!0)||d||1;do h=n=n||".5",r/=n,f.style(m.elem,a,r+c),n=m.cur()/e;while(1!==n&&n!==h)}m.unit=c;m.start=r;m.end=g[1]?r+(g[1]+1)*d:d}return m}]};f.Animation=f.extend(qa,{tweener:function(a,
b){f.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var d,c=0,h=a.length;c<h;c++)d=a[c],Xb[d]=Xb[d]||[],Xb[d].unshift(b)},prefilter:function(a,b){b?Ob.unshift(a):Ob.push(a)}});f.Tween=Q;Q.prototype={constructor:Q,init:function(a,b,d,c,h,m){this.elem=a;this.prop=d;this.easing=h||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=m||(f.cssNumber[d]?"":"px")},cur:function(){var a=Q.propHooks[this.prop];return a&&a.get?a.get(this):Q.propHooks._default.get(this)},run:function(a){var b,
d=Q.propHooks[this.prop];this.pos=this.options.duration?b=f.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);d&&d.set?d.set(this):Q.propHooks._default.set(this);return this}};Q.prototype.init.prototype=Q.prototype;Q.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=f.css(a.elem,a.prop,!1,""))&&"auto"!==
a?a:0:a.elem[a.prop]},set:function(a){if(f.fx.step[a.prop])f.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[f.cssProps[a.prop]]||f.cssHooks[a.prop])?f.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};Q.propHooks.scrollTop=Q.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};f.each(["toggle","show","hide"],function(a,b){var d=f.fn[b];f.fn[b]=function(c,h,m){return null==c||"boolean"===typeof c||!a&&f.isFunction(c)&&f.isFunction(h)?
d.apply(this,arguments):this.animate(H(b,!0),c,h,m)}});f.fn.extend({fadeTo:function(a,b,d,c){return this.filter(w).css("opacity",0).show().end().animate({opacity:b},a,d,c)},animate:function(a,b,d,c){var h=f.isEmptyObject(a),m=f.speed(b,d,c);b=function(){var b=qa(this,f.extend({},a),m);h&&b.stop(!0)};return h||!1===m.queue?this.each(b):this.queue(m.queue,b)},stop:function(b,d,c){var h=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof b&&(c=d,d=b,b=a);d&&!1!==b&&this.queue(b||"fx",[]);
return this.each(function(){var a=!0,d=null!=b&&b+"queueHooks",m=f.timers,g=f._data(this);if(d)g[d]&&g[d].stop&&h(g[d]);else for(d in g)g[d]&&(g[d].stop&&jc.test(d))&&h(g[d]);for(d=m.length;d--;)m[d].elem!==this||null!=b&&m[d].queue!==b||(m[d].anim.stop(c),a=!1,m.splice(d,1));!a&&c||f.dequeue(this,b)})}});f.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,d,c){return this.animate(b,
a,d,c)}});f.speed=function(a,b,d){var c=a&&"object"===typeof a?f.extend({},a):{complete:d||!d&&b||f.isFunction(a)&&a,duration:a,easing:d&&b||b&&!f.isFunction(b)&&b};c.duration=f.fx.off?0:"number"===typeof c.duration?c.duration:c.duration in f.fx.speeds?f.fx.speeds[c.duration]:f.fx.speeds._default;if(null==c.queue||!0===c.queue)c.queue="fx";c.old=c.complete;c.complete=function(){f.isFunction(c.old)&&c.old.call(this);c.queue&&f.dequeue(this,c.queue)};return c};f.easing={linear:function(a){return a},
swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};f.timers=[];f.fx=Q.prototype.init;f.fx.tick=function(){for(var a,b=f.timers,d=0;d<b.length;d++)a=b[d],a()||b[d]!==a||b.splice(d--,1);b.length||f.fx.stop()};f.fx.timer=function(a){a()&&(f.timers.push(a)&&!rb)&&(rb=setInterval(f.fx.tick,f.fx.interval))};f.fx.interval=13;f.fx.stop=function(){clearInterval(rb);rb=null};f.fx.speeds={slow:600,fast:200,_default:400};f.fx.step={};f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,
function(b){return a===b.elem}).length});var gc=/^(?:body|html)$/i;f.fn.offset=function(b){if(arguments.length)return b===a?this:this.each(function(a){f.offset.setOffset(this,b,a)});var d,c,h,m,g,e;if(g=(d=this[0])&&d.ownerDocument){if((h=g.body)===d)return f.offset.bodyOffset(d);c=g.documentElement;if(!f.contains(c,d))return{top:0,left:0};d=d.getBoundingClientRect();m=J(g);g=c.clientTop||h.clientTop||0;h=c.clientLeft||h.clientLeft||0;e=m.pageYOffset||c.scrollTop;c=m.pageXOffset||c.scrollLeft;g=d.top+
e-g;d=d.left+c-h;return{top:g,left:d}}};f.offset={bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,d+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:d}},setOffset:function(a,b,d){var c=f.css(a,"position");"static"===c&&(a.style.position="relative");var h=f(a),m=h.offset(),g=f.css(a,"top"),e=f.css(a,"left"),r={},n={};("absolute"===c||"fixed"===c)&&-1<f.inArray("auto",[g,e])?(n=h.position(),c=n.top,e=
n.left):(c=parseFloat(g)||0,e=parseFloat(e)||0);f.isFunction(b)&&(b=b.call(a,d,m));null!=b.top&&(r.top=b.top-m.top+c);null!=b.left&&(r.left=b.left-m.left+e);"using"in b?b.using.call(a,r):h.css(r)}};f.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),d=this.offset(),c=gc.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(f.css(a,"marginTop"))||0;d.left-=parseFloat(f.css(a,"marginLeft"))||0;c.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0;c.left+=parseFloat(f.css(b[0],
"borderLeftWidth"))||0;return{top:d.top-c.top,left:d.left-c.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||r.body;a&&!gc.test(a.nodeName)&&"static"===f.css(a,"position");)a=a.offsetParent;return a||r.body})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,d){var c=/Y/.test(d);f.fn[b]=function(h){return f.access(this,function(b,h,m){var g=J(b);if(m===a)return g?d in g?g[d]:g.document.documentElement[h]:b[h];g?g.scrollTo(c?f(g).scrollLeft():
m,c?m:f(g).scrollTop()):b[h]=m},b,h,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(b,d){f.each({padding:"inner"+b,content:d,"":"outer"+b},function(c,h){f.fn[h]=function(h,m){var g=arguments.length&&(c||"boolean"!==typeof h),e=c||(!0===h||!0===m?"margin":"border");return f.access(this,function(d,c,h){return f.isWindow(d)?d.document.documentElement["client"+b]:9===d.nodeType?(c=d.documentElement,Math.max(d.body["scroll"+b],c["scroll"+b],d.body["offset"+b],c["offset"+b],c["client"+
b])):h===a?f.css(d,c,h,e):f.style(d,c,h,e)},d,g?h:a,g,null)}})});c.jQuery=c.$=f;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return f});return f}(window)})})()},{}],1:[function(l,w,y){window.onload=function(){var c=l("./app");window.app=new c(document.getElementById("app"));window.app.start(window.bootstrap)}},{"./app":2}],3:[function(l,w,y){l=w.exports={};l.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};
if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var c=[];window.addEventListener("message",function(a){a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),0<c.length&&c.shift()())},!0);return function(a){c.push(a);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}();l.title="browser";l.browser=!0;l.env={};l.argv=[];l.binding=function(c){throw Error("process.binding is not supported");};l.cwd=function(){return"/"};l.chdir=function(c){throw Error("process.chdir is not supported");
}},{}],4:[function(l,w,y){(function(c){function a(a,c){for(var p=[],t=0;t<a.length;t++)c(a[t],t,a)&&p.push(a[t]);return p}function t(a,c){for(var p=0,t=a.length;0<=t;t--){var g=a[t];"."==g?a.splice(t,1):".."===g?(a.splice(t,1),p++):p&&(a.splice(t,1),p--)}if(c)for(;p--;p)a.unshift("..");return a}var p=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;y.resolve=function(){for(var e="",k=!1,p=arguments.length;-1<=p&&!k;p--){var v=0<=p?arguments[p]:c.cwd();"string"===typeof v&&v&&(e=v+"/"+e,k="/"===v.charAt(0))}e=
t(a(e.split("/"),function(a){return!!a}),!k).join("/");return(k?"/":"")+e||"."};y.normalize=function(c){var k="/"===c.charAt(0),p="/"===c.slice(-1);(c=t(a(c.split("/"),function(a){return!!a}),!k).join("/"))||k||(c=".");c&&p&&(c+="/");return(k?"/":"")+c};y.join=function(){var c=Array.prototype.slice.call(arguments,0);return y.normalize(a(c,function(a,c){return a&&"string"===typeof a}).join("/"))};y.dirname=function(a){return(a=p.exec(a)[1]||"")?1===a.length?a:a.substring(0,a.length-1):"."};y.basename=
function(a,c){var t=p.exec(a)[2]||"";c&&t.substr(-1*c.length)===c&&(t=t.substr(0,t.length-c.length));return t};y.extname=function(a){return p.exec(a)[3]||""};y.relative=function(a,c){function p(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;0<=c&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=y.resolve(a).substr(1);c=y.resolve(c).substr(1);for(var t=p(a.split("/")),g=p(c.split("/")),B=Math.min(t.length,g.length),l=B,b=0;b<B;b++)if(t[b]!==g[b]){l=b;break}B=[];for(b=l;b<t.length;b++)B.push("..");
B=B.concat(g.slice(l));return B.join("/")}})(l("__browserify_process"))},{__browserify_process:3}],5:[function(l,w,y){(function(){function c(a,c,p){this.init(a,c,p)}c.prototype={init:function(a,c,p){this.targetFrame=a;this.targetDomain=c;this.prefix=p;this.replies={};this.nextTicket=0;this.ready=!1;this.queue=[];var e=this;window.addEventListener("message",function(a){e.receive(a)},!1)},send:function(a,c,p){var e="ticket_"+this.prefix+"_"+this.nextTicket++;a=JSON.stringify({"function":a,args:c,ticket:e});
p&&(this.replies[e]=p);this.sendInternal(a)},receive:function(a){if(a.origin.replace(/https?:\/\//,"")===this.targetDomain.replace(/\/$/,"").replace(/https?:\/\//,"")){var c;try{c=JSON.parse(a.data)}catch(p){alert("Syntax error in response from "+a.origin+": "+a.data);return}if("ready"===c.event)this.ready=!0,this.sendQueuedEvents();else if(c.ticket in this.replies){a=this.replies[c.ticket];delete this.replies[c.ticket];var e=[];"args"in c&&(e=c.args);a.apply(void 0,e)}}},sendInternal:function(a){this.ready?
this.targetFrame.contentWindow.postMessage(a,this.targetDomain):this.queue.push(a)},sendQueuedEvents:function(){for(var a=0;a<this.queue.length;a++)this.targetFrame.contentWindow.postMessage(this.queue[a],this.targetDomain);this.queue.length=0}};w.exports=c})()},{}],6:[function(l,w,y){w.exports={baseUrl:"http://www.toolkitt.com",videoExts:".mp4 .m4v .f4v .webm .ogv .flv .mov".split(" "),imageExts:[".gif",".png",".jpeg",".jpg",".bmp"],thumbnailDims:{width:340,height:192},flashMessage:null,s3prefix:"https://toolkitt.s3.amazonaws.com/",
thumberUrl:"https://toolkitt.s3.amazonaws.com/thumber.html",videoPlayerId:"media_video",imageViewerId:"media_image"}},{}],7:[function(l,w,y){w.exports=function(c){return{placeholderThumbnail:function(a){var t=c.thumbnailDims.width,p=c.thumbnailDims.height;a&&(t=Math.round(t/2),p=Math.round(p/2));return"http://holder.js/"+t+"x"+p+"/text:No Thumbnail"},isVideo:function(a){a="."+a.split(".").pop().toLowerCase();return 0<=c.videoExts.indexOf(a)},isImage:function(a){a="."+a.split(".").pop().toLowerCase();
return 0<=c.imageExts.indexOf(a)},ucfirst:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uuid:function(a){a=a||10;var c=[];for(i=0;i<a;i++)c.push("abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random())));return c.join("")},mime:function(a){return"video/quicktime"===a?"video/mp4":a}}}},{}],8:[function(l,w,y){(function(){w.exports=function(){var c=this;c.getUser().save({id:"logout",token:null},{success:function(){c.navigate("login",{trigger:!0})}})}})()},{}],9:[function(l,w,y){y=
l("jquery-browserify");l("./lib/elastislide")(y,window);l("./lib/switch")(y,window);l("./lib/sortable")(y,window);l("./lib/tags")(y,window);w.exports=y},{"./lib/elastislide":10,"./lib/sortable":12,"./lib/switch":11,"./lib/tags":13,"jquery-browserify":"Gb3VIQ"}],14:[function(l,w,y){(function(){var c=l("../views/routes/index");w.exports=function(){var a=new c({app:this});this.show(a)}})()},{"../views/routes/index":15}],16:[function(l,w,y){(function(){var c=l("../views/routes/login");w.exports=function(){var a=
new c({app:this});this.show(a)}})()},{"../views/routes/login":17}],18:[function(l,w,y){(function(){var c=l("../views/routes/review");w.exports=function(){var a=new c({app:this});this.show(a)}})()},{"../views/routes/review":19}],20:[function(l,w,y){(function(){var c=l("../../views/routes/pages/create");w.exports=function(){var a=new c({app:this});this.show(a)}})()},{"../../views/routes/pages/create":21}],22:[function(l,w,y){(function(){var c=l("../../views/routes/pages/show");w.exports=function(a){a=
new c({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/pages/show":23}],24:[function(l,w,y){(function(){var c=l("../../views/routes/pages/edit");w.exports=function(a){a=new c({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/pages/edit":25}],26:[function(l,w,y){(function(){var c=l("../../views/routes/media/add");w.exports=function(a){a=new c({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/media/add":27}],28:[function(l,w,y){(function(){var c=l("../../views/routes/media/show");
w.exports=function(a,t,p){a=new c({app:this,mediaType:t,mediaId:p,pageName:a});this.show(a)}})()},{"../../views/routes/media/show":29}],30:[function(l,w,y){(function(){var c=l("../../views/routes/media/edit");w.exports=function(a,t){var p=new c({app:this,mediaType:a,mediaId:t});this.show(p)}})()},{"../../views/routes/media/edit":31}],11:[function(l,w,y){w.exports=function(c){c.fn.bootstrapSwitch=function(a){var t={init:function(){return this.each(function(){var a=c(this),e,k,t,v,g="",B=a.attr("class"),
l;k="ON";v="OFF";e=!1;c.each(["switch-mini","switch-small","switch-large"],function(a,b){0<=B.indexOf(b)&&(g=b)});a.addClass("has-switch");void 0!==a.data("on")&&(t="switch-"+a.data("on"));void 0!==a.data("on-label")&&(k=a.data("on-label"));void 0!==a.data("off-label")&&(v=a.data("off-label"));void 0!==a.data("icon")&&(e=a.data("icon"));k=c("<span>").addClass("switch-left").addClass(g).addClass(t).html(k);t="";void 0!==a.data("off")&&(t="switch-"+a.data("off"));t=c("<span>").addClass("switch-right").addClass(g).addClass(t).html(v);
v=c("<label>").html("&nbsp;").addClass(g).attr("for",a.find("input").attr("id"));e&&v.html('<i class="'+e+'"></i>');e=a.find(":checkbox").wrap(c("<div>")).parent().data("animated",!1);!1!==a.data("animated")&&e.addClass("switch-animate").data("animated",!0);e.append(k).append(v).append(t);a.find(">div").addClass(a.find("input").is(":checked")?"switch-on":"switch-off");a.find("input").is(":disabled")&&c(this).addClass("deactivate");var b=function(a){a.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};
a.on("keydown",function(a){32===a.keyCode&&(a.stopImmediatePropagation(),a.preventDefault(),b(c(a.target).find("span:first")))});k.on("click",function(a){b(c(this))});t.on("click",function(a){b(c(this))});a.find("input").on("change",function(a){var b=c(this),g=b.parent(),e=b.is(":checked"),k=g.is(".switch-off");a.preventDefault();g.css("left","");k===e&&(e?g.removeClass("switch-off").addClass("switch-on"):g.removeClass("switch-on").addClass("switch-off"),!1!==g.data("animated")&&g.addClass("switch-animate"),
g.parent().trigger("switch-change",{el:b,value:e}))});a.find("label").on("mousedown touchstart",function(a){var b=c(this);l=!1;a.preventDefault();a.stopImmediatePropagation();b.closest("div").removeClass("switch-animate");b.closest(".has-switch").is(".deactivate")?b.unbind("click"):(b.on("mousemove touchmove",function(a){var b=c(this).closest(".switch");a=100*(((a.pageX||a.originalEvent.targetTouches[0].pageX)-b.offset().left)/b.width());l=!0;25>a?a=25:75<a&&(a=75);b.find(">div").css("left",a-75+
"%")}),b.on("click touchend",function(a){var b=c(this),d=c(a.target).siblings("input");a.stopImmediatePropagation();a.preventDefault();b.unbind("mouseleave");l?d.prop("checked",!(-25>parseInt(b.parent().css("left")))):d.prop("checked",!d.is(":checked"));l=!1;d.trigger("change")}),b.on("mouseleave",function(a){var b=c(this),d=b.siblings("input");a.preventDefault();a.stopImmediatePropagation();b.unbind("mouseleave");b.trigger("mouseup");d.prop("checked",!(-25>parseInt(b.parent().css("left")))).trigger("change")}),
b.on("mouseup",function(a){a.stopImmediatePropagation();a.preventDefault();c(this).unbind("mousemove")}))})})},toggleActivation:function(){c(this).toggleClass("deactivate")},isActive:function(){return!c(this).hasClass("deactivate")},setActive:function(a){a?c(this).removeClass("deactivate"):c(this).addClass("deactivate")},toggleState:function(a){var e=c(this).find("input:checkbox");e.prop("checked",!e.is(":checked")).trigger("change",a)},setState:function(a,e){c(this).find("input:checkbox").prop("checked",
a).trigger("change",e)},status:function(){return c(this).find("input:checkbox").is(":checked")},destroy:function(){var a=c(this).find("div");a.find(":not(input:checkbox)").remove();a=a.children();a.unwrap().unwrap();a.unbind("change");return a}};if(t[a])return t[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)c.error("Method "+a+" does not exist!");else return t.init.apply(this,arguments)}}},{}],12:[function(l,w,y){w.exports=function(c){var a,t=c();c.fn.sortable=function(p){var e=
String(p);p=c.extend({connectWith:!1},p);return this.each(function(){if(/^enable|disable|destroy$/.test(e)){var k=c(this).children(c(this).data("items")).attr("draggable","enable"==e);"destroy"==e&&k.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s")}else{var A,v,k=c(this).children(p.items),g=c("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');k.find(p.handle).mousedown(function(){A=!0}).mouseup(function(){A=
!1});c(this).data("items",p.items);t=t.add(g);p.connectWith&&c(p.connectWith).add(this).data("connectWith",p.connectWith);k.attr("draggable","true").on("dragstart.h5s",function(g){if(p.handle&&!A)return!1;A=!1;g=g.originalEvent.dataTransfer;g.effectAllowed="move";g.setData("Text","dummy");v=(a=c(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){a.removeClass("sortable-dragging").show();t.detach();v!=a.index()&&k.parent().trigger("sortupdate",{item:a});a=null}).not("a[href], img").on("selectstart.h5s",
function(){this.dragDrop&&this.dragDrop();return!1}).end().add([this,g]).on("dragover.h5s dragenter.h5s drop.h5s",function(e){if(!k.is(a)&&p.connectWith!==c(a).parent().data("connectWith"))return!0;if("drop"==e.type)return e.stopPropagation(),t.filter(":visible").after(a),!1;e.preventDefault();e.originalEvent.dataTransfer.dropEffect="move";k.is(this)?(p.forcePlaceholderSize&&g.height(a.outerHeight()),a.hide(),c(this)[g.index()<c(this).index()?"after":"before"](g),t.not(g).detach()):t.is(this)||c(this).children(p.items).length||
(t.detach(),c(this).append(g));return!1})}})}}},{}],13:[function(l,w,y){w.exports=function(c){var a=[],t=[];c.fn.doAutosize=function(a){var e=c(this).data("minwidth"),k=c(this).data("maxwidth"),t="",v=c(this),g=c("#"+c(this).data("tester_id"));t!==(t=v.val())&&(t=t.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),g.html(t),g=g.width(),a=g+a.comfortZone>=e?g+a.comfortZone:e,g=v.width(),(a<g&&a>=e||a>e&&a<k)&&v.width(a))};c.fn.resetAutosize=function(a){var e=c(this).data("minwidth")||
a.minInputWidth||c(this).width();a=c(this).data("maxwidth")||a.maxInputWidth||c(this).closest(".tagsinput").width()-a.inputPadding;var k=c(this),t=c("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:k.css("fontSize"),fontFamily:k.css("fontFamily"),fontWeight:k.css("fontWeight"),letterSpacing:k.css("letterSpacing"),whiteSpace:"nowrap"}),v=c(this).attr("id")+"_autosize_tester";0<!c("#"+v).length&&(t.attr("id",v),t.appendTo("body"));k.data("minwidth",e);k.data("maxwidth",
a);k.data("tester_id",v);k.css("width",e)};c.fn.addTag=function(p,e){e=jQuery.extend({focus:!1,callback:!0},e);this.each(function(){var k=c(this).attr("id"),A=c(this).val().split(a[k]);""==A[0]&&(A=[]);p=jQuery.trim(p);if(e.unique){var v=c(this).tagExist(p);!0==v&&c("#"+k+"_tag").addClass("not_valid")}else v=!1;if(""!=p&&!0!=v&&(c("<span>").addClass("tag").append(c("<span>").text(p).append("&nbsp;&nbsp;"),c('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return c("#"+
k).removeTag(escape(p))})).insertBefore("#"+k+"_addTag"),A.push(p),c("#"+k+"_tag").val(""),e.focus?c("#"+k+"_tag").focus():c("#"+k+"_tag").blur(),c.fn.tagsInput.updateTagsField(this,A),e.callback&&(t[k]&&t[k].onAddTag)&&(v=t[k].onAddTag,v.call(this,p)),t[k]&&t[k].onChange)){var g=A.length,v=t[k].onChange;v.call(this,c(this),A[g-1])}});return!1};c.fn.removeTag=function(p){p=unescape(p);this.each(function(){var e=c(this).attr("id"),k=c(this).val().split(a[e]);c("#"+e+"_tagsinput .tag").remove();str=
"";for(i=0;i<k.length;i++)k[i]!=p&&(str=str+a[e]+k[i]);c.fn.tagsInput.importTags(this,str);t[e]&&t[e].onRemoveTag&&t[e].onRemoveTag.call(this,p)});return!1};c.fn.tagExist=function(t){var e=c(this).attr("id"),e=c(this).val().split(a[e]);return 0<=jQuery.inArray(t,e)};c.fn.importTags=function(a){id=c(this).attr("id");c("#"+id+"_tagsinput .tag").remove();c.fn.tagsInput.importTags(this,a)};c.fn.tagsInput=function(p){var e=jQuery.extend({interactive:!0,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:!1},
hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},p);this.each(function(){e.hide&&c(this).hide();var k=c(this).attr("id");if(!k||a[c(this).attr("id")])k=c(this).attr("id","tags"+(new Date).getTime()).attr("id");var p=jQuery.extend({pid:k,real_input:"#"+k,holder:"#"+k+"_tagsinput",input_wrapper:"#"+k+"_addTag",fake_input:"#"+k+"_tag"},e);a[k]=p.delimiter;if(e.onAddTag||e.onRemoveTag||e.onChange)t[k]=[],t[k].onAddTag=e.onAddTag,
t[k].onRemoveTag=e.onRemoveTag,t[k].onChange=e.onChange;var v=c("#"+k).attr("class").replace("tagsinput",""),v='<div id="'+k+'_tagsinput" class="tagsinput '+v+'"><div class="tagsinput-add-container" id="'+k+'_addTag"><div class="tagsinput-add"></div>';e.interactive&&(v=v+'<input id="'+k+'_tag" value="" data-default="'+e.defaultText+'" />');c(v+"</div></div>").insertAfter(this);c(p.holder).css("width",e.width);c(p.holder).css("min-height",e.height);c(p.holder).css("height","100%");""!=c(p.real_input).val()&&
c.fn.tagsInput.importTags(c(p.real_input),c(p.real_input).val());if(e.interactive){c(p.fake_input).val(c(p.fake_input).attr("data-default"));c(p.fake_input).css("color",e.placeholderColor);c(p.fake_input).resetAutosize(e);c(p.holder).bind("click",p,function(a){c(a.data.fake_input).focus()});c(p.fake_input).bind("focus",p,function(a){c(a.data.fake_input).val()==c(a.data.fake_input).attr("data-default")&&c(a.data.fake_input).val("");c(a.data.fake_input).css("color","#000000")});if(void 0!=e.autocomplete_url){autocomplete_options=
{source:e.autocomplete_url};for(attrname in e.autocomplete)autocomplete_options[attrname]=e.autocomplete[attrname];void 0!==jQuery.Autocompleter?(c(p.fake_input).autocomplete(e.autocomplete_url,e.autocomplete),c(p.fake_input).bind("result",p,function(a,t,p){t&&c("#"+k).addTag(t[0]+"",{focus:!0,unique:e.unique})})):void 0!==jQuery.ui.autocomplete&&(c(p.fake_input).autocomplete(autocomplete_options),c(p.fake_input).bind("autocompleteselect",p,function(a,k){c(a.data.real_input).addTag(k.item.value,{focus:!0,
unique:e.unique});return!1}))}else c(p.fake_input).bind("blur",p,function(a){var k=c(this).attr("data-default");""!=c(a.data.fake_input).val()&&c(a.data.fake_input).val()!=k?a.data.minChars<=c(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=c(a.data.fake_input).val().length)&&c(a.data.real_input).addTag(c(a.data.fake_input).val(),{focus:!0,unique:e.unique}):(c(a.data.fake_input).val(c(a.data.fake_input).attr("data-default")),c(a.data.fake_input).css("color",e.placeholderColor));
return!1});c(p.fake_input).bind("keypress",p,function(a){if(a.which==a.data.delimiter.charCodeAt(0)||13==a.which)return a.preventDefault(),a.data.minChars<=c(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=c(a.data.fake_input).val().length)&&c(a.data.real_input).addTag(c(a.data.fake_input).val(),{focus:!0,unique:e.unique}),c(a.data.fake_input).resetAutosize(e),!1;a.data.autosize&&c(a.data.fake_input).doAutosize(e)});p.removeWithBackspace&&c(p.fake_input).bind("keydown",function(a){if(8==
a.keyCode&&""==c(this).val()){a.preventDefault();a=c(this).closest(".tagsinput").find(".tag:last").text();var e=c(this).attr("id").replace(/_tag$/,"");a=a.replace(/[\s\u00a0]+x$/,"");c("#"+e).removeTag(escape(a));c(this).trigger("focus")}});c(p.fake_input).blur();p.unique&&c(p.fake_input).keydown(function(a){(8==a.keyCode||String.fromCharCode(a.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,/]+/))&&c(this).removeClass("not_valid")})}});return this};c.fn.tagsInput.updateTagsField=
function(t,e){var k=c(t).attr("id");c(t).val(e.join(a[k]))};c.fn.tagsInput.importTags=function(p,e){c(p).val("");var k=c(p).attr("id"),l=e.split(a[k]);for(i=0;i<l.length;i++)c(p).addTag(l[i],{focus:!1,callback:!1});t[k]&&t[k].onChange&&t[k].onChange.call(p,p,l[i])}}},{}],2:[function(l,w,y){(function(){var c=l("lodash"),a=l("./helpers/JqueryLoader");l("path");var t=l("./helpers/BackboneLoader.js"),p=l("./helpers/lib/messenger.js"),e=l("./helpers/db"),k={"":l("./routes/index"),login:l("./routes/login"),
logout:l("./routes/logout"),createPage:l("./routes/pages/create"),"page/:name":l("./routes/pages/show"),"page/:name/edit":l("./routes/pages/edit"),"page/:name/addMedia":l("./routes/media/add"),review:l("./routes/review"),"page/:name/:type/:id":l("./routes/media/show"),"media/:type/:id/edit":l("./routes/media/edit")},A=t.Router.extend({initialize:function(t,g){c.each(k,function(a,g){this.route(g,c.bind(a,this))},this);this.el=t=t||document.body;this.$el=a(t);this.db=new e(this);this.config=c.clone(l("./config/config.js"));
this.util=l("./helpers/util.js")(this.config);this.messenger=new p(null,this.config.s3prefix,"thumbnailer");return this},start:function(a){this.bootstrap=a||{};t.history.start();return this},handleAppLink:function(a){a.preventDefault();a.stopPropagation();for(a=a.target;null==a.pathname;)a=a.parentElement;this.navigate(a.pathname,{trigger:!0});return this},isLoggedIn:function(){return this.getUser().attributes&&this.getUser().attributes.token},show:function(a){this.currentView&&(this.currentView.close(),
this.currentView=null);this.currentView=a;a.render();this.$el.append(a.$el);return this},flash:null,setFlash:function(a,c){a||(a="info");this.flash={message:c,type:a};this.trigger("flash");this.listenToOnce(this,"route",function(a,c,b){this.clearFlash()});return this},clearFlash:function(){this.flash=null;this.trigger("flash");return this},error:function(a,c){c||(c=a);var e=c,k="";null==e&&(e="Unknown (Null) Error");if("object"===typeof e){k=[];if(e instanceof Array)for(var b=0,d=e.length;b<d;b++)k.push(this.util.ucfirst(e[b].attr)+
": "+this.util.ucfirst(e[b].message));else if(e.toString)k=[e.toString()];else for(b in e)k.push(this.util.ucfirst(b)+": "+this.util.ucfirst(e[b]));k=k.join(",")}else k+=e;this.setFlash("error",k)},getUser:function(){return this.db.fetchModel("user")},getCustomization:function(){return this.isLoggedIn()?this.db.createModel("customization").set(this.getUser().attributes.customization):!1},getUserVars:function(){var a=this.getCustomization();return a?a.attributes.config:this.bootstrap.userVars}});w.exports=
A})()},{"./config/config.js":6,"./helpers/BackboneLoader.js":32,"./helpers/JqueryLoader":9,"./helpers/db":33,"./helpers/lib/messenger.js":5,"./helpers/util.js":7,"./routes/index":14,"./routes/login":16,"./routes/logout":8,"./routes/media/add":26,"./routes/media/edit":30,"./routes/media/show":28,"./routes/pages/create":20,"./routes/pages/edit":24,"./routes/pages/show":22,"./routes/review":18,lodash:34,path:4}],34:[function(l,w,y){(function(c){(function(a){function t(a,b,d){d=(d||0)-1;for(var c=a.length;++d<
c;)if(a[d]===b)return d;return-1}function p(a,b){var d=typeof b;a=a.cache;if("boolean"==d||null==b)return a[b];"number"!=d&&"string"!=d&&(d="object");var c="number"==d?b:W+b;a=a[d]||(a[d]={});return"object"==d?a[c]&&-1<t(a[c],b)?0:-1:a[c]?0:-1}function e(a){var b=this.cache,d=typeof a;if("boolean"==d||null==a)b[a]=!0;else{"number"!=d&&"string"!=d&&(d="object");var c="number"==d?a:W+a,h=b[d]||(b[d]={});"object"==d?(h[c]||(h[c]=[])).push(a)==this.array.length&&(b[d]=!1):h[c]=!0}}function k(a){return a.charCodeAt(0)}
function l(a,b){var d=a.index,c=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return d<c?-1:1}function v(a){var b=-1,c=a.length,h=E();h["false"]=h["null"]=h["true"]=h.undefined=!1;var f=E();f.array=a;f.cache=h;for(f.push=e;++b<c;)f.push(a[b]);return!1===h.object?(d(f),null):f}function g(a){return"\\"+ob[a]}function B(){return K.pop()||[]}function E(){return D.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,
leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function b(a){a.length=0;K.length<I&&K.push(a)}function d(a){var b=a.cache;b&&d(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;D.length<I&&D.push(a)}function n(a,b,d){b||(b=0);"undefined"==typeof d&&(d=a?a.length:0);var c=-1;d=d-b||0;for(var h=Array(0>d?0:d);++c<d;)h[c]=a[b+c];return h}function q(c){function e(a){return a&&"object"==typeof a&&!ma(a)&&N.call(a,
"__wrapped__")?a:new D(a)}function D(a){this.__wrapped__=a}function I(a,b,d,c){function h(){var c=arguments,r=m?this:b;f||(a=b[e]);d.length&&(c=c.length?(c=O.call(c),g?c.concat(d):d.concat(c)):d);return this instanceof h?(r=za(a.prototype)?tb(a.prototype):{},c=a.apply(r,c),za(c)?c:r):a.apply(r,c)}var f=Ea(a),m=!d,e=b;if(m){var g=c;d=b}else if(!f){if(!c)throw new Na;b=a}return h}function w(a){return $b[a]}function K(a,b,d){var c=(c=e.indexOf)===qb?t:c;return c}function y(a){return function(b,d,c,h){"boolean"!=
typeof d&&null!=d&&(c=(h=c)&&h[d]===b?C:d,d=!1);null!=c&&(c=e.createCallback(c,h));return a(b,d,c,h)}}function ua(a){var b,d;if(!a||V.call(a)!=Ta||(b=a.constructor,Ea(b)&&!(b instanceof b)))return!1;Bb(a,function(a,b){d=b});return d===C||N.call(a,d)}function Oa(a){return Wb[a]}function ob(a,d,c,h,m,g){var r=a;"boolean"!=typeof d&&null!=d&&(h=c,c=d,d=!1);if("function"==typeof c){c="undefined"==typeof h?c:e.createCallback(c,h,1);r=c(r);if("undefined"!=typeof r)return r;r=a}if(h=za(r)){var z=V.call(r);
if(!f[z])return r;var q=ma(r)}if(!h||!d)return h?q?n(r):Tb({},r):r;h=La[z];switch(z){case nb:case ya:return new h(+r);case bb:case Ma:return new h(r);case Ia:return h(r.source,X.exec(r))}z=!m;m||(m=B());g||(g=B());for(var k=m.length;k--;)if(m[k]==a)return g[k];r=q?h(r.length):{};q&&(N.call(a,"index")&&(r.index=a.index),N.call(a,"input")&&(r.input=a.input));m.push(a);g.push(r);(q?aa:ta)(a,function(a,b){r[b]=ob(a,d,c,C,m,g)});z&&(b(m),b(g));return r}function ba(a){var b=[];Bb(a,function(a,d){Ea(a)&&
b.push(d)});return b.sort()}function sb(a){for(var b=-1,d=ea(a),c=d.length,h={};++b<c;){var f=d[b];h[a[f]]=f}return h}function ra(a,d,c,h,f,m){var g=c===T;if("function"==typeof c&&!g){c=e.createCallback(c,h,2);var r=c(a,d);if("undefined"!=typeof r)return!!r}if(a===d)return 0!==a||1/a==1/d;var n=typeof a,q=typeof d;if(a===a&&(!a||"function"!=n&&"object"!=n)&&(!d||"function"!=q&&"object"!=q))return!1;if(null==a||null==d)return a===d;q=V.call(a);n=V.call(d);q==z&&(q=Ta);n==z&&(n=Ta);if(q!=n)return!1;
switch(q){case nb:case ya:return+a==+d;case bb:return a!=+a?d!=+d:0==a?1/a==1/d:a==+d;case Ia:case Ma:return a==P(d)}n=q==ub;if(!n){if(N.call(a,"__wrapped__ ")||N.call(d,"__wrapped__"))return ra(a.__wrapped__||a,d.__wrapped__||d,c,h,f,m);if(q!=Ta)return!1;var q=a.constructor,k=d.constructor;if(q!=k&&!(Ea(q)&&q instanceof q&&Ea(k)&&k instanceof k))return!1}k=!f;f||(f=B());m||(m=B());for(q=f.length;q--;)if(f[q]==a)return m[q]==d;var s=0,r=!0;f.push(a);m.push(d);if(n){q=a.length;s=d.length;r=s==a.length;
if(!r&&!g)return r;for(;s--;)if(n=q,k=d[s],g)for(;n--&&!(r=ra(a[n],k,c,h,f,m)););else if(!(r=ra(a[s],k,c,h,f,m)))break;return r}Bb(d,function(b,d,e){if(N.call(e,d))return s++,r=N.call(a,d)&&ra(a[d],b,c,h,f,m)});r&&!g&&Bb(a,function(a,b,d){if(N.call(d,b))return r=-1<--s});k&&(b(f),b(m));return r}function Ea(a){return"function"==typeof a}function za(a){return!(!a||!Z[typeof a])}function vb(a){return"number"==typeof a||V.call(a)==bb}function eb(a){return"string"==typeof a||V.call(a)==Ma}function Gb(a,
d,c){var h=arguments,f=0,m=2;if(!za(a))return a;if(c===T)var g=h[3],r=h[4],n=h[5];else{var q=!0,r=B(),n=B();"number"!=typeof c&&(m=h.length);3<m&&"function"==typeof h[m-2]?g=e.createCallback(h[--m-1],h[m--],2):2<m&&"function"==typeof h[m-1]&&(g=h[--m])}for(;++f<m;)(ma(h[f])?aa:ta)(h[f],function(b,d){var c,h,f=b,m=a[d];if(b&&((h=ma(b))||ac(b))){for(f=r.length;f--;)if(c=r[f]==b){m=n[f];break}if(!c){var e;g&&(f=g(m,b),e="undefined"!=typeof f)&&(m=f);e||(m=h?ma(m)?m:[]:ac(m)?m:{});r.push(b);n.push(m);
e||(m=Gb(m,b,T,g,r,n))}}else g&&(f=g(m,b),"undefined"==typeof f&&(f=b)),"undefined"!=typeof f&&(m=f);a[d]=m});q&&(b(r),b(n));return a}function pb(a){for(var b=-1,d=ea(a),c=d.length,h=ca(c);++b<c;)h[b]=a[d[b]];return h}function Hb(a,b,d){var c=-1,h=K(),m=a?a.length:0,f=!1;d=(0>d?ha(0,m+d):d)||0;m&&"number"==typeof m?f=-1<(eb(a)?a.indexOf(b,d):h(a,b,d)):ta(a,function(a){if(++c>=d)return!(f=a===b)});return f}function Pa(a,b,d){var c=!0;b=e.createCallback(b,d);d=-1;var h=a?a.length:0;if("number"==typeof h)for(;++d<
h&&(c=!!b(a[d],d,a)););else ta(a,function(a,d,h){return c=!!b(a,d,h)});return c}function Ya(a,b,d){var c=[];b=e.createCallback(b,d);d=-1;var h=a?a.length:0;if("number"==typeof h)for(;++d<h;){var m=a[d];b(m,d,a)&&c.push(m)}else ta(a,function(a,d,h){b(a,d,h)&&c.push(a)});return c}function fb(a,b,d){b=e.createCallback(b,d);d=-1;var c=a?a.length:0;if("number"==typeof c)for(;++d<c;){var h=a[d];if(b(h,d,a))return h}else{var m;ta(a,function(a,d,c){if(b(a,d,c))return m=a,!1});return m}}function aa(a,b,d){var c=
-1,h=a?a.length:0;b=b&&"undefined"==typeof d?b:e.createCallback(b,d);if("number"==typeof h)for(;++c<h&&!1!==b(a[c],c,a););else ta(a,b);return a}function wb(a,b,d){var c=-1,h=a?a.length:0;b=e.createCallback(b,d);if("number"==typeof h)for(var m=ca(h);++c<h;)m[c]=b(a[c],c,a);else m=[],ta(a,function(a,d,h){m[++c]=b(a,d,h)});return m}function xb(a,b,d){var c=-Infinity,h=c;if(!b&&ma(a)){d=-1;for(var m=a.length;++d<m;){var f=a[d];f>h&&(h=f)}}else b=!b&&eb(a)?k:e.createCallback(b,d),aa(a,function(a,d,m){d=
b(a,d,m);d>c&&(c=d,h=a)});return h}function yb(a,b){var d=-1,c=a?a.length:0;if("number"==typeof c)for(var h=ca(c);++d<c;)h[d]=a[d][b];return h||wb(a,b)}function gb(a,b,d,c){if(!a)return d;var h=3>arguments.length;b=e.createCallback(b,c,4);var m=-1,f=a.length;if("number"==typeof f)for(h&&(d=a[++m]);++m<f;)d=b(d,a[m],m,a);else ta(a,function(a,c,m){d=h?(h=!1,a):b(d,a,c,m)});return d}function zb(a,b,d,c){var h=a?a.length:0,m=3>arguments.length;if("number"!=typeof h)var f=ea(a),h=f.length;b=e.createCallback(b,
c,4);aa(a,function(c,e,g){e=f?f[--h]:--h;d=m?(m=!1,a[e]):b(d,a[e],e,g)});return d}function Ib(a,b,d){var c;b=e.createCallback(b,d);d=-1;var h=a?a.length:0;if("number"==typeof h)for(;++d<h&&!(c=b(a[d],d,a)););else ta(a,function(a,d,h){return!(c=b(a,d,h))});return!!c}function ga(a){var b=-1,c=K(),h=a?a.length:0,m=xa.apply(L,O.call(arguments,1)),f=[],e=h>=s&&c===t;if(e){var g=v(m);g?(c=p,m=g):e=!1}for(;++b<h;)g=a[b],0>c(m,g)&&f.push(g);e&&d(m);return f}function lb(a,b,d){if(a){var c=0,h=a.length;if("number"!=
typeof b&&null!=b){var f=-1;for(b=e.createCallback(b,d);++f<h&&b(a[f],f,a);)c++}else if(c=b,null==c||d)return a[0];return n(a,0,m(ha(0,c),h))}}function qb(a,b,d){if("number"==typeof d){var c=a?a.length:0;d=0>d?ha(0,c+d):d||0}else if(d)return d=Ba(a,b),a[d]===b?d:-1;return a?t(a,b,d):-1}function Jb(a,b,d){if("number"!=typeof b&&null!=b){var c=0,h=-1,m=a?a.length:0;for(b=e.createCallback(b,d);++h<m&&b(a[h],h,a);)c++}else c=null==b||d?1:ha(0,b);return n(a,c)}function Ba(a,b,d,c){var h=0,m=a?a.length:
h;d=d?e.createCallback(d,c,1):sa;for(b=d(b);h<m;)c=h+m>>>1,d(a[c])<b?h=c+1:m=c;return h}function Pb(a){for(var b=-1,d=a?xb(yb(a,"length")):0,c=ca(0>d?0:d);++b<d;)c[b]=yb(a,b);return c}function Za(a,b){for(var d=-1,c=a?a.length:0,h={};++d<c;){var m=a[d];b?h[m]=b[d]:h[m[0]]=m[1]}return h}function hb(a,b){return Sb.fastBind||Qa&&2<arguments.length?Qa.call.apply(Qa,arguments):I(a,b,O.call(arguments,2))}function Ja(a,b,d){function c(){Wa(z);Wa(k);r=0;z=k=null}function h(){var b=s&&(!t||1<r);c();b&&(!1!==
q&&(n=new ib),e=a.apply(g,f))}function m(){c();if(s||q!==b)n=new ib,e=a.apply(g,f)}var f,e,g,r=0,n=0,q=!1,z=null,k=null,s=!0;b=ha(0,b||0);if(!0===d)var t=!0,s=!1;else za(d)&&(t=d.leading,q="maxWait"in d&&ha(b,d.maxWait||0),s="trailing"in d?d.trailing:s);return function(){f=arguments;g=this;r++;Wa(k);if(!1===q)t&&2>r&&(e=a.apply(g,f));else{var d=new ib;z||t||(n=d);var c=q-(d-n);0>=c?(Wa(z),z=null,n=d,e=a.apply(g,f)):z||(z=na(m,c))}b!==q&&(k=na(h,b));return e}}function Qb(a){var b=O.call(arguments,
1);return na(function(){a.apply(C,b)},1)}function sa(a){return a}function Ab(a){aa(ba(a),function(b){var d=e[b]=a[b];e.prototype[b]=function(){var a=this.__wrapped__,b=[a];Ga.apply(b,arguments);b=d.apply(e,b);return a&&"object"==typeof a&&a===b?this:new D(b)}})}function Rb(){return this.__wrapped__}c=c?wa.defaults(a.Object(),c,wa.pick(a,r)):a;var ca=c.Array,ab=c.Boolean,ib=c.Date,Ua=c.Function,Ka=c.Math,la=c.Number,da=c.Object,Va=c.RegExp,P=c.String,Na=c.TypeError,L=[],Fa=da.prototype,Kb=c._,jb=Va("^"+
P(Fa.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Zb=Ka.ceil,Wa=c.clearTimeout,xa=L.concat,Xa=Ka.floor,Lb=Ua.prototype.toString,Ra=jb.test(Ra=da.getPrototypeOf)&&Ra,N=Fa.hasOwnProperty,Ga=L.push,Ha=c.setImmediate,na=c.setTimeout,V=Fa.toString,Qa=jb.test(Qa=V.bind)&&Qa,tb=jb.test(tb=da.create)&&tb,kb=jb.test(kb=ca.isArray)&&kb,Mb=c.isFinite,$a=c.isNaN,U=jb.test(U=da.keys)&&U,ha=Ka.max,m=Ka.min,F=c.parseInt,ia=Ka.random,O=L.slice,Ka=jb.test(c.attachEvent),
Ka=Qa&&!/\n|true/.test(Qa+Ka),La={};La[ub]=ca;La[nb]=ab;La[ya]=ib;La[Da]=Ua;La[Ta]=da;La[bb]=la;La[Ia]=Va;La[Ma]=P;D.prototype=e.prototype;var Sb=e.support={};Sb.fastBind=Qa&&!Ka;e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:qa,variable:"",imports:{_:e}};var ma=kb,ab=function(a){var b,d=[];if(!a||!Z[typeof a])return d;for(b in a)N.call(a,b)&&d.push(b);return d},ea=U?function(a){return za(a)?U(a):[]}:ab,$b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},
Wb=sb($b),Tb=function(a,b,d){var c,h=a,m=h;if(!h)return m;var f=arguments,g=0,r="number"==typeof d?2:f.length;if(3<r&&"function"==typeof f[r-2])var n=e.createCallback(f[--r-1],f[r--],2);else 2<r&&"function"==typeof f[r-1]&&(n=f[--r]);for(;++g<r;)if((h=f[g])&&Z[typeof h])for(var q=-1,z=Z[typeof h]&&ea(h),k=z?z.length:0;++q<k;)c=z[q],m[c]=n?n(m[c],h[c]):h[c];return m},Ub=function(a,b,d){var c,h=a,m=h;if(!h)return m;for(var f=arguments,e=0,g="number"==typeof d?2:f.length;++e<g;)if((h=f[e])&&Z[typeof h])for(var r=
-1,n=Z[typeof h]&&ea(h),q=n?n.length:0;++r<q;)c=n[r],"undefined"==typeof m[c]&&(m[c]=h[c]);return m},Bb=function(a,b,d){var c;if(!a||!Z[typeof a])return a;b=b&&"undefined"==typeof d?b:e.createCallback(b,d);for(c in a)if(!1===b(a[c],c,a))break;return a},ta=function(a,b,d){if(!a||!Z[typeof a])return a;b=b&&"undefined"==typeof d?b:e.createCallback(b,d);for(var c=-1,h=Z[typeof a]&&ea(a),m=h?h.length:0;++c<m&&(d=h[c],!1!==b(a[d],d,a)););return a},ac=function(a){if(!a||V.call(a)!=Ta)return!1;var b=a.valueOf,
d="function"==typeof b&&(d=Ra(b))&&Ra(d);return d?a==d||Ra(a)==d:ua(a)},ab=y(function x(a,b,d){for(var c=-1,h=a?a.length:0,m=[];++c<h;){var f=a[c];d&&(f=d(f,c,a));ma(f)?Ga.apply(m,b?f:x(f)):m.push(f)}return m}),Cb=y(function(a,c,h){var m=-1,f=K(),e=a?a.length:0,g=[],r=!c&&e>=s&&f===t,n=h||r?B():g;if(r){var q=v(n);q?(f=p,n=q):(r=!1,n=h?n:(b(n),g))}for(;++m<e;){var q=a[m],z=h?h(q,m,a):q;if(c?!m||n[n.length-1]!==z:0>f(n,z))(h||r)&&n.push(z),g.push(q)}r?(b(n.array),d(n)):h&&b(n);return g});Ka&&(cb&&"function"==
typeof Ha)&&(Qb=hb(Ha,c));Ha=8==F(Q+"08")?F:function(a,b){return F(eb(a)?a.replace(H,""):a,b||0)};e.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};e.assign=Tb;e.at=function(a){for(var b=-1,d=xa.apply(L,O.call(arguments,1)),c=d.length,h=ca(c);++b<c;)h[b]=a[d[b]];return h};e.bind=hb;e.bindAll=function(a){for(var b=1<arguments.length?xa.apply(L,O.call(arguments,1)):ba(a),d=-1,c=b.length;++d<c;){var h=b[d];a[h]=hb(a[h],a)}return a};e.bindKey=function(a,b){return I(a,
b,O.call(arguments,2),T)};e.compact=function(a){for(var b=-1,d=a?a.length:0,c=[];++b<d;){var h=a[b];h&&c.push(h)}return c};e.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length;d--;)b=[a[d].apply(this,b)];return b[0]}};e.countBy=function(a,b,d){var c={};b=e.createCallback(b,d);aa(a,function(a,d,h){d=P(b(a,d,h));N.call(c,d)?c[d]++:c[d]=1});return c};e.createCallback=function(a,b,d){if(null==a)return sa;var c=typeof a;if("function"!=c){if("object"!=c)return function(b){return b[a]};
var h=ea(a);return function(b){for(var d=h.length,c=!1;d--&&(c=ra(b[h[d]],a[h[d]],T)););return c}}return"undefined"==typeof b||ja&&!ja.test(Lb.call(a))?a:1===d?function(d){return a.call(b,d)}:2===d?function(d,c){return a.call(b,d,c)}:4===d?function(d,c,h,m){return a.call(b,d,c,h,m)}:function(d,c,h){return a.call(b,d,c,h)}};e.debounce=Ja;e.defaults=Ub;e.defer=Qb;e.delay=function(a,b){var d=O.call(arguments,2);return na(function(){a.apply(C,d)},b)};e.difference=ga;e.filter=Ya;e.flatten=ab;e.forEach=
aa;e.forIn=Bb;e.forOwn=ta;e.functions=ba;e.groupBy=function(a,b,d){var c={};b=e.createCallback(b,d);aa(a,function(a,d,h){d=P(b(a,d,h));(N.call(c,d)?c[d]:c[d]=[]).push(a)});return c};e.initial=function(a,b,d){if(!a)return[];var c=0,h=a.length;if("number"!=typeof b&&null!=b){var f=h;for(b=e.createCallback(b,d);f--&&b(a[f],f,a);)c++}else c=null==b||d?1:b||c;return n(a,0,m(ha(0,h-c),h))};e.intersection=function(a){for(var c=arguments,h=c.length,m=-1,f=B(),e=-1,g=K(),r=a?a.length:0,n=[],q=B();++m<h;){var z=
c[m];f[m]=g===t&&(z?z.length:0)>=s&&v(m?c[m]:q)}a:for(;++e<r;){var k=f[0],z=a[e];if(0>(k?p(k,z):g(q,z))){m=h;for((k||q).push(z);--m;)if(k=f[m],0>(k?p(k,z):g(c[m],z)))continue a;n.push(z)}}for(;h--;)(k=f[h])&&d(k);b(f);b(q);return n};e.invert=sb;e.invoke=function(a,b){var d=O.call(arguments,2),c=-1,h="function"==typeof b,m=a?a.length:0,f=ca("number"==typeof m?m:0);aa(a,function(a){f[++c]=(h?b:a[b]).apply(a,d)});return f};e.keys=ea;e.map=wb;e.max=xb;e.memoize=function(a,b){function d(){var c=d.cache,
h=W+(b?b.apply(this,arguments):arguments[0]);return N.call(c,h)?c[h]:c[h]=a.apply(this,arguments)}d.cache={};return d};e.merge=Gb;e.min=function(a,b,d){var c=Infinity,h=c;if(!b&&ma(a)){d=-1;for(var m=a.length;++d<m;){var f=a[d];f<h&&(h=f)}}else b=!b&&eb(a)?k:e.createCallback(b,d),aa(a,function(a,d,m){d=b(a,d,m);d<c&&(c=d,h=a)});return h};e.omit=function(a,b,d){var c=K(),h="function"==typeof b,m={};if(h)b=e.createCallback(b,d);else var f=xa.apply(L,O.call(arguments,1));Bb(a,function(a,d,e){if(h?!b(a,
d,e):0>c(f,d))m[d]=a});return m};e.once=function(a){var b,d;return function(){if(b)return d;b=!0;d=a.apply(this,arguments);a=null;return d}};e.pairs=function(a){for(var b=-1,d=ea(a),c=d.length,h=ca(c);++b<c;){var m=d[b];h[b]=[m,a[m]]}return h};e.partial=function(a){return I(a,O.call(arguments,1))};e.partialRight=function(a){return I(a,O.call(arguments,1),null,T)};e.pick=function(a,b,d){var c={};if("function"!=typeof b)for(var h=-1,m=xa.apply(L,O.call(arguments,1)),f=za(a)?m.length:0;++h<f;){var g=
m[h];g in a&&(c[g]=a[g])}else b=e.createCallback(b,d),Bb(a,function(a,d,h){b(a,d,h)&&(c[d]=a)});return c};e.pluck=yb;e.range=function(a,b,d){a=+a||0;d=+d||1;null==b&&(b=a,a=0);var c=-1;b=ha(0,Zb((b-a)/d));for(var h=ca(b);++c<b;)h[c]=a,a+=d;return h};e.reject=function(a,b,d){b=e.createCallback(b,d);return Ya(a,function(a,d,c){return!b(a,d,c)})};e.rest=Jb;e.shuffle=function(a){var b=-1,d=a?a.length:0,c=ca("number"==typeof d?d:0);aa(a,function(a){var d=Xa(ia()*(++b+1));c[b]=c[d];c[d]=a});return c};e.sortBy=
function(a,b,c){var h=-1,m=a?a.length:0,f=ca("number"==typeof m?m:0);b=e.createCallback(b,c);aa(a,function(a,d,c){var m=f[++h]=E();m.criteria=b(a,d,c);m.index=h;m.value=a});m=f.length;for(f.sort(l);m--;)a=f[m],f[m]=a.value,d(a);return f};e.tap=function(a,b){b(a);return a};e.throttle=function(a,b,c){var h=!0,m=!0;!1===c?h=!1:za(c)&&(h="leading"in c?c.leading:h,m="trailing"in c?c.trailing:m);c=E();c.leading=h;c.maxWait=b;c.trailing=m;a=Ja(a,b,c);d(c);return a};e.times=function(a,b,d){a=-1<(a=+a)?a:
0;var c=-1,h=ca(a);for(b=e.createCallback(b,d,1);++c<a;)h[c]=b(c);return h};e.toArray=function(a){return a&&"number"==typeof a.length?n(a):pb(a)};e.transform=function(a,b,d,c){var h=ma(a);b=e.createCallback(b,c,4);null==d&&(h?d=[]:(c=(c=a&&a.constructor)&&c.prototype,d=za(c)?tb(c):{}));(h?aa:ta)(a,function(a,c,h){return b(d,a,c,h)});return d};e.union=function(a){ma(a)||(arguments[0]=a?O.call(a):L);return Cb(xa.apply(L,arguments))};e.uniq=Cb;e.unzip=Pb;e.values=pb;e.where=Ya;e.without=function(a){return ga(a,
O.call(arguments,1))};e.wrap=function(a,b){return function(){var d=[a];Ga.apply(d,arguments);return b.apply(this,d)}};e.zip=function(a){return a?Pb(arguments):[]};e.zipObject=Za;e.collect=wb;e.drop=Jb;e.each=aa;e.extend=Tb;e.methods=ba;e.object=Za;e.select=Ya;e.tail=Jb;e.unique=Cb;Ab(e);e.chain=e;e.prototype.chain=function(){return this};e.clone=ob;e.cloneDeep=function(a,b,d){return ob(a,!0,b,d)};e.contains=Hb;e.escape=function(a){return null==a?"":P(a).replace(ka,w)};e.every=Pa;e.find=fb;e.findIndex=
function(a,b,d){var c=-1,h=a?a.length:0;for(b=e.createCallback(b,d);++c<h;)if(b(a[c],c,a))return c;return-1};e.findKey=function(a,b,d){var c;b=e.createCallback(b,d);ta(a,function(a,d,h){if(b(a,d,h))return c=d,!1});return c};e.has=function(a,b){return a?N.call(a,b):!1};e.identity=sa;e.indexOf=qb;e.isArguments=function(a){return V.call(a)==z};e.isArray=ma;e.isBoolean=function(a){return!0===a||!1===a||V.call(a)==nb};e.isDate=function(a){return a?"object"==typeof a&&V.call(a)==ya:!1};e.isElement=function(a){return a?
1===a.nodeType:!1};e.isEmpty=function(a){var b=!0;if(!a)return b;var d=V.call(a),c=a.length;if(d==ub||(d==Ma||d==z)||d==Ta&&"number"==typeof c&&Ea(a.splice))return!c;ta(a,function(){return b=!1});return b};e.isEqual=ra;e.isFinite=function(a){return Mb(a)&&!$a(parseFloat(a))};e.isFunction=Ea;e.isNaN=function(a){return vb(a)&&a!=+a};e.isNull=function(a){return null===a};e.isNumber=vb;e.isObject=za;e.isPlainObject=ac;e.isRegExp=function(a){return a?"object"==typeof a&&V.call(a)==Ia:!1};e.isString=eb;
e.isUndefined=function(a){return"undefined"==typeof a};e.lastIndexOf=function(a,b,d){var c=a?a.length:0;for("number"==typeof d&&(c=(0>d?ha(0,c+d):m(d,c-1))+1);c--;)if(a[c]===b)return c;return-1};e.mixin=Ab;e.noConflict=function(){c._=Kb;return this};e.parseInt=Ha;e.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b?(b=a,a=0):b=+b||0;var d=ia();return a%1||b%1?a+m(d*(b-a+parseFloat("1e-"+((d+"").length-1))),b):a+Xa(d*(b-a+1))};e.reduce=gb;e.reduceRight=zb;e.result=function(a,b){var d=a?a[b]:
C;return Ea(d)?a[b]():d};e.runInContext=q;e.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:ea(a).length};e.some=Ib;e.sortedIndex=Ba;e.template=function(a,b,d){var c=e.templateSettings;a||(a="");d=Ub({},d,c);var m=Ub({},d.imports,c.imports),c=ea(m),m=pb(m),f,r=0,n=d.interpolate||J,q="__p += '",n=Va((d.escape||J).source+"|"+n.source+"|"+(n===qa?pa:J).source+"|"+(d.evaluate||J).source+"|$","g");a.replace(n,function(b,d,c,m,e,n){c||(c=m);q+=a.slice(r,n).replace(h,g);d&&(q+="' +\n__e("+
d+") +\n'");e&&(f=!0,q+="';\n"+e+";\n__p += '");c&&(q+="' +\n((__t = ("+c+")) == null ? '' : __t) +\n'");r=n+b.length;return b});var q=q+"';\n",z=n=d.variable;z||(n="obj",q="with ("+n+") {\n"+q+"\n}\n");q=(f?q.replace(oa,""):q).replace(mb,"$1").replace(M,"$1;");q="function("+n+") {\n"+(z?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+q+"return __p\n}";d="\n/*\n//@ sourceURL="+(d.sourceURL||
"/lodash/template/source["+Ca++ +"]")+"\n*/";try{var k=Ua(c,"return "+q+d).apply(C,m)}catch(s){throw s.source=q,s;}if(b)return k(b);k.source=q;return k};e.unescape=function(a){return null==a?"":P(a).replace(va,Oa)};e.uniqueId=function(a){var b=++G;return P(null==a?"":a)+b};e.all=Pa;e.any=Ib;e.detect=fb;e.findWhere=fb;e.foldl=gb;e.foldr=zb;e.include=Hb;e.inject=gb;ta(e,function(a,b){e.prototype[b]||(e.prototype[b]=function(){var b=[this.__wrapped__];Ga.apply(b,arguments);return a.apply(e,b)})});e.first=
lb;e.last=function(a,b,d){if(a){var c=0,h=a.length;if("number"!=typeof b&&null!=b){var m=h;for(b=e.createCallback(b,d);m--&&b(a[m],m,a);)c++}else if(c=b,null==c||d)return a[h-1];return n(a,ha(0,h-c))}};e.take=lb;e.head=lb;ta(e,function(a,b){e.prototype[b]||(e.prototype[b]=function(b,d){var c=a(this.__wrapped__,b,d);return null==b||d&&"function"!=typeof b?c:new D(c)})});e.VERSION="1.3.1";e.prototype.toString=function(){return P(this.__wrapped__)};e.prototype.value=Rb;e.prototype.valueOf=Rb;aa(["join",
"pop","shift"],function(a){var b=L[a];e.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});aa(["push","reverse","sort","unshift"],function(a){var b=L[a];e.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});aa(["concat","slice","splice"],function(a){var b=L[a];e.prototype[a]=function(){return new D(b.apply(this.__wrapped__,arguments))}});return e}var C,K=[],D=[],G=0,T={},W=+new Date+"",s=75,I=40,oa=/\b__p \+= '';/g,mb=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,
va=/&(?:amp|lt|gt|quot|#39);/g,pa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,X=/\w*$/,qa=/<%=([\s\S]+?)%>/g,ja=(ja=/\bthis\b/)&&ja.test(q)&&ja,Q=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",H=RegExp("^["+Q+"]*0+(?=.$)"),J=/($^)/,ka=/[&<>"']/g,h=/['\n\r\t\u2028\u2029\\]/g,r="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),
Ca=0,z="[object Arguments]",ub="[object Array]",nb="[object Boolean]",ya="[object Date]",Da="[object Function]",bb="[object Number]",Ta="[object Object]",Ia="[object RegExp]",Ma="[object String]",f={};f[Da]=!1;f[z]=f[ub]=f[nb]=f[ya]=f[bb]=f[Ta]=f[Ia]=f[Ma]=!0;var Z={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ob={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ua=Z[typeof y]&&y,cb=Z[typeof w]&&w&&w.exports==ua&&w,Oa=Z[typeof c]&&c;!Oa||Oa.global!==
Oa&&Oa.window!==Oa||(a=Oa);var wa=q();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=wa,define(function(){return wa})):ua&&!ua.nodeType?cb?(cb.exports=wa)._=wa:ua._=wa:a._=wa})(this)})(self)},{}],35:[function(l,w,y){(function(){var c=l("./base"),a=l("./customization"),c=c.extend({name:"user",url:function(){return this.app.config.baseUrl+"/users/auth.json"},parse:function(c,p){c=c.user;try{c.customization=(new a({},{app:this.app})).parse({customization:c.customization})}catch(e){c.customization=
null}return c},defaults:{username:"",password:"",token:!1,policy:"",signature:"",path:"",customization:{},error:null}});w.exports=c})()},{"./base":36,"./customization":37}],38:[function(l,w,y){(function(){var c=l("./media").extend({name:"image",urlRoot:function(){return this.app.config.baseUrl+"/images"}});w.exports=c})()},{"./media":39}],40:[function(l,w,y){(function(){var c=l("./media").extend({name:"video",urlRoot:function(){return this.app.config.baseUrl+"/videos"}});w.exports=c})()},{"./media":39}],
37:[function(l,w,y){(function(){var c=l("./base").extend({name:"customization",urlRoot:function(){return this.app.config.baseUrl+"/customizations"},parse:function(a,c){a=a.customization;delete a.customization;try{a.config=JSON.parse(a.config)}catch(p){a.config={error:"Could not parse the JSON"}}return a}});w.exports=c})()},{"./base":36}],10:[function(l,w,y){(function(){w.exports=function(c,a,t){var p=c.event,e,k;e=p.special.debouncedresize={setup:function(){c(this).on("resize",e.handler)},teardown:function(){c(this).off("resize",
e.handler)},handler:function(a,c){var t=this,b=arguments,d=function(){a.type="debouncedresize";p.dispatch.apply(t,b)};k&&clearTimeout(k);c?d():k=setTimeout(d,e.threshold)},threshold:150};var A="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(a){function e(){var n=c(v),k=c(l);d&&(l.length?d.reject(q,n,k):d.resolve(q));c.isFunction(a)&&a.call(b,q,n,k)}function k(a,b){a.src!==A&&-1===c.inArray(a,p)&&(p.push(a),b?l.push(a):v.push(a),c.data(a,"imagesLoaded",
{isBroken:b,src:a.src}),n&&d.notifyWith(c(a),[b,q,c(v),c(l)]),q.length===p.length&&(setTimeout(e),q.unbind(".imagesLoaded")))}var b=this,d=c.isFunction(c.Deferred)?c.Deferred():0,n=c.isFunction(d.notify),q=b.find("img").add(b.filter("img")),p=[],v=[],l=[];c.isPlainObject(a)&&c.each(a,function(b,c){if("callback"===b)a=c;else if(d)d[b](c)});q.length?q.bind("load.imagesLoaded error.imagesLoaded",function(a){k(a.target,"error"===a.type)}).each(function(a,b){var d=b.src,e=c.data(b,"imagesLoaded");if(e&&
e.src===d)k(b,e.isBroken);else if(b.complete&&b.naturalWidth!==t)k(b,0===b.naturalWidth||0===b.naturalHeight);else if(b.readyState||b.complete)b.src=A,b.src=d}):e();return d?d.promise(b):b};var v=c(a);c.Elastislide=function(a,e){this.$el=c(e);this._init(a)};c.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(a,c,e){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}};c.Elastislide.prototype=
{_init:function(a){var e=l("./modernizr");this.options=c.extend(!0,{},c.Elastislide.defaults,a);var k=this;this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[e.prefixed("transition")];this.support=e.csstransitions&&e.csstransforms;this.current=this.options.start;this.isSliding=!1;this.$items=this.$el.children("li");this.itemsCount=this.$items.length;if(0===this.itemsCount)return!1;
this._validate();this.$items.detach();this.$el.empty();this.$el.append(this.$items);this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>');this.hasTransition=!1;this.hasTransitionTimeout=setTimeout(function(){k._addTransition()},100);this.$el.imagesLoaded(function(){k.$el.show();k._layout();k._configure();k.hasTransition?(k._removeTransition(),k._slideToItem(k.current),k.$el.on(k.transEndEventName,function(){k.$el.off(k.transEndEventName);
k._setWrapperSize();k._addTransition();k._initEvents()})):(clearTimeout(k.hasTransitionTimeout),k._setWrapperSize(),k._initEvents(),k._slideToItem(k.current),setTimeout(function(){k._addTransition()},25));k.options.onReady()})},_validate:function(){0>this.options.speed&&(this.options.speed=500);if(1>this.options.minItems||this.options.minItems>this.itemsCount)this.options.minItems=1;if(0>this.options.start||this.options.start>this.itemsCount-1)this.options.start=0;"horizontal"!=this.options.orientation&&
"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>');this.$carousel=this.$el.parent();this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var a=this.$items.find("img:first");this.imgSize={width:a.outerWidth(!0),height:a.outerHeight(!0)};this._setItemsSize();"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*
this.imgSize.height);this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing);this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s");this.hasTransition=!1},_addControls:function(){var a=this;this.$navigation=c('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper);this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",
function(c){a._slide("prev");return!1});this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(c){a._slide("next");return!1})},_setItemsSize:function(){var a="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:a+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height});"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+
parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/
this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var a=this;v.on("debouncedresize.elastislide",function(){a._setItemsSize();a._configure();a._slideToItem(a.current)});this.$el.on(this.transEndEventName,function(){a._onEndTransition()});if("horizontal"===this.options.orientation)this.$el.on({swipeleft:function(){a._slide("next")},swiperight:function(){a._slide("prev")}});
else this.$el.on({swipeup:function(){a._slide("next")},swipedown:function(){a._slide("prev")}});this.$el.on("click.elastislide","li",function(e){var k=c(this);a.options.onClick(k,k.index(),e)})},_destroy:function(a){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide");v.off(".elastislide");this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper);this.$items.css({width:"auto","max-width":"none","max-height":"none"});
this.$navigation.remove();this.$wrapper.remove();a&&a.call()},_toggleControls:function(a,c){c?"next"===a?this.$navNext.show():this.$navPrev.show():"next"===a?this.$navNext.hide():this.$navPrev.hide()},_slide:function(a,e){if(this.isSliding)return!1;this.options.onBeforeSlide();this.isSliding=!0;var k=this,b=this.translation||0,d="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),n=this.itemsCount*d,q="horizontal"===this.options.orientation?this.$carousel.width():
this.$carousel.height();if(e===t){d*=this.fitCount;if(0>d)return!1;if("next"===a&&n-(Math.abs(b)+d)<q)d=n-(Math.abs(b)+q),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===a&&0>Math.abs(b)-d)d=Math.abs(b),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var p="next"===a?Math.abs(b)+Math.abs(d):Math.abs(b)-Math.abs(d);0<p?this._toggleControls("prev",!0):this._toggleControls("prev",!1);p<n-q?this._toggleControls("next",!0):this._toggleControls("next",
!1)}e="next"===a?b-d:b+d}else d=Math.abs(e),Math.max(n,q)-d<q&&(e=-(Math.max(n,q)-q)),0<d?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(n,q)-q>d?this._toggleControls("next",!0):this._toggleControls("next",!1);this.translation=e;if(b===e)return this._onEndTransition(),!1;this.support?"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+e+"px)"):this.$el.css("transform","translateY("+e+"px)"):(c.fn.applyStyle=this.hasTransition?c.fn.animate:c.fn.css,
b="horizontal"===this.options.orientation?{left:e}:{top:e},this.$el.stop().applyStyle(b,c.extend(!0,[],{duration:this.options.speed,complete:function(){k._onEndTransition()}})));this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1;this.options.onAfterSlide()},_slideTo:function(a){a=a||this.current;var c=Math.abs(this.translation)||0,e="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),b=c+this.$carousel.width(),d=Math.abs(a*
e);(d+e>b||d<c)&&this._slideToItem(a)},_slideToItem:function(a){a="horizontal"===this.options.orientation?a*this.$items.outerWidth(!0):a*this.$items.outerHeight(!0);this._slide("",-a)},add:function(a){var c=this,e=this.current,b=this.$items.eq(this.current);this.$items=this.$el.children("li");this.itemsCount=this.$items.length;this.current=b.index();this._setItemsSize();this._configure();this._removeTransition();e<this.current?this._slideToItem(this.current):this._slide("next",this.translation);setTimeout(function(){c._addTransition()},
25);a&&a.call()},setCurrent:function(a,c){this.current=a;this._slideTo();c&&c.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(a){this._destroy(a)}};c.fn.elastislide=function(e){var k=c.data(this,"elastislide");if("string"===typeof e){var t=Array.prototype.slice.call(arguments,1);this.each(function(){k?c.isFunction(k[e])&&"_"!==e.charAt(0)?k[e].apply(k,
t):a.console&&a.console.error("no such method '"+e+"' for elastislide self"):a.console&&a.console.error("cannot call methods on elastislide prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){k?k._init():k=c.data(this,"elastislide",new c.Elastislide(e,this))});return k}}})()},{"./modernizr":41}],15:[function(l,w,y){(function(){var c=l("../base"),a=l("../layout/navbar.js"),t=l("../layout/footer.js"),c=c.extend({template:l("../../templates/routes/index.hbs"),initialize:function(a){this.app=
a.app;this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var c=new a({app:this.app}),e=new t({app:this.app});c.remove();e.remove();this.appendSubview(c,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});w.exports=c})()},{"../../templates/routes/index.hbs":44,"../base":45,"../layout/footer.js":43,"../layout/navbar.js":42}],17:[function(l,w,y){(function(){var c=l("../base"),
a=l("../layout/navbar.js"),t=l("../layout/footer.js"),c=c.extend({template:l("../../templates/routes/login.hbs"),initialize:function(a){this.app=a.app;this.user=this.app.getUser();this.listenTo(this.user,"change",this.render,this);this.listenTo(this.user,"change",function(){this.app.bootstrap.userId&&(this.user.attributes.token&&this.user.id!==this.app.bootstrap.userId)&&(this.app.setFlash("error","Sorry, you can't log in here!"),this.app.getUser().set({id:null,username:null,password:null,token:!1,
policy:null,signature:null,path:null,customization:{}}))},this);this.renderOnReady(this.user)},afterRender:function(){var c=new a({app:this.app}),e=new t({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext({user:this.user.attributes})},events:{submit:"login","click a.app":"handleAppLink","click a.provisionTestAccount":"provisionTestAccount"},login:function(a){a.preventDefault();
a.stopPropagation();a=this.$("input[name=username]").val();var c=this.$("input[name=password]").val();this.user.set({username:a,password:c}).save()},provisionTestAccount:function(a){a.preventDefault();a.stopPropagation();this.user.set({id:"test"}).save()}});w.exports=c})()},{"../../templates/routes/login.hbs":46,"../base":45,"../layout/footer.js":43,"../layout/navbar.js":42}],19:[function(l,w,y){(function(){var c=l("../base"),a=l("../layout/navbar.js"),t=l("../layout/footer.js"),c=c.extend({template:l("../../templates/routes/review.hbs"),
initialize:function(a){this.app=a.app;this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.unprocessed,"add change remove sort",this.render,this)},afterRender:function(){var c=new a({app:this.app}),e=new t({app:this.app});c.remove();e.remove();this.appendSubview(c,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){var a=[];this.unprocessed.forEach(function(c){var k=
c.attributes;k.editHref="/media/"+k.type+"/"+c.id+"/edit";a.push(k)});return this.getContext({unprocessed:a,nothingToReview:0===a.length})}});w.exports=c})()},{"../../templates/routes/review.hbs":47,"../base":45,"../layout/footer.js":43,"../layout/navbar.js":42}],21:[function(l,w,y){(function(){var c=l("../../base"),a=l("../../layout/navbar.js"),t=l("../../layout/footer.js"),c=c.extend({template:l("../../../templates/routes/pages/create.hbs"),events:{submit:"performSave","click a.app":"handleAppLink"},
initialize:function(a){this.app=a.app;this.model=this.app.db.createModel("page");this.listenTo(this.model,"invalid",function(a,c){this.app.error(this.model,c)},this)},afterRender:function(){var c;c=new a({app:this.app});var e=new t({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()});c=this.$("input[name=name]");""==c.val().replace(/]w/,"")&&c.val("").focus()},context:function(){return this.getContext()},performSave:function(a){var c=
this;a.preventDefault();var k=this.$("input[name=name]").val();c.model.save({userId:c.app.getUser().id,name:k},{success:function(){c.app.db.fetchCollection("pages").add(c.model);c.app.navigate("page/"+k,{trigger:!0})},error:c.app.error})}});w.exports=c})()},{"../../../templates/routes/pages/create.hbs":48,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42}],25:[function(l,w,y){(function(){var c=l("../../base"),a=l("../../../helpers/lib/holder.js"),t=l("../../layout/navbar.js"),
p=l("../../layout/footer.js"),c=c.extend({template:l("../../../templates/routes/pages/edit.hbs"),events:{submit:"performSave"},initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var c=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);c.once("ready",function(){var t=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});t?this.page.set(t.attributes):(this.page.set({name:"404"}),
this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)},this)},context:function(){var a=[],c=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(t){a.push(t.templateVars(c))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){var c=this,k=new t({app:c.app}),l=new p({app:c.app});c.appendSubview(k,
c.$("#header"));c.appendSubview(l,c.$("#footer"));c.eachSubview(function(a){a.render()});c.$(".sortable").sortable().bind("sortupdate",function(){c.readSortOrder.apply(c,arguments)});c.$(".switch").bootstrapSwitch();a.run()},performSave:function(a){var c=this;a.preventDefault();a=this.$("input[name=name]").val();var t=this.$("input[name=isPublished]").parent().hasClass("switch-on");this.page.save({userId:c.app.getUser().attributes.id,name:a,isPublished:t},{success:function(){c.app.db.fetchCollection("pages").fetch();
c.app.setFlash("success","Page Saved!")},error:c.app.error})},performDelete:function(a){a.preventDefault();a.stopPropagation();var c=this;if(confirm("Are you sure you want to delete "+c.page.attributes.name+"?"))c.page.destroy({success:function(){c.app.navigate("",{trigger:!0})},error:c.app.error});else return!1},readSortOrder:function(a){a.preventDefault();a.stopPropagation();var c=this,t=[],p=[];c.$(".sortable").children().each(function(a,e){var l=c.page.getMedia().get($(e).attr("data-uuid"));t.push(l);
p.push({ID:l.attributes.id,NAME:l.attributes.name,TYPE:l.attributes.type,THUMB:l.attributes.thumbnailS3key})});c.page.getMedia().reset(t);c.page.set("items",p);c.page.save({},{success:function(){c.app.setFlash("success","Page Saved!")},error:c.app.error})}});w.exports=c})()},{"../../../helpers/lib/holder.js":49,"../../../templates/routes/pages/edit.hbs":50,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42}],27:[function(l,w,y){(function(){var c=l("../../base"),a=l("../../layout/navbar.js"),
t=l("../../layout/footer.js"),c=c.extend({template:l("../../../templates/routes/media/add.hbs"),events:{"click a.filepicker":"startFilepicker","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var c=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);c.once("ready",function(){var k=c.find(function(c){return c.attributes.name.toLowerCase()===
a.pageName.toLowerCase()});k?this.page.set(k.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var c=new a({app:this.app}),e=new t({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext({page:this.page.attributes})},startFilepicker:function(a,c){var k=this;a&&(a.preventDefault(),a.stopPropagation());
this.page.id?this.page.addMedia(function(a,c){a&&101!==a.code?k.app.error(a):c&&k.app.setFlash("success",c.length+" files uploaded!")},c):k.app.error("The page hasn't loaded yet, try again in a few seconds")}});w.exports=c})()},{"../../../templates/routes/media/add.hbs":51,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42}],23:[function(l,w,y){(function(){var c=l("../../base"),a=l("../../layout/navbar.js"),t=l("../../layout/footer.js"),p=l("../../routes/media/grid.js"),c=c.extend({template:l("../../../templates/routes/pages/show.hbs"),
initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});this.pageName=a.pageName;var c=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);c.once("ready",function(){var t=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});t?this.page.set(t.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},
this)},afterRender:function(){var c=new a({app:this.app}),k=new p({app:this.app,pageName:this.pageName}),l=new t({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(k,this.$("#content"));this.appendSubview(l,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});w.exports=c})()},{"../../../templates/routes/pages/show.hbs":53,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42,"../../routes/media/grid.js":52}],
41:[function(l,w,y){(function(){var c=function(a,c,p){function e(a,b){for(var d in a){var c=a[d];if(!~(""+c).indexOf("-")&&B[c]!==p)return"pfx"==b?c:!0}return!1}function k(a,c,g){var n=a.charAt(0).toUpperCase()+a.slice(1),q=(a+" "+b.join(n+" ")+n).split(" ");if("string"===typeof c||"undefined"===typeof c)return e(q,c);q=(a+" "+d.join(n+" ")+n).split(" ");a:{a=q;for(var k in a)if(n=c[a[k]],n!==p){c=!1===g?a[k]:"function"===typeof n?n.bind(g||c):n;break a}c=!1}return c}var l={},v=c.documentElement,
g=c.createElement("modernizr"),B=g.style,E=" -webkit- -moz- -o- -ms- ".split(" "),b=["Webkit","Moz","O","ms"],d=["webkit","moz","o","ms"],g={},n=[],q=n.slice,C,w=function(a,b,d,e){var g,n,q=c.createElement("div"),k=c.body,p=k||c.createElement("body");if(parseInt(d,10))for(;d--;)g=c.createElement("div"),g.id=e?e[d]:"modernizr"+(d+1),q.appendChild(g);d=['&#173;<style id="smodernizr">',a,"</style>"].join("");q.id="modernizr";(k?q:p).innerHTML+=d;p.appendChild(q);k||(p.style.background="",p.style.overflow=
"hidden",n=v.style.overflow,v.style.overflow="hidden",v.appendChild(p));a=b(q,a);k?q.parentNode.removeChild(q):(p.parentNode.removeChild(p),v.style.overflow=n);return!!a},D={}.hasOwnProperty,G;G="undefined"!==typeof D&&"undefined"!==typeof D.call?function(a,b){return D.call(a,b)}:function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var d=q.call(arguments,1),
c=function(){if(this instanceof c){var e=function(){};e.prototype=b.prototype;var e=new e,g=b.apply(e,d.concat(q.call(arguments)));return Object(g)===g?g:e}return b.apply(a,d.concat(q.call(arguments)))};return c});g.touch=function(){var b;"ontouchstart"in a||a.DocumentTouch&&c instanceof DocumentTouch?b=!0:w(["@media (",E.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){b=9===a.offsetTop});return b};g.csstransforms=function(){return!!k("transform")};
g.csstransitions=function(){return k("transition")};for(var T in g)G(g,T)&&(C=T.toLowerCase(),l[C]=g[T](),n.push((l[C]?"":"no-")+C));l.addTest=function(a,b){if("object"==typeof a)for(var d in a)G(a,d)&&l.addTest(d,a[d]);else{a=a.toLowerCase();if(l[a]!==p)return l;b="function"==typeof b?b():b;v.className+=" "+(b?"":"no-")+a;l[a]=b}return l};B.cssText="";g=null;(function(a,b){function d(){var a=h.elements;return"string"==typeof a?a.split(" "):a}function c(a){var b=v[a[l]];b||(b={},H++,a[l]=H,v[H]=b);
return b}function e(a,d,h){d||(d=b);if(C)return d.createElement(a);h||(h=c(d));d=h.cache[a]?h.cache[a].cloneNode():t.test(a)?(h.cache[a]=h.createElem(a)).cloneNode():h.createElem(a);return d.canHaveChildren&&!k.test(a)?h.frag.appendChild(d):d}function g(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag());a.createElement=function(d){return h.shivMethods?e(d,a,b):b.createElem(d)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+
d().join().replace(/\w+/g,function(a){b.createElem(a);b.frag.createElement(a);return'c("'+a+'")'})+");return n}")(h,b.frag)}function n(a){a||(a=b);var d=c(a);if(h.shivCSS&&!p&&!d.hasCSS){var e,q=a;e=q.createElement("p");q=q.getElementsByTagName("head")[0]||q.documentElement;e.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>";e=q.insertBefore(e.lastChild,q.firstChild);d.hasCSS=!!e}C||g(a,d);return a}var q=a.html5||
{},k=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,t=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p,l="_html5shiv",H=0,v={},C;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";p="hidden"in a;var d;if(!(d=1==a.childNodes.length)){b.createElement("a");var c=b.createDocumentFragment();d="undefined"==typeof c.cloneNode||"undefined"==typeof c.createDocumentFragment||"undefined"==typeof c.createElement}C=
d}catch(h){C=p=!0}})();var h={elements:q.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==q.shivCSS,supportsUnknownElements:C,shivMethods:!1!==q.shivMethods,type:"default",shivDocument:n,createElement:e,createDocumentFragment:function(a,h){a||(a=b);if(C)return a.createDocumentFragment();h=h||c(a);for(var e=h.frag.cloneNode(),g=0,n=d(),q=n.length;g<q;g++)e.createElement(n[g]);
return e}};a.html5=h;n(b)})(this,c);l._version="2.6.2";l._prefixes=E;l._domPrefixes=d;l._cssomPrefixes=b;l.testProp=function(a){return e([a])};l.testAllProps=k;l.testStyles=w;l.prefixed=function(a,b,d){return b?k(a,b,d):k(a,"pfx")};v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+n.join(" "));return l}(this,this.document);(function(a,c,p){function e(a){return"[object Function]"==C.call(a)}function k(a){return"string"==typeof a}function l(){}function v(a){return!a||"loaded"==a||
"complete"==a||"uninitialized"==a}function g(){var a=w.shift();D=1;a?a.t?n(function(){("c"==a.t?X.injectCss:X.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),g()):D=0}function B(a,b,d,e,k,s,h){function r(d){if(!z&&v(p.readyState)&&(C.r=z=1,!D&&g(),p.onload=p.onreadystatechange=null,d)){"img"!=a&&n(function(){W.removeChild(p)},50);for(var c in M[b])M[b].hasOwnProperty(c)&&M[b][c].onload()}}h=h||X.errorTimeout;var p=c.createElement(a),z=0,l=0,C={t:d,s:b,e:k,a:s,x:h};1===M[b]&&(l=1,M[b]=[]);"object"==a?p.data=
b:(p.src=b,p.type=a);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){r.call(this,l)};w.splice(e,0,C);"img"!=a&&(l||2===M[b]?(W.insertBefore(p,T?null:q),n(r,h)):M[b].push(p))}function E(a,b,d,c,e){return D=0,b=b||"j",k(a)?B("c"==b?I:s,a,b,this.i++,d,c,e):(w.splice(this.i++,0,a),1==w.length&&g()),this}function b(){var a=X;return a.loader={load:E,i:0},a}var d=c.documentElement,n=a.setTimeout,q=c.getElementsByTagName("script")[0],C={}.toString,w=[],D=0,G="MozAppearance"in d.style,
T=G&&!!c.createRange().compareNode,W=T?d:q.parentNode,d=a.opera&&"[object Opera]"==C.call(a.opera),d=!!c.attachEvent&&!d,s=G?"object":d?"script":"img",I=d?"script":s,oa=Array.isArray||function(a){return"[object Array]"==C.call(a)},y=[],M={},va={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},pa,X;X=function(a){function d(a){a=a.split("!");var b=y.length,c=a.pop(),h=a.length,c={url:c,origUrl:c,prefixes:a},e,g,n;for(g=0;g<h;g++)n=a[g].split("="),(e=va[n.shift()])&&(c=e(c,n));for(g=0;g<b;g++)c=
y[g](c);return c}function c(a,h,g,n,q){var k=d(a),s=k.autoCallback;k.url.split(".").pop().split("?").shift();k.bypass||(h&&(h=e(h)?h:h[a]||h[n]||h[a.split("/").pop().split("?")[0]]),k.instead?k.instead(a,h,g,n,q):(M[k.url]?k.noexec=!0:M[k.url]=1,g.load(k.url,k.forceCSS||!k.forceJS&&"css"==k.url.split(".").pop().split("?").shift()?"c":p,k.noexec,k.attrs,k.timeout),(e(h)||e(s))&&g.load(function(){b();h&&h(k.origUrl,q,n);s&&s(k.origUrl,q,n);M[k.url]=2})))}function g(a,b){function d(a,f){if(a)if(k(a))f||
(q=function(){var a=[].slice.call(arguments);s.apply(this,a);t()}),c(a,q,b,0,h);else{if(Object(a)===a)for(p in H=function(){var b=0,d;for(d in a)a.hasOwnProperty(d)&&b++;return b}(),a)a.hasOwnProperty(p)&&(!f&&!--H&&(e(q)?q=function(){var a=[].slice.call(arguments);s.apply(this,a);t()}:q[p]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);t()}}(s[p])),c(a[p],q,b,p,h))}else!f&&t()}var h=!!a.test,n=a.load||a.both,q=a.callback||l,s=q,t=a.complete||l,H,p;d(h?a.yep:a.nope,
!!n);n&&d(n)}var n,q,h=this.yepnope.loader;if(k(a))c(a,0,h,0);else if(oa(a))for(n=0;n<a.length;n++)q=a[n],k(q)?c(q,0,h,0):oa(q)?X(q):Object(q)===q&&g(q,h);else Object(a)===a&&g(a,h)};X.addPrefix=function(a,b){va[a]=b};X.addFilter=function(a){y.push(a)};X.errorTimeout=1E4;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",pa=function(){c.removeEventListener("DOMContentLoaded",pa,0);c.readyState="complete"},0));a.yepnope=b();a.yepnope.executeStack=
g;a.yepnope.injectJs=function(a,b,d,e,k,s){var h=c.createElement("script"),r,p;e=e||X.errorTimeout;h.src=a;for(p in d)h.setAttribute(p,d[p]);b=s?g:b||l;h.onreadystatechange=h.onload=function(){!r&&v(h.readyState)&&(r=1,b(),h.onload=h.onreadystatechange=null)};n(function(){r||(r=1,b(1))},e);k?h.onload():q.parentNode.insertBefore(h,q)};a.yepnope.injectCss=function(a,b,d,e,k,s){e=c.createElement("link");var h;b=s?g:b||l;e.href=a;e.rel="stylesheet";e.type="text/css";for(h in d)e.setAttribute(h,d[h]);
k||(q.parentNode.insertBefore(e,q),n(b,0))}})(this,document);c.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};w.exports=c})()},{}],49:[function(l,w,y){(function(){var c=c||{};(function(a,c){function p(a){a=a.match(/^(\W)?(.*)/);a=document["getElement"+(a[1]?"#"==a[1]?"ById":"sByClassName":"sByTagName")](a[2]);var b=[];null!=a&&(a.length?b=a:0==a.length?b=a:b=[a]);return b}function e(a,b){var d={},c;for(c in a)d[c]=a[c];for(var e in b)d[e]=b[e];return d}function k(a,b,c,e){var g=
[b.height,b.width].sort(),n=Math.round(g[1]/16);Math.round(g[0]/16);var g=Math.max(c.size,n),n=b.width*e,q=b.height*e,k=c.font?c.font:"sans-serif";d.width=n;d.height=q;a.textAlign="center";a.textBaseline="middle";a.fillStyle=c.background;a.fillRect(0,0,n,q);a.fillStyle=c.foreground;a.font="bold "+g+"px "+k;b=c.text?c.text:b.width+"x"+b.height;1<a.measureText(b).width/n&&(g=c.size/(a.measureText(b).width/n));a.font="bold "+g*e+"px "+k;a.fillText(b,n/2,q/2,n);return d.toDataURL("image/png")}function l(a,
d,c,g){var q=c.dimensions,t=c.theme,p=c.text?decodeURIComponent(c.text):c.text,C=q.width+"x"+q.height,t=p?e(t,{text:p}):t,t=c.font?e(t,{font:c.font}):t,v=1;window.devicePixelRatio&&1<window.devicePixelRatio&&(v=window.devicePixelRatio);if("image"==a){d.setAttribute("data-src",g);d.setAttribute("alt",p?p:t.text?t.text+" ["+C+"]":C);if(b||!c.auto)d.style.width=q.width+"px",d.style.height=q.height+"px";b?d.style.backgroundColor=t.background:d.setAttribute("src",k(n,q,t,v))}else b||(d.style.backgroundImage=
"url("+k(n,q,t,v)+")",d.style.backgroundSize=q.width+"px "+q.height+"px")}function v(a,b,d){var c=b.dimensions;d=b.theme;var n=b.text,c=c.width+"x"+c.height;d=n?e(d,{text:n}):d;var k=document.createElement("div");k.style.backgroundColor=d.background;k.style.color=d.foreground;k.className=a.className+" holderjs-fluid";k.style.width=b.dimensions.width+(0<b.dimensions.width.indexOf("%")?"":"px");k.style.height=b.dimensions.height+(0<b.dimensions.height.indexOf("%")?"":"px");k.id=a.id;a.style.width=0;
a.style.height=0;d.text?k.appendChild(document.createTextNode(d.text)):(k.appendChild(document.createTextNode(c)),q.push(k),setTimeout(g,0));a.parentNode.insertBefore(k,a.nextSibling);window.jQuery&&jQuery(function(b){b(a).on("load",function(){a.style.width=k.style.width;a.style.height=k.style.height;b(a).show();b(k).remove()})})}function g(){for(i in q)if(q.hasOwnProperty(i)){var a=q[i],b=a.firstChild;a.style.lineHeight=a.offsetHeight+"px";b.data=a.offsetWidth+"x"+a.offsetHeight}}function B(b,d){var c=
{theme:C.themes.gray},e=!1;sl=b.length;for(j=0;j<sl;j++){var g=b[j];a.flags.dimensions.match(g)?(e=!0,c.dimensions=a.flags.dimensions.output(g)):a.flags.fluid.match(g)?(e=!0,c.dimensions=a.flags.fluid.output(g),c.fluid=!0):a.flags.colors.match(g)?c.theme=a.flags.colors.output(g):d.themes[g]?c.theme=d.themes[g]:a.flags.text.match(g)?c.text=a.flags.text.output(g):a.flags.font.match(g)?c.font=a.flags.font.output(g):a.flags.auto.match(g)&&(c.auto=!0)}return e?c:!1}var E=!1,b=!1,d=document.createElement("canvas");
document.getElementsByClassName||(document.getElementsByClassName=function(a){var b=document,d,c=[];if(b.querySelectorAll)return b.querySelectorAll("."+a);if(b.evaluate)for(b=b.evaluate(".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",b,null,0,null);d=b.iterateNext();)c.push(d);else for(b=b.getElementsByTagName("*"),a=RegExp("(^|\\s)"+a+"(\\s|$)"),d=0;d<b.length;d++)a.test(b[d].className)&&c.push(b[d]);return c});window.getComputedStyle||(window.getComputedStyle=function(a,b){return this.el=
a,this.getPropertyValue=function(b){var d=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),d.test(b)&&(b=b.replace(d,function(a,b,d){return d.toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this});Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])});if(d.getContext)if(0>d.toDataURL("image/png").indexOf("data:image/png"))b=!0;else var n=d.getContext("2d");else b=
!0;var q=[],C={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};a.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(a){a=this.regex.exec(a);return{width:+a[1],height:+a[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,
output:function(a){a=this.regex.exec(a);return{width:a[1],height:a[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(a){a=this.regex.exec(a);return{size:C.themes.gray.size,foreground:"#"+a[2],background:"#"+a[1]}}},text:{regex:/text\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},font:{regex:/font\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},auto:{regex:/^auto$/}};for(var w in a.flags)a.flags.hasOwnProperty(w)&&(a.flags[w].match=function(a){return a.match(this.regex)});
a.add_theme=function(b,d){null!=b&&null!=d&&(C.themes[b]=d);return a};a.add_image=function(b,d){var c=p(d);if(c.length)for(var e=0,g=c.length;e<g;e++){var n=document.createElement("img");n.setAttribute("data-src",b);c[e].appendChild(n)}return a};a.run=function(b){b=e(C,b);var d=[];imageNodes=b.images instanceof window.NodeList?b.images:b.images instanceof window.Node?[b.images]:p(b.images);bgnodes=b.elements instanceof window.NodeList?b.bgnodes:b.bgnodes instanceof window.Node?[b.bgnodes]:p(b.bgnodes);
E=!0;n=0;for(g=imageNodes.length;n<g;n++)d.push(imageNodes[n]);var c=document.getElementById("holderjs-style");c||(c=document.createElement("style"),c.setAttribute("id","holderjs-style"),c.type="text/css",document.getElementsByTagName("head")[0].appendChild(c));c.styleSheet?c.styleSheet+=b.stylesheet:c.textContent+=b.stylesheet;for(var c=RegExp(b.domain+'/(.*?)"?\\)'),g=bgnodes.length,n=0;n<g;n++){var q=window.getComputedStyle(bgnodes[n],null).getPropertyValue("background-image"),k=q.match(c);k&&
(k=B(k[1].split("/"),b))&&l("background",bgnodes[n],k,q)}g=d.length;for(n=0;n<g;n++)q=d[n].getAttribute("src")||d[n].getAttribute("data-src"),null!=q&&0<=q.indexOf(b.domain)&&(k=B(q.substr(q.lastIndexOf(b.domain)+b.domain.length+1).split("/"),b))&&(k.fluid?v(d[n],k,q):l("image",d[n],k,q));return a};(function(a,b){var d=!1,c=!0,e=a.document,g=e.documentElement,n=e.addEventListener?"addEventListener":"attachEvent",q=e.addEventListener?"removeEventListener":"detachEvent",k=e.addEventListener?"":"on",
t=function(c){"readystatechange"==c.type&&"complete"!=e.readyState||(("load"==c.type?a:e)[q](k+c.type,t,!1),d||!(d=!0)||b.call(a,null))},p=function(){try{g.doScroll("left")}catch(a){setTimeout(p,50);return}t("poll")};if("complete"==e.readyState)b.call(a,"lazy");else{if(e.createEventObject&&g.doScroll){try{c=!a.frameElement}catch(l){}c&&p()}e[n](k+"DOMContentLoaded",t,!1);e[n](k+"readystatechange",t,!1);a[n](k+"load",t,!1)}})(c,function(){window.addEventListener?(window.addEventListener("resize",g,
!1),window.addEventListener("orientationchange",g,!1)):window.attachEvent("onresize",g);E||a.run()});"function"===typeof define&&define.amd&&define("Holder",[],function(){return a})})(c,window);w.exports=c})()},{}],32:[function(l,w,y){(function(){var c=l("backbone"),a=l("lodash"),t=c.sync;c.sync=function(c,e,k){k=k||{};k.attrs=k.attrs||a.clone(e.attributes);k.timeout=k.timeout||2E4;k.parse=k.parse||!0;e.urlRoot&&e.methodUrl?k.url=e.methodUrl(c.toLowerCase()):"function"===typeof e.url?k.url=e.url():
e.url&&(k.url=e.url);k.crossDomain||(k.crossDomain=!0);k.xhrFields||(k.xhrFields={withCredentials:!0});if(k.success){var l=k.success;k.success=function(a,g,t){if(a[e.name]&&a[e.name].errors)if(k.error){var E=function(){k.error({responseText:JSON.stringify({errors:a[e.name].errors})})};"read"!==c?e.fetch({success:function(){E()},error:function(){E()}}):E()}else return l(a,g,t);else return l(a,g,t)}}return t(c,e,k)};w.exports=c})()},{backbone:54,lodash:34}],33:[function(l,w,y){(function(){l("path");
var c=l("lodash"),a={user:l("../models/user"),image:l("../models/image"),video:l("../models/video"),page:l("../models/page"),customization:l("../models/customization")},t={pagemedia:l("../collections/pageMedia"),pages:l("../collections/pages"),unprocesseduploads:l("../collections/unprocessedUploads")};w.exports=function(p){var e=this;this.cache={};this.createModel=function(e,t){e=e.toLowerCase();t=t||{};if(c.find(a,function(a,c){return c===e}))return new a[e](t,{app:p});throw Error('Cannot find Model "'+
e+'"');};this.createCollection=function(a,e){a=a.toLowerCase();e=e||{};e=c.clone(e);e.app=p;if(c.find(t,function(c,e){return e===a}))return new t[a]([],e);throw Error('Cannot find Collection "'+a+'"');};this.fetchModel=function(a,c){a=a.toLowerCase();var t="uuid://models/"+a+(c?"/"+c:""),g;e.cache[t]?(g=e.cache[t],setTimeout(function(){g.isFetched&&g.trigger("ready")},1)):(g=this.createModel(a),e.cache[t]=g,c&&g.set({id:c}),setTimeout(function(){g.fetch({success:function(){g.isFetched=!0;g.trigger("ready")}})},
1));return g};this.fetchCollection=function(a,t){a=a.toLowerCase();var p=c.filter(t,function(a,c){return"app"!=c}),p="uuid://collections/"+a+"/"+JSON.stringify(p),g;e.cache[p]?(g=e.cache[p],setTimeout(function(){g.isFetched&&g.trigger("ready")},1)):(g=this.createCollection(a,t),e.cache[p]=g,setTimeout(function(){g.fetch({success:function(){g.isFetched=!0;g.trigger("ready")}})},1));return g}}})()},{"../collections/pageMedia":56,"../collections/pages":57,"../collections/unprocessedUploads":58,"../models/customization":37,
"../models/image":38,"../models/page":55,"../models/user":35,"../models/video":40,lodash:34,path:4}],36:[function(l,w,y){(function(){var c=l("../helpers/BackboneLoader.js").Model.extend({initialize:function(a,c){this.set(a);this.app=c.app||{}},methodUrl:function(a){var c;"function"===typeof this.urlRoot?c=this.urlRoot():this.urlRoot&&(c=this.urlRoot);return"delete"==a||"update"==a||"read"==a?c+"/"+this.attributes.id+".json":"create"==a?c+".json":!1}});w.exports=c})()},{"../helpers/BackboneLoader.js":32}],
59:[function(l,w,y){(function(){var c=l("../helpers/BackboneLoader.js").Collection.extend({initialize:function(a,c){this.set(a);this.app=c.app||{}}});w.exports=c})()},{"../helpers/BackboneLoader.js":32}],43:[function(l,w,y){(function(){var c=l("../base").extend({template:l("../../templates/layout/footer.hbs"),initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),"change",this.render,this);this.renderOnReady(this.app.getUser())}});w.exports=c})()},{"../../templates/layout/footer.hbs":60,
"../base":45}],52:[function(l,w,y){(function(){var c=l("../../base"),a=l("../../../helpers/lib/holder.js"),c=c.extend({template:l("../../../templates/routes/media/grid.hbs"),initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var c=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);c.once("ready",function(){var e=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});e?this.page.set(e.attributes):
(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.media.fetch();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)},this)},context:function(){var a=[],c=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(e){a.push(e.templateVars(c))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){a.run()}});w.exports=
c})()},{"../../../helpers/lib/holder.js":49,"../../../templates/routes/media/grid.hbs":61,"../../base":45}],62:[function(l,w,y){(function(){var c=l("../../base").extend({template:l("../../../templates/routes/media/thumb.hbs"),initialize:function(a){this.app=a.app;this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.app,"iframeResize",this.resizeIframe,this);this.listenTo(this.app,"thumbnailCaptured",this.saveThumbnail,this);
this.listenTo(this.app,"captureThumbnail",this.captureThumbnail,this);this.renderOnReady(this.media)},context:function(){var a=this.media.templateVars(),c={media:{sources:[{src:a.url,type:this.app.util.mime(a.mimeType)}],attributes:{id:"media_"+this.app.util.uuid(10),resize:!0}},dimensions:this.app.config.thumbnailDims,domain:document.domain+(80===window.location.port?"":":"+window.location.port)};return this.getContext({media:a,thumberUrl:a.s3key?this.app.config.thumberUrl+"#"+encodeURIComponent(JSON.stringify(c)):
null})},afterRender:function(){this.app.messenger.targetFrame=this.$el.find("iframe")[0]},resizeIframe:function(a){this.$el.find("iframe").attr("height",parseInt(a)+60)},saveThumbnail:function(a){this.app.setFlash("info","Please Wait, Saving Image...")},captureThumbnail:function(){var a=this;a.app.messenger.send("capture",[],function(c){a.media.useThumbnail(c.substring(c.indexOf(",")+1))})}});w.exports=c})()},{"../../../templates/routes/media/thumb.hbs":63,"../../base":45}],64:[function(l,w,y){(function(){var c=
l("../../base"),a=l("../../../helpers/lib/holder.js"),c=c.extend({template:l("../../../templates/routes/media/carousel.hbs"),events:{"click a.bigClose":"exitPlayer","click a.reelToggle":"toggleReel","click a.app":"handleAppLink"},reelOpen:null,initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var c=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);this.listenTo(this.app,"videoEnded",this.advance,this);c.once("ready",
function(){var e=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});e?this.page.set(e.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)},this)},context:function(){var a=[],c=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(e){a.push(e.templateVars(c,
!0))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){this.$(".carousel").elastislide();null===this.reelOpen&&this.toggleReel(null,!1);a.run()},advance:function(a){var c=this,e=!1,k=null,l,v=encodeURIComponent(c.page.attributes.name),g,B,E,b=this.page.getMedia();if(this.page&&b){g=0;for(B=b.models.length;g<B;g++)if(E=b.models[g],a.id===E.id)e=!0;else if(e){k=E;break}k&&(l=k.templateVars(v).playerUrl,setTimeout(function(){c.app.navigate(l,{trigger:!0})},1E3))}},
toggleReel:function(a,c){a&&(a.preventDefault(),a.stopPropagation());!1!==c&&(this.reelOpen=!this.reelOpen);this.reelOpen?(this.$(".sliderWrap").slideDown(400),this.$(".symbol").html("&and;")):(this.$(".sliderWrap").slideUp(400),this.$(".symbol").html("&or;"))},exitPlayer:function(a){a.preventDefault();a.stopPropagation();this.app.navigate("page/"+this.page.attributes.name,{trigger:!0})}});w.exports=c})()},{"../../../helpers/lib/holder.js":49,"../../../templates/routes/media/carousel.hbs":65,"../../base":45}],
54:[function(l,w,y){(function(){(function(){var c=this,a=c.Backbone,t=[],p=t.push,e=t.slice,k=t.splice,A;A="undefined"!==typeof y?y:c.Backbone={};A.VERSION="1.0.0";var v=c._;v||"undefined"===typeof l||(v=l("underscore"));A.$=c.jQuery||c.Zepto||c.ender||c.$;A.noConflict=function(){c.Backbone=a;return this};A.emulateHTTP=!1;A.emulateJSON=!1;var g=A.Events={on:function(a,b,d){if(!E(this,"on",a,[b,d])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,
context:d,ctx:d||this});return this},once:function(a,b,d){if(!E(this,"once",a,[b,d])||!b)return this;var c=this,e=v.once(function(){c.off(a,e);b.apply(this,arguments)});e._callback=b;return this.on(a,e,d)},off:function(a,b,d){var c,e,g,n,q,k,t,p;if(!this._events||!E(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events={},this;n=a?[a]:v.keys(this._events);q=0;for(k=n.length;q<k;q++)if(a=n[q],g=this._events[a]){this._events[a]=c=[];if(b||d)for(t=0,p=g.length;t<p;t++)e=g[t],(b&&b!==e.callback&&
b!==e.callback._callback||d&&d!==e.context)&&c.push(e);c.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var d=e.call(arguments,1);if(!E(this,"trigger",a,d))return this;var c=this._events[a],h=this._events.all;c&&b(c,d);h&&b(h,arguments);return this},stopListening:function(a,b,d){var c=this._listeners;if(!c)return this;var e=!b&&!d;"object"===typeof b&&(d=this);a&&((c={})[a._listenerId]=a);for(var g in c)c[g].off(b,d,this),e&&delete this._listeners[g];
return this}},B=/\s+/,E=function(a,b,d,c){if(!d)return!0;if("object"===typeof d){for(var e in d)a[b].apply(a,[e,d[e]].concat(c));return!1}if(B.test(d)){d=d.split(B);e=0;for(var g=d.length;e<g;e++)a[b].apply(a,[d[e]].concat(c));return!1}return!0},b=function(a,b){var d,c=-1,e=a.length,g=b[0],n=b[1],q=b[2];switch(b.length){case 0:for(;++c<e;)(d=a[c]).callback.call(d.ctx);break;case 1:for(;++c<e;)(d=a[c]).callback.call(d.ctx,g);break;case 2:for(;++c<e;)(d=a[c]).callback.call(d.ctx,g,n);break;case 3:for(;++c<
e;)(d=a[c]).callback.call(d.ctx,g,n,q);break;default:for(;++c<e;)(d=a[c]).callback.apply(d.ctx,b)}};v.each({listenTo:"on",listenToOnce:"once"},function(a,b){g[b]=function(b,d,c){var e=this._listeners||(this._listeners={}),g=b._listenerId||(b._listenerId=v.uniqueId("l"));e[g]=b;"object"===typeof d&&(c=this);b[a](d,c,this);return this}});g.bind=g.on;g.unbind=g.off;v.extend(A,g);var d=A.Model=function(a,b){var d,c=a||{};b||(b={});this.cid=v.uniqueId("c");this.attributes={};v.extend(this,v.pick(b,n));
b.parse&&(c=this.parse(c,b)||{});if(d=v.result(this,"defaults"))c=v.defaults({},c,d);this.set(c,b);this.changed={};this.initialize.apply(this,arguments)},n=["url","urlRoot","collection"];v.extend(d.prototype,g,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return v.clone(this.attributes)},sync:function(){return A.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return v.escape(this.get(a))},has:function(a){return null!=
this.get(a)},set:function(a,b,d){var c,e,g,n,q,k,t;if(null==a)return this;"object"===typeof a?(e=a,d=b):(e={})[a]=b;d||(d={});if(!this._validate(e,d))return!1;g=d.unset;n=d.silent;a=[];q=this._changing;this._changing=!0;q||(this._previousAttributes=v.clone(this.attributes),this.changed={});t=this.attributes;k=this._previousAttributes;this.idAttribute in e&&(this.id=e[this.idAttribute]);for(c in e)b=e[c],v.isEqual(t[c],b)||a.push(c),v.isEqual(k[c],b)?delete this.changed[c]:this.changed[c]=b,g?delete t[c]:
t[c]=b;if(!n)for(a.length&&(this._pending=!0),b=0,c=a.length;b<c;b++)this.trigger("change:"+a[b],this,t[a[b]],d);if(q)return this;if(!n)for(;this._pending;)this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,v.extend({},b,{unset:!0}))},clear:function(a){var b={},d;for(d in this.attributes)b[d]=void 0;return this.set(b,v.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!v.isEmpty(this.changed):v.has(this.changed,
a)},changedAttributes:function(a){if(!a)return this.hasChanged()?v.clone(this.changed):!1;var b,d=!1,c=this._changing?this._previousAttributes:this.attributes,e;for(e in a)v.isEqual(c[e],b=a[e])||((d||(d={}))[e]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return v.clone(this._previousAttributes)},fetch:function(a){a=a?v.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;a.success=function(c){if(!b.set(b.parse(c,
a),a))return!1;d&&d(b,c,a);b.trigger("sync",b,c,a)};Q(this,a);return this.sync("read",this,a)},save:function(a,b,d){var c,e=this.attributes;null==a||"object"===typeof a?(c=a,d=b):(c={})[a]=b;if(c&&!(d&&d.wait||this.set(c,d)))return!1;d=v.extend({validate:!0},d);if(!this._validate(c,d))return!1;c&&d.wait&&(this.attributes=v.extend({},e,c));void 0===d.parse&&(d.parse=!0);var g=this,n=d.success;d.success=function(a){g.attributes=e;var b=g.parse(a,d);d.wait&&(b=v.extend(c||{},b));if(v.isObject(b)&&!g.set(b,
d))return!1;n&&n(g,a,d);g.trigger("sync",g,a,d)};Q(this,d);a=this.isNew()?"create":d.patch?"patch":"update";"patch"===a&&(d.attrs=c);a=this.sync(a,this,d);c&&d.wait&&(this.attributes=e);return a},destroy:function(a){a=a?v.clone(a):{};var b=this,d=a.success,c=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&c();d&&d(b,e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;Q(this,a);var e=this.sync("delete",this,a);a.wait||c();return e},
url:function(){var a=v.result(this,"urlRoot")||v.result(this.collection,"url")||ja();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},v.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=v.extend({},this.attributes,a);var d=this.validationError=
this.validate(a,b)||null;if(!d)return!0;this.trigger("invalid",this,d,v.extend(b||{},{validationError:d}));return!1}});v.each("keys values pairs invert pick omit".split(" "),function(a){d.prototype[a]=function(){var b=e.call(arguments);b.unshift(this.attributes);return v[a].apply(v,b)}});var q=A.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,
v.extend({silent:!0},b))},C={add:!0,remove:!0,merge:!0},w={add:!0,merge:!1,remove:!1};v.extend(q.prototype,g,{model:d,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return A.sync.apply(this,arguments)},add:function(a,b){return this.set(a,v.defaults(b||{},w))},remove:function(a,b){a=v.isArray(a)?a.slice():[a];b||(b={});var d,c,e,g;d=0;for(c=a.length;d<c;d++)if(g=this.get(a[d]))delete this._byId[g.id],delete this._byId[g.cid],e=this.indexOf(g),
this.models.splice(e,1),this.length--,b.silent||(b.index=e,g.trigger("remove",g,this,b)),this._removeReference(g);return this},set:function(a,b){b=v.defaults(b||{},C);b.parse&&(a=this.parse(a,b));v.isArray(a)||(a=a?[a]:[]);var d,c,e,g,n,q=b.at,t=this.comparator&&null==q&&!1!==b.sort,s=v.isString(this.comparator)?this.comparator:null,l=[],B=[],oa={};d=0;for(c=a.length;d<c;d++)if(e=this._prepareModel(a[d],b))(g=this.get(e))?(b.remove&&(oa[g.cid]=!0),b.merge&&(g.set(e.attributes,b),t&&(!n&&g.hasChanged(s))&&
(n=!0))):b.add&&(l.push(e),e.on("all",this._onModelEvent,this),this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e));if(b.remove){d=0;for(c=this.length;d<c;++d)oa[(e=this.models[d]).cid]||B.push(e);B.length&&this.remove(B,b)}l.length&&(t&&(n=!0),this.length+=l.length,null!=q?k.apply(this.models,[q,0].concat(l)):p.apply(this.models,l));n&&this.sort({silent:!0});if(b.silent)return this;d=0;for(c=l.length;d<c;d++)(e=l[d]).trigger("add",e,this,b);n&&this.trigger("sort",this,b);return this},reset:function(a,
b){b||(b={});for(var d=0,c=this.models.length;d<c;d++)this._removeReference(this.models[d]);b.previousModels=this.models;this._reset();this.add(a,v.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,v.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,v.extend({at:0},b));return a},shift:function(a){var b=
this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return v.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var d in a)if(a[d]!==b.get(d))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});v.isString(this.comparator)||
1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(v.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,d){b||(b=this.comparator);var c=v.isFunction(b)?b:function(a){return a.get(b)};return v.sortedIndex(this.models,a,c,d)},pluck:function(a){return v.invoke(this.models,"get",a)},fetch:function(a){a=a?v.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;a.success=function(c){d[a.reset?"reset":
"set"](c,a);b&&b(d,c,a);d.trigger("sync",d,c,a)};Q(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?v.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,c=b.success;b.success=function(e){b.wait&&d.add(a,b);c&&c(a,e,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof d)return a.collection||
(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,d,c){if("add"!==a&&"remove"!==a||d===this)"destroy"===a&&this.remove(b,c),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});v.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),
function(a){q.prototype[a]=function(){var b=e.call(arguments);b.unshift(this.models);return v[a].apply(v,b)}});v.each(["groupBy","countBy","sortBy"],function(a){q.prototype[a]=function(b,d){var c=v.isFunction(b)?b:function(a){return a.get(b)};return v[a](this.models,c,d)}});var t=A.View=function(a){this.cid=v.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},D=/^(\S+)\s*(.*)$/,G="model collection el id attributes className tagName events".split(" ");
v.extend(t.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof A.$?a:A.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=v.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];v.isFunction(d)||
(d=this[a[b]]);if(d){var c=b.match(D),e=c[1],c=c[2],d=v.bind(d,this),e=e+(".delegateEvents"+this.cid);if(""===c)this.$el.on(e,d);else this.$el.on(e,c,d)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=v.extend({},v.result(this,"options"),a));v.extend(this,v.pick(a,G));this.options=a},_ensureElement:function(){if(this.el)this.setElement(v.result(this,"el"),!1);else{var a=v.extend({},v.result(this,"attributes"));
this.id&&(a.id=v.result(this,"id"));this.className&&(a["class"]=v.result(this,"className"));a=A.$("<"+v.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});A.sync=function(a,b,d){var c=T[a];v.defaults(d||(d={}),{emulateHTTP:A.emulateHTTP,emulateJSON:A.emulateJSON});var e={type:c,dataType:"json"};d.url||(e.url=v.result(b,"url")||ja());null!=d.data||(!b||"create"!==a&&"update"!==a&&"patch"!==a)||(e.contentType="application/json",e.data=JSON.stringify(d.attrs||b.toJSON(d)));d.emulateJSON&&
(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{});if(d.emulateHTTP&&("PUT"===c||"DELETE"===c||"PATCH"===c)){e.type="POST";d.emulateJSON&&(e.data._method=c);var g=d.beforeSend;d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",c);if(g)return g.apply(this,arguments)}}"GET"===e.type||d.emulateJSON||(e.processData=!1);"PATCH"!==e.type||(!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled)||(e.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});
a=d.xhr=A.ajax(v.extend(e,d));b.trigger("request",b,a,d);return a};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};A.ajax=function(){return A.$.ajax.apply(A.$,arguments)};var W=A.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},s=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,oa=/\*\w+/g,mb=/[\-{}\[\]+?.,\\\^$|#\s]/g;v.extend(W.prototype,g,{initialize:function(){},route:function(a,b,d){v.isRegExp(a)||(a=this._routeToRegExp(a));
v.isFunction(b)&&(d=b,b="");d||(d=this[b]);var c=this;A.history.route(a,function(e){e=c._extractParameters(a,e);d&&d.apply(c,e);c.trigger.apply(c,["route:"+b].concat(e));c.trigger("route",b,e);A.history.trigger("route",c,b,e)});return this},navigate:function(a,b){A.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=v.result(this,"routes");for(var a,b=v.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(mb,"\\$&").replace(s,
"(?:$1)?").replace(I,function(a,b){return b?a:"([^/]+)"}).replace(oa,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return v.map(d,function(a){return a?decodeURIComponent(a):null})}});var M=A.History=function(){this.handlers=[];v.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},va=/^[#\/]|\s+$/g,pa=/^\/+|\/+$/g,X=/msie [\w.]+/,qa=/\/$/;M.started=!1;v.extend(M.prototype,g,{interval:50,getHash:function(a){return(a=
(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var d=this.root.replace(qa,"");a.indexOf(d)||(a=a.substr(d.length))}else a=this.getHash();return a.replace(va,"")},start:function(a){if(M.started)throw Error("Backbone.history has already been started");M.started=!0;this.options=v.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;
this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=X.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(pa,"/");b&&this._wantsHashChange&&(this.iframe=A.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)A.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&
"onhashchange"in window&&!b)A.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=
this.getHash().replace(va,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){A.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);M.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return v.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!M.started)return!1;b&&!0!==b||(b={trigger:b});a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var d=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(d);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,d){d?(d=a.href.replace(/(javascript:|#).*$/,""),a.replace(d+"#"+b)):a.hash="#"+b}});A.history=new M;d.extend=q.extend=W.extend=t.extend=M.extend=function(a,b){var d=this,c;c=a&&v.has(a,"constructor")?a.constructor:function(){return d.apply(this,
arguments)};v.extend(c,d,b);var e=function(){this.constructor=c};e.prototype=d.prototype;c.prototype=new e;a&&v.extend(c.prototype,a);c.__super__=d.prototype;return c};var ja=function(){throw Error('A "url" property or function must be specified');},Q=function(a,b){var d=b.error;b.error=function(c){d&&d(a,c,b);a.trigger("error",a,c,b)}}}).call(this)})()},{underscore:66}],55:[function(l,w,y){(function(){var c=l("./base"),a=l("./video"),t=l("./image"),p=l("backbone"),e=l("lodash"),c=c.extend({name:"page",
urlRoot:function(){return this.app.config.baseUrl+"/pages"},defaults:{name:"Untitled",items:[],userId:"",isPublished:!1,errors:null},initialize:function(a,c){this.set(a);this.app=c.app||{}},validate:function(a,c){var e=[];a.name&&0!=a.name.length||e.push({attr:"name",message:"Page title cannot be empty"});if(!a.id){var g=this.app.db.fetchCollection("pages").filter(function(c){return c.attributes.name.toLowerCase()===a.name.toLowerCase()});g&&0<g.length&&e.push({attr:"name",message:"Another page already exists with this name"})}if(e.length)return e},
sync:function(a,c,e){"create"!==a&&"update"!==a||c.set("itemList",JSON.stringify(c.get("items")));p.sync(a,c,e)},parse:function(a,c){a=a.page;delete a.page;try{a.items=JSON.parse(a.itemList)}catch(e){a.items=[]}finally{delete a.itemList}return a},getMedia:function(){return this.app.db.fetchCollection("pageMedia",{app:this.app,pageId:this.id})},addMedia:function(c,p){var l=this;filepicker.pickAndStore({extensions:l.app.config.videoExts.concat(l.app.config.imageExts),multiple:!0,signature:l.app.getUser().attributes.signature,
policy:l.app.getUser().attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP"],debug:p?!0:!1},{location:"s3",path:l.app.getUser().attributes.path,access:"public"},function(g){"[object Array]"!==Object.prototype.toString.call(g)&&(g=[g]);for(var B=e.clone(l.attributes.items),E=g.length,b=function(a,b,d,e){B.push({ID:a,NAME:b,TYPE:d,THUMB:"http://placehold.it/320x180"});E--;0===E&&(l.set("items",B),l.save(null,{success:function(){l.app.db.fetchCollection("unprocessedUploads").fetch();
l.app.db.fetchCollection("pages").fetch();e();c(null,g)},error:c}))},d=0,n=g.length;d<n;d++)(function(d){var c,e,g={name:d.filename,fpkey:d.url,mimeType:d.mimetype,originalFilesize:d.size,userId:l.attributes.userId,attribs:[],status:0};l.app.util.isVideo(d.filename)?(c=new a({},{app:l.app}),e="video"):l.app.util.isImage(d.filename)&&(c=new t({},{app:l.app}),e="image");c.set(g);p&&c.set("debug",!0);c.save(null,{success:function(a,d){b(a.attributes.id,a.attributes.name,e,p?p:function(){})},error:l.app.error})})(g[d])},
function(a){c(a)})}});w.exports=c})()},{"./base":36,"./image":38,"./video":40,backbone:54,lodash:34}],56:[function(l,w,y){(function(){var c=l("./base"),a=l("lodash"),c=c.extend({name:"media",initialize:function(a,c){this.set(a);this.app=c.app||{};this.pageId=c.pageId||null;this.model=function(a,k){return"image"===a.type?c.app.db.createModel("image",a):c.app.db.createModel("video",a)}},url:function(){return this.app.config.baseUrl+"/pages/"+this.pageId+"/media.json"},parse:function(c,p){return a.isEmpty(c.media)?
[]:c.media}});w.exports=c})()},{"./base":59,lodash:34}],57:[function(l,w,y){(function(){var c=l("./base");l("../models/page");var a=l("lodash"),c=c.extend({name:"page",url:function(){return this.app.config.baseUrl+"/pages.json?userId="+this.app.bootstrap.userId},initialize:function(a,c){this.set(a);this.app=c.app||{};this.model=function(a,k){var t=c.app.db.createModel("page");return c.app.db.createModel("page",t.parse(a))}},parse:function(c,p){return a.isEmpty(c.pages)?[]:c.pages}});w.exports=c})()},
{"../models/page":55,"./base":59,lodash:34}],58:[function(l,w,y){(function(){var c=l("./base");l("../models/image.js");l("../models/video.js");var a=l("lodash"),c=c.extend({name:"media",url:function(){return this.app.config.baseUrl+"/unprocessed.json"},initialize:function(a,c){this.set(a);this.app=c.app||{};this.model=function(a,k){return"image"===a.type?c.app.db.createModel("image").set(a):c.app.db.createModel("video").set(a)}},parse:function(c,l){return a.isEmpty(c.media)?[]:c.media}});w.exports=
c})()},{"../models/image.js":38,"../models/video.js":40,"./base":59,lodash:34}],66:[function(l,w,y){(function(){(function(){var c=this,a=c._,t={},l=Array.prototype,e=Object.prototype,k=l.push,A=l.slice,v=l.concat,g=e.toString,B=e.hasOwnProperty,E=l.forEach,b=l.map,d=l.reduce,n=l.reduceRight,q=l.filter,C=l.every,K=l.some,D=l.indexOf,G=l.lastIndexOf,e=Array.isArray,T=Object.keys,W=Function.prototype.bind,s=function(a){if(a instanceof s)return a;if(!(this instanceof s))return new s(a);this._wrapped=
a};"undefined"!==typeof y?("undefined"!==typeof w&&w.exports&&(y=w.exports=s),y._=s):c._=s;s.VERSION="1.5.1";var I=s.each=s.forEach=function(a,b,d){if(null!=a)if(E&&a.forEach===E)a.forEach(b,d);else if(a.length===+a.length)for(var c=0,e=a.length;c<e&&b.call(d,a[c],c,a)!==t;c++);else for(c in a)if(s.has(a,c)&&b.call(d,a[c],c,a)===t)break};s.map=s.collect=function(a,d,c){var e=[];if(null==a)return e;if(b&&a.map===b)return a.map(d,c);I(a,function(a,b,h){e.push(d.call(c,a,b,h))});return e};s.reduce=s.foldl=
s.inject=function(a,b,c,e){var g=2<arguments.length;null==a&&(a=[]);if(d&&a.reduce===d)return e&&(b=s.bind(b,e)),g?a.reduce(b,c):a.reduce(b);I(a,function(a,d,h){g?c=b.call(e,c,a,d,h):(c=a,g=!0)});if(!g)throw new TypeError("Reduce of empty array with no initial value");return c};s.reduceRight=s.foldr=function(a,b,d,c){var e=2<arguments.length;null==a&&(a=[]);if(n&&a.reduceRight===n)return c&&(b=s.bind(b,c)),e?a.reduceRight(b,d):a.reduceRight(b);var g=a.length;if(g!==+g)var q=s.keys(a),g=q.length;I(a,
function(n,k,t){k=q?q[--g]:--g;e?d=b.call(c,d,a[k],k,t):(d=a[k],e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return d};s.find=s.detect=function(a,b,d){var c;oa(a,function(a,h,e){if(b.call(d,a,h,e))return c=a,!0});return c};s.filter=s.select=function(a,b,d){var c=[];if(null==a)return c;if(q&&a.filter===q)return a.filter(b,d);I(a,function(a,h,e){b.call(d,a,h,e)&&c.push(a)});return c};s.reject=function(a,b,d){return s.filter(a,function(a,c,h){return!b.call(d,a,c,h)},
d)};s.every=s.all=function(a,b,d){b||(b=s.identity);var c=!0;if(null==a)return c;if(C&&a.every===C)return a.every(b,d);I(a,function(a,h,e){if(!(c=c&&b.call(d,a,h,e)))return t});return!!c};var oa=s.some=s.any=function(a,b,d){b||(b=s.identity);var c=!1;if(null==a)return c;if(K&&a.some===K)return a.some(b,d);I(a,function(a,h,e){if(c||(c=b.call(d,a,h,e)))return t});return!!c};s.contains=s.include=function(a,b){return null==a?!1:D&&a.indexOf===D?-1!=a.indexOf(b):oa(a,function(a){return a===b})};s.invoke=
function(a,b){var d=A.call(arguments,2),c=s.isFunction(b);return s.map(a,function(a){return(c?b:a[b]).apply(a,d)})};s.pluck=function(a,b){return s.map(a,function(a){return a[b]})};s.where=function(a,b,d){return s.isEmpty(b)?d?void 0:[]:s[d?"find":"filter"](a,function(a){for(var d in b)if(b[d]!==a[d])return!1;return!0})};s.findWhere=function(a,b){return s.where(a,b,!0)};s.max=function(a,b,d){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&s.isEmpty(a))return-Infinity;
var c={computed:-Infinity,value:-Infinity};I(a,function(a,h,e){h=b?b.call(d,a,h,e):a;h>c.computed&&(c={value:a,computed:h})});return c.value};s.min=function(a,b,d){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&s.isEmpty(a))return Infinity;var c={computed:Infinity,value:Infinity};I(a,function(a,e,h){e=b?b.call(d,a,e,h):a;e<c.computed&&(c={value:a,computed:e})});return c.value};s.shuffle=function(a){var b,d=0,c=[];I(a,function(a){b=s.random(d++);c[d-1]=c[b];
c[b]=a});return c};var mb=function(a){return s.isFunction(a)?a:function(b){return b[a]}};s.sortBy=function(a,b,d){var c=mb(b);return s.pluck(s.map(a,function(a,b,e){return{value:a,index:b,criteria:c.call(d,a,b,e)}}).sort(function(a,b){var d=a.criteria,c=b.criteria;if(d!==c){if(d>c||void 0===d)return 1;if(d<c||void 0===c)return-1}return a.index<b.index?-1:1}),"value")};var M=function(a,b,d,c){var e={},g=mb(null==b?s.identity:b);I(a,function(b,n){var q=g.call(d,b,n,a);c(e,q,b)});return e};s.groupBy=
function(a,b,d){return M(a,b,d,function(a,b,d){(s.has(a,b)?a[b]:a[b]=[]).push(d)})};s.countBy=function(a,b,d){return M(a,b,d,function(a,b){s.has(a,b)||(a[b]=0);a[b]++})};s.sortedIndex=function(a,b,d,c){d=null==d?s.identity:mb(d);b=d.call(c,b);for(var e=0,g=a.length;e<g;){var n=e+g>>>1;d.call(c,a[n])<b?e=n+1:g=n}return e};s.toArray=function(a){return a?s.isArray(a)?A.call(a):a.length===+a.length?s.map(a,s.identity):s.values(a):[]};s.size=function(a){return null==a?0:a.length===+a.length?a.length:s.keys(a).length};
s.first=s.head=s.take=function(a,b,d){return null==a?void 0:null==b||d?a[0]:A.call(a,0,b)};s.initial=function(a,b,d){return A.call(a,0,a.length-(null==b||d?1:b))};s.last=function(a,b,d){return null==a?void 0:null==b||d?a[a.length-1]:A.call(a,Math.max(a.length-b,0))};s.rest=s.tail=s.drop=function(a,b,d){return A.call(a,null==b||d?1:b)};s.compact=function(a){return s.filter(a,s.identity)};var va=function(a,b,d){if(b&&s.every(a,s.isArray))return v.apply(d,a);I(a,function(a){s.isArray(a)||s.isArguments(a)?
b?k.apply(d,a):va(a,b,d):d.push(a)});return d};s.flatten=function(a,b){return va(a,b,[])};s.without=function(a){return s.difference(a,A.call(arguments,1))};s.uniq=s.unique=function(a,b,d,c){s.isFunction(b)&&(c=d,d=b,b=!1);d=d?s.map(a,d,c):a;var e=[],g=[];I(d,function(d,c){(b?c&&g[g.length-1]===d:s.contains(g,d))||(g.push(d),e.push(a[c]))});return e};s.union=function(){return s.uniq(s.flatten(arguments,!0))};s.intersection=function(a){var b=A.call(arguments,1);return s.filter(s.uniq(a),function(a){return s.every(b,
function(b){return 0<=s.indexOf(b,a)})})};s.difference=function(a){var b=v.apply(l,A.call(arguments,1));return s.filter(a,function(a){return!s.contains(b,a)})};s.zip=function(){for(var a=s.max(s.pluck(arguments,"length").concat(0)),b=Array(a),d=0;d<a;d++)b[d]=s.pluck(arguments,""+d);return b};s.object=function(a,b){if(null==a)return{};for(var d={},c=0,e=a.length;c<e;c++)b?d[a[c]]=b[c]:d[a[c][0]]=a[c][1];return d};s.indexOf=function(a,b,d){if(null==a)return-1;var c=0,e=a.length;if(d)if("number"==typeof d)c=
0>d?Math.max(0,e+d):d;else return c=s.sortedIndex(a,b),a[c]===b?c:-1;if(D&&a.indexOf===D)return a.indexOf(b,d);for(;c<e;c++)if(a[c]===b)return c;return-1};s.lastIndexOf=function(a,b,d){if(null==a)return-1;var c=null!=d;if(G&&a.lastIndexOf===G)return c?a.lastIndexOf(b,d):a.lastIndexOf(b);for(d=c?d:a.length;d--;)if(a[d]===b)return d;return-1};s.range=function(a,b,d){1>=arguments.length&&(b=a||0,a=0);d=arguments[2]||1;for(var c=Math.max(Math.ceil((b-a)/d),0),e=0,g=Array(c);e<c;)g[e++]=a,a+=d;return g};
var pa=function(){};s.bind=function(a,b){var d,c;if(W&&a.bind===W)return W.apply(a,A.call(arguments,1));if(!s.isFunction(a))throw new TypeError;d=A.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(A.call(arguments)));pa.prototype=a.prototype;var e=new pa;pa.prototype=null;var g=a.apply(e,d.concat(A.call(arguments)));return Object(g)===g?g:e}};s.partial=function(a){var b=A.call(arguments,1);return function(){return a.apply(this,b.concat(A.call(arguments)))}};
s.bindAll=function(a){var b=A.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");I(b,function(b){a[b]=s.bind(a[b],a)});return a};s.memoize=function(a,b){var d={};b||(b=s.identity);return function(){var c=b.apply(this,arguments);return s.has(d,c)?d[c]:d[c]=a.apply(this,arguments)}};s.delay=function(a,b){var d=A.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};s.defer=function(a){return s.delay.apply(s,[a,1].concat(A.call(arguments,1)))};
s.throttle=function(a,b,d){var c,e,g,n=null,q=0;d||(d={});var k=function(){q=!1===d.leading?0:new Date;n=null;g=a.apply(c,e)};return function(){var t=new Date;q||!1!==d.leading||(q=t);var l=b-(t-q);c=this;e=arguments;0>=l?(clearTimeout(n),n=null,q=t,g=a.apply(c,e)):n||!1===d.trailing||(n=setTimeout(k,l));return g}};s.debounce=function(a,b,d){var c,e=null;return function(){var g=this,n=arguments,q=d&&!e;clearTimeout(e);e=setTimeout(function(){e=null;d||(c=a.apply(g,n))},b);q&&(c=a.apply(g,n));return c}};
s.once=function(a){var b=!1,d;return function(){if(b)return d;b=!0;d=a.apply(this,arguments);a=null;return d}};s.wrap=function(a,b){return function(){var d=[a];k.apply(d,arguments);return b.apply(this,d)}};s.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;0<=d;d--)b=[a[d].apply(this,b)];return b[0]}};s.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};s.keys=T||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=
[],d;for(d in a)s.has(a,d)&&b.push(d);return b};s.values=function(a){var b=[],d;for(d in a)s.has(a,d)&&b.push(a[d]);return b};s.pairs=function(a){var b=[],d;for(d in a)s.has(a,d)&&b.push([d,a[d]]);return b};s.invert=function(a){var b={},d;for(d in a)s.has(a,d)&&(b[a[d]]=d);return b};s.functions=s.methods=function(a){var b=[],d;for(d in a)s.isFunction(a[d])&&b.push(d);return b.sort()};s.extend=function(a){I(A.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};s.pick=function(a){var b=
{},d=v.apply(l,A.call(arguments,1));I(d,function(d){d in a&&(b[d]=a[d])});return b};s.omit=function(a){var b={},d=v.apply(l,A.call(arguments,1)),c;for(c in a)s.contains(d,c)||(b[c]=a[c]);return b};s.defaults=function(a){I(A.call(arguments,1),function(b){if(b)for(var d in b)void 0===a[d]&&(a[d]=b[d])});return a};s.clone=function(a){return s.isObject(a)?s.isArray(a)?a.slice():s.extend({},a):a};s.tap=function(a,b){b(a);return a};var X=function(a,b,d,c){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==
b)return a===b;a instanceof s&&(a=a._wrapped);b instanceof s&&(b=b._wrapped);var e=g.call(a);if(e!=g.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var n=d.length;n--;)if(d[n]==a)return c[n]==
b;var n=a.constructor,q=b.constructor;if(n!==q&&!(s.isFunction(n)&&n instanceof n&&s.isFunction(q)&&q instanceof q))return!1;d.push(a);c.push(b);n=0;q=!0;if("[object Array]"==e){if(n=a.length,q=n==b.length)for(;n--&&(q=X(a[n],b[n],d,c)););}else{for(var k in a)if(s.has(a,k)&&(n++,!(q=s.has(b,k)&&X(a[k],b[k],d,c))))break;if(q){for(k in b)if(s.has(b,k)&&!n--)break;q=!n}}d.pop();c.pop();return q};s.isEqual=function(a,b){return X(a,b,[],[])};s.isEmpty=function(a){if(null==a)return!0;if(s.isArray(a)||s.isString(a))return 0===
a.length;for(var b in a)if(s.has(a,b))return!1;return!0};s.isElement=function(a){return!(!a||1!==a.nodeType)};s.isArray=e||function(a){return"[object Array]"==g.call(a)};s.isObject=function(a){return a===Object(a)};I("Arguments Function String Number Date RegExp".split(" "),function(a){s["is"+a]=function(b){return g.call(b)=="[object "+a+"]"}});s.isArguments(arguments)||(s.isArguments=function(a){return!(!a||!s.has(a,"callee"))});"function"!==typeof/./&&(s.isFunction=function(a){return"function"===
typeof a});s.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};s.isNaN=function(a){return s.isNumber(a)&&a!=+a};s.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==g.call(a)};s.isNull=function(a){return null===a};s.isUndefined=function(a){return void 0===a};s.has=function(a,b){return B.call(a,b)};s.noConflict=function(){c._=a;return this};s.identity=function(a){return a};s.times=function(a,b,d){for(var c=Array(Math.max(0,a)),e=0;e<a;e++)c[e]=b.call(d,e);return c};s.random=
function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var qa={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};qa.unescape=s.invert(qa.escape);var ja={escape:RegExp("["+s.keys(qa.escape).join("")+"]","g"),unescape:RegExp("("+s.keys(qa.unescape).join("|")+")","g")};s.each(["escape","unescape"],function(a){s[a]=function(b){return null==b?"":(""+b).replace(ja[a],function(b){return qa[a][b]})}});s.result=function(a,b){if(null!=a){var d=a[b];return s.isFunction(d)?
d.call(a):d}};s.mixin=function(a){I(s.functions(a),function(b){var d=s[b]=a[b];s.prototype[b]=function(){var a=[this._wrapped];k.apply(a,arguments);a=d.apply(s,a);return this._chain?s(a).chain():a}})};var Q=0;s.uniqueId=function(a){var b=++Q+"";return a?a+b:b};s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},ka=/\\|'|\r|\n|\t|\u2028|\u2029/g;s.template=
function(a,b,d){var c;d=s.defaults({},d,s.templateSettings);var e=RegExp([(d.escape||H).source,(d.interpolate||H).source,(d.evaluate||H).source].join("|")+"|$","g"),g=0,n="__p+='";a.replace(e,function(b,d,c,e,f){n+=a.slice(g,f).replace(ka,function(a){return"\\"+J[a]});d&&(n+="'+\n((__t=("+d+"))==null?'':_.escape(__t))+\n'");c&&(n+="'+\n((__t=("+c+"))==null?'':__t)+\n'");e&&(n+="';\n"+e+"\n__p+='");g=f+b.length;return b});n+="';\n";d.variable||(n="with(obj||{}){\n"+n+"}\n");n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
n+"return __p;\n";try{c=new Function(d.variable||"obj","_",n)}catch(q){throw q.source=n,q;}if(b)return c(b,s);b=function(a){return c.call(this,a,s)};b.source="function("+(d.variable||"obj")+"){\n"+n+"}";return b};s.chain=function(a){return s(a).chain()};s.mixin(s);I("pop push reverse shift sort splice unshift".split(" "),function(a){var b=l[a];s.prototype[a]=function(){var d=this._wrapped;b.apply(d,arguments);"shift"!=a&&"splice"!=a||0!==d.length||delete d[0];return this._chain?s(d).chain():d}});
I(["concat","join","slice"],function(a){var b=l[a];s.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?s(a).chain():a}});s.extend(s.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this)})()},{}],31:[function(l,w,y){(function(){var c=l("../../base"),a=l("lodash"),t=l("../../layout/navbar.js"),p=l("../../layout/footer.js"),e=l("../../routes/media/thumb.js"),c=c.extend({template:l("../../../templates/routes/media/edit.hbs"),
events:{submit:"performSave","click a.btn-danger":"performDelete","click a.upload":"performPick","click a.crop":"performCrop","click a.capture":"performCapture","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.mediaType=a.mediaType;this.mediaId=a.mediaId;this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.media,"change",this.render,this);this.renderOnReady(this.media)},afterRender:function(){var c=
new t({app:this.app}),l=new e({app:this.app,mediaType:this.mediaType,mediaId:this.mediaId}),v=new p({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(l,this.$("#thumber"));this.appendSubview(v,this.$("#footer"));this.eachSubview(function(a){a.render()});a.defer(function(){this.$("div.tagsinput").remove();this.$("input[name=attribs]").tagsInput()},this)},context:function(){return this.getContext({media:this.media.templateVars()})},performSave:function(a){var c=this;a.preventDefault();
a=this.$("input[name=name]").val();var e=this.$("input[name=attribs]").val().split(",");this.media.save({userId:c.app.getUser().attributes.id,name:a,attribs:e},{success:function(){c.app.db.fetchCollection("unprocessedUploads").fetch({success:function(){var a=c.media.attributes.type.charAt(0).toUpperCase(),a=a+c.media.attributes.type.substr(1);c.app.setFlash("success",a+" Saved!")},error:c.app.error})},error:c.app.error})},performDelete:function(a){a.preventDefault();a.stopPropagation();var c=this;
if(confirm("Are you sure you want to delete "+c.media.attributes.name+"?"))filepicker.remove(c.media.fpfile(),{policy:c.app.getUser().attributes.policy,signature:c.app.getUser().attributes.signature},function(){c.media.destroy({success:function(){c.app.navigate("",{trigger:!0})},error:c.app.error})},c.app.error);else return!1},performPick:function(a){a.preventDefault();a.stopPropagation();this.media.pickThumbnail()},performCrop:function(a){a.preventDefault();a.stopPropagation();this.app.trigger("captureThumbnail")},
performCapture:function(a){a.preventDefault();a.stopPropagation();this.app.trigger("captureThumbnail")}});w.exports=c})()},{"../../../templates/routes/media/edit.hbs":67,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42,"../../routes/media/thumb.js":62,lodash:34}],29:[function(l,w,y){(function(){var c=l("../../base"),a=l("lodash"),t=l("js-thumb"),p=l("./carousel");l("videojs");c=c.extend({template:l("../../../templates/routes/media/show.hbs"),events:{},initialize:function(a){this.app=
a.app;this.pageName=a.pageName;this.mediaType=a.mediaType;this.mediaId=a.mediaId;var c=this.app.db.fetchCollection("pages");this.page=this.app.db.fetchModel("page",a.mediaId);this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.page.id&&this.page.fetch();this.media.id&&this.media.fetch();this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);this.listenTo(this.media,"change",this.render,this);c.once("ready",function(){var t=c.find(function(c){return c.attributes.name.toLowerCase()===
a.pageName.toLowerCase()});t?this.page.set(t.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var c=this,k=this.media.templateVars(),l=new p({app:this.app,pageName:this.pageName}),v=function(a,k,t){if(a)c.app.error(a);else t.on("ended",function(){c.app.trigger("videoEnded",c.media)})};this.appendSubview(l,this.$("#carouselWrapper"));this.eachSubview(function(a){a.render()});"video"===this.media.attributes.type&&a.defer(function(){t.loadVideo(this.$("#vid_placeholder")[0],
{autoplay:!0,resize:!0,sources:[{src:k.url,type:c.app.util.mime(c.media.attributes.mimeType)}]},v)},this)},context:function(){return this.getContext({media:this.media.templateVars()})}});w.exports=c})()},{"../../../templates/routes/media/show.hbs":68,"../../base":45,"./carousel":64,"js-thumb":70,lodash:34,videojs:69}],39:[function(l,w,y){(function(){(function(){var c=l("./base"),a=l("backbone"),t=l("lodash"),c=c.extend({name:"media",urlRoot:function(){return this.app.config.baseUrl+"/Media_is_an_abstract_class_do_not_use_it"},
defaults:{name:"Untitled",s3key:null,fpkey:null,mimeType:null,originalFilesize:null,userId:null,thumbnailS3key:null,thumbnailFpkey:null,attribs:[],reviewIssue:null,status:0,type:"unknown"},sync:function(c,e,k){var t=this;"create"!==c&&"update"!==c||e.set("userAttributes",JSON.stringify(e.get("attribs")));var l=function(){!e.attributes.thumbnailS3key&&e.attributes.thumbnailFpkey&&!0!==e.attributes.debug?filepicker.stat(t.thumbnailFpfile(),{path:!0,policy:t.app.db.fetchModel("user").attributes.policy,
signature:t.app.db.fetchModel("user").attributes.signature},function(g){e.set("thumbnailS3key",g.path);a.sync(c,e,k)}):a.sync(c,e,k)};!e.attributes.s3key&&e.attributes.fpkey&&!0!==e.attributes.debug?filepicker.stat(t.fpfile(),{path:!0,policy:t.app.db.fetchModel("user").attributes.policy,signature:t.app.db.fetchModel("user").attributes.signature},function(a){e.set("s3key",a.path);l()}):l()},destroy:function(c){var e=this;if(c.success){var k=c.success;c.success=function(){e.app.db.fetchCollection("unprocessedUploads").fetch();
k&&k()}}a.sync("delete",this,c)},parse:function(a,c){a.image&&(a=a.image,delete a.image);a.video&&(a=a.video,delete a.video);try{a.attribs=JSON.parse(a.userAttributes)}catch(k){a.attribs=[]}finally{delete a.userAttributes}return a},pickThumbnail:function(){var a=this;filepicker.pick({extensions:a.app.config.imageExts,path:a.app.db.fetchModel("user").attributes.path,signature:a.app.db.fetchModel("user").attributes.signature,policy:a.app.db.fetchModel("user").attributes.policy,services:"COMPUTER DROPBOX FLICKR GOOGLE_DRIVE FTP URL IMAGE_SEARCH".split(" ")},
function(c){a.cropThumbnail(c)},function(c){101!==c.code&&a.app.error(c)})},cropThumbnail:function(a){var c=this;a||(a=c.fpfile());c.app.setFlash("info","Please wait while we process the image...");filepicker.convert(a,{signature:c.app.db.fetchModel("user").attributes.signature,policy:c.app.db.fetchModel("user").attributes.policy,width:c.app.config.thumbnailDims.width,height:c.app.config.thumbnailDims.height,fit:"crop"},{path:c.app.getUser().attributes.path,location:"s3",access:"public"},function(a){c.save({thumbnailFpkey:a.url,
thumbnailS3key:null},{success:function(){c.app.setFlash("success","Thumbnail saved!");c.app.db.fetchCollection("unprocessedUploads").fetch()},error:c.app.error})},function(a){c.app.error(a)})},useThumbnail:function(a){var c=this;c.app.setFlash("info","Please wait while we process the image...");filepicker.store(a,{signature:c.app.getUser().attributes.signature,policy:c.app.getUser().attributes.policy,mimetype:"image/png",base64decode:!0,path:c.app.getUser().attributes.path,location:"s3",access:"public"},
function(a){c.save({thumbnailFpkey:a.url,thumbnailS3key:null},{success:function(){c.app.setFlash("success","Thumbnail saved!");c.app.db.fetchCollection("unprocessedUploads").fetch()},error:c.app.error})},function(a){c.app.error(a)})},fpfile:function(){return{url:this.attributes.fpkey,filename:this.attributes.name,mimetype:this.attributes.mimeType,isWriteable:!1,size:this.attributes.originalFilesize}},thumbnailFpfile:function(){return{url:this.attributes.thumbnailFpkey}},templateVars:function(a,c){var k=
t.clone(this.attributes);c=!0===c;k.s3key?k.url=self.app.config.s3prefix+k.s3key:k.thumbnailUrl=self.app.util.placeholderThumbnail(c);k.thumbnailUrl=k.thumbnailS3key?self.app.config.s3prefix+k.thumbnailS3key:self.app.util.placeholderThumbnail(c);k.isImage="image"===k.type;k.isVideo="video"===k.type;k.attribs=t.map(k.attribs,function(a){return a.replace(/^(.*:)/,"<strong>$1</strong>")});this.app.isLoggedIn()&&(k.editHref="/media/"+k.type+"/"+k.id+"/edit");a&&(k.playerUrl="page/"+a+"/"+k.type+"/"+k.id);
return k}});w.exports=c})()})()},{"./base":36,backbone:54,lodash:34}],45:[function(l,w,y){(function(){var c=l("ribcage-view"),a=l("lodash"),c=c.extend({renderOnReady:function(){var c=Array.prototype.slice.call(arguments),l=this,e=c.length,k=function(){e--;0>e&&l.render()};a.each(c,function(a){a.once("ready",k,a)});k()},getContext:function(c){c=c||{};var l={isLoggedIn:this.app.isLoggedIn(),flash:a.clone(this.app.flash),debug:this.app.bootstrap.debug?!0:!1},e=this.app.getUserVars();return a.extend({},
e,l,c)},context:function(){return this.getContext()},handleAppLink:function(a){this.app.handleAppLink(a)},events:{"click a.app":"handleAppLink"},beforeRender:function(){this.eachSubview(function(a){a.close()});this.$el.empty()}});w.exports=c})()},{lodash:34,"ribcage-view":71}],69:[function(l,w,y){(function(){(function(){function c(a){return function(){throw Error('The "'+a+"\" method is not available on the playback technology's API");}}document.createElement("video");document.createElement("audio");
var a=function(b,d,c){if("string"===typeof b){0===b.indexOf("#")&&(b=b.slice(1));if(a.players[b])return a.players[b];b=a.el(b)}if(!b||!b.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return b.player||new a.Player(b,d,c)},l=a;a.CDN_VERSION="4.0";a.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://";a.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},
loadingSpinner:{},bigPlayButton:{},controlBar:{}}};"GENERATED_CDN_VSN"!==a.CDN_VERSION&&(l.options.flash.swf=a.ACCESS_PROTOCOL+"vjs.zencdn.net/"+a.CDN_VERSION+"/video-js.swf");a.players={};a.CoreObject=a.CoreObject=function(){};a.CoreObject.extend=function(b){var d,c;b=b||{};d=b.init||b.init||this.prototype.init||this.prototype.init||function(){};c=function(){d.apply(this,arguments)};c.prototype=a.obj.create(this.prototype);c.prototype.constructor=c;c.extend=a.CoreObject.extend;c.create=a.CoreObject.create;
for(var e in b)b.hasOwnProperty(e)&&(c.prototype[e]=b[e]);return c};a.CoreObject.create=function(){var b=a.obj.create(this.prototype);this.apply(b,arguments);return b};a.on=function(b,d,c){var e=a.getData(b);e.handlers||(e.handlers={});e.handlers[d]||(e.handlers[d]=[]);c.guid||(c.guid=a.guid++);e.handlers[d].push(c);e.dispatcher||(e.disabled=!1,e.dispatcher=function(d){if(!e.disabled){d=a.fixEvent(d);var c=e.handlers[d.type];if(c)for(var c=c.slice(0),g=0,n=c.length;g<n&&!d.isImmediatePropagationStopped();g++)c[g].call(b,
d)}});1==e.handlers[d].length&&(document.addEventListener?b.addEventListener(d,e.dispatcher,!1):document.attachEvent&&b.attachEvent("on"+d,e.dispatcher))};a.off=function(b,d,c){if(a.hasData(b)){var e=a.getData(b);if(e.handlers)if(d){var g=e.handlers[d];if(g){if(!c)e.handlers[d]=[];else if(c.guid)for(e=0;e<g.length;e++)g[e].guid===c.guid&&g.splice(e--,1);a.cleanUpEvents(b,d)}}else for(g in e.handlers)d=g,e.handlers[d]=[],a.cleanUpEvents(b,d)}};a.cleanUpEvents=function(b,d){var c=a.getData(b);0===c.handlers[d].length&&
(delete c.handlers[d],document.removeEventListener?b.removeEventListener(d,c.dispatcher,!1):document.detachEvent&&b.detachEvent("on"+d,c.dispatcher));a.isEmpty(c.handlers)&&(delete c.handlers,delete c.dispatcher,delete c.disabled);a.isEmpty(c)&&a.removeData(b)};a.fixEvent=function(a){function d(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var e=a||window.event;a={};for(var g in e)"layerX"!==g&&"layerY"!==g&&(a[g]=e[g]);a.target||(a.target=a.srcElement||document);a.relatedTarget=
a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){e.preventDefault&&e.preventDefault();a.returnValue=!1;a.isDefaultPrevented=d};a.isDefaultPrevented=c;a.stopPropagation=function(){e.stopPropagation&&e.stopPropagation();a.cancelBubble=!0;a.isPropagationStopped=d};a.isPropagationStopped=c;a.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation();a.isImmediatePropagationStopped=d;a.stopPropagation()};a.isImmediatePropagationStopped=c;
if(null!=a.clientX){g=document.documentElement;var k=document.body;a.pageX=a.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||0)-(g&&g.clientLeft||k&&k.clientLeft||0);a.pageY=a.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)}a.which=a.charCode||a.keyCode;null!=a.button&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a};a.trigger=function(b,d){var c=a.hasData(b)?a.getData(b):{},e=b.parentNode||b.ownerDocument;"string"===typeof d&&(d={type:d,target:b});d=a.fixEvent(d);
c.dispatcher&&c.dispatcher.call(b,d);if(e&&!d.isPropagationStopped())a.trigger(e,d);else if(!e&&!d.isDefaultPrevented()&&(c=a.getData(d.target),d.target[d.type])){c.disabled=!0;if("function"===typeof d.target[d.type])d.target[d.type]();c.disabled=!1}return!d.isDefaultPrevented()};a.one=function(b,d,c){a.on(b,d,function(){a.off(b,d,arguments.callee);c.apply(this,arguments)})};var p=Object.prototype.hasOwnProperty;a.createEl=function(a,d){var c=document.createElement(a||"div"),e;for(e in d)p.call(d,
e)&&(-1!==e.indexOf("aria-")||"role"==e?c.setAttribute(e,d[e]):c[e]=d[e]);return c};a.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};a.obj={};a.obj.create=Object.create||function(a){function d(){}d.prototype=a;return new d};a.obj.each=function(a,d,c){for(var e in a)p.call(a,e)&&d.call(c||this,e,a[e])};a.obj.merge=function(a,d){if(!d)return a;for(var c in d)p.call(d,c)&&(a[c]=d[c]);return a};a.obj.deepMerge=function(b,d){var c,e,g;b=a.obj.copy(b);for(c in d)p.call(d,c)&&(e=b[c],
g=d[c],a.obj.isPlain(e)&&a.obj.isPlain(g)?b[c]=a.obj.deepMerge(e,g):b[c]=d[c]);return b};a.obj.copy=function(b){return a.obj.merge({},b)};a.obj.isPlain=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};a.bind=function(b,d,c){d.guid||(d.guid=a.guid++);var e=function(){return d.apply(b,arguments)};e.guid=c?c+"_"+d.guid:d.guid;return e};a.cache={};a.guid=1;a.expando="vdata"+(new Date).getTime();a.getData=function(b){var d=b[a.expando];d||(d=b[a.expando]=
a.guid++,a.cache[d]={});return a.cache[d]};a.hasData=function(b){b=b[a.expando];return!(!b||a.isEmpty(a.cache[b]))};a.removeData=function(b){var d=b[a.expando];if(d){delete a.cache[d];try{delete b[a.expando]}catch(c){b.removeAttribute?b.removeAttribute(a.expando):b[a.expando]=null}}};a.isEmpty=function(a){for(var d in a)if(null!==a[d])return!1;return!0};a.addClass=function(a,d){-1==(" "+a.className+" ").indexOf(" "+d+" ")&&(a.className=""===a.className?d:a.className+" "+d)};a.removeClass=function(a,
d){if(-1!=a.className.indexOf(d)){for(var c=a.className.split(" "),e=c.length-1;0<=e;e--)c[e]===d&&c.splice(e,1);a.className=c.join(" ")}};a.TEST_VID=a.createEl("video");a.USER_AGENT=navigator.userAgent;a.IS_IPHONE=!!a.USER_AGENT.match(/iPhone/i);a.IS_IPAD=!!a.USER_AGENT.match(/iPad/i);a.IS_IPOD=!!a.USER_AGENT.match(/iPod/i);a.IS_IOS=a.IS_IPHONE||a.IS_IPAD||a.IS_IPOD;a.IOS_VERSION=function(){var b=a.USER_AGENT.match(/OS (\d+)_/i);if(b&&b[1])return b[1]}();a.IS_ANDROID=!!a.USER_AGENT.match(/Android.*AppleWebKit/i);
a.ANDROID_VERSION=function(){var b=a.USER_AGENT.match(/Android (\d+)\./i);return b&&b[1]?b[1]:null}();a.IS_FIREFOX=function(){return!!a.USER_AGENT.match("Firefox")};a.getAttributeValues=function(a){var d={};if(a&&a.attributes&&0<a.attributes.length)for(var c=a.attributes,e,g,k=c.length-1;0<=k;k--){e=c[k].name;g=c[k].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+e+","))g=null!==g?!0:!1;d[e]=g}return d};a.getComputedDimension=function(a,d){var c="";document.defaultView&&
document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(d):a.currentStyle&&(c=a["client"+d.substr(0,1).toUpperCase()+d.substr(1)]+"px");return c};a.insertFirst=function(a,d){d.firstChild?d.insertBefore(a,d.firstChild):d.appendChild(a)};a.support={};a.el=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};a.formatTime=function(a,d){d=d||a;var c=Math.floor(a%60),e=Math.floor(a/60%60),g=Math.floor(a/3600),k=Math.floor(d/60%60),
l=Math.floor(d/3600),g=0<g||0<l?g+":":"";return g+(((g||10<=k)&&10>e?"0"+e:e)+":")+(10>c?"0"+c:c)};a.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return!1}};a.unblockTextSelection=function(){document.onselectstart=function(){return!0}};a.trim=function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")};a.round=function(a,d){d||(d=0);return Math.round(a*Math.pow(10,d))/Math.pow(10,d)};a.createTimeRange=function(a,d){return{length:1,start:function(){return a},
end:function(){return d}}};a.get=function(a,d,c){var e=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(d){}throw Error("This browser does not support XMLHttpRequest.");});var g=new XMLHttpRequest;
try{g.open("GET",a)}catch(k){c(k)}g.onreadystatechange=function(){4===g.readyState&&(200===g.status||e&&0===g.status?d(g.responseText):c&&c())};try{g.send()}catch(l){c&&c(l)}};a.setLocalStorage=function(b,d){try{var c=window.localStorage||!1;c&&(c[b]=d)}catch(e){22==e.code||1014==e.code?a.log("LocalStorage Full (VideoJS)",e):18==e.code?a.log("LocalStorage not allowed (VideoJS)",e):a.log("LocalStorage Error (VideoJS)",e)}};a.getAbsoluteURL=function(b){b.match(/^https?:\/\//)||(b=a.createEl("div",{innerHTML:'<a href="'+
b+'">x</a>'}).firstChild.href);return b};a.log=function(){a.log.history=a.log.history||[];a.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};a.findPosition=function(a){var d,c;a.getBoundingClientRect&&a.parentNode&&(d=a.getBoundingClientRect());if(!d)return{left:0,top:0};a=document.documentElement;c=document.body;return{left:d.left+(window.pageXOffset||c.scrollLeft)-(a.clientLeft||c.clientLeft||0),top:d.top+(window.pageYOffset||c.scrollTop)-(a.clientTop||
c.clientTop||0)}};a.Component=a.CoreObject.extend({init:function(b,d,c){this.player_=b;this.options_=a.obj.copy(this.options_);d=this.options(d);this.id_=d.id||(d.el&&d.el.id?d.el.id:b.id()+"_component_"+a.guid++);this.name_=d.name||null;this.el_=d.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(c)}});a.Component.prototype.dispose=function(){if(this.children_)for(var b=this.children_.length-1;0<=b;b--)this.children_[b].dispose&&this.children_[b].dispose();
this.childNameIndex_=this.childIndex_=this.children_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);a.removeData(this.el_);this.el_=null};a.Component.prototype.player=function(){return this.player_};a.Component.prototype.options=function(b){return void 0===b?this.options_:this.options_=a.obj.deepMerge(this.options_,b)};a.Component.prototype.createEl=function(b,d){return a.createEl(b,d)};a.Component.prototype.el=function(){return this.el_};a.Component.prototype.contentEl=
function(){return this.contentEl_||this.el_};a.Component.prototype.id=function(){return this.id_};a.Component.prototype.name=function(){return this.name_};a.Component.prototype.children=function(){return this.children_};a.Component.prototype.getChildById=function(a){return this.childIndex_[a]};a.Component.prototype.getChild=function(a){return this.childNameIndex_[a]};a.Component.prototype.addChild=function(b,d){var c,e;"string"===typeof b?(e=b,d=d||{},c=d.componentClass||a.capitalize(e),d.name=e,
c=new a[c](this.player_||this,d)):c=b;this.children_.push(c);"function"===typeof c.id&&(this.childIndex_[c.id()]=c);(e=e||c.name&&c.name())&&(this.childNameIndex_[e]=c);"function"===typeof c.el&&c.el()&&this.contentEl().appendChild(c.el());return c};a.Component.prototype.removeChild=function(a){"string"===typeof a&&(a=this.getChild(a));if(a&&this.children_){for(var d=!1,c=this.children_.length-1;0<=c;c--)if(this.children_[c]===a){d=!0;this.children_.splice(c,1);break}d&&(this.childIndex_[a.id]=null,
this.childNameIndex_[a.name]=null,(d=a.el())&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el()))}};a.Component.prototype.initChildren=function(){var b=this.options_;if(b&&b.children){var d=this;a.obj.each(b.children,function(a,b){!1!==b&&(b.loadEvent||(d[a]=d.addChild(a,b)))})}};a.Component.prototype.buildCSSClass=function(){return""};a.Component.prototype.on=function(b,d){a.on(this.el_,b,a.bind(this,d));return this};a.Component.prototype.off=function(b,d){a.off(this.el_,b,d);
return this};a.Component.prototype.one=function(b,d){a.one(this.el_,b,a.bind(this,d));return this};a.Component.prototype.trigger=function(b,d){a.trigger(this.el_,b,d);return this};a.Component.prototype.isReadyOnInitFinish_=!0;a.Component.prototype.ready=function(a){a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a)));return this};a.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;if(a&&0<a.length){for(var d=
0,c=a.length;d<c;d++)a[d].call(this);this.readyQueue_=[];this.trigger("ready")}};a.Component.prototype.addClass=function(b){a.addClass(this.el_,b);return this};a.Component.prototype.removeClass=function(b){a.removeClass(this.el_,b);return this};a.Component.prototype.show=function(){this.el_.style.display="block";return this};a.Component.prototype.hide=function(){this.el_.style.display="none";return this};a.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in");
return this};a.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};a.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};a.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};a.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};a.Component.prototype.width=function(a,d){return this.dimension("width",a,d)};a.Component.prototype.height=
function(a,d){return this.dimension("height",a,d)};a.Component.prototype.dimensions=function(a,d){return this.width(a,!0).height(d)};a.Component.prototype.dimension=function(b,d,c){if(void 0!==d)return-1!==(""+d).indexOf("%")||-1!==(""+d).indexOf("px")?this.el_.style[b]=d:this.el_.style[b]="auto"===d?"":d+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;d=this.el_.style[b];c=d.indexOf("px");return-1!==c?parseInt(d.slice(0,c),10):parseInt(this.el_["offset"+a.capitalize(b)],10)};a.Button=a.Component.extend({init:function(b,
d){a.Component.call(this,b,d);var c=!1;this.on("touchstart",function(){c=!0});this.on("touchmove",function(){c=!1});var e=this;this.on("touchend",function(a){if(c)e.onClick(a);a.preventDefault();a.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});a.Button.prototype.createEl=function(b,d){d=a.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+
"</span></div>",role:"button","aria-live":"polite",tabIndex:0},d);return a.Component.prototype.createEl.call(this,b,d)};a.Button.prototype.buildCSSClass=function(){return"vjs-control "+a.Component.prototype.buildCSSClass.call(this)};a.Button.prototype.onClick=function(){};a.Button.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Button.prototype.onKeyPress=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.onClick()};a.Button.prototype.onBlur=function(){a.off(document,
"keyup",a.bind(this,this.onKeyPress))};a.Slider=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);b.on(this.playerEvent,a.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",a.bind(this,this.update));b.ready(a.bind(this,
this.update));this.boundEvents={}}});a.Slider.prototype.createEl=function(b,d){d=d||{};d.className+=" vjs-slider";d=a.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},d);return a.Component.prototype.createEl.call(this,b,d)};a.Slider.prototype.onMouseDown=function(b){b.preventDefault();a.blockTextSelection();this.boundEvents.move=a.bind(this,this.onMouseMove);this.boundEvents.end=a.bind(this,this.onMouseUp);a.on(document,"mousemove",this.boundEvents.move);
a.on(document,"mouseup",this.boundEvents.end);a.on(document,"touchmove",this.boundEvents.move);a.on(document,"touchend",this.boundEvents.end);this.onMouseMove(b)};a.Slider.prototype.onMouseUp=function(){a.unblockTextSelection();a.off(document,"mousemove",this.boundEvents.move,!1);a.off(document,"mouseup",this.boundEvents.end,!1);a.off(document,"touchmove",this.boundEvents.move,!1);a.off(document,"touchend",this.boundEvents.end,!1);this.update()};a.Slider.prototype.update=function(){if(this.el_){var b,
d=this.getPercent(),c=this.handle,e=this.bar;isNaN(d)&&(d=0);b=d;if(c){b=this.el_.offsetWidth;var g=c.el().offsetWidth;b=g?g/b:0;d*=1-b;b=d+b/2;c.el().style.left=a.round(100*d,2)+"%"}e.el().style.width=a.round(100*b,2)+"%"}};a.Slider.prototype.calculateDistance=function(b){var d,c,e,g;d=this.el_;c=a.findPosition(d);g=e=d.offsetWidth;d=this.handle;if(this.options_.vertical)return g=c.top,b=b.changedTouches?b.changedTouches[0].pageY:b.pageY,d&&(d=d.el().offsetHeight,g+=d/2,e-=d),Math.max(0,Math.min(1,
(g-b+e)/e));e=c.left;b=b.changedTouches?b.changedTouches[0].pageX:b.pageX;d&&(d=d.el().offsetWidth,e+=d/2,g-=d);return Math.max(0,Math.min(1,(b-e)/g))};a.Slider.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())};a.Slider.prototype.onBlur=function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onClick=
function(a){a.stopImmediatePropagation();a.preventDefault()};a.SliderHandle=a.Component.extend();a.SliderHandle.prototype.defaultValue=0;a.SliderHandle.prototype.createEl=function(b,d){d=d||{};d.className+=" vjs-slider-handle";d=a.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},d);return a.Component.prototype.createEl.call(this,"div",d)};a.Menu=a.Component.extend();a.Menu.prototype.addItem=function(b){this.addChild(b);b.on("click",a.bind(this,function(){this.unlockShowing()}))};
a.Menu.prototype.createEl=function(){var b=this.options().contentElType||"ul";this.contentEl_=a.createEl(b,{className:"vjs-menu-content"});b=a.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});b.appendChild(this.contentEl_);a.on(b,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return b};a.MenuItem=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);this.selected(d.selected)}});a.MenuItem.prototype.createEl=function(b,d){return a.Button.prototype.createEl.call(this,
"li",a.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},d))};a.MenuItem.prototype.onClick=function(){this.selected(!0)};a.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))};a.MenuButton=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);this.menu=this.createMenu();this.addChild(this.menu);this.items&&0===this.items.length&&this.hide();
this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","button")}});a.MenuButton.prototype.buttonPressed_=!1;a.MenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_);this.options().title&&b.el().appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(this.items=this.createItems())for(var d=0;d<this.items.length;d++)b.addItem(this.items[d]);return b};a.MenuButton.prototype.createItems=
function(){};a.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+a.Button.prototype.buildCSSClass.call(this)};a.MenuButton.prototype.onFocus=function(){};a.MenuButton.prototype.onBlur=function(){};a.MenuButton.prototype.onClick=function(){this.one("mouseout",a.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()};a.MenuButton.prototype.onKeyPress=function(a){a.preventDefault();32==a.which||
13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()};a.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",!0);this.items&&0<this.items.length&&this.items[0].el().focus()};a.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",!1)};a.Player=a.Component.extend({init:function(b,
d,c){this.tag=b;d=a.obj.merge(this.getTagSettings(b),d);this.cache_={};this.poster_=d.poster;this.controls_=d.controls;!0!==d.customControlsOnMobile&&(a.IS_IOS||a.IS_ANDROID)?(b.controls=d.controls,this.controls_=!1):b.controls=!1;a.Component.call(this,this,d,c);this.one("play",function(b){a.trigger(this.el_,{type:"firstplay",target:this.el_})||(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation())});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);
this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);a.players[this.id_]=this;d.plugins&&a.obj.each(d.plugins,function(a,b){this[a](b)},this)}});a.Player.prototype.options_=a.options;a.Player.prototype.dispose=function(){a.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.stopTrackingProgress();
this.stopTrackingCurrentTime();this.tech&&this.tech.dispose();a.Component.prototype.dispose.call(this)};a.Player.prototype.getTagSettings=function(b){var d={sources:[],tracks:[]};a.obj.merge(d,a.getAttributeValues(b));if(b.hasChildNodes())for(var c,e=b.childNodes,g=0,k=e.length;g<k;g++)b=e[g],c=b.nodeName.toLowerCase(),"source"===c?d.sources.push(a.getAttributeValues(b)):"track"===c&&d.tracks.push(a.getAttributeValues(b));return d};a.Player.prototype.createEl=function(){var b=this.el_=a.Component.prototype.createEl.call(this,
"div"),d=this.tag;d.removeAttribute("width");d.removeAttribute("height");if(d.hasChildNodes())for(var c=d.childNodes.length,e=0,g=d.childNodes;e<c;e++)"source"!=g[0].nodeName.toLowerCase()&&"track"!=g[0].nodeName.toLowerCase()||d.removeChild(g[0]);d.id=d.id||"vjs_video_"+a.guid++;b.id=d.id;b.className=d.className;d.id+="_html5_api";d.className="vjs-tech";d.player=b.player=this;this.addClass("vjs-paused");this.width(this.options_.width,!0);this.height(this.options_.height,!0);d.parentNode&&d.parentNode.insertBefore(b,
d);a.insertFirst(d,b);return b};a.Player.prototype.loadTech=function(b,d){this.tech?this.unloadTech():"Html5"!==b&&this.tag&&(this.el_.removeChild(this.tag),this.tag=this.tag.player=null);this.techName=b;this.isReady_=!1;var c=a.obj.merge({source:d,parentEl:this.el_},this.options_[b.toLowerCase()]);d&&(d.src==this.cache_.src&&0<this.cache_.currentTime&&(c.startTime=this.cache_.currentTime),this.cache_.src=d.src);this.tech=new a[b](this,c);this.tech.ready(function(){this.player_.triggerReady();this.features.progressEvents||
this.player_.manualProgressOn();this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()})};a.Player.prototype.unloadTech=function(){this.isReady_=!1;this.tech.dispose();this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();this.tech=!1};a.Player.prototype.manualProgressOn=function(){this.manualProgress=!0;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=!0;this.player_.manualProgressOff()})};a.Player.prototype.manualProgressOff=
function(){this.manualProgress=!1;this.stopTrackingProgress()};a.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(a.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)};a.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};a.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",
this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0;this.player_.manualTimeUpdatesOff()})};a.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};a.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=
setInterval(a.bind(this,function(){this.trigger("timeupdate")}),250)};a.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};a.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())};a.Player.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing")};a.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime)};a.Player.prototype.onPause=
function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused")};a.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")};a.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))};a.Player.prototype.onError=function(b){a.log("Video Error",b)};a.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")};a.Player.prototype.getCache=function(){return this.cache_};
a.Player.prototype.techCall=function(b,d){if(this.tech&&this.tech.isReady_)this.tech.ready(function(){this[b](d)});else try{this.tech[b](d)}catch(c){throw a.log(c),c;}};a.Player.prototype.techGet=function(b){if(this.tech.isReady_)try{return this.tech[b]()}catch(d){throw void 0===this.tech[b]?a.log("Video.js: "+b+" method not defined for "+this.techName+" playback technology.",d):"TypeError"==d.name?(a.log("Video.js: "+b+" unavailable on "+this.techName+" playback technology element.",d),this.tech.isReady_=
!1):a.log(d),d;}};a.Player.prototype.play=function(){this.techCall("play");return this};a.Player.prototype.pause=function(){this.techCall("pause");return this};a.Player.prototype.paused=function(){return!1===this.techGet("paused")?!1:!0};a.Player.prototype.currentTime=function(a){return void 0!==a?(this.cache_.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0};a.Player.prototype.duration=
function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):this.cache_.duration};a.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};a.Player.prototype.buffered=function(){var b=this.techGet("buffered"),d=this.cache_.bufferEnd=this.cache_.bufferEnd||0;b&&(0<b.length&&b.end(0)!==d)&&(d=b.end(0),this.cache_.bufferEnd=d);return a.createTimeRange(0,d)};a.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():
0};a.Player.prototype.volume=function(b){if(void 0!==b)return b=Math.max(0,Math.min(1,parseFloat(b))),this.cache_.volume=b,this.techCall("setVolume",b),a.setLocalStorage("volume",b),this;b=parseFloat(this.techGet("volume"));return isNaN(b)?1:b};a.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1};a.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1};a.Player.prototype.requestFullScreen=function(){var b=
a.support.requestFullScreen;this.isFullScreen=!0;b?(a.on(document,b.eventName,a.bind(this,function(d){this.isFullScreen=document[b.isFullScreen];!1===this.isFullScreen&&a.off(document,b.eventName,arguments.callee);this.trigger("fullscreenchange")})),this.el_[b.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.cancelFullScreen=function(){var b=a.support.requestFullScreen;this.isFullScreen=
!1;if(b)document[b.cancelFn]();else this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=document.documentElement.style.overflow;a.on(document,"keydown",a.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";a.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};a.Player.prototype.fullWindowOnEscKey=
function(a){27===a.keyCode&&(!0===this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())};a.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1;a.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;a.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};a.Player.prototype.selectSource=function(b){for(var d=0,c=this.options_.techOrder;d<c.length;d++){var e=a.capitalize(c[d]),g=a[e];if(g.isSupported())for(var k=
0,l=b;k<l.length;k++){var t=l[k];if(g.canPlaySource(t))return{source:t,tech:e}}}return!1};a.Player.prototype.src=function(b){if(b instanceof Array){var d=this.selectSource(b);d?(b=d.source,d=d.tech,d==this.techName?this.src(b):this.loadTech(d,b)):this.el_.appendChild(a.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else b instanceof
Object?a[this.techName].canPlaySource(b)?this.src(b.src):this.src([b]):(this.cache_.src=b,this.isReady_?(this.techCall("src",b),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(b)}));return this};a.Player.prototype.load=function(){this.techCall("load");return this};a.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};a.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",
a),this.options_.preload=a,this):this.techGet("preload")};a.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)};a.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")};a.Player.prototype.poster=function(a){void 0!==a&&(this.poster_=a);return this.poster_};a.Player.prototype.controls=function(a){void 0!==a&&this.controls_!==a&&(this.controls_=
!!a,this.trigger("controlschange"));return this.controls_};a.Player.prototype.error=function(){return this.techGet("error")};a.Player.prototype.ended=function(){return this.techGet("ended")};(function(){var b,d,c;c=document.createElement("div");d={};void 0!==c.cancelFullscreen?(d.requestFn="requestFullscreen",d.cancelFn="exitFullscreen",d.eventName="fullscreenchange",d.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(b="moz",d.isFullScreen=b+"FullScreen"):(b="webkit",d.isFullScreen=b+"IsFullScreen"),
c[b+"RequestFullScreen"]&&(d.requestFn=b+"RequestFullScreen",d.cancelFn=b+"CancelFullScreen"),d.eventName=b+"fullscreenchange");document[d.cancelFn]&&(a.support.requestFullScreen=d)})();a.ControlBar=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.controls()||this.disable();b.one("play",a.bind(this,function(){var b,d=a.bind(this,this.fadeIn),c=a.bind(this,this.fadeOut);this.fadeOut();"ontouchstart"in window||(this.player_.on("mouseover",d),this.player_.on("mouseout",c),this.player_.on("pause",
a.bind(this,this.lockShowing)),this.player_.on("play",a.bind(this,this.unlockShowing)));b=!1;this.player_.on("touchstart",function(){b=!0});this.player_.on("touchmove",function(){b=!1});this.player_.on("touchend",a.bind(this,function(a){var d;b&&(d=this.el().className.search("fade-in"),-1!==d?this.fadeOut():this.fadeIn());b=!1;this.player_.paused()||a.preventDefault()}))}))}});a.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},
remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};a.ControlBar.prototype.createEl=function(){return a.createEl("div",{className:"vjs-control-bar"})};a.ControlBar.prototype.fadeIn=function(){a.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};a.ControlBar.prototype.fadeOut=function(){a.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};a.PlayToggle=a.Button.extend({init:function(b,d){a.Button.call(this,
b,d);b.on("play",a.bind(this,this.onPlay));b.on("pause",a.bind(this,this.onPause))}});a.PlayToggle.prototype.buttonText="Play";a.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+a.Button.prototype.buildCSSClass.call(this)};a.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()};a.PlayToggle.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML=
"Pause"};a.PlayToggle.prototype.onPause=function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused");this.el_.children[0].children[0].innerHTML="Play"};a.CurrentTimeDisplay=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.on("timeupdate",a.bind(this,this.updateContent))}});a.CurrentTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=a.createEl("div",
{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.CurrentTimeDisplay.prototype.updateContent=function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+a.formatTime(b,this.player_.duration())};a.DurationDisplay=a.Component.extend({init:function(b,
d){a.Component.call(this,b,d);b.on("timeupdate",a.bind(this,this.updateContent))}});a.DurationDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.DurationDisplay.prototype.updateContent=
function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+a.formatTime(this.player_.duration()))};a.TimeDivider=a.Component.extend({init:function(b,d){a.Component.call(this,b,d)}});a.TimeDivider.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};a.RemainingTimeDisplay=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.on("timeupdate",
a.bind(this,this.updateContent))}});a.RemainingTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&
this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+a.formatTime(this.player_.remainingTime()))};a.FullscreenToggle=a.Button.extend({init:function(b,d){a.Button.call(this,b,d)}});a.FullscreenToggle.prototype.buttonText="Fullscreen";a.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+a.Button.prototype.buildCSSClass.call(this)};a.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),
this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")};a.ProgressControl=a.Component.extend({init:function(b,d){a.Component.call(this,b,d)}});a.ProgressControl.prototype.options_={children:{seekBar:{}}};a.ProgressControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};a.SeekBar=a.Slider.extend({init:function(b,d){a.Slider.call(this,
b,d);b.on("timeupdate",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes))}});a.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};a.SeekBar.prototype.playerEvent="timeupdate";a.SeekBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};a.SeekBar.prototype.updateARIAAttributes=
function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",a.round(100*this.getPercent(),2));this.el_.setAttribute("aria-valuetext",a.formatTime(b,this.player_.duration()))};a.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};a.SeekBar.prototype.onMouseDown=function(b){a.Slider.prototype.onMouseDown.call(this,b);this.player_.scrubbing=!0;this.videoWasPlaying=!this.player_.paused();
this.player_.pause()};a.SeekBar.prototype.onMouseMove=function(a){a=this.calculateDistance(a)*this.player_.duration();a==this.player_.duration()&&(a-=0.1);this.player_.currentTime(a)};a.SeekBar.prototype.onMouseUp=function(b){a.Slider.prototype.onMouseUp.call(this,b);this.player_.scrubbing=!1;this.videoWasPlaying&&this.player_.play()};a.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};a.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-
5)};a.LoadProgressBar=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.on("progress",a.bind(this,this.update))}});a.LoadProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};a.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=a.round(100*this.player_.bufferedPercent(),2)+"%")};a.PlayProgressBar=a.Component.extend({init:function(b,
d){a.Component.call(this,b,d)}});a.PlayProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};a.SeekHandle=a.SliderHandle.extend();a.SeekHandle.prototype.defaultValue="00:00";a.SeekHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};a.VolumeControl=a.Component.extend({init:function(b,d){a.Component.call(this,
b,d);b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.VolumeControl.prototype.options_={children:{volumeBar:{}}};a.VolumeControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};a.VolumeBar=a.Slider.extend({init:function(b,
d){a.Slider.call(this,b,d);b.on("volumechange",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes));setTimeout(a.bind(this,this.update),0)}});a.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",a.round(100*this.player_.volume(),2));this.el_.setAttribute("aria-valuetext",a.round(100*this.player_.volume(),2)+"%")};a.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};
a.VolumeBar.prototype.playerEvent="volumechange";a.VolumeBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};a.VolumeBar.prototype.onMouseMove=function(a){this.player_.volume(this.calculateDistance(a))};a.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()};a.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};a.VolumeBar.prototype.stepBack=
function(){this.player_.volume(this.player_.volume()-0.1)};a.VolumeLevel=a.Component.extend({init:function(b,d){a.Component.call(this,b,d)}});a.VolumeLevel.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};a.VolumeHandle=a.SliderHandle.extend();a.VolumeHandle.prototype.defaultValue="00:00";a.VolumeHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,
"div",{className:"vjs-volume-handle"})};a.MuteToggle=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.MuteToggle.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",
{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)};a.MuteToggle.prototype.update=function(){var b=this.player_.volume(),d=3;0===b||this.player_.muted()?d=0:0.33>b?d=1:0.67>b&&(d=2);this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&
(this.el_.children[0].children[0].innerHTML="Mute");for(b=0;4>b;b++)a.removeClass(this.el_,"vjs-vol-"+b);a.addClass(this.el_,"vjs-vol-"+d)};a.VolumeMenuButton=a.MenuButton.extend({init:function(b,d){a.MenuButton.call(this,b,d);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}));
this.addClass("vjs-menu-button")}});a.VolumeMenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_,{contentElType:"div"}),d=new a.VolumeBar(this.player_,a.obj.merge({vertical:!0},this.options_.volumeBar));b.addChild(d);return b};a.VolumeMenuButton.prototype.onClick=function(){a.MuteToggle.prototype.onClick.call(this);a.MenuButton.prototype.onClick.call(this)};a.VolumeMenuButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",
innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.VolumeMenuButton.prototype.update=a.MuteToggle.prototype.update;a.PosterImage=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);b.poster()&&b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.PosterImage.prototype.createEl=function(){var b=a.createEl("div",{className:"vjs-poster",tabIndex:-1}),d=this.player_.poster();d&&("backgroundSize"in b.style?b.style.backgroundImage='url("'+d+'")':b.appendChild(a.createEl("img",
{src:d})));return b};a.PosterImage.prototype.onClick=function(){this.player_.play()};a.LoadingSpinner=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.on("canplay",a.bind(this,this.hide));b.on("canplaythrough",a.bind(this,this.hide));b.on("playing",a.bind(this,this.hide));b.on("seeked",a.bind(this,this.hide));b.on("seeking",a.bind(this,this.show));b.on("seeked",a.bind(this,this.hide));b.on("error",a.bind(this,this.show));b.on("waiting",a.bind(this,this.show))}});a.LoadingSpinner.prototype.createEl=
function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};a.BigPlayButton=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.BigPlayButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};a.BigPlayButton.prototype.onClick=function(){this.player_.play()};a.MediaTechController=
a.Component.extend({init:function(b,d,c){a.Component.call(this,b,d,c)}});a.MediaTechController.prototype.onClick=function(){return a.IS_ANDROID?function(){}:function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())}}();a.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1};a.media={};a.media.ApiMethods="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
for(var e=a.media.ApiMethods.length-1;0<=e;e--)a.MediaTechController.prototype[a.media.ApiMethods[e]]=c(a.media.ApiMethods[e]);a.Html5=a.MediaTechController.extend({init:function(b,d,c){this.features.volumeControl=a.Html5.canControlVolume();this.features.movingMediaElementInDOM=!a.IS_IOS;this.features.fullscreenResize=!0;a.MediaTechController.call(this,b,d,c);(d=d.source)&&this.el_.currentSrc==d.src?b.trigger("loadstart"):d&&(this.el_.src=d.src);b.ready(function(){this.options_.autoplay&&this.paused()&&
(this.tag.poster=null,this.play())});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});a.Html5.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Html5.prototype.createEl=function(){var b=this.player_,d=b.tag;d&&!1!==this.features.movingMediaElementInDOM||(d?(b.el().removeChild(d),d=d.cloneNode(!1)):d=a.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),d.player=b,a.insertFirst(d,b.el()));for(var c=["autoplay","preload","loop","muted"],
e=c.length-1;0<=e;e--){var g=c[e];null!==b.options_[g]&&(d[g]=b.options_[g])}return d};a.Html5.prototype.setupTriggers=function(){for(var b=a.Html5.Events.length-1;0<=b;b--)a.on(this.el_,a.Html5.Events[b],a.bind(this.player_,this.eventHandler))};a.Html5.prototype.eventHandler=function(a){this.trigger(a);a.stopPropagation()};a.Html5.prototype.play=function(){this.el_.play()};a.Html5.prototype.pause=function(){this.el_.pause()};a.Html5.prototype.paused=function(){return this.el_.paused};a.Html5.prototype.currentTime=
function(){return this.el_.currentTime};a.Html5.prototype.setCurrentTime=function(b){try{this.el_.currentTime=b}catch(d){a.log(d,"Video is not ready. (Video.js)")}};a.Html5.prototype.duration=function(){return this.el_.duration||0};a.Html5.prototype.buffered=function(){return this.el_.buffered};a.Html5.prototype.volume=function(){return this.el_.volume};a.Html5.prototype.setVolume=function(a){this.el_.volume=a};a.Html5.prototype.muted=function(){return this.el_.muted};a.Html5.prototype.setMuted=function(a){this.el_.muted=
a};a.Html5.prototype.width=function(){return this.el_.offsetWidth};a.Html5.prototype.height=function(){return this.el_.offsetHeight};a.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(a.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(a.USER_AGENT)?!1:!0};a.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};
a.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};a.Html5.prototype.src=function(a){this.el_.src=a};a.Html5.prototype.load=function(){this.el_.load()};a.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};a.Html5.prototype.preload=function(){return this.el_.preload};a.Html5.prototype.setPreload=function(a){this.el_.preload=a};a.Html5.prototype.autoplay=function(){return this.el_.autoplay};a.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a};a.Html5.prototype.loop=
function(){return this.el_.loop};a.Html5.prototype.setLoop=function(a){this.el_.loop=a};a.Html5.prototype.error=function(){return this.el_.error};a.Html5.prototype.seeking=function(){return this.el_.seeking};a.Html5.prototype.ended=function(){return this.el_.ended};a.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};a.Html5.isSupported=function(){return!!document.createElement("video").canPlayType};a.Html5.canPlaySource=function(a){return!!document.createElement("video").canPlayType(a.type)};
a.Html5.canControlVolume=function(){var b=a.TEST_VID.volume;a.TEST_VID.volume=b/2+0.1;return b!==a.TEST_VID.volume};a.Html5.Events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");a.IS_ANDROID&&3>a.ANDROID_VERSION&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?
"maybe":""});a.Flash=a.MediaTechController.extend({init:function(b,d,c){a.MediaTechController.call(this,b,d,c);c=d.source;var e=d.parentEl,g=this.el_=a.createEl("div",{id:b.id()+"_temp_flash"}),k=b.id()+"_flash_api";b=b.options_;var l=a.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:b.autoplay,preload:b.preload,loop:b.loop,muted:b.muted},d.flashVars),t=a.obj.merge({wmode:"opaque",bgcolor:"#000000"},
d.params),p=a.obj.merge({id:k,name:k,"class":"vjs-tech"},d.attributes);c&&(l.src=encodeURIComponent(a.getAbsoluteURL(c.src)));a.insertFirst(g,e);d.startTime&&this.ready(function(){this.load();this.play();this.currentTime(d.startTime)});if(!0!==d.iFrameMode||a.IS_FIREFOX)a.Flash.embed(d.swf,g,l,t,p);else{var v=a.createEl("iframe",{id:k+"_iframe",name:k+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});l.readyFunction="ready";l.eventProxyFunction="events";l.errorEventProxyFunction=
"errors";a.on(v,"load",a.bind(this,function(){var b,c=v.contentWindow;b=v.contentDocument?v.contentDocument:v.contentWindow.document;b.write(a.Flash.getEmbedCode(d.swf,l,t,p));c.player=this.player_;c.ready=a.bind(this.player_,function(d){d=b.getElementById(d);var c=this.tech;c.el_=d;a.on(d,"click",c.bind(c.onClick));a.Flash.checkReady(c)});c.events=a.bind(this.player_,function(a,b){this&&"flash"===this.techName&&this.trigger(b)});c.errors=a.bind(this.player_,function(b,d){a.log("Flash Error",d)})}));
g.parentNode.replaceChild(v,g)}}});a.Flash.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Flash.prototype.play=function(){this.el_.vjs_play()};a.Flash.prototype.pause=function(){this.el_.vjs_pause()};a.Flash.prototype.src=function(b){b=a.getAbsoluteURL(b);this.el_.vjs_src(b);if(this.player_.autoplay()){var d=this;setTimeout(function(){d.play()},0)}};a.Flash.prototype.load=function(){this.el_.vjs_load()};a.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};
a.Flash.prototype.buffered=function(){return a.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};a.Flash.prototype.supportsFullScreen=function(){return!1};a.Flash.prototype.enterFullScreen=function(){return!1};var k=a.Flash.prototype,A="preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),v="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),
g=function(a){var d=a.charAt(0).toUpperCase()+a.slice(1);k["set"+d]=function(d){return this.el_.vjs_setProperty(a,d)}},B=function(a){k[a]=function(){return this.el_.vjs_getProperty(a)}};(function(){var a;for(a=0;a<A.length;a++)B(A[a]),g(A[a]);for(a=0;a<v.length;a++)B(v[a])})();a.Flash.isSupported=function(){return 10<=a.Flash.version()[0]};a.Flash.canPlaySource=function(b){if(b.type in a.Flash.formats)return"maybe"};a.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};
a.Flash.onReady=function(b){b=a.el(b);var d=b.player||b.parentNode.player,c=d.tech;b.player=d;c.el_=b;c.on("click",c.onClick);a.Flash.checkReady(c)};a.Flash.checkReady=function(b){b.el().vjs_getProperty?b.triggerReady():setTimeout(function(){a.Flash.checkReady(b)},50)};a.Flash.onEvent=function(b,d){a.el(b).player.trigger(d)};a.Flash.onError=function(b,d){a.el(b).player.trigger("error");a.log("Flash Error",d,b)};a.Flash.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,
",").match(/^,?(.+),?$/)[1]}catch(d){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(c){}}return a.split(",")};a.Flash.embed=function(b,d,c,e,g){b=a.Flash.getEmbedCode(b,c,e,g);b=a.createEl("div",{innerHTML:b}).childNodes[0];c=d.parentNode;d.parentNode.replaceChild(b,d);var k=c.childNodes[0];setTimeout(function(){k.style.display=
"block"},1E3);return b};a.Flash.getEmbedCode=function(b,d,c,e){var g="",k="",l="";d&&a.obj.each(d,function(a,b){g+=a+"="+b+"&amp;"});c=a.obj.merge({movie:b,flashvars:g,allowScriptAccess:"always",allowNetworking:"all"},c);a.obj.each(c,function(a,b){k+='<param name="'+a+'" value="'+b+'" />'});e=a.obj.merge({data:b,width:"100%",height:"100%"},e);a.obj.each(e,function(a,b){l+=a+'="'+b+'" '});return'<object type="application/x-shockwave-flash"'+l+">"+k+"</object>"};a.MediaLoader=a.Component.extend({init:function(b,
d,c){a.Component.call(this,b,d,c);if(b.options_.sources&&0!==b.options_.sources.length)b.src(b.options_.sources);else for(d=0,c=b.options_.techOrder;d<c.length;d++){var e=a.capitalize(c[d]),g=a[e];if(g&&g.isSupported()){b.loadTech(e);break}}}});a.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[]};a.Player.prototype.addTextTrack=function(b,d,c,e){var g=this.textTracks_=this.textTracks_||[];e=e||{};e.kind=b;e.label=d;e.language=c;b=a.capitalize(b||"subtitles");e=new a[b+
"Track"](this,e);g.push(e);return e};a.Player.prototype.addTextTracks=function(a){for(var d,c=0;c<a.length;c++)d=a[c],this.addTextTrack(d.kind,d.label,d.language,d);return this};a.Player.prototype.showTextTrack=function(a,d){for(var c=this.textTracks_,e=0,g=c.length,k,l;e<g;e++)k=c[e],k.id()===a?(k.show(),l=k):d&&(k.kind()==d&&0<k.mode())&&k.disable();(c=l?l.kind():d?d:!1)&&this.trigger(c+"trackchange");return this};a.TextTrack=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);this.id_=
d.id||"vjs_"+d.kind+"_"+d.language+"_"+a.guid++;this.src_=d.src;this.dflt_=d["default"]||d.dflt;this.title_=d.title;this.language_=d.srclang;this.label_=d.label;this.cues_=[];this.activeCues_=[];this.mode_=this.readyState_=0;this.player_.on("fullscreenchange",a.bind(this,this.adjustFontSize))}});a.TextTrack.prototype.kind=function(){return this.kind_};a.TextTrack.prototype.src=function(){return this.src_};a.TextTrack.prototype.dflt=function(){return this.dflt_};a.TextTrack.prototype.title=function(){return this.title_};
a.TextTrack.prototype.language=function(){return this.language_};a.TextTrack.prototype.label=function(){return this.label_};a.TextTrack.prototype.cues=function(){return this.cues_};a.TextTrack.prototype.activeCues=function(){return this.activeCues_};a.TextTrack.prototype.readyState=function(){return this.readyState_};a.TextTrack.prototype.mode=function(){return this.mode_};a.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?140*(screen.width/this.player_.width())+
"%":""};a.TextTrack.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};a.TextTrack.prototype.show=function(){this.activate();this.mode_=2;a.Component.prototype.show.call(this)};a.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;a.Component.prototype.hide.call(this)};a.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide();this.deactivate();this.mode_=0};a.TextTrack.prototype.activate=function(){0===
this.readyState_&&this.load();0===this.mode_&&(this.player_.on("timeupdate",a.bind(this,this.update,this.id_)),this.player_.on("ended",a.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))};a.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",a.bind(this,this.update,this.id_));this.player_.off("ended",a.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};
a.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,a.get(this.src_,a.bind(this,this.parseCues),a.bind(this,this.onError)))};a.TextTrack.prototype.onError=function(a){this.error=a;this.readyState_=3;this.trigger("error")};a.TextTrack.prototype.parseCues=function(b){var d,c;b=b.split("\n");for(var e="",g=1,k=b.length;g<k;g++)if(e=a.trim(b[g])){-1==e.indexOf("--\x3e")?(d=e,e=a.trim(b[++g])):d=this.cues_.length;d={id:d,index:this.cues_.length};c=e.split(" --\x3e ");d.startTime=
this.parseCueTime(c[0]);d.endTime=this.parseCueTime(c[1]);for(c=[];b[++g]&&(e=a.trim(b[g]));)c.push(e);d.text=c.join("<br/>");this.cues_.push(d)}this.readyState_=2;this.trigger("loaded")};a.TextTrack.prototype.parseCueTime=function(a){var d=a.split(":");a=0;var c,e,g;3==d.length?(c=d[0],e=d[1],d=d[2]):(c=0,e=d[0],d=d[1]);d=d.split(/\s+/);d=d.splice(0,1)[0];d=d.split(/\.|,/);g=parseFloat(d[1]);d=d[0];a+=3600*parseFloat(c);a+=60*parseFloat(e);a+=parseFloat(d);g&&(a+=g/1E3);return a};a.TextTrack.prototype.update=
function(){if(0<this.cues_.length){var a=this.player_.currentTime();if(void 0===this.prevChange||a<this.prevChange||this.nextChange<=a){var d=this.cues_,c=this.player_.duration(),e=0,g=!1,k=[],l,t,p,v;a>=this.nextChange||void 0===this.nextChange?v=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(g=!0,v=void 0!==this.lastActiveIndex?this.lastActiveIndex:d.length-1);for(;;){p=d[v];if(p.endTime<=a)e=Math.max(e,p.endTime),p.active&&(p.active=!1);else if(a<p.startTime){if(c=Math.min(c,p.startTime),
p.active&&(p.active=!1),!g)break}else g?(k.splice(0,0,p),void 0===t&&(t=v),l=v):(k.push(p),void 0===l&&(l=v),t=v),c=Math.min(c,p.endTime),e=Math.max(e,p.startTime),p.active=!0;if(g)if(0===v)break;else v--;else if(v===d.length-1)break;else v++}this.activeCues_=k;this.nextChange=c;this.prevChange=e;this.firstActiveIndex=l;this.lastActiveIndex=t;this.updateDisplay();this.trigger("cuechange")}}};a.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,d="",c=0,e=a.length;c<e;c++)d+='<span class="vjs-tt-cue">'+
a[c].text+"</span>";this.el_.innerHTML=d};a.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.lastActiveIndex=this.firstActiveIndex=0};a.CaptionsTrack=a.TextTrack.extend();a.CaptionsTrack.prototype.kind_="captions";a.SubtitlesTrack=a.TextTrack.extend();a.SubtitlesTrack.prototype.kind_="subtitles";a.ChaptersTrack=a.TextTrack.extend();a.ChaptersTrack.prototype.kind_="chapters";a.TextTrackDisplay=a.Component.extend({init:function(b,d,c){a.Component.call(this,
b,d,c);b.options_.tracks&&0<b.options_.tracks.length&&this.player_.addTextTracks(b.options_.tracks)}});a.TextTrackDisplay.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};a.TextTrackMenuItem=a.MenuItem.extend({init:function(b,d){var c=this.track=d.track;d.label=c.label();d.selected=c.dflt();a.MenuItem.call(this,b,d);this.player_.on(c.kind()+"trackchange",a.bind(this,this.update))}});a.TextTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.TextTrackMenuItem.prototype.update=function(){2==this.track.mode()?this.selected(!0):this.selected(!1)};a.OffTextTrackMenuItem=a.TextTrackMenuItem.extend({init:function(b,d){d.track={kind:function(){return d.kind},player:b,label:function(){return d.kind+" off"},dflt:function(){return!1},mode:function(){return!1}};a.TextTrackMenuItem.call(this,b,d);this.selected(!0)}});a.OffTextTrackMenuItem.prototype.onClick=function(){a.TextTrackMenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.OffTextTrackMenuItem.prototype.update=function(){for(var a=this.player_.textTracks(),d=0,c=a.length,e,g=!0;d<c;d++)e=a[d],e.kind()==this.track.kind()&&2==e.mode()&&(g=!1);g?this.selected(!0):this.selected(!1)};a.TextTrackButton=a.MenuButton.extend({init:function(b,d){a.MenuButton.call(this,b,d);1>=this.items.length&&this.hide()}});a.TextTrackButton.prototype.createItems=function(){var b=[],d;b.push(new a.OffTextTrackMenuItem(this.player_,
{kind:this.kind_}));for(var c=0;c<this.player_.textTracks().length;c++)d=this.player_.textTracks()[c],d.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:d}));return b};a.CaptionsButton=a.TextTrackButton.extend({init:function(b,d,c){a.TextTrackButton.call(this,b,d,c);this.el_.setAttribute("aria-label","Captions Menu")}});a.CaptionsButton.prototype.kind_="captions";a.CaptionsButton.prototype.buttonText="Captions";a.CaptionsButton.prototype.className="vjs-captions-button";a.SubtitlesButton=
a.TextTrackButton.extend({init:function(b,d,c){a.TextTrackButton.call(this,b,d,c);this.el_.setAttribute("aria-label","Subtitles Menu")}});a.SubtitlesButton.prototype.kind_="subtitles";a.SubtitlesButton.prototype.buttonText="Subtitles";a.SubtitlesButton.prototype.className="vjs-subtitles-button";a.ChaptersButton=a.TextTrackButton.extend({init:function(b,d,c){a.TextTrackButton.call(this,b,d,c);this.el_.setAttribute("aria-label","Chapters Menu")}});a.ChaptersButton.prototype.kind_="chapters";a.ChaptersButton.prototype.buttonText=
"Chapters";a.ChaptersButton.prototype.className="vjs-chapters-button";a.ChaptersButton.prototype.createItems=function(){for(var b=[],d,c=0;c<this.player_.textTracks().length;c++)d=this.player_.textTracks()[c],d.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:d}));return b};a.ChaptersButton.prototype.createMenu=function(){for(var b=this.player_.textTracks(),d=0,c=b.length,e,g,k=this.items=[];d<c;d++)if(e=b[d],e.kind()==this.kind_&&e.dflt()){if(2>e.readyState()){this.chaptersTrack=
e;e.on("loaded",a.bind(this,this.createMenu));return}g=e;break}b=this.menu=new a.Menu(this.player_);b.el_.appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(g){e=g.cues_;for(var l,d=0,c=e.length;d<c;d++)l=e[d],l=new a.ChaptersTrackMenuItem(this.player_,{track:g,cue:l}),k.push(l),b.addChild(l)}0<this.items.length&&this.show();return b};a.ChaptersTrackMenuItem=a.MenuItem.extend({init:function(b,d){var c=this.track=d.track,e=this.cue=d.cue,g=
b.currentTime();d.label=e.text;d.selected=e.startTime<=g&&g<e.endTime;a.MenuItem.call(this,b,d);c.on("cuechange",a.bind(this,this.update))}});a.ChaptersTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};a.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,d=this.player_.currentTime();a.startTime<=d&&d<a.endTime?this.selected(!0):this.selected(!1)};a.obj.merge(a.ControlBar.prototype.options_.children,
{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)a.JSON=window.JSON;else{a.JSON={};var E=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a.JSON.parse=function(a,d){function c(a,b){var e,g,k=a[b];if(k&&"object"===typeof k)for(e in k)Object.prototype.hasOwnProperty.call(k,e)&&(g=c(k,e),void 0!==g?k[e]=g:delete k[e]);return d.call(a,b,k)}var e;a=String(a);E.lastIndex=
0;E.test(a)&&(a=a.replace(E,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof d?c({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}a.autoSetup=function(){var b,d,c=document.getElementsByTagName("video");
if(c&&0<c.length)for(var e=0,g=c.length;e<g;e++)if((d=c[e])&&d.getAttribute)void 0===d.player&&(b=d.getAttribute("data-setup"),null!==b&&(b=a.JSON.parse(b||"{}"),l(d,b)));else{a.autoSetupTimeout(1);break}else a.windowLoaded||a.autoSetupTimeout(1)};a.autoSetupTimeout=function(b){setTimeout(a.autoSetup,b)};a.one(window,"load",function(){a.windowLoaded=!0});a.autoSetupTimeout(1);a.plugin=function(b,d){a.Player.prototype[b]=d};w.exports=a})()})()},{}],42:[function(l,w,y){(function(){var c=l("../base"),
a=l("backbone"),t=l("lodash"),c=c.extend({template:l("../../templates/layout/navbar.hbs"),initialize:function(a){this.app=a.app;this.pages=this.app.db.fetchCollection("pages");this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.pages,"change add remove sort",this.render,this);this.listenTo(this.unprocessed,"change add remove",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.app,"flash",this.render,this);this.renderOnReady(this.pages,
this.unprocessed,this.app.getUser())},context:function(){var c=null,e=null,k=[],l=this.unprocessed.length,v="Choose thumbnail"+(1!==this.unprocessed.length?"":"s")+" for "+this.unprocessed.length+" upload"+(1===this.unprocessed.length?"":"s");this.pages.forEach(function(g){if(this.app.isLoggedIn()||g.attributes.isPublished){var l=encodeURIComponent(g.attributes.name);g=t.extend(t.clone(g.attributes),{href:"/page/"+l,editHref:"/page/"+l+"/edit",addHref:"/page/"+l+"/addMedia",active:!1});if(a.history.fragment===
g.href.replace(/^\//,"")||0==a.history.fragment.indexOf("page/"+l+"/"))g.active=!0,e=g.editHref,c=g.addHref;k.push(g)}},this);return this.getContext({pages:k,editPageHref:e,addMediaHref:c,createHref:"/createPage",reviewHref:"/review",isHome:""===a.history.fragment,isPage:a.history.fragment.match(/^(edit)?[pP]age\//)?!0:!1,isEditingPage:a.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isAddingMedia:a.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/addMedia$/)?!0:!1,isEditingMedia:a.history.fragment.match(/^media\/(image|video)\/[a-zA-Z0-9\-]+\/edit$/)?
!0:!1,isCreatingPage:a.history.fragment.match(/^createPage/)?!0:!1,isReviewingUploads:a.history.fragment.match(/^review/)?!0:!1,unprocessedCount:l,unprocessedPrompt:v})}});w.exports=c})()},{"../../templates/layout/navbar.hbs":72,"../base":45,backbone:54,lodash:34}],44:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){this.compilerInfo=[4,">= 1.0.0"];this.merge(l,c.helpers);var k;c=this.escapeExpression;return a=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h1 class="title">'+
c((k=(k=a.sitetitle,null==k||!1===k?k:k.value),"function"===typeof k?k.apply(a):k))+'</h1>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>')})},{"handlebars-runtime":73}],46:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){function k(a,b){return'\n          <div class="alert alert-info">\n            <h3>Test Account Available</h3>\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\n            <a class="provisionTestAccount btn btn-info btn-block">Create Test Account</a>\n          </div>\n        '}
function w(a,b){var d,c;return d=""+('\n          <div class="alert alert-error">\n            '+g((c=(c=a.user,null==c||!1===c?c:c.error),typeof c===v?c.apply(a):c))+"\n          </div>\n        ")}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};var v="function",g=this.escapeExpression,B=this;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3">\n      ';if((a=l["if"].call(a,a.isLoggedIn,{hash:{},inverse:B.program(3,
function(a,b){var d,c,e;d="\n        ";if((c=l["if"].call(a,a.debug,{hash:{},inverse:B.noop,fn:B.program(4,k,b),data:b}))||0===c)d+=c;d+="\n        ";if((e=l["if"].call(a,(c=a.user,null==c||!1===c?c:c.error),{hash:{},inverse:B.noop,fn:B.program(6,w,b),data:b}))||0===e)d+=e;return d+='\n        <form>\n          <div class="control-group">\n            <input type="text" name="username" value="'+g((c=(c=a.user,null==c||!1===c?c:c.username),typeof c===v?c.apply(a):c))+'" class="span6" placeholder="Username" />\n          </div>\n          <div class="control-group">\n            <input type="password" name="password" value="" class="span6" placeholder="Password" />\n          </div>\n          <div class="actions">\n            <button type="submit" class="btn btn-primary btn-block">Log In</button>\n          </div>\n        </form>\n      '},
e),fn:B.program(1,function(a,b){var d,c;return d=""+('\n        <div class="alert alert-info">\n          <h3>Welcome Back, '+g((c=(c=a.user,null==c||!1===c?c:c.username),typeof c===v?c.apply(a):c))+'</h3>\n          <p>You\'re now able to edit your website.</p>\n          <a href="/" class="btn btn-info btn-wide app">Go to homepage</a>\n          <a href="/logout" class="btn btn-danger btn-wide app">Log Out</a>\n        </div>\n      ')},e),data:e}))||0===a)c+=a;return c+'\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},
{"handlebars-runtime":73}],47:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){function k(a,c){return'id="firstFixButton"'}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};var w=this.escapeExpression,v=this;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>File</th>\n            <th colspan="2">Problem</th>\n          </tr>\n        </thead>\n        <tbody>\n          ';
if((p=l.each.call(a,a.unprocessed,{hash:{},inverse:v.noop,fn:v.program(1,function(a,c){var e,b,d;e="\n            <tr>\n              <td><big>";(b=l.name)?b=b.call(a,{hash:{},data:c}):(b=a.name,b="function"===typeof b?b.apply(a):b);e+=w(b)+"</big></td>\n              <td><big>";(b=l.reviewIssue)?b=b.call(a,{hash:{},data:c}):(b=a.reviewIssue,b="function"===typeof b?b.apply(a):b);e+=w(b)+"</big></td>\n              <td><a ";if((d=l.unless.call(a,(b=c,null==b||!1===b?b:b.index),{hash:{},inverse:v.noop,
fn:v.program(2,k,c),data:c}))||0===d)e+=d;e+=' href="';(d=l.editHref)?d=d.call(a,{hash:{},data:c}):(d=a.editHref,d="function"===typeof d?d.apply(a):d);return e+=w(d)+'" class="app btn btn-info btn-mini">Fix It!</a></td>\n            </tr>\n          '},e),data:e}))||0===p)c+=p;c+="\n          ";if((p=l["if"].call(a,a.nothingToReview,{hash:{},inverse:v.noop,fn:v.program(4,function(a,c){return'\n            <tr>\n              <td colspan="3">Nothing to review, good job!</td>\n            </tr>\n          '},
e),data:e}))||0===p)c+=p;return c+'\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":73}],73:[function(l,w,y){l={};w.exports=l;(function(c,a){c.VERSION="1.0.0";c.COMPILER_REVISION=4;c.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};c.helpers={};c.partials={};var l=Object.prototype.toString;c.registerHelper=function(a,e,k){if("[object Object]"===l.call(a)){if(k||e)throw new c.Exception("Arg not supported with multiple helpers");
c.Utils.extend(this.helpers,a)}else k&&(e.not=k),this.helpers[a]=e};c.registerPartial=function(a,e){"[object Object]"===l.call(a)?c.Utils.extend(this.partials,a):this.partials[a]=e};c.registerHelper("helperMissing",function(c){if(2===arguments.length)return a;throw Error("Missing helper: '"+c+"'");});c.registerHelper("blockHelperMissing",function(a,e){var k=e.inverse||function(){},b=e.fn,d=l.call(a);"[object Function]"===d&&(a=a.call(this));return!0===a?b(this):!1===a||null==a?k(this):"[object Array]"===
d?0<a.length?c.helpers.each(a,e):k(this):b(a)});c.K=function(){};c.createFrame=Object.create||function(a){c.K.prototype=a;a=new c.K;c.K.prototype=null;return a};c.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(a,e){if(c.logger.level<=a){var k=c.logger.methodMap[a];"undefined"!==typeof console&&console[k]&&console[k].call(console,e)}}};c.log=function(a,e){c.logger.log(a,e)};c.registerHelper("each",function(a,e){var k=e.fn,b=e.inverse,d=
0,n="",q;"[object Function]"===l.call(a)&&(a=a.call(this));e.data&&(q=c.createFrame(e.data));if(a&&"object"===typeof a)if(a instanceof Array)for(var p=a.length;d<p;d++)q&&(q.index=d),n+=k(a[d],{data:q});else for(p in a)a.hasOwnProperty(p)&&(q&&(q.key=p),n+=k(a[p],{data:q}),d++);0===d&&(n=b(this));return n});c.registerHelper("if",function(a,e){"[object Function]"===l.call(a)&&(a=a.call(this));return!a||c.Utils.isEmpty(a)?e.inverse(this):e.fn(this)});c.registerHelper("unless",function(a,e){return c.helpers["if"].call(this,
a,{fn:e.inverse,inverse:e.fn})});c.registerHelper("with",function(a,e){"[object Function]"===l.call(a)&&(a=a.call(this));if(!c.Utils.isEmpty(a))return e.fn(a)});c.registerHelper("log",function(a,e){var k=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;c.log(k,a)});var p="description fileName lineNumber message name number stack".split(" ");c.Exception=function(a){for(var c=Error.prototype.constructor.apply(this,arguments),e=0;e<p.length;e++)this[p[e]]=c[p[e]]};c.Exception.prototype=Error();
c.SafeString=function(a){this.string=a};c.SafeString.prototype.toString=function(){return this.string.toString()};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=/[&<>"'`]/g,w=/[&<>"'`]/,v=function(a){return e[a]||"&amp;"};c.Utils={extend:function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])},escapeExpression:function(a){if(a instanceof c.SafeString)return a.toString();if(null==a||!1===a)return"";a=a.toString();return w.test(a)?a.replace(k,v):a},isEmpty:function(a){return a||
0===a?"[object Array]"===l.call(a)&&0===a.length?!0:!1:!0}};c.VM={template:function(a){var e={escapeExpression:c.Utils.escapeExpression,invokePartial:c.VM.invokePartial,programs:[],program:function(a,b,d){var e=this.programs[a];d?e=c.VM.program(a,b,d):e||(e=this.programs[a]=c.VM.program(a,b));return e},merge:function(a,b){var d=a||b;a&&b&&(d={},c.Utils.extend(d,b),c.Utils.extend(d,a));return d},programWithDepth:c.VM.programWithDepth,noop:c.VM.noop,compilerInfo:null};return function(k,b){b=b||{};var d=
a.call(e,c,k,b.helpers,b.partials,b.data),n=e.compilerInfo||[],l=n[0]||1,t=c.COMPILER_REVISION;if(l!==t){if(l<t)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c.REVISION_CHANGES[t]+") or downgrade your runtime to an older version ("+c.REVISION_CHANGES[l]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+n[1]+
").";}return d}},programWithDepth:function(a,c,e){var b=Array.prototype.slice.call(arguments,3),d=function(a,d){d=d||{};return c.apply(this,[a,d.data||e].concat(b))};d.program=a;d.depth=b.length;return d},program:function(a,c,e){var b=function(a,b){b=b||{};return c(a,b.data||e)};b.program=a;b.depth=0;return b},noop:function(){return""},invokePartial:function(e,k,l,b,d,n){b={helpers:b,partials:d,data:n};if(e===a)throw new c.Exception("The partial "+k+" could not be found");if(e instanceof Function)return e(l,
b);if(c.compile)return d[k]=c.compile(e,{data:n!==a}),d[k](l,b);throw new c.Exception("The partial "+k+" could not be compiled when running in runtime-only mode");}};c.template=c.VM.template})(l)},{}],48:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){this.compilerInfo=[4,">= 1.0.0"];this.merge(l,c.helpers);var k;c=this.escapeExpression;return a=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <form>\n        <fieldset>\n          <legend>Create A New Page</legend>\n          <label class="control-label" for="name">Page Title</label>\n          <input type="text" id="name" name="name" placeholder="Untitled Page" value="'+
c((k=(k=a.page,null==k||!1===k?k:k.name),"function"===typeof k?k.apply(a):k))+'">\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Create</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n')})},{"handlebars-runtime":73}],50:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,
p,e){function k(a,c){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};var w=this.escapeExpression,v=this;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n    <form>\n      ';if((p=l["with"].call(a,a.page,{hash:{},inverse:v.noop,fn:v.program(1,function(a,c){var e,b;e="\n      <fieldset>\n        <legend>Edit ";(b=l.name)?b=b.call(a,{hash:{},data:c}):(b=a.name,b="function"===typeof b?
b.apply(a):b);e+=w(b)+'</legend>\n        <label class="control-label" for="name">Page Title</label>\n        <input type="text" id="name" name="name" placeholder="Untitled Page" value="';(b=l.name)?b=b.call(a,{hash:{},data:c}):(b=a.name,b="function"===typeof b?b.apply(a):b);e+=w(b)+'">\n        <div class="control-group">\n          <label class="control-label" for="isPublished">Visibility</label>\n          <div class="switch switch-large"\n            data-on-label="Public"\n            data-off-label="Private">\n            <input name="isPublished" ';
if((b=l["if"].call(a,a.isPublished,{hash:{},inverse:v.noop,fn:v.program(2,k,c),data:c}))||0===b)e+=b;return e+' type="checkbox" />\n          </div>\n        </div>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <a class="btn btn-danger">Delete</a>\n          </div>\n        </div>\n      </fieldset>\n      '},e),data:e}))||0===p)c+=p;c+='\n      <fieldset>\n        <legend>Sort Media</legend>\n        <ul class="mediagrid sortable">\n        ';
if((p=l.each.call(a,a.media,{hash:{},inverse:v.noop,fn:v.program(4,function(a,c){var e,b;e='\n          <li class="span4" data-uuid="';(b=l.id)?b=b.call(a,{hash:{},data:c}):(b=a.id,b="function"===typeof b?b.apply(a):b);e+=w(b)+'">\n            <div class="relfix">\n              <img src="';(b=l.thumbnailUrl)?b=b.call(a,{hash:{},data:c}):(b=a.thumbnailUrl,b="function"===typeof b?b.apply(a):b);e+=w(b)+'" alt="';(b=l.name)?b=b.call(a,{hash:{},data:c}):(b=a.name,b="function"===typeof b?b.apply(a):b);
e+=w(b)+'" class="img-polaroid" />\n              <p class="absfix">\n                <a href="';(b=l.editHref)?b=b.call(a,{hash:{},data:c}):(b=a.editHref,b="function"===typeof b?b.apply(a):b);return e+=w(b)+'" class="app btn btn-mini btn-info">Edit</a>\n              </p>\n            </div>\n          </li>\n        '},e),data:e}))||0===p)c+=p;return c+'\n        </ul>\n      </fieldset>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":73}],
51:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};var k;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    ';if((a=l["if"].call(a,(k=a.page,null==k||!1===k?k:k.id),{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){return'\n    <div class="span2 offset5 centered">\n\n  \x3c!--\n      <div class="tooltip-trigger" data-title="Upload a new file from your computer or elsewhere" data-placement="left">\n  --\x3e\n      <div id="uploadFileLink">\n        <p>\n          <a href="#" class="filepicker">\n            <img class="flatIcon" src="/img/file_upload.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="filepicker btn btn-success">Upload File</a>\n        </p>\n      </div>\n    </div>\n  \x3c!--\n    <div class="span2 centered">\n      <div class="tooltip-trigger" data-title="Use a file on another page" data-placement="right">\n        <p>\n          <a href="#" class="useExisting">\n            <img class="flatIcon" src="/img/folder.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="useExisting btn btn-info">Use Existing</a>\n        </p>\n      </div>\n    </div>\n  --\x3e\n    '},
e),data:e}))||0===a)c+=a;return c+'\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":73}],53:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){this.compilerInfo=[4,">= 1.0.0"];this.merge(l,c.helpers);return'<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":73}],68:[function(l,w,y){l=l("handlebars-runtime");
w.exports=l.template(function(c,a,l,p,e){function k(a,d){return'\n        <div id="vid_placeholder" />\n      '}function w(a,d){var c,e;c='\n        <img id="media_image" class="pickerHolder img-polaroid" alt="';(e=l.name)?e=e.call(a,{hash:{},data:d}):(e=a.name,e=typeof e===g?e.apply(a):e);c+=B(e)+'" src="';(e=l.url)?e=e.call(a,{hash:{},data:d}):(e=a.url,e=typeof e===g?e.apply(a):e);return c+=B(e)+'" />\n      '}function v(a,d){var c,e;c="\n          <li>";if((e=typeof a===g?a.apply(a):a)||0===e)c+=
e;return c+"</li>\n        "}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};var g="function",B=this.escapeExpression,y=this;c='<div id="carouselWrapper">\n</div>\n<div id="content" class="container">\n  <div class="row">\n    <div id="preview" class="span12 centered previewPadding">\n    ';if((a=l["with"].call(a,a.media,{hash:{},inverse:y.noop,fn:y.program(1,function(a,d){var c,e;c="\n      ";if((e=l["if"].call(a,a.isVideo,{hash:{},inverse:y.program(4,w,d),fn:y.program(2,k,d),
data:d}))||0===e)c+=e;c+='\n      <div class="media_meta">\n        <h4>';(e=l.name)?e=e.call(a,{hash:{},data:d}):(e=a.name,e=typeof e===g?e.apply(a):e);c+=B(e)+"</h4>\n        <ul>\n        ";if((e=l.each.call(a,a.attribs,{hash:{},inverse:y.noop,fn:y.program(6,v,d),data:d}))||0===e)c+=e;return c+"\n        </ul>\n      </div>\n    "},e),data:e}))||0===a)c+=a;return c+"\n    </div>\n  </div>\n</div>\n"})},{"handlebars-runtime":73}],67:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,
a,l,p,e){function k(a,b){var c,e;c='\n            <p>\n              <img src="';(e=l.thumbnailUrl)?e=e.call(a,{hash:{},data:b}):(e=a.thumbnailUrl,e=typeof e===B?e.apply(a):e);c+=y(e)+'" class="thumbHolder img-polaroid" alt="';(e=l.name)?e=e.call(a,{hash:{},data:b}):(e=a.name,e=typeof e===B?e.apply(a):e);return c+=y(e)+' Thumbnail" />\n            </p>\n          '}function w(a,b){return'\n            <div class="alert alert-warning">\n              <big>No thumbnail yet! Select or upload one.</big>\n            </div>\n          '}
function v(a,b){return'\n                <a id="useOriginalButton" href="#" class="btn btn-info crop">Use Original</a>\n              '}function g(a,b){return'\n                <a id="useCaptureButton" href="#" class="btn btn-info capture">Use Current Frame</a>\n              '}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};c="";var B="function",y=this.escapeExpression,b=this;if((a=l["with"].call(a,a.media,{hash:{},inverse:b.noop,fn:b.program(1,function(a,c){var e,p;e='\n<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6">\n      <form>\n        <fieldset>\n          <legend>Edit ';
(p=l.name)?p=p.call(a,{hash:{},data:c}):(p=a.name,p=typeof p===B?p.apply(a):p);e+=y(p)+'</legend>\n          <label class="control-label" for="name">Title</label>\n          <input type="text" id="fileNameField" name="name" placeholder="Untitled ';(p=l.type)?p=p.call(a,{hash:{},data:c}):(p=a.type,p=typeof p===B?p.apply(a):p);e+=y(p)+'" value="';(p=l.name)?p=p.call(a,{hash:{},data:c}):(p=a.name,p=typeof p===B?p.apply(a):p);e+=y(p)+'">\n          <label class="control-label" for="attributes">Attributes <span data-toggle="tooltip" data-title="Example Attributes" data-content="These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to get additional formatting.&lt;/p&gt;" class="fui-question"></span></label>\n          <input name="attribs" class="tagsinput tagsinput-primary" value="';
(p=l.attributeList)?p=p.call(a,{hash:{},data:c}):(p=a.attributeList,p=typeof p===B?p.apply(a):p);e+=y(p)+'" id="tags1371235017630" style="display: none;" />\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Save</button>\n              <a class="btn btn-danger">Delete</a>\n            </div>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Set A Thumbnail</legend>\n          ';if((p=
l["if"].call(a,a.thumbnailS3key,{hash:{},inverse:b.program(4,w,c),fn:b.program(2,k,c),data:c}))||0===p)e+=p;e+='\n          <div class="control-group">\n            <div class="controls">\n              ';if((p=l["if"].call(a,a.isImage,{hash:{},inverse:b.noop,fn:b.program(6,v,c),data:c}))||0===p)e+=p;e+="\n              ";if((p=l["if"].call(a,a.isVideo,{hash:{},inverse:b.noop,fn:b.program(8,g,c),data:c}))||0===p)e+=p;e+='\n              <a id="useCustomButton" href="#" class="btn btn-success upload">Upload Thumbnail</a>\n            </div>\n          </div>\n          <input type="hidden" id="thumbnail" name="thumbnail" value="';
(p=l.thumbnail)?p=p.call(a,{hash:{},data:c}):(p=a.thumbnail,p=typeof p===B?p.apply(a):p);return e+=y(p)+'">\n        </fieldset>\n      </form>\n    </div>\n    <div id="thumber" class="span6">\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'},e),data:e}))||0===a)c+=a;return c+"\n"})},{"handlebars-runtime":73}],60:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};c='  <div class="container">\n    <div class="row">\n      <div class="span10">\n        <ul class="bottom-links">\n          ';
if((a=l["if"].call(a,a.isLoggedIn,{hash:{},inverse:this.program(3,function(a,c){return'\n            <li><a href="/login" class="app">Log In</a></li>\n          '},e),fn:this.program(1,function(a,c){return'\n            <li><a href="/logout" class="app">Log Out</a></li>\n          '},e),data:e}))||0===a)c+=a;return c+"\n        </ul>\n      </div>\n    </div>\n  </div>\n"})},{"handlebars-runtime":73}],74:[function(l,w,y){(function(c){(function(a){function l(c){function e(a){return a&&"object"==typeof a&&
!na(a)&&da.call(a,"__wrapped__")?a:new Ia(a)}function w(a){var b=a.length,d=b>=E;if(d)for(var c={},e=-1;++e<b;){var f=B+a[e];(c[f]||(c[f]=[])).push(a[e])}return function(b){if(d){var e=B+b;return c[e]&&-1<Pa(c[e],b)}return-1<Pa(a,b)}}function y(a){return a.charCodeAt(0)}function A(a,b){var d=a.index,c=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return d<c?-1:1}function Da(a,b,d,c){function e(){var c=arguments,l=g?this:b;
f||(a=b[h]);d.length&&(c=c.length?(c=N.call(c),k?c.concat(d):d.concat(c)):d);return this instanceof e?(Ma.prototype=a.prototype,l=new Ma,Ma.prototype=null,c=a.apply(l,c),S(c)?c:l):a.apply(l,c)}var f=db(a),g=!d,h=b;if(g){var k=c;d=b}else if(!f){if(!c)throw new Qb;b=a}return e}function bb(a){return"\\"+h[a]}function Ta(a){return Qa[a]}function Ia(a){this.__wrapped__=a}function Ma(){}function f(a){var b=!1;if(!a||L.call(a)!=ja)return b;var d=a.constructor;return(db(d)?d instanceof d:1)?($a(a,function(a,
d){b=d}),!1===b||da.call(a,b)):b}function Z(a,b,d){b||(b=0);"undefined"==typeof d&&(d=a?a.length:0);var c=-1;d=d-b||0;for(var e=ga(0>d?0:d);++c<d;)e[c]=a[b+c];return e}function ob(a){return tb[a]}function ua(a,b,d,c,f,g){var h=a;"function"==typeof b&&(c=d,d=b,b=!1);if("function"==typeof d){d="undefined"==typeof c?d:e.createCallback(d,c,1);h=d(h);if("undefined"!=typeof h)return h;h=a}if(c=S(h)){var k=L.call(h);if(!J[k])return h;var l=na(h)}if(!c||!b)return c?l?Z(h):kb({},h):h;c=Ga[k];switch(k){case pa:case X:return new c(+h);
case qa:case H:return new c(h);case Q:return c(h.source,K.exec(h))}f||(f=[]);g||(g=[]);for(k=f.length;k--;)if(f[k]==a)return g[k];h=l?c(h.length):{};l&&(da.call(a,"index")&&(h.index=a.index),da.call(a,"input")&&(h.input=a.input));f.push(a);g.push(h);(l?ba:U)(a,function(a,c){h[c]=ua(a,b,d,p,f,g)});return h}function cb(a){var b=[];$a(a,function(a,d){db(a)&&b.push(d)});return b.sort()}function Oa(a){for(var b=-1,d=V(a),c=d.length,e={};++b<c;){var f=d[b];e[a[f]]=f}return e}function wa(a,b,d,c,f,h){var k=
d===g;if("function"==typeof d&&!k){d=e.createCallback(d,c,2);var l=d(a,b);if("undefined"!=typeof l)return!!l}if(a===b)return 0!==a||1/a==1/b;var n=typeof a,p=typeof b;if(a===a&&(!a||"function"!=n&&"object"!=n)&&(!b||"function"!=p&&"object"!=p))return!1;if(null==a||null==b)return a===b;p=L.call(a);n=L.call(b);p==M&&(p=ja);n==M&&(n=ja);if(p!=n)return!1;switch(p){case pa:case X:return+a==+b;case qa:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Q:case H:return a==Ja(b)}n=p==va;if(!n){if(da.call(a,"__wrapped__ ")||
da.call(b,"__wrapped__"))return wa(a.__wrapped__||a,b.__wrapped__||b,d,c,f,h);if(p!=ja)return!1;var p=a.constructor,q=b.constructor;if(p!=q&&!(db(p)&&p instanceof p&&db(q)&&q instanceof q))return!1}f||(f=[]);h||(h=[]);for(p=f.length;p--;)if(f[p]==a)return h[p]==b;var s=0,l=!0;f.push(a);h.push(b);if(n){p=a.length;s=b.length;l=s==a.length;if(!l&&!k)return l;for(;s--;)if(n=p,q=b[s],k)for(;n--&&!(l=wa(a[n],q,d,c,f,h)););else if(!(l=wa(a[s],q,d,c,f,h)))break;return l}$a(b,function(b,e,g){if(da.call(g,
e))return s++,l=da.call(a,e)&&wa(a[e],b,d,c,f,h)});l&&!k&&$a(a,function(a,b,d){if(da.call(d,b))return l=-1<--s});return l}function db(a){return"function"==typeof a}function S(a){return a?ka[typeof a]:!1}function bc(a){return"number"==typeof a||L.call(a)==qa}function Db(a){return"string"==typeof a||L.call(a)==H}function cc(a,b,d){var c=arguments,f=0,h=2;if(!S(a))return a;if(d===g)var k=c[3],l=c[4],n=c[5];else l=[],n=[],"number"!=typeof d&&(h=c.length),3<h&&"function"==typeof c[h-2]?k=e.createCallback(c[--h-
1],c[h--],2):2<h&&"function"==typeof c[h-1]&&(k=c[--h]);for(;++f<h;)(na(c[f])?ba:U)(c[f],function(b,d){var c,e,f=b,h=a[d];if(b&&((e=na(b))||ha(b))){for(f=l.length;f--;)if(c=l[f]==b){h=n[f];break}if(!c){var p;k&&(f=k(h,b),p="undefined"!=typeof f)&&(h=f);p||(h=e?na(h)?h:[]:ha(h)?h:{});l.push(b);n.push(h);p||(h=cc(h,b,g,k,l,n))}}else k&&(f=k(h,b),"undefined"==typeof f&&(f=b)),"undefined"!=typeof f&&(h=f);a[d]=h});return a}function Yb(a){for(var b=-1,d=V(a),c=d.length,e=ga(c);++b<c;)e[b]=a[d[b]];return e}
function dc(a,b,d){var c=-1,e=a?a.length:0,f=!1;d=(0>d?xa(0,e+d):d)||0;"number"==typeof e?f=-1<(Db(a)?a.indexOf(b,d):Pa(a,b,d)):U(a,function(a){if(++c>=d)return!(f=a===b)});return f}function Eb(a,b,d){var c=!0;b=e.createCallback(b,d);d=-1;var f=a?a.length:0;if("number"==typeof f)for(;++d<f&&(c=!!b(a[d],d,a)););else U(a,function(a,d,e){return c=!!b(a,d,e)});return c}function Fb(a,b,d){var c=[];b=e.createCallback(b,d);d=-1;var f=a?a.length:0;if("number"==typeof f)for(;++d<f;){var g=a[d];b(g,d,a)&&c.push(g)}else U(a,
function(a,d,e){b(a,d,e)&&c.push(a)});return c}function Vb(a,b,d){b=e.createCallback(b,d);d=-1;var c=a?a.length:0;if("number"==typeof c)for(;++d<c;){var f=a[d];if(b(f,d,a))return f}else{var g;U(a,function(a,d,c){if(b(a,d,c))return g=a,!1});return g}}function ba(a,b,d){var c=-1,f=a?a.length:0;b=b&&"undefined"==typeof d?b:e.createCallback(b,d);if("number"==typeof f)for(;++c<f&&!1!==b(a[c],c,a););else U(a,b);return a}function sb(a,b,d){var c=-1,f=a?a.length:0;b=e.createCallback(b,d);if("number"==typeof f)for(var g=
ga(f);++c<f;)g[c]=b(a[c],c,a);else g=[],U(a,function(a,d,e){g[++c]=b(a,d,e)});return g}function ra(a,b,d){var c=-Infinity,f=c;if(!b&&na(a)){d=-1;for(var g=a.length;++d<g;){var h=a[d];h>f&&(f=h)}}else b=!b&&Db(a)?y:e.createCallback(b,d),ba(a,function(a,d,e){d=b(a,d,e);d>c&&(c=d,f=a)});return f}function Ea(a,b){var d=-1,c=a?a.length:0;if("number"==typeof c)for(var e=ga(c);++d<c;)e[d]=a[d][b];return e||sb(a,b)}function za(a,b,d,c){if(!a)return d;var f=3>arguments.length;b=e.createCallback(b,c,4);var g=
-1,h=a.length;if("number"==typeof h)for(f&&(d=a[++g]);++g<h;)d=b(d,a[g],g,a);else U(a,function(a,c,e){d=f?(f=!1,a):b(d,a,c,e)});return d}function vb(a,b,d,c){var f=a?a.length:0,g=3>arguments.length;if("number"!=typeof f)var h=V(a),f=h.length;b=e.createCallback(b,c,4);ba(a,function(c,e,k){e=h?h[--f]:--f;d=g?(g=!1,a[e]):b(d,a[e],e,k)});return d}function eb(a,b,d){var c;b=e.createCallback(b,d);d=-1;var f=a?a.length:0;if("number"==typeof f)for(;++d<f&&!(c=b(a[d],d,a)););else U(a,function(a,d,e){return!(c=
b(a,d,e))});return!!c}function Gb(a){for(var b=-1,d=a?a.length:0,c=Ua.apply(sa,N.call(arguments,1)),c=w(c),e=[];++b<d;){var f=a[b];c(f)||e.push(f)}return e}function pb(a,b,d){if(a){var c=0,f=a.length;if("number"!=typeof b&&null!=b){var g=-1;for(b=e.createCallback(b,d);++g<f&&b(a[g],g,a);)c++}else if(c=b,null==c||d)return a[0];return Z(a,0,Xa(xa(0,c),f))}}function Hb(a,b,d,c){var f=-1,g=a?a.length:0,h=[];"boolean"!=typeof b&&null!=b&&(c=d,d=b,b=!1);for(null!=d&&(d=e.createCallback(d,c));++f<g;)c=a[f],
d&&(c=d(c,f,a)),na(c)?Va.apply(h,b?c:Hb(c)):h.push(c);return h}function Pa(a,b,d){var c=-1,e=a?a.length:0;if("number"==typeof d)c=(0>d?xa(0,e+d):d||0)-1;else if(d)return c=fb(a,b),a[c]===b?c:-1;for(;++c<e;)if(a[c]===b)return c;return-1}function Ya(a,b,d){if("number"!=typeof b&&null!=b){var c=0,f=-1,g=a?a.length:0;for(b=e.createCallback(b,d);++f<g&&b(a[f],f,a);)c++}else c=null==b||d?1:xa(0,b);return Z(a,c)}function fb(a,b,d,c){var f=0,g=a?a.length:f;d=d?e.createCallback(d,c,1):gb;for(b=d(b);f<g;)c=
f+g>>>1,d(a[c])<b?f=c+1:g=c;return f}function aa(a,b,d,c){var f=-1,g=a?a.length:0,h=[],k=h;"boolean"!=typeof b&&null!=b&&(c=d,d=b,b=!1);var l=!b&&g>=E;if(l)var n={};null!=d&&(k=[],d=e.createCallback(d,c));for(;++f<g;){c=a[f];var p=d?d(c,f,a):c;if(l)var q=B+p,q=n[q]?!(k=n[q]):k=n[q]=[];if(b?!f||k[k.length-1]!==p:q||0>Pa(k,p))(d||l)&&k.push(p),h.push(c)}return h}function wb(a,b){for(var d=-1,c=a?a.length:0,e={};++d<c;){var f=a[d];b?e[f]=b[d]:e[f[0]]=f[1]}return e}function xb(a,b){return Ha.fastBind||
Fa&&2<arguments.length?Fa.call.apply(Fa,arguments):Da(a,b,N.call(arguments,2))}function yb(a){var b=N.call(arguments,1);return Na(function(){a.apply(p,b)},1)}function gb(a){return a}function zb(a){ba(cb(a),function(b){var d=e[b]=a[b];e.prototype[b]=function(){var a=this.__wrapped__,b=[a];Va.apply(b,arguments);b=d.apply(e,b);return a&&"object"==typeof a&&a==b?this:new Ia(b)}})}function Ib(){return this.__wrapped__}c=c?r.defaults(a.Object(),c,r.pick(a,oa)):a;var ga=c.Array,lb=c.Boolean,qb=c.Date,Jb=
c.Function,Ba=c.Math,Pb=c.Number,Za=c.Object,hb=c.RegExp,Ja=c.String,Qb=c.TypeError,sa=ga(),Ab=Za(),Rb=c._,ca=hb("^"+Ja(Ab.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),ab=Ba.ceil,ib=c.clearTimeout,Ua=sa.concat,Ka=Ba.floor,la=ca.test(la=Za.getPrototypeOf)&&la,da=Ab.hasOwnProperty,Va=sa.push,P=c.setImmediate,Na=c.setTimeout,L=Ab.toString,Fa=ca.test(Fa=L.bind)&&Fa,Kb=ca.test(Kb=ga.isArray)&&Kb,jb=c.isFinite,Zb=c.isNaN,Wa=ca.test(Wa=Za.keys)&&Wa,xa=Ba.max,Xa=
Ba.min,Lb=c.parseInt,Ra=Ba.random,N=sa.slice,Ba=ca.test(c.attachEvent),Ba=Fa&&!/\n|true/.test(Fa+Ba),Ga={};Ga[va]=ga;Ga[pa]=lb;Ga[X]=qb;Ga[ja]=Za;Ga[qa]=Pb;Ga[Q]=hb;Ga[H]=Ja;var Ha=e.support={};Ha.fastBind=Fa&&!Ba;e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:D,variable:"",imports:{_:e}};Ia.prototype=e.prototype;var na=Kb,lb=function(a){var b,d=[];if(!a||!ka[typeof a])return d;for(b in a)da.call(a,b)&&d.push(b);return d},V=Wa?function(a){return S(a)?Wa(a):[]}:
lb,Qa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tb=Oa(Qa),kb=function(a,b,d){var c,f=a,g=f;if(!f)return g;var h=arguments,k=0,l="number"==typeof d?2:h.length;if(3<l&&"function"==typeof h[l-2])var n=e.createCallback(h[--l-1],h[l--],2);else 2<l&&"function"==typeof h[l-1]&&(n=h[--l]);for(;++k<l;)if((f=h[k])&&ka[typeof f]){var p=f.length;c=-1;if(na(f))for(;++c<p;)g[c]=n?n(g[c],f[c]):f[c];else for(var q=-1,s=ka[typeof f]?V(f):[],p=s.length;++q<p;)c=s[q],g[c]=n?n(g[c],f[c]):f[c]}return g},
Mb=function(a,b,d){var c,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,k="number"==typeof d?2:g.length;++h<k;)if((e=g[h])&&ka[typeof e]){var l=e.length;c=-1;if(na(e))for(;++c<l;)"undefined"==typeof f[c]&&(f[c]=e[c]);else for(var n=-1,p=ka[typeof e]?V(e):[],l=p.length;++n<l;)c=p[n],"undefined"==typeof f[c]&&(f[c]=e[c])}return f},$a=function(a,b,d){var c;if(!a||!ka[typeof a])return a;b=b&&"undefined"==typeof d?b:e.createCallback(b,d);for(c in a)if(!1===b(a[c],c,a))break;return a},U=function(a,b,d){if(!a||
!ka[typeof a])return a;b=b&&"undefined"==typeof d?b:e.createCallback(b,d);for(var c=-1,f=ka[typeof a]?V(a):[],g=f.length;++c<g&&(d=f[c],!1!==b(a[d],d,a)););return a},ha=function(a){if(!a||L.call(a)!=ja)return!1;var b=a.valueOf,d="function"==typeof b&&(d=la(b))&&la(d);return d?a==d||la(a)==d:f(a)};Ba&&(k&&"function"==typeof P)&&(yb=xb(P,c));P=8==Lb(G+"08")?Lb:function(a,b){return Lb(Db(a)?a.replace(T,""):a,b||0)};e.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};
e.assign=kb;e.at=function(a){for(var b=-1,d=Ua.apply(sa,N.call(arguments,1)),c=d.length,e=ga(c);++b<c;)e[b]=a[d[b]];return e};e.bind=xb;e.bindAll=function(a){for(var b=1<arguments.length?Ua.apply(sa,N.call(arguments,1)):cb(a),d=-1,c=b.length;++d<c;){var e=b[d];a[e]=xb(a[e],a)}return a};e.bindKey=function(a,b){return Da(a,b,N.call(arguments,2),g)};e.compact=function(a){for(var b=-1,d=a?a.length:0,c=[];++b<d;){var e=a[b];e&&c.push(e)}return c};e.compose=function(){var a=arguments;return function(){for(var b=
arguments,d=a.length;d--;)b=[a[d].apply(this,b)];return b[0]}};e.countBy=function(a,b,d){var c={};b=e.createCallback(b,d);ba(a,function(a,d,e){d=Ja(b(a,d,e));da.call(c,d)?c[d]++:c[d]=1});return c};e.createCallback=function(a,b,d){if(null==a)return gb;var c=typeof a;if("function"!=c){if("object"!=c)return function(b){return b[a]};var e=V(a);return function(b){for(var d=e.length,c=!1;d--&&(c=wa(b[e[d]],a[e[d]],g)););return c}}return"undefined"!=typeof b?1===d?function(d){return a.call(b,d)}:2===d?function(d,
c){return a.call(b,d,c)}:4===d?function(d,c,e,f){return a.call(b,d,c,e,f)}:function(d,c,e){return a.call(b,d,c,e)}:a};e.debounce=function(a,b,d){function c(){f=k=null;l&&(g=a.apply(h,e))}var e,f,g,h,k,l=!0;if(!0===d)var n=!0,l=!1;else d&&ka[typeof d]&&(n=d.leading,l="trailing"in d?d.trailing:l);return function(){e=arguments;h=this;ib(k);!f&&n?(f=!0,g=a.apply(h,e)):k=Na(c,b);return g}};e.defaults=Mb;e.defer=yb;e.delay=function(a,b){var d=N.call(arguments,2);return Na(function(){a.apply(p,d)},b)};e.difference=
Gb;e.filter=Fb;e.flatten=Hb;e.forEach=ba;e.forIn=$a;e.forOwn=U;e.functions=cb;e.groupBy=function(a,b,d){var c={};b=e.createCallback(b,d);ba(a,function(a,d,e){d=Ja(b(a,d,e));(da.call(c,d)?c[d]:c[d]=[]).push(a)});return c};e.initial=function(a,b,d){if(!a)return[];var c=0,f=a.length;if("number"!=typeof b&&null!=b){var g=f;for(b=e.createCallback(b,d);g--&&b(a[g],g,a);)c++}else c=null==b||d?1:b||c;return Z(a,0,Xa(xa(0,f-c),f))};e.intersection=function(a){var b=arguments,d=b.length,c={0:{}},e=-1,f=a?a.length:
0,g=f>=E,h=[],k=h;a:for(;++e<f;){var l=a[e];if(g)var n=B+l,n=c[0][n]?!(k=c[0][n]):k=c[0][n]=[];if(n||0>Pa(k,l)){g&&k.push(l);for(var p=d;--p;)if(!(c[p]||(c[p]=w(b[p])))(l))continue a;h.push(l)}}return h};e.invert=Oa;e.invoke=function(a,b){var d=N.call(arguments,2),c=-1,e="function"==typeof b,f=a?a.length:0,g=ga("number"==typeof f?f:0);ba(a,function(a){g[++c]=(e?b:a[b]).apply(a,d)});return g};e.keys=V;e.map=sb;e.max=ra;e.memoize=function(a,b){var d={};return function(){var c=B+(b?b.apply(this,arguments):
arguments[0]);return da.call(d,c)?d[c]:d[c]=a.apply(this,arguments)}};e.merge=cc;e.min=function(a,b,d){var c=Infinity,f=c;if(!b&&na(a)){d=-1;for(var g=a.length;++d<g;){var h=a[d];h<f&&(f=h)}}else b=!b&&Db(a)?y:e.createCallback(b,d),ba(a,function(a,d,e){d=b(a,d,e);d<c&&(c=d,f=a)});return f};e.omit=function(a,b,d){var c="function"==typeof b,f={};if(c)b=e.createCallback(b,d);else var g=Ua.apply(sa,N.call(arguments,1));$a(a,function(a,d,e){if(c?!b(a,d,e):0>Pa(g,d))f[d]=a});return f};e.once=function(a){var b,
d;return function(){if(b)return d;b=!0;d=a.apply(this,arguments);a=null;return d}};e.pairs=function(a){for(var b=-1,d=V(a),c=d.length,e=ga(c);++b<c;){var f=d[b];e[b]=[f,a[f]]}return e};e.partial=function(a){return Da(a,N.call(arguments,1))};e.partialRight=function(a){return Da(a,N.call(arguments,1),null,g)};e.pick=function(a,b,d){var c={};if("function"!=typeof b)for(var f=-1,g=Ua.apply(sa,N.call(arguments,1)),h=S(a)?g.length:0;++f<h;){var k=g[f];k in a&&(c[k]=a[k])}else b=e.createCallback(b,d),$a(a,
function(a,d,e){b(a,d,e)&&(c[d]=a)});return c};e.pluck=Ea;e.range=function(a,b,d){a=+a||0;d=+d||1;null==b&&(b=a,a=0);var c=-1;b=xa(0,ab((b-a)/d));for(var e=ga(b);++c<b;)e[c]=a,a+=d;return e};e.reject=function(a,b,d){b=e.createCallback(b,d);return Fb(a,function(a,d,c){return!b(a,d,c)})};e.rest=Ya;e.shuffle=function(a){var b=-1,d=a?a.length:0,c=ga("number"==typeof d?d:0);ba(a,function(a){var d=Ka(Ra()*(++b+1));c[b]=c[d];c[d]=a});return c};e.sortBy=function(a,b,d){var c=-1,f=a?a.length:0,g=ga("number"==
typeof f?f:0);b=e.createCallback(b,d);ba(a,function(a,d,e){g[++c]={criteria:b(a,d,e),index:c,value:a}});f=g.length;for(g.sort(A);f--;)g[f]=g[f].value;return g};e.tap=function(a,b){b(a);return a};e.throttle=function(a,b,d){function c(){h=null;n&&(k=new qb,f=a.apply(g,e))}var e,f,g,h,k=0,l=!0,n=!0;!1===d?l=!1:d&&ka[typeof d]&&(l="leading"in d?d.leading:l,n="trailing"in d?d.trailing:n);return function(){var d=new qb;h||l||(k=d);var n=b-(d-k);e=arguments;g=this;0>=n?(ib(h),h=null,k=d,f=a.apply(g,e)):
h||(h=Na(c,n));return f}};e.times=function(a,b,d){a=-1<(a=+a)?a:0;var c=-1,f=ga(a);for(b=e.createCallback(b,d,1);++c<a;)f[c]=b(c);return f};e.toArray=function(a){return a&&"number"==typeof a.length?Z(a):Yb(a)};e.union=function(a){na(a)||(arguments[0]=a?N.call(a):sa);return aa(Ua.apply(sa,arguments))};e.uniq=aa;e.unzip=function(a){for(var b=-1,d=a?a.length:0,c=d?ra(Ea(a,"length")):0,e=ga(c);++b<d;)for(var f=-1,g=a[b];++f<c;)(e[f]||(e[f]=ga(d)))[b]=g[f];return e};e.values=Yb;e.where=Fb;e.without=function(a){return Gb(a,
N.call(arguments,1))};e.wrap=function(a,b){return function(){var d=[a];Va.apply(d,arguments);return b.apply(this,d)}};e.zip=function(a){for(var b=-1,d=a?ra(Ea(arguments,"length")):0,c=ga(d);++b<d;)c[b]=Ea(arguments,b);return c};e.zipObject=wb;e.collect=sb;e.drop=Ya;e.each=ba;e.extend=kb;e.methods=cb;e.object=wb;e.select=Fb;e.tail=Ya;e.unique=aa;zb(e);e.clone=ua;e.cloneDeep=function(a,b,d){return ua(a,!0,b,d)};e.contains=dc;e.escape=function(a){return null==a?"":Ja(a).replace(s,Ta)};e.every=Eb;e.find=
Vb;e.findIndex=function(a,b,d){var c=-1,f=a?a.length:0;for(b=e.createCallback(b,d);++c<f;)if(b(a[c],c,a))return c;return-1};e.findKey=function(a,b,d){var c;b=e.createCallback(b,d);U(a,function(a,d,e){if(b(a,d,e))return c=d,!1});return c};e.has=function(a,b){return a?da.call(a,b):!1};e.identity=gb;e.indexOf=Pa;e.isArguments=function(a){return L.call(a)==M};e.isArray=na;e.isBoolean=function(a){return!0===a||!1===a||L.call(a)==pa};e.isDate=function(a){return a?"object"==typeof a&&L.call(a)==X:!1};e.isElement=
function(a){return a?1===a.nodeType:!1};e.isEmpty=function(a){var b=!0;if(!a)return b;var d=L.call(a),c=a.length;if(d==va||(d==H||d==M)||d==ja&&"number"==typeof c&&db(a.splice))return!c;U(a,function(){return b=!1});return b};e.isEqual=wa;e.isFinite=function(a){return jb(a)&&!Zb(parseFloat(a))};e.isFunction=db;e.isNaN=function(a){return bc(a)&&a!=+a};e.isNull=function(a){return null===a};e.isNumber=bc;e.isObject=S;e.isPlainObject=ha;e.isRegExp=function(a){return a?"object"==typeof a&&L.call(a)==Q:
!1};e.isString=Db;e.isUndefined=function(a){return"undefined"==typeof a};e.lastIndexOf=function(a,b,d){var c=a?a.length:0;for("number"==typeof d&&(c=(0>d?xa(0,c+d):Xa(d,c-1))+1);c--;)if(a[c]===b)return c;return-1};e.mixin=zb;e.noConflict=function(){c._=Rb;return this};e.parseInt=P;e.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b&&(b=a,a=0);return a+Ka(Ra()*((+b||0)-a+1))};e.reduce=za;e.reduceRight=vb;e.result=function(a,b){var d=a?a[b]:p;return db(d)?a[b]():d};e.runInContext=l;e.size=
function(a){var b=a?a.length:0;return"number"==typeof b?b:V(a).length};e.some=eb;e.sortedIndex=fb;e.template=function(a,c,f){var g=e.templateSettings;a||(a="");f=Mb({},f,g);var h=Mb({},f.imports,g.imports),g=V(h),h=Yb(h),k,l=0,q=f.interpolate||W,s="__p += '",q=hb((f.escape||W).source+"|"+q.source+"|"+(q===D?C:W).source+"|"+(f.evaluate||W).source+"|$","g");a.replace(q,function(b,d,c,e,f,g){c||(c=e);s+=a.slice(l,g).replace(I,bb);d&&(s+="' +\n__e("+d+") +\n'");f&&(k=!0,s+="';\n"+f+";\n__p += '");c&&
(s+="' +\n((__t = ("+c+")) == null ? '' : __t) +\n'");l=g+b.length;return b});var s=s+"';\n",r=q=f.variable;r||(q="obj",s="with ("+q+") {\n"+s+"\n}\n");s=(k?s.replace(b,""):s).replace(d,"$1").replace(n,"$1;");s="function("+q+") {\n"+(r?"":q+" || ("+q+" = {});\n")+"var __t, __p = '', __e = _.escape"+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";f="\n/*\n//@ sourceURL="+(f.sourceURL||"/lodash/template/source["+mb++ +"]")+"\n*/";try{var t=
Jb(g,"return "+s+f).apply(p,h)}catch(v){throw v.source=s,v;}if(c)return t(c);t.source=s;return t};e.unescape=function(a){return null==a?"":Ja(a).replace(q,ob)};e.uniqueId=function(a){var b=++v;return Ja(null==a?"":a)+b};e.all=Eb;e.any=eb;e.detect=Vb;e.foldl=za;e.foldr=vb;e.include=dc;e.inject=za;U(e,function(a,b){e.prototype[b]||(e.prototype[b]=function(){var b=[this.__wrapped__];Va.apply(b,arguments);return a.apply(e,b)})});e.first=pb;e.last=function(a,b,d){if(a){var c=0,f=a.length;if("number"!=
typeof b&&null!=b){var g=f;for(b=e.createCallback(b,d);g--&&b(a[g],g,a);)c++}else if(c=b,null==c||d)return a[f-1];return Z(a,xa(0,f-c))}};e.take=pb;e.head=pb;U(e,function(a,b){e.prototype[b]||(e.prototype[b]=function(b,d){var c=a(this.__wrapped__,b,d);return null==b||d&&"function"!=typeof b?c:new Ia(c)})});e.VERSION="1.2.1";e.prototype.toString=function(){return Ja(this.__wrapped__)};e.prototype.value=Ib;e.prototype.valueOf=Ib;ba(["join","pop","shift"],function(a){var b=sa[a];e.prototype[a]=function(){return b.apply(this.__wrapped__,
arguments)}});ba(["push","reverse","sort","unshift"],function(a){var b=sa[a];e.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});ba(["concat","slice","splice"],function(a){var b=sa[a];e.prototype[a]=function(){return new Ia(b.apply(this.__wrapped__,arguments))}});return e}var p,e="object"==typeof y&&y,k="object"==typeof w&&w&&w.exports==e&&w,A="object"==typeof c&&c;if(A.global===A||A.window===A)a=A;var v=0,g={},B=+new Date+"",E=200,b=/\b__p \+= '';/g,d=/\b(__p \+=) '' \+/g,
n=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,K=/\w*$/,D=/<%=([\s\S]+?)%>/g,G=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",T=RegExp("^["+G+"]*0+(?=.$)"),W=/($^)/,s=/[&<>"']/g,I=/['\n\r\t\u2028\u2029\\]/g,oa="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),
mb=0,M="[object Arguments]",va="[object Array]",pa="[object Boolean]",X="[object Date]",qa="[object Number]",ja="[object Object]",Q="[object RegExp]",H="[object String]",J={"[object Function]":!1};J[M]=J[va]=J[pa]=J[X]=J[qa]=J[ja]=J[Q]=J[H]=!0;var ka={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},h={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},r=l();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=r,define(function(){return r})):
e&&!e.nodeType?k?(k.exports=r)._=r:e._=r:a._=r})(this)})(self)},{}],72:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){function k(a,b){var d,c;d='\n        <li><a href="';(c=l.href)?c=c.call(a,{hash:{},data:b}):(c=a.href,c=typeof c===K?c.apply(a):c);d+=D(c)+'" class="current app">';(c=l.name)?c=c.call(a,{hash:{},data:b}):(c=a.name,c=typeof c===K?c.apply(a):c);return d+=D(c)+"</a></li>\n      "}function w(a,b){var d,c;d='\n        <li><a href="';(c=l.href)?c=c.call(a,
{hash:{},data:b}):(c=a.href,c=typeof c===K?c.apply(a):c);d+=D(c)+'" class="app">';(c=l.name)?c=c.call(a,{hash:{},data:b}):(c=a.name,c=typeof c===K?c.apply(a):c);return d+=D(c)+"</a></li>\n      "}function v(a,d){var c,e;c="\n      ";if((e=l["if"].call(a,a.isAddingMedia,{hash:{},inverse:G.program(14,B,d),fn:G.program(12,g,d),data:d}))||0===e)c+=e;c+="\n      ";if((e=l["if"].call(a,a.isEditingPage,{hash:{},inverse:G.program(18,b,d),fn:G.program(16,y,d),data:d}))||0===e)c+=e;return c+"\n    "}function g(a,
b){var d,c;d='\n        <li><a href="';(c=l.addMediaHref)?c=c.call(a,{hash:{},data:b}):(c=a.addMediaHref,c=typeof c===K?c.apply(a):c);return d+=D(c)+'" id="addMediaLink" class="current app">Add Media</a></li>\n      '}function B(a,b){var d,c;d='\n        <li><a href="';(c=l.addMediaHref)?c=c.call(a,{hash:{},data:b}):(c=a.addMediaHref,c=typeof c===K?c.apply(a):c);return d+=D(c)+'" id="addMediaLink" class="app">Add Media</a></li>\n      '}function y(a,b){var d,c;d='\n        <li><a href="';(c=l.editPageHref)?
c=c.call(a,{hash:{},data:b}):(c=a.editPageHref,c=typeof c===K?c.apply(a):c);return d+=D(c)+'" class="current app">Edit Page</a></li>\n      '}function b(a,b){var d,c;d='\n        <li><a href="';(c=l.editPageHref)?c=c.call(a,{hash:{},data:b}):(c=a.editPageHref,c=typeof c===K?c.apply(a):c);return d+=D(c)+'" class="app">Edit Page</a></li>\n      '}function d(a,b){var d,c;d='\n      <li><a href="';(c=l.createHref)?c=c.call(a,{hash:{},data:b}):(c=a.createHref,c=typeof c===K?c.apply(a):c);return d+=D(c)+
'" id="newPageLink" class="current app">New Page</a></li>\n    '}function n(a,b){var d,c;d='\n      <li><a href="';(c=l.createHref)?c=c.call(a,{hash:{},data:b}):(c=a.createHref,c=typeof c===K?c.apply(a):c);return d+=D(c)+'" id="newPageLink" class="app">New Page</a></li>\n    '}function q(a,b){var d,c;d='\n      <li><a href="';(c=l.reviewHref)?c=c.call(a,{hash:{},data:b}):(c=a.reviewHref,c=typeof c===K?c.apply(a):c);return d+=D(c)+'" class="current app">Review</a></li>\n    '}function C(a,b){var d,
c;d='\n  <div id="unprocessedPrompt" class="alert alert-info centered">\n    <a href="/review" class="btn btn-info btn-wide app">';(c=l.unprocessedPrompt)?c=c.call(a,{hash:{},data:b}):(c=a.unprocessedPrompt,c=typeof c===K?c.apply(a):c);return d+=D(c)+"</a>\n  </div>\n  "}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};var K="function",D=this.escapeExpression,G=this,T=l.blockHelperMissing;c='<div class="centered-boxes">\n  <ul id="mainnav" class="nav nav-boxes">\n    ';if((p=l["if"].call(a,
a.isHome,{hash:{},inverse:G.program(3,function(a,b){var d,c;return d=""+('\n      <li><a href="/" class="app">'+D((c=(c=a.sitetitle,null==c||!1===c?c:c.value),typeof c===K?c.apply(a):c))+"</a></li>\n    ")},e),fn:G.program(1,function(a,b){var c,d;return c=""+('\n      <li><a href="/" class="current app">'+D((d=(d=a.sitetitle,null==d||!1===d?d:d.value),typeof d===K?d.apply(a):d))+"</a></li>\n    ")},e),data:e}))||0===p)c+=p;c+="\n    ";if((p=l.each.call(a,a.pages,{hash:{},inverse:G.noop,fn:G.program(5,
function(a,b){var d,c;d="\n      ";if((c=l["if"].call(a,a.active,{hash:{},inverse:G.program(8,w,b),fn:G.program(6,k,b),data:b}))||0===c)d+=c;return d+"\n    "},e),data:e}))||0===p)c+=p;c+="\n  </ul>\n</div>\n";if((p=l["if"].call(a,a.isLoggedIn,{hash:{},inverse:G.noop,fn:G.program(10,function(a,b){var c,e;c='\n<div class="centered-boxes">\n  <ul class="nav nav-boxes actionable">\n    ';if((e=l["if"].call(a,a.isPage,{hash:{},inverse:G.noop,fn:G.program(11,v,b),data:b}))||0===e)c+=e;c+="\n    ";if((e=
l["if"].call(a,a.isCreatingPage,{hash:{},inverse:G.program(22,n,b),fn:G.program(20,d,b),data:b}))||0===e)c+=e;c+="\n    ";if((e=l["if"].call(a,a.isReviewingUploads,{hash:{},inverse:G.noop,fn:G.program(24,q,b),data:b}))||0===e)c+=e;return c+"\n  </ul>\n</div>\n"},e),data:e}))||0===p)c+=p;c+="\n";if((p=l.unless.call(a,a.isReviewingUploads,{hash:{},inverse:G.noop,fn:G.program(26,function(a,b){var c,d;c="\n  ";if((d=l["if"].call(a,a.unprocessedCount,{hash:{},inverse:G.noop,fn:G.program(27,C,b),data:b}))||
0===d)c+=d;return c+"\n"},e),data:e}))||0===p)c+=p;c+="\n";e={hash:{},inverse:G.noop,fn:G.program(29,function(a,b){var c,d;c='\n<div class="alert alert-';(d=l.type)?d=d.call(a,{hash:{},data:b}):(d=a.type,d=typeof d===K?d.apply(a):d);c+=D(d)+'">\n  <button type="button" class="close fui-cross" data-dismiss="alert"></button>\n  ';(d=l.message)?d=d.call(a,{hash:{},data:b}):(d=a.message,d=typeof d===K?d.apply(a):d);return c+=D(d)+"\n</div>\n"},e),data:e};(p=l.flash)?p=p.call(a,e):(p=a.flash,p=typeof p===
K?p.apply(a):p);l.flash||(p=T.call(a,p,e));if(p||0===p)c+=p;return c+"\n"})},{"handlebars-runtime":73}],71:[function(l,w,y){var c=l("lodash");l=l("backbone").View.extend({initialize:function(a){this.beforeInit&&this.beforeInit(a);this.template=this.template||a.template;this.template||(this.template=function(){return""});this.afterInit&&this.afterInit(a);this.render()},context:function(){return c.extend({},this.options,this.model)},close:function(){this.beforeClose&&this.beforeClose();this.closeSubviews();
this.off();this.remove()},render:function(){var a=this,l=this.model;this.beforeRender&&this.beforeRender();this.closeSubviews();this.$el.empty();this.beforeTemplating&&(l=this.beforeTemplating());this.context&&(l=this.context());this.$el.html(this.template(l));c.defer(function(){a.trigger("afterRender")});this.afterRender&&this.afterRender();return this},proxy:function(a,c){var l=this;c.on(a,function(){var c=Array.prototype.slice.call(arguments,0);c.splice(0,0,a);l.trigger.apply(l,c)})},eachSubview:function(a){c.each(this.subviews,
a)},appendSubview:function(a,l){l||(l=this.$el);this.subviews=this.subviews||{};this.subviews[a.cid]=a;l.append(a.el);c.defer(function(){a.trigger("afterAppend")});a.afterAppend&&a.afterAppend()},closeSubviews:function(){this.eachSubview(function(a){a.close()});this.subviews={}},detachSubview:function(a){this.subviews&&delete this.subviews[a.cid];a.$el.detach()}});w.exports=l},{backbone:54,lodash:74}],70:[function(l,w,y){(function(){(function(){var c=new function(){var a,c=[],p={},e=function(a,c,
e){if(null!=a)if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(c,e);else if(a.length===+a.length)for(var k=0,b=a.length;k<b&&c.call(e,a[k],k,a)!==p;k++);else for(k in a)if(hasOwnProperty.call(a,k)&&c.call(e,a[k],k,a)===p)break},k=function(a){e(Array.prototype.slice.call(arguments,1),function(c){if(c)for(var e in c)a[e]=c[e]});return a};e(["videojs","vjs","_V_"],function(c){if(void 0!==window[c])return a=window[c],!1});try{a=l("videojs")}catch(w){}this.resizeVideos=function(k){k&&
(k.preventDefault(),k.stopPropagation());e(c,function(c){var e=document.getElementById(c.id),k=a(c.id);e&&e.parentNode&&(e=e.parentNode.offsetWidth,c=c.height*(e/c.width),k.width(e),k.height(c))})};this.loadVideo=function(l,g,p){var w=this,b,d,n=!1;g.sources=g.sources||[];g.attributes=g.attributes||{};d={id:"js_thumb_video","class":"video-js vjs-default-skin",controls:"controls",preload:"auto",resize:!1,width:560,height:320};a?g.sources.length?(g.sources=k([],g.sources),g.attributes=k({},d,g.attributes),
e(a.players,function(a,b){if(b===g.attributes.id)return a.dispose(),!1}),videoDims={},b=document.createElement("video"),e(g.attributes,function(a,c){b.setAttribute(c,a)}),e(g.sources,function(a){var c=document.createElement("source");c.setAttribute("src",a.src);c.setAttribute("type",a.type);b.appendChild(c)}),l.appendChild(b),a(b,{},function(){e(l.childNodes,function(a){if(a.attributes&&a.attributes.id&&a.attributes.id.value===g.attributes.id)return element=a,!1});e(element.childNodes,function(a){if("object"===
a.tagName.toLowerCase())return n=!0,!1});onReady=function(a,b){p(null,element,this,void 0===b)};g.attributes.resize&&(c.push({id:element.attributes.id.value,width:this.width(),height:this.height()}),w.resizeVideos());if(n)onReady(null,!0);else a(g.attributes.id).on("loadedmetadata",onReady)})):p("Videos require at least one source"):p("Please include Video.js to use this function")};this.screenshot=function(a,c){var e=document.createElement("canvas");c=c||{};var k=c.origWidth||a.videoWidth,b=c.origHeight||
a.videoHeight;if(!k||!b)return window.console&&console.log("Video has invalid dimensions or metadata has not yet loaded."),!1;e.width=k;e.height=b;e.getContext("2d").drawImage(a,0,0,k,b);return e.toDataURL("image/png")};this.resize=function(a,c){var e=c.maxWidth||50,k=c.maxHeight||50,b=document.createElement("canvas"),d=document.createElement("canvas"),l=b.getContext("2d"),p=d.getContext("2d"),t=a.width||c.origWidth,w=a.height||c.origHeight,y,A;y=c.maxWidth/t;var T=w*y;A=c.maxHeight/w;d.width=t;d.height=
w;p.drawImage(a,0,0);b.width=e;b.height=k;T<k?(y=(e-d.width*A)/2,l.drawImage(d,0,0,d.width,d.height,y,0,d.width*A,d.height*A)):(A=(k-d.height*y)/2,l.drawImage(d,0,0,d.width,d.height,0,A,d.width*y,d.height*y));return b.toDataURL()};this.resizeData=function(a,c,e){c=c||{};var k=this,b=new Image;b.onload=function(){e(null,k.resize(b,c))};b.src=a}};"undefined"!=typeof window&&"undefined"==typeof w?(window.jsthumb=c,window.onresize=c.resizeVideos):w.exports=c})()})()},{videojs:69}],61:[function(l,w,y){l=
l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){function k(a,c){var b,d;b='\n          <p class="absfix">\n            <a href="';(d=l.editHref)?d=d.call(a,{hash:{},data:c}):(d=a.editHref,d=typeof d===w?d.apply(a):d);return b+=v(d)+'" class="app btn btn-mini btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};var w="function",v=this.escapeExpression,g=this;c='<ul class="reelgrid">\n';if((a=l.each.call(a,a.media,{hash:{},
inverse:g.noop,fn:g.program(1,function(a,c){var b,d;b='\n  <li>\n    <div class="relfix">\n      <a href="';(d=l.playerUrl)?d=d.call(a,{hash:{},data:c}):(d=a.playerUrl,d=typeof d===w?d.apply(a):d);b+=v(d)+'" class="app">\n        <img src="';(d=l.thumbnailUrl)?d=d.call(a,{hash:{},data:c}):(d=a.thumbnailUrl,d=typeof d===w?d.apply(a):d);b+=v(d)+'" alt="';(d=l.name)?d=d.call(a,{hash:{},data:c}):(d=a.name,d=typeof d===w?d.apply(a):d);b+=v(d)+'" />\n        ';if((d=l["if"].call(a,a.editHref,{hash:{},inverse:g.noop,
fn:g.program(2,k,c),data:c}))||0===d)b+=d;b+='\n        <div class="captions centered">\n          <h2>';(d=l.name)?d=d.call(a,{hash:{},data:c}):(d=a.name,d=typeof d===w?d.apply(a):d);return b+=v(d)+"</h2>\n        </div>\n      </a>\n    </div>\n  </li>\n"},e),data:e}))||0===a)c+=a;return c+"\n</ul>\n"})},{"handlebars-runtime":73}],63:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};c="";var k=this.escapeExpression;
if((a=l["if"].call(a,a.thumberUrl,{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){var e,p;e='\n  <iframe src="';(p=l.thumberUrl)?p=p.call(a,{hash:{},data:c}):(p=a.thumberUrl,p="function"===typeof p?p.apply(a):p);return e+=k(p)+'" frameborder="0" width="100%"></iframe>\n'},e),data:e}))||0===a)c+=a;return c+"\n"})},{"handlebars-runtime":73}],65:[function(l,w,y){l=l("handlebars-runtime");w.exports=l.template(function(c,a,l,p,e){function k(a,c){var b,d;b='\n          <p class="absfix">\n            <a href="';
(d=l.editHref)?d=d.call(a,{hash:{},data:c}):(d=a.editHref,d=typeof d===w?d.apply(a):d);return b+=v(d)+'" class="app btn btn-micro btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,c.helpers);e=e||{};var w="function",v=this.escapeExpression,g=this;c='<div class="sliderWrap">\n  <ul class="carousel elastislide-list">\n  ';if((a=l.each.call(a,a.media,{hash:{},inverse:g.noop,fn:g.program(1,function(a,c){var b,d;b='\n    <li>\n      <div class="relfix">\n        <a href="';
(d=l.playerUrl)?d=d.call(a,{hash:{},data:c}):(d=a.playerUrl,d=typeof d===w?d.apply(a):d);b+=v(d)+'" class="app">\n          <img src="';(d=l.thumbnailUrl)?d=d.call(a,{hash:{},data:c}):(d=a.thumbnailUrl,d=typeof d===w?d.apply(a):d);b+=v(d)+'" alt="';(d=l.name)?d=d.call(a,{hash:{},data:c}):(d=a.name,d=typeof d===w?d.apply(a):d);b+=v(d)+'" />\n        </a>\n        ';if((d=l["if"].call(a,a.editHref,{hash:{},inverse:g.noop,fn:g.program(2,k,c),data:c}))||0===d)b+=d;return b+"\n      </div>\n    </li>\n  "},
e),data:e}))||0===a)c+=a;return c+'\n  </ul>\n</div>\n<div class="controls clearfix centered">\n  <a href="#" class="carouselControl bigClose pull-left">&times;</a>\n  <a href="#" class="carouselControl reelToggle"><span class="symbol">&and;</span><br /><small>Reel</small></a>\n</div>\n'})},{"handlebars-runtime":73}]},{},[1]);
/*
//# sourceMappingURL=scripts.js.map
*/