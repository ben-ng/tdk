/*

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>

 Lo-Dash 1.2.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
require=function(n,r,w){function d(l,f){if(!r[l]){if(!n[l]){var e="function"==typeof require&&require;if(!f&&e)return e(l,!0);if(a)return a(l,!0);throw Error("Cannot find module '"+l+"'");}e=r[l]={exports:{}};n[l][0].call(e.exports,function(a){var e=n[l][1][a];return d(e?e:a)},e,e.exports)}return r[l].exports}for(var a="function"==typeof require&&require,k=0;k<w.length;k++)d(w[k]);return d}({"jquery-browserify":[function(n,r,w){r.exports=n("Gb3VIQ")},{}],Gb3VIQ:[function(n,r,w){(function(){(function(d,
a){"object"===typeof w?r.exports=a():"function"===typeof define&&define.amd?define([],a):d.returnExports=a()})(this,function(){return function(d,a){function k(a){var b=Ub[a]={};h.each(a.split(qa),function(a,c){b[c]=!0});return b}function l(b,c,ra){if(ra===a&&1===b.nodeType)if(ra="data-"+c.replace(rb,"-$1").toLowerCase(),ra=b.getAttribute(ra),"string"===typeof ra){try{ra="true"===ra?!0:"false"===ra?!1:"null"===ra?null:+ra+""===ra?+ra:da.test(ra)?h.parseJSON(ra):ra}catch(g){}h.data(b,c,ra)}else ra=
a;return ra}function f(a){for(var b in a)if(("data"!==b||!h.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function e(){return!1}function v(){return!0}function u(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function p(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function x(a,b,c){b=b||0;if(h.isFunction(b))return h.grep(a,function(a,O){return!!b.call(a,O,a)===c});if(b.nodeType)return h.grep(a,function(a,O){return a===b===c});if("string"===typeof b){var g=h.grep(a,function(a){return 1===
a.nodeType});if(kb.test(b))return h.filter(b,g,!c);b=h.filter(b,g)}return h.grep(a,function(a,O){return 0<=h.inArray(a,b)===c})}function B(a){var b=va.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function b(a,b){if(1===b.nodeType&&h.hasData(a)){var c,g,d;g=h._data(a);var e=h._data(b,g),f=g.events;if(f)for(c in delete e.handle,e.events={},f)for(g=0,d=f[c].length;g<d;g++)h.event.add(b,c,f[c][g]);e.data&&(e.data=h.extend({},e.data))}}function c(a,
b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),h.support.html5Clone&&(a.innerHTML&&!h.trim(b.innerHTML))&&(b.innerHTML=a.innerHTML)):"input"===c&&Za.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&
(b.text=a.text),b.removeAttribute(h.expando))}function g(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function m(a){Za.test(a.type)&&(a.defaultChecked=a.checked)}function z(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),h=b,g=ma.length;g--;)if(b=ma[g]+c,b in a)return b;return h}function C(a,b){a=b||a;return"none"===h.css(a,"display")||!h.contains(a.ownerDocument,a)}function A(a,
b){for(var c,g,d=[],e=0,f=a.length;e<f;e++)c=a[e],c.style&&(d[e]=h._data(c,"olddisplay"),b?(d[e]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&C(c)&&(d[e]=h._data(c,"olddisplay",s(c.nodeName)))):(g=R(c,"display"),d[e]||"none"===g||h._data(c,"olddisplay",g)));for(e=0;e<f;e++)c=a[e],!c.style||b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?d[e]||"":"none");return a}function n(a,b,c){return(a=ta.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function F(a,
b,c,g){b=c===(g?"border":"content")?4:"width"===b?1:0;for(var d=0;4>b;b+=2)"margin"===c&&(d+=h.css(a,c+za[b],!0)),g?("content"===c&&(d-=parseFloat(R(a,"padding"+za[b]))||0),"margin"!==c&&(d-=parseFloat(R(a,"border"+za[b]+"Width"))||0)):(d+=parseFloat(R(a,"padding"+za[b]))||0,"padding"!==c&&(d+=parseFloat(R(a,"border"+za[b]+"Width"))||0));return d}function I(a,b,c){var g="width"===b?a.offsetWidth:a.offsetHeight,d=!0,e=h.support.boxSizing&&"border-box"===h.css(a,"boxSizing");if(0>=g||null==g){g=R(a,
b);if(0>g||null==g)g=a.style[b];if(Ua.test(g))return g;d=e&&(h.support.boxSizingReliable||g===a.style[b]);g=parseFloat(g)||0}return g+F(a,b,c||(e?"border":"content"),d)+"px"}function s(a){if(Pa[a])return Pa[a];var b=h("<"+a+">").appendTo(t.body),c=b.css("display");b.remove();if("none"===c||""===c)La=t.body.appendChild(La||h.extend(t.createElement("iframe"),{frameBorder:0,width:0,height:0})),N&&La.createElement||(N=(La.contentWindow||La.contentDocument).document,N.write("<!doctype html><html><body>"),
N.close()),b=N.body.appendChild(N.createElement(a)),c=R(b,"display"),t.body.removeChild(La);return Pa[a]=c}function r(a,b,c,g){var d;if(h.isArray(b))h.each(b,function(b,Ka){c||sb.test(a)?g(a,Ka):r(a+"["+("object"===typeof Ka?b:"")+"]",Ka,c,g)});else if(c||"object"!==h.type(b))g(a,b);else for(d in b)r(a+"["+d+"]",b[d],c,g)}function Aa(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var g,d,e=b.toLowerCase().split(qa),f=0,m=e.length;if(h.isFunction(c))for(;f<m;f++)g=e[f],(d=/^\+/.test(g))&&
(g=g.substr(1)||"*"),g=a[g]=a[g]||[],g[d?"unshift":"push"](c)}}function w(b,c,g,h,d,e){d=d||c.dataTypes[0];e=e||{};e[d]=!0;var f;d=b[d];for(var m=0,l=d?d.length:0,q=b===Vb;m<l&&(q||!f);m++)f=d[m](c,g,h),"string"===typeof f&&(!q||e[f]?f=a:(c.dataTypes.unshift(f),f=w(b,c,g,h,f,e)));!q&&f||e["*"]||(f=w(b,c,g,h,"*",e));return f}function E(b,c){var g,d,e=h.ajaxSettings.flatOptions||{};for(g in c)c[g]!==a&&((e[g]?b:d||(d={}))[g]=c[g]);d&&h.extend(!0,b,d)}function D(){try{return new d.XMLHttpRequest}catch(a){}}
function ka(){setTimeout(function(){lb=a},0);return lb=h.now()}function T(a,b){h.each(b,function(b,c){for(var Ka=(Wb[b]||[]).concat(Wb["*"]),g=0,h=Ka.length;g<h&&!Ka[g].call(a,b,c);g++);})}function V(a,b,c){var g=0,d=ac.length,e=h.Deferred().always(function(){delete f.elem}),f=function(){for(var b=lb||ka(),b=Math.max(0,m.startTime+m.duration-b),c=1-(b/m.duration||0),Ka=0,g=m.tweens.length;Ka<g;Ka++)m.tweens[Ka].run(c);e.notifyWith(a,[m,c,b]);if(1>c&&g)return b;e.resolveWith(a,[m]);return!1},m=e.promise({elem:a,
props:h.extend({},b),opts:h.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:lb||ka(),duration:c.duration,tweens:[],createTween:function(b,c,Ka){b=h.Tween(a,m.opts,b,c,m.opts.specialEasing[b]||m.opts.easing);m.tweens.push(b);return b},stop:function(b){for(var c=0,Ka=b?m.tweens.length:0;c<Ka;c++)m.tweens[c].run(1);b?e.resolveWith(a,[m,b]):e.rejectWith(a,[m,b]);return this}});c=m.props;for(ea(c,m.opts.specialEasing);g<d;g++)if(b=ac[g].call(m,a,c,m.opts))return b;T(m,
c);h.isFunction(m.opts.start)&&m.opts.start.call(a,m);h.fx.timer(h.extend(f,{anim:m,queue:m.opts.queue,elem:a}));return m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function ea(a,b){var c,g,d,e,m;for(c in a)if(g=h.camelCase(c),d=b[g],e=a[c],h.isArray(e)&&(d=e[1],e=a[c]=e[0]),c!==g&&(a[g]=e,delete a[c]),(m=h.cssHooks[g])&&"expand"in m)for(c in e=m.expand(e),delete a[g],e)c in a||(a[c]=e[c],b[c]=d);else b[g]=d}function P(a,b,c,g,h){return new P.prototype.init(a,
b,c,g,h)}function K(a,b){var c,g={height:a},h=0;for(b=b?1:0;4>h;h+=2-b)c=za[h],g["margin"+c]=g["padding"+c]=a;b&&(g.opacity=g.width=a);return g}function aa(a){return h.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var fa,q,t=d.document,M=d.location,Z=d.navigator,Ba=d.jQuery,Bb=d.$,mb=Array.prototype.push,Va=Array.prototype.slice,$a=Array.prototype.indexOf,Qa=Object.prototype.toString,Ca=Object.prototype.hasOwnProperty,Ga=String.prototype.trim,h=function(a,b){return new h.fn.init(a,
b,fa)},ba=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,nb=/\S/,qa=/\s+/,ab=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ma=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,sa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bb=/^[\],:{}\s]*$/,cb=/(?:^|:|,)(?:\s*\[)+/g,bc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Cb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,cc=/^-ms-/,Xb=/-([\da-z])/gi,dc=function(a,b){return(b+"").toUpperCase()},Db=function(){t.addEventListener?(t.removeEventListener("DOMContentLoaded",Db,
!1),h.ready()):"complete"===t.readyState&&(t.detachEvent("onreadystatechange",Db),h.ready())},Eb={};h.fn=h.prototype={constructor:h,init:function(b,c,g){var d;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("string"===typeof b){d="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:Ma.exec(b);if(!d||!d[1]&&c)return!c||c.jquery?(c||g).find(b):this.constructor(c).find(b);if(d[1])return b=(c=c instanceof h?c[0]:c)&&c.nodeType?c.ownerDocument||c:
t,b=h.parseHTML(d[1],b,!0),sa.test(d[1])&&h.isPlainObject(c)&&this.attr.call(b,c,!0),h.merge(this,b);if((c=t.getElementById(d[2]))&&c.parentNode){if(c.id!==d[2])return g.find(b);this.length=1;this[0]=c}this.context=t;this.selector=b;return this}if(h.isFunction(b))return g.ready(b);b.selector!==a&&(this.selector=b.selector,this.context=b.context);return h.makeArray(b,this)},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return Va.call(this)},get:function(a){return null==
a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){a=h.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===b?a.selector=this.selector+(this.selector?" ":"")+c:b&&(a.selector=this.selector+"."+b+"("+c+")");return a},each:function(a,b){return h.each(this,a,b)},ready:function(a){h.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
slice:function(){return this.pushStack(Va.apply(this,arguments),"slice",Va.call(arguments).join(","))},map:function(a){return this.pushStack(h.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:mb,sort:[].sort,splice:[].splice};h.fn.init.prototype=h.fn;h.extend=h.fn.extend=function(){var b,c,g,d,e,m=arguments[0]||{},f=1,l=arguments.length,q=!1;"boolean"===typeof m&&(q=m,m=arguments[1]||{},f=2);"object"===typeof m||h.isFunction(m)||(m=
{});l===f&&(m=this,--f);for(;f<l;f++)if(null!=(b=arguments[f]))for(c in b)g=m[c],d=b[c],m!==d&&(q&&d&&(h.isPlainObject(d)||(e=h.isArray(d)))?(e?(e=!1,g=g&&h.isArray(g)?g:[]):g=g&&h.isPlainObject(g)?g:{},m[c]=h.extend(q,g,d)):d!==a&&(m[c]=d));return m};h.extend({noConflict:function(a){d.$===h&&(d.$=Bb);a&&d.jQuery===h&&(d.jQuery=Ba);return h},isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){if(!0===a?!--h.readyWait:!h.isReady){if(!t.body)return setTimeout(h.ready,
1);h.isReady=!0;!0!==a&&0<--h.readyWait||(q.resolveWith(t,[h]),h.fn.trigger&&h(t).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):Eb[Qa.call(a)]||"object"},isPlainObject:function(b){if(!b||"object"!==h.type(b)||b.nodeType||h.isWindow(b))return!1;
try{if(b.constructor&&!Ca.call(b,"constructor")&&!Ca.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var g in b);return g===a||Ca.call(b,g)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){var g;if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=0);b=b||t;if(g=sa.exec(a))return[b.createElement(g[1])];g=h.buildFragment([a],b,c?null:[]);return h.merge([],(g.cacheable?h.clone(g.fragment):
g.fragment).childNodes)},parseJSON:function(a){if(!a||"string"!==typeof a)return null;a=h.trim(a);if(d.JSON&&d.JSON.parse)return d.JSON.parse(a);if(bb.test(a.replace(bc,"@").replace(Cb,"]").replace(cb,"")))return(new Function("return "+a))();h.error("Invalid JSON: "+a)},parseXML:function(b){var c,g;if(!b||"string"!==typeof b)return null;try{d.DOMParser?(g=new DOMParser,c=g.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=a}c&&c.documentElement&&
!c.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+b);return c},noop:function(){},globalEval:function(a){a&&nb.test(a)&&(d.execScript||function(a){d.eval.call(d,a)})(a)},camelCase:function(a){return a.replace(cc,"ms-").replace(Xb,dc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,c,g){var d,e=0,m=b.length,f=m===a||h.isFunction(b);if(g)if(f)for(d in b){if(!1===c.apply(b[d],g))break}else for(;e<m&&!1!==c.apply(b[e++],g););else if(f)for(d in b){if(!1===
c.call(b[d],d,b[d]))break}else for(;e<m&&!1!==c.call(b[e],e,b[e++]););return b},trim:Ga&&!Ga.call("\ufeff\u00a0")?function(a){return null==a?"":Ga.call(a)}:function(a){return null==a?"":a.toString().replace(ab,"")},makeArray:function(a,b){var c,g=b||[];null!=a&&(c=h.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||h.isWindow(a)?mb.call(g,a):h.merge(g,a));return g},inArray:function(a,b,c){var g;if(b){if($a)return $a.call(b,a,c);g=b.length;for(c=c?0>c?Math.max(0,g+c):c:0;c<g;c++)if(c in
b&&b[c]===a)return c}return-1},merge:function(b,c){var g=c.length,h=b.length,d=0;if("number"===typeof g)for(;d<g;d++)b[h++]=c[d];else for(;c[d]!==a;)b[h++]=c[d++];b.length=h;return b},grep:function(a,b,c){var g,h=[],d=0,e=a.length;for(c=!!c;d<e;d++)g=!!b(a[d],d),c!==g&&h.push(a[d]);return h},map:function(b,c,g){var d,e,m=[],f=0,l=b.length;if(b instanceof h||l!==a&&"number"===typeof l&&(0<l&&b[0]&&b[l-1]||0===l||h.isArray(b)))for(;f<l;f++)d=c(b[f],f,g),null!=d&&(m[m.length]=d);else for(e in b)d=c(b[e],
e,g),null!=d&&(m[m.length]=d);return m.concat.apply([],m)},guid:1,proxy:function(b,c){var g,d;"string"===typeof c&&(g=b[c],c=b,b=g);if(!h.isFunction(b))return a;d=Va.call(arguments,2);g=function(){return b.apply(c,d.concat(Va.call(arguments)))};g.guid=b.guid=b.guid||g.guid||h.guid++;return g},access:function(b,c,g,d,e,m,f){var l,q=null==g,k=0,p=b.length;if(g&&"object"===typeof g){for(k in g)h.access(b,c,k,g[k],1,m,d);e=1}else if(d!==a){l=f===a&&h.isFunction(d);q&&(l?(l=c,c=function(a,b,c){return l.call(h(a),
c)}):(c.call(b,d),c=null));if(c)for(;k<p;k++)c(b[k],g,l?d.call(b[k],k,c(b[k],g)):d,f);e=1}return e?b:q?c.call(b):p?c(b[0],g):m},now:function(){return(new Date).getTime()}});h.ready.promise=function(a){if(!q)if(q=h.Deferred(),"complete"===t.readyState)setTimeout(h.ready,1);else if(t.addEventListener)t.addEventListener("DOMContentLoaded",Db,!1),d.addEventListener("load",h.ready,!1);else{t.attachEvent("onreadystatechange",Db);d.attachEvent("onload",h.ready);var b=!1;try{b=null==d.frameElement&&t.documentElement}catch(c){}b&&
b.doScroll&&function gc(){if(!h.isReady){try{b.doScroll("left")}catch(a){return setTimeout(gc,50)}h.ready()}}()}return q.promise(a)};h.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Eb["[object "+b+"]"]=b.toLowerCase()});fa=h(t);var Ub={};h.Callbacks=function(b){b="string"===typeof b?Ub[b]||k(b):h.extend({},b);var c,g,d,e,m,f,l=[],q=!b.once&&[],p=function(a){c=b.memory&&a;g=!0;f=e||0;e=0;m=l.length;for(d=!0;l&&f<m;f++)if(!1===l[f].apply(a[0],a[1])&&b.stopOnFalse){c=
!1;break}d=!1;l&&(q?q.length&&p(q.shift()):c?l=[]:y.disable())},y={add:function(){if(l){var a=l.length;(function hc(a){h.each(a,function(a,c){var g=h.type(c);"function"!==g||b.unique&&y.has(c)?c&&(c.length&&"string"!==g)&&hc(c):l.push(c)})})(arguments);d?m=l.length:c&&(e=a,p(c))}return this},remove:function(){l&&h.each(arguments,function(a,b){for(var c;-1<(c=h.inArray(b,l,c));)l.splice(c,1),d&&(c<=m&&m--,c<=f&&f--)});return this},has:function(a){return-1<h.inArray(a,l)},empty:function(){l=[];return this},
disable:function(){l=q=c=a;return this},disabled:function(){return!l},lock:function(){q=a;c||y.disable();return this},locked:function(){return!q},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];!l||g&&!q||(d?q.push(b):p(b));return this},fire:function(){y.fireWith(this,arguments);return this},fired:function(){return!!g}};return y};h.extend({Deferred:function(a){var b=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify",
"progress",h.Callbacks("memory")]],c="pending",g={state:function(){return c},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return h.Deferred(function(c){h.each(b,function(b,O){var g=O[0],e=a[b];d[O[1]](h.isFunction(e)?function(){var a=e.apply(this,arguments);if(a&&h.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[g+"With"](this===d?c:this,[a])}:c[g])});a=null}).promise()},promise:function(a){return"object"===
typeof a?h.extend(a,g):g}},d={};g.pipe=g.then;h.each(b,function(a,O){var h=O[2],e=O[3];g[O[1]]=h.add;e&&h.add(function(){c=e},b[a^1][2].disable,b[2][2].lock);d[O[0]]=h.fire;d[O[0]+"With"]=h.fireWith});g.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,c=Va.call(arguments),g=c.length,d=1!==g||a&&h.isFunction(a.promise)?g:0,e=1===d?a:h.Deferred(),m=function(a,b,c){return function(O){b[a]=this;c[a]=1<arguments.length?Va.call(arguments):O;c===f?e.notifyWith(b,c):--d||e.resolveWith(b,c)}},
f,l,q;if(1<g)for(f=Array(g),l=Array(g),q=Array(g);b<g;b++)c[b]&&h.isFunction(c[b].promise)?c[b].promise().done(m(b,q,c)).fail(e.reject).progress(m(b,l,f)):--d;d||e.resolveWith(q,c);return e.promise()}});h.support=function(){var a,b,c,g,e,m,f,l=t.createElement("div");l.setAttribute("className","t");l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=l.getElementsByTagName("*");c=l.getElementsByTagName("a")[0];c.style.cssText="top:1px;float:left;opacity:.5";if(!b||!b.length||
!c)return{};g=t.createElement("select");e=g.appendChild(t.createElement("option"));b=l.getElementsByTagName("input")[0];a={leadingWhitespace:3===l.firstChild.nodeType,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:"on"===b.value,optSelected:e.selected,getSetAttribute:"t"!==l.className,enctype:!!t.createElement("form").enctype,
html5Clone:"<:nav></:nav>"!==t.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===t.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;g.disabled=!0;a.optDisabled=!e.disabled;try{delete l.test}catch(q){a.deleteExpando=!1}!l.addEventListener&&(l.attachEvent&&l.fireEvent)&&(l.attachEvent("onclick",
c=function(){a.noCloneEvent=!1}),l.cloneNode(!0).fireEvent("onclick"),l.detachEvent("onclick",c));b=t.createElement("input");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked","checked");b.setAttribute("name","t");l.appendChild(b);c=t.createDocumentFragment();c.appendChild(l.lastChild);a.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=b.checked;c.removeChild(b);c.appendChild(l);if(l.attachEvent)for(m in{submit:!0,change:!0,focusin:!0})b=
"on"+m,f=b in l,f||(l.setAttribute(b,"return;"),f="function"===typeof l[b]),a[m+"Bubbles"]=f;h(function(){var b,c,g,h=t.getElementsByTagName("body")[0];h&&(b=t.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(b,h.firstChild),c=t.createElement("div"),b.appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",g=c.getElementsByTagName("td"),g[0].style.cssText="padding:0;margin:0;border:0;display:none",
f=0===g[0].offsetHeight,g[0].style.display="",g[1].style.display="none",a.reliableHiddenOffsets=f&&0===g[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",a.boxSizing=4===c.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,d.getComputedStyle&&(a.pixelPosition="1%"!==(d.getComputedStyle(c,null)||{}).top,a.boxSizingReliable=
"4px"===(d.getComputedStyle(c,null)||{width:"4px"}).width,g=t.createElement("div"),g.style.cssText=c.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",g.style.marginRight=g.style.width="0",c.style.width="1px",c.appendChild(g),a.reliableMarginRight=!parseFloat((d.getComputedStyle(g,null)||{}).marginRight)),"undefined"!==typeof c.style.zoom&&(c.innerHTML="",c.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",
a.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.style.overflow="visible",c.innerHTML="<div></div>",c.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==c.offsetWidth,b.style.zoom=1),h.removeChild(b))});c.removeChild(l);b=c=g=e=b=c=l=null;return a}();var da=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rb=/([A-Z])/g;h.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(h.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},
hasData:function(a){a=a.nodeType?h.cache[a[h.expando]]:a[h.expando];return!!a&&!f(a)},data:function(b,c,g,d){if(h.acceptData(b)){var e=h.expando,m="string"===typeof c,f=b.nodeType,l=f?h.cache:b,q=f?b[e]:b[e]&&e;if(q&&l[q]&&(d||l[q].data)||!m||g!==a){q||(f?b[e]=q=h.deletedIds.pop()||++h.uuid:q=e);l[q]||(l[q]={},f||(l[q].toJSON=h.noop));if("object"===typeof c||"function"===typeof c)d?l[q]=h.extend(l[q],c):l[q].data=h.extend(l[q].data,c);b=l[q];d||(b.data||(b.data={}),b=b.data);g!==a&&(b[h.camelCase(c)]=
g);m?(g=b[c],null==g&&(g=b[h.camelCase(c)])):g=b;return g}}},removeData:function(a,b,c){if(h.acceptData(a)){var g,d,e,m=a.nodeType,l=m?h.cache:a,q=m?a[h.expando]:h.expando;if(l[q]){if(b&&(g=c?l[q]:l[q].data)){h.isArray(b)||(b in g?b=[b]:(b=h.camelCase(b),b=b in g?[b]:b.split(" ")));d=0;for(e=b.length;d<e;d++)delete g[b[d]];if(!(c?f:h.isEmptyObject)(g))return}if(!c&&(delete l[q].data,!f(l[q])))return;m?h.cleanData([a],!0):h.support.deleteExpando||l!=l.window?delete l[q]:l[q]=null}}},_data:function(a,
b,c){return h.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&h.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}});h.fn.extend({data:function(b,c){var g,d,e,m,f,q=this[0],k=0,p=null;if(b===a){if(this.length&&(p=h.data(q),1===q.nodeType&&!h._data(q,"parsedAttrs"))){e=q.attributes;for(f=e.length;k<f;k++)m=e[k].name,0===m.indexOf("data-")&&(m=h.camelCase(m.substring(5)),l(q,m,p[m]));h._data(q,"parsedAttrs",!0)}return p}if("object"===typeof b)return this.each(function(){h.data(this,
b)});g=b.split(".",2);g[1]=g[1]?"."+g[1]:"";d=g[1]+"!";return h.access(this,function(c){if(c===a)return p=this.triggerHandler("getData"+d,[g[0]]),p===a&&q&&(p=h.data(q,b),p=l(q,b,p)),p===a&&g[1]?this.data(g[0]):p;g[1]=c;this.each(function(){var a=h(this);a.triggerHandler("setData"+d,g);h.data(this,b,c);a.triggerHandler("changeData"+d,g)})},null,c,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){h.removeData(this,a)})}});h.extend({queue:function(a,b,c){var g;if(a)return b=
(b||"fx")+"queue",g=h._data(a,b),c&&(!g||h.isArray(c)?g=h._data(a,b,h.makeArray(c)):g.push(c)),g||[]},dequeue:function(a,b){b=b||"fx";var c=h.queue(a,b),g=c.length,d=c.shift(),e=h._queueHooks(a,b),m=function(){h.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),g--);d&&("fx"===b&&c.unshift("inprogress"),delete e.stop,d.call(a,m,e));!g&&e&&e.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return h._data(a,c)||h._data(a,c,{empty:h.Callbacks("once memory").add(function(){h.removeData(a,b+"queue",
!0);h.removeData(a,c,!0)})})}});h.fn.extend({queue:function(b,c){var g=2;"string"!==typeof b&&(c=b,b="fx",g--);return arguments.length<g?h.queue(this[0],b):c===a?this:this.each(function(){var a=h.queue(this,b,c);h._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&h.dequeue(this,b)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},delay:function(a,b){a=h.fx?h.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var g=setTimeout(b,a);c.stop=function(){clearTimeout(g)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(b,c){var g,d=1,e=h.Deferred(),m=this,f=this.length,l=function(){--d||e.resolveWith(m,[m])};"string"!==typeof b&&(c=b,b=a);for(b=b||"fx";f--;)(g=h._data(m[f],b+"queueHooks"))&&g.empty&&(d++,g.empty.add(l));l();return e.promise(c)}});var na,wa,ua,tb=/[\t\r\n]/g,db=/\r/g,Fb=/^(?:button|input)$/i,ob=/^(?:button|input|object|select|textarea)$/i,Gb=/^a(?:rea|)$/i,Na=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
Wa=h.support.getSetAttribute;h.fn.extend({attr:function(a,b){return h.access(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})},prop:function(a,b){return h.access(this,h.prop,a,b,1<arguments.length)},removeProp:function(b){b=h.propFix[b]||b;return this.each(function(){try{this[b]=a,delete this[b]}catch(c){}})},addClass:function(a){var b,c,g,d,e,m,f;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,this.className))});
if(a&&"string"===typeof a)for(b=a.split(qa),c=0,g=this.length;c<g;c++)if(d=this[c],1===d.nodeType)if(d.className||1!==b.length){e=" "+d.className+" ";m=0;for(f=b.length;m<f;m++)~e.indexOf(" "+b[m]+" ")||(e+=b[m]+" ");d.className=h.trim(e)}else d.className=a;return this},removeClass:function(b){var c,g,d,e,m,f,l;if(h.isFunction(b))return this.each(function(a){h(this).removeClass(b.call(this,a,this.className))});if(b&&"string"===typeof b||b===a)for(c=(b||"").split(qa),f=0,l=this.length;f<l;f++)if(d=
this[f],1===d.nodeType&&d.className){g=(" "+d.className+" ").replace(tb," ");e=0;for(m=c.length;e<m;e++)for(;-1<g.indexOf(" "+c[e]+" ");)g=g.replace(" "+c[e]+" "," ");d.className=b?h.trim(g):""}return this},toggleClass:function(a,b){var c=typeof a,g="boolean"===typeof b;return h.isFunction(a)?this.each(function(c){h(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var d,e=0,m=h(this),f=b,l=a.split(qa);d=l[e++];)f=g?f:!m.hasClass(d),m[f?"addClass":"removeClass"](d);
else if("undefined"===c||"boolean"===c)this.className&&h._data(this,"__className__",this.className),this.className=this.className||!1===a?"":h._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(tb," ").indexOf(a))return!0;return!1},val:function(b){var c,g,d,e=this[0];if(arguments.length)return d=h.isFunction(b),this.each(function(g){var e=h(this);1===this.nodeType&&(g=d?b.call(this,g,
e.val()):b,null==g?g="":"number"===typeof g?g+="":h.isArray(g)&&(g=h.map(g,function(a){return null==a?"":a+""})),c=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,g,"value")!==a||(this.value=g))});if(e){if((c=h.valHooks[e.type]||h.valHooks[e.nodeName.toLowerCase()])&&"get"in c&&(g=c.get(e,"value"))!==a)return g;g=e.value;return"string"===typeof g?g.replace(db,""):null==g?"":g}}});h.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||
b.specified?a.value:a.text}},select:{get:function(a){var b,c,g=a.selectedIndex,d=[],e=a.options,m="select-one"===a.type;if(0>g)return null;a=m?g:0;for(c=m?g+1:e.length;a<c;a++)if(b=e[a],b.selected&&!((h.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&h.nodeName(b.parentNode,"optgroup"))){b=h(b).val();if(m)return b;d.push(b)}return m&&!d.length&&e.length?h(e[g]).val():d},set:function(a,b){var c=h.makeArray(b);h(a).find("option").each(function(){this.selected=
0<=h.inArray(h(this).val(),c)});c.length||(a.selectedIndex=-1);return c}}},attrFn:{},attr:function(b,c,g,d){var e,m,f=b.nodeType;if(b&&3!==f&&8!==f&&2!==f){if(d&&h.isFunction(h.fn[c]))return h(b)[c](g);if("undefined"===typeof b.getAttribute)return h.prop(b,c,g);if(d=1!==f||!h.isXMLDoc(b))c=c.toLowerCase(),m=h.attrHooks[c]||(Na.test(c)?wa:na);if(g!==a)if(null===g)h.removeAttr(b,c);else{if(m&&"set"in m&&d&&(e=m.set(b,g,c))!==a)return e;b.setAttribute(c,""+g);return g}else{if(m&&"get"in m&&d&&null!==
(e=m.get(b,c)))return e;e=b.getAttribute(c);return null===e?a:e}}},removeAttr:function(a,b){var c,g,d,e,m=0;if(b&&1===a.nodeType)for(g=b.split(qa);m<g.length;m++)if(d=g[m])c=h.propFix[d]||d,(e=Na.test(d))||h.attr(a,d,""),a.removeAttribute(Wa?d:c),e&&c in a&&(a[c]=!1)},attrHooks:{type:{set:function(a,b){if(Fb.test(a.nodeName)&&a.parentNode)h.error("type property can't be changed");else if(!h.support.radioValue&&"radio"===b&&h.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=
c);return b}}},value:{get:function(a,b){return na&&h.nodeName(a,"button")?na.get(a,b):b in a?a.value:null},set:function(a,b,c){if(na&&h.nodeName(a,"button"))return na.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,c,g){var d,e,m;m=b.nodeType;
if(b&&3!==m&&8!==m&&2!==m){if(m=1!==m||!h.isXMLDoc(b))c=h.propFix[c]||c,e=h.propHooks[c];return g!==a?e&&"set"in e&&(d=e.set(b,g,c))!==a?d:b[c]=g:e&&"get"in e&&null!==(d=e.get(b,c))?d:b[c]}},propHooks:{tabIndex:{get:function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):ob.test(b.nodeName)||Gb.test(b.nodeName)&&b.href?0:a}}}});wa={get:function(b,c){var g,d=h.prop(b,c);return!0===d||"boolean"!==typeof d&&(g=b.getAttributeNode(c))&&!1!==g.nodeValue?c.toLowerCase():
a},set:function(a,b,c){!1===b?h.removeAttr(a,c):(b=h.propFix[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}};Wa||(ua={name:!0,id:!0,coords:!0},na=h.valHooks.button={get:function(b,c){var g;return(g=b.getAttributeNode(c))&&(ua[c]?""!==g.value:g.specified)?g.value:a},set:function(a,b,c){var g=a.getAttributeNode(c);g||(g=t.createAttribute(c),a.setAttributeNode(g));return g.value=b+""}},h.each(["width","height"],function(a,b){h.attrHooks[b]=h.extend(h.attrHooks[b],{set:function(a,
c){if(""===c)return a.setAttribute(b,"auto"),c}})}),h.attrHooks.contenteditable={get:na.get,set:function(a,b,c){""===b&&(b="false");na.set(a,b,c)}});h.support.hrefNormalized||h.each(["href","src","width","height"],function(b,c){h.attrHooks[c]=h.extend(h.attrHooks[c],{get:function(b){b=b.getAttribute(c,2);return null===b?a:b}})});h.support.style||(h.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||a},set:function(a,b){return a.style.cssText=""+b}});h.support.optSelected||(h.propHooks.selected=
h.extend(h.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}}));h.support.enctype||(h.propFix.enctype="encoding");h.support.checkOn||h.each(["radio","checkbox"],function(){h.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});h.each(["radio","checkbox"],function(){h.valHooks[this]=h.extend(h.valHooks[this],{set:function(a,b){if(h.isArray(b))return a.checked=0<=h.inArray(h(a).val(),b)}})});
var eb=/^(?:textarea|input|select)$/i,ca=/^([^\.]*|)(?:\.(.+)|)$/,ub=/(?:^|\s)hover(\.\S+|)\b/,vb=/^key/,wb=/^(?:mouse|contextmenu)|click/,fb=/^(?:focusinfocus|focusoutblur)$/,xb=function(a){return h.event.special.hover?a:a.replace(ub,"mouseenter$1 mouseleave$1")};h.event={add:function(b,c,g,d,e){var m,f,l,q,k,p,y,t,v;if(3!==b.nodeType&&8!==b.nodeType&&c&&g&&(m=h._data(b))){g.handler&&(y=g,g=y.handler,e=y.selector);g.guid||(g.guid=h.guid++);l=m.events;l||(m.events=l={});f=m.handle;f||(m.handle=f=
function(b){return"undefined"===typeof h||b&&h.event.triggered===b.type?a:h.event.dispatch.apply(f.elem,arguments)},f.elem=b);c=h.trim(xb(c)).split(" ");for(m=0;m<c.length;m++)q=ca.exec(c[m])||[],k=q[1],p=(q[2]||"").split(".").sort(),v=h.event.special[k]||{},k=(e?v.delegateType:v.bindType)||k,v=h.event.special[k]||{},q=h.extend({type:k,origType:q[1],data:d,handler:g,guid:g.guid,selector:e,namespace:p.join(".")},y),t=l[k],t||(t=l[k]=[],t.delegateCount=0,v.setup&&!1!==v.setup.call(b,d,p,f)||(b.addEventListener?
b.addEventListener(k,f,!1):b.attachEvent&&b.attachEvent("on"+k,f))),v.add&&(v.add.call(b,q),q.handler.guid||(q.handler.guid=g.guid)),e?t.splice(t.delegateCount++,0,q):t.push(q),h.event.global[k]=!0;b=null}},global:{},remove:function(a,b,c,g,d){var e,m,f,l,q,k,p,y,t,v,s=h.hasData(a)&&h._data(a);if(s&&(p=s.events)){b=h.trim(xb(b||"")).split(" ");for(e=0;e<b.length;e++)if(m=ca.exec(b[e])||[],f=l=m[1],m=m[2],f){y=h.event.special[f]||{};f=(g?y.delegateType:y.bindType)||f;t=p[f]||[];q=t.length;m=m?RegExp("(^|\\.)"+
m.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(k=0;k<t.length;k++)v=t[k],!d&&l!==v.origType||(c&&c.guid!==v.guid||m&&!m.test(v.namespace)||g&&!(g===v.selector||"**"===g&&v.selector))||(t.splice(k--,1),v.selector&&t.delegateCount--,y.remove&&y.remove.call(a,v));0===t.length&&q!==t.length&&(y.teardown&&!1!==y.teardown.call(a,m,s.handle)||h.removeEvent(a,f,s.handle),delete p[f])}else for(f in p)h.event.remove(a,f+b[e],c,g,!0);h.isEmptyObject(p)&&(delete s.handle,h.removeData(a,"events",
!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,c,g,e){if(!g||3!==g.nodeType&&8!==g.nodeType){var m,f,l,q,k,p,y=b.type||b;l=[];if(!fb.test(y+h.event.triggered)&&(0<=y.indexOf("!")&&(y=y.slice(0,-1),m=!0),0<=y.indexOf(".")&&(l=y.split("."),y=l.shift(),l.sort()),g&&!h.event.customEvent[y]||h.event.global[y]))if(b="object"===typeof b?b[h.expando]?b:new h.Event(y,b):new h.Event(y),b.type=y,b.isTrigger=!0,b.exclusive=m,b.namespace=l.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+
l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0>y.indexOf(":")?"on"+y:"",g){if(b.result=a,b.target||(b.target=g),c=null!=c?h.makeArray(c):[],c.unshift(b),q=h.event.special[y]||{},!q.trigger||!1!==q.trigger.apply(g,c)){p=[[g,q.bindType||y]];if(!e&&!q.noBubble&&!h.isWindow(g)){k=q.delegateType||y;m=fb.test(k+y)?g:g.parentNode;for(f=g;m;m=m.parentNode)p.push([m,k]),f=m;f===(g.ownerDocument||t)&&p.push([f.defaultView||f.parentWindow||d,k])}for(f=0;f<p.length&&!b.isPropagationStopped();f++)m=p[f][0],b.type=
p[f][1],(k=(h._data(m,"events")||{})[b.type]&&h._data(m,"handle"))&&k.apply(m,c),(k=l&&m[l])&&(h.acceptData(m)&&!1===k.apply(m,c))&&b.preventDefault();b.type=y;e||b.isDefaultPrevented()||(q._default&&!1!==q._default.apply(g.ownerDocument,c)||"click"===y&&h.nodeName(g,"a")||!h.acceptData(g)||!l||!g[y]||("focus"===y||"blur"===y)&&0===b.target.offsetWidth||h.isWindow(g))||((f=g[l])&&(g[l]=null),h.event.triggered=y,g[y](),h.event.triggered=a,f&&(g[l]=f));return b.result}}else for(f in g=h.cache,g)g[f].events&&
g[f].events[y]&&h.event.trigger(b,c,g[f].handle.elem,!0)}},dispatch:function(b){b=h.event.fix(b||d.event);var c,g,e,m,f,l,q=(h._data(this,"events")||{})[b.type]||[],k=q.delegateCount,p=[].slice.call(arguments),y=!b.exclusive&&!b.namespace,t=h.event.special[b.type]||{},v=[];p[0]=b;b.delegateTarget=this;if(!t.preDispatch||!1!==t.preDispatch.call(this,b)){if(k&&(!b.button||"click"!==b.type))for(g=b.target;g!=this;g=g.parentNode||this)if(!0!==g.disabled||"click"!==b.type){m={};f=[];for(c=0;c<k;c++)e=
q[c],l=e.selector,m[l]===a&&(m[l]=0<=h(l,this).index(g)),m[l]&&f.push(e);f.length&&v.push({elem:g,matches:f})}q.length>k&&v.push({elem:this,matches:q.slice(k)});for(c=0;c<v.length&&!b.isPropagationStopped();c++)for(m=v[c],b.currentTarget=m.elem,g=0;g<m.matches.length&&!b.isImmediatePropagationStopped();g++)if(e=m.matches[g],y||!b.namespace&&!e.namespace||b.namespace_re&&b.namespace_re.test(e.namespace))b.data=e.data,b.handleObj=e,e=((h.event.special[e.origType]||{}).handle||e.handler).apply(m.elem,
p),e!==a&&(b.result=e,!1===e&&(b.preventDefault(),b.stopPropagation()));t.postDispatch&&t.postDispatch.call(this,b);return b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(b,c){var g,d,e=c.button,h=c.fromElement;null==b.pageX&&null!=c.clientX&&(g=b.target.ownerDocument||t,d=g.documentElement,g=g.body,b.pageX=c.clientX+(d&&d.scrollLeft||g&&g.scrollLeft||0)-(d&&d.clientLeft||g&&g.clientLeft||0),b.pageY=c.clientY+(d&&d.scrollTop||g&&g.scrollTop||0)-(d&&d.clientTop||g&&g.clientTop||0));!b.relatedTarget&&h&&(b.relatedTarget=h===b.target?c.toElement:h);b.which||e===a||(b.which=e&1?1:e&2?3:e&4?2:0);return b}},fix:function(a){if(a[h.expando])return a;var b,
c,g=a,d=h.event.fixHooks[a.type]||{},e=d.props?this.props.concat(d.props):this.props;a=h.Event(g);for(b=e.length;b;)c=e[--b],a[c]=g[c];a.target||(a.target=g.srcElement||t);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,g):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){h.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=
null)}}},simulate:function(a,b,c,g){a=h.extend(new h.Event,c,{type:a,isSimulated:!0,originalEvent:{}});g?h.event.trigger(a,null,b):h.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};h.event.handle=h.event.dispatch;h.removeEvent=t.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};h.Event=function(a,b){if(!(this instanceof h.Event))return new h.Event(a,
b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?v:e):this.type=a;b&&h.extend(this,b);this.timeStamp=a&&a.timeStamp||h.now();this[h.expando]=!0};h.Event.prototype={preventDefault:function(){this.isDefaultPrevented=v;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=v;var a=this.originalEvent;a&&(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=v;this.stopPropagation()},isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,g=a.relatedTarget,d=a.handleObj;if(!g||g!==this&&!h.contains(this,g))a.type=d.origType,c=d.handler.apply(this,arguments),a.type=b;return c}}});h.support.submitBubbles||
(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=h.nodeName(b,"input")||h.nodeName(b,"button")?b.form:a)&&!h._data(b,"_submit_attached")&&(h.event.add(b,"submit._submit",function(a){a._submit_bubble=!0}),h._data(b,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&h.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(h.nodeName(this,
"form"))return!1;h.event.remove(this,"._submit")}});h.support.changeBubbles||(h.event.special.change={setup:function(){if(eb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)h.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);h.event.simulate("change",this,a,!0)});return!1}h.event.add(this,"beforeactivate._change",
function(a){a=a.target;eb.test(a.nodeName)&&!h._data(a,"_change_attached")&&(h.event.add(a,"change._change",function(a){!this.parentNode||(a.isSimulated||a.isTrigger)||h.event.simulate("change",this.parentNode,a,!0)}),h._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){h.event.remove(this,"._change");return!eb.test(this.nodeName)}});
h.support.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,g=function(a){h.event.simulate(b,a.target,h.event.fix(a),!0)};h.event.special[b]={setup:function(){0===c++&&t.addEventListener(a,g,!0)},teardown:function(){0===--c&&t.removeEventListener(a,g,!0)}}});h.fn.extend({on:function(b,c,g,d,m){var f,l;if("object"===typeof b){"string"!==typeof c&&(g=g||c,c=a);for(l in b)this.on(l,c,g,b[l],m);return this}null==g&&null==d?(d=c,g=c=a):null==d&&("string"===typeof c?(d=g,g=
a):(d=g,g=c,c=a));if(!1===d)d=e;else if(!d)return this;1===m&&(f=d,d=function(a){h().off(a);return f.apply(this,arguments)},d.guid=f.guid||(f.guid=h.guid++));return this.each(function(){h.event.add(this,b,d,g,c)})},one:function(a,b,c,g){return this.on(a,b,c,g,1)},off:function(b,c,g){var d;if(b&&b.preventDefault&&b.handleObj)return d=b.handleObj,h(b.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"===typeof b){for(d in b)this.off(d,c,b[d]);
return this}if(!1===c||"function"===typeof c)g=c,c=a;!1===g&&(g=e);return this.each(function(){h.event.remove(this,b,g,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){h(this.context).on(a,this.selector,b,c);return this},die:function(a,b){h(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,g){return this.on(b,a,c,g)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,
a||"**",c)},trigger:function(a,b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return h.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||h.guid++,g=0,d=function(c){var d=(h._data(this,"lastToggle"+a.guid)||0)%g;h._data(this,"lastToggle"+a.guid,d+1);c.preventDefault();return b[d].apply(this,arguments)||!1};for(d.guid=c;g<b.length;)b[g++].guid=c;return this.click(d)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){h.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};vb.test(b)&&(h.event.fixHooks[b]=h.event.keyHooks);wb.test(b)&&(h.event.fixHooks[b]=h.event.mouseHooks)});(function(a,b){function c(a,b,g,d){g=g||[];b=b||
U;var e,h,m,f,l=b.nodeType;if(1!==l&&9!==l)return[];if(!a||"string"!==typeof a)return g;m=z(b);if(!m&&!d&&(e=r.exec(a)))if(f=e[1])if(9===l)if((h=b.getElementById(f))&&h.parentNode){if(h.id===f)return g.push(h),g}else return g;else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(f))&&C(b,h)&&h.id===f)return g.push(h),g}else{if(e[2])return Ha.apply(g,F.call(b.getElementsByTagName(a),0)),g;if((f=e[3])&&T&&b.getElementsByClassName)return Ha.apply(g,F.call(b.getElementsByClassName(f),0)),g}return t(a,
b,g,d,m)}function g(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function d(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function e(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function m(a,b,g,d){var e,h,f,l,q,k,O,p,y,t=!g&&b!==U,v=(t?"<s>":"")+a.replace(Sb,"$1<s>");if(q=ec[M][v])return d?0:F.call(q,0);q=a;k=[];p=H.preFilter;for(y=H.filter;q;){if(!e||(h=Ia.exec(q)))h&&
(q=q.slice(h[0].length),f.selector=O),k.push(f=[]),O="",t&&(q=" "+q);e=!1;if(h=fa.exec(q))O+=h[0],q=q.slice(h[0].length),e=f.push({part:h.pop().replace(Sb," "),string:h[0],captures:h});for(l in y)!(h=V[l].exec(q))||p[l]&&!(h=p[l](h,b,g))||(O+=h[0],q=q.slice(h[0].length),e=f.push({part:l,string:h.shift(),captures:h}));if(!e)break}O&&(f.selector=O);return d?q.length:q?c.error(a):F.call(ec(v,k),0)}function f(a,b,c,g){var d=b.dir,e=n++;a||(a=function(a){return a===c});return b.first?function(b){for(;b=
b[d];)if(1===b.nodeType)return a(b)&&b}:g?function(b){for(;b=b[d];)if(1===b.nodeType&&a(b))return b}:function(b){for(var c,g=e+"."+v,h=g+"."+s;b=b[d];)if(1===b.nodeType){if((c=b[M])===h)return b.sizset;if("string"===typeof c&&0===c.indexOf(g)){if(b.sizset)return b}else{b[M]=h;if(a(b))return b.sizset=!0,b;b.sizset=!1}}}}function l(a,b){return a?function(c){var g=b(c);return g&&a(!0===g?c:g)}:b}function q(a){return function(b){for(var c,g=0;c=a[g];g++)if(c(b))return!0;return!1}}function k(a,b,g,d){for(var e=
0,h=b.length;e<h;e++)c(a,b[e],g,d)}function p(a,b,g,d,e,h){var m,f=H.setFilters[b.toLowerCase()];f||c.error(b);!a&&(m=e)||k(a||"*",d,m=[],e);return 0<m.length?f(m,g,h):[]}function y(a,g,d,e){for(var h,m,f,l,q,O,t,v,s,H,u,A=0,z=a.length,C=V.POS,Z=RegExp("^"+C.source+"(?!"+I+")","i"),K=function(){for(var a=1,c=arguments.length-2;a<c;a++)arguments[a]===b&&(v[a]=b)};A<z;A++){h=a[A];m="";t=e;f=0;for(l=h.length;f<l;f++){q=h[f];O=q.string;if("PSEUDO"===q.part)for(C.exec(""),q=0;v=C.exec(O);){s=!0;H=C.lastIndex=
v.index+v[0].length;if(H>q){m+=O.slice(q,v.index);q=H;H=[g];fa.test(m)&&(t&&(H=t),t=e);if(u=Tb.test(m))m=m.slice(0,-5).replace(fa,"$&*"),q++;1<v.length&&v[0].replace(Z,K);t=p(m,v[1],v[2],H,t,u)}m=""}s||(m+=O);s=!1}m?fa.test(m)?k(m,t||[g],d,e):c(m,g,d,e?e.concat(t):t):Ha.apply(d,t)}return 1===z?d:c.uniqueSort(d)}function t(a,b,c,g,d){a=a.replace(Sb,"$1");var e,h,f,l,q,k;h=m(a,b,d);q=b.nodeType;if(V.POS.test(a))return y(h,b,c,g);if(g)e=F.call(g,0);else if(1===h.length){if(2<(f=F.call(h[0],0)).length&&
"ID"===(l=f[0]).part&&9===q&&!d&&H.relative[f[1].part]){b=H.find.ID(l.captures[0].replace(qb,""),b,d)[0];if(!b)return c;a=a.slice(f.shift().string.length)}g=(h=J.exec(f[0].string))&&!h.index&&b.parentNode||b;q="";for(h=f.length-1;0<=h;h--){l=f[h];k=l.part;q=l.string+q;if(H.relative[k])break;if(H.order.test(k)&&(e=H.find[k](l.captures[0].replace(qb,""),g,d),null!=e)){(a=a.slice(0,a.length-q.length)+q.replace(V[k],""))||Ha.apply(c,F.call(e,0));break}}}if(a)for(d=Z(a,b,d),v=d.dirruns++,null==e&&(e=H.find.TAG("*",
J.test(a)&&b.parentNode||b)),h=0;a=e[h];h++)s=d.runs++,d(a)&&c.push(a);return c}var v,s,u,H,A,z,C,Z,K,x,S=!0,M=("sizcache"+Math.random()).replace(".",""),U=a.document,B=U.documentElement,n=0,F=[].slice,Ha=[].push,X=function(a,b){a[M]=b||!0;return a},G=function(){var a={},b=[];return X(function(c,g){b.push(c)>H.cacheLength&&delete a[b.shift()];return a[c]=g},a)},aa=G(),ec=G(),P=G(),I="[\\x20\\t\\r\\n\\f]",G="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#"),G="\\["+I+"*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)"+
I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+G+")|)|)"+I+"*\\]",lb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+G+")|[^:]|\\\\.)*|.*))\\)|)",Sb=RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),Ia=RegExp("^"+I+"*,"+I+"*"),fa=RegExp("^"+I+"*([\\x20\\t\\r\\n\\f>+~])"+I+"*"),cb=RegExp(lb),r=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,J=/[\x20\t\r\n\f]*[+~]/,Tb=/:not\($/,ea=/h\d/i,Pb=/input|select|textarea|button/i,qb=/\\(?!\\)/g,V={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+G),PSEUDO:RegExp("^"+lb),CHILD:RegExp("^:(only|nth|last|first)-child(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),POS:RegExp(":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)","ig"),needsContext:RegExp("^"+I+"*[>+~]|:(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",
"i")},Ba=function(a){var b=U.createElement("div");try{return a(b)}catch(c){return!1}finally{}},G=Ba(function(a){a.appendChild(U.createComment(""));return!a.getElementsByTagName("*").length}),lb=Ba(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),Fa=Ba(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),T=Ba(function(a){a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),Aa=Ba(function(a){a.id=M+0;a.innerHTML="<a name='"+M+"'></a><div name='"+M+"'></div>";B.insertBefore(a,B.firstChild);var b=U.getElementsByName&&U.getElementsByName(M).length===2+U.getElementsByName(M+0).length;u=!U.getElementById(M);B.removeChild(a);return b});try{F.call(B.childNodes,0)[0].nodeType}catch(mb){F=
function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){return 0<c(b,null,null,[a]).length};A=c.getText=function(a){var b,c="",g=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[g];g++)c+=A(b);return c};z=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?
"HTML"!==a.nodeName:!1};C=c.contains=B.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,g=b&&b.parentNode;return a===g||!!(g&&1===g.nodeType&&c.contains&&c.contains(g))}:B.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};c.attr=function(a,b){var c;(c=z(a))||(b=b.toLowerCase());return H.attrHandle[b]?H.attrHandle[b](a):Fa||c?a.getAttribute(b):(c=a.getAttributeNode(b))?"boolean"===typeof a[b]?
a[b]?b:null:c.specified?c.value:null:null};H=c.selectors={cacheLength:50,createPseudo:X,match:V,order:RegExp("ID|TAG"+(Aa?"|NAME":"")+(T?"|CLASS":"")),attrHandle:lb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:u?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,c,g){if("undefined"!==typeof c.getElementById&&!g)return(c=c.getElementById(a))?c.id===a||"undefined"!==
typeof c.getAttributeNode&&c.getAttributeNode("id").value===a?[c]:b:[]},TAG:G?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var g,d=[],e=0;g=c[e];e++)1===g.nodeType&&d.push(g);return d}return c},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},CLASS:function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a)}},
relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(qb,"");a[3]=(a[4]||a[5]||"").replace(qb,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]);return a},PSEUDO:function(a,b,c){var g,
d;if(V.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(g=a[4])cb.test(g)&&((d=m(g,b,c,!0))&&(d=g.indexOf(")",g.length-d)-g.length))&&(g=g.slice(0,d),a[0]=a[0].slice(0,d)),a[2]=g;return a.slice(0,3)}},filter:{ID:u?function(a){a=a.replace(qb,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(qb,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=
a.replace(qb,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=aa[M][a];b||(b=aa(a,RegExp("(^|"+I+")"+a+"("+I+"|$)")));return function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,g){return b?function(d){d=c.attr(d,a);var e=d+"";if(null==d)return"!="===b;switch(b){case "=":return e===g;case "!=":return e!==g;case "^=":return g&&0===e.indexOf(g);case "*=":return g&&-1<
e.indexOf(g);case "$=":return g&&e.substr(e.length-g.length)===g;case "~=":return-1<(" "+e+" ").indexOf(g);case "|=":return e===g||e.substr(0,g.length+1)===g+"-"}}:function(b){return null!=c.attr(b,a)}},CHILD:function(a,b,c,g){if("nth"===a){var d=n++;return function(a){var b,e=0,h=a;if(1===c&&0===g)return!0;if((b=a.parentNode)&&(b[M]!==d||!a.sizset)){for(h=b.firstChild;h&&(1!==h.nodeType||(h.sizset=++e,h!==a));h=h.nextSibling);b[M]=d}a=a.sizset-g;return 0===c?0===a:0===a%c&&0<=a/c}}return function(b){var c=
b;switch(a){case "only":case "first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b,g,d){var e,h=H.pseudos[a]||H.pseudos[a.toLowerCase()];h||c.error("unsupported pseudo: "+a);return h[M]?h(b,g,d):1<h.length?(e=[a,a,"",b],function(a){return h(a,0,e)}):h}},pseudos:{not:X(function(a,b,c){var g=Z(a.replace(Sb,"$1"),b,c);return function(a){return!g(a)}}),enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!H.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},contains:X(function(a){return function(b){return-1<(b.textContent||b.innerText||
A(b)).indexOf(a)}}),has:X(function(a){return function(b){return 0<c(a,b).length}}),header:function(a){return ea.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:g("radio"),checkbox:g("checkbox"),file:g("file"),password:g("password"),image:g("image"),submit:d("submit"),reset:d("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===
b},input:function(a){return Pb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){b=a.pop();return c?a:[b]},even:function(a,b,c){b=[];c=c?1:0;for(var g=a.length;c<g;c+=2)b.push(a[c]);return b},odd:function(a,b,c){b=[];c=c?0:1;for(var g=a.length;c<g;c+=2)b.push(a[c]);return b},
lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){b=a.splice(+b,1);return c?a:b}}};K=B.compareDocumentPosition?function(a,b){return a===b?(x=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?a.compareDocumentPosition(b)&4:a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return x=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,g,d=[],h=[];c=a.parentNode;g=b.parentNode;var m=
c;if(c===g)return e(a,b);if(!c)return-1;if(!g)return 1;for(;m;)d.unshift(m),m=m.parentNode;for(m=g;m;)h.unshift(m),m=m.parentNode;c=d.length;g=h.length;for(m=0;m<c&&m<g;m++)if(d[m]!==h[m])return e(d[m],h[m]);return m===c?e(a,h[m],-1):e(d[m],b,1)};[0,0].sort(K);S=!x;c.uniqueSort=function(a){var b,c=1;x=S;a.sort(K);if(x)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};Z=c.compile=function(a,b,c){var g,d,e;if((g=P[M][a])&&
g.context===b)return g;g=m(a,b,c);d=0;for(e=g.length;d<e;d++){for(var h=g,k=d,O=g[d],p=b,y=c,t=void 0,v=void 0,s=0;t=O[s];s++)v=H.relative[t.part]?f(v,H.relative[t.part],p,y):l(v,H.filter[t.part].apply(null,t.captures.concat(p,y)));h[k]=v}g=P(a,q(g));g.context=b;g.runs=g.dirruns=0;return g};U.querySelectorAll&&function(){var a,b=t,g=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[],h=[":active"],f=B.matchesSelector||B.mozMatchesSelector||B.webkitMatchesSelector||B.oMatchesSelector||B.msMatchesSelector;
Ba(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||e.push("\\["+I+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||e.push(":checked")});Ba(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+I+"*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")});e=e.length&&RegExp(e.join("|"));
t=function(a,c,d,h,f){if(!(h||f||e&&e.test(a)))if(9===c.nodeType)try{return Ha.apply(d,F.call(c.querySelectorAll(a),0)),d}catch(l){}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var q,k,O,p=c.getAttribute("id"),y=p||M,t=J.test(a)&&c.parentNode||c;p?y=y.replace(g,"\\$&"):c.setAttribute("id",y);q=m(a,c,f);y="[id='"+y+"']";k=0;for(O=q.length;k<O;k++)q[k]=y+q[k].selector;try{return Ha.apply(d,F.call(t.querySelectorAll(q.join(",")),0)),d}catch(v){}finally{p||c.removeAttribute("id")}}return b(a,
c,d,h,f)};f&&(Ba(function(b){a=f.call(b,"div");try{f.call(b,"[test!='']:sizzle"),h.push(V.PSEUDO.source,V.POS.source,"!=")}catch(c){}}),h=RegExp(h.join("|")),c.matchesSelector=function(b,g){g=g.replace(d,"='$1']");if(!(z(b)||h.test(g)||e&&e.test(g)))try{var m=f.call(b,g);if(m||a||b.document&&11!==b.document.nodeType)return m}catch(l){}return 0<c(g,null,null,[b]).length})}();H.setFilters.nth=H.setFilters.eq;H.filters=H.pseudos;c.attr=h.attr;h.find=c;h.expr=c.selectors;h.expr[":"]=h.expr.pseudos;h.unique=
c.uniqueSort;h.text=c.getText;h.isXMLDoc=c.isXML;h.contains=c.contains})(d);var Hb=/Until$/,ia=/^(?:parents|prev(?:Until|All))/,kb=/^.[^:#\[\.,]*$/,pb=h.expr.match.needsContext,Ib={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({find:function(a){var b,c,g,d,e,m,f=this;if("string"!==typeof a)return h(a).filter(function(){b=0;for(c=f.length;b<c;b++)if(h.contains(f[b],this))return!0});m=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++)if(g=m.length,h.find(a,this[b],m),0<b)for(d=g;d<m.length;d++)for(e=
0;e<g;e++)if(m[e]===m[d]){m.splice(d--,1);break}return m},has:function(a){var b,c=h(a,this),g=c.length;return this.filter(function(){for(b=0;b<g;b++)if(h.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(x(this,a,!1),"not",a)},filter:function(a){return this.pushStack(x(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?pb.test(a)?0<=h(a,this.context).index(this[0]):0<h.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var c,g=0,d=this.length,
e=[],m=pb.test(a)||"string"!==typeof a?h(a,b||this.context):0;g<d;g++)for(c=this[g];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(m?-1<m.index(c):h.find.matchesSelector(c,a)){e.push(c);break}c=c.parentNode}e=1<e.length?h.unique(e):e;return this.pushStack(e,"closest",a)},index:function(a){return a?"string"===typeof a?h.inArray(this[0],h(a)):h.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"===typeof a?h(a,b):h.makeArray(a&&a.nodeType?
[a]:a),g=h.merge(this.get(),c);return this.pushStack(u(c[0])||u(g[0])?g:h.unique(g))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});h.fn.andSelf=h.fn.addBack;h.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return h.dir(a,"parentNode")},parentsUntil:function(a,b,c){return h.dir(a,"parentNode",c)},next:function(a){return p(a,"nextSibling")},prev:function(a){return p(a,"previousSibling")},nextAll:function(a){return h.dir(a,
"nextSibling")},prevAll:function(a){return h.dir(a,"previousSibling")},nextUntil:function(a,b,c){return h.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return h.dir(a,"previousSibling",c)},siblings:function(a){return h.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return h.sibling(a.firstChild)},contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:h.merge([],a.childNodes)}},function(a,b){h.fn[a]=function(c,g){var d=h.map(this,b,c);Hb.test(a)||
(g=c);g&&"string"===typeof g&&(d=h.filter(g,d));d=1<this.length&&!Ib[a]?h.unique(d):d;1<this.length&&ia.test(a)&&(d=d.reverse());return this.pushStack(d,a,Va.call(arguments).join(","))}});h.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?h.find.matchesSelector(b[0],a)?[b[0]]:[]:h.find.matches(a,b)},dir:function(b,c,g){var d=[];for(b=b[c];b&&9!==b.nodeType&&(g===a||1!==b.nodeType||!h(b).is(g));)1===b.nodeType&&d.push(b),b=b[c];return d},sibling:function(a,b){for(var c=[];a;a=
a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var va="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Mb=/ jQuery\d+="(?:null|\d+)"/g,Xa=/^\s+/,gb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Da=/<([\w:]+)/,Nb=/<tbody/i,oa=/<|&#?\w+;/,yb=/<(?:script|style|link)/i,Ob=/<(?:script|object|embed|option|style)/i,ga=RegExp("<(?:"+va+")[\\s/>]","i"),Za=/^(?:checkbox|radio)$/,
hb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ra=/\/(java|ecma)script/i,Ea=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,la={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ha=B(t),Sa=ha.appendChild(t.createElement("div"));la.optgroup=
la.option;la.tbody=la.tfoot=la.colgroup=la.caption=la.thead;la.th=la.td;h.support.htmlSerialize||(la._default=[1,"X<div>","</div>"]);h.fn.extend({text:function(b){return h.access(this,function(b){return b===a?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(b))},null,b,arguments.length)},wrapAll:function(a){if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,b))});if(this[0]){var b=h(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&
b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,b))}):this.each(function(){var b=h(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(c){h(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,
"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!u(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=h.clean(arguments);return this.pushStack(h.merge(a,
this),"before",this.selector)}},after:function(){if(!u(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=h.clean(arguments);return this.pushStack(h.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,g=0;null!=(c=this[g]);g++)if(!a||h.filter(a,[c]).length)b||1!==c.nodeType||(h.cleanData(c.getElementsByTagName("*")),h.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,
b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&h.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return h.clone(this,a,b)})},html:function(b){return h.access(this,function(b){var c=this[0]||{},g=0,d=this.length;if(b===a)return 1===c.nodeType?c.innerHTML.replace(Mb,""):a;if("string"===typeof b&&!(yb.test(b)||!h.support.htmlSerialize&&ga.test(b)||!h.support.leadingWhitespace&&Xa.test(b)||
la[(Da.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(gb,"<$1></$2>");try{for(;g<d;g++)c=this[g]||{},1===c.nodeType&&(h.cleanData(c.getElementsByTagName("*")),c.innerHTML=b);c=0}catch(e){}}c&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(a){if(!u(this[0])){if(h.isFunction(a))return this.each(function(b){var c=h(this),g=c.html();c.replaceWith(a.call(this,b,g))});"string"!==typeof a&&(a=h(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;h(this).remove();
b?h(b).before(a):h(c).append(a)})}return this.length?this.pushStack(h(h.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(b,c,g){b=[].concat.apply([],b);var d,e,m,f=0,l=b[0],q=[],k=this.length;if(!h.support.checkClone&&1<k&&"string"===typeof l&&hb.test(l))return this.each(function(){h(this).domManip(b,c,g)});if(h.isFunction(l))return this.each(function(d){var e=h(this);b[0]=l.call(this,d,c?e.html():a);e.domManip(b,c,g)});if(this[0]){d=h.buildFragment(b,
this,q);m=d.fragment;e=m.firstChild;1===m.childNodes.length&&(m=e);if(e)for(c=c&&h.nodeName(e,"tr"),d=d.cacheable||k-1;f<k;f++)g.call(c&&h.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f],f===d?m:h.clone(m,!0,!0));m=e=null;q.length&&h.each(q,function(a,b){b.src?h.ajax?h.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):h.error("no ajax"):h.globalEval((b.text||b.textContent||b.innerHTML||
"").replace(Ea,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});h.buildFragment=function(b,c,g){var d,e,m,f=b[0];c=c||t;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;1===b.length&&("string"===typeof f&&512>f.length&&c===t&&"<"===f.charAt(0)&&!(Ob.test(f)||!h.support.checkClone&&hb.test(f)||!h.support.html5Clone&&ga.test(f)))&&(e=!0,d=h.fragments[f],m=d!==a);d||(d=c.createDocumentFragment(),h.clean(b,c,d,g),e&&(h.fragments[f]=m&&d));return{fragment:d,cacheable:e}};h.fragments={};h.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){h.fn[a]=function(c){var g,d=0,e=[];c=h(c);var m=c.length;g=1===this.length&&this[0].parentNode;if((null==g||g&&11===g.nodeType&&1===g.childNodes.length)&&1===m)return c[b](this[0]),this;for(;d<m;d++)g=(0<d?this.clone(!0):this).get(),h(c[d])[b](g),e=e.concat(g);return this.pushStack(e,a,c.selector)}});h.extend({clone:function(a,d,e){var m,f,l,q;h.support.html5Clone||h.isXMLDoc(a)||!ga.test("<"+a.nodeName+
">")?q=a.cloneNode(!0):(Sa.innerHTML=a.outerHTML,Sa.removeChild(q=Sa.firstChild));if(!(h.support.noCloneEvent&&h.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||h.isXMLDoc(a)))for(c(a,q),m=g(a),f=g(q),l=0;m[l];++l)f[l]&&c(m[l],f[l]);if(d&&(b(a,q),e))for(m=g(a),f=g(q),l=0;m[l];++l)b(m[l],f[l]);return q},clean:function(a,b,c,g){var d,e,f,l,q,k,p=b===t&&ha,y=[];b&&"undefined"!==typeof b.createDocumentFragment||(b=t);for(d=0;null!=(f=a[d]);d++)if("number"===typeof f&&(f+=""),f){if("string"===
typeof f)if(oa.test(f)){p=p||B(b);k=b.createElement("div");p.appendChild(k);f=f.replace(gb,"<$1></$2>");e=(Da.exec(f)||["",""])[1].toLowerCase();l=la[e]||la._default;q=l[0];for(k.innerHTML=l[1]+f+l[2];q--;)k=k.lastChild;if(!h.support.tbody)for(q=Nb.test(f),l="table"!==e||q?"<table>"!==l[1]||q?[]:k.childNodes:k.firstChild&&k.firstChild.childNodes,e=l.length-1;0<=e;--e)h.nodeName(l[e],"tbody")&&!l[e].childNodes.length&&l[e].parentNode.removeChild(l[e]);!h.support.leadingWhitespace&&Xa.test(f)&&k.insertBefore(b.createTextNode(Xa.exec(f)[0]),
k.firstChild);f=k.childNodes;k.parentNode.removeChild(k)}else f=b.createTextNode(f);f.nodeType?y.push(f):h.merge(y,f)}k&&(f=k=p=null);if(!h.support.appendChecked)for(d=0;null!=(f=y[d]);d++)h.nodeName(f,"input")?m(f):"undefined"!==typeof f.getElementsByTagName&&h.grep(f.getElementsByTagName("input"),m);if(c)for(a=function(a){if(!a.type||Ra.test(a.type))return g?g.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)},d=0;null!=(f=y[d]);d++)h.nodeName(f,"script")&&a(f)||(c.appendChild(f),
"undefined"!==typeof f.getElementsByTagName&&(f=h.grep(h.merge([],f.getElementsByTagName("script")),a),y.splice.apply(y,[d+1,0].concat(f)),d+=f.length));return y},cleanData:function(a,b){for(var c,g,d,e,m=0,f=h.expando,l=h.cache,q=h.support.deleteExpando,k=h.event.special;null!=(d=a[m]);m++)if(b||h.acceptData(d))if(c=(g=d[f])&&l[g]){if(c.events)for(e in c.events)k[e]?h.event.remove(d,e):h.removeEvent(d,e,c.handle);l[g]&&(delete l[g],q?delete d[f]:d.removeAttribute?d.removeAttribute(f):d[f]=null,h.deletedIds.push(g))}}});
(function(){var a,b;h.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=h.uaMatch(Z.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);h.browser=b;h.sub=function(){function a(b,c){return new a.fn.init(b,
c)}h.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,g){g&&(g instanceof h&&!(g instanceof a))&&(g=a(g));return h.fn.init.call(this,c,g,b)};a.fn.init.prototype=a.fn;var b=a(t);return a}})();var R,La,N,xa=/alpha\([^)]*\)/i,Jb=/opacity=([^)]*)/,ib=/^(top|right|bottom|left)$/,Yb=/^(none|table(?!-c[ea]).+)/,Ta=/^margin/,ta=RegExp("^("+ba+")(.*)$","i"),Ua=RegExp("^("+ba+")(?!px)[a-z%]+$","i"),Kb=RegExp("^([-+])=("+ba+")","i"),Pa={},Q={position:"absolute",
visibility:"hidden",display:"block"},ya={letterSpacing:0,fontWeight:400},za=["Top","Right","Bottom","Left"],ma=["Webkit","O","Moz","ms"],Y=h.fn.toggle;h.fn.extend({css:function(b,c){return h.access(this,function(b,c,g){return g!==a?h.style(b,c,g):h.css(b,c)},b,c,1<arguments.length)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(a,b){var c="boolean"===typeof a;return h.isFunction(a)&&h.isFunction(b)?Y.apply(this,arguments):this.each(function(){(c?a:C(this))?h(this).show():
h(this).hide()})}});h.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=R(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":h.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,c,g,d){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var e,m,f,l=h.camelCase(c),q=b.style;c=h.cssProps[l]||(h.cssProps[l]=z(q,l));f=h.cssHooks[c]||h.cssHooks[l];if(g!==a){if(m=typeof g,"string"===m&&
(e=Kb.exec(g))&&(g=(e[1]+1)*e[2]+parseFloat(h.css(b,c)),m="number"),!(null==g||"number"===m&&isNaN(g)||("number"!==m||h.cssNumber[l]||(g+="px"),f&&"set"in f&&(g=f.set(b,g,d))===a)))try{q[c]=g}catch(k){}}else return f&&"get"in f&&(e=f.get(b,!1,d))!==a?e:q[c]}},css:function(b,c,g,d){var e,m;m=h.camelCase(c);c=h.cssProps[m]||(h.cssProps[m]=z(b.style,m));(m=h.cssHooks[c]||h.cssHooks[m])&&"get"in m&&(e=m.get(b,!0,d));e===a&&(e=R(b,c));"normal"===e&&c in ya&&(e=ya[c]);return g||d!==a?(b=parseFloat(e),g||
h.isNumeric(b)?b||0:e):e},swap:function(a,b,c){var g,d={};for(g in b)d[g]=a.style[g],a.style[g]=b[g];c=c.call(a);for(g in b)a.style[g]=d[g];return c}});d.getComputedStyle?R=function(a,b){var c,g,e,m,f=d.getComputedStyle(a,null),l=a.style;f&&(c=f[b],""!==c||h.contains(a.ownerDocument,a)||(c=h.style(a,b)),Ua.test(c)&&Ta.test(b)&&(g=l.width,e=l.minWidth,m=l.maxWidth,l.minWidth=l.maxWidth=l.width=c,c=f.width,l.width=g,l.minWidth=e,l.maxWidth=m));return c}:t.documentElement.currentStyle&&(R=function(a,
b){var c,g,d=a.currentStyle&&a.currentStyle[b],e=a.style;null==d&&(e&&e[b])&&(d=e[b]);if(Ua.test(d)&&!ib.test(b)){c=e.left;if(g=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;e.left="fontSize"===b?"1em":d;d=e.pixelLeft+"px";e.left=c;g&&(a.runtimeStyle.left=g)}return""===d?"auto":d});h.each(["height","width"],function(a,b){h.cssHooks[b]={get:function(a,c,g){if(c)return 0===a.offsetWidth&&Yb.test(R(a,"display"))?h.swap(a,Q,function(){return I(a,b,g)}):I(a,b,g)},set:function(a,
c,g){return n(a,c,g?F(a,b,g,h.support.boxSizing&&"border-box"===h.css(a,"boxSizing")):0)}}});h.support.opacity||(h.cssHooks.opacity={get:function(a,b){return Jb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,g=a.currentStyle,d=h.isNumeric(b)?"alpha(opacity="+100*b+")":"",e=g&&g.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===h.trim(e.replace(xa,""))&&c.removeAttribute)&&(c.removeAttribute("filter"),g&&!g.filter))return;
c.filter=xa.test(e)?e.replace(xa,d):e+" "+d}});h(function(){h.support.reliableMarginRight||(h.cssHooks.marginRight={get:function(a,b){return h.swap(a,{display:"inline-block"},function(){if(b)return R(a,"marginRight")})}});!h.support.pixelPosition&&h.fn.position&&h.each(["top","left"],function(a,b){h.cssHooks[b]={get:function(a,c){if(c){var g=R(a,b);return Ua.test(g)?h(a).position()[b]+"px":g}}}})});h.expr&&h.expr.filters&&(h.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||
!h.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||R(a,"display"))},h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)});h.each({margin:"",padding:"",border:"Width"},function(a,b){h.cssHooks[a+b]={expand:function(c){var g="string"===typeof c?c.split(" "):[c],d={};for(c=0;4>c;c++)d[a+za[c]+b]=g[c]||g[c-2]||g[0];return d}};Ta.test(a)||(h.cssHooks[a+b].set=n)});var Oa=/%20/g,sb=/\[\]$/,jb=/\r?\n/g,Lb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Ya=/^(?:select|textarea)/i;h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?h.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Ya.test(this.nodeName)||Lb.test(this.type))}).map(function(a,b){var c=h(this).val();return null==c?null:h.isArray(c)?h.map(c,function(a,c){return{name:b.name,value:a.replace(jb,"\r\n")}}):{name:b.name,value:c.replace(jb,"\r\n")}}).get()}});
h.param=function(b,c){var g,d=[],e=function(a,b){b=h.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===a&&(c=h.ajaxSettings&&h.ajaxSettings.traditional);if(h.isArray(b)||b.jquery&&!h.isPlainObject(b))h.each(b,function(){e(this.name,this.value)});else for(g in b)r(g,b[g],c,e);return d.join("&").replace(Oa,"+")};var W,ja,y=/#.*$/,S=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Ha=/^(?:GET|HEAD)$/,X=/^\/\//,Ia=/\?/,Pb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Fa=/([?&])_=[^&]*/,Ja=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Zb=h.fn.load,Vb={},Qb={},Rb=["*/"]+["*"];try{W=M.href}catch(zb){W=t.createElement("a"),W.href="",W=W.href}ja=Ja.exec(W.toLowerCase())||[];h.fn.load=function(b,c,g){if("string"!==typeof b&&Zb)return Zb.apply(this,arguments);if(!this.length)return this;var d,e,m,f=this,l=b.indexOf(" ");0<=l&&(d=b.slice(l,b.length),b=b.slice(0,l));h.isFunction(c)?(g=c,c=a):c&&"object"===typeof c&&(e="POST");h.ajax({url:b,type:e,dataType:"html",data:c,
complete:function(a,b){g&&f.each(g,m||[a.responseText,b,a])}}).done(function(a){m=arguments;f.html(d?h("<div>").append(a.replace(Pb,"")).find(d):a)});return this};h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){h.fn[b]=function(a){return this.on(b,a)}});h.each(["get","post"],function(b,c){h[c]=function(b,g,d,e){h.isFunction(g)&&(e=e||d,d=g,g=a);return h.ajax({type:c,url:b,data:g,success:d,dataType:e})}});h.extend({getScript:function(b,c){return h.get(b,
a,c,"script")},getJSON:function(a,b,c){return h.get(a,b,c,"json")},ajaxSetup:function(a,b){b?E(a,h.ajaxSettings):(b=a,a=h.ajaxSettings);E(a,b);return a},ajaxSettings:{url:W,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ja[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Rb},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":d.String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Aa(Vb),ajaxTransport:Aa(Qb),ajax:function(b,c){function g(b,c,m,q){var p,y,z,C,K=c;if(2!==Z){Z=2;l&&clearTimeout(l);f=a;e=q||"";x.readyState=0<b?4:0;if(m){C=t;q=x;var M,S,U,B,n=C.contents,F=C.dataTypes,Ha=C.responseFields;for(S in Ha)S in m&&(q[Ha[S]]=m[S]);for(;"*"===F[0];)F.shift(),
M===a&&(M=C.mimeType||q.getResponseHeader("content-type"));if(M)for(S in n)if(n[S]&&n[S].test(M)){F.unshift(S);break}if(F[0]in m)U=F[0];else{for(S in m){if(!F[0]||C.converters[S+" "+F[0]]){U=S;break}B||(B=S)}U=U||B}U?(U!==F[0]&&F.unshift(U),C=m[U]):C=void 0}if(200<=b&&300>b||304===b)if(t.ifModified&&((m=x.getResponseHeader("Last-Modified"))&&(h.lastModified[d]=m),(m=x.getResponseHeader("Etag"))&&(h.etag[d]=m)),304===b)K="notmodified",p=!0;else{a:{y=t;z=C;var G,X,K=y.dataTypes.slice();M=K[0];S={};
U=0;y.dataFilter&&(z=y.dataFilter(z,y.dataType));if(K[1])for(G in y.converters)S[G.toLowerCase()]=y.converters[G];for(;m=K[++U];)if("*"!==m){if("*"!==M&&M!==m){G=S[M+" "+m]||S["* "+m];if(!G)for(X in S)if(p=X.split(" "),p[1]===m&&(G=S[M+" "+p[0]]||S["* "+p[0]])){!0===G?G=S[X]:!0!==S[X]&&(m=p[0],K.splice(U--,0,m));break}if(!0!==G)if(G&&y["throws"])z=G(z);else try{z=G(z)}catch(aa){p={state:"parsererror",error:G?aa:"No conversion from "+M+" to "+m};break a}}M=m}p={state:"success",data:z}}K=p.state;y=
p.data;z=p.error;p=!z}else if(z=K,!K||b)K="error",0>b&&(b=0);x.status=b;x.statusText=""+(c||K);p?H.resolveWith(v,[y,K,x]):H.rejectWith(v,[x,K,z]);x.statusCode(A);A=a;k&&s.trigger("ajax"+(p?"Success":"Error"),[x,t,p?y:z]);u.fireWith(v,[x,K]);k&&(s.trigger("ajaxComplete",[x,t]),--h.active||h.event.trigger("ajaxStop"))}}"object"===typeof b&&(c=b,b=a);c=c||{};var d,e,m,f,l,q,k,p,t=h.ajaxSetup({},c),v=t.context||t,s=v!==t&&(v.nodeType||v instanceof h)?h(v):h.event,H=h.Deferred(),u=h.Callbacks("once memory"),
A=t.statusCode||{},z={},C={},Z=0,K="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!Z){var c=a.toLowerCase();a=C[c]=C[c]||a;z[a]=b}return this},getAllResponseHeaders:function(){return 2===Z?e:null},getResponseHeader:function(b){var c;if(2===Z){if(!m)for(m={};c=S.exec(e);)m[c[1].toLowerCase()]=c[2];c=m[b.toLowerCase()]}return c===a?null:c},overrideMimeType:function(a){Z||(t.mimeType=a);return this},abort:function(a){a=a||K;f&&f.abort(a);g(0,a);return this}};H.promise(x);x.success=x.done;
x.error=x.fail;x.complete=u.add;x.statusCode=function(a){if(a){var b;if(2>Z)for(b in a)A[b]=[A[b],a[b]];else b=a[x.status],x.always(b)}return this};t.url=((b||t.url)+"").replace(y,"").replace(X,ja[1]+"//");t.dataTypes=h.trim(t.dataType||"*").toLowerCase().split(qa);null==t.crossDomain&&(q=Ja.exec(t.url.toLowerCase()),t.crossDomain=!(!q||q[1]==ja[1]&&q[2]==ja[2]&&(q[3]||("http:"===q[1]?80:443))==(ja[3]||("http:"===ja[1]?80:443))));t.data&&(t.processData&&"string"!==typeof t.data)&&(t.data=h.param(t.data,
t.traditional));w(Vb,t,c,x);if(2===Z)return x;k=t.global;t.type=t.type.toUpperCase();t.hasContent=!Ha.test(t.type);k&&0===h.active++&&h.event.trigger("ajaxStart");if(!t.hasContent&&(t.data&&(t.url+=(Ia.test(t.url)?"&":"?")+t.data,delete t.data),d=t.url,!1===t.cache)){q=h.now();var M=t.url.replace(Fa,"$1_="+q);t.url=M+(M===t.url?(Ia.test(t.url)?"&":"?")+"_="+q:"")}(t.data&&t.hasContent&&!1!==t.contentType||c.contentType)&&x.setRequestHeader("Content-Type",t.contentType);t.ifModified&&(d=d||t.url,h.lastModified[d]&&
x.setRequestHeader("If-Modified-Since",h.lastModified[d]),h.etag[d]&&x.setRequestHeader("If-None-Match",h.etag[d]));x.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+Rb+"; q=0.01":""):t.accepts["*"]);for(p in t.headers)x.setRequestHeader(p,t.headers[p]);if(t.beforeSend&&(!1===t.beforeSend.call(v,x,t)||2===Z))return x.abort();K="abort";for(p in{success:1,error:1,complete:1})x[p](t[p]);if(f=w(Qb,t,c,x)){x.readyState=1;k&&s.trigger("ajaxSend",
[x,t]);t.async&&0<t.timeout&&(l=setTimeout(function(){x.abort("timeout")},t.timeout));try{Z=1,f.send(z,g)}catch(U){if(2>Z)g(-1,U);else throw U;}}else g(-1,"No Transport");return x},active:0,lastModified:{},etag:{}});var pa=[],$b=/\?/,Ab=/(=)\?(?=&|$)|\?\?/,Sb=h.now();h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=pa.pop()||h.expando+"_"+Sb++;this[a]=!0;return a}});h.ajaxPrefilter("json jsonp",function(b,c,g){var e,m,f,l=b.data,q=b.url,k=!1!==b.jsonp,p=k&&Ab.test(q),t=k&&!p&&"string"===
typeof l&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ab.test(l);if("jsonp"===b.dataTypes[0]||p||t)return e=b.jsonpCallback=h.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,m=d[e],p?b.url=q.replace(Ab,"$1"+e):t?b.data=l.replace(Ab,"$1"+e):k&&(b.url+=($b.test(q)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){f||h.error(e+" was not called");return f[0]},b.dataTypes[0]="json",d[e]=function(){f=arguments},g.always(function(){d[e]=m;b[e]&&(b.jsonpCallback=
c.jsonpCallback,pa.push(e));f&&h.isFunction(m)&&m(f[0]);f=m=a}),"script"});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){h.globalEval(a);return a}}});h.ajaxPrefilter("script",function(b){b.cache===a&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});h.ajaxTransport("script",function(b){if(b.crossDomain){var c,g=t.head||t.getElementsByTagName("head")[0]||
t.documentElement;return{send:function(d,e){c=t.createElement("script");c.async="async";b.scriptCharset&&(c.charset=b.scriptCharset);c.src=b.url;c.onload=c.onreadystatechange=function(b,d){if(d||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,g&&c.parentNode&&g.removeChild(c),c=a,d||e(200,"success")};g.insertBefore(c,g.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var H,U=d.ActiveXObject?function(){for(var a in H)H[a](0,1)}:!1,ec=0;h.ajaxSettings.xhr=
d.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&D()))a:{try{a=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:D;(function(a){h.extend(h.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(h.ajaxSettings.xhr());h.support.ajax&&h.ajaxTransport(function(b){if(!b.crossDomain||h.support.cors){var c;return{send:function(g,e){var m,f,l=b.xhr();b.username?l.open(b.type,b.url,b.async,b.username,b.password):l.open(b.type,b.url,b.async);if(b.xhrFields)for(f in b.xhrFields)l[f]=
b.xhrFields[f];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);b.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");try{for(f in g)l.setRequestHeader(f,g[f])}catch(q){}l.send(b.hasContent&&b.data||null);c=function(g,d){var f,q,k,p,t;try{if(c&&(d||4===l.readyState))if(c=a,m&&(l.onreadystatechange=h.noop,U&&delete H[m]),d)4!==l.readyState&&l.abort();else{f=l.status;k=l.getAllResponseHeaders();p={};(t=l.responseXML)&&t.documentElement&&(p.xml=t);try{p.text=l.responseText}catch(y){}try{q=
l.statusText}catch(v){q=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=p.text?200:404}}catch(s){d||e(-1,s)}p&&e(f,q,p,k)};b.async?4===l.readyState?setTimeout(c,0):(m=++ec,U&&(H||(H={},h(d).unload(U)),H[m]=c),l.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});var lb,Tb,qb=/^(?:toggle|show|hide)$/,ic=RegExp("^(?:([-+])=|)("+ba+")([a-z%]*)$","i"),jc=/queueHooks$/,ac=[function(a,b,c){var g,d,e,m,f,l,q=this,k=a.style,p={},t=[],y=a.nodeType&&C(a);c.queue||(f=h._queueHooks(a,"fx"),null==f.unqueued&&
(f.unqueued=0,l=f.empty.fire,f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,q.always(function(){q.always(function(){f.unqueued--;h.queue(a,"fx").length||f.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[k.overflow,k.overflowX,k.overflowY],"inline"===h.css(a,"display")&&"none"===h.css(a,"float")&&(h.support.inlineBlockNeedsLayout&&"inline"!==s(a.nodeName)?k.zoom=1:k.display="inline-block"));c.overflow&&(k.overflow="hidden",h.support.shrinkWrapBlocks||q.done(function(){k.overflow=
c.overflow[0];k.overflowX=c.overflow[1];k.overflowY=c.overflow[2]}));for(g in b)d=b[g],qb.exec(d)&&(delete b[g],d!==(y?"hide":"show")&&t.push(g));if(d=t.length)for(e=h._data(a,"fxshow")||h._data(a,"fxshow",{}),y?h(a).show():q.done(function(){h(a).hide()}),q.done(function(){var b;h.removeData(a,"fxshow",!0);for(b in p)h.style(a,b,p[b])}),g=0;g<d;g++)b=t[g],m=q.createTween(b,y?e[b]:0),p[b]=e[b]||h.style(a,b),b in e||(e[b]=m.start,y&&(m.end=m.start,m.start="width"===b||"height"===b?1:0))}],Wb={"*":[function(a,
b){var c,g,d,e=this.createTween(a,b),m=ic.exec(b),f=e.cur(),l=+f||0,q=1;if(m){c=+m[2];g=m[3]||(h.cssNumber[a]?"":"px");if("px"!==g&&l){l=h.css(e.elem,a,!0)||c||1;do d=q=q||".5",l/=q,h.style(e.elem,a,l+g),q=e.cur()/f;while(1!==q&&q!==d)}e.unit=g;e.start=l;e.end=m[1]?l+(m[1]+1)*c:c}return e}]};h.Animation=h.extend(V,{tweener:function(a,b){h.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,g=0,d=a.length;g<d;g++)c=a[g],Wb[c]=Wb[c]||[],Wb[c].unshift(b)},prefilter:function(a,b){b?ac.unshift(a):ac.push(a)}});
h.Tween=P;P.prototype={constructor:P,init:function(a,b,c,g,d,e){this.elem=a;this.prop=c;this.easing=d||"swing";this.options=b;this.start=this.now=this.cur();this.end=g;this.unit=e||(h.cssNumber[c]?"":"px")},cur:function(){var a=P.propHooks[this.prop];return a&&a.get?a.get(this):P.propHooks._default.get(this)},run:function(a){var b,c=P.propHooks[this.prop];this.pos=this.options.duration?b=h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*
b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):P.propHooks._default.set(this);return this}};P.prototype.init.prototype=P.prototype;P.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=h.css(a.elem,a.prop,!1,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(h.fx.step[a.prop])h.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[h.cssProps[a.prop]]||h.cssHooks[a.prop])?h.style(a.elem,
a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};h.each(["toggle","show","hide"],function(a,b){var c=h.fn[b];h.fn[b]=function(g,d,e){return null==g||"boolean"===typeof g||!a&&h.isFunction(g)&&h.isFunction(d)?c.apply(this,arguments):this.animate(K(b,!0),g,d,e)}});h.fn.extend({fadeTo:function(a,b,c,g){return this.filter(C).css("opacity",0).show().end().animate({opacity:b},a,c,g)},animate:function(a,
b,c,g){var d=h.isEmptyObject(a),e=h.speed(b,c,g);b=function(){var b=V(this,h.extend({},a),e);d&&b.stop(!0)};return d||!1===e.queue?this.each(b):this.queue(e.queue,b)},stop:function(b,c,g){var d=function(a){var b=a.stop;delete a.stop;b(g)};"string"!==typeof b&&(g=c,c=b,b=a);c&&!1!==b&&this.queue(b||"fx",[]);return this.each(function(){var a=!0,c=null!=b&&b+"queueHooks",e=h.timers,m=h._data(this);if(c)m[c]&&m[c].stop&&d(m[c]);else for(c in m)m[c]&&(m[c].stop&&jc.test(c))&&d(m[c]);for(c=e.length;c--;)e[c].elem!==
this||null!=b&&e[c].queue!==b||(e[c].anim.stop(g),a=!1,e.splice(c,1));!a&&g||h.dequeue(this,b)})}});h.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,c,g){return this.animate(b,a,c,g)}});h.speed=function(a,b,c){var g=a&&"object"===typeof a?h.extend({},a):{complete:c||!c&&b||h.isFunction(a)&&a,duration:a,easing:c&&b||b&&!h.isFunction(b)&&b};g.duration=h.fx.off?0:"number"===
typeof g.duration?g.duration:g.duration in h.fx.speeds?h.fx.speeds[g.duration]:h.fx.speeds._default;if(null==g.queue||!0===g.queue)g.queue="fx";g.old=g.complete;g.complete=function(){h.isFunction(g.old)&&g.old.call(this);g.queue&&h.dequeue(this,g.queue)};return g};h.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};h.timers=[];h.fx=P.prototype.init;h.fx.tick=function(){for(var a,b=h.timers,c=0;c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||h.fx.stop()};
h.fx.timer=function(a){a()&&(h.timers.push(a)&&!Tb)&&(Tb=setInterval(h.fx.tick,h.fx.interval))};h.fx.interval=13;h.fx.stop=function(){clearInterval(Tb);Tb=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fx.step={};h.expr&&h.expr.filters&&(h.expr.filters.animated=function(a){return h.grep(h.timers,function(b){return a===b.elem}).length});var fc=/^(?:body|html)$/i;h.fn.offset=function(b){if(arguments.length)return b===a?this:this.each(function(a){h.offset.setOffset(this,b,a)});var c,g,d,e,m,f;
if(m=(c=this[0])&&c.ownerDocument){if((d=m.body)===c)return h.offset.bodyOffset(c);g=m.documentElement;if(!h.contains(g,c))return{top:0,left:0};c=c.getBoundingClientRect();e=aa(m);m=g.clientTop||d.clientTop||0;d=g.clientLeft||d.clientLeft||0;f=e.pageYOffset||g.scrollTop;g=e.pageXOffset||g.scrollLeft;m=c.top+f-m;c=c.left+g-d;return{top:m,left:c}}};h.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;h.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(h.css(a,"marginTop"))||0,c+=
parseFloat(h.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var g=h.css(a,"position");"static"===g&&(a.style.position="relative");var d=h(a),e=d.offset(),m=h.css(a,"top"),f=h.css(a,"left"),l={},q={};("absolute"===g||"fixed"===g)&&-1<h.inArray("auto",[m,f])?(q=d.position(),g=q.top,f=q.left):(g=parseFloat(m)||0,f=parseFloat(f)||0);h.isFunction(b)&&(b=b.call(a,c,e));null!=b.top&&(l.top=b.top-e.top+g);null!=b.left&&(l.left=b.left-e.left+f);"using"in b?b.using.call(a,l):d.css(l)}};
h.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),g=fc.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(h.css(a,"marginTop"))||0;c.left-=parseFloat(h.css(a,"marginLeft"))||0;g.top+=parseFloat(h.css(b[0],"borderTopWidth"))||0;g.left+=parseFloat(h.css(b[0],"borderLeftWidth"))||0;return{top:c.top-g.top,left:c.left-g.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||t.body;a&&!fc.test(a.nodeName)&&"static"===
h.css(a,"position");)a=a.offsetParent;return a||t.body})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var g=/Y/.test(c);h.fn[b]=function(d){return h.access(this,function(b,d,e){var m=aa(b);if(e===a)return m?c in m?m[c]:m.document.documentElement[d]:b[d];m?m.scrollTo(g?h(m).scrollLeft():e,g?e:h(m).scrollTop()):b[d]=e},b,d,arguments.length,null)}});h.each({Height:"height",Width:"width"},function(b,c){h.each({padding:"inner"+b,content:c,"":"outer"+b},function(g,d){h.fn[d]=
function(d,e){var m=arguments.length&&(g||"boolean"!==typeof d),f=g||(!0===d||!0===e?"margin":"border");return h.access(this,function(c,g,d){return h.isWindow(c)?c.document.documentElement["client"+b]:9===c.nodeType?(g=c.documentElement,Math.max(c.body["scroll"+b],g["scroll"+b],c.body["offset"+b],g["offset"+b],g["client"+b])):d===a?h.css(c,g,d,f):h.style(c,g,d,f)},c,m?d:a,m,null)}})});d.jQuery=d.$=h;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return h});
return h}(window)})})()},{}],1:[function(n,r,w){window.onload=function(){var d=n("./app");window.app=new d(document.getElementById("app"));window.app.start(window.bootstrap)}},{"./app":2}],3:[function(n,r,w){n=r.exports={};n.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var d=[];window.addEventListener("message",function(a){a.source===window&&"process-tick"===
a.data&&(a.stopPropagation(),0<d.length&&d.shift()())},!0);return function(a){d.push(a);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}();n.title="browser";n.browser=!0;n.env={};n.argv=[];n.binding=function(d){throw Error("process.binding is not supported");};n.cwd=function(){return"/"};n.chdir=function(d){throw Error("process.chdir is not supported");}},{}],4:[function(n,r,w){(function(d){function a(a,d){for(var l=[],k=0;k<a.length;k++)d(a[k],k,a)&&l.push(a[k]);return l}
function k(a,d){for(var l=0,k=a.length;0<=k;k--){var p=a[k];"."==p?a.splice(k,1):".."===p?(a.splice(k,1),l++):l&&(a.splice(k,1),l--)}if(d)for(;l--;l)a.unshift("..");return a}var l=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;w.resolve=function(){for(var f="",e=!1,l=arguments.length;-1<=l&&!e;l--){var u=0<=l?arguments[l]:d.cwd();"string"===typeof u&&u&&(f=u+"/"+f,e="/"===u.charAt(0))}f=k(a(f.split("/"),function(a){return!!a}),!e).join("/");return(e?"/":"")+f||"."};w.normalize=function(d){var e="/"===d.charAt(0),
l="/"===d.slice(-1);(d=k(a(d.split("/"),function(a){return!!a}),!e).join("/"))||e||(d=".");d&&l&&(d+="/");return(e?"/":"")+d};w.join=function(){var d=Array.prototype.slice.call(arguments,0);return w.normalize(a(d,function(a,d){return a&&"string"===typeof a}).join("/"))};w.dirname=function(a){return(a=l.exec(a)[1]||"")?1===a.length?a:a.substring(0,a.length-1):"."};w.basename=function(a,d){var k=l.exec(a)[2]||"";d&&k.substr(-1*d.length)===d&&(k=k.substr(0,k.length-d.length));return k};w.extname=function(a){return l.exec(a)[3]||
""};w.relative=function(a,d){function l(a){for(var b=0;b<a.length&&""===a[b];b++);for(var d=a.length-1;0<=d&&""===a[d];d--);return b>d?[]:a.slice(b,d-b+1)}a=w.resolve(a).substr(1);d=w.resolve(d).substr(1);for(var k=l(a.split("/")),p=l(d.split("/")),x=Math.min(k.length,p.length),B=x,b=0;b<x;b++)if(k[b]!==p[b]){B=b;break}x=[];for(b=B;b<k.length;b++)x.push("..");x=x.concat(p.slice(B));return x.join("/")}})(n("__browserify_process"))},{__browserify_process:3}],5:[function(n,r,w){(function(){function d(a,
d,l){this.init(a,d,l)}d.prototype={init:function(a,d,l){this.targetFrame=a;this.targetDomain=d;this.prefix=l;this.replies={};this.nextTicket=0;this.ready=!1;this.queue=[];var f=this;window.addEventListener("message",function(a){f.receive(a)},!1)},send:function(a,d,l){var f="ticket_"+this.prefix+"_"+this.nextTicket++;a=JSON.stringify({"function":a,args:d,ticket:f});l&&(this.replies[f]=l);this.sendInternal(a)},receive:function(a){if(a.origin.replace(/https?:\/\//,"")===this.targetDomain.replace(/\/$/,
"").replace(/https?:\/\//,"")){var d;try{d=JSON.parse(a.data)}catch(l){alert("Syntax error in response from "+a.origin+": "+a.data);return}if("ready"===d.event)this.ready=!0,this.sendQueuedEvents();else if(d.ticket in this.replies){a=this.replies[d.ticket];delete this.replies[d.ticket];var f=[];"args"in d&&(f=d.args);a.apply(void 0,f)}}},sendInternal:function(a){this.ready?this.targetFrame.contentWindow.postMessage(a,this.targetDomain):this.queue.push(a)},sendQueuedEvents:function(){for(var a=0;a<
this.queue.length;a++)this.targetFrame.contentWindow.postMessage(this.queue[a],this.targetDomain);this.queue.length=0}};r.exports=d})()},{}],6:[function(n,r,w){r.exports=function(d){return{placeholderThumbnail:function(a){var k=d.thumbnailDims.width,l=d.thumbnailDims.height;a&&(k=Math.round(k/2),l=Math.round(l/2));return"http://holder.js/"+k+"x"+l+"/text:No Thumbnail"},isVideo:function(a){a="."+a.split(".").pop().toLowerCase();return 0<=d.videoExts.indexOf(a)},isImage:function(a){a="."+a.split(".").pop().toLowerCase();
return 0<=d.imageExts.indexOf(a)},ucfirst:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uuid:function(a){a=a||10;var d=[];for(i=0;i<a;i++)d.push("abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random())));return d.join("")},mime:function(a){return"video/quicktime"===a?"video/mp4":a}}}},{}],7:[function(n,r,w){r.exports={baseUrl:"http://www.toolkitt.com",videoExts:".mp4 .m4v .f4v .webm .ogv .flv .mov".split(" "),imageExts:[".gif",".png",".jpeg",".jpg",".bmp"],thumbnailDims:{width:340,
height:192},flashMessage:null,s3prefix:"https://toolkitt.s3.amazonaws.com/",thumberUrl:"https://toolkitt.s3.amazonaws.com/thumber.html",videoPlayerId:"media_video",imageViewerId:"media_image",placeholders:{addMedia:{full:"http://toolkitt.s3.amazonaws.com/addmedia.png",half:"http://toolkitt.s3.amazonaws.com/addmedia-half.png"},encoding:{full:"http://toolkitt.s3.amazonaws.com/encoding.gif",half:"http://toolkitt.s3.amazonaws.com/encoding-half.gif"}}}},{}],8:[function(n,r,w){(function(){r.exports=function(){var d=
this;d.getUser().save({id:"logout",token:null},{success:function(){d.db.fetchCollection("pages").fetch();d.getCustomization()&&d.getCustomization().fetch();d.navigate("",{trigger:!0})}})}})()},{}],9:[function(n,r,w){(function(d){(function(){n("../views/routes/index");var a=n("../views/errors/no_pages");r.exports=function(){var k=this,l=this.db.fetchCollection("pages"),f=this.getUser(),e=2,v=function(){e--;if(0===e){var f=new a({app:k}),p;d.env.tests||((p=k.isLoggedIn()?l.sort().at(0):l.sort().findWhere({isPublished:!0}))?
k.navigate("page/"+encodeURIComponent(p.attributes.name),{trigger:!0}):k.isLoggedIn()?k.navigate("createPage",{trigger:!0}):k.show(f))}};l.once("ready",v);f.once("ready",v)}})()})(n("__browserify_process"))},{"../views/errors/no_pages":11,"../views/routes/index":10,__browserify_process:3}],12:[function(n,r,w){w=n("jquery-browserify");n("./lib/elastislide")(w,window);n("./lib/switch")(w,window);n("./lib/sortable")(w,window);n("./lib/tags")(w,window);n("./lib/bootstrap-button")(w,window);n("./lib/bootstrap-tooltip")(w,
window);n("./lib/bootstrap-popover")(w,window);n("./lib/bootstrap-alert")(w,window);r.exports=w},{"./lib/bootstrap-alert":20,"./lib/bootstrap-button":17,"./lib/bootstrap-popover":19,"./lib/bootstrap-tooltip":18,"./lib/elastislide":13,"./lib/sortable":15,"./lib/switch":14,"./lib/tags":16,"jquery-browserify":"Gb3VIQ"}],21:[function(n,r,w){(function(){var d=n("../views/routes/login");r.exports=function(){var a=new d({app:this});this.show(a)}})()},{"../views/routes/login":22}],23:[function(n,r,w){(function(){var d=
n("../views/routes/review");r.exports=function(){var a=new d({app:this});this.show(a)}})()},{"../views/routes/review":24}],2:[function(n,r,w){(function(){var d=n("lodash"),a=n("./helpers/JqueryLoader");n("path");var k=n("./helpers/BackboneLoader.js"),l=n("./helpers/lib/messenger.js"),f=n("./helpers/db"),e={"":n("./routes/index"),login:n("./routes/login"),logout:n("./routes/logout"),createPage:n("./routes/pages/create"),"page/:name":n("./routes/pages/show"),"page/:name/edit":n("./routes/pages/edit"),
reorder:n("./routes/pages/reorder"),"page/:name/addMedia":n("./routes/media/add"),"page/:name/pickMedia":n("./routes/media/pick"),review:n("./routes/review"),"page/:name/:type/:id":n("./routes/media/show"),"media/:type/:id/edit":n("./routes/media/edit"),contact:n("./routes/contact")},v=k.Router.extend({initialize:function(k,p){var v,B;d.each(e,function(a,c){this.route(c,d.bind(a,this))},this);this.el=k=k||document.body;this.$el=a(k);this.db=new f(this);this.config=d.clone(n("./config/config.js"));
this.util=n("./helpers/util.js")(this.config);this.messenger=new l(null,this.config.s3prefix,"thumbnailer");this.listenTo(this.getUser(),"change",function(){this.bootstrap.userId&&(this.getUser().attributes.token&&this.getUser().id!==this.bootstrap.userId)&&(this.navigate("logout",{trigger:!0}),this.setFlash("info","You have been logged out because this is not your portfolio."))},this);v=this.db.fetchCollection("unprocessedUploads");this.listenTo(v,"ready add change remove sync reset",function(){0<
v.length?B=setTimeout(function(){clearTimeout(B);v.fetch()},3E3):clearTimeout(B)});this.error=d.bind(this.error,this);this.setFlash=d.bind(this.setFlash,this);this.clearFlash=d.bind(this.clearFlash,this);return this},start:function(a){this.bootstrap=a||{};k.history.start();return this},handleAppLink:function(a){a.preventDefault();a.stopPropagation();for(a=a.target;null==a.pathname;)a=a.parentElement;this.navigate(a.pathname,{trigger:!0});return this},isLoggedIn:function(){return this.getUser().attributes&&
this.getUser().attributes.token},show:function(a){this.currentView&&(this.currentView.close(),this.currentView=null);this.currentView=a;a.render();this.$el.append(a.$el);return this},flash:null,setFlash:function(a,d){a||(a="info");this.flash={message:d,type:a};this.trigger("flash");this.listenToOnce(this,"route",function(a,d,b){this.clearFlash()});return this},clearFlash:function(){this.flash=null;this.trigger("flash");return this},error:function(a,d){d?a.responseText?d=a.responseText:d.responseText&&
(d=d.responseText):d=a;var e=d,f="";if("string"==typeof e)try{e=JSON.parse(e)}catch(b){}e.message&&(e=e.message);null==e&&(e="Unknown (Null) Error");if(403===parseInt(e,10))this.logoutFromInactivity();else if("object"===typeof e){f=[];if(e instanceof Array)for(var c=0,g=e.length;c<g;c++)f.push(this.util.ucfirst(e[c].attr)+": "+this.util.ucfirst(e[c].message));else if(e.toString)f=[e.toString()];else for(c in e)f.push(this.util.ucfirst(c)+": "+this.util.ucfirst(e[c]));f=f.join(",")}else f+=e;this.setFlash("error",
f)},getUser:function(){return this.db.fetchModel("user")},getCustomization:function(){var a,d;this.bootstrap&&this.bootstrap.customizationId?(a=this.bootstrap.customizationId,d=this.db.fetchModel("customization",a)):this.isLoggedIn()&&(a=this.getUser().attributes.customization.id,d=this.db.fetchModel("customization",a),d.set(this.getUser().attributes.customization));return a?d:!1},getUserVars:function(){var a=this.getCustomization();return a?a.attributes.config:this.bootstrap.userVars},logoutFromInactivity:function(){this.navigate("logout",
{trigger:!0});setTimeout(function(){self.setFlash("info","You were logged out due to inactivity")},1E3)}});r.exports=v})()},{"./config/config.js":7,"./helpers/BackboneLoader.js":25,"./helpers/JqueryLoader":12,"./helpers/db":26,"./helpers/lib/messenger.js":5,"./helpers/util.js":6,"./routes/contact":35,"./routes/index":9,"./routes/login":21,"./routes/logout":8,"./routes/media/add":31,"./routes/media/edit":34,"./routes/media/pick":32,"./routes/media/show":33,"./routes/pages/create":28,"./routes/pages/edit":29,
"./routes/pages/reorder":30,"./routes/pages/show":27,"./routes/review":23,lodash:36,path:4}],27:[function(n,r,w){(function(){var d=n("../../views/routes/pages/show");r.exports=function(a){a=new d({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/pages/show":37}],28:[function(n,r,w){(function(){var d=n("../../views/routes/pages/create");r.exports=function(){var a=new d({app:this});this.show(a)}})()},{"../../views/routes/pages/create":38}],29:[function(n,r,w){(function(){var d=n("../../views/routes/pages/edit");
r.exports=function(a){a=new d({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/pages/edit":39}],32:[function(n,r,w){(function(){var d=n("../../views/routes/media/pick");r.exports=function(a){a=new d({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/media/pick":40}],31:[function(n,r,w){(function(){var d=n("../../views/routes/media/add");r.exports=function(a){a=new d({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/media/add":41}],30:[function(n,r,w){(function(){var d=
n("../../views/routes/pages/reorder");r.exports=function(){var a=new d({app:this});this.show(a)}})()},{"../../views/routes/pages/reorder":42}],33:[function(n,r,w){(function(){var d=n("../../views/routes/media/show");r.exports=function(a,k,l){a=new d({app:this,mediaType:k,mediaId:l,pageName:a});this.show(a)}})()},{"../../views/routes/media/show":43}],34:[function(n,r,w){(function(){var d=n("../../views/routes/media/edit");r.exports=function(a,k){var l=new d({app:this,mediaType:a,mediaId:k});this.show(l)}})()},
{"../../views/routes/media/edit":44}],35:[function(n,r,w){(function(){var d=n("../views/routes/contact");r.exports=function(){var a=new d({app:this});this.show(a)}})()},{"../views/routes/contact":45}],15:[function(n,r,w){r.exports=function(d){var a,k=d();d.fn.sortable=function(l){var f=String(l);l=d.extend({connectWith:!1},l);return this.each(function(){if(/^enable|disable|destroy$/.test(f)){var e=d(this).children(d(this).data("items")),v=d(this).children(d(this).data("handles")).attr("draggable",
"enable"==f);"destroy"==f&&(e.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s"),v.off("selectstart.h5s"))}else{var u,e=d(this).children(l.items),v=l.handle?e.find(l.handle):e,p,x=d("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');d(this).data("items",l.items);d(this).data("handles",l.handle?l.handle:l.items);k=k.add(x);l.connectWith&&d(l.connectWith).add(this).data("connectWith",l.connectWith);v.attr("draggable",
"true").not("a[href], img").on("selectstart.h5s",function(){this.dragDrop&&this.dragDrop();return!1}).end();e.on("dragstart.h5s",function(e){var b=e.originalEvent.dataTransfer;b.effectAllowed="move";b.setData("Text","dummy");u=(a=d(this)).addClass("sortable-dragging").index();p=a.parent();e.stopPropagation()}).on("dragend.h5s",function(){a&&(a.removeClass("sortable-dragging").show(),k.detach(),u==a.index()&&p.is(a.parent())||a.parent().trigger("sortupdate",{item:a}),p=a=null)}).add([this,x]).on("dragover.h5s dragenter.h5s drop.h5s",
function(f){if(!e.is(a)&&l.connectWith!==d(a).parent().data("connectWith"))return!0;if("drop"==f.type)return f.stopPropagation(),k.filter(":visible").after(a),a.trigger("dragend.h5s"),!1;f.preventDefault();f.originalEvent.dataTransfer.dropEffect="move";e.is(this)?(l.forcePlaceholderSize&&x.height(a.outerHeight()),a.hide(),d(this)[x.index()<d(this).index()?"after":"before"](x),k.not(x).detach()):k.is(this)||d(this).children(l.items).length||(k.detach(),d(this).append(x));return!1})}})}}},{}],19:[function(n,
r,w){r.exports=function(d){var a=function(a,d){this.init("popover",a,d)};a.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:a,setContent:function(){var a=this.tip(),d=this.getTitle(),e=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](d);a.find(".popover-content")[this.options.html?"html":"text"](e);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,
d=this.options;return("function"==typeof d.content?d.content.call(a[0]):d.content)||a.attr("data-content")},tip:function(){this.$tip||(this.$tip=d(this.options.template));return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var k=d.fn.popover;d.fn.popover=function(l){return this.each(function(){var f=d(this),e=f.data("popover"),k="object"==typeof l&&l;e||f.data("popover",e=new a(this,k));if("string"==typeof l)e[l]()})};d.fn.popover.Constructor=a;d.fn.popover.defaults=
d.extend({},d.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});d.fn.popover.noConflict=function(){d.fn.popover=k;return this}}},{}],17:[function(n,r,w){r.exports=function(d){var a=function(a,f){this.$element=d(a);this.options=d.extend({},d.fn.button.defaults,f)};a.prototype.setState=function(a){var d=this.$element,e=d.data(),k=d.is("input")?"val":"html";
a+="Text";e.resetText||d.data("resetText",d[k]());d[k](e[a]||this.options[a]);setTimeout(function(){"loadingText"==a?d.addClass("disabled").attr("disabled","disabled"):d.removeClass("disabled").removeAttr("disabled")},0)};a.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var k=d.fn.button;d.fn.button=function(l){return this.each(function(){var f=d(this),e=f.data("button"),k="object"==
typeof l&&l;e||f.data("button",e=new a(this,k));"toggle"==l?e.toggle():l&&e.setState(l)})};d.fn.button.defaults={loadingText:"loading..."};d.fn.button.Constructor=a;d.fn.button.noConflict=function(){d.fn.button=k;return this};d(document).on("click.button.data-api","[data-toggle^=button]",function(a){a=d(a.target);a.hasClass("btn")||(a=a.closest(".btn"));a.button("toggle")})}},{}],14:[function(n,r,w){r.exports=function(d){d.fn.bootstrapSwitch=function(a){var k={init:function(){return this.each(function(){var a=
d(this),f,e,k,u,p="",x=a.attr("class"),n;e="ON";u="OFF";f=!1;d.each(["switch-mini","switch-small","switch-large"],function(a,b){0<=x.indexOf(b)&&(p=b)});a.addClass("has-switch");void 0!==a.data("on")&&(k="switch-"+a.data("on"));void 0!==a.data("on-label")&&(e=a.data("on-label"));void 0!==a.data("off-label")&&(u=a.data("off-label"));void 0!==a.data("icon")&&(f=a.data("icon"));e=d("<span>").addClass("switch-left").addClass(p).addClass(k).html(e);k="";void 0!==a.data("off")&&(k="switch-"+a.data("off"));
k=d("<span>").addClass("switch-right").addClass(p).addClass(k).html(u);u=d("<label>").html("&nbsp;").addClass(p).attr("for",a.find("input").attr("id"));f&&u.html('<i class="'+f+'"></i>');f=a.find(":checkbox").wrap(d("<div>")).parent().data("animated",!1);!1!==a.data("animated")&&f.addClass("switch-animate").data("animated",!0);f.append(e).append(u).append(k);a.find(">div").addClass(a.find("input").is(":checked")?"switch-on":"switch-off");a.find("input").is(":disabled")&&d(this).addClass("deactivate");
var b=function(a){a.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};a.on("keydown",function(a){32===a.keyCode&&(a.stopImmediatePropagation(),a.preventDefault(),b(d(a.target).find("span:first")))});e.on("click",function(a){b(d(this))});k.on("click",function(a){b(d(this))});a.find("input").on("change",function(a){var b=d(this),e=b.parent(),f=b.is(":checked"),l=e.is(".switch-off");a.preventDefault();e.css("left","");l===f&&(f?e.removeClass("switch-off").addClass("switch-on"):
e.removeClass("switch-on").addClass("switch-off"),!1!==e.data("animated")&&e.addClass("switch-animate"),e.parent().trigger("switch-change",{el:b,value:f}))});a.find("label").on("mousedown touchstart",function(a){var b=d(this);n=!1;a.preventDefault();a.stopImmediatePropagation();b.closest("div").removeClass("switch-animate");b.closest(".has-switch").is(".deactivate")?b.unbind("click"):(b.on("mousemove touchmove",function(a){var b=d(this).closest(".switch");a=100*(((a.pageX||a.originalEvent.targetTouches[0].pageX)-
b.offset().left)/b.width());n=!0;25>a?a=25:75<a&&(a=75);b.find(">div").css("left",a-75+"%")}),b.on("click touchend",function(a){var b=d(this),c=d(a.target).siblings("input");a.stopImmediatePropagation();a.preventDefault();b.unbind("mouseleave");n?c.prop("checked",!(-25>parseInt(b.parent().css("left")))):c.prop("checked",!c.is(":checked"));n=!1;c.trigger("change")}),b.on("mouseleave",function(a){var b=d(this),c=b.siblings("input");a.preventDefault();a.stopImmediatePropagation();b.unbind("mouseleave");
b.trigger("mouseup");c.prop("checked",!(-25>parseInt(b.parent().css("left")))).trigger("change")}),b.on("mouseup",function(a){a.stopImmediatePropagation();a.preventDefault();d(this).unbind("mousemove")}))})})},toggleActivation:function(){d(this).toggleClass("deactivate")},isActive:function(){return!d(this).hasClass("deactivate")},setActive:function(a){a?d(this).removeClass("deactivate"):d(this).addClass("deactivate")},toggleState:function(a){var f=d(this).find("input:checkbox");f.prop("checked",!f.is(":checked")).trigger("change",
a)},setState:function(a,f){d(this).find("input:checkbox").prop("checked",a).trigger("change",f)},status:function(){return d(this).find("input:checkbox").is(":checked")},destroy:function(){var a=d(this).find("div");a.find(":not(input:checkbox)").remove();a=a.children();a.unwrap().unwrap();a.unbind("change");return a}};if(k[a])return k[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)d.error("Method "+a+" does not exist!");else return k.init.apply(this,arguments)}}},
{}],18:[function(n,r,w){r.exports=function(d){var a=function(a,d){this.init("tooltip",a,d)};a.prototype={constructor:a,init:function(a,f,e){var k;this.type=a;this.$element=d(f);this.options=this.getOptions(e);this.enabled=!0;f=this.options.trigger.split(" ");for(e=f.length;e--;)if(k=f[e],"click"==k)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else"manual"!=k&&(a="hover"==k?"mouseenter":"focus",k="hover"==k?"mouseleave":"blur",this.$element.on(a+"."+this.type,
this.options.selector,d.proxy(this.enter,this)),this.$element.on(k+"."+this.type,this.options.selector,d.proxy(this.leave,this)));this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=d.extend({},d.fn[this.type].defaults,this.$element.data(),a);a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});return a},enter:function(a){var f=d.fn[this.type].defaults,e={},k;this._options&&d.each(this._options,
function(a,d){f[a]!=d&&(e[a]=d)},this);k=d(a.currentTarget)[this.type](e).data(this.type);if(!k.options.delay||!k.options.delay.show)return k.show();clearTimeout(this.timeout);k.hoverState="in";this.timeout=setTimeout(function(){"in"==k.hoverState&&k.show()},k.options.delay.show)},leave:function(a){var f=d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!f.options.delay||!f.options.delay.hide)return f.hide();f.hoverState="out";this.timeout=setTimeout(function(){"out"==
f.hoverState&&f.hide()},f.options.delay.hide)},show:function(){var a,f,e,k,u;f=d.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(f),!f.isDefaultPrevented())){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");k="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;a.detach().css({top:0,left:0,display:"block"});this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);
f=this.getPosition();e=a[0].offsetWidth;a=a[0].offsetHeight;switch(k){case "bottom":u={top:f.top+f.height,left:f.left+f.width/2-e/2};break;case "top":u={top:f.top-a,left:f.left+f.width/2-e/2};break;case "left":u={top:f.top+f.height/2-a/2,left:f.left-e};break;case "right":u={top:f.top+f.height/2-a/2,left:f.left+f.width}}this.applyPlacement(u,k);this.$element.trigger("shown")}},applyPlacement:function(a,d){var e=this.tip(),k=e[0].offsetWidth,u=e[0].offsetHeight,p,x,n;e.offset(a).addClass(d).addClass("in");
p=e[0].offsetWidth;x=e[0].offsetHeight;"top"==d&&x!=u&&(a.top=a.top+u-x,n=!0);"bottom"==d||"top"==d?(u=0,0>a.left&&(u=-2*a.left,a.left=0,e.offset(a),p=e[0].offsetWidth),this.replaceArrow(u-k+p,p,"left")):this.replaceArrow(x-u,x,"top");n&&e.offset(a)},replaceArrow:function(a,d,e){this.arrow().css(e,a?50*(1-a/d)+"%":"")},setContent:function(){var a=this.tip(),d=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](d);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var e=
setTimeout(function(){f.off(d.support.transition.end).detach()},500);f.one(d.support.transition.end,function(){clearTimeout(e);f.detach()})}var f=this.tip(),e=d.Event("hide");this.$element.trigger(e);if(!e.isDefaultPrevented())return f.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?a():f.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||
"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var a=this.$element[0];return d.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},getTitle:function(){var a=this.$element,d=this.options;return a.attr("data-original-title")||("function"==typeof d.title?d.title.call(a[0]):d.title)},tip:function(){return this.$tip=this.$tip||d(this.options.template)},arrow:function(){return this.$arrow=
this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=a?d(a.currentTarget)[this.type](this._options).data(this.type):this;a.tip().hasClass("in")?a.hide():a.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var k=d.fn.tooltip;
d.fn.tooltip=function(l){return this.each(function(){var f=d(this),e=f.data("tooltip"),k="object"==typeof l&&l;e||f.data("tooltip",e=new a(this,k));if("string"==typeof l)e[l]()})};d.fn.tooltip.Constructor=a;d.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};d.fn.tooltip.noConflict=function(){d.fn.tooltip=k;return this}}},
{}],16:[function(n,r,w){r.exports=function(d){var a=[],k=[];d.fn.doAutosize=function(a){var f=d(this).data("minwidth"),e=d(this).data("maxwidth"),k="",u=d(this),p=d("#"+d(this).data("tester_id"));k!==(k=u.val())&&(k=k.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),p.html(k),p=p.width(),a=p+a.comfortZone>=f?p+a.comfortZone:f,p=u.width(),(a<p&&a>=f||a>f&&a<e)&&u.width(a))};d.fn.resetAutosize=function(a){var f=d(this).data("minwidth")||a.minInputWidth||d(this).width();
a=d(this).data("maxwidth")||a.maxInputWidth||d(this).closest(".tagsinput").width()-a.inputPadding;var e=d(this),k=d("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),fontWeight:e.css("fontWeight"),letterSpacing:e.css("letterSpacing"),whiteSpace:"nowrap"}),u=d(this).attr("id")+"_autosize_tester";0<!d("#"+u).length&&(k.attr("id",u),k.appendTo("body"));e.data("minwidth",f);e.data("maxwidth",a);e.data("tester_id",u);e.css("width",
f)};d.fn.addTag=function(l,f){f=jQuery.extend({focus:!1,callback:!0},f);this.each(function(){var e=d(this).attr("id"),v=d(this).val().split(a[e]);""==v[0]&&(v=[]);l=jQuery.trim(l);if(f.unique){var u=d(this).tagExist(l);!0==u&&d("#"+e+"_tag").addClass("not_valid")}else u=!1;if(""!=l&&!0!=u&&(d("<span>").addClass("tag").append(d("<span>").text(l).append("&nbsp;&nbsp;"),d('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return d("#"+e).removeTag(escape(l))})).insertBefore("#"+
e+"_addTag"),v.push(l),d("#"+e+"_tag").val(""),f.focus?d("#"+e+"_tag").focus():d("#"+e+"_tag").blur(),d.fn.tagsInput.updateTagsField(this,v),f.callback&&(k[e]&&k[e].onAddTag)&&(u=k[e].onAddTag,u.call(this,l)),k[e]&&k[e].onChange)){var p=v.length,u=k[e].onChange;u.call(this,d(this),v[p-1])}});return!1};d.fn.removeTag=function(l){l=unescape(l);this.each(function(){var f=d(this).attr("id"),e=d(this).val().split(a[f]);d("#"+f+"_tagsinput .tag").remove();str="";for(i=0;i<e.length;i++)e[i]!=l&&(str=str+
a[f]+e[i]);d.fn.tagsInput.importTags(this,str);k[f]&&k[f].onRemoveTag&&k[f].onRemoveTag.call(this,l)});return!1};d.fn.tagExist=function(k){var f=d(this).attr("id"),f=d(this).val().split(a[f]);return 0<=jQuery.inArray(k,f)};d.fn.importTags=function(a){id=d(this).attr("id");d("#"+id+"_tagsinput .tag").remove();d.fn.tagsInput.importTags(this,a)};d.fn.tagsInput=function(l){var f=jQuery.extend({interactive:!0,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",
unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},l);this.each(function(){f.hide&&d(this).hide();var e=d(this).attr("id");if(!e||a[d(this).attr("id")])e=d(this).attr("id","tags"+(new Date).getTime()).attr("id");var l=jQuery.extend({pid:e,real_input:"#"+e,holder:"#"+e+"_tagsinput",input_wrapper:"#"+e+"_addTag",fake_input:"#"+e+"_tag"},f);a[e]=l.delimiter;if(f.onAddTag||f.onRemoveTag||f.onChange)k[e]=[],k[e].onAddTag=f.onAddTag,k[e].onRemoveTag=
f.onRemoveTag,k[e].onChange=f.onChange;var u=d("#"+e).attr("class").replace("tagsinput",""),u='<div id="'+e+'_tagsinput" class="tagsinput '+u+'"><div class="tagsinput-add-container" id="'+e+'_addTag"><div class="tagsinput-add"></div>';f.interactive&&(u=u+'<input id="'+e+'_tag" value="" data-default="'+f.defaultText+'" />');d(u+"</div></div>").insertAfter(this);d(l.holder).css("width",f.width);d(l.holder).css("min-height",f.height);d(l.holder).css("height","100%");""!=d(l.real_input).val()&&d.fn.tagsInput.importTags(d(l.real_input),
d(l.real_input).val());if(f.interactive){d(l.fake_input).val(d(l.fake_input).attr("data-default"));d(l.fake_input).css("color",f.placeholderColor);d(l.fake_input).resetAutosize(f);d(l.holder).bind("click",l,function(a){d(a.data.fake_input).focus()});d(l.fake_input).bind("focus",l,function(a){d(a.data.fake_input).val()==d(a.data.fake_input).attr("data-default")&&d(a.data.fake_input).val("");d(a.data.fake_input).css("color","#000000")});if(void 0!=f.autocomplete_url){autocomplete_options={source:f.autocomplete_url};
for(attrname in f.autocomplete)autocomplete_options[attrname]=f.autocomplete[attrname];void 0!==jQuery.Autocompleter?(d(l.fake_input).autocomplete(f.autocomplete_url,f.autocomplete),d(l.fake_input).bind("result",l,function(a,l,k){l&&d("#"+e).addTag(l[0]+"",{focus:!0,unique:f.unique})})):void 0!==jQuery.ui.autocomplete&&(d(l.fake_input).autocomplete(autocomplete_options),d(l.fake_input).bind("autocompleteselect",l,function(a,e){d(a.data.real_input).addTag(e.item.value,{focus:!0,unique:f.unique});return!1}))}else d(l.fake_input).bind("blur",
l,function(a){var e=d(this).attr("data-default");""!=d(a.data.fake_input).val()&&d(a.data.fake_input).val()!=e?a.data.minChars<=d(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=d(a.data.fake_input).val().length)&&d(a.data.real_input).addTag(d(a.data.fake_input).val(),{focus:!0,unique:f.unique}):(d(a.data.fake_input).val(d(a.data.fake_input).attr("data-default")),d(a.data.fake_input).css("color",f.placeholderColor));return!1});d(l.fake_input).bind("keypress",l,function(a){if(a.which==
a.data.delimiter.charCodeAt(0)||13==a.which)return a.preventDefault(),a.data.minChars<=d(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=d(a.data.fake_input).val().length)&&d(a.data.real_input).addTag(d(a.data.fake_input).val(),{focus:!0,unique:f.unique}),d(a.data.fake_input).resetAutosize(f),!1;a.data.autosize&&d(a.data.fake_input).doAutosize(f)});l.removeWithBackspace&&d(l.fake_input).bind("keydown",function(a){if(8==a.keyCode&&""==d(this).val()){a.preventDefault();a=d(this).closest(".tagsinput").find(".tag:last").text();
var e=d(this).attr("id").replace(/_tag$/,"");a=a.replace(/[\s\u00a0]+x$/,"");d("#"+e).removeTag(escape(a));d(this).trigger("focus")}});d(l.fake_input).blur();l.unique&&d(l.fake_input).keydown(function(a){(8==a.keyCode||String.fromCharCode(a.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,/]+/))&&d(this).removeClass("not_valid")})}});return this};d.fn.tagsInput.updateTagsField=function(l,f){var e=d(l).attr("id");d(l).val(f.join(a[e]))};d.fn.tagsInput.importTags=
function(l,f){d(l).val("");var e=d(l).attr("id"),v=f.split(a[e]);for(i=0;i<v.length;i++)d(l).addTag(v[i],{focus:!1,callback:!1});k[e]&&k[e].onChange&&k[e].onChange.call(l,l,v[i])}}},{}],20:[function(n,r,w){r.exports=function(d){var a=function(a){d(a).on("click",'[data-dismiss="alert"]',this.close)};a.prototype.close=function(a){function f(){u.trigger("closed").remove()}var e=d(this),k=e.attr("data-target"),u;k||(k=(k=e.attr("href"))&&k.replace(/.*(?=#[^\s]*$)/,""));u=d(k);a&&a.preventDefault();u.length||
(u=e.hasClass("alert")?e:e.parent());u.trigger(a=d.Event("close"));a.isDefaultPrevented()||(u.removeClass("in"),d.support.transition&&u.hasClass("fade")?u.on(d.support.transition.end,f):f())};var k=d.fn.alert;d.fn.alert=function(k){return this.each(function(){var f=d(this),e=f.data("alert");e||f.data("alert",e=new a(this));"string"==typeof k&&e[k].call(f)})};d.fn.alert.Constructor=a;d.fn.alert.noConflict=function(){d.fn.alert=k;return this};d(document).on("click.alert.data-api",'[data-dismiss="alert"]',
a.prototype.close)}},{}],36:[function(n,r,w){(function(d){(function(a){function k(a,b,c){c=(c||0)-1;for(var g=a.length;++c<g;)if(a[c]===b)return c;return-1}function l(a,b){var c=typeof b;a=a.cache;if("boolean"==c||null==b)return a[b];"number"!=c&&"string"!=c&&(c="object");var g="number"==c?b:I+b;a=a[c]||(a[c]={});return"object"==c?a[g]&&-1<k(a[g],b)?0:-1:a[g]?0:-1}function f(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var g="number"==
c?a:I+a,d=b[c]||(b[c]={});"object"==c?(d[g]||(d[g]=[])).push(a)==this.array.length&&(b[c]=!1):d[g]=!0}}function e(a){return a.charCodeAt(0)}function v(a,b){var c=a.index,g=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<g?-1:1}function u(a){var b=-1,g=a.length,d=n();d["false"]=d["null"]=d["true"]=d.undefined=!1;var e=n();e.array=a;e.cache=d;for(e.push=f;++b<g;)e.push(a[b]);return!1===d.object?(c(e),null):e}function p(a){return"\\"+
nb[a]}function x(){return C.pop()||[]}function n(){return A.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function b(a){a.length=0;C.length<J&&C.push(a)}function c(a){var b=a.cache;b&&c(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;A.length<J&&A.push(a)}function g(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var g=-1;c=c-b||
0;for(var d=Array(0>c?0:c);++g<c;)d[g]=a[b+g];return d}function m(d){function f(a){return a&&"object"==typeof a&&!Fa(a)&&Q.call(a,"__wrapped__")?a:new A(a)}function A(a){this.__wrapped__=a}function C(a,b,c,g){function d(){var g=arguments,q=f?this:b;e||(a=b[m]);c.length&&(g=g.length?(g=X.call(g),h?g.concat(c):c.concat(g)):c);return this instanceof d?(q=ua(a.prototype)?sb(a.prototype):{},g=a.apply(q,g),ua(g)?g:q):a.apply(q,g)}var e=wa(a),f=!c,m=b;if(f){var h=g;c=b}else if(!e){if(!g)throw new La;b=a}return d}
function r(a){return Zb[a]}function J(a,b,c){var g=(g=f.indexOf)===pb?k:g;return g}function w(a){return function(b,c,g,d){"boolean"!=typeof c&&null!=c&&(g=(d=g)&&d[c]===b?z:c,c=!1);null!=g&&(g=f.createCallback(g,d));return a(b,c,g,d)}}function qa(a){var b,c;if(!a||Y.call(a)!=Qa||(b=a.constructor,wa(b)&&!(b instanceof b)))return!1;zb(a,function(a,b){c=b});return c===z||Q.call(a,c)}function Ma(a){return Vb[a]}function nb(a,c,d,e,m,q){var k=a;"boolean"!=typeof c&&null!=c&&(e=d,d=c,c=!1);if("function"==
typeof d){d="undefined"==typeof e?d:f.createCallback(d,e,1);k=d(k);if("undefined"!=typeof k)return k;k=a}if(e=ua(k)){var l=Y.call(k);if(!h[l])return k;var t=Fa(k)}if(!e||!c)return e?t?g(k):Qb({},k):k;e=Ia[l];switch(l){case Bb:case mb:return new e(+k);case $a:case Ga:return new e(k);case Ca:return e(k.source,T.exec(k))}l=!m;m||(m=x());q||(q=x());for(var y=m.length;y--;)if(m[y]==a)return q[y];k=t?e(k.length):{};t&&(Q.call(a,"index")&&(k.index=a.index),Q.call(a,"input")&&(k.input=a.input));m.push(a);
q.push(k);(t?ca:pa)(a,function(a,b){k[b]=nb(a,c,d,z,m,q)});l&&(b(m),b(q));return k}function da(a){var b=[];zb(a,function(a,c){wa(a)&&b.push(c)});return b.sort()}function rb(a){for(var b=-1,c=Ja(a),g=c.length,d={};++b<g;){var e=c[b];d[a[e]]=e}return d}function na(a,c,g,d,e,m){var h=g===F;if("function"==typeof g&&!h){g=f.createCallback(g,d,2);var q=g(a,c);if("undefined"!=typeof q)return!!q}if(a===c)return 0!==a||1/a==1/c;var k=typeof a,l=typeof c;if(a===a&&(!a||"function"!=k&&"object"!=k)&&(!c||"function"!=
l&&"object"!=l))return!1;if(null==a||null==c)return a===c;l=Y.call(a);k=Y.call(c);l==Z&&(l=Qa);k==Z&&(k=Qa);if(l!=k)return!1;switch(l){case Bb:case mb:return+a==+c;case $a:return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case Ca:case Ga:return a==R(c)}k=l==Ba;if(!k){if(Q.call(a,"__wrapped__ ")||Q.call(c,"__wrapped__"))return na(a.__wrapped__||a,c.__wrapped__||c,g,d,e,m);if(l!=Qa)return!1;var l=a.constructor,t=c.constructor;if(l!=t&&!(wa(l)&&l instanceof l&&wa(t)&&t instanceof t))return!1}t=!e;e||(e=x());m||
(m=x());for(l=e.length;l--;)if(e[l]==a)return m[l]==c;var y=0,q=!0;e.push(a);m.push(c);if(k){l=a.length;y=c.length;q=y==a.length;if(!q&&!h)return q;for(;y--;)if(k=l,t=c[y],h)for(;k--&&!(q=na(a[k],t,g,d,e,m)););else if(!(q=na(a[y],t,g,d,e,m)))break;return q}zb(c,function(b,c,f){if(Q.call(f,c))return y++,q=Q.call(a,c)&&na(a[c],b,g,d,e,m)});q&&!h&&zb(a,function(a,b,c){if(Q.call(c,b))return q=-1<--y});t&&(b(e),b(m));return q}function wa(a){return"function"==typeof a}function ua(a){return!(!a||!ba[typeof a])}
function tb(a){return"number"==typeof a||Y.call(a)==$a}function db(a){return"string"==typeof a||Y.call(a)==Ga}function Fb(a,c,g){var d=arguments,e=0,m=2;if(!ua(a))return a;if(g===F)var h=d[3],q=d[4],k=d[5];else{var l=!0,q=x(),k=x();"number"!=typeof g&&(m=d.length);3<m&&"function"==typeof d[m-2]?h=f.createCallback(d[--m-1],d[m--],2):2<m&&"function"==typeof d[m-1]&&(h=d[--m])}for(;++e<m;)(Fa(d[e])?ca:pa)(d[e],function(b,c){var g,d,e=b,f=a[c];if(b&&((d=Fa(b))||$b(b))){for(e=q.length;e--;)if(g=q[e]==
b){f=k[e];break}if(!g){var m;h&&(e=h(f,b),m="undefined"!=typeof e)&&(f=e);m||(f=d?Fa(f)?f:[]:$b(f)?f:{});q.push(b);k.push(f);m||(f=Fb(f,b,F,h,q,k))}}else h&&(e=h(f,b),"undefined"==typeof e&&(e=b)),"undefined"!=typeof e&&(f=e);a[c]=f});l&&(b(q),b(k));return a}function ob(a){for(var b=-1,c=Ja(a),g=c.length,d=ga(g);++b<g;)d[b]=a[c[b]];return d}function Gb(a,b,c){var g=-1,d=J(),e=a?a.length:0,f=!1;c=(0>c?ja(0,e+c):c)||0;e&&"number"==typeof e?f=-1<(db(a)?a.indexOf(b,c):d(a,b,c)):pa(a,function(a){if(++g>=
c)return!(f=a===b)});return f}function Na(a,b,c){var g=!0;b=f.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d&&(g=!!b(a[c],c,a)););else pa(a,function(a,c,d){return g=!!b(a,c,d)});return g}function Wa(a,b,c){var g=[];b=f.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d;){var e=a[c];b(e,c,a)&&g.push(e)}else pa(a,function(a,c,d){b(a,c,d)&&g.push(a)});return g}function eb(a,b,c){b=f.createCallback(b,c);c=-1;var g=a?a.length:0;if("number"==typeof g)for(;++c<
g;){var d=a[c];if(b(d,c,a))return d}else{var e;pa(a,function(a,c,g){if(b(a,c,g))return e=a,!1});return e}}function ca(a,b,c){var g=-1,d=a?a.length:0;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);if("number"==typeof d)for(;++g<d&&!1!==b(a[g],g,a););else pa(a,b);return a}function ub(a,b,c){var g=-1,d=a?a.length:0;b=f.createCallback(b,c);if("number"==typeof d)for(var e=ga(d);++g<d;)e[g]=b(a[g],g,a);else e=[],pa(a,function(a,c,d){e[++g]=b(a,c,d)});return e}function vb(a,b,c){var g=-Infinity,d=g;
if(!b&&Fa(a)){c=-1;for(var m=a.length;++c<m;){var h=a[c];h>d&&(d=h)}}else b=!b&&db(a)?e:f.createCallback(b,c),ca(a,function(a,c,e){c=b(a,c,e);c>g&&(g=c,d=a)});return d}function wb(a,b){var c=-1,g=a?a.length:0;if("number"==typeof g)for(var d=ga(g);++c<g;)d[c]=a[c][b];return d||ub(a,b)}function fb(a,b,c,g){if(!a)return c;var d=3>arguments.length;b=f.createCallback(b,g,4);var e=-1,m=a.length;if("number"==typeof m)for(d&&(c=a[++e]);++e<m;)c=b(c,a[e],e,a);else pa(a,function(a,g,e){c=d?(d=!1,a):b(c,a,g,
e)});return c}function xb(a,b,c,g){var d=a?a.length:0,e=3>arguments.length;if("number"!=typeof d)var m=Ja(a),d=m.length;b=f.createCallback(b,g,4);ca(a,function(g,f,h){f=m?m[--d]:--d;c=e?(e=!1,a[f]):b(c,a[f],f,h)});return c}function Hb(a,b,c){var g;b=f.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d&&!(g=b(a[c],c,a)););else pa(a,function(a,c,d){return!(g=b(a,c,d))});return!!g}function ia(a){var b=-1,g=J(),d=a?a.length:0,e=ta.apply(N,X.call(arguments,1)),f=[],m=d>=s&&g===
k;if(m){var h=u(e);h?(g=l,e=h):m=!1}for(;++b<d;)h=a[b],0>g(e,h)&&f.push(h);m&&c(e);return f}function kb(a,b,c){if(a){var d=0,e=a.length;if("number"!=typeof b&&null!=b){var m=-1;for(b=f.createCallback(b,c);++m<e&&b(a[m],m,a);)d++}else if(d=b,null==d||c)return a[0];return g(a,0,y(ja(0,d),e))}}function pb(a,b,c){if("number"==typeof c){var g=a?a.length:0;c=0>c?ja(0,g+c):c||0}else if(c)return c=va(a,b),a[c]===b?c:-1;return a?k(a,b,c):-1}function Ib(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,m=
a?a.length:0;for(b=f.createCallback(b,c);++e<m&&b(a[e],e,a);)d++}else d=null==b||c?1:ja(0,b);return g(a,d)}function va(a,b,c,g){var d=0,e=a?a.length:d;c=c?f.createCallback(c,g,1):oa;for(b=c(b);d<e;)g=d+e>>>1,c(a[g])<b?d=g+1:e=g;return d}function Mb(a){for(var b=-1,c=a?vb(wb(a,"length")):0,g=ga(0>c?0:c);++b<c;)g[b]=wb(a,b);return g}function Xa(a,b){for(var c=-1,g=a?a.length:0,d={};++c<g;){var e=a[c];b?d[e]=b[c]:d[e[0]]=e[1]}return d}function gb(a,b){return Pb.fastBind||Oa&&2<arguments.length?Oa.call.apply(Oa,
arguments):C(a,b,X.call(arguments,2))}function Da(a,b,c){function g(){Ta(t);Ta(y);q=0;t=y=null}function d(){var b=p&&(!s||1<q);g();b&&(!1!==l&&(k=new hb),m=a.apply(h,f))}function e(){g();if(p||l!==b)k=new hb,m=a.apply(h,f)}var f,m,h,q=0,k=0,l=!1,t=null,y=null,p=!0;b=ja(0,b||0);if(!0===c)var s=!0,p=!1;else ua(c)&&(s=c.leading,l="maxWait"in c&&ja(b,c.maxWait||0),p="trailing"in c?c.trailing:p);return function(){f=arguments;h=this;q++;Ta(y);if(!1===l)s&&2>q&&(m=a.apply(h,f));else{var c=new hb;t||s||(k=
c);var g=l-(c-k);0>=g?(Ta(t),t=null,k=c,m=a.apply(h,f)):t||(t=ma(e,g))}b!==l&&(y=ma(d,b));return m}}function Nb(a){var b=X.call(arguments,1);return ma(function(){a.apply(z,b)},1)}function oa(a){return a}function yb(a){ca(da(a),function(b){var c=f[b]=a[b];f.prototype[b]=function(){var a=this.__wrapped__,b=[a];ya.apply(b,arguments);b=c.apply(f,b);return a&&"object"==typeof a&&a===b?this:new A(b)}})}function Ob(){return this.__wrapped__}d=d?sa.defaults(a.Object(),d,sa.pick(a,t)):a;var ga=d.Array,Za=
d.Boolean,hb=d.Date,Ra=d.Function,Ea=d.Math,la=d.Number,ha=d.Object,Sa=d.RegExp,R=d.String,La=d.TypeError,N=[],xa=ha.prototype,Jb=d._,ib=Sa("^"+R(xa.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Yb=Ea.ceil,Ta=d.clearTimeout,ta=N.concat,Ua=Ea.floor,Kb=Ra.prototype.toString,Pa=ib.test(Pa=ha.getPrototypeOf)&&Pa,Q=xa.hasOwnProperty,ya=N.push,za=d.setImmediate,ma=d.setTimeout,Y=xa.toString,Oa=ib.test(Oa=Y.bind)&&Oa,sb=ib.test(sb=ha.create)&&sb,jb=ib.test(jb=ga.isArray)&&
jb,Lb=d.isFinite,Ya=d.isNaN,W=ib.test(W=ha.keys)&&W,ja=Ea.max,y=Ea.min,S=d.parseInt,Ha=Ea.random,X=N.slice,Ea=ib.test(d.attachEvent),Ea=Oa&&!/\n|true/.test(Oa+Ea),Ia={};Ia[Ba]=ga;Ia[Bb]=Za;Ia[mb]=hb;Ia[Va]=Ra;Ia[Qa]=ha;Ia[$a]=la;Ia[Ca]=Sa;Ia[Ga]=R;A.prototype=f.prototype;var Pb=f.support={};Pb.fastBind=Oa&&!Ea;f.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:V,variable:"",imports:{_:f}};var Fa=jb,Za=function(a){var b,c=[];if(!a||!ba[typeof a])return c;for(b in a)Q.call(a,
b)&&c.push(b);return c},Ja=W?function(a){return ua(a)?W(a):[]}:Za,Zb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vb=rb(Zb),Qb=function(a,b,c){var g,d=a,e=d;if(!d)return e;var m=arguments,h=0,q="number"==typeof c?2:m.length;if(3<q&&"function"==typeof m[q-2])var k=f.createCallback(m[--q-1],m[q--],2);else 2<q&&"function"==typeof m[q-1]&&(k=m[--q]);for(;++h<q;)if((d=m[h])&&ba[typeof d])for(var l=-1,t=ba[typeof d]&&Ja(d),y=t?t.length:0;++l<y;)g=t[l],e[g]=k?k(e[g],d[g]):d[g];return e},
Rb=function(a,b,c){var g,d=a,e=d;if(!d)return e;for(var f=arguments,m=0,h="number"==typeof c?2:f.length;++m<h;)if((d=f[m])&&ba[typeof d])for(var q=-1,k=ba[typeof d]&&Ja(d),l=k?k.length:0;++q<l;)g=k[q],"undefined"==typeof e[g]&&(e[g]=d[g]);return e},zb=function(a,b,c){var g;if(!a||!ba[typeof a])return a;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);for(g in a)if(!1===b(a[g],g,a))break;return a},pa=function(a,b,c){if(!a||!ba[typeof a])return a;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);
for(var g=-1,d=ba[typeof a]&&Ja(a),e=d?d.length:0;++g<e&&(c=d[g],!1!==b(a[c],c,a)););return a},$b=function(a){if(!a||Y.call(a)!=Qa)return!1;var b=a.valueOf,c="function"==typeof b&&(c=Pa(b))&&Pa(c);return c?a==c||Pa(a)==c:qa(a)},Za=w(function H(a,b,c){for(var g=-1,d=a?a.length:0,e=[];++g<d;){var f=a[g];c&&(f=c(f,g,a));Fa(f)?ya.apply(e,b?f:H(f)):e.push(f)}return e}),Ab=w(function(a,g,d){var e=-1,f=J(),m=a?a.length:0,h=[],q=!g&&m>=s&&f===k,t=d||q?x():h;if(q){var y=u(t);y?(f=l,t=y):(q=!1,t=d?t:(b(t),
h))}for(;++e<m;){var y=a[e],p=d?d(y,e,a):y;if(g?!e||t[t.length-1]!==p:0>f(t,p))(d||q)&&t.push(p),h.push(y)}q?(b(t.array),c(t)):d&&b(t);return h});Ea&&(ab&&"function"==typeof za)&&(Nb=gb(za,d));za=8==S(P+"08")?S:function(a,b){return S(db(a)?a.replace(K,""):a,b||0)};f.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};f.assign=Qb;f.at=function(a){for(var b=-1,c=ta.apply(N,X.call(arguments,1)),g=c.length,d=ga(g);++b<g;)d[b]=a[c[b]];return d};f.bind=gb;f.bindAll=function(a){for(var b=
1<arguments.length?ta.apply(N,X.call(arguments,1)):da(a),c=-1,g=b.length;++c<g;){var d=b[c];a[d]=gb(a[d],a)}return a};f.bindKey=function(a,b){return C(a,b,X.call(arguments,2),F)};f.compact=function(a){for(var b=-1,c=a?a.length:0,g=[];++b<c;){var d=a[b];d&&g.push(d)}return g};f.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};f.countBy=function(a,b,c){var g={};b=f.createCallback(b,c);ca(a,function(a,c,d){c=R(b(a,c,d));Q.call(g,
c)?g[c]++:g[c]=1});return g};f.createCallback=function(a,b,c){if(null==a)return oa;var g=typeof a;if("function"!=g){if("object"!=g)return function(b){return b[a]};var d=Ja(a);return function(b){for(var c=d.length,g=!1;c--&&(g=na(b[d[c]],a[d[c]],F)););return g}}return"undefined"==typeof b||ea&&!ea.test(Kb.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,g){return a.call(b,c,g)}:4===c?function(c,g,d,e){return a.call(b,c,g,d,e)}:function(c,g,d){return a.call(b,c,g,d)}};f.debounce=Da;
f.defaults=Rb;f.defer=Nb;f.delay=function(a,b){var c=X.call(arguments,2);return ma(function(){a.apply(z,c)},b)};f.difference=ia;f.filter=Wa;f.flatten=Za;f.forEach=ca;f.forIn=zb;f.forOwn=pa;f.functions=da;f.groupBy=function(a,b,c){var g={};b=f.createCallback(b,c);ca(a,function(a,c,d){c=R(b(a,c,d));(Q.call(g,c)?g[c]:g[c]=[]).push(a)});return g};f.initial=function(a,b,c){if(!a)return[];var d=0,e=a.length;if("number"!=typeof b&&null!=b){var m=e;for(b=f.createCallback(b,c);m--&&b(a[m],m,a);)d++}else d=
null==b||c?1:b||d;return g(a,0,y(ja(0,e-d),e))};f.intersection=function(a){for(var g=arguments,d=g.length,e=-1,f=x(),m=-1,h=J(),q=a?a.length:0,t=[],y=x();++e<d;){var p=g[e];f[e]=h===k&&(p?p.length:0)>=s&&u(e?g[e]:y)}a:for(;++m<q;){var A=f[0],p=a[m];if(0>(A?l(A,p):h(y,p))){e=d;for((A||y).push(p);--e;)if(A=f[e],0>(A?l(A,p):h(g[e],p)))continue a;t.push(p)}}for(;d--;)(A=f[d])&&c(A);b(f);b(y);return t};f.invert=rb;f.invoke=function(a,b){var c=X.call(arguments,2),g=-1,d="function"==typeof b,e=a?a.length:
0,f=ga("number"==typeof e?e:0);ca(a,function(a){f[++g]=(d?b:a[b]).apply(a,c)});return f};f.keys=Ja;f.map=ub;f.max=vb;f.memoize=function(a,b){function c(){var g=c.cache,d=I+(b?b.apply(this,arguments):arguments[0]);return Q.call(g,d)?g[d]:g[d]=a.apply(this,arguments)}c.cache={};return c};f.merge=Fb;f.min=function(a,b,c){var g=Infinity,d=g;if(!b&&Fa(a)){c=-1;for(var m=a.length;++c<m;){var h=a[c];h<d&&(d=h)}}else b=!b&&db(a)?e:f.createCallback(b,c),ca(a,function(a,c,e){c=b(a,c,e);c<g&&(g=c,d=a)});return d};
f.omit=function(a,b,c){var g=J(),d="function"==typeof b,e={};if(d)b=f.createCallback(b,c);else var m=ta.apply(N,X.call(arguments,1));zb(a,function(a,c,f){if(d?!b(a,c,f):0>g(m,c))e[c]=a});return e};f.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};f.pairs=function(a){for(var b=-1,c=Ja(a),g=c.length,d=ga(g);++b<g;){var e=c[b];d[b]=[e,a[e]]}return d};f.partial=function(a){return C(a,X.call(arguments,1))};f.partialRight=function(a){return C(a,
X.call(arguments,1),null,F)};f.pick=function(a,b,c){var g={};if("function"!=typeof b)for(var d=-1,e=ta.apply(N,X.call(arguments,1)),m=ua(a)?e.length:0;++d<m;){var h=e[d];h in a&&(g[h]=a[h])}else b=f.createCallback(b,c),zb(a,function(a,c,d){b(a,c,d)&&(g[c]=a)});return g};f.pluck=wb;f.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var g=-1;b=ja(0,Yb((b-a)/c));for(var d=ga(b);++g<b;)d[g]=a,a+=c;return d};f.reject=function(a,b,c){b=f.createCallback(b,c);return Wa(a,function(a,c,g){return!b(a,
c,g)})};f.rest=Ib;f.shuffle=function(a){var b=-1,c=a?a.length:0,g=ga("number"==typeof c?c:0);ca(a,function(a){var c=Ua(Ha()*(++b+1));g[b]=g[c];g[c]=a});return g};f.sortBy=function(a,b,g){var d=-1,e=a?a.length:0,m=ga("number"==typeof e?e:0);b=f.createCallback(b,g);ca(a,function(a,c,g){var e=m[++d]=n();e.criteria=b(a,c,g);e.index=d;e.value=a});e=m.length;for(m.sort(v);e--;)a=m[e],m[e]=a.value,c(a);return m};f.tap=function(a,b){b(a);return a};f.throttle=function(a,b,g){var d=!0,e=!0;!1===g?d=!1:ua(g)&&
(d="leading"in g?g.leading:d,e="trailing"in g?g.trailing:e);g=n();g.leading=d;g.maxWait=b;g.trailing=e;a=Da(a,b,g);c(g);return a};f.times=function(a,b,c){a=-1<(a=+a)?a:0;var g=-1,d=ga(a);for(b=f.createCallback(b,c,1);++g<a;)d[g]=b(g);return d};f.toArray=function(a){return a&&"number"==typeof a.length?g(a):ob(a)};f.transform=function(a,b,c,g){var d=Fa(a);b=f.createCallback(b,g,4);null==c&&(d?c=[]:(g=(g=a&&a.constructor)&&g.prototype,c=ua(g)?sb(g):{}));(d?ca:pa)(a,function(a,g,d){return b(c,a,g,d)});
return c};f.union=function(a){Fa(a)||(arguments[0]=a?X.call(a):N);return Ab(ta.apply(N,arguments))};f.uniq=Ab;f.unzip=Mb;f.values=ob;f.where=Wa;f.without=function(a){return ia(a,X.call(arguments,1))};f.wrap=function(a,b){return function(){var c=[a];ya.apply(c,arguments);return b.apply(this,c)}};f.zip=function(a){return a?Mb(arguments):[]};f.zipObject=Xa;f.collect=ub;f.drop=Ib;f.each=ca;f.extend=Qb;f.methods=da;f.object=Xa;f.select=Wa;f.tail=Ib;f.unique=Ab;yb(f);f.chain=f;f.prototype.chain=function(){return this};
f.clone=nb;f.cloneDeep=function(a,b,c){return nb(a,!0,b,c)};f.contains=Gb;f.escape=function(a){return null==a?"":R(a).replace(fa,r)};f.every=Na;f.find=eb;f.findIndex=function(a,b,c){var g=-1,d=a?a.length:0;for(b=f.createCallback(b,c);++g<d;)if(b(a[g],g,a))return g;return-1};f.findKey=function(a,b,c){var g;b=f.createCallback(b,c);pa(a,function(a,c,d){if(b(a,c,d))return g=c,!1});return g};f.has=function(a,b){return a?Q.call(a,b):!1};f.identity=oa;f.indexOf=pb;f.isArguments=function(a){return Y.call(a)==
Z};f.isArray=Fa;f.isBoolean=function(a){return!0===a||!1===a||Y.call(a)==Bb};f.isDate=function(a){return a?"object"==typeof a&&Y.call(a)==mb:!1};f.isElement=function(a){return a?1===a.nodeType:!1};f.isEmpty=function(a){var b=!0;if(!a)return b;var c=Y.call(a),g=a.length;if(c==Ba||(c==Ga||c==Z)||c==Qa&&"number"==typeof g&&wa(a.splice))return!g;pa(a,function(){return b=!1});return b};f.isEqual=na;f.isFinite=function(a){return Lb(a)&&!Ya(parseFloat(a))};f.isFunction=wa;f.isNaN=function(a){return tb(a)&&
a!=+a};f.isNull=function(a){return null===a};f.isNumber=tb;f.isObject=ua;f.isPlainObject=$b;f.isRegExp=function(a){return a?"object"==typeof a&&Y.call(a)==Ca:!1};f.isString=db;f.isUndefined=function(a){return"undefined"==typeof a};f.lastIndexOf=function(a,b,c){var g=a?a.length:0;for("number"==typeof c&&(g=(0>c?ja(0,g+c):y(c,g-1))+1);g--;)if(a[g]===b)return g;return-1};f.mixin=yb;f.noConflict=function(){d._=Jb;return this};f.parseInt=za;f.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==
b?(b=a,a=0):b=+b||0;var c=Ha();return a%1||b%1?a+y(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+Ua(c*(b-a+1))};f.reduce=fb;f.reduceRight=xb;f.result=function(a,b){var c=a?a[b]:z;return wa(c)?a[b]():c};f.runInContext=m;f.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:Ja(a).length};f.some=Hb;f.sortedIndex=va;f.template=function(a,b,c){var g=f.templateSettings;a||(a="");c=Rb({},c,g);var d=Rb({},c.imports,g.imports),g=Ja(d),d=ob(d),e,m=0,h=c.interpolate||aa,k="__p += '",h=Sa((c.escape||
aa).source+"|"+h.source+"|"+(h===V?ka:aa).source+"|"+(c.evaluate||aa).source+"|$","g");a.replace(h,function(b,c,g,d,f,h){g||(g=d);k+=a.slice(m,h).replace(q,p);c&&(k+="' +\n__e("+c+") +\n'");f&&(e=!0,k+="';\n"+f+";\n__p += '");g&&(k+="' +\n((__t = ("+g+")) == null ? '' : __t) +\n'");m=h+b.length;return b});var k=k+"';\n",l=h=c.variable;l||(h="obj",k="with ("+h+") {\n"+k+"\n}\n");k=(e?k.replace(Aa,""):k).replace(L,"$1").replace(E,"$1;");k="function("+h+") {\n"+(l?"":h+" || ("+h+" = {});\n")+"var __t, __p = '', __e = _.escape"+
(e?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+k+"return __p\n}";c="\n/*\n//@ sourceURL="+(c.sourceURL||"/lodash/template/source["+M++ +"]")+"\n*/";try{var t=Ra(g,"return "+k+c).apply(z,d)}catch(y){throw y.source=k,y;}if(b)return t(b);t.source=k;return t};f.unescape=function(a){return null==a?"":R(a).replace(D,Ma)};f.uniqueId=function(a){var b=++G;return R(null==a?"":a)+b};f.all=Na;f.any=Hb;f.detect=eb;f.findWhere=eb;f.foldl=fb;f.foldr=xb;f.include=
Gb;f.inject=fb;pa(f,function(a,b){f.prototype[b]||(f.prototype[b]=function(){var b=[this.__wrapped__];ya.apply(b,arguments);return a.apply(f,b)})});f.first=kb;f.last=function(a,b,c){if(a){var d=0,e=a.length;if("number"!=typeof b&&null!=b){var m=e;for(b=f.createCallback(b,c);m--&&b(a[m],m,a);)d++}else if(d=b,null==d||c)return a[e-1];return g(a,ja(0,e-d))}};f.take=kb;f.head=kb;pa(f,function(a,b){f.prototype[b]||(f.prototype[b]=function(b,c){var g=a(this.__wrapped__,b,c);return null==b||c&&"function"!=
typeof b?g:new A(g)})});f.VERSION="1.3.1";f.prototype.toString=function(){return R(this.__wrapped__)};f.prototype.value=Ob;f.prototype.valueOf=Ob;ca(["join","pop","shift"],function(a){var b=N[a];f.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});ca(["push","reverse","sort","unshift"],function(a){var b=N[a];f.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});ca(["concat","slice","splice"],function(a){var b=N[a];f.prototype[a]=function(){return new A(b.apply(this.__wrapped__,
arguments))}});return f}var z,C=[],A=[],G=0,F={},I=+new Date+"",s=75,J=40,Aa=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,ka=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,V=/<%=([\s\S]+?)%>/g,ea=(ea=/\bthis\b/)&&ea.test(m)&&ea,P=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",K=RegExp("^["+P+"]*0+(?=.$)"),aa=/($^)/,fa=/[&<>"']/g,q=/['\n\r\t\u2028\u2029\\]/g,
t="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),M=0,Z="[object Arguments]",Ba="[object Array]",Bb="[object Boolean]",mb="[object Date]",Va="[object Function]",$a="[object Number]",Qa="[object Object]",Ca="[object RegExp]",Ga="[object String]",h={};h[Va]=!1;h[Z]=h[Ba]=h[Bb]=h[mb]=h[$a]=h[Qa]=h[Ca]=h[Ga]=!0;var ba={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},nb={"\\":"\\",
"'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},qa=ba[typeof w]&&w,ab=ba[typeof r]&&r&&r.exports==qa&&r,Ma=ba[typeof d]&&d;!Ma||Ma.global!==Ma&&Ma.window!==Ma||(a=Ma);var sa=m();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=sa,define(function(){return sa})):qa&&!qa.nodeType?ab?(ab.exports=sa)._=sa:qa._=sa:a._=sa})(this)})(self)},{}],10:[function(n,r,w){(function(){var d=n("../base"),a=n("../layout/navbar.js"),k=n("../layout/footer.js"),d=d.extend({template:n("../../templates/routes/index.hbs"),
initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var d=new a({app:this.app}),f=new k({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(f,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});r.exports=d})()},{"../../templates/routes/index.hbs":48,"../base":49,"../layout/footer.js":47,"../layout/navbar.js":46}],11:[function(n,r,w){(function(){var d=
n("../base"),a=n("../layout/navbar.js"),k=n("../layout/footer.js"),d=d.extend({template:n("../../templates/errors/no_pages.hbs"),initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var d=new a({app:this.app}),f=new k({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(f,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});r.exports=d})()},{"../../templates/errors/no_pages.hbs":50,
"../base":49,"../layout/footer.js":47,"../layout/navbar.js":46}],51:[function(n,r,w){(function(){var d=n("./media").extend({name:"image",urlRoot:function(){return this.app.config.baseUrl+"/images"}});r.exports=d})()},{"./media":52}],53:[function(n,r,w){(function(){var d=n("./media").extend({name:"video",urlRoot:function(){return this.app.config.baseUrl+"/videos"}});r.exports=d})()},{"./media":52}],13:[function(n,r,w){(function(){r.exports=function(d,a,k){var l=d.event,f,e;f=l.special.debouncedresize=
{setup:function(){d(this).on("resize",f.handler)},teardown:function(){d(this).off("resize",f.handler)},handler:function(a,d){var k=this,b=arguments,c=function(){a.type="debouncedresize";l.dispatch.apply(k,b)};e&&clearTimeout(e);d?c():e=setTimeout(c,f.threshold)},threshold:150};var v="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";d.fn.imagesLoaded=function(a){function e(){var g=d(C),f=d(A);c&&(A.length?c.reject(m,g,f):c.resolve(m));d.isFunction(a)&&a.call(b,m,g,f)}function f(a,
b){a.src!==v&&-1===d.inArray(a,l)&&(l.push(a),b?A.push(a):C.push(a),d.data(a,"imagesLoaded",{isBroken:b,src:a.src}),g&&c.notifyWith(d(a),[b,m,d(C),d(A)]),m.length===l.length&&(setTimeout(e),m.unbind(".imagesLoaded")))}var b=this,c=d.isFunction(d.Deferred)?d.Deferred():0,g=d.isFunction(c.notify),m=b.find("img").add(b.filter("img")),l=[],C=[],A=[];d.isPlainObject(a)&&d.each(a,function(b,g){if("callback"===b)a=g;else if(c)c[b](g)});m.length?m.bind("load.imagesLoaded error.imagesLoaded",function(a){f(a.target,
"error"===a.type)}).each(function(a,b){var c=b.src,g=d.data(b,"imagesLoaded");if(g&&g.src===c)f(b,g.isBroken);else if(b.complete&&b.naturalWidth!==k)f(b,0===b.naturalWidth||0===b.naturalHeight);else if(b.readyState||b.complete)b.src=v,b.src=c}):e();return c?c.promise(b):b};var u=d(a);d.Elastislide=function(a,e){this.$el=d(e);this._init(a)};d.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(a,d,e){return!1},onReady:function(){return!1},
onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}};d.Elastislide.prototype={_init:function(a){var e=n("./modernizr");this.options=d.extend(!0,{},d.Elastislide.defaults,a);var f=this;this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[e.prefixed("transition")];this.support=e.csstransitions&&e.csstransforms;this.current=this.options.start;this.isSliding=
!1;this.$items=this.$el.children("li");this.itemsCount=this.$items.length;if(0===this.itemsCount)return!1;this._validate();this.$items.detach();this.$el.empty();this.$el.append(this.$items);this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>');this.hasTransition=!1;this.hasTransitionTimeout=setTimeout(function(){f._addTransition()},100);this.$el.imagesLoaded(function(){f.$el.show();f._layout();f._configure();f.hasTransition?(f._removeTransition(),
f._slideToItem(f.current),f.$el.on(f.transEndEventName,function(){f.$el.off(f.transEndEventName);f._setWrapperSize();f._addTransition();f._initEvents()})):(clearTimeout(f.hasTransitionTimeout),f._setWrapperSize(),f._initEvents(),f._slideToItem(f.current),setTimeout(function(){f._addTransition()},25));f.options.onReady()})},_validate:function(){0>this.options.speed&&(this.options.speed=500);if(1>this.options.minItems||this.options.minItems>this.itemsCount)this.options.minItems=1;if(0>this.options.start||
this.options.start>this.itemsCount-1)this.options.start=0;"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>');this.$carousel=this.$el.parent();this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var a=this.$items.find("img:first");this.imgSize={width:a.outerWidth(!0),height:a.outerHeight(!0)};this._setItemsSize();"horizontal"===this.options.orientation?
this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height);this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing);this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s");this.hasTransition=!1},_addControls:function(){var a=this;this.$navigation=d('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper);
this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(d){a._slide("prev");return!1});this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(d){a._slide("next");return!1})},_setItemsSize:function(){var a="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:a+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height});
"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<
this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var a=this;u.on("debouncedresize.elastislide",function(){a._setItemsSize();a._configure();a._slideToItem(a.current)});this.$el.on(this.transEndEventName,function(){a._onEndTransition()});if("horizontal"===this.options.orientation)this.$el.on({swipeleft:function(){a._slide("next")},
swiperight:function(){a._slide("prev")}});else this.$el.on({swipeup:function(){a._slide("next")},swipedown:function(){a._slide("prev")}});this.$el.on("click.elastislide","li",function(e){var f=d(this);a.options.onClick(f,f.index(),e)})},_destroy:function(a){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide");u.off(".elastislide");this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper);this.$items.css({width:"auto",
"max-width":"none","max-height":"none"});this.$navigation.remove();this.$wrapper.remove();a&&a.call()},_toggleControls:function(a,d){d?"next"===a?this.$navNext.show():this.$navPrev.show():"next"===a?this.$navNext.hide():this.$navPrev.hide()},_slide:function(a,e){if(this.isSliding)return!1;this.options.onBeforeSlide();this.isSliding=!0;var f=this,b=this.translation||0,c="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),g=this.itemsCount*c,m="horizontal"===
this.options.orientation?this.$carousel.width():this.$carousel.height();if(e===k){c*=this.fitCount;if(0>c)return!1;if("next"===a&&g-(Math.abs(b)+c)<m)c=g-(Math.abs(b)+m),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===a&&0>Math.abs(b)-c)c=Math.abs(b),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var l="next"===a?Math.abs(b)+Math.abs(c):Math.abs(b)-Math.abs(c);0<l?this._toggleControls("prev",!0):this._toggleControls("prev",!1);l<g-m?this._toggleControls("next",
!0):this._toggleControls("next",!1)}e="next"===a?b-c:b+c}else c=Math.abs(e),Math.max(g,m)-c<m&&(e=-(Math.max(g,m)-m)),0<c?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(g,m)-m>c?this._toggleControls("next",!0):this._toggleControls("next",!1);this.translation=e;if(b===e)return this._onEndTransition(),!1;this.support?"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+e+"px)"):this.$el.css("transform","translateY("+e+"px)"):(d.fn.applyStyle=this.hasTransition?
d.fn.animate:d.fn.css,b="horizontal"===this.options.orientation?{left:e}:{top:e},this.$el.stop().applyStyle(b,d.extend(!0,[],{duration:this.options.speed,complete:function(){f._onEndTransition()}})));this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1;this.options.onAfterSlide()},_slideTo:function(a){a=a||this.current;var d=Math.abs(this.translation)||0,e="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),b=d+this.$carousel.width(),
c=Math.abs(a*e);(c+e>b||c<d)&&this._slideToItem(a)},_slideToItem:function(a){a="horizontal"===this.options.orientation?a*this.$items.outerWidth(!0):a*this.$items.outerHeight(!0);this._slide("",-a)},add:function(a){var d=this,e=this.current,b=this.$items.eq(this.current);this.$items=this.$el.children("li");this.itemsCount=this.$items.length;this.current=b.index();this._setItemsSize();this._configure();this._removeTransition();e<this.current?this._slideToItem(this.current):this._slide("next",this.translation);
setTimeout(function(){d._addTransition()},25);a&&a.call()},setCurrent:function(a,d){this.current=a;this._slideTo();d&&d.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(a){this._destroy(a)}};d.fn.elastislide=function(e){var f=d.data(this,"elastislide");if("string"===typeof e){var k=Array.prototype.slice.call(arguments,1);this.each(function(){f?d.isFunction(f[e])&&
"_"!==e.charAt(0)?f[e].apply(f,k):a.console&&a.console.error("no such method '"+e+"' for elastislide self"):a.console&&a.console.error("cannot call methods on elastislide prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){f?f._init():f=d.data(this,"elastislide",new d.Elastislide(e,this))});return f}}})()},{"./modernizr":54}],22:[function(n,r,w){(function(){var d=n("../base"),a=n("../layout/navbar.js"),k=n("../layout/footer.js"),d=d.extend({template:n("../../templates/routes/login.hbs"),
initialize:function(a){this.app=a.app;this.user=this.app.getUser();this.listenTo(this.user,"change",this.render,this);this.renderOnReady(this.user)},afterRender:function(){var d=new a({app:this.app}),f=new k({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(f,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext({user:this.user.attributes})},events:{submit:"login","click a.app":"handleAppLink","click a.provisionTestAccount":"provisionTestAccount"},
login:function(a){a.preventDefault();a.stopPropagation();a=this.$("input[name=username]").val();var d=this.$("input[name=password]").val();this.user.set({username:a,password:d}).save()},provisionTestAccount:function(a){a.preventDefault();a.stopPropagation();this.user.set({id:"test"}).save()}});r.exports=d})()},{"../../templates/routes/login.hbs":55,"../base":49,"../layout/footer.js":47,"../layout/navbar.js":46}],24:[function(n,r,w){(function(){var d=n("../base"),a=n("../layout/navbar.js"),k=n("../layout/footer.js"),
d=d.extend({template:n("../../templates/routes/review.hbs"),initialize:function(a){this.app=a.app;this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.unprocessed,"add change remove sort",this.render,this)},afterRender:function(){var d=new a({app:this.app}),f=new k({app:this.app});d.remove();f.remove();this.appendSubview(d,this.$("#header"));this.appendSubview(f,this.$("#footer"));this.eachSubview(function(a){a.render()})},
context:function(){var a=[];this.unprocessed.forEach(function(d){a.push(d.templateVars())});return this.getContext({unprocessed:a,nothingToReview:0===a.length})}});r.exports=d})()},{"../../templates/routes/review.hbs":56,"../base":49,"../layout/footer.js":47,"../layout/navbar.js":46}],45:[function(n,r,w){(function(){var d=n("../base"),a=n("../../helpers/JqueryLoader"),k=n("../layout/navbar.js"),l=n("../layout/footer.js"),d=d.extend({template:n("../../templates/routes/contact.hbs"),initialize:function(a){this.app=
a.app},events:{submit:"send","click a.app":"handleAppLink"},afterRender:function(){var a=new k({app:this.app}),d=new l({app:this.app});this.appendSubview(a,this.$("#header"));this.appendSubview(d,this.$("#footer"));this.eachSubview(function(a){a.render()})},nameVal:"",emailVal:"",messageVal:"",context:function(){return this.getContext({nameVal:this.nameVal,emailVal:this.emailVal,messageVal:this.messageVal})},send:function(d){d.preventDefault();d.stopPropagation();var e=this;e.nameVal=e.$('form input[name="name"]').val();
e.emailVal=e.$('form input[name="email"]').val();e.messageVal=e.$("form textarea").val();e.app.clearFlash();e.app.setFlash("info","Sending message...");e.$("form button").button("loading");a.ajax({url:e.app.config.baseUrl+"/users/contact.json",success:function(a){a.error?e.app.error(a.error):e.app.setFlash("success","Message sent!")},error:function(a,d,f){e.app.error(f)},complete:function(){e.$("form button").button("reset");e.render()},data:{name:e.nameVal,email:e.emailVal,message:e.messageVal,id:e.app.bootstrap.userId},
dataType:"json",timeout:2E4,type:"POST"})}});r.exports=d})()},{"../../helpers/JqueryLoader":12,"../../templates/routes/contact.hbs":57,"../base":49,"../layout/footer.js":47,"../layout/navbar.js":46}],41:[function(n,r,w){(function(){var d=n("../../base"),a=n("../../layout/navbar.js"),k=n("../../layout/footer.js"),d=d.extend({template:n("../../../templates/routes/media/add.hbs"),events:{"click a.filepicker":"startFilepicker","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.page=
this.app.db.createModel("page").set({name:"Loading..."});var d=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);d.once("ready",function(){var e=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});e?this.page.set(e.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var d=new a({app:this.app}),
f=new k({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(f,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){var a=encodeURIComponent(this.page.attributes.name);return this.getContext({page:this.page.attributes,pickMediaUrl:"page/"+a+"/pickMedia"})},startFilepicker:function(a,d){var e=this,k=encodeURIComponent(this.page.attributes.name);a&&(a.preventDefault(),a.stopPropagation());this.page.id?this.page.addMedia(function(a,d){a?304===a.code?
e.app.logoutFromInactivity():101!==a.code&&e.app.error(a):d&&(e.app.navigate("page/"+k,{trigger:!0}),e.app.setFlash("success",d.length+" files uploaded!"))},d):e.app.error("The page hasn't loaded yet, try again in a few seconds")}});r.exports=d})()},{"../../../templates/routes/media/add.hbs":58,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46}],37:[function(n,r,w){(function(){var d=n("../../base"),a=n("../../layout/navbar.js"),k=n("../../layout/footer.js"),l=n("../../routes/media/grid.js"),
d=d.extend({template:n("../../../templates/routes/pages/show.hbs"),initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});this.pageName=a.pageName;var d=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);d.once("ready",function(){var k=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});k?this.page.set(k.attributes):(this.page.set({name:"404"}),
this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var d=new a({app:this.app}),e=new l({app:this.app,pageName:this.pageName}),v=new k({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(e,this.$("#content"));this.appendSubview(v,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});r.exports=d})()},{"../../../templates/routes/pages/show.hbs":60,"../../base":49,"../../layout/footer.js":47,
"../../layout/navbar.js":46,"../../routes/media/grid.js":59}],39:[function(n,r,w){(function(){var d=n("../../base"),a=n("../../../helpers/lib/holder.js"),k=n("../../layout/navbar.js"),l=n("../../layout/footer.js"),d=d.extend({template:n("../../../templates/routes/pages/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var d=this.app.db.fetchCollection("pages");
this.listenTo(this.page,"change",this.render,this);this.listenTo(this.page,"invalid",function(){this.app.error(this.page.validationError)},this);d.once("ready",function(){var k=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});k?this.page.set(k.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",
this.render,this)},this)},context:function(){var a=[],d=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(k){a.push(k.templateVars(d))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){var d=this,e=new k({app:d.app}),v=new l({app:d.app});d.appendSubview(e,d.$("#header"));d.appendSubview(v,d.$("#footer"));d.eachSubview(function(a){a.render()});d.$(".sortable").sortable().bind("sortupdate",function(){d.readSortOrder.apply(d,arguments)});
d.$(".switch").bootstrapSwitch();a.run()},performSave:function(a){var d=this;a.preventDefault();a=this.$("input[name=name]").val();var k=this.$("input[name=isPublished]").parent().hasClass("switch-on");this.app.clearFlash();this.page.save({userId:d.app.getUser().attributes.id,name:a,isPublished:k},{success:function(){d.app.db.fetchCollection("pages").fetch();d.app.setFlash("success","Page Saved!")},error:d.app.error})},performDelete:function(a){a.preventDefault();a.stopPropagation();var d=this;if(confirm("Are you sure you want to delete "+
d.page.attributes.name+"?"))d.page.destroy({success:function(){d.app.db.fetchCollection("pages").remove(d.page);d.app.navigate("",{trigger:!0})},error:d.app.error});else return!1},readSortOrder:function(a){a.preventDefault();a.stopPropagation();var d=this,k=[],l=[];d.$(".sortable").children().each(function(a,f){var n=d.page.getMedia().get($(f).attr("data-uuid"));k.push(n);l.push({ID:n.attributes.id,NAME:n.attributes.name,TYPE:n.attributes.type.toLowerCase(),THUMB:n.attributes.thumbnailS3key})});d.page.getMedia().reset(k);
d.page.set("items",l);d.page.save({},{success:function(){d.app.setFlash("success","Page Saved!")},error:d.app.error})}});r.exports=d})()},{"../../../helpers/lib/holder.js":61,"../../../templates/routes/pages/edit.hbs":62,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46}],25:[function(n,r,w){(function(){var d=n("backbone"),a=n("lodash"),k=d.sync;d.sync=function(d,f,e){e=e||{};e.attrs=e.attrs||a.clone(f.toJSON());e.timeout=e.timeout||2E4;e.parse=e.parse||!0;f.urlRoot&&f.methodUrl?
e.url=f.methodUrl(d.toLowerCase()):"function"===typeof f.url?e.url=f.url():f.url&&(e.url=f.url);e.crossDomain||(e.crossDomain=!0);e.xhrFields||(e.xhrFields={withCredentials:!0});if(e.success){var v=e.success;e.success=function(a,k,n){var B;a[f.name]&&a[f.name].errors?B=a[f.name].errors:a.error?B=a.error:a.errors&&(B=a.errors);if(B)if(e.error){var b=function(){e.error({responseText:JSON.stringify({errors:B})})};"read"!==d?f.fetch({success:function(){b()},error:function(){b()}}):b()}else return v(a,
k,n);else return v(a,k,n)}}return k(d,f,e)};r.exports=d})()},{backbone:63,lodash:36}],54:[function(n,r,w){(function(){var d=function(a,d,l){function f(a,b){for(var c in a){var g=a[c];if(!~(""+g).indexOf("-")&&x[g]!==l)return"pfx"==b?g:!0}return!1}function e(a,g,d){var e=a.charAt(0).toUpperCase()+a.slice(1),m=(a+" "+b.join(e+" ")+e).split(" ");if("string"===typeof g||"undefined"===typeof g)return f(m,g);m=(a+" "+c.join(e+" ")+e).split(" ");a:{a=m;for(var k in a)if(e=g[a[k]],e!==l){g=!1===d?a[k]:"function"===
typeof e?e.bind(d||g):e;break a}g=!1}return g}var v={},n=d.documentElement,p=d.createElement("modernizr"),x=p.style,B=" -webkit- -moz- -o- -ms- ".split(" "),b=["Webkit","Moz","O","ms"],c=["webkit","moz","o","ms"],p={},g=[],m=g.slice,z,C=function(a,b,c,g){var e,f,m=d.createElement("div"),l=d.body,p=l||d.createElement("body");if(parseInt(c,10))for(;c--;)e=d.createElement("div"),e.id=g?g[c]:"modernizr"+(c+1),m.appendChild(e);c=['&#173;<style id="smodernizr">',a,"</style>"].join("");m.id="modernizr";
(l?m:p).innerHTML+=c;p.appendChild(m);l||(p.style.background="",p.style.overflow="hidden",f=n.style.overflow,n.style.overflow="hidden",n.appendChild(p));a=b(m,a);l?m.parentNode.removeChild(m):(p.parentNode.removeChild(p),n.style.overflow=f);return!!a},A={}.hasOwnProperty,G;G="undefined"!==typeof A&&"undefined"!==typeof A.call?function(a,b){return A.call(a,b)}:function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=
this;if("function"!=typeof b)throw new TypeError;var c=m.call(arguments,1),g=function(){if(this instanceof g){var d=function(){};d.prototype=b.prototype;var d=new d,e=b.apply(d,c.concat(m.call(arguments)));return Object(e)===e?e:d}return b.apply(a,c.concat(m.call(arguments)))};return g});p.touch=function(){var b;"ontouchstart"in a||a.DocumentTouch&&d instanceof DocumentTouch?b=!0:C(["@media (",B.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){b=9===
a.offsetTop});return b};p.csstransforms=function(){return!!e("transform")};p.csstransitions=function(){return e("transition")};for(var F in p)G(p,F)&&(z=F.toLowerCase(),v[z]=p[F](),g.push((v[z]?"":"no-")+z));v.addTest=function(a,b){if("object"==typeof a)for(var c in a)G(a,c)&&v.addTest(c,a[c]);else{a=a.toLowerCase();if(v[a]!==l)return v;b="function"==typeof b?b():b;n.className+=" "+(b?"":"no-")+a;v[a]=b}return v};x.cssText="";p=null;(function(a,b){function c(){var a=q.elements;return"string"==typeof a?
a.split(" "):a}function g(a){var b=z[a[A]];b||(b={},C++,a[A]=C,z[C]=b);return b}function d(a,c,e){c||(c=b);if(v)return c.createElement(a);e||(e=g(c));c=e.cache[a]?e.cache[a].cloneNode():l.test(a)?(e.cache[a]=e.createElem(a)).cloneNode():e.createElem(a);return c.canHaveChildren&&!k.test(a)?e.frag.appendChild(c):c}function e(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag());a.createElement=function(c){return q.shivMethods?d(c,a,b):b.createElem(c)};
a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(a){b.createElem(a);b.frag.createElement(a);return'c("'+a+'")'})+");return n}")(q,b.frag)}function f(a){a||(a=b);var c=g(a);if(q.shivCSS&&!p&&!c.hasCSS){var d,m=a;d=m.createElement("p");m=m.getElementsByTagName("head")[0]||m.documentElement;d.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>";
d=m.insertBefore(d.lastChild,m.firstChild);c.hasCSS=!!d}v||e(a,c);return a}var m=a.html5||{},k=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,l=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p,A="_html5shiv",C=0,z={},v;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";p="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var g=b.createDocumentFragment();c="undefined"==typeof g.cloneNode||
"undefined"==typeof g.createDocumentFragment||"undefined"==typeof g.createElement}v=c}catch(d){v=p=!0}})();var q={elements:m.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==m.shivCSS,supportsUnknownElements:v,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:f,createElement:d,createDocumentFragment:function(a,d){a||(a=b);if(v)return a.createDocumentFragment();
d=d||g(a);for(var e=d.frag.cloneNode(),f=0,m=c(),k=m.length;f<k;f++)e.createElement(m[f]);return e}};a.html5=q;f(b)})(this,d);v._version="2.6.2";v._prefixes=B;v._domPrefixes=c;v._cssomPrefixes=b;v.testProp=function(a){return f([a])};v.testAllProps=e;v.testStyles=C;v.prefixed=function(a,b,c){return b?e(a,b,c):e(a,"pfx")};n.className=n.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+g.join(" "));return v}(this,this.document);(function(a,d,l){function f(a){return"[object Function]"==z.call(a)}
function e(a){return"string"==typeof a}function v(){}function n(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function p(){var a=C.shift();A=1;a?a.t?g(function(){("c"==a.t?T.injectCss:T.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),p()):A=0}function x(a,b,c,e,f,l,q){function t(c){if(!z&&n(s.readyState)&&(x.r=z=1,!A&&p(),s.onload=s.onreadystatechange=null,c)){"img"!=a&&g(function(){I.removeChild(s)},50);for(var d in E[b])E[b].hasOwnProperty(d)&&E[b][d].onload()}}q=q||T.errorTimeout;var s=d.createElement(a),
z=0,v=0,x={t:c,s:b,e:f,a:l,x:q};1===E[b]&&(v=1,E[b]=[]);"object"==a?s.data=b:(s.src=b,s.type=a);s.width=s.height="0";s.onerror=s.onload=s.onreadystatechange=function(){t.call(this,v)};C.splice(e,0,x);"img"!=a&&(v||2===E[b]?(I.insertBefore(s,F?null:m),g(t,q)):E[b].push(s))}function B(a,b,c,g,d){return A=0,b=b||"j",e(a)?x("c"==b?r:s,a,b,this.i++,c,g,d):(C.splice(this.i++,0,a),1==C.length&&p()),this}function b(){var a=T;return a.loader={load:B,i:0},a}var c=d.documentElement,g=a.setTimeout,m=d.getElementsByTagName("script")[0],
z={}.toString,C=[],A=0,G="MozAppearance"in c.style,F=G&&!!d.createRange().compareNode,I=F?c:m.parentNode,c=a.opera&&"[object Opera]"==z.call(a.opera),c=!!d.attachEvent&&!c,s=G?"object":c?"script":"img",r=c?"script":s,w=Array.isArray||function(a){return"[object Array]"==z.call(a)},L=[],E={},D={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},ka,T;T=function(a){function c(a){a=a.split("!");var b=L.length,g=a.pop(),d=a.length,g={url:g,origUrl:g,prefixes:a},e,f,m;for(f=0;f<d;f++)m=a[f].split("="),
(e=D[m.shift()])&&(g=e(g,m));for(f=0;f<b;f++)g=L[f](g);return g}function g(a,d,e,m,k){var q=c(a),p=q.autoCallback;q.url.split(".").pop().split("?").shift();q.bypass||(d&&(d=f(d)?d:d[a]||d[m]||d[a.split("/").pop().split("?")[0]]),q.instead?q.instead(a,d,e,m,k):(E[q.url]?q.noexec=!0:E[q.url]=1,e.load(q.url,q.forceCSS||!q.forceJS&&"css"==q.url.split(".").pop().split("?").shift()?"c":l,q.noexec,q.attrs,q.timeout),(f(d)||f(p))&&e.load(function(){b();d&&d(q.origUrl,k,m);p&&p(q.origUrl,k,m);E[q.url]=2})))}
function d(a,b){function c(a,d){if(a)if(e(a))d||(k=function(){var a=[].slice.call(arguments);l.apply(this,a);p()}),g(a,k,b,0,m);else{if(Object(a)===a)for(s in A=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(s)&&(!d&&!--A&&(f(k)?k=function(){var a=[].slice.call(arguments);l.apply(this,a);p()}:k[s]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);p()}}(l[s])),g(a[s],k,b,s,m))}else!d&&p()}var m=!!a.test,q=a.load||a.both,k=a.callback||
v,l=k,p=a.complete||v,A,s;c(m?a.yep:a.nope,!!q);q&&c(q)}var m,k,q=this.yepnope.loader;if(e(a))g(a,0,q,0);else if(w(a))for(m=0;m<a.length;m++)k=a[m],e(k)?g(k,0,q,0):w(k)?T(k):Object(k)===k&&d(k,q);else Object(a)===a&&d(a,q)};T.addPrefix=function(a,b){D[a]=b};T.addFilter=function(a){L.push(a)};T.errorTimeout=1E4;null==d.readyState&&d.addEventListener&&(d.readyState="loading",d.addEventListener("DOMContentLoaded",ka=function(){d.removeEventListener("DOMContentLoaded",ka,0);d.readyState="complete"},0));
a.yepnope=b();a.yepnope.executeStack=p;a.yepnope.injectJs=function(a,b,c,e,f,l){var q=d.createElement("script"),t,A;e=e||T.errorTimeout;q.src=a;for(A in c)q.setAttribute(A,c[A]);b=l?p:b||v;q.onreadystatechange=q.onload=function(){!t&&n(q.readyState)&&(t=1,b(),q.onload=q.onreadystatechange=null)};g(function(){t||(t=1,b(1))},e);f?q.onload():m.parentNode.insertBefore(q,m)};a.yepnope.injectCss=function(a,b,c,e,f,l){e=d.createElement("link");var q;b=l?p:b||v;e.href=a;e.rel="stylesheet";e.type="text/css";
for(q in c)e.setAttribute(q,c[q]);f||(m.parentNode.insertBefore(e,m),g(b,0))}})(this,document);d.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};r.exports=d})()},{}],61:[function(n,r,w){(function(){var d=d||{};(function(a,d){function l(a){a=a.match(/^(\W)?(.*)/);a=document["getElement"+(a[1]?"#"==a[1]?"ById":"sByClassName":"sByTagName")](a[2]);var b=[];null!=a&&(a.length?b=a:0==a.length?b=a:b=[a]);return b}function f(a,b){var c={},g;for(g in a)c[g]=a[g];for(var d in b)c[d]=b[d];
return c}function e(a,b,g,d){var e=[b.height,b.width].sort(),f=Math.round(e[1]/16);Math.round(e[0]/16);var e=Math.max(g.size,f),f=b.width*d,m=b.height*d,k=g.font?g.font:"sans-serif";c.width=f;c.height=m;a.textAlign="center";a.textBaseline="middle";a.fillStyle=g.background;a.fillRect(0,0,f,m);a.fillStyle=g.foreground;a.font="bold "+e+"px "+k;b=g.text?g.text:b.width+"x"+b.height;1<a.measureText(b).width/f&&(e=g.size/(a.measureText(b).width/f));a.font="bold "+e*d+"px "+k;a.fillText(b,f/2,m/2,f);return c.toDataURL("image/png")}
function v(a,c,d,m){var k=d.dimensions,l=d.theme,p=d.text?decodeURIComponent(d.text):d.text,C=k.width+"x"+k.height,l=p?f(l,{text:p}):l,l=d.font?f(l,{font:d.font}):l,z=1;window.devicePixelRatio&&1<window.devicePixelRatio&&(z=window.devicePixelRatio);if("image"==a){c.setAttribute("data-src",m);c.setAttribute("alt",p?p:l.text?l.text+" ["+C+"]":C);if(b||!d.auto)c.style.width=k.width+"px",c.style.height=k.height+"px";b?c.style.backgroundColor=l.background:c.setAttribute("src",e(g,k,l,z))}else b||(c.style.backgroundImage=
"url("+e(g,k,l,z)+")",c.style.backgroundSize=k.width+"px "+k.height+"px")}function n(a,b,c){var g=b.dimensions;c=b.theme;var d=b.text,g=g.width+"x"+g.height;c=d?f(c,{text:d}):c;var e=document.createElement("div");e.style.backgroundColor=c.background;e.style.color=c.foreground;e.className=a.className+" holderjs-fluid";e.style.width=b.dimensions.width+(0<b.dimensions.width.indexOf("%")?"":"px");e.style.height=b.dimensions.height+(0<b.dimensions.height.indexOf("%")?"":"px");e.id=a.id;a.style.width=0;
a.style.height=0;c.text?e.appendChild(document.createTextNode(c.text)):(e.appendChild(document.createTextNode(g)),m.push(e),setTimeout(p,0));a.parentNode.insertBefore(e,a.nextSibling);window.jQuery&&jQuery(function(b){b(a).on("load",function(){a.style.width=e.style.width;a.style.height=e.style.height;b(a).show();b(e).remove()})})}function p(){for(i in m)if(m.hasOwnProperty(i)){var a=m[i],b=a.firstChild;a.style.lineHeight=a.offsetHeight+"px";b.data=a.offsetWidth+"x"+a.offsetHeight}}function x(b,c){var g=
{theme:z.themes.gray},d=!1;sl=b.length;for(j=0;j<sl;j++){var e=b[j];a.flags.dimensions.match(e)?(d=!0,g.dimensions=a.flags.dimensions.output(e)):a.flags.fluid.match(e)?(d=!0,g.dimensions=a.flags.fluid.output(e),g.fluid=!0):a.flags.colors.match(e)?g.theme=a.flags.colors.output(e):c.themes[e]?g.theme=c.themes[e]:a.flags.text.match(e)?g.text=a.flags.text.output(e):a.flags.font.match(e)?g.font=a.flags.font.output(e):a.flags.auto.match(e)&&(g.auto=!0)}return d?g:!1}var B=!1,b=!1,c=document.createElement("canvas");
document.getElementsByClassName||(document.getElementsByClassName=function(a){var b=document,c,g=[];if(b.querySelectorAll)return b.querySelectorAll("."+a);if(b.evaluate)for(b=b.evaluate(".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",b,null,0,null);c=b.iterateNext();)g.push(c);else for(b=b.getElementsByTagName("*"),a=RegExp("(^|\\s)"+a+"(\\s|$)"),c=0;c<b.length;c++)a.test(b[c].className)&&g.push(b[c]);return g});window.getComputedStyle||(window.getComputedStyle=function(a,b){return this.el=
a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(a,b,c){return c.toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this});Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])});if(c.getContext)if(0>c.toDataURL("image/png").indexOf("data:image/png"))b=!0;else var g=c.getContext("2d");else b=
!0;var m=[],z={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};a.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(a){a=this.regex.exec(a);return{width:+a[1],height:+a[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,
output:function(a){a=this.regex.exec(a);return{width:a[1],height:a[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(a){a=this.regex.exec(a);return{size:z.themes.gray.size,foreground:"#"+a[2],background:"#"+a[1]}}},text:{regex:/text\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},font:{regex:/font\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},auto:{regex:/^auto$/}};for(var C in a.flags)a.flags.hasOwnProperty(C)&&(a.flags[C].match=function(a){return a.match(this.regex)});
a.add_theme=function(b,c){null!=b&&null!=c&&(z.themes[b]=c);return a};a.add_image=function(b,c){var g=l(c);if(g.length)for(var d=0,e=g.length;d<e;d++){var f=document.createElement("img");f.setAttribute("data-src",b);g[d].appendChild(f)}return a};a.run=function(b){b=f(z,b);var c=[];imageNodes=b.images instanceof window.NodeList?b.images:b.images instanceof window.Node?[b.images]:l(b.images);bgnodes=b.elements instanceof window.NodeList?b.bgnodes:b.bgnodes instanceof window.Node?[b.bgnodes]:l(b.bgnodes);
B=!0;e=0;for(d=imageNodes.length;e<d;e++)c.push(imageNodes[e]);var g=document.getElementById("holderjs-style");g||(g=document.createElement("style"),g.setAttribute("id","holderjs-style"),g.type="text/css",document.getElementsByTagName("head")[0].appendChild(g));g.styleSheet?g.styleSheet+=b.stylesheet:g.textContent+=b.stylesheet;for(var g=RegExp(b.domain+'/(.*?)"?\\)'),d=bgnodes.length,e=0;e<d;e++){var m=window.getComputedStyle(bgnodes[e],null).getPropertyValue("background-image"),k=m.match(g);k&&
(k=x(k[1].split("/"),b))&&v("background",bgnodes[e],k,m)}d=c.length;for(e=0;e<d;e++)m=c[e].getAttribute("src")||c[e].getAttribute("data-src"),null!=m&&0<=m.indexOf(b.domain)&&(k=x(m.substr(m.lastIndexOf(b.domain)+b.domain.length+1).split("/"),b))&&(k.fluid?n(c[e],k,m):v("image",c[e],k,m));return a};(function(a,b){var c=!1,g=!0,d=a.document,e=d.documentElement,f=d.addEventListener?"addEventListener":"attachEvent",m=d.addEventListener?"removeEventListener":"detachEvent",k=d.addEventListener?"":"on",
l=function(g){"readystatechange"==g.type&&"complete"!=d.readyState||(("load"==g.type?a:d)[m](k+g.type,l,!1),c||!(c=!0)||b.call(a,null))},p=function(){try{e.doScroll("left")}catch(a){setTimeout(p,50);return}l("poll")};if("complete"==d.readyState)b.call(a,"lazy");else{if(d.createEventObject&&e.doScroll){try{g=!a.frameElement}catch(C){}g&&p()}d[f](k+"DOMContentLoaded",l,!1);d[f](k+"readystatechange",l,!1);a[f](k+"load",l,!1)}})(d,function(){window.addEventListener?(window.addEventListener("resize",p,
!1),window.addEventListener("orientationchange",p,!1)):window.attachEvent("onresize",p);B||a.run()});"function"===typeof define&&define.amd&&define("Holder",[],function(){return a})})(d,window);r.exports=d})()},{}],26:[function(n,r,w){(function(){n("path");var d=n("lodash"),a={user:n("../models/user"),image:n("../models/image"),video:n("../models/video"),page:n("../models/page"),customization:n("../models/customization")},k={pagemedia:n("../collections/pageMedia"),pages:n("../collections/pages"),
unprocesseduploads:n("../collections/unprocessedUploads"),images:n("../collections/images"),videos:n("../collections/videos")};r.exports=function(l){var f=this;this.cache={};this.createModel=function(e,f){e=e.toLowerCase();f=f||{};if(d.find(a,function(a,d){return d===e}))return new a[e](f,{app:l});throw Error('Cannot find Model "'+e+'"');};this.createCollection=function(a,f){a=a.toLowerCase();f=f||{};f=d.clone(f);f.app=l;if(d.find(k,function(d,f){return f===a}))return new k[a]([],f);throw Error('Cannot find Collection "'+
a+'"');};this.fetchModel=function(a,d){a=a.toLowerCase();var k="uuid://models/"+a+(d?"/"+d:""),p;f.cache[k]?(p=f.cache[k],setTimeout(function(){p.isFetched&&p.trigger("ready")},1)):(p=this.createModel(a),f.cache[k]=p,d&&p.set({id:d}),setTimeout(function(){p.fetch({success:function(){p.isFetched=!0;p.trigger("ready")},error:function(){p.isFetched=!0;p.trigger("ready");l.error.apply(l,arguments)}})},1));return p};this.fetchCollection=function(a,k){a=a.toLowerCase();var l=d.filter(k,function(a,d){return"app"!=
d}),l="uuid://collections/"+a+"/"+JSON.stringify(l),p;f.cache[l]?(p=f.cache[l],setTimeout(function(){p.isFetched&&p.trigger("ready")},1)):(p=this.createCollection(a,k),f.cache[l]=p,setTimeout(function(){p.fetch({success:function(){p.isFetched=!0;p.trigger("ready")}})},1));return p}}})()},{"../collections/images":70,"../collections/pageMedia":67,"../collections/pages":68,"../collections/unprocessedUploads":69,"../collections/videos":71,"../models/customization":66,"../models/image":51,"../models/page":65,
"../models/user":64,"../models/video":53,lodash:36,path:4}],72:[function(n,r,w){(function(){var d=n("../helpers/BackboneLoader.js").Model.extend({initialize:function(a,d){this.set(a);this.app=d.app||{}},methodUrl:function(a){var d;"function"===typeof this.urlRoot?d=this.urlRoot():this.urlRoot&&(d=this.urlRoot);return"delete"==a||"update"==a||"read"==a?d+"/"+this.attributes.id+".json":"create"==a?d+".json":!1}});r.exports=d})()},{"../helpers/BackboneLoader.js":25}],73:[function(n,r,w){(function(){var d=
n("../helpers/BackboneLoader.js").Collection.extend({initialize:function(a,d){this.set(a);this.app=d.app||{}}});r.exports=d})()},{"../helpers/BackboneLoader.js":25}],47:[function(n,r,w){(function(){var d=n("../base").extend({template:n("../../templates/layout/footer.hbs"),initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),"change",this.render,this);this.renderOnReady(this.app.getUser())},context:function(){return this.getContext({copyrightYear:(new Date).getFullYear()})}});r.exports=
d})()},{"../../templates/layout/footer.hbs":74,"../base":49}],59:[function(n,r,w){(function(){var d=n("../../base"),a=n("../../../helpers/lib/holder.js"),d=d.extend({template:n("../../../templates/routes/media/grid.hbs"),initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var d=this.app.db.fetchCollection("pages"),f=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.page,"change",this.render,this);d.once("ready",function(){var e=
d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});e?this.page.set(e.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.media.fetch();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this);this.listenTo(f,"add change remove reset sync",function(){this.media.fetch()},this)},this)},context:function(){var a=[],d=encodeURIComponent(this.page.attributes.name);
this.media&&this.media.forEach(function(f){a.push(f.templateVars(d))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){a.run()}});r.exports=d})()},{"../../../helpers/lib/holder.js":61,"../../../templates/routes/media/grid.hbs":75,"../../base":49}],76:[function(n,r,w){(function(){var d=n("../../base").extend({template:n("../../../templates/routes/media/thumb.hbs"),initialize:function(a){this.app=a.app;this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.listenTo(this.media,
"change",this.render,this);this.listenTo(this.app,"iframeResize",this.resizeIframe,this);this.listenTo(this.app,"thumbnailCaptured",this.saveThumbnail,this);this.listenTo(this.app,"captureThumbnail",this.captureThumbnail,this);this.renderOnReady(this.media)},context:function(){var a=this.media.templateVars(),d={media:{sources:[{src:a.hdUrl,type:this.app.util.mime("video/mp4")}],attributes:{id:"media_"+this.app.util.uuid(10),resize:!0}},dimensions:this.app.config.thumbnailDims,domain:document.domain+
(80===window.location.port?"":":"+window.location.port)};return this.getContext({media:a,thumberUrl:a.s3key?this.app.config.thumberUrl+"#"+encodeURIComponent(JSON.stringify(d)):null})},afterRender:function(){this.app.messenger.targetFrame=this.$el.find("iframe")[0]},resizeIframe:function(a){this.$el.find("iframe").attr("height",parseInt(a)+60)},saveThumbnail:function(a){this.app.setFlash("info","Please Wait, Saving Image...")},captureThumbnail:function(){var a=this;a.app.messenger.send("capture",
[],function(d){a.media.useThumbnail(d.substring(d.indexOf(",")+1))})}});r.exports=d})()},{"../../../templates/routes/media/thumb.hbs":77,"../../base":49}],64:[function(n,r,w){(function(){var d=n("./base"),a=n("lodash"),k=n("./customization"),d=d.extend({name:"user",url:function(){return this.app.config.baseUrl+"/users/auth.json"},parse:function(d,f){var e=a.clone(d);try{e=e.user,e.customization=(new k({},{app:this.app})).parse({customization:e.customization}),d=e}catch(n){d={error:d.error}}return d},
defaults:{username:"",password:"",token:!1,policy:"",signature:"",path:"",customization:{},error:null}});r.exports=d})()},{"./base":72,"./customization":66,lodash:36}],66:[function(n,r,w){(function(){var d=n("./base"),a=n("lodash");n("../helpers/BackboneLoader");d=d.extend({name:"customization",urlRoot:function(){return this.app.config.baseUrl+"/customizations"},toJSON:function(){incoming=a.clone(this.attributes);incoming.config&&(incoming.config=JSON.stringify(incoming.config));incoming.diffs&&(incoming.diffs=
JSON.stringify(incoming.diffs));return incoming},parse:function(a,d){a=a.customization;delete a.customization;try{a.config=JSON.parse(a.config),a.diffs=JSON.parse(a.diffs)}catch(f){a.config={},a.diffs={}}return a}});r.exports=d})()},{"../helpers/BackboneLoader":25,"./base":72,lodash:36}],67:[function(n,r,w){(function(){var d=n("./base");n("lodash");d=d.extend({name:"media",initialize:function(a,d){this.set(a);this.app=d.app||{};this.pageId=d.pageId||null;this.model=function(a,f){return"image"===a.type.toLowerCase()?
d.app.db.createModel("image",a):d.app.db.createModel("video",a)}},url:function(){return this.app.config.baseUrl+"/pages/"+this.pageId+"/media.json"}});r.exports=d})()},{"./base":73,lodash:36}],68:[function(n,r,w){(function(){var d=n("./base");n("../models/page");n("lodash");d=d.extend({name:"page",url:function(){return this.app.config.baseUrl+"/pages.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(a,d){this.set(a);this.app=d.app||{};this.model=function(a,
f){var e=d.app.db.createModel("page");return d.app.db.createModel("page",e.parse(a))}},comparator:function(a){return a.get("priority")}});r.exports=d})()},{"../models/page":65,"./base":73,lodash:36}],69:[function(n,r,w){(function(){var d=n("./base");n("../models/image.js");n("../models/video.js");n("lodash");d=d.extend({name:"media",url:function(){return this.app.config.baseUrl+"/unprocessed.json"},initialize:function(a,d){this.set(a);this.app=d.app||{};this.model=function(a,f){return"image"===a.type.toLowerCase()?
d.app.db.createModel("image").set(a):d.app.db.createModel("video").set(a)}}});r.exports=d})()},{"../models/image.js":51,"../models/video.js":53,"./base":73,lodash:36}],70:[function(n,r,w){(function(){var d=n("./base");n("../models/image");n("lodash");d=d.extend({name:"image",url:function(){return this.app.config.baseUrl+"/images.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(a,d){this.set(a);this.app=d.app||{};this.model=function(a,f){var e=d.app.db.createModel("image");
return d.app.db.createModel("image",e.parse(a))}}});r.exports=d})()},{"../models/image":51,"./base":73,lodash:36}],71:[function(n,r,w){(function(){var d=n("./base");n("../models/video");n("lodash");d=d.extend({name:"video",url:function(){return this.app.config.baseUrl+"/videos.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(a,d){this.set(a);this.app=d.app||{};this.model=function(a,f){var e=d.app.db.createModel("video");return d.app.db.createModel("video",
e.parse(a))}}});r.exports=d})()},{"../models/video":53,"./base":73,lodash:36}],65:[function(n,r,w){(function(){var d=n("./base"),a=n("./video"),k=n("./image");n("../helpers/BackboneLoader");var l=n("lodash"),d=d.extend({name:"page",urlRoot:function(){return this.app.config.baseUrl+"/pages"},defaults:{name:"Untitled",items:[],userId:"",isPublished:!1,errors:null},initialize:function(a,d){this.set(a);this.app=d.app||{}},validate:function(a,d){var k=[];a.name&&0!=a.name.length||k.push({attr:"name",message:"Page title cannot be empty"});
if(!a.id){var l=this.app.db.fetchCollection("pages").filter(function(d){return d.attributes.name.toLowerCase()===a.name.toLowerCase()});l&&0<l.length&&k.push({attr:"name",message:"Another page already exists with this name"})}if(k.length)return k},toJSON:function(){incoming=l.clone(this.attributes);incoming.items&&(incoming.itemList=JSON.stringify(incoming.items));return incoming},parse:function(a,d){try{a.items=JSON.parse(a.itemList),delete a.itemList}catch(k){a={errors:"Bad response from server: "+
k}}return a},getMedia:function(){return this.app.db.fetchCollection("pageMedia",{app:this.app,pageId:this.id})},addMedia:function(d,e){var n=this;filepicker.pickAndStore({extensions:n.app.config.videoExts.concat(n.app.config.imageExts),multiple:!0,signature:n.app.getUser().attributes.signature,policy:n.app.getUser().attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP"],debug:e?!0:!1},{location:"s3",path:n.app.getUser().attributes.path,access:"public"},function(u){"[object Array]"!==
Object.prototype.toString.call(u)&&(u=[u]);for(var p=l.clone(n.attributes.items),x=u.length,B=function(a,b,c,e){p.push({ID:a,NAME:b,TYPE:c,THUMB:"http://placehold.it/320x180"});x--;0===x&&(n.set("items",p),n.save(null,{success:function(){n.app.db.fetchCollection("unprocessedUploads").fetch();n.app.db.fetchCollection("pages").fetch();e();d(null,u)},error:d}))},b=0,c=u.length;b<c;b++)(function(b){var c,d,f={name:b.filename,fpkey:b.url,mimeType:b.mimetype,originalFilesize:b.size,userId:n.attributes.userId,
attribs:[],status:0};n.app.util.isVideo(b.filename)?(c=new a({},{app:n.app}),d="video"):n.app.util.isImage(b.filename)&&(c=new k({},{app:n.app}),d="image");c.set(f);e&&c.set("debug",!0);c.save(null,{success:function(a,b){B(a.attributes.id,a.attributes.name,d,e?e:function(){})},error:n.app.error})})(u[b])},function(a){d(a)})}});r.exports=d})()},{"../helpers/BackboneLoader":25,"./base":72,"./image":51,"./video":53,lodash:36}],63:[function(n,r,w){(function(){(function(){var d=this,a=d.Backbone,k=[],
l=k.push,f=k.slice,e=k.splice,v;v="undefined"!==typeof w?w:d.Backbone={};v.VERSION="1.0.0";var u=d._;u||"undefined"===typeof n||(u=n("underscore"));v.$=d.jQuery||d.Zepto||d.ender||d.$;v.noConflict=function(){d.Backbone=a;return this};v.emulateHTTP=!1;v.emulateJSON=!1;var p=v.Events={on:function(a,b,c){if(!B(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!B(this,
"once",a,[b,c])||!b)return this;var g=this,d=u.once(function(){g.off(a,d);b.apply(this,arguments)});d._callback=b;return this.on(a,d,c)},off:function(a,b,c){var g,d,e,f,m,k,l,p;if(!this._events||!B(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;f=a?[a]:u.keys(this._events);m=0;for(k=f.length;m<k;m++)if(a=f[m],e=this._events[a]){this._events[a]=g=[];if(b||c)for(l=0,p=e.length;l<p;l++)d=e[l],(b&&b!==d.callback&&b!==d.callback._callback||c&&c!==d.context)&&g.push(d);g.length||
delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var c=f.call(arguments,1);if(!B(this,"trigger",a,c))return this;var g=this._events[a],d=this._events.all;g&&b(g,c);d&&b(d,arguments);return this},stopListening:function(a,b,c){var g=this._listeners;if(!g)return this;var d=!b&&!c;"object"===typeof b&&(c=this);a&&((g={})[a._listenerId]=a);for(var e in g)g[e].off(b,c,this),d&&delete this._listeners[e];return this}},x=/\s+/,B=function(a,b,c,g){if(!c)return!0;if("object"===
typeof c){for(var d in c)a[b].apply(a,[d,c[d]].concat(g));return!1}if(x.test(c)){c=c.split(x);d=0;for(var e=c.length;d<e;d++)a[b].apply(a,[c[d]].concat(g));return!1}return!0},b=function(a,b){var c,g=-1,d=a.length,e=b[0],f=b[1],m=b[2];switch(b.length){case 0:for(;++g<d;)(c=a[g]).callback.call(c.ctx);break;case 1:for(;++g<d;)(c=a[g]).callback.call(c.ctx,e);break;case 2:for(;++g<d;)(c=a[g]).callback.call(c.ctx,e,f);break;case 3:for(;++g<d;)(c=a[g]).callback.call(c.ctx,e,f,m);break;default:for(;++g<d;)(c=
a[g]).callback.apply(c.ctx,b)}};u.each({listenTo:"on",listenToOnce:"once"},function(a,b){p[b]=function(b,c,g){var d=this._listeners||(this._listeners={}),e=b._listenerId||(b._listenerId=u.uniqueId("l"));d[e]=b;"object"===typeof c&&(g=this);b[a](c,g,this);return this}});p.bind=p.on;p.unbind=p.off;u.extend(v,p);var c=v.Model=function(a,b){var c,d=a||{};b||(b={});this.cid=u.uniqueId("c");this.attributes={};u.extend(this,u.pick(b,g));b.parse&&(d=this.parse(d,b)||{});if(c=u.result(this,"defaults"))d=u.defaults({},
d,c);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)},g=["url","urlRoot","collection"];u.extend(c.prototype,p,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return u.clone(this.attributes)},sync:function(){return v.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return u.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var g,d,e,f,m,k,l;if(null==a)return this;
"object"===typeof a?(d=a,c=b):(d={})[a]=b;c||(c={});if(!this._validate(d,c))return!1;e=c.unset;f=c.silent;a=[];m=this._changing;this._changing=!0;m||(this._previousAttributes=u.clone(this.attributes),this.changed={});l=this.attributes;k=this._previousAttributes;this.idAttribute in d&&(this.id=d[this.idAttribute]);for(g in d)b=d[g],u.isEqual(l[g],b)||a.push(g),u.isEqual(k[g],b)?delete this.changed[g]:this.changed[g]=b,e?delete l[g]:l[g]=b;if(!f)for(a.length&&(this._pending=!0),b=0,g=a.length;b<g;b++)this.trigger("change:"+
a[b],this,l[a[b]],c);if(m)return this;if(!f)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,u.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,u.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!u.isEmpty(this.changed):u.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?u.clone(this.changed):
!1;var b,c=!1,g=this._changing?this._previousAttributes:this.attributes,d;for(d in a)u.isEqual(g[d],b=a[d])||((c||(c={}))[d]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(a){a=a?u.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(g){if(!b.set(b.parse(g,a),a))return!1;c&&c(b,g,a);b.trigger("sync",b,g,a)};P(this,a);return this.sync("read",
this,a)},save:function(a,b,c){var g,d=this.attributes;null==a||"object"===typeof a?(g=a,c=b):(g={})[a]=b;if(g&&!(c&&c.wait||this.set(g,c)))return!1;c=u.extend({validate:!0},c);if(!this._validate(g,c))return!1;g&&c.wait&&(this.attributes=u.extend({},d,g));void 0===c.parse&&(c.parse=!0);var e=this,f=c.success;c.success=function(a){e.attributes=d;var b=e.parse(a,c);c.wait&&(b=u.extend(g||{},b));if(u.isObject(b)&&!e.set(b,c))return!1;f&&f(e,a,c);e.trigger("sync",e,a,c)};P(this,c);a=this.isNew()?"create":
c.patch?"patch":"update";"patch"===a&&(c.attrs=g);a=this.sync(a,this,c);g&&c.wait&&(this.attributes=d);return a},destroy:function(a){a=a?u.clone(a):{};var b=this,c=a.success,g=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(d){(a.wait||b.isNew())&&g();c&&c(b,d,a);b.isNew()||b.trigger("sync",b,d,a)};if(this.isNew())return a.success(),!1;P(this,a);var d=this.sync("delete",this,a);a.wait||g();return d},url:function(){var a=u.result(this,"urlRoot")||u.result(this.collection,"url")||
ea();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},u.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=u.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,u.extend(b||
{},{validationError:c}));return!1}});u.each("keys values pairs invert pick omit".split(" "),function(a){c.prototype[a]=function(){var b=f.call(arguments);b.unshift(this.attributes);return u[a].apply(u,b)}});var m=v.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,u.extend({silent:!0},b))},z={add:!0,remove:!0,merge:!0},C={add:!0,merge:!1,
remove:!1};u.extend(m.prototype,p,{model:c,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return v.sync.apply(this,arguments)},add:function(a,b){return this.set(a,u.defaults(b||{},C))},remove:function(a,b){a=u.isArray(a)?a.slice():[a];b||(b={});var c,g,d,e;c=0;for(g=a.length;c<g;c++)if(e=this.get(a[c]))delete this._byId[e.id],delete this._byId[e.cid],d=this.indexOf(e),this.models.splice(d,1),this.length--,b.silent||(b.index=d,e.trigger("remove",
e,this,b)),this._removeReference(e);return this},set:function(a,b){b=u.defaults(b||{},z);b.parse&&(a=this.parse(a,b));u.isArray(a)||(a=a?[a]:[]);var c,g,d,f,m,k=b.at,p=this.comparator&&null==k&&!1!==b.sort,C=u.isString(this.comparator)?this.comparator:null,n=[],s=[],v={};c=0;for(g=a.length;c<g;c++)if(d=this._prepareModel(a[c],b))(f=this.get(d))?(b.remove&&(v[f.cid]=!0),b.merge&&(f.set(d.attributes,b),p&&(!m&&f.hasChanged(C))&&(m=!0))):b.add&&(n.push(d),d.on("all",this._onModelEvent,this),this._byId[d.cid]=
d,null!=d.id&&(this._byId[d.id]=d));if(b.remove){c=0;for(g=this.length;c<g;++c)v[(d=this.models[c]).cid]||s.push(d);s.length&&this.remove(s,b)}n.length&&(p&&(m=!0),this.length+=n.length,null!=k?e.apply(this.models,[k,0].concat(n)):l.apply(this.models,n));m&&this.sort({silent:!0});if(b.silent)return this;c=0;for(g=n.length;c<g;c++)(d=n[c]).trigger("add",d,this,b);m&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var c=0,g=this.models.length;c<g;c++)this._removeReference(this.models[c]);
b.previousModels=this.models;this._reset();this.add(a,u.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,u.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,u.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},
get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return u.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});u.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,
this):this.models.sort(u.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var g=u.isFunction(b)?b:function(a){return a.get(b)};return u.sortedIndex(this.models,a,g,c)},pluck:function(a){return u.invoke(this.models,"get",a)},fetch:function(a){a=a?u.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(g){c[a.reset?"reset":"set"](g,a);b&&b(c,g,a);c.trigger("sync",c,g,a)};P(this,a);return this.sync("read",
this,a)},create:function(a,b){b=b?u.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,g=b.success;b.success=function(d){b.wait&&c.add(a,b);g&&g(a,d,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof c)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var g=new this.model(a,
b);return g._validate(a,b)?g:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,g){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,g),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});u.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),
function(a){m.prototype[a]=function(){var b=f.call(arguments);b.unshift(this.models);return u[a].apply(u,b)}});u.each(["groupBy","countBy","sortBy"],function(a){m.prototype[a]=function(b,c){var g=u.isFunction(b)?b:function(a){return a.get(b)};return u[a](this.models,g,c)}});var k=v.View=function(a){this.cid=u.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},A=/^(\S+)\s*(.*)$/,G="model collection el id attributes className tagName events".split(" ");
u.extend(k.prototype,p,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof v.$?a:v.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=u.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];u.isFunction(c)||
(c=this[a[b]]);if(c){var g=b.match(A),d=g[1],g=g[2],c=u.bind(c,this),d=d+(".delegateEvents"+this.cid);if(""===g)this.$el.on(d,c);else this.$el.on(d,g,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=u.extend({},u.result(this,"options"),a));u.extend(this,u.pick(a,G));this.options=a},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"),!1);else{var a=u.extend({},u.result(this,"attributes"));
this.id&&(a.id=u.result(this,"id"));this.className&&(a["class"]=u.result(this,"className"));a=v.$("<"+u.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});v.sync=function(a,b,c){var g=F[a];u.defaults(c||(c={}),{emulateHTTP:v.emulateHTTP,emulateJSON:v.emulateJSON});var d={type:g,dataType:"json"};c.url||(d.url=u.result(b,"url")||ea());null!=c.data||(!b||"create"!==a&&"update"!==a&&"patch"!==a)||(d.contentType="application/json",d.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&
(d.contentType="application/x-www-form-urlencoded",d.data=d.data?{model:d.data}:{});if(c.emulateHTTP&&("PUT"===g||"DELETE"===g||"PATCH"===g)){d.type="POST";c.emulateJSON&&(d.data._method=g);var e=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",g);if(e)return e.apply(this,arguments)}}"GET"===d.type||c.emulateJSON||(d.processData=!1);"PATCH"!==d.type||(!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled)||(d.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});
a=c.xhr=v.ajax(u.extend(d,c));b.trigger("request",b,a,c);return a};var F={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};v.ajax=function(){return v.$.ajax.apply(v.$,arguments)};var r=v.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},s=/\((.*?)\)/g,J=/(\(\?)?:\w+/g,Aa=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(r.prototype,p,{initialize:function(){},route:function(a,b,c){u.isRegExp(a)||(a=this._routeToRegExp(a));
u.isFunction(b)&&(c=b,b="");c||(c=this[b]);var g=this;v.history.route(a,function(d){d=g._extractParameters(a,d);c&&c.apply(g,d);g.trigger.apply(g,["route:"+b].concat(d));g.trigger("route",b,d);v.history.trigger("route",g,b,d)});return this},navigate:function(a,b){v.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=u.result(this,"routes");for(var a,b=u.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(L,"\\$&").replace(s,
"(?:$1)?").replace(J,function(a,b){return b?a:"([^/]+)"}).replace(Aa,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return u.map(c,function(a){return a?decodeURIComponent(a):null})}});var E=v.History=function(){this.handlers=[];u.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,ka=/^\/+|\/+$/g,T=/msie [\w.]+/,V=/\/$/;E.started=!1;u.extend(E.prototype,p,{interval:50,getHash:function(a){return(a=
(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(V,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(D,"")},start:function(a){if(E.started)throw Error("Backbone.history has already been started");E.started=!0;this.options=u.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;
this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=T.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(ka,"/");b&&this._wantsHashChange&&(this.iframe=v.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)v.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&
"onhashchange"in window&&!b)v.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=
this.getHash().replace(D,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){v.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return u.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!E.started)return!1;b&&!0!==b||(b={trigger:b});a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});v.history=new E;c.extend=m.extend=r.extend=k.extend=E.extend=function(a,b){var c=this,g;g=a&&u.has(a,"constructor")?a.constructor:function(){return c.apply(this,
arguments)};u.extend(g,c,b);var d=function(){this.constructor=g};d.prototype=c.prototype;g.prototype=new d;a&&u.extend(g.prototype,a);g.__super__=c.prototype;return g};var ea=function(){throw Error('A "url" property or function must be specified');},P=function(a,b){var c=b.error;b.error=function(g){c&&c(a,g,b);a.trigger("error",a,g,b)}}}).call(this)})()},{underscore:78}],78:[function(n,r,w){(function(){(function(){var d=this,a=d._,k={},l=Array.prototype,f=Object.prototype,e=l.push,n=l.slice,u=l.concat,
p=f.toString,x=f.hasOwnProperty,B=l.forEach,b=l.map,c=l.reduce,g=l.reduceRight,m=l.filter,z=l.every,C=l.some,A=l.indexOf,G=l.lastIndexOf,f=Array.isArray,F=Object.keys,I=Function.prototype.bind,s=function(a){if(a instanceof s)return a;if(!(this instanceof s))return new s(a);this._wrapped=a};"undefined"!==typeof w?("undefined"!==typeof r&&r.exports&&(w=r.exports=s),w._=s):d._=s;s.VERSION="1.5.1";var J=s.each=s.forEach=function(a,b,c){if(null!=a)if(B&&a.forEach===B)a.forEach(b,c);else if(a.length===
+a.length)for(var g=0,d=a.length;g<d&&b.call(c,a[g],g,a)!==k;g++);else for(g in a)if(s.has(a,g)&&b.call(c,a[g],g,a)===k)break};s.map=s.collect=function(a,c,g){var d=[];if(null==a)return d;if(b&&a.map===b)return a.map(c,g);J(a,function(a,b,e){d.push(c.call(g,a,b,e))});return d};s.reduce=s.foldl=s.inject=function(a,b,g,d){var e=2<arguments.length;null==a&&(a=[]);if(c&&a.reduce===c)return d&&(b=s.bind(b,d)),e?a.reduce(b,g):a.reduce(b);J(a,function(a,c,f){e?g=b.call(d,g,a,c,f):(g=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");
return g};s.reduceRight=s.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(g&&a.reduceRight===g)return d&&(b=s.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f)var m=s.keys(a),f=m.length;J(a,function(g,k,l){k=m?m[--f]:--f;e?c=b.call(d,c,a[k],k,l):(c=a[k],e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};s.find=s.detect=function(a,b,c){var g;Aa(a,function(a,d,e){if(b.call(c,a,d,e))return g=a,!0});return g};s.filter=
s.select=function(a,b,c){var g=[];if(null==a)return g;if(m&&a.filter===m)return a.filter(b,c);J(a,function(a,d,e){b.call(c,a,d,e)&&g.push(a)});return g};s.reject=function(a,b,c){return s.filter(a,function(a,g,d){return!b.call(c,a,g,d)},c)};s.every=s.all=function(a,b,c){b||(b=s.identity);var g=!0;if(null==a)return g;if(z&&a.every===z)return a.every(b,c);J(a,function(a,d,e){if(!(g=g&&b.call(c,a,d,e)))return k});return!!g};var Aa=s.some=s.any=function(a,b,c){b||(b=s.identity);var g=!1;if(null==a)return g;
if(C&&a.some===C)return a.some(b,c);J(a,function(a,d,e){if(g||(g=b.call(c,a,d,e)))return k});return!!g};s.contains=s.include=function(a,b){return null==a?!1:A&&a.indexOf===A?-1!=a.indexOf(b):Aa(a,function(a){return a===b})};s.invoke=function(a,b){var c=n.call(arguments,2),g=s.isFunction(b);return s.map(a,function(a){return(g?b:a[b]).apply(a,c)})};s.pluck=function(a,b){return s.map(a,function(a){return a[b]})};s.where=function(a,b,c){return s.isEmpty(b)?c?void 0:[]:s[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==
a[c])return!1;return!0})};s.findWhere=function(a,b){return s.where(a,b,!0)};s.max=function(a,b,c){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&s.isEmpty(a))return-Infinity;var g={computed:-Infinity,value:-Infinity};J(a,function(a,d,e){d=b?b.call(c,a,d,e):a;d>g.computed&&(g={value:a,computed:d})});return g.value};s.min=function(a,b,c){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&s.isEmpty(a))return Infinity;var g={computed:Infinity,
value:Infinity};J(a,function(a,d,e){d=b?b.call(c,a,d,e):a;d<g.computed&&(g={value:a,computed:d})});return g.value};s.shuffle=function(a){var b,c=0,g=[];J(a,function(a){b=s.random(c++);g[c-1]=g[b];g[b]=a});return g};var L=function(a){return s.isFunction(a)?a:function(b){return b[a]}};s.sortBy=function(a,b,c){var g=L(b);return s.pluck(s.map(a,function(a,b,d){return{value:a,index:b,criteria:g.call(c,a,b,d)}}).sort(function(a,b){var c=a.criteria,g=b.criteria;if(c!==g){if(c>g||void 0===c)return 1;if(c<
g||void 0===g)return-1}return a.index<b.index?-1:1}),"value")};var E=function(a,b,c,g){var d={},e=L(null==b?s.identity:b);J(a,function(b,f){var m=e.call(c,b,f,a);g(d,m,b)});return d};s.groupBy=function(a,b,c){return E(a,b,c,function(a,b,c){(s.has(a,b)?a[b]:a[b]=[]).push(c)})};s.countBy=function(a,b,c){return E(a,b,c,function(a,b){s.has(a,b)||(a[b]=0);a[b]++})};s.sortedIndex=function(a,b,c,g){c=null==c?s.identity:L(c);b=c.call(g,b);for(var d=0,e=a.length;d<e;){var f=d+e>>>1;c.call(g,a[f])<b?d=f+1:
e=f}return d};s.toArray=function(a){return a?s.isArray(a)?n.call(a):a.length===+a.length?s.map(a,s.identity):s.values(a):[]};s.size=function(a){return null==a?0:a.length===+a.length?a.length:s.keys(a).length};s.first=s.head=s.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:n.call(a,0,b)};s.initial=function(a,b,c){return n.call(a,0,a.length-(null==b||c?1:b))};s.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:n.call(a,Math.max(a.length-b,0))};s.rest=s.tail=s.drop=function(a,
b,c){return n.call(a,null==b||c?1:b)};s.compact=function(a){return s.filter(a,s.identity)};var D=function(a,b,c){if(b&&s.every(a,s.isArray))return u.apply(c,a);J(a,function(a){s.isArray(a)||s.isArguments(a)?b?e.apply(c,a):D(a,b,c):c.push(a)});return c};s.flatten=function(a,b){return D(a,b,[])};s.without=function(a){return s.difference(a,n.call(arguments,1))};s.uniq=s.unique=function(a,b,c,g){s.isFunction(b)&&(g=c,c=b,b=!1);c=c?s.map(a,c,g):a;var d=[],e=[];J(c,function(c,g){(b?g&&e[e.length-1]===c:
s.contains(e,c))||(e.push(c),d.push(a[g]))});return d};s.union=function(){return s.uniq(s.flatten(arguments,!0))};s.intersection=function(a){var b=n.call(arguments,1);return s.filter(s.uniq(a),function(a){return s.every(b,function(b){return 0<=s.indexOf(b,a)})})};s.difference=function(a){var b=u.apply(l,n.call(arguments,1));return s.filter(a,function(a){return!s.contains(b,a)})};s.zip=function(){for(var a=s.max(s.pluck(arguments,"length").concat(0)),b=Array(a),c=0;c<a;c++)b[c]=s.pluck(arguments,""+
c);return b};s.object=function(a,b){if(null==a)return{};for(var c={},g=0,d=a.length;g<d;g++)b?c[a[g]]=b[g]:c[a[g][0]]=a[g][1];return c};s.indexOf=function(a,b,c){if(null==a)return-1;var g=0,d=a.length;if(c)if("number"==typeof c)g=0>c?Math.max(0,d+c):c;else return g=s.sortedIndex(a,b),a[g]===b?g:-1;if(A&&a.indexOf===A)return a.indexOf(b,c);for(;g<d;g++)if(a[g]===b)return g;return-1};s.lastIndexOf=function(a,b,c){if(null==a)return-1;var g=null!=c;if(G&&a.lastIndexOf===G)return g?a.lastIndexOf(b,c):
a.lastIndexOf(b);for(c=g?c:a.length;c--;)if(a[c]===b)return c;return-1};s.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var g=Math.max(Math.ceil((b-a)/c),0),d=0,e=Array(g);d<g;)e[d++]=a,a+=c;return e};var ka=function(){};s.bind=function(a,b){var c,g;if(I&&a.bind===I)return I.apply(a,n.call(arguments,1));if(!s.isFunction(a))throw new TypeError;c=n.call(arguments,2);return g=function(){if(!(this instanceof g))return a.apply(b,c.concat(n.call(arguments)));ka.prototype=
a.prototype;var d=new ka;ka.prototype=null;var e=a.apply(d,c.concat(n.call(arguments)));return Object(e)===e?e:d}};s.partial=function(a){var b=n.call(arguments,1);return function(){return a.apply(this,b.concat(n.call(arguments)))}};s.bindAll=function(a){var b=n.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");J(b,function(b){a[b]=s.bind(a[b],a)});return a};s.memoize=function(a,b){var c={};b||(b=s.identity);return function(){var g=b.apply(this,arguments);return s.has(c,
g)?c[g]:c[g]=a.apply(this,arguments)}};s.delay=function(a,b){var c=n.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};s.defer=function(a){return s.delay.apply(s,[a,1].concat(n.call(arguments,1)))};s.throttle=function(a,b,c){var g,d,e,f=null,m=0;c||(c={});var k=function(){m=!1===c.leading?0:new Date;f=null;e=a.apply(g,d)};return function(){var l=new Date;m||!1!==c.leading||(m=l);var p=b-(l-m);g=this;d=arguments;0>=p?(clearTimeout(f),f=null,m=l,e=a.apply(g,d)):f||!1===c.trailing||
(f=setTimeout(k,p));return e}};s.debounce=function(a,b,c){var g,d=null;return function(){var e=this,f=arguments,m=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(g=a.apply(e,f))},b);m&&(g=a.apply(e,f));return g}};s.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};s.wrap=function(a,b){return function(){var c=[a];e.apply(c,arguments);return b.apply(this,c)}};s.compose=function(){var a=arguments;return function(){for(var b=arguments,
c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};s.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};s.keys=F||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)s.has(a,c)&&b.push(c);return b};s.values=function(a){var b=[],c;for(c in a)s.has(a,c)&&b.push(a[c]);return b};s.pairs=function(a){var b=[],c;for(c in a)s.has(a,c)&&b.push([c,a[c]]);return b};s.invert=function(a){var b={},c;for(c in a)s.has(a,c)&&(b[a[c]]=c);return b};
s.functions=s.methods=function(a){var b=[],c;for(c in a)s.isFunction(a[c])&&b.push(c);return b.sort()};s.extend=function(a){J(n.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};s.pick=function(a){var b={},c=u.apply(l,n.call(arguments,1));J(c,function(c){c in a&&(b[c]=a[c])});return b};s.omit=function(a){var b={},c=u.apply(l,n.call(arguments,1)),g;for(g in a)s.contains(c,g)||(b[g]=a[g]);return b};s.defaults=function(a){J(n.call(arguments,1),function(b){if(b)for(var c in b)void 0===
a[c]&&(a[c]=b[c])});return a};s.clone=function(a){return s.isObject(a)?s.isArray(a)?a.slice():s.extend({},a):a};s.tap=function(a,b){b(a);return a};var T=function(a,b,c,g){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof s&&(a=a._wrapped);b instanceof s&&(b=b._wrapped);var d=p.call(a);if(d!=p.call(b))return!1;switch(d){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==
+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var e=c.length;e--;)if(c[e]==a)return g[e]==b;var e=a.constructor,f=b.constructor;if(e!==f&&!(s.isFunction(e)&&e instanceof e&&s.isFunction(f)&&f instanceof f))return!1;c.push(a);g.push(b);e=0;f=!0;if("[object Array]"==d){if(e=a.length,f=e==b.length)for(;e--&&(f=T(a[e],b[e],c,g)););}else{for(var m in a)if(s.has(a,m)&&(e++,
!(f=s.has(b,m)&&T(a[m],b[m],c,g))))break;if(f){for(m in b)if(s.has(b,m)&&!e--)break;f=!e}}c.pop();g.pop();return f};s.isEqual=function(a,b){return T(a,b,[],[])};s.isEmpty=function(a){if(null==a)return!0;if(s.isArray(a)||s.isString(a))return 0===a.length;for(var b in a)if(s.has(a,b))return!1;return!0};s.isElement=function(a){return!(!a||1!==a.nodeType)};s.isArray=f||function(a){return"[object Array]"==p.call(a)};s.isObject=function(a){return a===Object(a)};J("Arguments Function String Number Date RegExp".split(" "),
function(a){s["is"+a]=function(b){return p.call(b)=="[object "+a+"]"}});s.isArguments(arguments)||(s.isArguments=function(a){return!(!a||!s.has(a,"callee"))});"function"!==typeof/./&&(s.isFunction=function(a){return"function"===typeof a});s.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};s.isNaN=function(a){return s.isNumber(a)&&a!=+a};s.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==p.call(a)};s.isNull=function(a){return null===a};s.isUndefined=function(a){return void 0===
a};s.has=function(a,b){return x.call(a,b)};s.noConflict=function(){d._=a;return this};s.identity=function(a){return a};s.times=function(a,b,c){for(var g=Array(Math.max(0,a)),d=0;d<a;d++)g[d]=b.call(c,d);return g};s.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var V={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};V.unescape=s.invert(V.escape);var ea={escape:RegExp("["+s.keys(V.escape).join("")+"]","g"),unescape:RegExp("("+s.keys(V.unescape).join("|")+
")","g")};s.each(["escape","unescape"],function(a){s[a]=function(b){return null==b?"":(""+b).replace(ea[a],function(b){return V[a][b]})}});s.result=function(a,b){if(null!=a){var c=a[b];return s.isFunction(c)?c.call(a):c}};s.mixin=function(a){J(s.functions(a),function(b){var c=s[b]=a[b];s.prototype[b]=function(){var a=[this._wrapped];e.apply(a,arguments);a=c.apply(s,a);return this._chain?s(a).chain():a}})};var P=0;s.uniqueId=function(a){var b=++P+"";return a?a+b:b};s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,aa={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},fa=/\\|'|\r|\n|\t|\u2028|\u2029/g;s.template=function(a,b,c){var g;c=s.defaults({},c,s.templateSettings);var d=RegExp([(c.escape||K).source,(c.interpolate||K).source,(c.evaluate||K).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,g,d,m){f+=a.slice(e,m).replace(fa,function(a){return"\\"+aa[a]});c&&(f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");
g&&(f+="'+\n((__t=("+g+"))==null?'':__t)+\n'");d&&(f+="';\n"+d+"\n__p+='");e=m+b.length;return b});f+="';\n";c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{g=new Function(c.variable||"obj","_",f)}catch(m){throw m.source=f,m;}if(b)return g(b,s);b=function(a){return g.call(this,a,s)};b.source="function("+(c.variable||"obj")+"){\n"+f+"}";return b};s.chain=function(a){return s(a).chain()};s.mixin(s);
J("pop push reverse shift sort splice unshift".split(" "),function(a){var b=l[a];s.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);"shift"!=a&&"splice"!=a||0!==c.length||delete c[0];return this._chain?s(c).chain():c}});J(["concat","join","slice"],function(a){var b=l[a];s.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?s(a).chain():a}});s.extend(s.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this)})()},
{}],38:[function(n,r,w){(function(){var d=n("../../base"),a=n("../../layout/navbar.js"),k=n("../../layout/footer.js"),l=n("lodash"),f=n("../../../helpers/BackboneLoader"),d=d.extend({template:n("../../../templates/routes/pages/create.hbs"),events:{submit:"performSave","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.model=this.app.db.createModel("page");this.listenTo(this.model,"invalid",function(a,d){this.app.error(this.model,d)},this);this.listenTo(this.app.getUser(),"change",
this.render,this);this.toggleContact=l.bind(this.toggleContact,this)},remove:function(){this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact);f.View.prototype.remove.apply(this,arguments)},afterRender:function(){var d;d=new a({app:this.app});var f=new k({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(f,this.$("#footer"));this.eachSubview(function(a){a.render()});d=this.$("input[name=name]");""==d.val().replace(/]w/,"")&&d.val("").focus();
this.$(".switch").bootstrapSwitch();this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact)},context:function(){var a=this.app.getCustomization();return a&&a.attributes&&a.attributes.config?(a=a.attributes.config,this.getContext({showContact:a.showContact?a.showContact.value:!1})):this.getContext({showContact:!1})},performSave:function(a){var d=this;a.preventDefault();var f=this.$("input[name=name]").val();d.model.save({userId:d.app.getUser().id,name:f,priority:d.app.db.fetchCollection("pages").length},
{success:function(){d.app.db.fetchCollection("pages").add(d.model);d.app.navigate("page/"+f,{trigger:!0})},error:d.app.error})},toggleContact:function(a){var d=this,f=this.$("input[name=showContact]").parent().hasClass("switch-on"),k=this.app.getCustomization(),l=k.attributes.config;a.stopPropagation();a.preventDefault();this.app.setFlash("info","Turning contact page "+(f?"on":"off")+"...");l.showContact||(l.showContact={type:"boolean",name:"Show Contact Page","default":!1});l.showContact.value=f;
k.set("config",l);k.save({},{success:function(){d.app.setFlash("success","Your contact page has been turned "+(f?"on":"off"));d.render()},error:d.app.error})}});r.exports=d})()},{"../../../helpers/BackboneLoader":25,"../../../templates/routes/pages/create.hbs":79,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46,lodash:36}],40:[function(n,r,w){(function(){var d=n("../../base"),a=n("lodash"),k=n("../../layout/navbar.js"),l=n("../../layout/footer.js"),f=n("../../../helpers/lib/holder.js"),
d=d.extend({template:n("../../../templates/routes/media/pick.hbs"),events:{"click .reelgrid a":"appendMedia"},initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});this.images=this.app.db.fetchCollection("images");this.videos=this.app.db.fetchCollection("videos");var d=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);this.listenTo(this.images,"add remove change sort",this.render,this);this.listenTo(this.videos,
"add remove change sort",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);d.once("ready",function(){var f=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});f?this.page.set(f.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var a=new k({app:this.app}),d=new l({app:this.app});this.appendSubview(a,this.$("#header"));this.appendSubview(d,this.$("#footer"));
this.eachSubview(function(a){a.render()});f.run()},context:function(){var a=[],d=encodeURIComponent(this.page.attributes.name);this.images&&this.images.forEach(function(f){a.push(f.templateVars(d))});this.videos&&this.videos.forEach(function(f){a.push(f.templateVars(d))});return this.getContext({media:a,page:this.page.attributes,uploadUrl:"page/"+d+"/addMedia"})},appendMedia:function(d){d.preventDefault();d.stopPropagation();var f=this,k=f.page.attributes?encodeURIComponent(f.page.attributes.name):
"undefined",l;d=d.target;for(var n;"a"!=d.tagName.toLowerCase();)d=d.parentElement;d=$(d);f.app.setFlash("info","Adding to page...");n=this.app.db.fetchModel(d.attr("data-media-type"),d.attr("data-media-id"));n.once("ready",function(){f.page?(l=a.clone(f.page.attributes.items),l.push({ID:n.id,NAME:n.attributes.name,TYPE:n.attributes.type.toLowerCase(),THUMB:n.templateVars().thumbnailUrl}),f.page.save({items:l},{success:function(){f.app.navigate("page/"+k,{trigger:!0});f.app.setFlash("success","Added!")},
error:f.app.error})):f.app.error("Please wait for the page to load before picking a media file")})}});r.exports=d})()},{"../../../helpers/lib/holder.js":61,"../../../templates/routes/media/pick.hbs":80,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46,lodash:36}],44:[function(n,r,w){(function(){var d=n("../../base"),a=n("lodash"),k=n("../../layout/navbar.js"),l=n("../../layout/footer.js"),f=n("../../routes/media/thumb.js"),d=d.extend({template:n("../../../templates/routes/media/edit.hbs"),
events:{submit:"performSave","click a.btn-danger":"performDelete","click a.upload":"performPick","click a.crop":"performCrop","click a.capture":"performCapture","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.mediaType=a.mediaType;this.mediaId=a.mediaId;this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.media,"invalid",function(){this.app.error(this.media.validationError)},
this);this.renderOnReady(this.media)},afterRender:function(){var d=new k({app:this.app}),n=new f({app:this.app,mediaType:this.mediaType,mediaId:this.mediaId}),u=new l({app:this.app});this.appendSubview(d,this.$("#header"));this.media.attributes&&2===this.media.attributes.status&&this.appendSubview(n,this.$("#thumber"));this.appendSubview(u,this.$("#footer"));this.eachSubview(function(a){a.render()});a.defer(function(){this.$("div.tagsinput").remove();this.$("input[name=attribs]").tagsInput();this.$("label span").popover({placement:"right",
trigger:"hover",html:!0})},this);this.$("#useOriginalButton").button("reset");this.$("#useCaptureButton").button("reset")},context:function(){return this.getContext({media:this.media.templateVars(),isEncoded:2===this.media.attributes.status})},performSave:function(a){var d=this;a.preventDefault();a=this.$("input[name=name]").val();var f=this.$("input[name=attribs]").val().split(",");this.app.clearFlash();this.media.save({userId:d.app.getUser().attributes.id,name:a,attribs:f},{success:function(){d.app.db.fetchCollection("unprocessedUploads").fetch({success:function(){var a=
d.media.attributes.type.charAt(0).toUpperCase(),a=a+d.media.attributes.type.substr(1);d.app.setFlash("success",a+" Saved!")},error:d.app.error})},error:d.app.error})},performDelete:function(a){a.preventDefault();a.stopPropagation();var d=this;if(confirm("Are you sure you want to delete "+d.media.attributes.name+"?"))filepicker.remove(d.media.fpfile(),{policy:d.app.getUser().attributes.policy,signature:d.app.getUser().attributes.signature},function(){d.media.destroy({success:function(){d.app.navigate("",
{trigger:!0})},error:d.app.error})},d.app.error);else return!1},performPick:function(a){a.preventDefault();a.stopPropagation();this.app.clearFlash();this.media.pickThumbnail()},performCrop:function(a){a.preventDefault();a.stopPropagation();this.app.clearFlash();this.app.trigger("captureThumbnail");this.$("#useOriginalButton").button("loading")},performCapture:function(a){a.preventDefault();a.stopPropagation();this.app.clearFlash();this.app.trigger("captureThumbnail");this.$("#useCaptureButton").button("loading")}});
r.exports=d})()},{"../../../templates/routes/media/edit.hbs":81,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46,"../../routes/media/thumb.js":76,lodash:36}],42:[function(n,r,w){(function(){var d=n("async"),a=n("../../base"),k=n("../../layout/navbar.js"),l=n("../../layout/footer.js"),a=a.extend({template:n("../../../templates/routes/pages/reorder.hbs"),events:{submit:"performSave"},initialize:function(a){this.app=a.app;this.pages=this.app.db.fetchCollection("pages");this.renderOnReady(this.pages)},
context:function(){var a=this.pages.map(function(a){return a.attributes});return this.getContext({pages:a})},afterRender:function(){var a=new k({app:this.app}),d=new l({app:this.app});this.appendSubview(a,this.$("#header"));this.appendSubview(d,this.$("#footer"));this.eachSubview(function(a){a.render()});this.$(".sortable").sortable().bind("sortupdate",function(){})},readSortOrder:function(){var a=this,e=[],k=[];a.$(".sortable").children().each(function(d,l){var n=a.pages.get($(l).attr("data-uuid"));
n.set("priority",d);e.push(n);k.push(function(a){n.save({},{success:a})})});a.pages.reset(e).sort();d.parallel(k,function(){a.app.setFlash("success","Page order saved!");a.$("button").button("reset")})},performSave:function(a){a&&(a.preventDefault(),a.stopPropagation());this.app.clearFlash();this.$("button").button("loading");this.readSortOrder()}});r.exports=a})()},{"../../../templates/routes/pages/reorder.hbs":82,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46,async:83}],
43:[function(n,r,w){(function(){var d=n("../../base"),a=n("lodash"),k=n("js-thumb"),l=n("./carousel");n("videojs");d=d.extend({template:n("../../../templates/routes/media/show.hbs"),events:{},initialize:function(a){this.app=a.app;this.pageName=a.pageName;this.mediaType=a.mediaType;this.mediaId=a.mediaId;var d=this.app.db.fetchCollection("pages");this.page=this.app.db.fetchModel("page",a.mediaId);this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.page.id&&this.page.fetch();this.media.id&&
this.media.fetch();this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);this.listenTo(this.media,"change",this.render,this);window.onresize=function(){k.resizeVideos()};d.once("ready",function(){var k=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});k?this.page.set(k.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var d=this,
e=this.media.templateVars(),n=new l({app:this.app,pageName:this.pageName}),u=function(a,e,k){if(a)d.app.error(a);else k.on("ended",function(){d.app.trigger("videoEnded",d.media)})};this.appendSubview(n,this.$("#carouselWrapper"));this.eachSubview(function(a){a.render()});a.defer(function(){d.media&&(d.media.attributes&&"video"===d.media.attributes.type.toLowerCase()&&2===d.media.attributes.status)&&k.loadVideo(d.$("#vid_placeholder")[0],{vjs:{autoplay:!0},attributes:{resize:!0},sources:[{src:e.hdUrl,
type:d.app.util.mime("video/mp4")}]},u)})},context:function(){return this.getContext({media:this.media.templateVars()})}});r.exports=d})()},{"../../../templates/routes/media/show.hbs":84,"../../base":49,"./carousel":85,"js-thumb":87,lodash:36,videojs:86}],49:[function(n,r,w){(function(){var d=n("ribcage-view"),a=n("lodash"),d=d.extend({renderOnReady:function(){var d=Array.prototype.slice.call(arguments),l=this,f=d.length,e=function(){f--;0>f&&l.render()};a.each(d,function(a){a.once("ready",e,a)});
e()},getContext:function(d){d=d||{};var l={isLoggedIn:this.app.isLoggedIn(),flash:a.clone(this.app.flash),debug:this.app.bootstrap.debug?!0:!1},f=this.app.getUserVars();return a.extend({},f,l,d)},context:function(){return this.getContext()},handleAppLink:function(a){this.app.handleAppLink(a)},events:{"click a.app":"handleAppLink"},beforeRender:function(){this.eachSubview(function(a){a.close()});this.$el.empty()}});r.exports=d})()},{lodash:36,"ribcage-view":88}],52:[function(n,r,w){(function(){(function(){var d=
n("./base"),a=n("backbone"),k=n("lodash"),d=d.extend({name:"media",urlRoot:function(){return this.app.config.baseUrl+"/Media_is_an_abstract_class_do_not_use_it"},defaults:{name:"Untitled",s3key:null,fpkey:null,mimeType:null,originalFilesize:null,userId:null,thumbnailS3key:null,thumbnailFpkey:null,attribs:[],reviewIssue:null,status:0,type:"unknown"},validate:function(a,d){var e=[];a.name&&0!=a.name.length||e.push({attr:"name",message:"Media name cannot be empty"});if(e.length)return e},toJSON:function(){incoming=
k.clone(this.attributes);incoming.attribs&&(incoming.userAttributes=JSON.stringify(incoming.attribs));return incoming},sync:function(d,f,e){var k=this,n=function(){!f.attributes.thumbnailS3key&&f.attributes.thumbnailFpkey&&!0!==f.attributes.debug?filepicker.stat(k.thumbnailFpfile(),{path:!0,policy:k.app.db.fetchModel("user").attributes.policy,signature:k.app.db.fetchModel("user").attributes.signature},function(k){f.set("thumbnailS3key",k.path);a.sync(d,f,e)}):a.sync(d,f,e)};!f.attributes.s3key&&f.attributes.fpkey&&
!0!==f.attributes.debug?filepicker.stat(k.fpfile(),{path:!0,policy:k.app.db.fetchModel("user").attributes.policy,signature:k.app.db.fetchModel("user").attributes.signature},function(a){f.set("s3key",a.path);n()}):n()},destroy:function(d){var f=this;if(1===this.attributes.status)f.app.setFlash("error","Please wait until encoding is finished to delete this");else{if(d.success){var e=d.success;d.success=function(){f.app.db.fetchCollection("unprocessedUploads").fetch();f.app.db.fetchCollection("images").fetch();
f.app.db.fetchCollection("videos").fetch();e&&e()}}a.sync("delete",this,d)}},parse:function(a,d){try{a.attribs=JSON.parse(a.userAttributes)}catch(e){a.attribs=[]}finally{delete a.userAttributes}return a},pickThumbnail:function(){var a=this;filepicker.pick({extensions:a.app.config.imageExts,path:a.app.db.fetchModel("user").attributes.path,signature:a.app.db.fetchModel("user").attributes.signature,policy:a.app.db.fetchModel("user").attributes.policy,services:"COMPUTER DROPBOX FLICKR GOOGLE_DRIVE FTP URL IMAGE_SEARCH".split(" ")},
function(d){a.cropThumbnail(d)},function(d){101!==d.code&&a.app.error(d)})},cropThumbnail:function(a){var d=this;a||(a=d.fpfile());d.app.setFlash("info","Please wait while we process the image...");filepicker.convert(a,{signature:d.app.db.fetchModel("user").attributes.signature,policy:d.app.db.fetchModel("user").attributes.policy,width:d.app.config.thumbnailDims.width,height:d.app.config.thumbnailDims.height,fit:"crop"},{path:d.app.getUser().attributes.path,location:"s3",access:"public"},function(a){d.save({thumbnailFpkey:a.url,
thumbnailS3key:null},{success:function(){d.app.setFlash("success","Thumbnail saved!");d.app.db.fetchCollection("unprocessedUploads").fetch()},error:d.app.error})},function(a){d.app.error(a)})},useThumbnail:function(a){var d=this;d.app.setFlash("info","Please wait while we process the image...");filepicker.store(a,{signature:d.app.getUser().attributes.signature,policy:d.app.getUser().attributes.policy,mimetype:"image/png",base64decode:!0,path:d.app.getUser().attributes.path,location:"s3",access:"public"},
function(a){d.save({thumbnailFpkey:a.url,thumbnailS3key:null},{success:function(){d.app.setFlash("success","Thumbnail saved!");d.app.db.fetchCollection("unprocessedUploads").fetch()},error:d.app.error})},function(a){d.app.error(a)})},fpfile:function(){return{url:this.attributes.fpkey,filename:this.attributes.name,mimetype:this.attributes.mimeType,isWriteable:!1,size:this.attributes.originalFilesize}},thumbnailFpfile:function(){return{url:this.attributes.thumbnailFpkey}},templateVars:function(a,d){var e=
k.clone(this.attributes);d=!0===d;e.s3key?e.url=this.app.config.s3prefix+e.s3key:e.thumbnailUrl=this.app.util.placeholderThumbnail(d);e.thumbnailUrl=e.thumbnailS3key?this.app.config.s3prefix+e.thumbnailS3key:this.app.util.placeholderThumbnail(d);e.isImage="image"===e.type.toLowerCase();e.isVideo="video"===e.type.toLowerCase();e.isVideo&&1===e.status&&(e.thumbnailUrl=d?this.app.config.placeholders.encoding.half:this.app.config.placeholders.encoding.full);e.attribs=k.map(e.attribs,function(a){return a.replace(/^(.*:)/,
"<strong>$1</strong>")});this.app.isLoggedIn()&&(e.editHref="/media/"+e.type.toLowerCase()+"/"+e.id+"/edit");a&&(e.playerUrl="page/"+a+"/"+e.type.toLowerCase()+"/"+e.id);switch(e.status){case 1:e.reviewIssue="Encoding in progress";break;case 2:e.reviewIssue="Encoding completed";e.hdUrl=e.url+"/hd.mp4";e.sdUrl=e.url+"/sd.mp4";break;case 3:e.reviewIssue="Encoding failed"}e.isEncoding=1===e.status;return e}});r.exports=d})()})()},{"./base":72,backbone:63,lodash:36}],86:[function(n,r,w){(function(){(function(){function d(a){return function(){throw Error('The "'+
a+"\" method is not available on the playback technology's API");}}document.createElement("video");document.createElement("audio");var a=function(b,c,d){if("string"===typeof b){0===b.indexOf("#")&&(b=b.slice(1));if(a.players[b])return a.players[b];b=a.el(b)}if(!b||!b.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return b.player||new a.Player(b,c,d)},k=a;a.CDN_VERSION="4.0";a.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://";a.options={techOrder:["html5",
"flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};"GENERATED_CDN_VSN"!==a.CDN_VERSION&&(k.options.flash.swf=a.ACCESS_PROTOCOL+"vjs.zencdn.net/"+a.CDN_VERSION+"/video-js.swf");a.players={};a.CoreObject=a.CoreObject=function(){};a.CoreObject.extend=function(b){var c,d;b=b||{};c=b.init||b.init||this.prototype.init||this.prototype.init||function(){};d=function(){c.apply(this,arguments)};
d.prototype=a.obj.create(this.prototype);d.prototype.constructor=d;d.extend=a.CoreObject.extend;d.create=a.CoreObject.create;for(var e in b)b.hasOwnProperty(e)&&(d.prototype[e]=b[e]);return d};a.CoreObject.create=function(){var b=a.obj.create(this.prototype);this.apply(b,arguments);return b};a.on=function(b,c,d){var e=a.getData(b);e.handlers||(e.handlers={});e.handlers[c]||(e.handlers[c]=[]);d.guid||(d.guid=a.guid++);e.handlers[c].push(d);e.dispatcher||(e.disabled=!1,e.dispatcher=function(c){if(!e.disabled){c=
a.fixEvent(c);var d=e.handlers[c.type];if(d)for(var d=d.slice(0),g=0,f=d.length;g<f&&!c.isImmediatePropagationStopped();g++)d[g].call(b,c)}});1==e.handlers[c].length&&(document.addEventListener?b.addEventListener(c,e.dispatcher,!1):document.attachEvent&&b.attachEvent("on"+c,e.dispatcher))};a.off=function(b,c,d){if(a.hasData(b)){var e=a.getData(b);if(e.handlers)if(c){var f=e.handlers[c];if(f){if(!d)e.handlers[c]=[];else if(d.guid)for(e=0;e<f.length;e++)f[e].guid===d.guid&&f.splice(e--,1);a.cleanUpEvents(b,
c)}}else for(f in e.handlers)c=f,e.handlers[c]=[],a.cleanUpEvents(b,c)}};a.cleanUpEvents=function(b,c){var d=a.getData(b);0===d.handlers[c].length&&(delete d.handlers[c],document.removeEventListener?b.removeEventListener(c,d.dispatcher,!1):document.detachEvent&&b.detachEvent("on"+c,d.dispatcher));a.isEmpty(d.handlers)&&(delete d.handlers,delete d.dispatcher,delete d.disabled);a.isEmpty(d)&&a.removeData(b)};a.fixEvent=function(a){function c(){return!0}function d(){return!1}if(!a||!a.isPropagationStopped){var e=
a||window.event;a={};for(var f in e)"layerX"!==f&&"layerY"!==f&&(a[f]=e[f]);a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){e.preventDefault&&e.preventDefault();a.returnValue=!1;a.isDefaultPrevented=c};a.isDefaultPrevented=d;a.stopPropagation=function(){e.stopPropagation&&e.stopPropagation();a.cancelBubble=!0;a.isPropagationStopped=c};a.isPropagationStopped=d;a.stopImmediatePropagation=function(){e.stopImmediatePropagation&&
e.stopImmediatePropagation();a.isImmediatePropagationStopped=c;a.stopPropagation()};a.isImmediatePropagationStopped=d;if(null!=a.clientX){f=document.documentElement;var k=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||k&&k.scrollLeft||0)-(f&&f.clientLeft||k&&k.clientLeft||0);a.pageY=a.clientY+(f&&f.scrollTop||k&&k.scrollTop||0)-(f&&f.clientTop||k&&k.clientTop||0)}a.which=a.charCode||a.keyCode;null!=a.button&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a};a.trigger=function(b,c){var d=
a.hasData(b)?a.getData(b):{},e=b.parentNode||b.ownerDocument;"string"===typeof c&&(c={type:c,target:b});c=a.fixEvent(c);d.dispatcher&&d.dispatcher.call(b,c);if(e&&!c.isPropagationStopped())a.trigger(e,c);else if(!e&&!c.isDefaultPrevented()&&(d=a.getData(c.target),c.target[c.type])){d.disabled=!0;if("function"===typeof c.target[c.type])c.target[c.type]();d.disabled=!1}return!c.isDefaultPrevented()};a.one=function(b,c,d){a.on(b,c,function(){a.off(b,c,arguments.callee);d.apply(this,arguments)})};var l=
Object.prototype.hasOwnProperty;a.createEl=function(a,c){var d=document.createElement(a||"div"),e;for(e in c)l.call(c,e)&&(-1!==e.indexOf("aria-")||"role"==e?d.setAttribute(e,c[e]):d[e]=c[e]);return d};a.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};a.obj={};a.obj.create=Object.create||function(a){function c(){}c.prototype=a;return new c};a.obj.each=function(a,c,d){for(var e in a)l.call(a,e)&&c.call(d||this,e,a[e])};a.obj.merge=function(a,c){if(!c)return a;for(var d in c)l.call(c,
d)&&(a[d]=c[d]);return a};a.obj.deepMerge=function(b,c){var d,e,f;b=a.obj.copy(b);for(d in c)l.call(c,d)&&(e=b[d],f=c[d],a.obj.isPlain(e)&&a.obj.isPlain(f)?b[d]=a.obj.deepMerge(e,f):b[d]=c[d]);return b};a.obj.copy=function(b){return a.obj.merge({},b)};a.obj.isPlain=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};a.bind=function(b,c,d){c.guid||(c.guid=a.guid++);var e=function(){return c.apply(b,arguments)};e.guid=d?d+"_"+c.guid:c.guid;return e};
a.cache={};a.guid=1;a.expando="vdata"+(new Date).getTime();a.getData=function(b){var c=b[a.expando];c||(c=b[a.expando]=a.guid++,a.cache[c]={});return a.cache[c]};a.hasData=function(b){b=b[a.expando];return!(!b||a.isEmpty(a.cache[b]))};a.removeData=function(b){var c=b[a.expando];if(c){delete a.cache[c];try{delete b[a.expando]}catch(d){b.removeAttribute?b.removeAttribute(a.expando):b[a.expando]=null}}};a.isEmpty=function(a){for(var c in a)if(null!==a[c])return!1;return!0};a.addClass=function(a,c){-1==
(" "+a.className+" ").indexOf(" "+c+" ")&&(a.className=""===a.className?c:a.className+" "+c)};a.removeClass=function(a,c){if(-1!=a.className.indexOf(c)){for(var d=a.className.split(" "),e=d.length-1;0<=e;e--)d[e]===c&&d.splice(e,1);a.className=d.join(" ")}};a.TEST_VID=a.createEl("video");a.USER_AGENT=navigator.userAgent;a.IS_IPHONE=!!a.USER_AGENT.match(/iPhone/i);a.IS_IPAD=!!a.USER_AGENT.match(/iPad/i);a.IS_IPOD=!!a.USER_AGENT.match(/iPod/i);a.IS_IOS=a.IS_IPHONE||a.IS_IPAD||a.IS_IPOD;a.IOS_VERSION=
function(){var b=a.USER_AGENT.match(/OS (\d+)_/i);if(b&&b[1])return b[1]}();a.IS_ANDROID=!!a.USER_AGENT.match(/Android.*AppleWebKit/i);a.ANDROID_VERSION=function(){var b=a.USER_AGENT.match(/Android (\d+)\./i);return b&&b[1]?b[1]:null}();a.IS_FIREFOX=function(){return!!a.USER_AGENT.match("Firefox")};a.getAttributeValues=function(a){var c={};if(a&&a.attributes&&0<a.attributes.length)for(var d=a.attributes,e,f,k=d.length-1;0<=k;k--){e=d[k].name;f=d[k].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+
e+","))f=null!==f?!0:!1;c[e]=f}return c};a.getComputedDimension=function(a,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(c):a.currentStyle&&(d=a["client"+c.substr(0,1).toUpperCase()+c.substr(1)]+"px");return d};a.insertFirst=function(a,c){c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)};a.support={};a.el=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};a.formatTime=
function(a,c){c=c||a;var d=Math.floor(a%60),e=Math.floor(a/60%60),f=Math.floor(a/3600),k=Math.floor(c/60%60),l=Math.floor(c/3600),f=0<f||0<l?f+":":"";return f+(((f||10<=k)&&10>e?"0"+e:e)+":")+(10>d?"0"+d:d)};a.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return!1}};a.unblockTextSelection=function(){document.onselectstart=function(){return!0}};a.trim=function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")};a.round=function(a,c){c||(c=0);return Math.round(a*
Math.pow(10,c))/Math.pow(10,c)};a.createTimeRange=function(a,c){return{length:1,start:function(){return a},end:function(){return c}}};a.get=function(a,c,d){var e=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw Error("This browser does not support XMLHttpRequest.");
});var f=new XMLHttpRequest;try{f.open("GET",a)}catch(k){d(k)}f.onreadystatechange=function(){4===f.readyState&&(200===f.status||e&&0===f.status?c(f.responseText):d&&d())};try{f.send()}catch(l){d&&d(l)}};a.setLocalStorage=function(b,c){try{var d=window.localStorage||!1;d&&(d[b]=c)}catch(e){22==e.code||1014==e.code?a.log("LocalStorage Full (VideoJS)",e):18==e.code?a.log("LocalStorage not allowed (VideoJS)",e):a.log("LocalStorage Error (VideoJS)",e)}};a.getAbsoluteURL=function(b){b.match(/^https?:\/\//)||
(b=a.createEl("div",{innerHTML:'<a href="'+b+'">x</a>'}).firstChild.href);return b};a.log=function(){a.log.history=a.log.history||[];a.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};a.findPosition=function(a){var c,d;a.getBoundingClientRect&&a.parentNode&&(c=a.getBoundingClientRect());if(!c)return{left:0,top:0};a=document.documentElement;d=document.body;return{left:c.left+(window.pageXOffset||d.scrollLeft)-(a.clientLeft||d.clientLeft||0),top:c.top+
(window.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0)}};a.Component=a.CoreObject.extend({init:function(b,c,d){this.player_=b;this.options_=a.obj.copy(this.options_);c=this.options(c);this.id_=c.id||(c.el&&c.el.id?c.el.id:b.id()+"_component_"+a.guid++);this.name_=c.name||null;this.el_=c.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(d)}});a.Component.prototype.dispose=function(){if(this.children_)for(var b=this.children_.length-
1;0<=b;b--)this.children_[b].dispose&&this.children_[b].dispose();this.childNameIndex_=this.childIndex_=this.children_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);a.removeData(this.el_);this.el_=null};a.Component.prototype.player=function(){return this.player_};a.Component.prototype.options=function(b){return void 0===b?this.options_:this.options_=a.obj.deepMerge(this.options_,b)};a.Component.prototype.createEl=function(b,c){return a.createEl(b,c)};a.Component.prototype.el=
function(){return this.el_};a.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};a.Component.prototype.id=function(){return this.id_};a.Component.prototype.name=function(){return this.name_};a.Component.prototype.children=function(){return this.children_};a.Component.prototype.getChildById=function(a){return this.childIndex_[a]};a.Component.prototype.getChild=function(a){return this.childNameIndex_[a]};a.Component.prototype.addChild=function(b,c){var d,e;"string"===typeof b?
(e=b,c=c||{},d=c.componentClass||a.capitalize(e),c.name=e,d=new a[d](this.player_||this,c)):d=b;this.children_.push(d);"function"===typeof d.id&&(this.childIndex_[d.id()]=d);(e=e||d.name&&d.name())&&(this.childNameIndex_[e]=d);"function"===typeof d.el&&d.el()&&this.contentEl().appendChild(d.el());return d};a.Component.prototype.removeChild=function(a){"string"===typeof a&&(a=this.getChild(a));if(a&&this.children_){for(var c=!1,d=this.children_.length-1;0<=d;d--)if(this.children_[d]===a){c=!0;this.children_.splice(d,
1);break}c&&(this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null,(c=a.el())&&c.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el()))}};a.Component.prototype.initChildren=function(){var b=this.options_;if(b&&b.children){var c=this;a.obj.each(b.children,function(a,b){!1!==b&&(b.loadEvent||(c[a]=c.addChild(a,b)))})}};a.Component.prototype.buildCSSClass=function(){return""};a.Component.prototype.on=function(b,c){a.on(this.el_,b,a.bind(this,c));return this};a.Component.prototype.off=
function(b,c){a.off(this.el_,b,c);return this};a.Component.prototype.one=function(b,c){a.one(this.el_,b,a.bind(this,c));return this};a.Component.prototype.trigger=function(b,c){a.trigger(this.el_,b,c);return this};a.Component.prototype.isReadyOnInitFinish_=!0;a.Component.prototype.ready=function(a){a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a)));return this};a.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;
if(a&&0<a.length){for(var c=0,d=a.length;c<d;c++)a[c].call(this);this.readyQueue_=[];this.trigger("ready")}};a.Component.prototype.addClass=function(b){a.addClass(this.el_,b);return this};a.Component.prototype.removeClass=function(b){a.removeClass(this.el_,b);return this};a.Component.prototype.show=function(){this.el_.style.display="block";return this};a.Component.prototype.hide=function(){this.el_.style.display="none";return this};a.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");
this.addClass("vjs-fade-in");return this};a.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};a.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};a.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};a.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};a.Component.prototype.width=function(a,c){return this.dimension("width",
a,c)};a.Component.prototype.height=function(a,c){return this.dimension("height",a,c)};a.Component.prototype.dimensions=function(a,c){return this.width(a,!0).height(c)};a.Component.prototype.dimension=function(b,c,d){if(void 0!==c)return-1!==(""+c).indexOf("%")||-1!==(""+c).indexOf("px")?this.el_.style[b]=c:this.el_.style[b]="auto"===c?"":c+"px",d||this.trigger("resize"),this;if(!this.el_)return 0;c=this.el_.style[b];d=c.indexOf("px");return-1!==d?parseInt(c.slice(0,d),10):parseInt(this.el_["offset"+
a.capitalize(b)],10)};a.Button=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);var d=!1;this.on("touchstart",function(){d=!0});this.on("touchmove",function(){d=!1});var e=this;this.on("touchend",function(a){if(d)e.onClick(a);a.preventDefault();a.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});a.Button.prototype.createEl=function(b,c){c=a.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+
(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},c);return a.Component.prototype.createEl.call(this,b,c)};a.Button.prototype.buildCSSClass=function(){return"vjs-control "+a.Component.prototype.buildCSSClass.call(this)};a.Button.prototype.onClick=function(){};a.Button.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Button.prototype.onKeyPress=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.onClick()};a.Button.prototype.onBlur=
function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);b.on(this.playerEvent,a.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",a.bind(this,this.update));
b.ready(a.bind(this,this.update));this.boundEvents={}}});a.Slider.prototype.createEl=function(b,c){c=c||{};c.className+=" vjs-slider";c=a.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return a.Component.prototype.createEl.call(this,b,c)};a.Slider.prototype.onMouseDown=function(b){b.preventDefault();a.blockTextSelection();this.boundEvents.move=a.bind(this,this.onMouseMove);this.boundEvents.end=a.bind(this,this.onMouseUp);a.on(document,"mousemove",this.boundEvents.move);
a.on(document,"mouseup",this.boundEvents.end);a.on(document,"touchmove",this.boundEvents.move);a.on(document,"touchend",this.boundEvents.end);this.onMouseMove(b)};a.Slider.prototype.onMouseUp=function(){a.unblockTextSelection();a.off(document,"mousemove",this.boundEvents.move,!1);a.off(document,"mouseup",this.boundEvents.end,!1);a.off(document,"touchmove",this.boundEvents.move,!1);a.off(document,"touchend",this.boundEvents.end,!1);this.update()};a.Slider.prototype.update=function(){if(this.el_){var b,
c=this.getPercent(),d=this.handle,e=this.bar;isNaN(c)&&(c=0);b=c;if(d){b=this.el_.offsetWidth;var f=d.el().offsetWidth;b=f?f/b:0;c*=1-b;b=c+b/2;d.el().style.left=a.round(100*c,2)+"%"}e.el().style.width=a.round(100*b,2)+"%"}};a.Slider.prototype.calculateDistance=function(b){var c,d,e,f;c=this.el_;d=a.findPosition(c);f=e=c.offsetWidth;c=this.handle;if(this.options_.vertical)return f=d.top,b=b.changedTouches?b.changedTouches[0].pageY:b.pageY,c&&(c=c.el().offsetHeight,f+=c/2,e-=c),Math.max(0,Math.min(1,
(f-b+e)/e));e=d.left;b=b.changedTouches?b.changedTouches[0].pageX:b.pageX;c&&(c=c.el().offsetWidth,e+=c/2,f-=c);return Math.max(0,Math.min(1,(b-e)/f))};a.Slider.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())};a.Slider.prototype.onBlur=function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onClick=
function(a){a.stopImmediatePropagation();a.preventDefault()};a.SliderHandle=a.Component.extend();a.SliderHandle.prototype.defaultValue=0;a.SliderHandle.prototype.createEl=function(b,c){c=c||{};c.className+=" vjs-slider-handle";c=a.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},c);return a.Component.prototype.createEl.call(this,"div",c)};a.Menu=a.Component.extend();a.Menu.prototype.addItem=function(b){this.addChild(b);b.on("click",a.bind(this,function(){this.unlockShowing()}))};
a.Menu.prototype.createEl=function(){var b=this.options().contentElType||"ul";this.contentEl_=a.createEl(b,{className:"vjs-menu-content"});b=a.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});b.appendChild(this.contentEl_);a.on(b,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return b};a.MenuItem=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);this.selected(c.selected)}});a.MenuItem.prototype.createEl=function(b,c){return a.Button.prototype.createEl.call(this,
"li",a.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},c))};a.MenuItem.prototype.onClick=function(){this.selected(!0)};a.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))};a.MenuButton=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);this.menu=this.createMenu();this.addChild(this.menu);this.items&&0===this.items.length&&this.hide();
this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","button")}});a.MenuButton.prototype.buttonPressed_=!1;a.MenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_);this.options().title&&b.el().appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(this.items=this.createItems())for(var c=0;c<this.items.length;c++)b.addItem(this.items[c]);return b};a.MenuButton.prototype.createItems=
function(){};a.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+a.Button.prototype.buildCSSClass.call(this)};a.MenuButton.prototype.onFocus=function(){};a.MenuButton.prototype.onBlur=function(){};a.MenuButton.prototype.onClick=function(){this.one("mouseout",a.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()};a.MenuButton.prototype.onKeyPress=function(a){a.preventDefault();32==a.which||
13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()};a.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",!0);this.items&&0<this.items.length&&this.items[0].el().focus()};a.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",!1)};a.Player=a.Component.extend({init:function(b,
c,d){this.tag=b;c=a.obj.merge(this.getTagSettings(b),c);this.cache_={};this.poster_=c.poster;this.controls_=c.controls;!0!==c.customControlsOnMobile&&(a.IS_IOS||a.IS_ANDROID)?(b.controls=c.controls,this.controls_=!1):b.controls=!1;a.Component.call(this,this,c,d);this.one("play",function(b){a.trigger(this.el_,{type:"firstplay",target:this.el_})||(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation())});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);
this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);a.players[this.id_]=this;c.plugins&&a.obj.each(c.plugins,function(a,b){this[a](b)},this)}});a.Player.prototype.options_=a.options;a.Player.prototype.dispose=function(){a.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.stopTrackingProgress();
this.stopTrackingCurrentTime();this.tech&&this.tech.dispose();a.Component.prototype.dispose.call(this)};a.Player.prototype.getTagSettings=function(b){var c={sources:[],tracks:[]};a.obj.merge(c,a.getAttributeValues(b));if(b.hasChildNodes())for(var d,e=b.childNodes,f=0,k=e.length;f<k;f++)b=e[f],d=b.nodeName.toLowerCase(),"source"===d?c.sources.push(a.getAttributeValues(b)):"track"===d&&c.tracks.push(a.getAttributeValues(b));return c};a.Player.prototype.createEl=function(){var b=this.el_=a.Component.prototype.createEl.call(this,
"div"),c=this.tag;c.removeAttribute("width");c.removeAttribute("height");if(c.hasChildNodes())for(var d=c.childNodes.length,e=0,f=c.childNodes;e<d;e++)"source"!=f[0].nodeName.toLowerCase()&&"track"!=f[0].nodeName.toLowerCase()||c.removeChild(f[0]);c.id=c.id||"vjs_video_"+a.guid++;b.id=c.id;b.className=c.className;c.id+="_html5_api";c.className="vjs-tech";c.player=b.player=this;this.addClass("vjs-paused");this.width(this.options_.width,!0);this.height(this.options_.height,!0);c.parentNode&&c.parentNode.insertBefore(b,
c);a.insertFirst(c,b);return b};a.Player.prototype.loadTech=function(b,c){this.tech?this.unloadTech():"Html5"!==b&&this.tag&&(this.el_.removeChild(this.tag),this.tag=this.tag.player=null);this.techName=b;this.isReady_=!1;var d=a.obj.merge({source:c,parentEl:this.el_},this.options_[b.toLowerCase()]);c&&(c.src==this.cache_.src&&0<this.cache_.currentTime&&(d.startTime=this.cache_.currentTime),this.cache_.src=c.src);this.tech=new a[b](this,d);this.tech.ready(function(){this.player_.triggerReady();this.features.progressEvents||
this.player_.manualProgressOn();this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()})};a.Player.prototype.unloadTech=function(){this.isReady_=!1;this.tech.dispose();this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();this.tech=!1};a.Player.prototype.manualProgressOn=function(){this.manualProgress=!0;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=!0;this.player_.manualProgressOff()})};a.Player.prototype.manualProgressOff=
function(){this.manualProgress=!1;this.stopTrackingProgress()};a.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(a.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)};a.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};a.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",
this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0;this.player_.manualTimeUpdatesOff()})};a.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};a.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=
setInterval(a.bind(this,function(){this.trigger("timeupdate")}),250)};a.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};a.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())};a.Player.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing")};a.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime)};a.Player.prototype.onPause=
function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused")};a.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")};a.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))};a.Player.prototype.onError=function(b){a.log("Video Error",b)};a.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")};a.Player.prototype.getCache=function(){return this.cache_};
a.Player.prototype.techCall=function(b,c){if(this.tech&&this.tech.isReady_)this.tech.ready(function(){this[b](c)});else try{this.tech[b](c)}catch(d){throw a.log(d),d;}};a.Player.prototype.techGet=function(b){if(this.tech&&this.tech.isReady_)try{return this.tech[b]()}catch(c){throw void 0===this.tech[b]?a.log("Video.js: "+b+" method not defined for "+this.techName+" playback technology.",c):"TypeError"==c.name?(a.log("Video.js: "+b+" unavailable on "+this.techName+" playback technology element.",c),
this.tech.isReady_=!1):a.log(c),c;}};a.Player.prototype.play=function(){this.techCall("play");return this};a.Player.prototype.pause=function(){this.techCall("pause");return this};a.Player.prototype.paused=function(){return!1===this.techGet("paused")?!1:!0};a.Player.prototype.currentTime=function(a){return void 0!==a?(this.cache_.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0};a.Player.prototype.duration=
function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):this.cache_.duration};a.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};a.Player.prototype.buffered=function(){var b=this.techGet("buffered"),c=this.cache_.bufferEnd=this.cache_.bufferEnd||0;b&&(0<b.length&&b.end(0)!==c)&&(c=b.end(0),this.cache_.bufferEnd=c);return a.createTimeRange(0,c)};a.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():
0};a.Player.prototype.volume=function(b){if(void 0!==b)return b=Math.max(0,Math.min(1,parseFloat(b))),this.cache_.volume=b,this.techCall("setVolume",b),a.setLocalStorage("volume",b),this;b=parseFloat(this.techGet("volume"));return isNaN(b)?1:b};a.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1};a.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1};a.Player.prototype.requestFullScreen=function(){var b=
a.support.requestFullScreen;this.isFullScreen=!0;b?(a.on(document,b.eventName,a.bind(this,function(c){this.isFullScreen=document[b.isFullScreen];!1===this.isFullScreen&&a.off(document,b.eventName,arguments.callee);this.trigger("fullscreenchange")})),this.el_[b.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.cancelFullScreen=function(){var b=a.support.requestFullScreen;this.isFullScreen=
!1;if(b)document[b.cancelFn]();else this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=document.documentElement.style.overflow;a.on(document,"keydown",a.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";a.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};a.Player.prototype.fullWindowOnEscKey=
function(a){27===a.keyCode&&(!0===this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())};a.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1;a.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;a.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};a.Player.prototype.selectSource=function(b){for(var c=0,d=this.options_.techOrder;c<d.length;c++){var e=a.capitalize(d[c]),f=a[e];if(f.isSupported())for(var k=
0,l=b;k<l.length;k++){var p=l[k];if(f.canPlaySource(p))return{source:p,tech:e}}}return!1};a.Player.prototype.src=function(b){if(b instanceof Array){var c=this.selectSource(b);c?(b=c.source,c=c.tech,c==this.techName?this.src(b):this.loadTech(c,b)):this.el_.appendChild(a.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else b instanceof
Object?a[this.techName].canPlaySource(b)?this.src(b.src):this.src([b]):(this.cache_.src=b,this.isReady_?(this.techCall("src",b),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(b)}));return this};a.Player.prototype.load=function(){this.techCall("load");return this};a.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};a.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",
a),this.options_.preload=a,this):this.techGet("preload")};a.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)};a.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")};a.Player.prototype.poster=function(a){void 0!==a&&(this.poster_=a);return this.poster_};a.Player.prototype.controls=function(a){void 0!==a&&this.controls_!==a&&(this.controls_=
!!a,this.trigger("controlschange"));return this.controls_};a.Player.prototype.error=function(){return this.techGet("error")};a.Player.prototype.ended=function(){return this.techGet("ended")};(function(){var b,c,d;d=document.createElement("div");c={};void 0!==d.cancelFullscreen?(c.requestFn="requestFullscreen",c.cancelFn="exitFullscreen",c.eventName="fullscreenchange",c.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(b="moz",c.isFullScreen=b+"FullScreen"):(b="webkit",c.isFullScreen=b+"IsFullScreen"),
d[b+"RequestFullScreen"]&&(c.requestFn=b+"RequestFullScreen",c.cancelFn=b+"CancelFullScreen"),c.eventName=b+"fullscreenchange");document[c.cancelFn]&&(a.support.requestFullScreen=c)})();a.ControlBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.controls()||this.disable();b.one("play",a.bind(this,function(){var b,c=a.bind(this,this.fadeIn),d=a.bind(this,this.fadeOut);this.fadeOut();"ontouchstart"in window||(this.player_.on("mouseover",c),this.player_.on("mouseout",d),this.player_.on("pause",
a.bind(this,this.lockShowing)),this.player_.on("play",a.bind(this,this.unlockShowing)));b=!1;this.player_.on("touchstart",function(){b=!0});this.player_.on("touchmove",function(){b=!1});this.player_.on("touchend",a.bind(this,function(a){var c;b&&(c=this.el().className.search("fade-in"),-1!==c?this.fadeOut():this.fadeIn());b=!1;this.player_.paused()||a.preventDefault()}))}))}});a.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},
remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};a.ControlBar.prototype.createEl=function(){return a.createEl("div",{className:"vjs-control-bar"})};a.ControlBar.prototype.fadeIn=function(){a.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};a.ControlBar.prototype.fadeOut=function(){a.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};a.PlayToggle=a.Button.extend({init:function(b,c){a.Button.call(this,
b,c);b.on("play",a.bind(this,this.onPlay));b.on("pause",a.bind(this,this.onPause))}});a.PlayToggle.prototype.buttonText="Play";a.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+a.Button.prototype.buildCSSClass.call(this)};a.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()};a.PlayToggle.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML=
"Pause"};a.PlayToggle.prototype.onPause=function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused");this.el_.children[0].children[0].innerHTML="Play"};a.CurrentTimeDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.CurrentTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=a.createEl("div",
{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.CurrentTimeDisplay.prototype.updateContent=function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+a.formatTime(b,this.player_.duration())};a.DurationDisplay=a.Component.extend({init:function(b,
c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.DurationDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.DurationDisplay.prototype.updateContent=
function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+a.formatTime(this.player_.duration()))};a.TimeDivider=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.TimeDivider.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};a.RemainingTimeDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",
a.bind(this,this.updateContent))}});a.RemainingTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&
this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+a.formatTime(this.player_.remainingTime()))};a.FullscreenToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c)}});a.FullscreenToggle.prototype.buttonText="Fullscreen";a.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+a.Button.prototype.buildCSSClass.call(this)};a.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),
this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")};a.ProgressControl=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.ProgressControl.prototype.options_={children:{seekBar:{}}};a.ProgressControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};a.SeekBar=a.Slider.extend({init:function(b,c){a.Slider.call(this,
b,c);b.on("timeupdate",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes))}});a.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};a.SeekBar.prototype.playerEvent="timeupdate";a.SeekBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};a.SeekBar.prototype.updateARIAAttributes=
function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",a.round(100*this.getPercent(),2));this.el_.setAttribute("aria-valuetext",a.formatTime(b,this.player_.duration()))};a.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};a.SeekBar.prototype.onMouseDown=function(b){a.Slider.prototype.onMouseDown.call(this,b);this.player_.scrubbing=!0;this.videoWasPlaying=!this.player_.paused();
this.player_.pause()};a.SeekBar.prototype.onMouseMove=function(a){a=this.calculateDistance(a)*this.player_.duration();a==this.player_.duration()&&(a-=0.1);this.player_.currentTime(a)};a.SeekBar.prototype.onMouseUp=function(b){a.Slider.prototype.onMouseUp.call(this,b);this.player_.scrubbing=!1;this.videoWasPlaying&&this.player_.play()};a.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};a.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-
5)};a.LoadProgressBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("progress",a.bind(this,this.update))}});a.LoadProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};a.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=a.round(100*this.player_.bufferedPercent(),2)+"%")};a.PlayProgressBar=a.Component.extend({init:function(b,
c){a.Component.call(this,b,c)}});a.PlayProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};a.SeekHandle=a.SliderHandle.extend();a.SeekHandle.prototype.defaultValue="00:00";a.SeekHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};a.VolumeControl=a.Component.extend({init:function(b,c){a.Component.call(this,
b,c);b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.VolumeControl.prototype.options_={children:{volumeBar:{}}};a.VolumeControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};a.VolumeBar=a.Slider.extend({init:function(b,
c){a.Slider.call(this,b,c);b.on("volumechange",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes));setTimeout(a.bind(this,this.update),0)}});a.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",a.round(100*this.player_.volume(),2));this.el_.setAttribute("aria-valuetext",a.round(100*this.player_.volume(),2)+"%")};a.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};
a.VolumeBar.prototype.playerEvent="volumechange";a.VolumeBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};a.VolumeBar.prototype.onMouseMove=function(a){this.player_.volume(this.calculateDistance(a))};a.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()};a.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};a.VolumeBar.prototype.stepBack=
function(){this.player_.volume(this.player_.volume()-0.1)};a.VolumeLevel=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.VolumeLevel.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};a.VolumeHandle=a.SliderHandle.extend();a.VolumeHandle.prototype.defaultValue="00:00";a.VolumeHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,
"div",{className:"vjs-volume-handle"})};a.MuteToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.MuteToggle.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",
{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)};a.MuteToggle.prototype.update=function(){var b=this.player_.volume(),c=3;0===b||this.player_.muted()?c=0:0.33>b?c=1:0.67>b&&(c=2);this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&
(this.el_.children[0].children[0].innerHTML="Mute");for(b=0;4>b;b++)a.removeClass(this.el_,"vjs-vol-"+b);a.addClass(this.el_,"vjs-vol-"+c)};a.VolumeMenuButton=a.MenuButton.extend({init:function(b,c){a.MenuButton.call(this,b,c);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}));
this.addClass("vjs-menu-button")}});a.VolumeMenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_,{contentElType:"div"}),c=new a.VolumeBar(this.player_,a.obj.merge({vertical:!0},this.options_.volumeBar));b.addChild(c);return b};a.VolumeMenuButton.prototype.onClick=function(){a.MuteToggle.prototype.onClick.call(this);a.MenuButton.prototype.onClick.call(this)};a.VolumeMenuButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",
innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.VolumeMenuButton.prototype.update=a.MuteToggle.prototype.update;a.PosterImage=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.poster()&&b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.PosterImage.prototype.createEl=function(){var b=a.createEl("div",{className:"vjs-poster",tabIndex:-1}),c=this.player_.poster();c&&("backgroundSize"in b.style?b.style.backgroundImage='url("'+c+'")':b.appendChild(a.createEl("img",
{src:c})));return b};a.PosterImage.prototype.onClick=function(){this.player_.play()};a.LoadingSpinner=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("canplay",a.bind(this,this.hide));b.on("canplaythrough",a.bind(this,this.hide));b.on("playing",a.bind(this,this.hide));b.on("seeked",a.bind(this,this.hide));b.on("seeking",a.bind(this,this.show));b.on("seeked",a.bind(this,this.hide));b.on("error",a.bind(this,this.show));b.on("waiting",a.bind(this,this.show))}});a.LoadingSpinner.prototype.createEl=
function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};a.BigPlayButton=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.BigPlayButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};a.BigPlayButton.prototype.onClick=function(){this.player_.play()};a.MediaTechController=
a.Component.extend({init:function(b,c,d){a.Component.call(this,b,c,d)}});a.MediaTechController.prototype.onClick=function(){return a.IS_ANDROID?function(){}:function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())}}();a.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1};a.media={};a.media.ApiMethods="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
for(var f=a.media.ApiMethods.length-1;0<=f;f--)a.MediaTechController.prototype[a.media.ApiMethods[f]]=d(a.media.ApiMethods[f]);a.Html5=a.MediaTechController.extend({init:function(b,c,d){this.features.volumeControl=a.Html5.canControlVolume();this.features.movingMediaElementInDOM=!a.IS_IOS;this.features.fullscreenResize=!0;a.MediaTechController.call(this,b,c,d);(c=c.source)&&this.el_.currentSrc==c.src?b.trigger("loadstart"):c&&(this.el_.src=c.src);b.ready(function(){this.options_.autoplay&&this.paused()&&
(this.tag.poster=null,this.play())});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});a.Html5.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Html5.prototype.createEl=function(){var b=this.player_,c=b.tag;c&&!1!==this.features.movingMediaElementInDOM||(c?(b.el().removeChild(c),c=c.cloneNode(!1)):c=a.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),c.player=b,a.insertFirst(c,b.el()));for(var d=["autoplay","preload","loop","muted"],
e=d.length-1;0<=e;e--){var f=d[e];null!==b.options_[f]&&(c[f]=b.options_[f])}return c};a.Html5.prototype.setupTriggers=function(){for(var b=a.Html5.Events.length-1;0<=b;b--)a.on(this.el_,a.Html5.Events[b],a.bind(this.player_,this.eventHandler))};a.Html5.prototype.eventHandler=function(a){this.trigger(a);a.stopPropagation()};a.Html5.prototype.play=function(){this.el_.play()};a.Html5.prototype.pause=function(){this.el_.pause()};a.Html5.prototype.paused=function(){return this.el_.paused};a.Html5.prototype.currentTime=
function(){return this.el_.currentTime};a.Html5.prototype.setCurrentTime=function(b){try{this.el_.currentTime=b}catch(c){a.log(c,"Video is not ready. (Video.js)")}};a.Html5.prototype.duration=function(){return this.el_.duration||0};a.Html5.prototype.buffered=function(){return this.el_.buffered};a.Html5.prototype.volume=function(){return this.el_.volume};a.Html5.prototype.setVolume=function(a){this.el_.volume=a};a.Html5.prototype.muted=function(){return this.el_.muted};a.Html5.prototype.setMuted=function(a){this.el_.muted=
a};a.Html5.prototype.width=function(){return this.el_.offsetWidth};a.Html5.prototype.height=function(){return this.el_.offsetHeight};a.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(a.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(a.USER_AGENT)?!1:!0};a.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};
a.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};a.Html5.prototype.src=function(a){this.el_.src=a};a.Html5.prototype.load=function(){this.el_.load()};a.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};a.Html5.prototype.preload=function(){return this.el_.preload};a.Html5.prototype.setPreload=function(a){this.el_.preload=a};a.Html5.prototype.autoplay=function(){return this.el_.autoplay};a.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a};a.Html5.prototype.loop=
function(){return this.el_.loop};a.Html5.prototype.setLoop=function(a){this.el_.loop=a};a.Html5.prototype.error=function(){return this.el_.error};a.Html5.prototype.seeking=function(){return this.el_.seeking};a.Html5.prototype.ended=function(){return this.el_.ended};a.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};a.Html5.isSupported=function(){return!!document.createElement("video").canPlayType};a.Html5.canPlaySource=function(a){return!!document.createElement("video").canPlayType(a.type)};
a.Html5.canControlVolume=function(){var b=a.TEST_VID.volume;a.TEST_VID.volume=b/2+0.1;return b!==a.TEST_VID.volume};a.Html5.Events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");a.IS_ANDROID&&3>a.ANDROID_VERSION&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?
"maybe":""});a.Flash=a.MediaTechController.extend({init:function(b,c,d){a.MediaTechController.call(this,b,c,d);d=c.source;var e=c.parentEl,f=this.el_=a.createEl("div",{id:b.id()+"_temp_flash"}),k=b.id()+"_flash_api";b=b.options_;var l=a.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:b.autoplay,preload:b.preload,loop:b.loop,muted:b.muted},c.flashVars),p=a.obj.merge({wmode:"opaque",bgcolor:"#000000"},
c.params),n=a.obj.merge({id:k,name:k,"class":"vjs-tech"},c.attributes);d&&(l.src=encodeURIComponent(a.getAbsoluteURL(d.src)));a.insertFirst(f,e);c.startTime&&this.ready(function(){this.load();this.play();this.currentTime(c.startTime)});if(!0!==c.iFrameMode||a.IS_FIREFOX)a.Flash.embed(c.swf,f,l,p,n);else{var x=a.createEl("iframe",{id:k+"_iframe",name:k+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});l.readyFunction="ready";l.eventProxyFunction="events";l.errorEventProxyFunction=
"errors";a.on(x,"load",a.bind(this,function(){var b,d=x.contentWindow;b=x.contentDocument?x.contentDocument:x.contentWindow.document;b.write(a.Flash.getEmbedCode(c.swf,l,p,n));d.player=this.player_;d.ready=a.bind(this.player_,function(c){c=b.getElementById(c);var d=this.tech;d.el_=c;a.on(c,"click",d.bind(d.onClick));a.Flash.checkReady(d)});d.events=a.bind(this.player_,function(a,b){this&&"flash"===this.techName&&this.trigger(b)});d.errors=a.bind(this.player_,function(b,c){a.log("Flash Error",c)})}));
f.parentNode.replaceChild(x,f)}}});a.Flash.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Flash.prototype.play=function(){this.el_.vjs_play()};a.Flash.prototype.pause=function(){this.el_.vjs_pause()};a.Flash.prototype.src=function(b){b=a.getAbsoluteURL(b);this.el_.vjs_src(b);if(this.player_.autoplay()){var c=this;setTimeout(function(){c.play()},0)}};a.Flash.prototype.load=function(){this.el_.vjs_load()};a.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};
a.Flash.prototype.buffered=function(){return a.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};a.Flash.prototype.supportsFullScreen=function(){return!1};a.Flash.prototype.enterFullScreen=function(){return!1};var e=a.Flash.prototype,n="preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),u="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),
p=function(a){var c=a.charAt(0).toUpperCase()+a.slice(1);e["set"+c]=function(c){return this.el_.vjs_setProperty(a,c)}},x=function(a){e[a]=function(){return this.el_.vjs_getProperty(a)}};(function(){var a;for(a=0;a<n.length;a++)x(n[a]),p(n[a]);for(a=0;a<u.length;a++)x(u[a])})();a.Flash.isSupported=function(){return 10<=a.Flash.version()[0]};a.Flash.canPlaySource=function(b){if(b.type in a.Flash.formats)return"maybe"};a.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};
a.Flash.onReady=function(b){b=a.el(b);var c=b.player||b.parentNode.player,d=c.tech;b.player=c;d.el_=b;d.on("click",d.onClick);a.Flash.checkReady(d)};a.Flash.checkReady=function(b){b.el().vjs_getProperty?b.triggerReady():setTimeout(function(){a.Flash.checkReady(b)},50)};a.Flash.onEvent=function(b,c){a.el(b).player.trigger(c)};a.Flash.onError=function(b,c){a.el(b).player.trigger("error");a.log("Flash Error",c,b)};a.Flash.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,
",").match(/^,?(.+),?$/)[1]}catch(c){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(d){}}return a.split(",")};a.Flash.embed=function(b,c,d,e,f){b=a.Flash.getEmbedCode(b,d,e,f);b=a.createEl("div",{innerHTML:b}).childNodes[0];d=c.parentNode;c.parentNode.replaceChild(b,c);var k=d.childNodes[0];setTimeout(function(){k.style.display=
"block"},1E3);return b};a.Flash.getEmbedCode=function(b,c,d,e){var f="",k="",l="";c&&a.obj.each(c,function(a,b){f+=a+"="+b+"&amp;"});d=a.obj.merge({movie:b,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},d);a.obj.each(d,function(a,b){k+='<param name="'+a+'" value="'+b+'" />'});e=a.obj.merge({data:b,width:"100%",height:"100%"},e);a.obj.each(e,function(a,b){l+=a+'="'+b+'" '});return'<object type="application/x-shockwave-flash"'+l+">"+k+"</object>"};a.MediaLoader=a.Component.extend({init:function(b,
c,d){a.Component.call(this,b,c,d);if(b.options_.sources&&0!==b.options_.sources.length)b.src(b.options_.sources);else for(c=0,d=b.options_.techOrder;c<d.length;c++){var e=a.capitalize(d[c]),f=a[e];if(f&&f.isSupported()){b.loadTech(e);break}}}});a.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[]};a.Player.prototype.addTextTrack=function(b,c,d,e){var f=this.textTracks_=this.textTracks_||[];e=e||{};e.kind=b;e.label=c;e.language=d;b=a.capitalize(b||"subtitles");e=new a[b+
"Track"](this,e);f.push(e);return e};a.Player.prototype.addTextTracks=function(a){for(var c,d=0;d<a.length;d++)c=a[d],this.addTextTrack(c.kind,c.label,c.language,c);return this};a.Player.prototype.showTextTrack=function(a,c){for(var d=this.textTracks_,e=0,f=d.length,k,l;e<f;e++)k=d[e],k.id()===a?(k.show(),l=k):c&&(k.kind()==c&&0<k.mode())&&k.disable();(d=l?l.kind():c?c:!1)&&this.trigger(d+"trackchange");return this};a.TextTrack=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);this.id_=
c.id||"vjs_"+c.kind+"_"+c.language+"_"+a.guid++;this.src_=c.src;this.dflt_=c["default"]||c.dflt;this.title_=c.title;this.language_=c.srclang;this.label_=c.label;this.cues_=[];this.activeCues_=[];this.mode_=this.readyState_=0;this.player_.on("fullscreenchange",a.bind(this,this.adjustFontSize))}});a.TextTrack.prototype.kind=function(){return this.kind_};a.TextTrack.prototype.src=function(){return this.src_};a.TextTrack.prototype.dflt=function(){return this.dflt_};a.TextTrack.prototype.title=function(){return this.title_};
a.TextTrack.prototype.language=function(){return this.language_};a.TextTrack.prototype.label=function(){return this.label_};a.TextTrack.prototype.cues=function(){return this.cues_};a.TextTrack.prototype.activeCues=function(){return this.activeCues_};a.TextTrack.prototype.readyState=function(){return this.readyState_};a.TextTrack.prototype.mode=function(){return this.mode_};a.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?140*(screen.width/this.player_.width())+
"%":""};a.TextTrack.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};a.TextTrack.prototype.show=function(){this.activate();this.mode_=2;a.Component.prototype.show.call(this)};a.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;a.Component.prototype.hide.call(this)};a.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide();this.deactivate();this.mode_=0};a.TextTrack.prototype.activate=function(){0===
this.readyState_&&this.load();0===this.mode_&&(this.player_.on("timeupdate",a.bind(this,this.update,this.id_)),this.player_.on("ended",a.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))};a.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",a.bind(this,this.update,this.id_));this.player_.off("ended",a.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};
a.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,a.get(this.src_,a.bind(this,this.parseCues),a.bind(this,this.onError)))};a.TextTrack.prototype.onError=function(a){this.error=a;this.readyState_=3;this.trigger("error")};a.TextTrack.prototype.parseCues=function(b){var c,d;b=b.split("\n");for(var e="",f=1,k=b.length;f<k;f++)if(e=a.trim(b[f])){-1==e.indexOf("--\x3e")?(c=e,e=a.trim(b[++f])):c=this.cues_.length;c={id:c,index:this.cues_.length};d=e.split(" --\x3e ");c.startTime=
this.parseCueTime(d[0]);c.endTime=this.parseCueTime(d[1]);for(d=[];b[++f]&&(e=a.trim(b[f]));)d.push(e);c.text=d.join("<br/>");this.cues_.push(c)}this.readyState_=2;this.trigger("loaded")};a.TextTrack.prototype.parseCueTime=function(a){var c=a.split(":");a=0;var d,e,f;3==c.length?(d=c[0],e=c[1],c=c[2]):(d=0,e=c[0],c=c[1]);c=c.split(/\s+/);c=c.splice(0,1)[0];c=c.split(/\.|,/);f=parseFloat(c[1]);c=c[0];a+=3600*parseFloat(d);a+=60*parseFloat(e);a+=parseFloat(c);f&&(a+=f/1E3);return a};a.TextTrack.prototype.update=
function(){if(0<this.cues_.length){var a=this.player_.currentTime();if(void 0===this.prevChange||a<this.prevChange||this.nextChange<=a){var c=this.cues_,d=this.player_.duration(),e=0,f=!1,k=[],l,p,n,x;a>=this.nextChange||void 0===this.nextChange?x=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(f=!0,x=void 0!==this.lastActiveIndex?this.lastActiveIndex:c.length-1);for(;;){n=c[x];if(n.endTime<=a)e=Math.max(e,n.endTime),n.active&&(n.active=!1);else if(a<n.startTime){if(d=Math.min(d,n.startTime),
n.active&&(n.active=!1),!f)break}else f?(k.splice(0,0,n),void 0===p&&(p=x),l=x):(k.push(n),void 0===l&&(l=x),p=x),d=Math.min(d,n.endTime),e=Math.max(e,n.startTime),n.active=!0;if(f)if(0===x)break;else x--;else if(x===c.length-1)break;else x++}this.activeCues_=k;this.nextChange=d;this.prevChange=e;this.firstActiveIndex=l;this.lastActiveIndex=p;this.updateDisplay();this.trigger("cuechange")}}};a.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,c="",d=0,e=a.length;d<e;d++)c+='<span class="vjs-tt-cue">'+
a[d].text+"</span>";this.el_.innerHTML=c};a.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.lastActiveIndex=this.firstActiveIndex=0};a.CaptionsTrack=a.TextTrack.extend();a.CaptionsTrack.prototype.kind_="captions";a.SubtitlesTrack=a.TextTrack.extend();a.SubtitlesTrack.prototype.kind_="subtitles";a.ChaptersTrack=a.TextTrack.extend();a.ChaptersTrack.prototype.kind_="chapters";a.TextTrackDisplay=a.Component.extend({init:function(b,c,d){a.Component.call(this,
b,c,d);b.options_.tracks&&0<b.options_.tracks.length&&this.player_.addTextTracks(b.options_.tracks)}});a.TextTrackDisplay.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};a.TextTrackMenuItem=a.MenuItem.extend({init:function(b,c){var d=this.track=c.track;c.label=d.label();c.selected=d.dflt();a.MenuItem.call(this,b,c);this.player_.on(d.kind()+"trackchange",a.bind(this,this.update))}});a.TextTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.TextTrackMenuItem.prototype.update=function(){2==this.track.mode()?this.selected(!0):this.selected(!1)};a.OffTextTrackMenuItem=a.TextTrackMenuItem.extend({init:function(b,c){c.track={kind:function(){return c.kind},player:b,label:function(){return c.kind+" off"},dflt:function(){return!1},mode:function(){return!1}};a.TextTrackMenuItem.call(this,b,c);this.selected(!0)}});a.OffTextTrackMenuItem.prototype.onClick=function(){a.TextTrackMenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.OffTextTrackMenuItem.prototype.update=function(){for(var a=this.player_.textTracks(),c=0,d=a.length,e,f=!0;c<d;c++)e=a[c],e.kind()==this.track.kind()&&2==e.mode()&&(f=!1);f?this.selected(!0):this.selected(!1)};a.TextTrackButton=a.MenuButton.extend({init:function(b,c){a.MenuButton.call(this,b,c);1>=this.items.length&&this.hide()}});a.TextTrackButton.prototype.createItems=function(){var b=[],c;b.push(new a.OffTextTrackMenuItem(this.player_,
{kind:this.kind_}));for(var d=0;d<this.player_.textTracks().length;d++)c=this.player_.textTracks()[d],c.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:c}));return b};a.CaptionsButton=a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Captions Menu")}});a.CaptionsButton.prototype.kind_="captions";a.CaptionsButton.prototype.buttonText="Captions";a.CaptionsButton.prototype.className="vjs-captions-button";a.SubtitlesButton=
a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Subtitles Menu")}});a.SubtitlesButton.prototype.kind_="subtitles";a.SubtitlesButton.prototype.buttonText="Subtitles";a.SubtitlesButton.prototype.className="vjs-subtitles-button";a.ChaptersButton=a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Chapters Menu")}});a.ChaptersButton.prototype.kind_="chapters";a.ChaptersButton.prototype.buttonText=
"Chapters";a.ChaptersButton.prototype.className="vjs-chapters-button";a.ChaptersButton.prototype.createItems=function(){for(var b=[],c,d=0;d<this.player_.textTracks().length;d++)c=this.player_.textTracks()[d],c.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:c}));return b};a.ChaptersButton.prototype.createMenu=function(){for(var b=this.player_.textTracks(),c=0,d=b.length,e,f,k=this.items=[];c<d;c++)if(e=b[c],e.kind()==this.kind_&&e.dflt()){if(2>e.readyState()){this.chaptersTrack=
e;e.on("loaded",a.bind(this,this.createMenu));return}f=e;break}b=this.menu=new a.Menu(this.player_);b.el_.appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(f){e=f.cues_;for(var l,c=0,d=e.length;c<d;c++)l=e[c],l=new a.ChaptersTrackMenuItem(this.player_,{track:f,cue:l}),k.push(l),b.addChild(l)}0<this.items.length&&this.show();return b};a.ChaptersTrackMenuItem=a.MenuItem.extend({init:function(b,c){var d=this.track=c.track,e=this.cue=c.cue,f=
b.currentTime();c.label=e.text;c.selected=e.startTime<=f&&f<e.endTime;a.MenuItem.call(this,b,c);d.on("cuechange",a.bind(this,this.update))}});a.ChaptersTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};a.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,c=this.player_.currentTime();a.startTime<=c&&c<a.endTime?this.selected(!0):this.selected(!1)};a.obj.merge(a.ControlBar.prototype.options_.children,
{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)a.JSON=window.JSON;else{a.JSON={};var B=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a.JSON.parse=function(a,c){function d(a,b){var e,f,m=a[b];if(m&&"object"===typeof m)for(e in m)Object.prototype.hasOwnProperty.call(m,e)&&(f=d(m,e),void 0!==f?m[e]=f:delete m[e]);return c.call(a,b,m)}var e;a=String(a);B.lastIndex=
0;B.test(a)&&(a=a.replace(B,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}a.autoSetup=function(){var b,c,d=document.getElementsByTagName("video");
if(d&&0<d.length)for(var e=0,f=d.length;e<f;e++)if((c=d[e])&&c.getAttribute)void 0===c.player&&(b=c.getAttribute("data-setup"),null!==b&&(b=a.JSON.parse(b||"{}"),k(c,b)));else{a.autoSetupTimeout(1);break}else a.windowLoaded||a.autoSetupTimeout(1)};a.autoSetupTimeout=function(b){setTimeout(a.autoSetup,b)};a.one(window,"load",function(){a.windowLoaded=!0});a.autoSetupTimeout(1);a.plugin=function(b,c){a.Player.prototype[b]=c};r.exports=a})()})()},{}],83:[function(n,r,w){(function(d){(function(){function a(a){var b=
!1;return function(){if(b)throw Error("Callback was already called.");b=!0;a.apply(l,arguments)}}var k={},l,f;l=this;null!=l&&(f=l.async);k.noConflict=function(){l.async=f;return k};var e=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},n=function(a,b){if(a.map)return a.map(b);var c=[];e(a,function(a,d,g){c.push(b(a,d,g))});return c},u=function(a,b,c){if(a.reduce)return a.reduce(b,c);e(a,function(a,d,g){c=b(c,a,d,g)});return c},p=function(a){if(Object.keys)return Object.keys(a);
var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!==typeof d&&d.nextTick?(k.nextTick=d.nextTick,k.setImmediate="undefined"!==typeof setImmediate?setImmediate:k.nextTick):(k.nextTick="function"===typeof setImmediate?function(a){setImmediate(a)}:function(a){setTimeout(a,0)},k.setImmediate=k.nextTick);k.each=function(b,c,d){d=d||function(){};if(!b.length)return d();var g=0;e(b,function(e){c(e,a(function(a){a?(d(a),d=function(){}):(g+=1,g>=b.length&&d(null))}))})};k.forEach=k.each;
k.eachSeries=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,g=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):g())})};g()};k.forEachSeries=k.eachSeries;k.eachLimit=function(a,b,c,d){x(b).apply(null,[a,c,d])};k.forEachLimit=k.eachLimit;var x=function(a){return function(b,c,d){d=d||function(){};if(!b.length||0>=a)return d();var g=0,e=0,f=0;(function L(){if(g>=b.length)return d();for(;f<a&&e<b.length;)e+=1,f+=1,c(b[e-1],function(a){a?(d(a),d=function(){}):
(g+=1,f-=1,g>=b.length?d():L())})})()}},B=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[k.each].concat(b))}},b=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[x(a)].concat(c))}},c=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[k.eachSeries].concat(b))}},g=function(a,b,c,d){var g=[];b=n(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,
function(c,d){g[a.index]=d;b(c)})},function(a){d(a,g)})};k.map=B(g);k.mapSeries=c(g);k.mapLimit=function(a,c,d,e){return b(c,g)(a,d,e)};k.reduce=function(a,b,c,d){k.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};k.inject=k.reduce;k.foldl=k.reduce;k.reduceRight=function(a,b,c,d){a=n(a,function(a){return a}).reverse();k.reduce(a,b,c,d)};k.foldr=k.reduceRight;var m=function(a,b,c,d){var g=[];b=n(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c&&
g.push(a);b()})},function(a){d(n(g.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};k.filter=B(m);k.filterSeries=c(m);k.select=k.filter;k.selectSeries=k.filterSeries;m=function(a,b,c,d){var g=[];b=n(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c||g.push(a);b()})},function(a){d(n(g.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};k.reject=B(m);k.rejectSeries=c(m);m=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?
(d(a),d=function(){}):b()})},function(a){d()})};k.detect=B(m);k.detectSeries=c(m);k.some=function(a,b,c){k.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){});d()})},function(a){c(!1)})};k.any=k.some;k.every=function(a,b,c){k.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){});d()})},function(a){c(!0)})};k.all=k.every;k.sortBy=function(a,b,c){k.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);c(null,n(b.sort(function(a,
b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),function(a){return a.value}))})};k.auto=function(a,b){b=b||function(){};var c=p(a);if(!c.length)return b(null);var d={},g=[],f=function(a){g.unshift(a)},m=function(){e(g.slice(0),function(a){a()})};f(function(){p(d).length===c.length&&(b(null,d),b=function(){})});e(c,function(c){var l=a[c]instanceof Function?[a[c]]:a[c],n=function(a){var g=Array.prototype.slice.call(arguments,1);1>=g.length&&(g=g[0]);if(a){var f={};e(p(d),function(a){f[a]=d[a]});
f[c]=g;b(a,f);b=function(){}}else d[c]=g,k.setImmediate(m)},x=l.slice(0,Math.abs(l.length-1))||[],z=function(){return u(x,function(a,b){return a&&d.hasOwnProperty(b)},!0)&&!d.hasOwnProperty(c)};if(z())l[l.length-1](n,d);else{var B=function(){if(z()){a:for(var a=B,b=0;b<g.length;b+=1)if(g[b]===a){g.splice(b,1);break a}l[l.length-1](n,d)}};f(B)}})};k.waterfall=function(a,b){b=b||function(){};if(a.constructor!==Array)return b(Error("First argument to waterfall must be an array of functions"));if(!a.length)return b();
var c=function(a){return function(d){if(d)b.apply(null,arguments),b=function(){};else{var g=Array.prototype.slice.call(arguments,1),e=a.next();e?g.push(c(e)):g.push(b);k.setImmediate(function(){a.apply(null,g)})}}};c(k.iterator(a))()};var z=function(a,b,c){c=c||function(){};if(b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};a.each(p(b),function(a,c){b[a](function(b){var g=Array.prototype.slice.call(arguments,
1);1>=g.length&&(g=g[0]);d[a]=g;c(b)})},function(a){c(a,d)})}};k.parallel=function(a,b){z({map:k.map,each:k.each},a,b)};k.parallelLimit=function(a,c,d){z({map:b(c,g),each:x(c)},a,d)};k.series=function(a,b){b=b||function(){};if(a.constructor===Array)k.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},b);else{var c={};k.eachSeries(p(a),function(b,d){a[b](function(a){var g=Array.prototype.slice.call(arguments,1);1>=g.length&&
(g=g[0]);c[b]=g;d(a)})},function(a){b(a,c)})}};k.iterator=function(a){var b=function(c){var d=function(){a.length&&a[c].apply(null,arguments);return d.next()};d.next=function(){return c<a.length-1?b(c+1):null};return d};return b(0)};k.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};m=function(a,b,c,d){var g=[];a(b,function(a,b){c(a,function(a,c){g=g.concat(c||[]);b(a)})},function(a){d(a,g)})};
k.concat=B(m);k.concatSeries=c(m);k.whilst=function(a,b,c){a()?b(function(d){if(d)return c(d);k.whilst(a,b,c)}):c()};k.doWhilst=function(a,b,c){a(function(d){if(d)return c(d);b()?k.doWhilst(a,b,c):c()})};k.until=function(a,b,c){a()?c():b(function(d){if(d)return c(d);k.until(a,b,c)})};k.doUntil=function(a,b,c){a(function(d){if(d)return c(d);b()?c():k.doUntil(a,b,c)})};k.queue=function(b,c){function d(a,b,g,f){b.constructor!==Array&&(b=[b]);e(b,function(b){b={data:b,callback:"function"===typeof f?f:
null};g?a.tasks.unshift(b):a.tasks.push(b);a.saturated&&a.tasks.length===c&&a.saturated();k.setImmediate(a.process)})}void 0===c&&(c=1);var g=0,f={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,push:function(a,b){d(f,a,!1,b)},unshift:function(a,b){d(f,a,!0,b)},process:function(){if(g<f.concurrency&&f.tasks.length){var c=f.tasks.shift();f.empty&&0===f.tasks.length&&f.empty();g+=1;var d=a(function(){g-=1;c.callback&&c.callback.apply(c,arguments);f.drain&&0===f.tasks.length+g&&f.drain();
f.process()});b(c.data,d)}},length:function(){return f.tasks.length},running:function(){return g}};return f};k.cargo=function(a,b){var c=!1,d=[],g={tasks:d,payload:b,saturated:null,empty:null,drain:null,push:function(a,c){a.constructor!==Array&&(a=[a]);e(a,function(a){d.push({data:a,callback:"function"===typeof c?c:null});g.saturated&&d.length===b&&g.saturated()});k.setImmediate(g.process)},process:function J(){if(!c)if(0===d.length)g.drain&&g.drain();else{var f="number"===typeof b?d.splice(0,b):
d.splice(0),m=n(f,function(a){return a.data});g.empty&&g.empty();c=!0;a(m,function(){c=!1;var a=arguments;e(f,function(b){b.callback&&b.callback.apply(null,a)});J()})}},length:function(){return d.length},running:function(){return c}};return g};m=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!==typeof console&&(b?console.error&&console.error(b):console[a]&&e(c,function(b){console[a](b)}))}]))}};
k.log=m("log");k.dir=m("dir");k.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var g=function(){var g=Array.prototype.slice.call(arguments),e=g.pop(),f=b.apply(null,g);f in c?e.apply(null,c[f]):f in d?d[f].push(e):(d[f]=[e],a.apply(null,g.concat([function(){c[f]=arguments;var a=d[f];delete d[f];for(var b=0,g=a.length;b<g;b++)a[b].apply(null,arguments)}])))};g.memo=c;g.unmemoized=a;return g};k.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}};k.times=
function(a,b,c){for(var d=[],g=0;g<a;g++)d.push(g);return k.map(d,b,c)};k.timesSeries=function(a,b,c){for(var d=[],g=0;g<a;g++)d.push(g);return k.mapSeries(d,b,c)};k.compose=function(){var a=Array.prototype.reverse.call(arguments);return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();k.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}};m=function(a,b){var c=
function(){var c=this,d=Array.prototype.slice.call(arguments),g=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},g)};if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};k.applyEach=B(m);k.applyEachSeries=c(m);k.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d;}a(c)}c()};"undefined"!==typeof define&&define.amd?define([],function(){return k}):"undefined"!==typeof r&&r.exports?r.exports=k:l.async=k})()})(n("__browserify_process"))},
{__browserify_process:3}],48:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];this.merge(k,d.helpers);var e;d=this.escapeExpression;return a=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h1 class="title">'+d((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+'</h1>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>')})},
{"handlebars-runtime":89}],50:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];this.merge(k,d.helpers);var e;d=this.escapeExpression;return a=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h2>Sorry!</h2>\n      <p>\n        There are no pages on '+d((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+"'s site yet.\n      </p>\n      <p>\n        <strong>Are you "+
d((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+'?</strong><br />\n        Log in with the link in the footer, create a page, and make it public to remove this message.\n      </p>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>')})},{"handlebars-runtime":89}],46:[function(n,r,w){(function(){var d=n("../base"),a=n("backbone"),k=n("lodash"),d=d.extend({template:n("../../templates/layout/navbar.hbs"),initialize:function(a){this.app=a.app;
this.pages=this.app.db.fetchCollection("pages");this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.pages,"change add remove sort",this.render,this);this.listenTo(this.unprocessed,"change add remove",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.app,"flash",this.render,this);this.renderOnReady(this.pages,this.unprocessed,this.app.getUser())},context:function(){var d=null,f=null,e=[],n=this.unprocessed.length,u=this.unprocessed.length+
" upload"+(1===this.unprocessed.length?"":"s")+" "+(1===this.unprocessed.length?"is":"are")+" being encoded",p=this.app.getCustomization(),x;p&&(p.attributes&&p.attributes.config)&&(p=p.attributes.config,x=p.showContact?p.showContact.value:!1);this.pages.forEach(function(p){if(this.app.isLoggedIn()||p.attributes.isPublished){var b=encodeURIComponent(p.attributes.name);p=k.extend(k.clone(p.attributes),{href:"/page/"+b,editHref:"/page/"+b+"/edit",addHref:"/page/"+b+"/addMedia",active:!1});if(a.history.fragment===
p.href.replace(/^\//,"")||0==a.history.fragment.indexOf("page/"+b+"/"))p.active=!0,f=p.editHref,d=p.addHref;e.push(p)}},this);return this.getContext({pages:e,editPageHref:f,addMediaHref:d,showContact:x,createHref:"/createPage",reviewHref:"/review",reorderHref:"/reorder",hasAtLeastTwoPages:1<this.pages.length,isHome:""===a.history.fragment,isContact:a.history.fragment.match(/^contact/)?!0:!1,isPage:a.history.fragment.match(/^(edit)?[pP]age\//)?!0:!1,isEditingPage:a.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/edit$/)?
!0:!1,isAddingMedia:a.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/(addMedia|pickMedia)$/)?!0:!1,isEditingMedia:a.history.fragment.match(/^media\/(image|video)\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isCreatingPage:a.history.fragment.match(/^createPage/)?!0:!1,isReviewingUploads:a.history.fragment.match(/^review/)?!0:!1,isReorderingPages:a.history.fragment.match(/^reorder/)?!0:!1,unprocessedCount:n,unprocessedPrompt:u})},afterRender:function(){this.eachSubview(function(a){a.render()});this.$(".alert").alert()}});
r.exports=d})()},{"../../templates/layout/navbar.hbs":90,"../base":49,backbone:63,lodash:36}],55:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){function e(a,b){return'\n          <div class="alert alert-info">\n            <h3>Test Account Available</h3>\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\n            <a class="provisionTestAccount btn btn-info btn-block">Create Test Account</a>\n          </div>\n        '}
function n(a,b){var c,d;return c=""+('\n          <div class="alert alert-error">\n            '+p((d=(d=a.user,null==d||!1===d?d:d.error),typeof d===u?d.apply(a):d))+"\n          </div>\n        ")}this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var u="function",p=this.escapeExpression,x=this;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3">\n      ';if((a=k["if"].call(a,a.isLoggedIn,{hash:{},inverse:x.program(3,
function(a,b){var c,d,f;c="\n        ";if((d=k["if"].call(a,a.debug,{hash:{},inverse:x.noop,fn:x.program(4,e,b),data:b}))||0===d)c+=d;c+="\n        ";if((f=k["if"].call(a,(d=a.user,null==d||!1===d?d:d.error),{hash:{},inverse:x.noop,fn:x.program(6,n,b),data:b}))||0===f)c+=f;return c+='\n        <form>\n          <div class="control-group">\n            <input type="text" name="username" value="'+p((d=(d=a.user,null==d||!1===d?d:d.username),typeof d===u?d.apply(a):d))+'" class="span6" placeholder="Username" />\n          </div>\n          <div class="control-group">\n            <input type="password" name="password" value="" class="span6" placeholder="Password" />\n          </div>\n          <div class="actions">\n            <button type="submit" class="btn btn-primary btn-block">Log In</button>\n          </div>\n        </form>\n      '},
f),fn:x.program(1,function(a,b){var c,d;return c=""+('\n        <div class="alert alert-info">\n          <h3>Welcome Back, '+p((d=(d=a.user,null==d||!1===d?d:d.username),typeof d===u?d.apply(a):d))+'</h3>\n          <p>You\'re now able to edit your website.</p>\n          <a href="/" class="btn btn-info btn-wide app">Go to homepage</a>\n          <a href="/logout" class="btn btn-danger btn-wide app">Log Out</a>\n        </div>\n      ')},f),data:f}))||0===a)d+=a;return d+'\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},
{"handlebars-runtime":89}],56:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var e=this.escapeExpression;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>File</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          ';
if((l=k.each.call(a,a.unprocessed,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){var f,l;f="\n            <tr>\n              <td><big>";(l=k.name)?l=l.call(a,{hash:{},data:d}):(l=a.name,l="function"===typeof l?l.apply(a):l);f+=e(l)+"</big></td>\n              <td><big>";(l=k.reviewIssue)?l=l.call(a,{hash:{},data:d}):(l=a.reviewIssue,l="function"===typeof l?l.apply(a):l);return f+=e(l)+"</big></td>\n            </tr>\n          "},f),data:f}))||0===l)d+=l;d+="\n          ";if((l=k["if"].call(a,
a.nothingToReview,{hash:{},inverse:this.noop,fn:this.program(3,function(a,d){return'\n            <tr>\n              <td colspan="2">All videos encoded!</td>\n            </tr>\n          '},f),data:f}))||0===l)d+=l;return d+'\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":89}],57:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,
d.helpers);f=f||{};var e;l=this.escapeExpression;d=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3 centered">\n      <form>\n        <fieldset>\n          <legend>Send '+l((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+' A Message</legend>\n          <label class="control-label" for="name">Your Name</label>\n          <input type="text" id="name" name="name" placeholder="John Doe" class="span6" value="');
(e=k.nameVal)?e=e.call(a,{hash:{},data:f}):(e=a.nameVal,e="function"===typeof e?e.apply(a):e);d+=l(e)+'">\n          <label class="control-label" for="email">Your Email</label>\n          <input type="email" id="email" name="email" placeholder="john@doe.com" class="span6" value="';(e=k.emailVal)?e=e.call(a,{hash:{},data:f}):(e=a.emailVal,e="function"===typeof e?e.apply(a):e);d+=l(e)+'">\n          <label class="control-label" for="message">Your Message</label>\n          <textarea id="message" name="message" placeholder="Your Message" rows="5" class="span6">';
(e=k.messageVal)?e=e.call(a,{hash:{},data:f}):(e=a.messageVal,e="function"===typeof e?e.apply(a):e);return d+=l(e)+'</textarea>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success" data-loading-text="Sending...">Send</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":89}],89:[function(n,
r,w){n={};r.exports=n;(function(d,a){d.VERSION="1.0.0";d.COMPILER_REVISION=4;d.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};d.helpers={};d.partials={};var k=Object.prototype.toString;d.registerHelper=function(a,e,f){if("[object Object]"===k.call(a)){if(f||e)throw new d.Exception("Arg not supported with multiple helpers");d.Utils.extend(this.helpers,a)}else f&&(e.not=f),this.helpers[a]=e};d.registerPartial=function(a,e){"[object Object]"===k.call(a)?d.Utils.extend(this.partials,
a):this.partials[a]=e};d.registerHelper("helperMissing",function(d){if(2===arguments.length)return a;throw Error("Missing helper: '"+d+"'");});d.registerHelper("blockHelperMissing",function(a,e){var f=e.inverse||function(){},b=e.fn,c=k.call(a);"[object Function]"===c&&(a=a.call(this));return!0===a?b(this):!1===a||null==a?f(this):"[object Array]"===c?0<a.length?d.helpers.each(a,e):f(this):b(a)});d.K=function(){};d.createFrame=Object.create||function(a){d.K.prototype=a;a=new d.K;d.K.prototype=null;
return a};d.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(a,e){if(d.logger.level<=a){var f=d.logger.methodMap[a];"undefined"!==typeof console&&console[f]&&console[f].call(console,e)}}};d.log=function(a,e){d.logger.log(a,e)};d.registerHelper("each",function(a,e){var f=e.fn,b=e.inverse,c=0,g="",m;"[object Function]"===k.call(a)&&(a=a.call(this));e.data&&(m=d.createFrame(e.data));if(a&&"object"===typeof a)if(a instanceof Array)for(var l=
a.length;c<l;c++)m&&(m.index=c),g+=f(a[c],{data:m});else for(l in a)a.hasOwnProperty(l)&&(m&&(m.key=l),g+=f(a[l],{data:m}),c++);0===c&&(g=b(this));return g});d.registerHelper("if",function(a,e){"[object Function]"===k.call(a)&&(a=a.call(this));return!a||d.Utils.isEmpty(a)?e.inverse(this):e.fn(this)});d.registerHelper("unless",function(a,e){return d.helpers["if"].call(this,a,{fn:e.inverse,inverse:e.fn})});d.registerHelper("with",function(a,e){"[object Function]"===k.call(a)&&(a=a.call(this));if(!d.Utils.isEmpty(a))return e.fn(a)});
d.registerHelper("log",function(a,e){var f=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;d.log(f,a)});var l="description fileName lineNumber message name number stack".split(" ");d.Exception=function(a){for(var d=Error.prototype.constructor.apply(this,arguments),e=0;e<l.length;e++)this[l[e]]=d[l[e]]};d.Exception.prototype=Error();d.SafeString=function(a){this.string=a};d.SafeString.prototype.toString=function(){return this.string.toString()};var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;",
"'":"&#x27;","`":"&#x60;"},e=/[&<>"'`]/g,n=/[&<>"'`]/,u=function(a){return f[a]||"&amp;"};d.Utils={extend:function(a,d){for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])},escapeExpression:function(a){if(a instanceof d.SafeString)return a.toString();if(null==a||!1===a)return"";a=a.toString();return n.test(a)?a.replace(e,u):a},isEmpty:function(a){return a||0===a?"[object Array]"===k.call(a)&&0===a.length?!0:!1:!0}};d.VM={template:function(a){var e={escapeExpression:d.Utils.escapeExpression,invokePartial:d.VM.invokePartial,
programs:[],program:function(a,b,c){var g=this.programs[a];c?g=d.VM.program(a,b,c):g||(g=this.programs[a]=d.VM.program(a,b));return g},merge:function(a,b){var c=a||b;a&&b&&(c={},d.Utils.extend(c,b),d.Utils.extend(c,a));return c},programWithDepth:d.VM.programWithDepth,noop:d.VM.noop,compilerInfo:null};return function(f,b){b=b||{};var c=a.call(e,d,f,b.helpers,b.partials,b.data),g=e.compilerInfo||[],m=g[0]||1,k=d.COMPILER_REVISION;if(m!==k){if(m<k)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
d.REVISION_CHANGES[k]+") or downgrade your runtime to an older version ("+d.REVISION_CHANGES[m]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+").";}return c}},programWithDepth:function(a,d,e){var b=Array.prototype.slice.call(arguments,3),c=function(a,c){c=c||{};return d.apply(this,[a,c.data||e].concat(b))};c.program=a;c.depth=b.length;return c},program:function(a,d,e){var b=function(a,b){b=b||
{};return d(a,b.data||e)};b.program=a;b.depth=0;return b},noop:function(){return""},invokePartial:function(e,f,k,b,c,g){b={helpers:b,partials:c,data:g};if(e===a)throw new d.Exception("The partial "+f+" could not be found");if(e instanceof Function)return e(k,b);if(d.compile)return c[f]=d.compile(e,{data:g!==a}),c[f](k,b);throw new d.Exception("The partial "+f+" could not be compiled when running in runtime-only mode");}};d.template=d.VM.template})(n)},{}],79:[function(n,r,w){n=n("handlebars-runtime");
r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var e;d=this.escapeExpression;d=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>New Media Page</legend>\n          <div class="control-group">\n            <label class="control-label" for="name">Page Title</label>\n            <input type="text" id="name" name="name" placeholder="Untitled Page" value="'+
d((e=(e=a.page,null==e||!1===e?e:e.name),"function"===typeof e?e.apply(a):e))+'">\n          </div>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Create</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>Custom Pages</legend>\n          <div class="control-group">\n            <label class="control-label" for="showContact">Show Contact Page?</label>\n            <div class="switch switch-large"\n              data-on-label="Yes"\n              data-off-label="No">\n              <input name="showContact" ');
if((a=k["if"].call(a,a.showContact,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){return'checked="checked"'},f),data:f}))||0===a)d+=a;return d+' type="checkbox" />\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":89}],58:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);
f=f||{};var e,n=this.escapeExpression;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    ';if((a=k["if"].call(a,(e=a.page,null==e||!1===e?e:e.id),{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){var e,f;e='\n    <div class="span2 offset4 centered">\n      <div id="uploadFileLink">\n        <p>\n          <a href="#" class="filepicker">\n            <img class="flatIcon" src="/img/file_upload.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="filepicker btn btn-success">Upload File</a>\n        </p>\n      </div>\n    </div>\n    <div class="span2 centered">\n      <div id="pickFileLink">\n        <p>\n          <a href="';
(f=k.pickMediaUrl)?f=f.call(a,{hash:{},data:d}):(f=a.pickMediaUrl,f="function"===typeof f?f.apply(a):f);e+=n(f)+'" class="app">\n            <img class="flatIcon" src="/img/folder.png" alt="pick-file" />\n          </a>\n        </p>\n        <p>\n          <a href="';(f=k.pickMediaUrl)?f=f.call(a,{hash:{},data:d}):(f=a.pickMediaUrl,f="function"===typeof f?f.apply(a):f);return e+=n(f)+'" class="useExisting btn btn-info app">Use Existing</a>\n        </p>\n      </div>\n    </div>\n    '},f),data:f}))||
0===a)d+=a;return d+'\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":89}],84:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){function e(a,b){var d,e;d="\n        ";if((e=k["if"].call(a,a.isEncoding,{hash:{},inverse:c.program(5,u,b),fn:c.program(3,n,b),data:b}))||0===e)d+=e;return d+"\n      "}function n(a,c){var d,e;d='\n          <img id="media_image" class="pickerHolder" alt="';(e=k.name)?e=e.call(a,{hash:{},data:c}):
(e=a.name,e=typeof e===r?e.apply(a):e);d+=b(e)+'" src="';(e=k.thumbnailUrl)?e=e.call(a,{hash:{},data:c}):(e=a.thumbnailUrl,e=typeof e===r?e.apply(a):e);return d+=b(e)+'" />\n        '}function u(a,b){return'\n          <div id="vid_placeholder" />\n        '}function p(a,c){var d,e;d='\n        <img id="media_image" class="pickerHolder" alt="';(e=k.name)?e=e.call(a,{hash:{},data:c}):(e=a.name,e=typeof e===r?e.apply(a):e);d+=b(e)+'" src="';(e=k.url)?e=e.call(a,{hash:{},data:c}):(e=a.url,e=typeof e===
r?e.apply(a):e);return d+=b(e)+'" />\n      '}function x(a,b){var c,d;c="\n          <li>";if((d=typeof a===r?a.apply(a):a)||0===d)c+=d;return c+"</li>\n        "}this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var r="function",b=this.escapeExpression,c=this;d='<div id="carouselWrapper">\n</div>\n<div id="content" class="container">\n  <div class="row">\n    <div id="preview" class="span12 centered previewPadding">\n    ';if((a=k["with"].call(a,a.media,{hash:{},inverse:c.noop,fn:c.program(1,
function(a,d){var f,l;f="\n      ";if((l=k["if"].call(a,a.isVideo,{hash:{},inverse:c.program(7,p,d),fn:c.program(2,e,d),data:d}))||0===l)f+=l;f+='\n      <div class="media_meta">\n        <h4>';(l=k.name)?l=l.call(a,{hash:{},data:d}):(l=a.name,l=typeof l===r?l.apply(a):l);f+=b(l)+"</h4>\n        <ul>\n        ";if((l=k.each.call(a,a.attribs,{hash:{},inverse:c.noop,fn:c.program(9,x,d),data:d}))||0===l)f+=l;return f+"\n        </ul>\n      </div>\n    "},f),data:f}))||0===a)d+=a;return d+"\n    </div>\n  </div>\n</div>\n"})},
{"handlebars-runtime":89}],60:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];this.merge(k,d.helpers);return'<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":89}],82:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);
f=f||{};var e=this.escapeExpression;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span4 offset4 centered">\n    <form>\n      <fieldset>\n        <legend>Drag To Sort</legend>\n        <ul class="sortable pageSortable">\n        ';if((a=k.each.call(a,a.pages,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){var f,l;f='\n          <li data-uuid="';(l=k.id)?l=l.call(a,{hash:{},data:d}):(l=a.id,l="function"===typeof l?l.apply(a):
l);f+=e(l)+'">';(l=k.name)?l=l.call(a,{hash:{},data:d}):(l=a.name,l="function"===typeof l?l.apply(a):l);return f+=e(l)+"</li>\n        "},f),data:f}))||0===a)d+=a;return d+'\n        </ul>\n      </fieldset>\n      <div class="control-group">\n        <div class="controls">\n          <button type="submit" class="btn btn-success" data-loading-text="Saving...">Save</button>\n        </div>\n      </div>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},
{"handlebars-runtime":89}],81:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){function e(a,d){var e,f;e="\n        <fieldset>\n          <legend>Set A Thumbnail</legend>\n          ";if((f=k["if"].call(a,a.thumbnailS3key,{hash:{},inverse:c.program(5,u,d),fn:c.program(3,n,d),data:d}))||0===f)e+=f;e+='\n          <div class="control-group">\n            <div class="controls">\n              ';if((f=k["if"].call(a,a.isImage,{hash:{},inverse:c.noop,fn:c.program(7,p,
d),data:d}))||0===f)e+=f;e+="\n              ";if((f=k["if"].call(a,a.isVideo,{hash:{},inverse:c.noop,fn:c.program(9,x,d),data:d}))||0===f)e+=f;e+='\n              <a id="useCustomButton" href="#" class="btn btn-success upload">Upload Thumbnail</a>\n            </div>\n          </div>\n          <input type="hidden" id="thumbnail" name="thumbnail" value="';(f=k.thumbnail)?f=f.call(a,{hash:{},data:d}):(f=a.thumbnail,f=typeof f===r?f.apply(a):f);return e+=b(f)+'">\n        </fieldset>\n        '}function n(a,
c){var d,e;d='\n            <p>\n              <img src="';(e=k.thumbnailUrl)?e=e.call(a,{hash:{},data:c}):(e=a.thumbnailUrl,e=typeof e===r?e.apply(a):e);d+=b(e)+'" class="thumbHolder img-polaroid" alt="';(e=k.name)?e=e.call(a,{hash:{},data:c}):(e=a.name,e=typeof e===r?e.apply(a):e);return d+=b(e)+' Thumbnail" />\n            </p>\n          '}function u(a,b){return'\n            <div class="alert alert-warning">\n              <big>No thumbnail yet! Select or upload one.</big>\n            </div>\n          '}
function p(a,b){return'\n                <a id="useOriginalButton" href="#" class="btn btn-info crop" data-loading-text="Processing...">Use Original</a>\n              '}function x(a,b){return'\n                <a id="useCaptureButton" href="#" class="btn btn-info capture" data-loading-text="Processing...">Use Current Frame</a>\n              '}this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};d="";var r="function",b=this.escapeExpression,c=this;if((a=k["with"].call(a,a.media,{hash:{},
inverse:c.noop,fn:c.programWithDepth(1,function(a,d,f){var l,n;l='\n<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6">\n      <form>\n        <fieldset>\n          <legend>Edit ';(n=k.name)?n=n.call(a,{hash:{},data:d}):(n=a.name,n=typeof n===r?n.apply(a):n);l+=b(n)+'</legend>\n          <label class="control-label" for="name">Title</label>\n          <input type="text" id="fileNameField" name="name" placeholder="Untitled ';(n=k.type)?
n=n.call(a,{hash:{},data:d}):(n=a.type,n=typeof n===r?n.apply(a):n);l+=b(n)+'" value="';(n=k.name)?n=n.call(a,{hash:{},data:d}):(n=a.name,n=typeof n===r?n.apply(a):n);l+=b(n)+'">\n          <label class="control-label" for="attributes">Labels <span data-toggle="tooltip" data-title="Example Attributes" data-content="These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to get additional formatting.&lt;/p&gt;" class="fui-question"></span></label>\n          <input name="attribs" class="tagsinput tagsinput-primary" value="';
(n=k.attributeList)?n=n.call(a,{hash:{},data:d}):(n=a.attributeList,n=typeof n===r?n.apply(a):n);l+=b(n)+'" id="tags1371235017630" style="display: none;" />\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Save</button>\n              <a class="btn btn-danger">Delete</a>\n            </div>\n          </div>\n        </fieldset>\n        ';if((n=k["if"].call(a,f.isEncoded,{hash:{},inverse:c.noop,fn:c.program(2,
e,d),data:d}))||0===n)l+=n;return l+'\n      </form>\n    </div>\n    <div id="thumber" class="span6">\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'},f,a),data:f}))||0===a)d+=a;return d+"\n"})},{"handlebars-runtime":89}],80:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var e,n=this.escapeExpression;d=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="alert alert-block">\n      <h3>This Is All Your Media</h3>\n      <p>\n        Select a file to add it to '+
n((e=(e=a.page,null==e||!1===e?e:e.name),"function"===typeof e?e.apply(a):e))+', or <a href="');(e=k.uploadUrl)?e=e.call(a,{hash:{},data:f}):(e=a.uploadUrl,e="function"===typeof e?e.apply(a):e);d+=n(e)+'" class="app">Upload A New File</a>.\n      </p>\n    </div>\n    <ul class="reelgrid">\n    ';if((e=k.each.call(a,a.media,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){var e,f;e='\n      <li>\n        <div class="relfix">\n          <a href="#" data-media-id="';(f=k.id)?f=f.call(a,{hash:{},
data:d}):(f=a.id,f="function"===typeof f?f.apply(a):f);e+=n(f)+'" data-media-type="';(f=k.type)?f=f.call(a,{hash:{},data:d}):(f=a.type,f="function"===typeof f?f.apply(a):f);e+=n(f)+'">\n            <img src="';(f=k.thumbnailUrl)?f=f.call(a,{hash:{},data:d}):(f=a.thumbnailUrl,f="function"===typeof f?f.apply(a):f);e+=n(f)+'" alt="';(f=k.name)?f=f.call(a,{hash:{},data:d}):(f=a.name,f="function"===typeof f?f.apply(a):f);e+=n(f)+'" />\n            <div class="captions centered">\n              <h2>';(f=
k.name)?f=f.call(a,{hash:{},data:d}):(f=a.name,f="function"===typeof f?f.apply(a):f);return e+=n(f)+"</h2>\n            </div>\n          </a>\n        </div>\n      </li>\n    "},f),data:f}))||0===e)d+=e;return d+'\n    </ul>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":89}],62:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){function e(a,d){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,
d.helpers);f=f||{};var n=this.escapeExpression,u=this;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n    <form>\n      ';if((l=k["with"].call(a,a.page,{hash:{},inverse:u.noop,fn:u.program(1,function(a,d){var f,b;f="\n      <fieldset>\n        <legend>Edit ";(b=k.name)?b=b.call(a,{hash:{},data:d}):(b=a.name,b="function"===typeof b?b.apply(a):b);f+=n(b)+'</legend>\n        <label class="control-label" for="name">Page Title</label>\n        <input type="text" id="name" name="name" placeholder="Untitled Page" value="';
(b=k.name)?b=b.call(a,{hash:{},data:d}):(b=a.name,b="function"===typeof b?b.apply(a):b);f+=n(b)+'">\n        <div class="control-group">\n          <label class="control-label" for="isPublished">Visible To Public?</label>\n          <div class="switch switch-large"\n            data-on-label="Yes"\n            data-off-label="No">\n            <input name="isPublished" ';if((b=k["if"].call(a,a.isPublished,{hash:{},inverse:u.noop,fn:u.program(2,e,d),data:d}))||0===b)f+=b;return f+' type="checkbox" />\n          </div>\n        </div>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <a class="btn btn-danger">Delete</a>\n          </div>\n        </div>\n      </fieldset>\n      '},
f),data:f}))||0===l)d+=l;d+='\n      <fieldset>\n        <legend>Sort Media</legend>\n        <ul class="mediagrid sortable">\n        ';if((l=k.each.call(a,a.media,{hash:{},inverse:u.noop,fn:u.program(4,function(a,d){var e,b;e='\n          <li class="span4" data-uuid="';(b=k.id)?b=b.call(a,{hash:{},data:d}):(b=a.id,b="function"===typeof b?b.apply(a):b);e+=n(b)+'">\n            <div class="relfix">\n              <img src="';(b=k.thumbnailUrl)?b=b.call(a,{hash:{},data:d}):(b=a.thumbnailUrl,b="function"===
typeof b?b.apply(a):b);e+=n(b)+'" alt="';(b=k.name)?b=b.call(a,{hash:{},data:d}):(b=a.name,b="function"===typeof b?b.apply(a):b);e+=n(b)+'" class="img-polaroid" />\n              <p class="absfix">\n                <a href="';(b=k.editHref)?b=b.call(a,{hash:{},data:d}):(b=a.editHref,b="function"===typeof b?b.apply(a):b);return e+=n(b)+'" class="app btn btn-mini btn-info">Edit</a>\n              </p>\n            </div>\n          </li>\n        '},f),data:f}))||0===l)d+=l;return d+'\n        </ul>\n      </fieldset>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},
{"handlebars-runtime":89}],85:[function(n,r,w){(function(){var d=n("../../base"),a=n("backbone"),k=n("../../../helpers/lib/holder.js"),d=d.extend({template:n("../../../templates/routes/media/carousel.hbs"),events:{"click a.bigClose":"exitPlayer","click a.reelToggle":"toggleReel","click a.app":"handleAppLink","click a.goLeft":"handleLeftButton","click a.goRight":"handleRightButton"},reelOpen:null,initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});
var d=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);this.listenTo(this.app,"videoEnded",this.advance,this);d.once("ready",function(){var e=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});e?this.page.set(e.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",
this.render,this)},this)},context:function(){var a=[],d=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(e){a.push(e.templateVars(d,!0))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){var a=this.currentMedia();this.$(".carousel").elastislide();null===this.reelOpen&&this.toggleReel(null,!1,0);k.run();a&&(this.advance(a,!0)&&this.$("a.goRight").removeClass("hidden"),this.reverse(a,!0)&&this.$("a.goLeft").removeClass("hidden"))},
advance:function(a,d,e){var k=this,n=!1,p=null,x,r=encodeURIComponent(k.page.attributes.name),b,c,g,m=this.page.getMedia();null==e&&(e=1E3);if(this.page&&m){b=0;for(c=m.models.length;b<c;b++)if(g=m.models[b],a.id===g.id)n=!0;else if(n){p=g;break}if(p){x=p.templateVars(r).playerUrl;if(d)return!0;setTimeout(function(){k.app.navigate(x,{trigger:!0})},e)}}return!1},reverse:function(a,d,e){var k=this,n=!1,p=null,r,w=encodeURIComponent(k.page.attributes.name),b,c,g=this.page.getMedia();null==e&&(e=1E3);
if(this.page&&g){for(b=g.models.length-1;0<=b;b--)if(c=g.models[b],a.id===c.id)n=!0;else if(n){p=c;break}if(p){r=p.templateVars(w).playerUrl;if(d)return!0;setTimeout(function(){k.app.navigate(r,{trigger:!0})},e)}}return!1},handleLeftButton:function(a){a&&(a.preventDefault(),a.stopPropagation());this.reverse(this.currentMedia(),!1,0)},handleRightButton:function(a){a&&(a.preventDefault(),a.stopPropagation());this.advance(this.currentMedia(),!1,0)},currentMedia:function(){return this.media?this.media.findWhere({id:a.history.fragment.split("/").pop()}):
!1},toggleReel:function(a,d,e){null==e&&(e=400);a&&(a.preventDefault(),a.stopPropagation());!1!==d&&(this.reelOpen=!this.reelOpen);this.reelOpen?(this.$(".sliderWrap").slideDown(e),this.$(".symbol").html("&and;")):(this.$(".sliderWrap").slideUp(e),this.$(".symbol").html("&or;"))},exitPlayer:function(a){a.preventDefault();a.stopPropagation();this.app.navigate("page/"+this.page.attributes.name,{trigger:!0})}});r.exports=d})()},{"../../../helpers/lib/holder.js":61,"../../../templates/routes/media/carousel.hbs":91,
"../../base":49,backbone:63}],74:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var e;l=this.escapeExpression;d='  <div class="container">\n    <div class="row">\n      <div class="span12">\n        <ul class="bottom-links">\n          ';if((e=k["if"].call(a,a.isLoggedIn,{hash:{},inverse:this.program(3,function(a,d){return'\n            <li><a href="/login" class="app">Log In</a></li>\n          '},
f),fn:this.program(1,function(a,d){return'\n            <li><a href="/logout" class="app">Log Out</a></li>\n          '},f),data:f}))||0===e)d+=e;d+='\n        </ul>\n        <span class="pull-right">&copy; '+l((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+" ";(k=k.copyrightYear)?k=k.call(a,{hash:{},data:f}):(k=a.copyrightYear,k="function"===typeof k?k.apply(a):k);return d+=l(k)+"</span>\n      </div>\n    </div>\n  </div>\n"})},{"handlebars-runtime":89}],90:[function(n,
r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){function e(a,b){var c,d;c='\n        <a href="';(d=k.href)?d=d.call(a,{hash:{},data:b}):(d=a.href,d=typeof d===L?d.apply(a):d);c+=E(d)+'" class="current app boxed">';(d=k.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===L?d.apply(a):d);return c+=E(d)+"</a>\n      "}function n(a,b){var c,d;c='\n        <a href="';(d=k.href)?d=d.call(a,{hash:{},data:b}):(d=a.href,d=typeof d===L?d.apply(a):d);c+=E(d)+'" class="app boxed">';
(d=k.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===L?d.apply(a):d);return c+=E(d)+"</a>\n      "}function u(a,b){var c,d;c="\n        <br />\n        ";if((d=k["if"].call(a,a.isPublished,{hash:{},inverse:D.program(9,r,b),fn:D.program(7,p,b),data:b}))||0===d)c+=d;return c+"\n      "}function p(a,b){var c,d;c='\n          <a href="';(d=k.editHref)?d=d.call(a,{hash:{},data:b}):(d=a.editHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" class="app pageStatus">Public</a>\n        '}function r(a,
b){var c,d;c='\n          <a href="';(d=k.editHref)?d=d.call(a,{hash:{},data:b}):(d=a.editHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" class="app pageStatus">Private</a>\n        '}function w(a,b){return'\n        <li class="contact"><a href="/contact" class="current app boxed">Contact</a></li>\n      '}function b(a,b){return'\n        <li class="contact"><a href="/contact" class="app boxed">Contact</a></li>\n      '}function c(a,b){var c,d;c="\n      ";if((d=k["if"].call(a,a.isAddingMedia,
{hash:{},inverse:D.program(20,m,b),fn:D.program(18,g,b),data:b}))||0===d)c+=d;c+="\n      ";if((d=k["if"].call(a,a.isEditingPage,{hash:{},inverse:D.program(24,C,b),fn:D.program(22,z,b),data:b}))||0===d)c+=d;return c+"\n    "}function g(a,b){var c,d;c='\n        <li><a href="';(d=k.addMediaHref)?d=d.call(a,{hash:{},data:b}):(d=a.addMediaHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" id="addMediaLink" class="current app boxed">Add Media</a></li>\n      '}function m(a,b){var c,d;c='\n        <li><a href="';
(d=k.addMediaHref)?d=d.call(a,{hash:{},data:b}):(d=a.addMediaHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" id="addMediaLink" class="app boxed">Add Media</a></li>\n      '}function z(a,b){var c,d;c='\n        <li><a href="';(d=k.editPageHref)?d=d.call(a,{hash:{},data:b}):(d=a.editPageHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" class="current app boxed">Edit Page</a></li>\n      '}function C(a,b){var c,d;c='\n        <li><a href="';(d=k.editPageHref)?d=d.call(a,{hash:{},data:b}):(d=a.editPageHref,
d=typeof d===L?d.apply(a):d);return c+=E(d)+'" class="app boxed">Edit Page</a></li>\n      '}function A(a,b){var c,d;c='\n      <li><a href="';(d=k.createHref)?d=d.call(a,{hash:{},data:b}):(d=a.createHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" id="newPageLink" class="current app boxed">New Page</a></li>\n    '}function G(a,b){var c,d;c='\n      <li><a href="';(d=k.createHref)?d=d.call(a,{hash:{},data:b}):(d=a.createHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" id="newPageLink" class="app boxed">New Page</a></li>\n    '}
function F(a,b){var c,d;c="\n      ";if((d=k["if"].call(a,a.isReorderingPages,{hash:{},inverse:D.program(33,s,b),fn:D.program(31,I,b),data:b}))||0===d)c+=d;return c+"\n    "}function I(a,b){var c,d;c='\n        <li><a href="';(d=k.reorderHref)?d=d.call(a,{hash:{},data:b}):(d=a.reorderHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" id="reorderPageLink" class="current app boxed">Sort Pages</a></li>\n      '}function s(a,b){var c,d;c='\n        <li><a href="';(d=k.reorderHref)?d=d.call(a,{hash:{},
data:b}):(d=a.reorderHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" id="reorderPageLink" class="app boxed">Sort Pages</a></li>\n      '}function J(a,b){var c,d;c='\n      <li><a href="';(d=k.reviewHref)?d=d.call(a,{hash:{},data:b}):(d=a.reviewHref,d=typeof d===L?d.apply(a):d);return c+=E(d)+'" class="current app boxed">Encoding</a></li>\n    '}function Aa(a,b){var c,d;c='\n  <div id="unprocessedPrompt" class="alert alert-info centered">\n    <a href="/review" class="btn btn-info btn-wide app">';
(d=k.unprocessedPrompt)?d=d.call(a,{hash:{},data:b}):(d=a.unprocessedPrompt,d=typeof d===L?d.apply(a):d);return c+=E(d)+"</a>\n  </div>\n  "}this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var L="function",E=this.escapeExpression,D=this,ka=k.blockHelperMissing;d='<div class="centered-boxes">\n  <ul id="mainnav" class="nav nav-boxes">\n    \n    ';if((l=k.each.call(a,a.pages,{hash:{},inverse:D.noop,fn:D.programWithDepth(1,function(a,b,c){var d,g;d="\n      <li>\n      ";if((g=k["if"].call(a,
a.active,{hash:{},inverse:D.program(4,n,b),fn:D.program(2,e,b),data:b}))||0===g)d+=g;d+="\n      ";if((g=k["if"].call(a,c.isLoggedIn,{hash:{},inverse:D.noop,fn:D.program(6,u,b),data:b}))||0===g)d+=g;return d+"\n      </li>\n    "},f,a),data:f}))||0===l)d+=l;d+="\n    ";if((l=k["if"].call(a,a.showContact,{hash:{},inverse:D.noop,fn:D.program(11,function(a,c){var d,g;d="\n      ";if((g=k["if"].call(a,a.isContact,{hash:{},inverse:D.program(14,b,c),fn:D.program(12,w,c),data:c}))||0===g)d+=g;return d+"\n    "},
f),data:f}))||0===l)d+=l;d+="\n  </ul>\n</div>\n";if((l=k["if"].call(a,a.isLoggedIn,{hash:{},inverse:D.noop,fn:D.program(16,function(a,b){var d,g;d='\n<div class="centered-boxes">\n  <ul class="nav nav-boxes actionable">\n    ';if((g=k["if"].call(a,a.isPage,{hash:{},inverse:D.noop,fn:D.program(17,c,b),data:b}))||0===g)d+=g;d+="\n    ";if((g=k["if"].call(a,a.isCreatingPage,{hash:{},inverse:D.program(28,G,b),fn:D.program(26,A,b),data:b}))||0===g)d+=g;d+="\n    ";if((g=k["if"].call(a,a.hasAtLeastTwoPages,
{hash:{},inverse:D.noop,fn:D.program(30,F,b),data:b}))||0===g)d+=g;d+="\n    ";if((g=k["if"].call(a,a.isReviewingUploads,{hash:{},inverse:D.noop,fn:D.program(35,J,b),data:b}))||0===g)d+=g;return d+"\n  </ul>\n</div>\n"},f),data:f}))||0===l)d+=l;d+="\n";if((l=k.unless.call(a,a.isReviewingUploads,{hash:{},inverse:D.noop,fn:D.program(37,function(a,b){var c,d;c="\n  ";if((d=k["if"].call(a,a.unprocessedCount,{hash:{},inverse:D.noop,fn:D.program(38,Aa,b),data:b}))||0===d)c+=d;return c+"\n"},f),data:f}))||
0===l)d+=l;d+="\n";f={hash:{},inverse:D.noop,fn:D.program(40,function(a,b){var c,d;c='\n<div class="alert alert-';(d=k.type)?d=d.call(a,{hash:{},data:b}):(d=a.type,d=typeof d===L?d.apply(a):d);c+=E(d)+'">\n  <button type="button" class="close fui-cross" data-dismiss="alert"></button>\n  ';(d=k.message)?d=d.call(a,{hash:{},data:b}):(d=a.message,d=typeof d===L?d.apply(a):d);return c+=E(d)+"\n</div>\n"},f),data:f};(l=k.flash)?l=l.call(a,f):(l=a.flash,l=typeof l===L?l.apply(a):l);k.flash||(l=ka.call(a,
l,f));if(l||0===l)d+=l;return d+"\n"})},{"handlebars-runtime":89}],88:[function(n,r,w){var d=n("lodash");n=n("backbone").View.extend({initialize:function(a){this.beforeInit&&this.beforeInit(a);this.template=this.template||a.template;this.template||(this.template=function(){return""});this.afterInit&&this.afterInit(a);this.render()},context:function(){return d.extend({},this.options,this.model)},close:function(){this.beforeClose&&this.beforeClose();this.closeSubviews();this.off();this.remove()},render:function(){var a=
this,k=this.model;this.beforeRender&&this.beforeRender();this.closeSubviews();this.$el.empty();this.beforeTemplating&&(k=this.beforeTemplating());this.context&&(k=this.context());this.$el.html(this.template(k));d.defer(function(){a.trigger("afterRender")});this.afterRender&&this.afterRender();return this},proxy:function(a,d){var l=this;d.on(a,function(){var d=Array.prototype.slice.call(arguments,0);d.splice(0,0,a);l.trigger.apply(l,d)})},eachSubview:function(a){d.each(this.subviews,a)},appendSubview:function(a,
k){k||(k=this.$el);this.subviews=this.subviews||{};this.subviews[a.cid]=a;k.append(a.el);d.defer(function(){a.trigger("afterAppend")});a.afterAppend&&a.afterAppend()},closeSubviews:function(){this.eachSubview(function(a){a.close()});this.subviews={}},detachSubview:function(a){this.subviews&&delete this.subviews[a.cid];a.$el.detach()}});r.exports=n},{backbone:63,lodash:92}],87:[function(n,r,w){(function(){(function(){var d=new function(){var a,d=[],l={},f=function(a,d,e){if(null!=a)if(Array.prototype.forEach&&
a.forEach===Array.prototype.forEach)a.forEach(d,e);else if(a.length===+a.length)for(var f=0,b=a.length;f<b&&d.call(e,a[f],f,a)!==l;f++);else for(f in a)if(hasOwnProperty.call(a,f)&&d.call(e,a[f],f,a)===l)break},e=function(a){f(Array.prototype.slice.call(arguments,1),function(d){if(d)for(var e in d)a[e]=d[e]});return a};f(["videojs","vjs","_V_"],function(d){if(void 0!==window[d])return a=window[d],!1});try{a=n("videojs")}catch(r){}this.resizeVideos=function(e){e&&(e.preventDefault(),e.stopPropagation());
f(d,function(d){var e=document.getElementById(d.id),f=a(d.id);e&&e.parentNode&&(e=e.parentNode.offsetWidth,d=d.height*(e/d.width),f.width(e),f.height(d))})};this.loadVideo=function(l,n,r){var v=this,b,c,g=!1;n.sources=n.sources||[];n.attributes=n.attributes||{};c={id:"js_thumb_video","class":"video-js vjs-default-skin",controls:"controls",preload:"auto",resize:!1,width:560,height:320};a?n.sources.length?(n.sources=e([],n.sources),n.attributes=e({},c,n.attributes),n.vjs=n.vjs||{},f(a.players,function(a,
b){if(b===n.attributes.id)return a.dispose(),!1}),videoDims={},b=document.createElement("video"),f(n.attributes,function(a,c){b.setAttribute(c,a)}),f(n.sources,function(a){var c=document.createElement("source");c.setAttribute("src",a.src);c.setAttribute("type",a.type);b.appendChild(c)}),l.appendChild(b),a(b,n.vjs,function(){f(l.childNodes,function(a){if(a.attributes&&a.attributes.id&&a.attributes.id.value===n.attributes.id)return element=a,!1});f(element.childNodes,function(a){if("object"===a.tagName.toLowerCase())return g=
!0,!1});onReady=function(a,b){r(null,element,this,void 0===b)};n.attributes.resize&&(d.push({id:element.attributes.id.value,width:this.width(),height:this.height()}),v.resizeVideos());if(g)onReady(null,!0);else a(n.attributes.id).on("loadedmetadata",onReady)})):r("Videos require at least one source"):r("Please include Video.js to use this function")};this.screenshot=function(a,d){var e=document.createElement("canvas");d=d||{};var f=d.origWidth||a.videoWidth,b=d.origHeight||a.videoHeight;if(!f||!b)return window.console&&
console.log("Video has invalid dimensions or metadata has not yet loaded."),!1;e.width=f;e.height=b;e.getContext("2d").drawImage(a,0,0,f,b);return e.toDataURL("image/png")};this.resize=function(a,d){var e=d.maxWidth||50,f=d.maxHeight||50,b=document.createElement("canvas"),c=document.createElement("canvas"),g=b.getContext("2d"),k=c.getContext("2d"),l=a.width||d.origWidth,n=a.height||d.origHeight,r,v;r=d.maxWidth/l;var w=n*r;v=d.maxHeight/n;c.width=l;c.height=n;k.drawImage(a,0,0);b.width=e;b.height=
f;w<f?(r=(e-c.width*v)/2,g.drawImage(c,0,0,c.width,c.height,r,0,c.width*v,c.height*v)):(v=(f-c.height*r)/2,g.drawImage(c,0,0,c.width,c.height,0,v,c.width*r,c.height*r));return b.toDataURL()};this.resizeData=function(a,d,e){d=d||{};var f=this,b=new Image;b.onload=function(){e(null,f.resize(b,d))};b.src=a}};"undefined"!=typeof window&&"undefined"==typeof r?(window.jsthumb=d,window.onresize=d.resizeVideos):r.exports=d})()})()},{videojs:93}],92:[function(n,r,w){(function(d){(function(a){function k(d){function f(a){return a&&
"object"==typeof a&&!ma(a)&&ha.call(a,"__wrapped__")?a:new Ca(a)}function n(a){var b=a.length,c=b>=B;if(c)for(var d={},g=-1;++g<b;){var e=x+a[g];(d[e]||(d[e]=[])).push(a[g])}return function(b){if(c){var g=x+b;return d[g]&&-1<Na(d[g],b)}return-1<Na(a,b)}}function r(a){return a.charCodeAt(0)}function v(a,b){var c=a.index,d=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<d?-1:1}function w(a,b,c,d){function g(){var d=arguments,
m=f?this:b;e||(a=b[h]);c.length&&(d=d.length?(d=Q.call(d),k?d.concat(c):c.concat(d)):c);return this instanceof g?(Ga.prototype=a.prototype,m=new Ga,Ga.prototype=null,d=a.apply(m,d),cb(d)?d:m):a.apply(m,d)}var e=bb(a),f=!c,h=b;if(f){var k=d;c=b}else if(!e){if(!d)throw new Nb;b=a}return g}function $a(a){return"\\"+q[a]}function Qa(a){return Oa[a]}function Ca(a){this.__wrapped__=a}function Ga(){}function h(a){var b=!1;if(!a||N.call(a)!=ea)return b;var c=a.constructor;return(bb(c)?c instanceof c:1)?(Ya(a,
function(a,c){b=c}),!1===b||ha.call(a,b)):b}function ba(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var d=-1;c=c-b||0;for(var g=ia(0>c?0:c);++d<c;)g[d]=a[b+d];return g}function nb(a){return sb[a]}function qa(a,b,c,d,g,e){var h=a;"function"==typeof b&&(d=c,c=b,b=!1);if("function"==typeof c){c="undefined"==typeof d?c:f.createCallback(c,d,1);h=c(h);if("undefined"!=typeof h)return h;h=a}if(d=cb(h)){var k=N.call(h);if(!aa[k])return h;var m=ma(h)}if(!d||!b)return d?m?ba(h):jb({},h):h;d=ya[k];
switch(k){case ka:case T:return new d(+h);case V:case K:return new d(h);case P:return d(h.source,C.exec(h))}g||(g=[]);e||(e=[]);for(k=g.length;k--;)if(g[k]==a)return e[k];h=m?d(h.length):{};m&&(ha.call(a,"index")&&(h.index=a.index),ha.call(a,"input")&&(h.input=a.input));g.push(a);e.push(h);(m?da:W)(a,function(a,d){h[d]=qa(a,b,c,l,g,e)});return h}function ab(a){var b=[];Ya(a,function(a,c){bb(a)&&b.push(c)});return b.sort()}function Ma(a){for(var b=-1,c=Y(a),d=c.length,g={};++b<d;){var e=c[b];g[a[e]]=
e}return g}function sa(a,b,c,d,g,e){var h=c===p;if("function"==typeof c&&!h){c=f.createCallback(c,d,2);var k=c(a,b);if("undefined"!=typeof k)return!!k}if(a===b)return 0!==a||1/a==1/b;var m=typeof a,l=typeof b;if(a===a&&(!a||"function"!=m&&"object"!=m)&&(!b||"function"!=l&&"object"!=l))return!1;if(null==a||null==b)return a===b;l=N.call(a);m=N.call(b);l==E&&(l=ea);m==E&&(m=ea);if(l!=m)return!1;switch(l){case ka:case T:return+a==+b;case V:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case P:case K:return a==
Da(b)}m=l==D;if(!m){if(ha.call(a,"__wrapped__ ")||ha.call(b,"__wrapped__"))return sa(a.__wrapped__||a,b.__wrapped__||b,c,d,g,e);if(l!=ea)return!1;var l=a.constructor,n=b.constructor;if(l!=n&&!(bb(l)&&l instanceof l&&bb(n)&&n instanceof n))return!1}g||(g=[]);e||(e=[]);for(l=g.length;l--;)if(g[l]==a)return e[l]==b;var q=0,k=!0;g.push(a);e.push(b);if(m){l=a.length;q=b.length;k=q==a.length;if(!k&&!h)return k;for(;q--;)if(m=l,n=b[q],h)for(;m--&&!(k=sa(a[m],n,c,d,g,e)););else if(!(k=sa(a[q],n,c,d,g,e)))break;
return k}Ya(b,function(b,f,h){if(ha.call(h,f))return q++,k=ha.call(a,f)&&sa(a[f],b,c,d,g,e)});k&&!h&&Ya(a,function(a,b,c){if(ha.call(c,b))return k=-1<--q});return k}function bb(a){return"function"==typeof a}function cb(a){return a?fa[typeof a]:!1}function bc(a){return"number"==typeof a||N.call(a)==V}function Cb(a){return"string"==typeof a||N.call(a)==K}function cc(a,b,c){var d=arguments,g=0,e=2;if(!cb(a))return a;if(c===p)var h=d[3],k=d[4],m=d[5];else k=[],m=[],"number"!=typeof c&&(e=d.length),3<
e&&"function"==typeof d[e-2]?h=f.createCallback(d[--e-1],d[e--],2):2<e&&"function"==typeof d[e-1]&&(h=d[--e]);for(;++g<e;)(ma(d[g])?da:W)(d[g],function(b,c){var d,g,e=b,f=a[c];if(b&&((g=ma(b))||ja(b))){for(e=k.length;e--;)if(d=k[e]==b){f=m[e];break}if(!d){var l;h&&(e=h(f,b),l="undefined"!=typeof e)&&(f=e);l||(f=g?ma(f)?f:[]:ja(f)?f:{});k.push(b);m.push(f);l||(f=cc(f,b,p,h,k,m))}}else h&&(e=h(f,b),"undefined"==typeof e&&(e=b)),"undefined"!=typeof e&&(f=e);a[c]=f});return a}function Xb(a){for(var b=
-1,c=Y(a),d=c.length,g=ia(d);++b<d;)g[b]=a[c[b]];return g}function dc(a,b,c){var d=-1,g=a?a.length:0,e=!1;c=(0>c?ta(0,g+c):c)||0;"number"==typeof g?e=-1<(Cb(a)?a.indexOf(b,c):Na(a,b,c)):W(a,function(a){if(++d>=c)return!(e=a===b)});return e}function Db(a,b,c){var d=!0;b=f.createCallback(b,c);c=-1;var g=a?a.length:0;if("number"==typeof g)for(;++c<g&&(d=!!b(a[c],c,a)););else W(a,function(a,c,g){return d=!!b(a,c,g)});return d}function Eb(a,b,c){var d=[];b=f.createCallback(b,c);c=-1;var g=a?a.length:0;
if("number"==typeof g)for(;++c<g;){var e=a[c];b(e,c,a)&&d.push(e)}else W(a,function(a,c,g){b(a,c,g)&&d.push(a)});return d}function Ub(a,b,c){b=f.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d;){var g=a[c];if(b(g,c,a))return g}else{var e;W(a,function(a,c,d){if(b(a,c,d))return e=a,!1});return e}}function da(a,b,c){var d=-1,g=a?a.length:0;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);if("number"==typeof g)for(;++d<g&&!1!==b(a[d],d,a););else W(a,b);return a}function rb(a,
b,c){var d=-1,g=a?a.length:0;b=f.createCallback(b,c);if("number"==typeof g)for(var e=ia(g);++d<g;)e[d]=b(a[d],d,a);else e=[],W(a,function(a,c,g){e[++d]=b(a,c,g)});return e}function na(a,b,c){var d=-Infinity,g=d;if(!b&&ma(a)){c=-1;for(var e=a.length;++c<e;){var h=a[c];h>g&&(g=h)}}else b=!b&&Cb(a)?r:f.createCallback(b,c),da(a,function(a,c,e){c=b(a,c,e);c>d&&(d=c,g=a)});return g}function wa(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d)for(var g=ia(d);++c<d;)g[c]=a[c][b];return g||rb(a,b)}function ua(a,
b,c,d){if(!a)return c;var g=3>arguments.length;b=f.createCallback(b,d,4);var e=-1,h=a.length;if("number"==typeof h)for(g&&(c=a[++e]);++e<h;)c=b(c,a[e],e,a);else W(a,function(a,d,e){c=g?(g=!1,a):b(c,a,d,e)});return c}function tb(a,b,c,d){var g=a?a.length:0,e=3>arguments.length;if("number"!=typeof g)var h=Y(a),g=h.length;b=f.createCallback(b,d,4);da(a,function(d,f,k){f=h?h[--g]:--g;c=e?(e=!1,a[f]):b(c,a[f],f,k)});return c}function db(a,b,c){var d;b=f.createCallback(b,c);c=-1;var g=a?a.length:0;if("number"==
typeof g)for(;++c<g&&!(d=b(a[c],c,a)););else W(a,function(a,c,g){return!(d=b(a,c,g))});return!!d}function Fb(a){for(var b=-1,c=a?a.length:0,d=Ra.apply(oa,Q.call(arguments,1)),d=n(d),g=[];++b<c;){var e=a[b];d(e)||g.push(e)}return g}function ob(a,b,c){if(a){var d=0,g=a.length;if("number"!=typeof b&&null!=b){var e=-1;for(b=f.createCallback(b,c);++e<g&&b(a[e],e,a);)d++}else if(d=b,null==d||c)return a[0];return ba(a,0,Ua(ta(0,d),g))}}function Gb(a,b,c,d){var g=-1,e=a?a.length:0,h=[];"boolean"!=typeof b&&
null!=b&&(d=c,c=b,b=!1);for(null!=c&&(c=f.createCallback(c,d));++g<e;)d=a[g],c&&(d=c(d,g,a)),ma(d)?Sa.apply(h,b?d:Gb(d)):h.push(d);return h}function Na(a,b,c){var d=-1,g=a?a.length:0;if("number"==typeof c)d=(0>c?ta(0,g+c):c||0)-1;else if(c)return d=eb(a,b),a[d]===b?d:-1;for(;++d<g;)if(a[d]===b)return d;return-1}function Wa(a,b,c){if("number"!=typeof b&&null!=b){var d=0,g=-1,e=a?a.length:0;for(b=f.createCallback(b,c);++g<e&&b(a[g],g,a);)d++}else d=null==b||c?1:ta(0,b);return ba(a,d)}function eb(a,
b,c,d){var g=0,e=a?a.length:g;c=c?f.createCallback(c,d,1):fb;for(b=c(b);g<e;)d=g+e>>>1,c(a[d])<b?g=d+1:e=d;return g}function ca(a,b,c,d){var g=-1,e=a?a.length:0,h=[],k=h;"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1);var m=!b&&e>=B;if(m)var l={};null!=c&&(k=[],c=f.createCallback(c,d));for(;++g<e;){d=a[g];var n=c?c(d,g,a):d;if(m)var p=x+n,p=l[p]?!(k=l[p]):k=l[p]=[];if(b?!g||k[k.length-1]!==n:p||0>Na(k,n))(c||m)&&k.push(n),h.push(d)}return h}function ub(a,b){for(var c=-1,d=a?a.length:0,g={};++c<d;){var e=
a[c];b?g[e]=b[c]:g[e[0]]=e[1]}return g}function vb(a,b){return za.fastBind||xa&&2<arguments.length?xa.call.apply(xa,arguments):w(a,b,Q.call(arguments,2))}function wb(a){var b=Q.call(arguments,1);return La(function(){a.apply(l,b)},1)}function fb(a){return a}function xb(a){da(ab(a),function(b){var c=f[b]=a[b];f.prototype[b]=function(){var a=this.__wrapped__,b=[a];Sa.apply(b,arguments);b=c.apply(f,b);return a&&"object"==typeof a&&a==b?this:new Ca(b)}})}function Hb(){return this.__wrapped__}d=d?t.defaults(a.Object(),
d,t.pick(a,Aa)):a;var ia=d.Array,kb=d.Boolean,pb=d.Date,Ib=d.Function,va=d.Math,Mb=d.Number,Xa=d.Object,gb=d.RegExp,Da=d.String,Nb=d.TypeError,oa=ia(),yb=Xa(),Ob=d._,ga=gb("^"+Da(yb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Za=va.ceil,hb=d.clearTimeout,Ra=oa.concat,Ea=va.floor,la=ga.test(la=Xa.getPrototypeOf)&&la,ha=yb.hasOwnProperty,Sa=oa.push,R=d.setImmediate,La=d.setTimeout,N=yb.toString,xa=ga.test(xa=N.bind)&&xa,Jb=ga.test(Jb=ia.isArray)&&Jb,ib=d.isFinite,
Yb=d.isNaN,Ta=ga.test(Ta=Xa.keys)&&Ta,ta=va.max,Ua=va.min,Kb=d.parseInt,Pa=va.random,Q=oa.slice,va=ga.test(d.attachEvent),va=xa&&!/\n|true/.test(xa+va),ya={};ya[D]=ia;ya[ka]=kb;ya[T]=pb;ya[ea]=Xa;ya[V]=Mb;ya[P]=gb;ya[K]=Da;var za=f.support={};za.fastBind=xa&&!va;f.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:A,variable:"",imports:{_:f}};Ca.prototype=f.prototype;var ma=Jb,kb=function(a){var b,c=[];if(!a||!fa[typeof a])return c;for(b in a)ha.call(a,b)&&c.push(b);
return c},Y=Ta?function(a){return cb(a)?Ta(a):[]}:kb,Oa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sb=Ma(Oa),jb=function(a,b,c){var d,g=a,e=g;if(!g)return e;var h=arguments,k=0,m="number"==typeof c?2:h.length;if(3<m&&"function"==typeof h[m-2])var l=f.createCallback(h[--m-1],h[m--],2);else 2<m&&"function"==typeof h[m-1]&&(l=h[--m]);for(;++k<m;)if((g=h[k])&&fa[typeof g]){var n=g.length;d=-1;if(ma(g))for(;++d<n;)e[d]=l?l(e[d],g[d]):g[d];else for(var p=-1,q=fa[typeof g]?Y(g):[],n=q.length;++p<
n;)d=q[p],e[d]=l?l(e[d],g[d]):g[d]}return e},Lb=function(a,b,c){var d,g=a,e=g;if(!g)return e;for(var f=arguments,h=0,k="number"==typeof c?2:f.length;++h<k;)if((g=f[h])&&fa[typeof g]){var m=g.length;d=-1;if(ma(g))for(;++d<m;)"undefined"==typeof e[d]&&(e[d]=g[d]);else for(var l=-1,n=fa[typeof g]?Y(g):[],m=n.length;++l<m;)d=n[l],"undefined"==typeof e[d]&&(e[d]=g[d])}return e},Ya=function(a,b,c){var d;if(!a||!fa[typeof a])return a;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);for(d in a)if(!1===
b(a[d],d,a))break;return a},W=function(a,b,c){if(!a||!fa[typeof a])return a;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);for(var d=-1,g=fa[typeof a]?Y(a):[],e=g.length;++d<e&&(c=g[d],!1!==b(a[c],c,a)););return a},ja=function(a){if(!a||N.call(a)!=ea)return!1;var b=a.valueOf,c="function"==typeof b&&(c=la(b))&&la(c);return c?a==c||la(a)==c:h(a)};va&&(e&&"function"==typeof R)&&(wb=vb(R,d));R=8==Kb(G+"08")?Kb:function(a,b){return Kb(Cb(a)?a.replace(F,""):a,b||0)};f.after=function(a,b){return 1>a?
b():function(){if(1>--a)return b.apply(this,arguments)}};f.assign=jb;f.at=function(a){for(var b=-1,c=Ra.apply(oa,Q.call(arguments,1)),d=c.length,g=ia(d);++b<d;)g[b]=a[c[b]];return g};f.bind=vb;f.bindAll=function(a){for(var b=1<arguments.length?Ra.apply(oa,Q.call(arguments,1)):ab(a),c=-1,d=b.length;++c<d;){var g=b[c];a[g]=vb(a[g],a)}return a};f.bindKey=function(a,b){return w(a,b,Q.call(arguments,2),p)};f.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var g=a[b];g&&d.push(g)}return d};
f.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};f.countBy=function(a,b,c){var d={};b=f.createCallback(b,c);da(a,function(a,c,g){c=Da(b(a,c,g));ha.call(d,c)?d[c]++:d[c]=1});return d};f.createCallback=function(a,b,c){if(null==a)return fb;var d=typeof a;if("function"!=d){if("object"!=d)return function(b){return b[a]};var g=Y(a);return function(b){for(var c=g.length,d=!1;c--&&(d=sa(b[g[c]],a[g[c]],p)););return d}}return"undefined"!=
typeof b?1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)}:4===c?function(c,d,g,e){return a.call(b,c,d,g,e)}:function(c,d,g){return a.call(b,c,d,g)}:a};f.debounce=function(a,b,c){function d(){e=k=null;m&&(f=a.apply(h,g))}var g,e,f,h,k,m=!0;if(!0===c)var l=!0,m=!1;else c&&fa[typeof c]&&(l=c.leading,m="trailing"in c?c.trailing:m);return function(){g=arguments;h=this;hb(k);!e&&l?(e=!0,f=a.apply(h,g)):k=La(d,b);return f}};f.defaults=Lb;f.defer=wb;f.delay=function(a,b){var c=
Q.call(arguments,2);return La(function(){a.apply(l,c)},b)};f.difference=Fb;f.filter=Eb;f.flatten=Gb;f.forEach=da;f.forIn=Ya;f.forOwn=W;f.functions=ab;f.groupBy=function(a,b,c){var d={};b=f.createCallback(b,c);da(a,function(a,c,g){c=Da(b(a,c,g));(ha.call(d,c)?d[c]:d[c]=[]).push(a)});return d};f.initial=function(a,b,c){if(!a)return[];var d=0,g=a.length;if("number"!=typeof b&&null!=b){var e=g;for(b=f.createCallback(b,c);e--&&b(a[e],e,a);)d++}else d=null==b||c?1:b||d;return ba(a,0,Ua(ta(0,g-d),g))};f.intersection=
function(a){var b=arguments,c=b.length,d={0:{}},g=-1,e=a?a.length:0,f=e>=B,h=[],k=h;a:for(;++g<e;){var m=a[g];if(f)var l=x+m,l=d[0][l]?!(k=d[0][l]):k=d[0][l]=[];if(l||0>Na(k,m)){f&&k.push(m);for(var p=c;--p;)if(!(d[p]||(d[p]=n(b[p])))(m))continue a;h.push(m)}}return h};f.invert=Ma;f.invoke=function(a,b){var c=Q.call(arguments,2),d=-1,g="function"==typeof b,e=a?a.length:0,f=ia("number"==typeof e?e:0);da(a,function(a){f[++d]=(g?b:a[b]).apply(a,c)});return f};f.keys=Y;f.map=rb;f.max=na;f.memoize=function(a,
b){var c={};return function(){var d=x+(b?b.apply(this,arguments):arguments[0]);return ha.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}};f.merge=cc;f.min=function(a,b,c){var d=Infinity,g=d;if(!b&&ma(a)){c=-1;for(var e=a.length;++c<e;){var h=a[c];h<g&&(g=h)}}else b=!b&&Cb(a)?r:f.createCallback(b,c),da(a,function(a,c,e){c=b(a,c,e);c<d&&(d=c,g=a)});return g};f.omit=function(a,b,c){var d="function"==typeof b,g={};if(d)b=f.createCallback(b,c);else var e=Ra.apply(oa,Q.call(arguments,1));Ya(a,function(a,c,
f){if(d?!b(a,c,f):0>Na(e,c))g[c]=a});return g};f.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};f.pairs=function(a){for(var b=-1,c=Y(a),d=c.length,g=ia(d);++b<d;){var e=c[b];g[b]=[e,a[e]]}return g};f.partial=function(a){return w(a,Q.call(arguments,1))};f.partialRight=function(a){return w(a,Q.call(arguments,1),null,p)};f.pick=function(a,b,c){var d={};if("function"!=typeof b)for(var g=-1,e=Ra.apply(oa,Q.call(arguments,1)),h=cb(a)?e.length:0;++g<
h;){var k=e[g];k in a&&(d[k]=a[k])}else b=f.createCallback(b,c),Ya(a,function(a,c,g){b(a,c,g)&&(d[c]=a)});return d};f.pluck=wa;f.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var d=-1;b=ta(0,Za((b-a)/c));for(var g=ia(b);++d<b;)g[d]=a,a+=c;return g};f.reject=function(a,b,c){b=f.createCallback(b,c);return Eb(a,function(a,c,d){return!b(a,c,d)})};f.rest=Wa;f.shuffle=function(a){var b=-1,c=a?a.length:0,d=ia("number"==typeof c?c:0);da(a,function(a){var c=Ea(Pa()*(++b+1));d[b]=d[c];d[c]=a});return d};
f.sortBy=function(a,b,c){var d=-1,g=a?a.length:0,e=ia("number"==typeof g?g:0);b=f.createCallback(b,c);da(a,function(a,c,g){e[++d]={criteria:b(a,c,g),index:d,value:a}});g=e.length;for(e.sort(v);g--;)e[g]=e[g].value;return e};f.tap=function(a,b){b(a);return a};f.throttle=function(a,b,c){function d(){h=null;l&&(k=new pb,e=a.apply(f,g))}var g,e,f,h,k=0,m=!0,l=!0;!1===c?m=!1:c&&fa[typeof c]&&(m="leading"in c?c.leading:m,l="trailing"in c?c.trailing:l);return function(){var c=new pb;h||m||(k=c);var l=b-
(c-k);g=arguments;f=this;0>=l?(hb(h),h=null,k=c,e=a.apply(f,g)):h||(h=La(d,l));return e}};f.times=function(a,b,c){a=-1<(a=+a)?a:0;var d=-1,g=ia(a);for(b=f.createCallback(b,c,1);++d<a;)g[d]=b(d);return g};f.toArray=function(a){return a&&"number"==typeof a.length?ba(a):Xb(a)};f.union=function(a){ma(a)||(arguments[0]=a?Q.call(a):oa);return ca(Ra.apply(oa,arguments))};f.uniq=ca;f.unzip=function(a){for(var b=-1,c=a?a.length:0,d=c?na(wa(a,"length")):0,g=ia(d);++b<c;)for(var e=-1,f=a[b];++e<d;)(g[e]||(g[e]=
ia(c)))[b]=f[e];return g};f.values=Xb;f.where=Eb;f.without=function(a){return Fb(a,Q.call(arguments,1))};f.wrap=function(a,b){return function(){var c=[a];Sa.apply(c,arguments);return b.apply(this,c)}};f.zip=function(a){for(var b=-1,c=a?na(wa(arguments,"length")):0,d=ia(c);++b<c;)d[b]=wa(arguments,b);return d};f.zipObject=ub;f.collect=rb;f.drop=Wa;f.each=da;f.extend=jb;f.methods=ab;f.object=ub;f.select=Eb;f.tail=Wa;f.unique=ca;xb(f);f.clone=qa;f.cloneDeep=function(a,b,c){return qa(a,!0,b,c)};f.contains=
dc;f.escape=function(a){return null==a?"":Da(a).replace(s,Qa)};f.every=Db;f.find=Ub;f.findIndex=function(a,b,c){var d=-1,g=a?a.length:0;for(b=f.createCallback(b,c);++d<g;)if(b(a[d],d,a))return d;return-1};f.findKey=function(a,b,c){var d;b=f.createCallback(b,c);W(a,function(a,c,g){if(b(a,c,g))return d=c,!1});return d};f.has=function(a,b){return a?ha.call(a,b):!1};f.identity=fb;f.indexOf=Na;f.isArguments=function(a){return N.call(a)==E};f.isArray=ma;f.isBoolean=function(a){return!0===a||!1===a||N.call(a)==
ka};f.isDate=function(a){return a?"object"==typeof a&&N.call(a)==T:!1};f.isElement=function(a){return a?1===a.nodeType:!1};f.isEmpty=function(a){var b=!0;if(!a)return b;var c=N.call(a),d=a.length;if(c==D||(c==K||c==E)||c==ea&&"number"==typeof d&&bb(a.splice))return!d;W(a,function(){return b=!1});return b};f.isEqual=sa;f.isFinite=function(a){return ib(a)&&!Yb(parseFloat(a))};f.isFunction=bb;f.isNaN=function(a){return bc(a)&&a!=+a};f.isNull=function(a){return null===a};f.isNumber=bc;f.isObject=cb;f.isPlainObject=
ja;f.isRegExp=function(a){return a?"object"==typeof a&&N.call(a)==P:!1};f.isString=Cb;f.isUndefined=function(a){return"undefined"==typeof a};f.lastIndexOf=function(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?ta(0,d+c):Ua(c,d-1))+1);d--;)if(a[d]===b)return d;return-1};f.mixin=xb;f.noConflict=function(){d._=Ob;return this};f.parseInt=R;f.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b&&(b=a,a=0);return a+Ea(Pa()*((+b||0)-a+1))};f.reduce=ua;f.reduceRight=tb;f.result=function(a,
b){var c=a?a[b]:l;return bb(c)?a[b]():c};f.runInContext=k;f.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:Y(a).length};f.some=db;f.sortedIndex=eb;f.template=function(a,d,e){var h=f.templateSettings;a||(a="");e=Lb({},e,h);var k=Lb({},e.imports,h.imports),h=Y(k),k=Xb(k),m,n=0,p=e.interpolate||I,q="__p += '",p=gb((e.escape||I).source+"|"+p.source+"|"+(p===A?z:I).source+"|"+(e.evaluate||I).source+"|$","g");a.replace(p,function(b,c,d,g,e,f){d||(d=g);q+=a.slice(n,f).replace(J,$a);c&&(q+=
"' +\n__e("+c+") +\n'");e&&(m=!0,q+="';\n"+e+";\n__p += '");d&&(q+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");n=f+b.length;return b});var q=q+"';\n",s=p=e.variable;s||(p="obj",q="with ("+p+") {\n"+q+"\n}\n");q=(m?q.replace(b,""):q).replace(c,"$1").replace(g,"$1;");q="function("+p+") {\n"+(s?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(m?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+q+"return __p\n}";e="\n/*\n//@ sourceURL="+
(e.sourceURL||"/lodash/template/source["+L++ +"]")+"\n*/";try{var r=Ib(h,"return "+q+e).apply(l,k)}catch(t){throw t.source=q,t;}if(d)return r(d);r.source=q;return r};f.unescape=function(a){return null==a?"":Da(a).replace(m,nb)};f.uniqueId=function(a){var b=++u;return Da(null==a?"":a)+b};f.all=Db;f.any=db;f.detect=Ub;f.foldl=ua;f.foldr=tb;f.include=dc;f.inject=ua;W(f,function(a,b){f.prototype[b]||(f.prototype[b]=function(){var b=[this.__wrapped__];Sa.apply(b,arguments);return a.apply(f,b)})});f.first=
ob;f.last=function(a,b,c){if(a){var d=0,g=a.length;if("number"!=typeof b&&null!=b){var e=g;for(b=f.createCallback(b,c);e--&&b(a[e],e,a);)d++}else if(d=b,null==d||c)return a[g-1];return ba(a,ta(0,g-d))}};f.take=ob;f.head=ob;W(f,function(a,b){f.prototype[b]||(f.prototype[b]=function(b,c){var d=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?d:new Ca(d)})});f.VERSION="1.2.1";f.prototype.toString=function(){return Da(this.__wrapped__)};f.prototype.value=Hb;f.prototype.valueOf=Hb;da(["join",
"pop","shift"],function(a){var b=oa[a];f.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});da(["push","reverse","sort","unshift"],function(a){var b=oa[a];f.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});da(["concat","slice","splice"],function(a){var b=oa[a];f.prototype[a]=function(){return new Ca(b.apply(this.__wrapped__,arguments))}});return f}var l,f="object"==typeof w&&w,e="object"==typeof r&&r&&r.exports==f&&r,n="object"==typeof d&&d;if(n.global===
n||n.window===n)a=n;var u=0,p={},x=+new Date+"",B=200,b=/\b__p \+= '';/g,c=/\b(__p \+=) '' \+/g,g=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/&(?:amp|lt|gt|quot|#39);/g,z=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,A=/<%=([\s\S]+?)%>/g,G=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",F=RegExp("^["+G+"]*0+(?=.$)"),I=/($^)/,s=/[&<>"']/g,J=/['\n\r\t\u2028\u2029\\]/g,Aa="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),
L=0,E="[object Arguments]",D="[object Array]",ka="[object Boolean]",T="[object Date]",V="[object Number]",ea="[object Object]",P="[object RegExp]",K="[object String]",aa={"[object Function]":!1};aa[E]=aa[D]=aa[ka]=aa[T]=aa[V]=aa[ea]=aa[P]=aa[K]=!0;var fa={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},q={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},t=k();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=t,define(function(){return t})):
f&&!f.nodeType?e?(e.exports=t)._=t:f._=t:a._=t})(this)})(self)},{}],75:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,l,f){function e(a,d){var b,c;b='\n          <p class="absfix">\n            <a href="';(c=k.editHref)?c=c.call(a,{hash:{},data:d}):(c=a.editHref,c=typeof c===n?c.apply(a):c);return b+=r(c)+'" class="app btn btn-mini btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var n="function",r=this.escapeExpression,
p=this;d='<ul class="reelgrid">\n';if((a=k.each.call(a,a.media,{hash:{},inverse:p.noop,fn:p.program(1,function(a,d){var b,c;b='\n  <li>\n    <div class="relfix">\n      <a href="';(c=k.playerUrl)?c=c.call(a,{hash:{},data:d}):(c=a.playerUrl,c=typeof c===n?c.apply(a):c);b+=r(c)+'" class="app">\n        <img src="';(c=k.thumbnailUrl)?c=c.call(a,{hash:{},data:d}):(c=a.thumbnailUrl,c=typeof c===n?c.apply(a):c);b+=r(c)+'" alt="';(c=k.name)?c=c.call(a,{hash:{},data:d}):(c=a.name,c=typeof c===n?c.apply(a):
c);b+=r(c)+'" />\n        ';if((c=k["if"].call(a,a.editHref,{hash:{},inverse:p.noop,fn:p.program(2,e,d),data:d}))||0===c)b+=c;b+='\n        <div class="captions centered">\n          <h2>';(c=k.name)?c=c.call(a,{hash:{},data:d}):(c=a.name,c=typeof c===n?c.apply(a):c);return b+=r(c)+"</h2>\n        </div>\n      </a>\n    </div>\n  </li>\n"},f),data:f}))||0===a)d+=a;return d+"\n</ul>\n"})},{"handlebars-runtime":89}],77:[function(n,r,w){n=n("handlebars-runtime");r.exports=n.template(function(d,a,k,
l,f){this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};d="";var e=this.escapeExpression;if((a=k["if"].call(a,a.thumberUrl,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){var f,l;f='\n  <iframe src="';(l=k.thumberUrl)?l=l.call(a,{hash:{},data:d}):(l=a.thumberUrl,l="function"===typeof l?l.apply(a):l);return f+=e(l)+'" frameborder="0" width="100%"></iframe>\n'},f),data:f}))||0===a)d+=a;return d+"\n"})},{"handlebars-runtime":89}],91:[function(n,r,w){n=n("handlebars-runtime");
r.exports=n.template(function(d,a,k,l,f){function e(a,d){var b,c;b='\n          <p class="absfix">\n            <a href="';(c=k.editHref)?c=c.call(a,{hash:{},data:d}):(c=a.editHref,c=typeof c===n?c.apply(a):c);return b+=r(c)+'" class="app btn btn-micro btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"];k=this.merge(k,d.helpers);f=f||{};var n="function",r=this.escapeExpression,p=this;d='<div class="sliderWrap">\n  <ul class="carousel elastislide-list">\n  ';if((a=k.each.call(a,
a.media,{hash:{},inverse:p.noop,fn:p.program(1,function(a,d){var b,c;b='\n    <li>\n      <div class="relfix">\n        <a href="';(c=k.playerUrl)?c=c.call(a,{hash:{},data:d}):(c=a.playerUrl,c=typeof c===n?c.apply(a):c);b+=r(c)+'" class="app">\n          <img src="';(c=k.thumbnailUrl)?c=c.call(a,{hash:{},data:d}):(c=a.thumbnailUrl,c=typeof c===n?c.apply(a):c);b+=r(c)+'" alt="';(c=k.name)?c=c.call(a,{hash:{},data:d}):(c=a.name,c=typeof c===n?c.apply(a):c);b+=r(c)+'" />\n        </a>\n        ';if((c=
k["if"].call(a,a.editHref,{hash:{},inverse:p.noop,fn:p.program(2,e,d),data:d}))||0===c)b+=c;return b+"\n      </div>\n    </li>\n  "},f),data:f}))||0===a)d+=a;return d+'\n  </ul>\n</div>\n<div class="controls clearfix centered">\n  <div class="control-fix centered">\n    <a href="#" class="carouselControl goLeft hidden">&lt;</a>\n    <a href="#" class="carouselControl reelToggle"><span class="symbol">&and;</span><br /><small>Reel</small></a>\n    <a href="#" class="carouselControl goRight hidden">&gt;</a>\n  </div>\n  <a href="#" class="carouselControl bigClose pull-right">&times;</a>\n</div>\n'})},
{"handlebars-runtime":89}],93:[function(n,r,w){(function(){(function(){function d(a){return function(){throw Error('The "'+a+"\" method is not available on the playback technology's API");}}document.createElement("video");document.createElement("audio");var a=function(b,c,d){if("string"===typeof b){0===b.indexOf("#")&&(b=b.slice(1));if(a.players[b])return a.players[b];b=a.el(b)}if(!b||!b.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return b.player||new a.Player(b,
c,d)},k=a;a.CDN_VERSION="4.0";a.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://";a.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};"GENERATED_CDN_VSN"!==a.CDN_VERSION&&(k.options.flash.swf=a.ACCESS_PROTOCOL+"vjs.zencdn.net/"+a.CDN_VERSION+"/video-js.swf");a.players={};a.CoreObject=a.CoreObject=function(){};a.CoreObject.extend=
function(b){var c,d;b=b||{};c=b.init||b.init||this.prototype.init||this.prototype.init||function(){};d=function(){c.apply(this,arguments)};d.prototype=a.obj.create(this.prototype);d.prototype.constructor=d;d.extend=a.CoreObject.extend;d.create=a.CoreObject.create;for(var e in b)b.hasOwnProperty(e)&&(d.prototype[e]=b[e]);return d};a.CoreObject.create=function(){var b=a.obj.create(this.prototype);this.apply(b,arguments);return b};a.on=function(b,c,d){var e=a.getData(b);e.handlers||(e.handlers={});e.handlers[c]||
(e.handlers[c]=[]);d.guid||(d.guid=a.guid++);e.handlers[c].push(d);e.dispatcher||(e.disabled=!1,e.dispatcher=function(c){if(!e.disabled){c=a.fixEvent(c);var d=e.handlers[c.type];if(d)for(var d=d.slice(0),g=0,f=d.length;g<f&&!c.isImmediatePropagationStopped();g++)d[g].call(b,c)}});1==e.handlers[c].length&&(document.addEventListener?b.addEventListener(c,e.dispatcher,!1):document.attachEvent&&b.attachEvent("on"+c,e.dispatcher))};a.off=function(b,c,d){if(a.hasData(b)){var e=a.getData(b);if(e.handlers)if(c){var f=
e.handlers[c];if(f){if(!d)e.handlers[c]=[];else if(d.guid)for(e=0;e<f.length;e++)f[e].guid===d.guid&&f.splice(e--,1);a.cleanUpEvents(b,c)}}else for(f in e.handlers)c=f,e.handlers[c]=[],a.cleanUpEvents(b,c)}};a.cleanUpEvents=function(b,c){var d=a.getData(b);0===d.handlers[c].length&&(delete d.handlers[c],document.removeEventListener?b.removeEventListener(c,d.dispatcher,!1):document.detachEvent&&b.detachEvent("on"+c,d.dispatcher));a.isEmpty(d.handlers)&&(delete d.handlers,delete d.dispatcher,delete d.disabled);
a.isEmpty(d)&&a.removeData(b)};a.fixEvent=function(a){function c(){return!0}function d(){return!1}if(!a||!a.isPropagationStopped){var e=a||window.event;a={};for(var f in e)"layerX"!==f&&"layerY"!==f&&(a[f]=e[f]);a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){e.preventDefault&&e.preventDefault();a.returnValue=!1;a.isDefaultPrevented=c};a.isDefaultPrevented=d;a.stopPropagation=function(){e.stopPropagation&&e.stopPropagation();
a.cancelBubble=!0;a.isPropagationStopped=c};a.isPropagationStopped=d;a.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation();a.isImmediatePropagationStopped=c;a.stopPropagation()};a.isImmediatePropagationStopped=d;if(null!=a.clientX){f=document.documentElement;var k=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||k&&k.scrollLeft||0)-(f&&f.clientLeft||k&&k.clientLeft||0);a.pageY=a.clientY+(f&&f.scrollTop||k&&k.scrollTop||0)-(f&&f.clientTop||k&&k.clientTop||
0)}a.which=a.charCode||a.keyCode;null!=a.button&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a};a.trigger=function(b,c){var d=a.hasData(b)?a.getData(b):{},e=b.parentNode||b.ownerDocument;"string"===typeof c&&(c={type:c,target:b});c=a.fixEvent(c);d.dispatcher&&d.dispatcher.call(b,c);if(e&&!c.isPropagationStopped())a.trigger(e,c);else if(!e&&!c.isDefaultPrevented()&&(d=a.getData(c.target),c.target[c.type])){d.disabled=!0;if("function"===typeof c.target[c.type])c.target[c.type]();d.disabled=
!1}return!c.isDefaultPrevented()};a.one=function(b,c,d){a.on(b,c,function(){a.off(b,c,arguments.callee);d.apply(this,arguments)})};var l=Object.prototype.hasOwnProperty;a.createEl=function(a,c){var d=document.createElement(a||"div"),e;for(e in c)l.call(c,e)&&(-1!==e.indexOf("aria-")||"role"==e?d.setAttribute(e,c[e]):d[e]=c[e]);return d};a.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};a.obj={};a.obj.create=Object.create||function(a){function c(){}c.prototype=a;return new c};a.obj.each=
function(a,c,d){for(var e in a)l.call(a,e)&&c.call(d||this,e,a[e])};a.obj.merge=function(a,c){if(!c)return a;for(var d in c)l.call(c,d)&&(a[d]=c[d]);return a};a.obj.deepMerge=function(b,c){var d,e,f;b=a.obj.copy(b);for(d in c)l.call(c,d)&&(e=b[d],f=c[d],a.obj.isPlain(e)&&a.obj.isPlain(f)?b[d]=a.obj.deepMerge(e,f):b[d]=c[d]);return b};a.obj.copy=function(b){return a.obj.merge({},b)};a.obj.isPlain=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};
a.bind=function(b,c,d){c.guid||(c.guid=a.guid++);var e=function(){return c.apply(b,arguments)};e.guid=d?d+"_"+c.guid:c.guid;return e};a.cache={};a.guid=1;a.expando="vdata"+(new Date).getTime();a.getData=function(b){var c=b[a.expando];c||(c=b[a.expando]=a.guid++,a.cache[c]={});return a.cache[c]};a.hasData=function(b){b=b[a.expando];return!(!b||a.isEmpty(a.cache[b]))};a.removeData=function(b){var c=b[a.expando];if(c){delete a.cache[c];try{delete b[a.expando]}catch(d){b.removeAttribute?b.removeAttribute(a.expando):
b[a.expando]=null}}};a.isEmpty=function(a){for(var c in a)if(null!==a[c])return!1;return!0};a.addClass=function(a,c){-1==(" "+a.className+" ").indexOf(" "+c+" ")&&(a.className=""===a.className?c:a.className+" "+c)};a.removeClass=function(a,c){if(-1!=a.className.indexOf(c)){for(var d=a.className.split(" "),e=d.length-1;0<=e;e--)d[e]===c&&d.splice(e,1);a.className=d.join(" ")}};a.TEST_VID=a.createEl("video");a.USER_AGENT=navigator.userAgent;a.IS_IPHONE=!!a.USER_AGENT.match(/iPhone/i);a.IS_IPAD=!!a.USER_AGENT.match(/iPad/i);
a.IS_IPOD=!!a.USER_AGENT.match(/iPod/i);a.IS_IOS=a.IS_IPHONE||a.IS_IPAD||a.IS_IPOD;a.IOS_VERSION=function(){var b=a.USER_AGENT.match(/OS (\d+)_/i);if(b&&b[1])return b[1]}();a.IS_ANDROID=!!a.USER_AGENT.match(/Android.*AppleWebKit/i);a.ANDROID_VERSION=function(){var b=a.USER_AGENT.match(/Android (\d+)\./i);return b&&b[1]?b[1]:null}();a.IS_FIREFOX=function(){return!!a.USER_AGENT.match("Firefox")};a.getAttributeValues=function(a){var c={};if(a&&a.attributes&&0<a.attributes.length)for(var d=a.attributes,
e,f,k=d.length-1;0<=k;k--){e=d[k].name;f=d[k].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+e+","))f=null!==f?!0:!1;c[e]=f}return c};a.getComputedDimension=function(a,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(c):a.currentStyle&&(d=a["client"+c.substr(0,1).toUpperCase()+c.substr(1)]+"px");return d};a.insertFirst=function(a,c){c.firstChild?c.insertBefore(a,c.firstChild):
c.appendChild(a)};a.support={};a.el=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};a.formatTime=function(a,c){c=c||a;var d=Math.floor(a%60),e=Math.floor(a/60%60),f=Math.floor(a/3600),k=Math.floor(c/60%60),l=Math.floor(c/3600),f=0<f||0<l?f+":":"";return f+(((f||10<=k)&&10>e?"0"+e:e)+":")+(10>d?"0"+d:d)};a.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return!1}};a.unblockTextSelection=function(){document.onselectstart=function(){return!0}};
a.trim=function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")};a.round=function(a,c){c||(c=0);return Math.round(a*Math.pow(10,c))/Math.pow(10,c)};a.createTimeRange=function(a,c){return{length:1,start:function(){return a},end:function(){return c}}};a.get=function(a,c,d){var e=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw Error("This browser does not support XMLHttpRequest.");
});var f=new XMLHttpRequest;try{f.open("GET",a)}catch(k){d(k)}f.onreadystatechange=function(){4===f.readyState&&(200===f.status||e&&0===f.status?c(f.responseText):d&&d())};try{f.send()}catch(l){d&&d(l)}};a.setLocalStorage=function(b,c){try{var d=window.localStorage||!1;d&&(d[b]=c)}catch(e){22==e.code||1014==e.code?a.log("LocalStorage Full (VideoJS)",e):18==e.code?a.log("LocalStorage not allowed (VideoJS)",e):a.log("LocalStorage Error (VideoJS)",e)}};a.getAbsoluteURL=function(b){b.match(/^https?:\/\//)||
(b=a.createEl("div",{innerHTML:'<a href="'+b+'">x</a>'}).firstChild.href);return b};a.log=function(){a.log.history=a.log.history||[];a.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};a.findPosition=function(a){var c,d;a.getBoundingClientRect&&a.parentNode&&(c=a.getBoundingClientRect());if(!c)return{left:0,top:0};a=document.documentElement;d=document.body;return{left:c.left+(window.pageXOffset||d.scrollLeft)-(a.clientLeft||d.clientLeft||0),top:c.top+
(window.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0)}};a.Component=a.CoreObject.extend({init:function(b,c,d){this.player_=b;this.options_=a.obj.copy(this.options_);c=this.options(c);this.id_=c.id||(c.el&&c.el.id?c.el.id:b.id()+"_component_"+a.guid++);this.name_=c.name||null;this.el_=c.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(d)}});a.Component.prototype.dispose=function(){if(this.children_)for(var b=this.children_.length-
1;0<=b;b--)this.children_[b].dispose&&this.children_[b].dispose();this.childNameIndex_=this.childIndex_=this.children_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);a.removeData(this.el_);this.el_=null};a.Component.prototype.player=function(){return this.player_};a.Component.prototype.options=function(b){return void 0===b?this.options_:this.options_=a.obj.deepMerge(this.options_,b)};a.Component.prototype.createEl=function(b,c){return a.createEl(b,c)};a.Component.prototype.el=
function(){return this.el_};a.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};a.Component.prototype.id=function(){return this.id_};a.Component.prototype.name=function(){return this.name_};a.Component.prototype.children=function(){return this.children_};a.Component.prototype.getChildById=function(a){return this.childIndex_[a]};a.Component.prototype.getChild=function(a){return this.childNameIndex_[a]};a.Component.prototype.addChild=function(b,c){var d,e;"string"===typeof b?
(e=b,c=c||{},d=c.componentClass||a.capitalize(e),c.name=e,d=new a[d](this.player_||this,c)):d=b;this.children_.push(d);"function"===typeof d.id&&(this.childIndex_[d.id()]=d);(e=e||d.name&&d.name())&&(this.childNameIndex_[e]=d);"function"===typeof d.el&&d.el()&&this.contentEl().appendChild(d.el());return d};a.Component.prototype.removeChild=function(a){"string"===typeof a&&(a=this.getChild(a));if(a&&this.children_){for(var c=!1,d=this.children_.length-1;0<=d;d--)if(this.children_[d]===a){c=!0;this.children_.splice(d,
1);break}c&&(this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null,(c=a.el())&&c.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el()))}};a.Component.prototype.initChildren=function(){var b=this.options_;if(b&&b.children){var c=this;a.obj.each(b.children,function(a,b){!1!==b&&(b.loadEvent||(c[a]=c.addChild(a,b)))})}};a.Component.prototype.buildCSSClass=function(){return""};a.Component.prototype.on=function(b,c){a.on(this.el_,b,a.bind(this,c));return this};a.Component.prototype.off=
function(b,c){a.off(this.el_,b,c);return this};a.Component.prototype.one=function(b,c){a.one(this.el_,b,a.bind(this,c));return this};a.Component.prototype.trigger=function(b,c){a.trigger(this.el_,b,c);return this};a.Component.prototype.isReadyOnInitFinish_=!0;a.Component.prototype.ready=function(a){a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a)));return this};a.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;
if(a&&0<a.length){for(var c=0,d=a.length;c<d;c++)a[c].call(this);this.readyQueue_=[];this.trigger("ready")}};a.Component.prototype.addClass=function(b){a.addClass(this.el_,b);return this};a.Component.prototype.removeClass=function(b){a.removeClass(this.el_,b);return this};a.Component.prototype.show=function(){this.el_.style.display="block";return this};a.Component.prototype.hide=function(){this.el_.style.display="none";return this};a.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");
this.addClass("vjs-fade-in");return this};a.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};a.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};a.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};a.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};a.Component.prototype.width=function(a,c){return this.dimension("width",
a,c)};a.Component.prototype.height=function(a,c){return this.dimension("height",a,c)};a.Component.prototype.dimensions=function(a,c){return this.width(a,!0).height(c)};a.Component.prototype.dimension=function(b,c,d){if(void 0!==c)return-1!==(""+c).indexOf("%")||-1!==(""+c).indexOf("px")?this.el_.style[b]=c:this.el_.style[b]="auto"===c?"":c+"px",d||this.trigger("resize"),this;if(!this.el_)return 0;c=this.el_.style[b];d=c.indexOf("px");return-1!==d?parseInt(c.slice(0,d),10):parseInt(this.el_["offset"+
a.capitalize(b)],10)};a.Button=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);var d=!1;this.on("touchstart",function(){d=!0});this.on("touchmove",function(){d=!1});var e=this;this.on("touchend",function(a){if(d)e.onClick(a);a.preventDefault();a.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});a.Button.prototype.createEl=function(b,c){c=a.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+
(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},c);return a.Component.prototype.createEl.call(this,b,c)};a.Button.prototype.buildCSSClass=function(){return"vjs-control "+a.Component.prototype.buildCSSClass.call(this)};a.Button.prototype.onClick=function(){};a.Button.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Button.prototype.onKeyPress=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.onClick()};a.Button.prototype.onBlur=
function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);b.on(this.playerEvent,a.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",a.bind(this,this.update));
b.ready(a.bind(this,this.update));this.boundEvents={}}});a.Slider.prototype.createEl=function(b,c){c=c||{};c.className+=" vjs-slider";c=a.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return a.Component.prototype.createEl.call(this,b,c)};a.Slider.prototype.onMouseDown=function(b){b.preventDefault();a.blockTextSelection();this.boundEvents.move=a.bind(this,this.onMouseMove);this.boundEvents.end=a.bind(this,this.onMouseUp);a.on(document,"mousemove",this.boundEvents.move);
a.on(document,"mouseup",this.boundEvents.end);a.on(document,"touchmove",this.boundEvents.move);a.on(document,"touchend",this.boundEvents.end);this.onMouseMove(b)};a.Slider.prototype.onMouseUp=function(){a.unblockTextSelection();a.off(document,"mousemove",this.boundEvents.move,!1);a.off(document,"mouseup",this.boundEvents.end,!1);a.off(document,"touchmove",this.boundEvents.move,!1);a.off(document,"touchend",this.boundEvents.end,!1);this.update()};a.Slider.prototype.update=function(){if(this.el_){var b,
c=this.getPercent(),d=this.handle,e=this.bar;isNaN(c)&&(c=0);b=c;if(d){b=this.el_.offsetWidth;var f=d.el().offsetWidth;b=f?f/b:0;c*=1-b;b=c+b/2;d.el().style.left=a.round(100*c,2)+"%"}e.el().style.width=a.round(100*b,2)+"%"}};a.Slider.prototype.calculateDistance=function(b){var c,d,e,f;c=this.el_;d=a.findPosition(c);f=e=c.offsetWidth;c=this.handle;if(this.options_.vertical)return f=d.top,b=b.changedTouches?b.changedTouches[0].pageY:b.pageY,c&&(c=c.el().offsetHeight,f+=c/2,e-=c),Math.max(0,Math.min(1,
(f-b+e)/e));e=d.left;b=b.changedTouches?b.changedTouches[0].pageX:b.pageX;c&&(c=c.el().offsetWidth,e+=c/2,f-=c);return Math.max(0,Math.min(1,(b-e)/f))};a.Slider.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())};a.Slider.prototype.onBlur=function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onClick=
function(a){a.stopImmediatePropagation();a.preventDefault()};a.SliderHandle=a.Component.extend();a.SliderHandle.prototype.defaultValue=0;a.SliderHandle.prototype.createEl=function(b,c){c=c||{};c.className+=" vjs-slider-handle";c=a.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},c);return a.Component.prototype.createEl.call(this,"div",c)};a.Menu=a.Component.extend();a.Menu.prototype.addItem=function(b){this.addChild(b);b.on("click",a.bind(this,function(){this.unlockShowing()}))};
a.Menu.prototype.createEl=function(){var b=this.options().contentElType||"ul";this.contentEl_=a.createEl(b,{className:"vjs-menu-content"});b=a.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});b.appendChild(this.contentEl_);a.on(b,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return b};a.MenuItem=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);this.selected(c.selected)}});a.MenuItem.prototype.createEl=function(b,c){return a.Button.prototype.createEl.call(this,
"li",a.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},c))};a.MenuItem.prototype.onClick=function(){this.selected(!0)};a.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))};a.MenuButton=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);this.menu=this.createMenu();this.addChild(this.menu);this.items&&0===this.items.length&&this.hide();
this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","button")}});a.MenuButton.prototype.buttonPressed_=!1;a.MenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_);this.options().title&&b.el().appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(this.items=this.createItems())for(var c=0;c<this.items.length;c++)b.addItem(this.items[c]);return b};a.MenuButton.prototype.createItems=
function(){};a.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+a.Button.prototype.buildCSSClass.call(this)};a.MenuButton.prototype.onFocus=function(){};a.MenuButton.prototype.onBlur=function(){};a.MenuButton.prototype.onClick=function(){this.one("mouseout",a.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()};a.MenuButton.prototype.onKeyPress=function(a){a.preventDefault();32==a.which||
13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()};a.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",!0);this.items&&0<this.items.length&&this.items[0].el().focus()};a.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",!1)};a.Player=a.Component.extend({init:function(b,
c,d){this.tag=b;c=a.obj.merge(this.getTagSettings(b),c);this.cache_={};this.poster_=c.poster;this.controls_=c.controls;!0!==c.customControlsOnMobile&&(a.IS_IOS||a.IS_ANDROID)?(b.controls=c.controls,this.controls_=!1):b.controls=!1;a.Component.call(this,this,c,d);this.one("play",function(b){a.trigger(this.el_,{type:"firstplay",target:this.el_})||(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation())});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);
this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);a.players[this.id_]=this;c.plugins&&a.obj.each(c.plugins,function(a,b){this[a](b)},this)}});a.Player.prototype.options_=a.options;a.Player.prototype.dispose=function(){a.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.stopTrackingProgress();
this.stopTrackingCurrentTime();this.tech&&this.tech.dispose();a.Component.prototype.dispose.call(this)};a.Player.prototype.getTagSettings=function(b){var c={sources:[],tracks:[]};a.obj.merge(c,a.getAttributeValues(b));if(b.hasChildNodes())for(var d,e=b.childNodes,f=0,k=e.length;f<k;f++)b=e[f],d=b.nodeName.toLowerCase(),"source"===d?c.sources.push(a.getAttributeValues(b)):"track"===d&&c.tracks.push(a.getAttributeValues(b));return c};a.Player.prototype.createEl=function(){var b=this.el_=a.Component.prototype.createEl.call(this,
"div"),c=this.tag;c.removeAttribute("width");c.removeAttribute("height");if(c.hasChildNodes())for(var d=c.childNodes.length,e=0,f=c.childNodes;e<d;e++)"source"!=f[0].nodeName.toLowerCase()&&"track"!=f[0].nodeName.toLowerCase()||c.removeChild(f[0]);c.id=c.id||"vjs_video_"+a.guid++;b.id=c.id;b.className=c.className;c.id+="_html5_api";c.className="vjs-tech";c.player=b.player=this;this.addClass("vjs-paused");this.width(this.options_.width,!0);this.height(this.options_.height,!0);c.parentNode&&c.parentNode.insertBefore(b,
c);a.insertFirst(c,b);return b};a.Player.prototype.loadTech=function(b,c){this.tech?this.unloadTech():"Html5"!==b&&this.tag&&(this.el_.removeChild(this.tag),this.tag=this.tag.player=null);this.techName=b;this.isReady_=!1;var d=a.obj.merge({source:c,parentEl:this.el_},this.options_[b.toLowerCase()]);c&&(c.src==this.cache_.src&&0<this.cache_.currentTime&&(d.startTime=this.cache_.currentTime),this.cache_.src=c.src);this.tech=new a[b](this,d);this.tech.ready(function(){this.player_.triggerReady();this.features.progressEvents||
this.player_.manualProgressOn();this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()})};a.Player.prototype.unloadTech=function(){this.isReady_=!1;this.tech.dispose();this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();this.tech=!1};a.Player.prototype.manualProgressOn=function(){this.manualProgress=!0;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=!0;this.player_.manualProgressOff()})};a.Player.prototype.manualProgressOff=
function(){this.manualProgress=!1;this.stopTrackingProgress()};a.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(a.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)};a.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};a.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",
this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0;this.player_.manualTimeUpdatesOff()})};a.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};a.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=
setInterval(a.bind(this,function(){this.trigger("timeupdate")}),250)};a.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};a.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())};a.Player.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing")};a.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime)};a.Player.prototype.onPause=
function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused")};a.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")};a.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))};a.Player.prototype.onError=function(b){a.log("Video Error",b)};a.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")};a.Player.prototype.getCache=function(){return this.cache_};
a.Player.prototype.techCall=function(b,c){if(this.tech&&this.tech.isReady_)this.tech.ready(function(){this[b](c)});else try{this.tech[b](c)}catch(d){throw a.log(d),d;}};a.Player.prototype.techGet=function(b){if(this.tech&&this.tech.isReady_)try{return this.tech[b]()}catch(c){throw void 0===this.tech[b]?a.log("Video.js: "+b+" method not defined for "+this.techName+" playback technology.",c):"TypeError"==c.name?(a.log("Video.js: "+b+" unavailable on "+this.techName+" playback technology element.",c),
this.tech.isReady_=!1):a.log(c),c;}};a.Player.prototype.play=function(){this.techCall("play");return this};a.Player.prototype.pause=function(){this.techCall("pause");return this};a.Player.prototype.paused=function(){return!1===this.techGet("paused")?!1:!0};a.Player.prototype.currentTime=function(a){return void 0!==a?(this.cache_.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0};a.Player.prototype.duration=
function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):this.cache_.duration};a.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};a.Player.prototype.buffered=function(){var b=this.techGet("buffered"),c=this.cache_.bufferEnd=this.cache_.bufferEnd||0;b&&(0<b.length&&b.end(0)!==c)&&(c=b.end(0),this.cache_.bufferEnd=c);return a.createTimeRange(0,c)};a.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():
0};a.Player.prototype.volume=function(b){if(void 0!==b)return b=Math.max(0,Math.min(1,parseFloat(b))),this.cache_.volume=b,this.techCall("setVolume",b),a.setLocalStorage("volume",b),this;b=parseFloat(this.techGet("volume"));return isNaN(b)?1:b};a.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1};a.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1};a.Player.prototype.requestFullScreen=function(){var b=
a.support.requestFullScreen;this.isFullScreen=!0;b?(a.on(document,b.eventName,a.bind(this,function(c){this.isFullScreen=document[b.isFullScreen];!1===this.isFullScreen&&a.off(document,b.eventName,arguments.callee);this.trigger("fullscreenchange")})),this.el_[b.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.cancelFullScreen=function(){var b=a.support.requestFullScreen;this.isFullScreen=
!1;if(b)document[b.cancelFn]();else this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=document.documentElement.style.overflow;a.on(document,"keydown",a.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";a.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};a.Player.prototype.fullWindowOnEscKey=
function(a){27===a.keyCode&&(!0===this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())};a.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1;a.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;a.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};a.Player.prototype.selectSource=function(b){for(var c=0,d=this.options_.techOrder;c<d.length;c++){var e=a.capitalize(d[c]),f=a[e];if(f.isSupported())for(var k=
0,l=b;k<l.length;k++){var n=l[k];if(f.canPlaySource(n))return{source:n,tech:e}}}return!1};a.Player.prototype.src=function(b){if(b instanceof Array){var c=this.selectSource(b);c?(b=c.source,c=c.tech,c==this.techName?this.src(b):this.loadTech(c,b)):this.el_.appendChild(a.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else b instanceof
Object?a[this.techName].canPlaySource(b)?this.src(b.src):this.src([b]):(this.cache_.src=b,this.isReady_?(this.techCall("src",b),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(b)}));return this};a.Player.prototype.load=function(){this.techCall("load");return this};a.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};a.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",
a),this.options_.preload=a,this):this.techGet("preload")};a.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)};a.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")};a.Player.prototype.poster=function(a){void 0!==a&&(this.poster_=a);return this.poster_};a.Player.prototype.controls=function(a){void 0!==a&&this.controls_!==a&&(this.controls_=
!!a,this.trigger("controlschange"));return this.controls_};a.Player.prototype.error=function(){return this.techGet("error")};a.Player.prototype.ended=function(){return this.techGet("ended")};(function(){var b,c,d;d=document.createElement("div");c={};void 0!==d.cancelFullscreen?(c.requestFn="requestFullscreen",c.cancelFn="exitFullscreen",c.eventName="fullscreenchange",c.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(b="moz",c.isFullScreen=b+"FullScreen"):(b="webkit",c.isFullScreen=b+"IsFullScreen"),
d[b+"RequestFullScreen"]&&(c.requestFn=b+"RequestFullScreen",c.cancelFn=b+"CancelFullScreen"),c.eventName=b+"fullscreenchange");document[c.cancelFn]&&(a.support.requestFullScreen=c)})();a.ControlBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.controls()||this.disable();b.one("play",a.bind(this,function(){var b,c=a.bind(this,this.fadeIn),d=a.bind(this,this.fadeOut);this.fadeOut();"ontouchstart"in window||(this.player_.on("mouseover",c),this.player_.on("mouseout",d),this.player_.on("pause",
a.bind(this,this.lockShowing)),this.player_.on("play",a.bind(this,this.unlockShowing)));b=!1;this.player_.on("touchstart",function(){b=!0});this.player_.on("touchmove",function(){b=!1});this.player_.on("touchend",a.bind(this,function(a){var c;b&&(c=this.el().className.search("fade-in"),-1!==c?this.fadeOut():this.fadeIn());b=!1;this.player_.paused()||a.preventDefault()}))}))}});a.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},
remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};a.ControlBar.prototype.createEl=function(){return a.createEl("div",{className:"vjs-control-bar"})};a.ControlBar.prototype.fadeIn=function(){a.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};a.ControlBar.prototype.fadeOut=function(){a.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};a.PlayToggle=a.Button.extend({init:function(b,c){a.Button.call(this,
b,c);b.on("play",a.bind(this,this.onPlay));b.on("pause",a.bind(this,this.onPause))}});a.PlayToggle.prototype.buttonText="Play";a.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+a.Button.prototype.buildCSSClass.call(this)};a.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()};a.PlayToggle.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML=
"Pause"};a.PlayToggle.prototype.onPause=function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused");this.el_.children[0].children[0].innerHTML="Play"};a.CurrentTimeDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.CurrentTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=a.createEl("div",
{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.CurrentTimeDisplay.prototype.updateContent=function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+a.formatTime(b,this.player_.duration())};a.DurationDisplay=a.Component.extend({init:function(b,
c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.DurationDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.DurationDisplay.prototype.updateContent=
function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+a.formatTime(this.player_.duration()))};a.TimeDivider=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.TimeDivider.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};a.RemainingTimeDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",
a.bind(this,this.updateContent))}});a.RemainingTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&
this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+a.formatTime(this.player_.remainingTime()))};a.FullscreenToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c)}});a.FullscreenToggle.prototype.buttonText="Fullscreen";a.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+a.Button.prototype.buildCSSClass.call(this)};a.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),
this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")};a.ProgressControl=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.ProgressControl.prototype.options_={children:{seekBar:{}}};a.ProgressControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};a.SeekBar=a.Slider.extend({init:function(b,c){a.Slider.call(this,
b,c);b.on("timeupdate",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes))}});a.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};a.SeekBar.prototype.playerEvent="timeupdate";a.SeekBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};a.SeekBar.prototype.updateARIAAttributes=
function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",a.round(100*this.getPercent(),2));this.el_.setAttribute("aria-valuetext",a.formatTime(b,this.player_.duration()))};a.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};a.SeekBar.prototype.onMouseDown=function(b){a.Slider.prototype.onMouseDown.call(this,b);this.player_.scrubbing=!0;this.videoWasPlaying=!this.player_.paused();
this.player_.pause()};a.SeekBar.prototype.onMouseMove=function(a){a=this.calculateDistance(a)*this.player_.duration();a==this.player_.duration()&&(a-=0.1);this.player_.currentTime(a)};a.SeekBar.prototype.onMouseUp=function(b){a.Slider.prototype.onMouseUp.call(this,b);this.player_.scrubbing=!1;this.videoWasPlaying&&this.player_.play()};a.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};a.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-
5)};a.LoadProgressBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("progress",a.bind(this,this.update))}});a.LoadProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};a.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=a.round(100*this.player_.bufferedPercent(),2)+"%")};a.PlayProgressBar=a.Component.extend({init:function(b,
c){a.Component.call(this,b,c)}});a.PlayProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};a.SeekHandle=a.SliderHandle.extend();a.SeekHandle.prototype.defaultValue="00:00";a.SeekHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};a.VolumeControl=a.Component.extend({init:function(b,c){a.Component.call(this,
b,c);b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.VolumeControl.prototype.options_={children:{volumeBar:{}}};a.VolumeControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};a.VolumeBar=a.Slider.extend({init:function(b,
c){a.Slider.call(this,b,c);b.on("volumechange",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes));setTimeout(a.bind(this,this.update),0)}});a.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",a.round(100*this.player_.volume(),2));this.el_.setAttribute("aria-valuetext",a.round(100*this.player_.volume(),2)+"%")};a.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};
a.VolumeBar.prototype.playerEvent="volumechange";a.VolumeBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};a.VolumeBar.prototype.onMouseMove=function(a){this.player_.volume(this.calculateDistance(a))};a.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()};a.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};a.VolumeBar.prototype.stepBack=
function(){this.player_.volume(this.player_.volume()-0.1)};a.VolumeLevel=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.VolumeLevel.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};a.VolumeHandle=a.SliderHandle.extend();a.VolumeHandle.prototype.defaultValue="00:00";a.VolumeHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,
"div",{className:"vjs-volume-handle"})};a.MuteToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.MuteToggle.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",
{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)};a.MuteToggle.prototype.update=function(){var b=this.player_.volume(),c=3;0===b||this.player_.muted()?c=0:0.33>b?c=1:0.67>b&&(c=2);this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&
(this.el_.children[0].children[0].innerHTML="Mute");for(b=0;4>b;b++)a.removeClass(this.el_,"vjs-vol-"+b);a.addClass(this.el_,"vjs-vol-"+c)};a.VolumeMenuButton=a.MenuButton.extend({init:function(b,c){a.MenuButton.call(this,b,c);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}));
this.addClass("vjs-menu-button")}});a.VolumeMenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_,{contentElType:"div"}),c=new a.VolumeBar(this.player_,a.obj.merge({vertical:!0},this.options_.volumeBar));b.addChild(c);return b};a.VolumeMenuButton.prototype.onClick=function(){a.MuteToggle.prototype.onClick.call(this);a.MenuButton.prototype.onClick.call(this)};a.VolumeMenuButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",
innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.VolumeMenuButton.prototype.update=a.MuteToggle.prototype.update;a.PosterImage=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.poster()&&b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.PosterImage.prototype.createEl=function(){var b=a.createEl("div",{className:"vjs-poster",tabIndex:-1}),c=this.player_.poster();c&&("backgroundSize"in b.style?b.style.backgroundImage='url("'+c+'")':b.appendChild(a.createEl("img",
{src:c})));return b};a.PosterImage.prototype.onClick=function(){this.player_.play()};a.LoadingSpinner=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("canplay",a.bind(this,this.hide));b.on("canplaythrough",a.bind(this,this.hide));b.on("playing",a.bind(this,this.hide));b.on("seeked",a.bind(this,this.hide));b.on("seeking",a.bind(this,this.show));b.on("seeked",a.bind(this,this.hide));b.on("error",a.bind(this,this.show));b.on("waiting",a.bind(this,this.show))}});a.LoadingSpinner.prototype.createEl=
function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};a.BigPlayButton=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.BigPlayButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};a.BigPlayButton.prototype.onClick=function(){this.player_.play()};a.MediaTechController=
a.Component.extend({init:function(b,c,d){a.Component.call(this,b,c,d)}});a.MediaTechController.prototype.onClick=function(){return a.IS_ANDROID?function(){}:function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())}}();a.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1};a.media={};a.media.ApiMethods="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
for(var f=a.media.ApiMethods.length-1;0<=f;f--)a.MediaTechController.prototype[a.media.ApiMethods[f]]=d(a.media.ApiMethods[f]);a.Html5=a.MediaTechController.extend({init:function(b,c,d){this.features.volumeControl=a.Html5.canControlVolume();this.features.movingMediaElementInDOM=!a.IS_IOS;this.features.fullscreenResize=!0;a.MediaTechController.call(this,b,c,d);(c=c.source)&&this.el_.currentSrc==c.src?b.trigger("loadstart"):c&&(this.el_.src=c.src);b.ready(function(){this.options_.autoplay&&this.paused()&&
(this.tag.poster=null,this.play())});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});a.Html5.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Html5.prototype.createEl=function(){var b=this.player_,c=b.tag;c&&!1!==this.features.movingMediaElementInDOM||(c?(b.el().removeChild(c),c=c.cloneNode(!1)):c=a.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),c.player=b,a.insertFirst(c,b.el()));for(var d=["autoplay","preload","loop","muted"],
e=d.length-1;0<=e;e--){var f=d[e];null!==b.options_[f]&&(c[f]=b.options_[f])}return c};a.Html5.prototype.setupTriggers=function(){for(var b=a.Html5.Events.length-1;0<=b;b--)a.on(this.el_,a.Html5.Events[b],a.bind(this.player_,this.eventHandler))};a.Html5.prototype.eventHandler=function(a){this.trigger(a);a.stopPropagation()};a.Html5.prototype.play=function(){this.el_.play()};a.Html5.prototype.pause=function(){this.el_.pause()};a.Html5.prototype.paused=function(){return this.el_.paused};a.Html5.prototype.currentTime=
function(){return this.el_.currentTime};a.Html5.prototype.setCurrentTime=function(b){try{this.el_.currentTime=b}catch(c){a.log(c,"Video is not ready. (Video.js)")}};a.Html5.prototype.duration=function(){return this.el_.duration||0};a.Html5.prototype.buffered=function(){return this.el_.buffered};a.Html5.prototype.volume=function(){return this.el_.volume};a.Html5.prototype.setVolume=function(a){this.el_.volume=a};a.Html5.prototype.muted=function(){return this.el_.muted};a.Html5.prototype.setMuted=function(a){this.el_.muted=
a};a.Html5.prototype.width=function(){return this.el_.offsetWidth};a.Html5.prototype.height=function(){return this.el_.offsetHeight};a.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(a.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(a.USER_AGENT)?!1:!0};a.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};
a.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};a.Html5.prototype.src=function(a){this.el_.src=a};a.Html5.prototype.load=function(){this.el_.load()};a.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};a.Html5.prototype.preload=function(){return this.el_.preload};a.Html5.prototype.setPreload=function(a){this.el_.preload=a};a.Html5.prototype.autoplay=function(){return this.el_.autoplay};a.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a};a.Html5.prototype.loop=
function(){return this.el_.loop};a.Html5.prototype.setLoop=function(a){this.el_.loop=a};a.Html5.prototype.error=function(){return this.el_.error};a.Html5.prototype.seeking=function(){return this.el_.seeking};a.Html5.prototype.ended=function(){return this.el_.ended};a.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};a.Html5.isSupported=function(){return!!document.createElement("video").canPlayType};a.Html5.canPlaySource=function(a){return!!document.createElement("video").canPlayType(a.type)};
a.Html5.canControlVolume=function(){var b=a.TEST_VID.volume;a.TEST_VID.volume=b/2+0.1;return b!==a.TEST_VID.volume};a.Html5.Events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");a.IS_ANDROID&&3>a.ANDROID_VERSION&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?
"maybe":""});a.Flash=a.MediaTechController.extend({init:function(b,c,d){a.MediaTechController.call(this,b,c,d);d=c.source;var e=c.parentEl,f=this.el_=a.createEl("div",{id:b.id()+"_temp_flash"}),k=b.id()+"_flash_api";b=b.options_;var l=a.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:b.autoplay,preload:b.preload,loop:b.loop,muted:b.muted},c.flashVars),n=a.obj.merge({wmode:"opaque",bgcolor:"#000000"},
c.params),p=a.obj.merge({id:k,name:k,"class":"vjs-tech"},c.attributes);d&&(l.src=encodeURIComponent(a.getAbsoluteURL(d.src)));a.insertFirst(f,e);c.startTime&&this.ready(function(){this.load();this.play();this.currentTime(c.startTime)});if(!0!==c.iFrameMode||a.IS_FIREFOX)a.Flash.embed(c.swf,f,l,n,p);else{var r=a.createEl("iframe",{id:k+"_iframe",name:k+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});l.readyFunction="ready";l.eventProxyFunction="events";l.errorEventProxyFunction=
"errors";a.on(r,"load",a.bind(this,function(){var b,d=r.contentWindow;b=r.contentDocument?r.contentDocument:r.contentWindow.document;b.write(a.Flash.getEmbedCode(c.swf,l,n,p));d.player=this.player_;d.ready=a.bind(this.player_,function(c){c=b.getElementById(c);var d=this.tech;d.el_=c;a.on(c,"click",d.bind(d.onClick));a.Flash.checkReady(d)});d.events=a.bind(this.player_,function(a,b){this&&"flash"===this.techName&&this.trigger(b)});d.errors=a.bind(this.player_,function(b,c){a.log("Flash Error",c)})}));
f.parentNode.replaceChild(r,f)}}});a.Flash.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Flash.prototype.play=function(){this.el_.vjs_play()};a.Flash.prototype.pause=function(){this.el_.vjs_pause()};a.Flash.prototype.src=function(b){b=a.getAbsoluteURL(b);this.el_.vjs_src(b);if(this.player_.autoplay()){var c=this;setTimeout(function(){c.play()},0)}};a.Flash.prototype.load=function(){this.el_.vjs_load()};a.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};
a.Flash.prototype.buffered=function(){return a.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};a.Flash.prototype.supportsFullScreen=function(){return!1};a.Flash.prototype.enterFullScreen=function(){return!1};var e=a.Flash.prototype,n="preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),u="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),
p=function(a){var c=a.charAt(0).toUpperCase()+a.slice(1);e["set"+c]=function(c){return this.el_.vjs_setProperty(a,c)}},x=function(a){e[a]=function(){return this.el_.vjs_getProperty(a)}};(function(){var a;for(a=0;a<n.length;a++)x(n[a]),p(n[a]);for(a=0;a<u.length;a++)x(u[a])})();a.Flash.isSupported=function(){return 10<=a.Flash.version()[0]};a.Flash.canPlaySource=function(b){if(b.type in a.Flash.formats)return"maybe"};a.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};
a.Flash.onReady=function(b){b=a.el(b);var c=b.player||b.parentNode.player,d=c.tech;b.player=c;d.el_=b;d.on("click",d.onClick);a.Flash.checkReady(d)};a.Flash.checkReady=function(b){b.el().vjs_getProperty?b.triggerReady():setTimeout(function(){a.Flash.checkReady(b)},50)};a.Flash.onEvent=function(b,c){a.el(b).player.trigger(c)};a.Flash.onError=function(b,c){a.el(b).player.trigger("error");a.log("Flash Error",c,b)};a.Flash.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,
",").match(/^,?(.+),?$/)[1]}catch(c){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(d){}}return a.split(",")};a.Flash.embed=function(b,c,d,e,f){b=a.Flash.getEmbedCode(b,d,e,f);b=a.createEl("div",{innerHTML:b}).childNodes[0];d=c.parentNode;c.parentNode.replaceChild(b,c);var k=d.childNodes[0];setTimeout(function(){k.style.display=
"block"},1E3);return b};a.Flash.getEmbedCode=function(b,c,d,e){var f="",k="",l="";c&&a.obj.each(c,function(a,b){f+=a+"="+b+"&amp;"});d=a.obj.merge({movie:b,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},d);a.obj.each(d,function(a,b){k+='<param name="'+a+'" value="'+b+'" />'});e=a.obj.merge({data:b,width:"100%",height:"100%"},e);a.obj.each(e,function(a,b){l+=a+'="'+b+'" '});return'<object type="application/x-shockwave-flash"'+l+">"+k+"</object>"};a.MediaLoader=a.Component.extend({init:function(b,
c,d){a.Component.call(this,b,c,d);if(b.options_.sources&&0!==b.options_.sources.length)b.src(b.options_.sources);else for(c=0,d=b.options_.techOrder;c<d.length;c++){var e=a.capitalize(d[c]),f=a[e];if(f&&f.isSupported()){b.loadTech(e);break}}}});a.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[]};a.Player.prototype.addTextTrack=function(b,c,d,e){var f=this.textTracks_=this.textTracks_||[];e=e||{};e.kind=b;e.label=c;e.language=d;b=a.capitalize(b||"subtitles");e=new a[b+
"Track"](this,e);f.push(e);return e};a.Player.prototype.addTextTracks=function(a){for(var c,d=0;d<a.length;d++)c=a[d],this.addTextTrack(c.kind,c.label,c.language,c);return this};a.Player.prototype.showTextTrack=function(a,c){for(var d=this.textTracks_,e=0,f=d.length,k,l;e<f;e++)k=d[e],k.id()===a?(k.show(),l=k):c&&(k.kind()==c&&0<k.mode())&&k.disable();(d=l?l.kind():c?c:!1)&&this.trigger(d+"trackchange");return this};a.TextTrack=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);this.id_=
c.id||"vjs_"+c.kind+"_"+c.language+"_"+a.guid++;this.src_=c.src;this.dflt_=c["default"]||c.dflt;this.title_=c.title;this.language_=c.srclang;this.label_=c.label;this.cues_=[];this.activeCues_=[];this.mode_=this.readyState_=0;this.player_.on("fullscreenchange",a.bind(this,this.adjustFontSize))}});a.TextTrack.prototype.kind=function(){return this.kind_};a.TextTrack.prototype.src=function(){return this.src_};a.TextTrack.prototype.dflt=function(){return this.dflt_};a.TextTrack.prototype.title=function(){return this.title_};
a.TextTrack.prototype.language=function(){return this.language_};a.TextTrack.prototype.label=function(){return this.label_};a.TextTrack.prototype.cues=function(){return this.cues_};a.TextTrack.prototype.activeCues=function(){return this.activeCues_};a.TextTrack.prototype.readyState=function(){return this.readyState_};a.TextTrack.prototype.mode=function(){return this.mode_};a.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?140*(screen.width/this.player_.width())+
"%":""};a.TextTrack.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};a.TextTrack.prototype.show=function(){this.activate();this.mode_=2;a.Component.prototype.show.call(this)};a.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;a.Component.prototype.hide.call(this)};a.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide();this.deactivate();this.mode_=0};a.TextTrack.prototype.activate=function(){0===
this.readyState_&&this.load();0===this.mode_&&(this.player_.on("timeupdate",a.bind(this,this.update,this.id_)),this.player_.on("ended",a.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))};a.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",a.bind(this,this.update,this.id_));this.player_.off("ended",a.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};
a.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,a.get(this.src_,a.bind(this,this.parseCues),a.bind(this,this.onError)))};a.TextTrack.prototype.onError=function(a){this.error=a;this.readyState_=3;this.trigger("error")};a.TextTrack.prototype.parseCues=function(b){var c,d;b=b.split("\n");for(var e="",f=1,k=b.length;f<k;f++)if(e=a.trim(b[f])){-1==e.indexOf("--\x3e")?(c=e,e=a.trim(b[++f])):c=this.cues_.length;c={id:c,index:this.cues_.length};d=e.split(" --\x3e ");c.startTime=
this.parseCueTime(d[0]);c.endTime=this.parseCueTime(d[1]);for(d=[];b[++f]&&(e=a.trim(b[f]));)d.push(e);c.text=d.join("<br/>");this.cues_.push(c)}this.readyState_=2;this.trigger("loaded")};a.TextTrack.prototype.parseCueTime=function(a){var c=a.split(":");a=0;var d,e,f;3==c.length?(d=c[0],e=c[1],c=c[2]):(d=0,e=c[0],c=c[1]);c=c.split(/\s+/);c=c.splice(0,1)[0];c=c.split(/\.|,/);f=parseFloat(c[1]);c=c[0];a+=3600*parseFloat(d);a+=60*parseFloat(e);a+=parseFloat(c);f&&(a+=f/1E3);return a};a.TextTrack.prototype.update=
function(){if(0<this.cues_.length){var a=this.player_.currentTime();if(void 0===this.prevChange||a<this.prevChange||this.nextChange<=a){var c=this.cues_,d=this.player_.duration(),e=0,f=!1,k=[],l,n,p,r;a>=this.nextChange||void 0===this.nextChange?r=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(f=!0,r=void 0!==this.lastActiveIndex?this.lastActiveIndex:c.length-1);for(;;){p=c[r];if(p.endTime<=a)e=Math.max(e,p.endTime),p.active&&(p.active=!1);else if(a<p.startTime){if(d=Math.min(d,p.startTime),
p.active&&(p.active=!1),!f)break}else f?(k.splice(0,0,p),void 0===n&&(n=r),l=r):(k.push(p),void 0===l&&(l=r),n=r),d=Math.min(d,p.endTime),e=Math.max(e,p.startTime),p.active=!0;if(f)if(0===r)break;else r--;else if(r===c.length-1)break;else r++}this.activeCues_=k;this.nextChange=d;this.prevChange=e;this.firstActiveIndex=l;this.lastActiveIndex=n;this.updateDisplay();this.trigger("cuechange")}}};a.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,c="",d=0,e=a.length;d<e;d++)c+='<span class="vjs-tt-cue">'+
a[d].text+"</span>";this.el_.innerHTML=c};a.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.lastActiveIndex=this.firstActiveIndex=0};a.CaptionsTrack=a.TextTrack.extend();a.CaptionsTrack.prototype.kind_="captions";a.SubtitlesTrack=a.TextTrack.extend();a.SubtitlesTrack.prototype.kind_="subtitles";a.ChaptersTrack=a.TextTrack.extend();a.ChaptersTrack.prototype.kind_="chapters";a.TextTrackDisplay=a.Component.extend({init:function(b,c,d){a.Component.call(this,
b,c,d);b.options_.tracks&&0<b.options_.tracks.length&&this.player_.addTextTracks(b.options_.tracks)}});a.TextTrackDisplay.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};a.TextTrackMenuItem=a.MenuItem.extend({init:function(b,c){var d=this.track=c.track;c.label=d.label();c.selected=d.dflt();a.MenuItem.call(this,b,c);this.player_.on(d.kind()+"trackchange",a.bind(this,this.update))}});a.TextTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.TextTrackMenuItem.prototype.update=function(){2==this.track.mode()?this.selected(!0):this.selected(!1)};a.OffTextTrackMenuItem=a.TextTrackMenuItem.extend({init:function(b,c){c.track={kind:function(){return c.kind},player:b,label:function(){return c.kind+" off"},dflt:function(){return!1},mode:function(){return!1}};a.TextTrackMenuItem.call(this,b,c);this.selected(!0)}});a.OffTextTrackMenuItem.prototype.onClick=function(){a.TextTrackMenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.OffTextTrackMenuItem.prototype.update=function(){for(var a=this.player_.textTracks(),c=0,d=a.length,e,f=!0;c<d;c++)e=a[c],e.kind()==this.track.kind()&&2==e.mode()&&(f=!1);f?this.selected(!0):this.selected(!1)};a.TextTrackButton=a.MenuButton.extend({init:function(b,c){a.MenuButton.call(this,b,c);1>=this.items.length&&this.hide()}});a.TextTrackButton.prototype.createItems=function(){var b=[],c;b.push(new a.OffTextTrackMenuItem(this.player_,
{kind:this.kind_}));for(var d=0;d<this.player_.textTracks().length;d++)c=this.player_.textTracks()[d],c.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:c}));return b};a.CaptionsButton=a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Captions Menu")}});a.CaptionsButton.prototype.kind_="captions";a.CaptionsButton.prototype.buttonText="Captions";a.CaptionsButton.prototype.className="vjs-captions-button";a.SubtitlesButton=
a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Subtitles Menu")}});a.SubtitlesButton.prototype.kind_="subtitles";a.SubtitlesButton.prototype.buttonText="Subtitles";a.SubtitlesButton.prototype.className="vjs-subtitles-button";a.ChaptersButton=a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Chapters Menu")}});a.ChaptersButton.prototype.kind_="chapters";a.ChaptersButton.prototype.buttonText=
"Chapters";a.ChaptersButton.prototype.className="vjs-chapters-button";a.ChaptersButton.prototype.createItems=function(){for(var b=[],c,d=0;d<this.player_.textTracks().length;d++)c=this.player_.textTracks()[d],c.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:c}));return b};a.ChaptersButton.prototype.createMenu=function(){for(var b=this.player_.textTracks(),c=0,d=b.length,e,f,k=this.items=[];c<d;c++)if(e=b[c],e.kind()==this.kind_&&e.dflt()){if(2>e.readyState()){this.chaptersTrack=
e;e.on("loaded",a.bind(this,this.createMenu));return}f=e;break}b=this.menu=new a.Menu(this.player_);b.el_.appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(f){e=f.cues_;for(var l,c=0,d=e.length;c<d;c++)l=e[c],l=new a.ChaptersTrackMenuItem(this.player_,{track:f,cue:l}),k.push(l),b.addChild(l)}0<this.items.length&&this.show();return b};a.ChaptersTrackMenuItem=a.MenuItem.extend({init:function(b,c){var d=this.track=c.track,e=this.cue=c.cue,f=
b.currentTime();c.label=e.text;c.selected=e.startTime<=f&&f<e.endTime;a.MenuItem.call(this,b,c);d.on("cuechange",a.bind(this,this.update))}});a.ChaptersTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};a.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,c=this.player_.currentTime();a.startTime<=c&&c<a.endTime?this.selected(!0):this.selected(!1)};a.obj.merge(a.ControlBar.prototype.options_.children,
{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)a.JSON=window.JSON;else{a.JSON={};var w=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a.JSON.parse=function(a,c){function d(a,b){var e,f,k=a[b];if(k&&"object"===typeof k)for(e in k)Object.prototype.hasOwnProperty.call(k,e)&&(f=d(k,e),void 0!==f?k[e]=f:delete k[e]);return c.call(a,b,k)}var e;a=String(a);w.lastIndex=
0;w.test(a)&&(a=a.replace(w,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}a.autoSetup=function(){var b,c,d=document.getElementsByTagName("video");
if(d&&0<d.length)for(var e=0,f=d.length;e<f;e++)if((c=d[e])&&c.getAttribute)void 0===c.player&&(b=c.getAttribute("data-setup"),null!==b&&(b=a.JSON.parse(b||"{}"),k(c,b)));else{a.autoSetupTimeout(1);break}else a.windowLoaded||a.autoSetupTimeout(1)};a.autoSetupTimeout=function(b){setTimeout(a.autoSetup,b)};a.one(window,"load",function(){a.windowLoaded=!0});a.autoSetupTimeout(1);a.plugin=function(b,c){a.Player.prototype[b]=c};r.exports=a})()})()},{}]},{},[1]);
/*
//@ sourceMappingURL=/js/source.map
*/