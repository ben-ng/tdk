require=(function(f,b,g){function a(l,h){if(!b[l]){if(!f[l]){var k=typeof require=="function"&&require;if(!h&&k){return k(l,!0)}if(d){return d(l,!0)}throw new Error("Cannot find module '"+l+"'")}var e=b[l]={exports:{}};f[l][0].call(e.exports,function(m){var n=f[l][1][m];return a(n?n:m)},e,e.exports)}return b[l].exports}var d=typeof require=="function"&&require;for(var c=0;c<g.length;c++){a(g[c])}return a})({"jquery-browserify":[function(b,c,a){c.exports=b("Gb3VIQ")},{}],Gb3VIQ:[function(b,c,a){(function(){(function(d,e){if(typeof a==="object"){c.exports=e()}else{if(typeof define==="function"&&define.amd){define([],e)}else{d.returnExports=e()}}}(this,function(){
/*!
 * jQuery JavaScript Library v1.8.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Thu Aug 30 2012 17:17:22 GMT-0400 (Eastern Daylight Time)
 */
;return(function(a7,aG){var B,ak,t=a7.document,aN=a7.location,h=a7.navigator,bl=a7.jQuery,N=a7.$,ar=Array.prototype.push,a9=Array.prototype.slice,aP=Array.prototype.indexOf,E=Object.prototype.toString,aa=Object.prototype.hasOwnProperty,aT=String.prototype.trim,bL=function(e,b4){return new bL.fn.init(e,b4,B)},bC=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,af=/\S/,a0=/\s+/,H=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bk=/^[\],:{}\s]*$/,bn=/(?:^|:|,)(?:\s*\[)+/g,bI=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a5=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,bU=/^-ms-/,aZ=/-([\da-z])/gi,S=function(e,b4){return(b4+"").toUpperCase()},aK=function(){if(t.addEventListener){t.removeEventListener("DOMContentLoaded",aK,false);bL.ready()}else{if(t.readyState==="complete"){t.detachEvent("onreadystatechange",aK);bL.ready()}}},ae={};bL.fn=bL.prototype={constructor:bL,init:function(e,b7,b6){var b5,b8,b4,b9;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b5=[null,e,null]}else{b5=bt.exec(e)}if(b5&&(b5[1]||!b7)){if(b5[1]){b7=b7 instanceof bL?b7[0]:b7;b9=(b7&&b7.nodeType?b7.ownerDocument||b7:t);e=bL.parseHTML(b5[1],b9,true);if(d.test(b5[1])&&bL.isPlainObject(b7)){this.attr.call(e,b7,true)}return bL.merge(this,e)}else{b8=t.getElementById(b5[2]);if(b8&&b8.parentNode){if(b8.id!==b5[2]){return b6.find(e)}this.length=1;this[0]=b8}this.context=t;this.selector=e;return this}}else{if(!b7||b7.jquery){return(b7||b6).find(e)}else{return this.constructor(b7).find(e)}}}else{if(bL.isFunction(e)){return b6.ready(e)}}if(e.selector!==aG){this.selector=e.selector;this.context=e.context}return bL.makeArray(e,this)},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return a9.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(b4,b6,e){var b5=bL.merge(this.constructor(),b4);b5.prevObject=this;b5.context=this.context;if(b6==="find"){b5.selector=this.selector+(this.selector?" ":"")+e}else{if(b6){b5.selector=this.selector+"."+b6+"("+e+")"}}return b5},each:function(b4,e){return bL.each(this,b4,e)},ready:function(e){bL.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(a9.apply(this,arguments),"slice",a9.call(arguments).join(","))},map:function(e){return this.pushStack(bL.map(this,function(b5,b4){return e.call(b5,b4,b5)}))},end:function(){return this.prevObject||this.constructor(null)},push:ar,sort:[].sort,splice:[].splice};bL.fn.init.prototype=bL.fn;bL.extend=bL.fn.extend=function(){var cc,b5,e,b4,b9,ca,b8=arguments[0]||{},b7=1,b6=arguments.length,cb=false;if(typeof b8==="boolean"){cb=b8;b8=arguments[1]||{};b7=2}if(typeof b8!=="object"&&!bL.isFunction(b8)){b8={}}if(b6===b7){b8=this;--b7}for(;b7<b6;b7++){if((cc=arguments[b7])!=null){for(b5 in cc){e=b8[b5];b4=cc[b5];if(b8===b4){continue}if(cb&&b4&&(bL.isPlainObject(b4)||(b9=bL.isArray(b4)))){if(b9){b9=false;ca=e&&bL.isArray(e)?e:[]}else{ca=e&&bL.isPlainObject(e)?e:{}}b8[b5]=bL.extend(cb,ca,b4)}else{if(b4!==aG){b8[b5]=b4}}}}}return b8};bL.extend({noConflict:function(e){if(a7.$===bL){a7.$=N}if(e&&a7.jQuery===bL){a7.jQuery=bl}return bL},isReady:false,readyWait:1,holdReady:function(e){if(e){bL.readyWait++}else{bL.ready(true)}},ready:function(e){if(e===true?--bL.readyWait:bL.isReady){return}if(!t.body){return setTimeout(bL.ready,1)}bL.isReady=true;if(e!==true&&--bL.readyWait>0){return}ak.resolveWith(t,[bL]);if(bL.fn.trigger){bL(t).trigger("ready").off("ready")}},isFunction:function(e){return bL.type(e)==="function"},isArray:Array.isArray||function(e){return bL.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):ae[E.call(e)]||"object"},isPlainObject:function(b6){if(!b6||bL.type(b6)!=="object"||b6.nodeType||bL.isWindow(b6)){return false}try{if(b6.constructor&&!aa.call(b6,"constructor")&&!aa.call(b6.constructor.prototype,"isPrototypeOf")){return false}}catch(b5){return false}var b4;for(b4 in b6){}return b4===aG||aa.call(b6,b4)},isEmptyObject:function(b4){var e;for(e in b4){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b6,b5,e){var b4;if(!b6||typeof b6!=="string"){return null}if(typeof b5==="boolean"){e=b5;b5=0}b5=b5||t;if((b4=d.exec(b6))){return[b5.createElement(b4[1])]}b4=bL.buildFragment([b6],b5,e?null:[]);return bL.merge([],(b4.cacheable?bL.clone(b4.fragment):b4.fragment).childNodes)},parseJSON:function(e){if(!e||typeof e!=="string"){return null}e=bL.trim(e);if(a7.JSON&&a7.JSON.parse){return a7.JSON.parse(e)}if(bk.test(e.replace(bI,"@").replace(a5,"]").replace(bn,""))){return(new Function("return "+e))()}bL.error("Invalid JSON: "+e)},parseXML:function(b6){var b4,b5;if(!b6||typeof b6!=="string"){return null}try{if(a7.DOMParser){b5=new DOMParser();b4=b5.parseFromString(b6,"text/xml")}else{b4=new ActiveXObject("Microsoft.XMLDOM");b4.async="false";b4.loadXML(b6)}}catch(b7){b4=aG}if(!b4||!b4.documentElement||b4.getElementsByTagName("parsererror").length){bL.error("Invalid XML: "+b6)}return b4},noop:function(){},globalEval:function(e){if(e&&af.test(e)){(a7.execScript||function(b4){a7["eval"].call(a7,b4)})(e)}},camelCase:function(e){return e.replace(bU,"ms-").replace(aZ,S)},nodeName:function(b4,e){return b4.nodeName&&b4.nodeName.toUpperCase()===e.toUpperCase()},each:function(b8,b9,b5){var b4,b6=0,b7=b8.length,e=b7===aG||bL.isFunction(b8);if(b5){if(e){for(b4 in b8){if(b9.apply(b8[b4],b5)===false){break}}}else{for(;b6<b7;){if(b9.apply(b8[b6++],b5)===false){break}}}}else{if(e){for(b4 in b8){if(b9.call(b8[b4],b4,b8[b4])===false){break}}}else{for(;b6<b7;){if(b9.call(b8[b6],b6,b8[b6++])===false){break}}}}return b8},trim:aT&&!aT.call("\uFEFF\xA0")?function(e){return e==null?"":aT.call(e)}:function(e){return e==null?"":e.toString().replace(H,"")},makeArray:function(e,b5){var b6,b4=b5||[];if(e!=null){b6=bL.type(e);if(e.length==null||b6==="string"||b6==="function"||b6==="regexp"||bL.isWindow(e)){ar.call(b4,e)}else{bL.merge(b4,e)}}return b4},inArray:function(b6,b4,b5){var e;if(b4){if(aP){return aP.call(b4,b6,b5)}e=b4.length;b5=b5?b5<0?Math.max(0,e+b5):b5:0;for(;b5<e;b5++){if(b5 in b4&&b4[b5]===b6){return b5}}}return -1},merge:function(b7,b5){var e=b5.length,b6=b7.length,b4=0;if(typeof e==="number"){for(;b4<e;b4++){b7[b6++]=b5[b4]}}else{while(b5[b4]!==aG){b7[b6++]=b5[b4++]}}b7.length=b6;return b7},grep:function(b4,b9,e){var b8,b5=[],b6=0,b7=b4.length;e=!!e;for(;b6<b7;b6++){b8=!!b9(b4[b6],b6);if(e!==b8){b5.push(b4[b6])}}return b5},map:function(e,ca,cb){var b8,b9,b7=[],b5=0,b4=e.length,b6=e instanceof bL||b4!==aG&&typeof b4==="number"&&((b4>0&&e[0]&&e[b4-1])||b4===0||bL.isArray(e));if(b6){for(;b5<b4;b5++){b8=ca(e[b5],b5,cb);if(b8!=null){b7[b7.length]=b8}}}else{for(b9 in e){b8=ca(e[b9],b9,cb);if(b8!=null){b7[b7.length]=b8}}}return b7.concat.apply([],b7)},guid:1,proxy:function(b7,b6){var b5,e,b4;if(typeof b6==="string"){b5=b7[b6];b6=b7;b7=b5}if(!bL.isFunction(b7)){return aG}e=a9.call(arguments,2);b4=function(){return b7.apply(b6,e.concat(a9.call(arguments)))};b4.guid=b7.guid=b7.guid||b4.guid||bL.guid++;return b4},access:function(e,b9,cc,ca,b7,cd,cb){var b5,b8=cc==null,b6=0,b4=e.length;if(cc&&typeof cc==="object"){for(b6 in cc){bL.access(e,b9,b6,cc[b6],1,cd,ca)}b7=1}else{if(ca!==aG){b5=cb===aG&&bL.isFunction(ca);if(b8){if(b5){b5=b9;b9=function(cf,ce,cg){return b5.call(bL(cf),cg)}}else{b9.call(e,ca);b9=null}}if(b9){for(;b6<b4;b6++){b9(e[b6],cc,b5?ca.call(e[b6],b6,b9(e[b6],cc)):ca,cb)}}b7=1}}return b7?e:b8?b9.call(e):b4?b9(e[0],cc):cd},now:function(){return(new Date()).getTime()}});bL.ready.promise=function(b7){if(!ak){ak=bL.Deferred();if(t.readyState==="complete"){setTimeout(bL.ready,1)}else{if(t.addEventListener){t.addEventListener("DOMContentLoaded",aK,false);a7.addEventListener("load",bL.ready,false)}else{t.attachEvent("onreadystatechange",aK);a7.attachEvent("onload",bL.ready);var b6=false;try{b6=a7.frameElement==null&&t.documentElement}catch(b5){}if(b6&&b6.doScroll){(function b4(){if(!bL.isReady){try{b6.doScroll("left")}catch(b8){return setTimeout(b4,50)}bL.ready()}})()}}}}return ak.promise(b7)};bL.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b4,e){ae["[object "+e+"]"]=e.toLowerCase()});B=bL(t);var bZ={};function ah(b4){var e=bZ[b4]={};bL.each(b4.split(a0),function(b6,b5){e[b5]=true});return e}bL.Callbacks=function(cd){cd=typeof cd==="string"?(bZ[cd]||ah(cd)):bL.extend({},cd);var b6,e,b7,b5,b8,b9,ca=[],cb=!cd.once&&[],b4=function(ce){b6=cd.memory&&ce;e=true;b9=b5||0;b5=0;b8=ca.length;b7=true;for(;ca&&b9<b8;b9++){if(ca[b9].apply(ce[0],ce[1])===false&&cd.stopOnFalse){b6=false;break}}b7=false;if(ca){if(cb){if(cb.length){b4(cb.shift())}}else{if(b6){ca=[]}else{cc.disable()}}}},cc={add:function(){if(ca){var cf=ca.length;(function ce(cg){bL.each(cg,function(ci,ch){var cj=bL.type(ch);if(cj==="function"&&(!cd.unique||!cc.has(ch))){ca.push(ch)}else{if(ch&&ch.length&&cj!=="string"){ce(ch)}}})})(arguments);if(b7){b8=ca.length}else{if(b6){b5=cf;b4(b6)}}}return this},remove:function(){if(ca){bL.each(arguments,function(cg,ce){var cf;while((cf=bL.inArray(ce,ca,cf))>-1){ca.splice(cf,1);if(b7){if(cf<=b8){b8--}if(cf<=b9){b9--}}}})}return this},has:function(ce){return bL.inArray(ce,ca)>-1},empty:function(){ca=[];return this},disable:function(){ca=cb=b6=aG;return this},disabled:function(){return !ca},lock:function(){cb=aG;if(!b6){cc.disable()}return this},locked:function(){return !cb},fireWith:function(cf,ce){ce=ce||[];ce=[cf,ce.slice?ce.slice():ce];if(ca&&(!e||cb)){if(b7){cb.push(ce)}else{b4(ce)}}return this},fire:function(){cc.fireWith(this,arguments);return this},fired:function(){return !!e}};return cc};bL.extend({Deferred:function(b5){var b4=[["resolve","done",bL.Callbacks("once memory"),"resolved"],["reject","fail",bL.Callbacks("once memory"),"rejected"],["notify","progress",bL.Callbacks("memory")]],b6="pending",b7={state:function(){return b6},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b8=arguments;return bL.Deferred(function(b9){bL.each(b4,function(cb,ca){var cd=ca[0],cc=b8[cb];e[ca[1]](bL.isFunction(cc)?function(){var ce=cc.apply(this,arguments);if(ce&&bL.isFunction(ce.promise)){ce.promise().done(b9.resolve).fail(b9.reject).progress(b9.notify)}else{b9[cd+"With"](this===e?b9:this,[ce])}}:b9[cd])});b8=null}).promise()},promise:function(b8){return typeof b8==="object"?bL.extend(b8,b7):b7}},e={};b7.pipe=b7.then;bL.each(b4,function(b9,b8){var cb=b8[2],ca=b8[3];b7[b8[1]]=cb.add;if(ca){cb.add(function(){b6=ca},b4[b9^1][2].disable,b4[2][2].lock)}e[b8[0]]=cb.fire;e[b8[0]+"With"]=cb.fireWith});b7.promise(e);if(b5){b5.call(e,e)}return e},when:function(b7){var b5=0,b9=a9.call(arguments),e=b9.length,b4=e!==1||(b7&&bL.isFunction(b7.promise))?e:0,cc=b4===1?b7:bL.Deferred(),b6=function(ce,cf,cd){return function(cg){cf[ce]=this;cd[ce]=arguments.length>1?a9.call(arguments):cg;if(cd===cb){cc.notifyWith(cf,cd)}else{if(!(--b4)){cc.resolveWith(cf,cd)}}}},cb,b8,ca;if(e>1){cb=new Array(e);b8=new Array(e);ca=new Array(e);for(;b5<e;b5++){if(b9[b5]&&bL.isFunction(b9[b5].promise)){b9[b5].promise().done(b6(b5,ca,b9)).fail(cc.reject).progress(b6(b5,b8,cb))}else{--b4}}}if(!b4){cc.resolveWith(ca,b9)}return cc.promise()}});bL.support=(function(){var cg,cf,cd,ce,b7,cc,cb,b9,b8,b6,b4,b5=t.createElement("div");b5.setAttribute("className","t");b5.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cf=b5.getElementsByTagName("*");cd=b5.getElementsByTagName("a")[0];cd.style.cssText="top:1px;float:left;opacity:.5";if(!cf||!cf.length||!cd){return{}}ce=t.createElement("select");b7=ce.appendChild(t.createElement("option"));cc=b5.getElementsByTagName("input")[0];cg={leadingWhitespace:(b5.firstChild.nodeType===3),tbody:!b5.getElementsByTagName("tbody").length,htmlSerialize:!!b5.getElementsByTagName("link").length,style:/top/.test(cd.getAttribute("style")),hrefNormalized:(cd.getAttribute("href")==="/a"),opacity:/^0.5/.test(cd.style.opacity),cssFloat:!!cd.style.cssFloat,checkOn:(cc.value==="on"),optSelected:b7.selected,getSetAttribute:b5.className!=="t",enctype:!!t.createElement("form").enctype,html5Clone:t.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(t.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};cc.checked=true;cg.noCloneChecked=cc.cloneNode(true).checked;ce.disabled=true;cg.optDisabled=!b7.disabled;try{delete b5.test}catch(ca){cg.deleteExpando=false}if(!b5.addEventListener&&b5.attachEvent&&b5.fireEvent){b5.attachEvent("onclick",b4=function(){cg.noCloneEvent=false});b5.cloneNode(true).fireEvent("onclick");b5.detachEvent("onclick",b4)}cc=t.createElement("input");cc.value="t";cc.setAttribute("type","radio");cg.radioValue=cc.value==="t";cc.setAttribute("checked","checked");cc.setAttribute("name","t");b5.appendChild(cc);cb=t.createDocumentFragment();cb.appendChild(b5.lastChild);cg.checkClone=cb.cloneNode(true).cloneNode(true).lastChild.checked;cg.appendChecked=cc.checked;cb.removeChild(cc);cb.appendChild(b5);if(b5.attachEvent){for(b8 in {submit:true,change:true,focusin:true}){b9="on"+b8;b6=(b9 in b5);if(!b6){b5.setAttribute(b9,"return;");b6=(typeof b5[b9]==="function")}cg[b8+"Bubbles"]=b6}}bL(function(){var ch,cl,cj,ck,ci="padding:0;margin:0;border:0;display:block;overflow:hidden;",e=t.getElementsByTagName("body")[0];if(!e){return}ch=t.createElement("div");ch.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(ch,e.firstChild);cl=t.createElement("div");ch.appendChild(cl);cl.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cj=cl.getElementsByTagName("td");cj[0].style.cssText="padding:0;margin:0;border:0;display:none";b6=(cj[0].offsetHeight===0);cj[0].style.display="";cj[1].style.display="none";cg.reliableHiddenOffsets=b6&&(cj[0].offsetHeight===0);cl.innerHTML="";cl.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";cg.boxSizing=(cl.offsetWidth===4);cg.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a7.getComputedStyle){cg.pixelPosition=(a7.getComputedStyle(cl,null)||{}).top!=="1%";cg.boxSizingReliable=(a7.getComputedStyle(cl,null)||{width:"4px"}).width==="4px";ck=t.createElement("div");ck.style.cssText=cl.style.cssText=ci;ck.style.marginRight=ck.style.width="0";cl.style.width="1px";cl.appendChild(ck);cg.reliableMarginRight=!parseFloat((a7.getComputedStyle(ck,null)||{}).marginRight)}if(typeof cl.style.zoom!=="undefined"){cl.innerHTML="";cl.style.cssText=ci+"width:1px;padding:1px;display:inline;zoom:1";cg.inlineBlockNeedsLayout=(cl.offsetWidth===3);cl.style.display="block";cl.style.overflow="visible";cl.innerHTML="<div></div>";cl.firstChild.style.width="5px";cg.shrinkWrapBlocks=(cl.offsetWidth!==3);ch.style.zoom=1}e.removeChild(ch);ch=cl=cj=ck=null});cb.removeChild(b5);cf=cd=ce=b7=cc=cb=b5=null;return cg})();var by=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aQ=/([A-Z])/g;bL.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(bL.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bL.cache[e[bL.expando]]:e[bL.expando];return !!e&&!T(e)},data:function(b6,b4,b8,b7){if(!bL.acceptData(b6)){return}var b9,cb,cc=bL.expando,ca=typeof b4==="string",cd=b6.nodeType,e=cd?bL.cache:b6,b5=cd?b6[cc]:b6[cc]&&cc;if((!b5||!e[b5]||(!b7&&!e[b5].data))&&ca&&b8===aG){return}if(!b5){if(cd){b6[cc]=b5=bL.deletedIds.pop()||++bL.uuid}else{b5=cc}}if(!e[b5]){e[b5]={};if(!cd){e[b5].toJSON=bL.noop}}if(typeof b4==="object"||typeof b4==="function"){if(b7){e[b5]=bL.extend(e[b5],b4)}else{e[b5].data=bL.extend(e[b5].data,b4)}}b9=e[b5];if(!b7){if(!b9.data){b9.data={}}b9=b9.data}if(b8!==aG){b9[bL.camelCase(b4)]=b8}if(ca){cb=b9[b4];if(cb==null){cb=b9[bL.camelCase(b4)]}}else{cb=b9}return cb},removeData:function(b6,b4,b7){if(!bL.acceptData(b6)){return}var ca,b9,b8,cb=b6.nodeType,e=cb?bL.cache:b6,b5=cb?b6[bL.expando]:bL.expando;if(!e[b5]){return}if(b4){ca=b7?e[b5]:e[b5].data;if(ca){if(!bL.isArray(b4)){if(b4 in ca){b4=[b4]}else{b4=bL.camelCase(b4);if(b4 in ca){b4=[b4]}else{b4=b4.split(" ")}}}for(b9=0,b8=b4.length;b9<b8;b9++){delete ca[b4[b9]]}if(!(b7?T:bL.isEmptyObject)(ca)){return}}}if(!b7){delete e[b5].data;if(!T(e[b5])){return}}if(cb){bL.cleanData([b6],true)}else{if(bL.support.deleteExpando||e!=e.window){delete e[b5]}else{e[b5]=null}}},_data:function(b4,e,b5){return bL.data(b4,e,b5,true)},acceptData:function(b4){var e=b4.nodeName&&bL.noData[b4.nodeName.toLowerCase()];return !e||e!==true&&b4.getAttribute("classid")===e}});bL.fn.extend({data:function(cc,cb){var b7,b4,ca,e,b6,b5=this[0],b9=0,b8=null;if(cc===aG){if(this.length){b8=bL.data(b5);if(b5.nodeType===1&&!bL._data(b5,"parsedAttrs")){ca=b5.attributes;for(b6=ca.length;b9<b6;b9++){e=ca[b9].name;if(e.indexOf("data-")===0){e=bL.camelCase(e.substring(5));bA(b5,e,b8[e])}}bL._data(b5,"parsedAttrs",true)}}return b8}if(typeof cc==="object"){return this.each(function(){bL.data(this,cc)})}b7=cc.split(".",2);b7[1]=b7[1]?"."+b7[1]:"";b4=b7[1]+"!";return bL.access(this,function(cd){if(cd===aG){b8=this.triggerHandler("getData"+b4,[b7[0]]);if(b8===aG&&b5){b8=bL.data(b5,cc);b8=bA(b5,cc,b8)}return b8===aG&&b7[1]?this.data(b7[0]):b8}b7[1]=cd;this.each(function(){var ce=bL(this);ce.triggerHandler("setData"+b4,b7);bL.data(this,cc,cd);ce.triggerHandler("changeData"+b4,b7)})},null,cb,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){bL.removeData(this,e)})}});function bA(b6,b5,b7){if(b7===aG&&b6.nodeType===1){var b4="data-"+b5.replace(aQ,"-$1").toLowerCase();b7=b6.getAttribute(b4);if(typeof b7==="string"){try{b7=b7==="true"?true:b7==="false"?false:b7==="null"?null:+b7+""===b7?+b7:by.test(b7)?bL.parseJSON(b7):b7}catch(b8){}bL.data(b6,b5,b7)}else{b7=aG}}return b7}function T(b4){var e;for(e in b4){if(e==="data"&&bL.isEmptyObject(b4[e])){continue}if(e!=="toJSON"){return false}}return true}bL.extend({queue:function(b5,b4,b6){var e;if(b5){b4=(b4||"fx")+"queue";e=bL._data(b5,b4);if(b6){if(!e||bL.isArray(b6)){e=bL._data(b5,b4,bL.makeArray(b6))}else{e.push(b6)}}return e||[]}},dequeue:function(b8,b7){b7=b7||"fx";var b4=bL.queue(b8,b7),b9=b4.length,b6=b4.shift(),e=bL._queueHooks(b8,b7),b5=function(){bL.dequeue(b8,b7)};if(b6==="inprogress"){b6=b4.shift();b9--}if(b6){if(b7==="fx"){b4.unshift("inprogress")}delete e.stop;b6.call(b8,b5,e)}if(!b9&&e){e.empty.fire()}},_queueHooks:function(b5,b4){var e=b4+"queueHooks";return bL._data(b5,e)||bL._data(b5,e,{empty:bL.Callbacks("once memory").add(function(){bL.removeData(b5,b4+"queue",true);bL.removeData(b5,e,true)})})}});bL.fn.extend({queue:function(e,b4){var b5=2;if(typeof e!=="string"){b4=e;e="fx";b5--}if(arguments.length<b5){return bL.queue(this[0],e)}return b4===aG?this:this.each(function(){var b6=bL.queue(this,e,b4);bL._queueHooks(this,e);if(e==="fx"&&b6[0]!=="inprogress"){bL.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bL.dequeue(this,e)})},delay:function(b4,e){b4=bL.fx?bL.fx.speeds[b4]||b4:b4;e=e||"fx";return this.queue(e,function(b6,b5){var b7=setTimeout(b6,b4);b5.stop=function(){clearTimeout(b7)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b5,b9){var b4,b6=1,ca=bL.Deferred(),b8=this,e=this.length,b7=function(){if(!(--b6)){ca.resolveWith(b8,[b8])}};if(typeof b5!=="string"){b9=b5;b5=aG}b5=b5||"fx";while(e--){b4=bL._data(b8[e],b5+"queueHooks");if(b4&&b4.empty){b6++;b4.empty.add(b7)}}b7();return ca.promise(b9)}});var bc,b0,s,bO=/[\t\r\n]/g,an=/\r/g,o=/^(?:button|input)$/i,aF=/^(?:button|input|object|select|textarea)$/i,I=/^a(?:rea|)$/i,R=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bQ=bL.support.getSetAttribute;bL.fn.extend({attr:function(e,b4){return bL.access(this,bL.attr,e,b4,arguments.length>1)},removeAttr:function(e){return this.each(function(){bL.removeAttr(this,e)})},prop:function(e,b4){return bL.access(this,bL.prop,e,b4,arguments.length>1)},removeProp:function(e){e=bL.propFix[e]||e;return this.each(function(){try{this[e]=aG;delete this[e]}catch(b4){}})},addClass:function(b7){var b9,b5,b4,b6,b8,ca,e;if(bL.isFunction(b7)){return this.each(function(cb){bL(this).addClass(b7.call(this,cb,this.className))})}if(b7&&typeof b7==="string"){b9=b7.split(a0);for(b5=0,b4=this.length;b5<b4;b5++){b6=this[b5];if(b6.nodeType===1){if(!b6.className&&b9.length===1){b6.className=b7}else{b8=" "+b6.className+" ";for(ca=0,e=b9.length;ca<e;ca++){if(!~b8.indexOf(" "+b9[ca]+" ")){b8+=b9[ca]+" "}}b6.className=bL.trim(b8)}}}}return this},removeClass:function(b9){var b6,b7,b8,ca,b4,b5,e;if(bL.isFunction(b9)){return this.each(function(cb){bL(this).removeClass(b9.call(this,cb,this.className))})}if((b9&&typeof b9==="string")||b9===aG){b6=(b9||"").split(a0);for(b5=0,e=this.length;b5<e;b5++){b8=this[b5];if(b8.nodeType===1&&b8.className){b7=(" "+b8.className+" ").replace(bO," ");for(ca=0,b4=b6.length;ca<b4;ca++){while(b7.indexOf(" "+b6[ca]+" ")>-1){b7=b7.replace(" "+b6[ca]+" "," ")}}b8.className=b9?bL.trim(b7):""}}}return this},toggleClass:function(b6,b4){var b5=typeof b6,e=typeof b4==="boolean";if(bL.isFunction(b6)){return this.each(function(b7){bL(this).toggleClass(b6.call(this,b7,this.className,b4),b4)})}return this.each(function(){if(b5==="string"){var b9,b8=0,b7=bL(this),ca=b4,cb=b6.split(a0);while((b9=cb[b8++])){ca=e?ca:!b7.hasClass(b9);b7[ca?"addClass":"removeClass"](b9)}}else{if(b5==="undefined"||b5==="boolean"){if(this.className){bL._data(this,"__className__",this.className)}this.className=this.className||b6===false?"":bL._data(this,"__className__")||""}}})},hasClass:function(e){var b6=" "+e+" ",b5=0,b4=this.length;for(;b5<b4;b5++){if(this[b5].nodeType===1&&(" "+this[b5].className+" ").replace(bO," ").indexOf(b6)>-1){return true}}return false},val:function(b6){var e,b4,b7,b5=this[0];if(!arguments.length){if(b5){e=bL.valHooks[b5.type]||bL.valHooks[b5.nodeName.toLowerCase()];if(e&&"get" in e&&(b4=e.get(b5,"value"))!==aG){return b4}b4=b5.value;return typeof b4==="string"?b4.replace(an,""):b4==null?"":b4}return}b7=bL.isFunction(b6);return this.each(function(b9){var ca,b8=bL(this);if(this.nodeType!==1){return}if(b7){ca=b6.call(this,b9,b8.val())}else{ca=b6}if(ca==null){ca=""}else{if(typeof ca==="number"){ca+=""}else{if(bL.isArray(ca)){ca=bL.map(ca,function(cb){return cb==null?"":cb+""})}}}e=bL.valHooks[this.type]||bL.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,ca,"value")===aG){this.value=ca}})}});bL.extend({valHooks:{option:{get:function(e){var b4=e.attributes.value;return !b4||b4.specified?e.value:e.text}},select:{get:function(e){var b9,b4,b8,b6,b7=e.selectedIndex,ca=[],cb=e.options,b5=e.type==="select-one";if(b7<0){return null}b4=b5?b7:0;b8=b5?b7+1:cb.length;for(;b4<b8;b4++){b6=cb[b4];if(b6.selected&&(bL.support.optDisabled?!b6.disabled:b6.getAttribute("disabled")===null)&&(!b6.parentNode.disabled||!bL.nodeName(b6.parentNode,"optgroup"))){b9=bL(b6).val();if(b5){return b9}ca.push(b9)}}if(b5&&!ca.length&&cb.length){return bL(cb[b7]).val()}return ca},set:function(b4,b5){var e=bL.makeArray(b5);bL(b4).find("option").each(function(){this.selected=bL.inArray(bL(this).val(),e)>=0});if(!e.length){b4.selectedIndex=-1}return e}}},attrFn:{},attr:function(b9,b6,ca,b8){var b5,e,b7,b4=b9.nodeType;if(!b9||b4===3||b4===8||b4===2){return}if(b8&&bL.isFunction(bL.fn[b6])){return bL(b9)[b6](ca)}if(typeof b9.getAttribute==="undefined"){return bL.prop(b9,b6,ca)}b7=b4!==1||!bL.isXMLDoc(b9);if(b7){b6=b6.toLowerCase();e=bL.attrHooks[b6]||(R.test(b6)?b0:bc)}if(ca!==aG){if(ca===null){bL.removeAttr(b9,b6);return}else{if(e&&"set" in e&&b7&&(b5=e.set(b9,ca,b6))!==aG){return b5}else{b9.setAttribute(b6,""+ca);return ca}}}else{if(e&&"get" in e&&b7&&(b5=e.get(b9,b6))!==null){return b5}else{b5=b9.getAttribute(b6);return b5===null?aG:b5}}},removeAttr:function(b6,b8){var b7,b9,b4,e,b5=0;if(b8&&b6.nodeType===1){b9=b8.split(a0);for(;b5<b9.length;b5++){b4=b9[b5];if(b4){b7=bL.propFix[b4]||b4;e=R.test(b4);if(!e){bL.attr(b6,b4,"")}b6.removeAttribute(bQ?b4:b7);if(e&&b7 in b6){b6[b7]=false}}}}},attrHooks:{type:{set:function(e,b4){if(o.test(e.nodeName)&&e.parentNode){bL.error("type property can't be changed")}else{if(!bL.support.radioValue&&b4==="radio"&&bL.nodeName(e,"input")){var b5=e.value;e.setAttribute("type",b4);if(b5){e.value=b5}return b4}}}},value:{get:function(b4,e){if(bc&&bL.nodeName(b4,"button")){return bc.get(b4,e)}return e in b4?b4.value:null},set:function(b4,b5,e){if(bc&&bL.nodeName(b4,"button")){return bc.set(b4,b5,e)}b4.value=b5}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b8,b6,b9){var b5,e,b7,b4=b8.nodeType;if(!b8||b4===3||b4===8||b4===2){return}b7=b4!==1||!bL.isXMLDoc(b8);if(b7){b6=bL.propFix[b6]||b6;e=bL.propHooks[b6]}if(b9!==aG){if(e&&"set" in e&&(b5=e.set(b8,b9,b6))!==aG){return b5}else{return(b8[b6]=b9)}}else{if(e&&"get" in e&&(b5=e.get(b8,b6))!==null){return b5}else{return b8[b6]}}},propHooks:{tabIndex:{get:function(b4){var e=b4.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aF.test(b4.nodeName)||I.test(b4.nodeName)&&b4.href?0:aG}}}});b0={get:function(b4,e){var b6,b5=bL.prop(b4,e);return b5===true||typeof b5!=="boolean"&&(b6=b4.getAttributeNode(e))&&b6.nodeValue!==false?e.toLowerCase():aG},set:function(b4,b6,e){var b5;if(b6===false){bL.removeAttr(b4,e)}else{b5=bL.propFix[e]||e;if(b5 in b4){b4[b5]=true}b4.setAttribute(e,e.toLowerCase())}return e}};if(!bQ){s={name:true,id:true,coords:true};bc=bL.valHooks.button={get:function(b5,b4){var e;e=b5.getAttributeNode(b4);return e&&(s[b4]?e.value!=="":e.specified)?e.value:aG},set:function(b5,b6,b4){var e=b5.getAttributeNode(b4);if(!e){e=t.createAttribute(b4);b5.setAttributeNode(e)}return(e.value=b6+"")}};bL.each(["width","height"],function(b4,e){bL.attrHooks[e]=bL.extend(bL.attrHooks[e],{set:function(b5,b6){if(b6===""){b5.setAttribute(e,"auto");return b6}}})});bL.attrHooks.contenteditable={get:bc.get,set:function(b4,b5,e){if(b5===""){b5="false"}bc.set(b4,b5,e)}}}if(!bL.support.hrefNormalized){bL.each(["href","src","width","height"],function(b4,e){bL.attrHooks[e]=bL.extend(bL.attrHooks[e],{get:function(b6){var b5=b6.getAttribute(e,2);return b5===null?aG:b5}})})}if(!bL.support.style){bL.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||aG},set:function(e,b4){return(e.style.cssText=""+b4)}}}if(!bL.support.optSelected){bL.propHooks.selected=bL.extend(bL.propHooks.selected,{get:function(b4){var e=b4.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bL.support.enctype){bL.propFix.enctype="encoding"}if(!bL.support.checkOn){bL.each(["radio","checkbox"],function(){bL.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bL.each(["radio","checkbox"],function(){bL.valHooks[this]=bL.extend(bL.valHooks[this],{set:function(e,b4){if(bL.isArray(b4)){return(e.checked=bL.inArray(bL(e).val(),b4)>=0)}}})});var bJ=/^(?:textarea|input|select)$/i,bw=/^([^\.]*|)(?:\.(.+)|)$/,bf=/(?:^|\s)hover(\.\S+|)\b/,a8=/^key/,bP=/^(?:mouse|contextmenu)|click/,bD=/^(?:focusinfocus|focusoutblur)$/,aw=function(e){return bL.event.special.hover?e:e.replace(bf,"mouseenter$1 mouseleave$1")};bL.event={add:function(b6,ca,ch,b8,b7){var cb,b9,ci,cg,cf,cd,e,ce,b4,b5,cc;if(b6.nodeType===3||b6.nodeType===8||!ca||!ch||!(cb=bL._data(b6))){return}if(ch.handler){b4=ch;ch=b4.handler;b7=b4.selector}if(!ch.guid){ch.guid=bL.guid++}ci=cb.events;if(!ci){cb.events=ci={}}b9=cb.handle;if(!b9){cb.handle=b9=function(cj){return typeof bL!=="undefined"&&(!cj||bL.event.triggered!==cj.type)?bL.event.dispatch.apply(b9.elem,arguments):aG};b9.elem=b6}ca=bL.trim(aw(ca)).split(" ");for(cg=0;cg<ca.length;cg++){cf=bw.exec(ca[cg])||[];cd=cf[1];e=(cf[2]||"").split(".").sort();cc=bL.event.special[cd]||{};cd=(b7?cc.delegateType:cc.bindType)||cd;cc=bL.event.special[cd]||{};ce=bL.extend({type:cd,origType:cf[1],data:b8,handler:ch,guid:ch.guid,selector:b7,namespace:e.join(".")},b4);b5=ci[cd];if(!b5){b5=ci[cd]=[];b5.delegateCount=0;if(!cc.setup||cc.setup.call(b6,b8,e,b9)===false){if(b6.addEventListener){b6.addEventListener(cd,b9,false)}else{if(b6.attachEvent){b6.attachEvent("on"+cd,b9)}}}}if(cc.add){cc.add.call(b6,ce);if(!ce.handler.guid){ce.handler.guid=ch.guid}}if(b7){b5.splice(b5.delegateCount++,0,ce)}else{b5.push(ce)}bL.event.global[cd]=true}b6=null},global:{},remove:function(b6,cb,ch,b7,ca){var ci,cj,ce,b5,b4,b8,b9,cg,cd,e,cf,cc=bL.hasData(b6)&&bL._data(b6);if(!cc||!(cg=cc.events)){return}cb=bL.trim(aw(cb||"")).split(" ");for(ci=0;ci<cb.length;ci++){cj=bw.exec(cb[ci])||[];ce=b5=cj[1];b4=cj[2];if(!ce){for(ce in cg){bL.event.remove(b6,ce+cb[ci],ch,b7,true)}continue}cd=bL.event.special[ce]||{};ce=(b7?cd.delegateType:cd.bindType)||ce;e=cg[ce]||[];b8=e.length;b4=b4?new RegExp("(^|\\.)"+b4.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(b9=0;b9<e.length;b9++){cf=e[b9];if((ca||b5===cf.origType)&&(!ch||ch.guid===cf.guid)&&(!b4||b4.test(cf.namespace))&&(!b7||b7===cf.selector||b7==="**"&&cf.selector)){e.splice(b9--,1);if(cf.selector){e.delegateCount--}if(cd.remove){cd.remove.call(b6,cf)}}}if(e.length===0&&b8!==e.length){if(!cd.teardown||cd.teardown.call(b6,b4,cc.handle)===false){bL.removeEvent(b6,ce,cc.handle)}delete cg[ce]}}if(bL.isEmptyObject(cg)){delete cc.handle;bL.removeData(b6,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b4,cb,b9,ci){if(b9&&(b9.nodeType===3||b9.nodeType===8)){return}var e,b6,cc,cg,b8,b7,ce,cd,ca,ch,cf=b4.type||b4,b5=[];if(bD.test(cf+bL.event.triggered)){return}if(cf.indexOf("!")>=0){cf=cf.slice(0,-1);b6=true}if(cf.indexOf(".")>=0){b5=cf.split(".");cf=b5.shift();b5.sort()}if((!b9||bL.event.customEvent[cf])&&!bL.event.global[cf]){return}b4=typeof b4==="object"?b4[bL.expando]?b4:new bL.Event(cf,b4):new bL.Event(cf);b4.type=cf;b4.isTrigger=true;b4.exclusive=b6;b4.namespace=b5.join(".");b4.namespace_re=b4.namespace?new RegExp("(^|\\.)"+b5.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b7=cf.indexOf(":")<0?"on"+cf:"";if(!b9){e=bL.cache;for(cc in e){if(e[cc].events&&e[cc].events[cf]){bL.event.trigger(b4,cb,e[cc].handle.elem,true)}}return}b4.result=aG;if(!b4.target){b4.target=b9}cb=cb!=null?bL.makeArray(cb):[];cb.unshift(b4);ce=bL.event.special[cf]||{};if(ce.trigger&&ce.trigger.apply(b9,cb)===false){return}ca=[[b9,ce.bindType||cf]];if(!ci&&!ce.noBubble&&!bL.isWindow(b9)){ch=ce.delegateType||cf;cg=bD.test(ch+cf)?b9:b9.parentNode;for(b8=b9;cg;cg=cg.parentNode){ca.push([cg,ch]);b8=cg}if(b8===(b9.ownerDocument||t)){ca.push([b8.defaultView||b8.parentWindow||a7,ch])}}for(cc=0;cc<ca.length&&!b4.isPropagationStopped();cc++){cg=ca[cc][0];b4.type=ca[cc][1];cd=(bL._data(cg,"events")||{})[b4.type]&&bL._data(cg,"handle");if(cd){cd.apply(cg,cb)}cd=b7&&cg[b7];if(cd&&bL.acceptData(cg)&&cd.apply(cg,cb)===false){b4.preventDefault()}}b4.type=cf;if(!ci&&!b4.isDefaultPrevented()){if((!ce._default||ce._default.apply(b9.ownerDocument,cb)===false)&&!(cf==="click"&&bL.nodeName(b9,"a"))&&bL.acceptData(b9)){if(b7&&b9[cf]&&((cf!=="focus"&&cf!=="blur")||b4.target.offsetWidth!==0)&&!bL.isWindow(b9)){b8=b9[b7];if(b8){b9[b7]=null}bL.event.triggered=cf;b9[cf]();bL.event.triggered=aG;if(b8){b9[b7]=b8}}}}return b4.result},dispatch:function(e){e=bL.event.fix(e||a7.event);var ca,b9,cj,cd,cc,b4,cb,ch,b6,ci,b7=((bL._data(this,"events")||{})[e.type]||[]),b8=b7.delegateCount,cf=[].slice.call(arguments),b5=!e.exclusive&&!e.namespace,ce=bL.event.special[e.type]||{},cg=[];cf[0]=e;e.delegateTarget=this;if(ce.preDispatch&&ce.preDispatch.call(this,e)===false){return}if(b8&&!(e.button&&e.type==="click")){for(cj=e.target;cj!=this;cj=cj.parentNode||this){if(cj.disabled!==true||e.type!=="click"){cc={};cb=[];for(ca=0;ca<b8;ca++){ch=b7[ca];b6=ch.selector;if(cc[b6]===aG){cc[b6]=bL(b6,this).index(cj)>=0}if(cc[b6]){cb.push(ch)}}if(cb.length){cg.push({elem:cj,matches:cb})}}}}if(b7.length>b8){cg.push({elem:this,matches:b7.slice(b8)})}for(ca=0;ca<cg.length&&!e.isPropagationStopped();ca++){b4=cg[ca];e.currentTarget=b4.elem;for(b9=0;b9<b4.matches.length&&!e.isImmediatePropagationStopped();b9++){ch=b4.matches[b9];if(b5||(!e.namespace&&!ch.namespace)||e.namespace_re&&e.namespace_re.test(ch.namespace)){e.data=ch.data;e.handleObj=ch;cd=((bL.event.special[ch.origType]||{}).handle||ch.handler).apply(b4.elem,cf);if(cd!==aG){e.result=cd;if(cd===false){e.preventDefault();e.stopPropagation()}}}}}if(ce.postDispatch){ce.postDispatch.call(this,e)}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b4,e){if(b4.which==null){b4.which=e.charCode!=null?e.charCode:e.keyCode}return b4}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b6,b5){var b7,b8,e,b4=b5.button,b9=b5.fromElement;if(b6.pageX==null&&b5.clientX!=null){b7=b6.target.ownerDocument||t;b8=b7.documentElement;e=b7.body;b6.pageX=b5.clientX+(b8&&b8.scrollLeft||e&&e.scrollLeft||0)-(b8&&b8.clientLeft||e&&e.clientLeft||0);b6.pageY=b5.clientY+(b8&&b8.scrollTop||e&&e.scrollTop||0)-(b8&&b8.clientTop||e&&e.clientTop||0)}if(!b6.relatedTarget&&b9){b6.relatedTarget=b9===b6.target?b5.toElement:b9}if(!b6.which&&b4!==aG){b6.which=(b4&1?1:(b4&2?3:(b4&4?2:0)))}return b6}},fix:function(b5){if(b5[bL.expando]){return b5}var b4,b8,e=b5,b6=bL.event.fixHooks[b5.type]||{},b7=b6.props?this.props.concat(b6.props):this.props;b5=bL.Event(e);for(b4=b7.length;b4;){b8=b7[--b4];b5[b8]=e[b8]}if(!b5.target){b5.target=e.srcElement||t}if(b5.target.nodeType===3){b5.target=b5.target.parentNode}b5.metaKey=!!b5.metaKey;return b6.filter?b6.filter(b5,e):b5},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b5,b4,e){if(bL.isWindow(this)){this.onbeforeunload=e}},teardown:function(b4,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(b5,b7,b6,b4){var b8=bL.extend(new bL.Event(),b6,{type:b5,isSimulated:true,originalEvent:{}});if(b4){bL.event.trigger(b8,null,b7)}else{bL.event.dispatch.call(b7,b8)}if(b8.isDefaultPrevented()){b6.preventDefault()}}};bL.event.handle=bL.event.dispatch;bL.removeEvent=t.removeEventListener?function(b4,e,b5){if(b4.removeEventListener){b4.removeEventListener(e,b5,false)}}:function(b5,b4,b6){var e="on"+b4;if(b5.detachEvent){if(typeof b5[e]==="undefined"){b5[e]=null}b5.detachEvent(e,b6)}};bL.Event=function(b4,e){if(!(this instanceof bL.Event)){return new bL.Event(b4,e)}if(b4&&b4.type){this.originalEvent=b4;this.type=b4.type;this.isDefaultPrevented=(b4.defaultPrevented||b4.returnValue===false||b4.getPreventDefault&&b4.getPreventDefault())?W:ac}else{this.type=b4}if(e){bL.extend(this,e)}this.timeStamp=b4&&b4.timeStamp||bL.now();this[bL.expando]=true};function ac(){return false}function W(){return true}bL.Event.prototype={preventDefault:function(){this.isDefaultPrevented=W;var b4=this.originalEvent;if(!b4){return}if(b4.preventDefault){b4.preventDefault()}else{b4.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=W;var b4=this.originalEvent;if(!b4){return}if(b4.stopPropagation){b4.stopPropagation()}b4.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=W;this.stopPropagation()},isDefaultPrevented:ac,isPropagationStopped:ac,isImmediatePropagationStopped:ac};bL.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b4,e){bL.event.special[b4]={delegateType:e,bindType:e,handle:function(b8){var b6,ca=this,b9=b8.relatedTarget,b7=b8.handleObj,b5=b7.selector;if(!b9||(b9!==ca&&!bL.contains(ca,b9))){b8.type=b7.origType;b6=b7.handler.apply(this,arguments);b8.type=e}return b6}}});if(!bL.support.submitBubbles){bL.event.special.submit={setup:function(){if(bL.nodeName(this,"form")){return false}bL.event.add(this,"click._submit keypress._submit",function(b6){var b5=b6.target,b4=bL.nodeName(b5,"input")||bL.nodeName(b5,"button")?b5.form:aG;if(b4&&!bL._data(b4,"_submit_attached")){bL.event.add(b4,"submit._submit",function(e){e._submit_bubble=true});bL._data(b4,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bL.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bL.nodeName(this,"form")){return false}bL.event.remove(this,"._submit")}}}if(!bL.support.changeBubbles){bL.event.special.change={setup:function(){if(bJ.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bL.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bL.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bL.event.simulate("change",this,e,true)})}return false}bL.event.add(this,"beforeactivate._change",function(b5){var b4=b5.target;if(bJ.test(b4.nodeName)&&!bL._data(b4,"_change_attached")){bL.event.add(b4,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bL.event.simulate("change",this.parentNode,e,true)}});bL._data(b4,"_change_attached",true)}})},handle:function(b4){var e=b4.target;if(this!==e||b4.isSimulated||b4.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b4.handleObj.handler.apply(this,arguments)}},teardown:function(){bL.event.remove(this,"._change");return !bJ.test(this.nodeName)}}}if(!bL.support.focusinBubbles){bL.each({focus:"focusin",blur:"focusout"},function(b6,e){var b4=0,b5=function(b7){bL.event.simulate(e,b7.target,bL.event.fix(b7),true)};bL.event.special[e]={setup:function(){if(b4++===0){t.addEventListener(b6,b5,true)}},teardown:function(){if(--b4===0){t.removeEventListener(b6,b5,true)}}}})}bL.fn.extend({on:function(b5,e,b8,b7,b4){var b9,b6;if(typeof b5==="object"){if(typeof e!=="string"){b8=b8||e;e=aG}for(b6 in b5){this.on(b6,e,b8,b5[b6],b4)}return this}if(b8==null&&b7==null){b7=e;b8=e=aG}else{if(b7==null){if(typeof e==="string"){b7=b8;b8=aG}else{b7=b8;b8=e;e=aG}}}if(b7===false){b7=ac}else{if(!b7){return this}}if(b4===1){b9=b7;b7=function(ca){bL().off(ca);return b9.apply(this,arguments)};b7.guid=b9.guid||(b9.guid=bL.guid++)}return this.each(function(){bL.event.add(this,b5,b7,b8,e)})},one:function(b4,e,b6,b5){return this.on(b4,e,b6,b5,1)},off:function(b5,e,b7){var b4,b6;if(b5&&b5.preventDefault&&b5.handleObj){b4=b5.handleObj;bL(b5.delegateTarget).off(b4.namespace?b4.origType+"."+b4.namespace:b4.origType,b4.selector,b4.handler);return this}if(typeof b5==="object"){for(b6 in b5){this.off(b6,e,b5[b6])}return this}if(e===false||typeof e==="function"){b7=e;e=aG}if(b7===false){b7=ac}return this.each(function(){bL.event.remove(this,b5,b7,e)})},bind:function(e,b5,b4){return this.on(e,null,b5,b4)},unbind:function(e,b4){return this.off(e,null,b4)},live:function(e,b5,b4){bL(this.context).on(e,this.selector,b5,b4);return this},die:function(e,b4){bL(this.context).off(e,this.selector||"**",b4);return this},delegate:function(e,b4,b6,b5){return this.on(b4,e,b6,b5)},undelegate:function(e,b4,b5){return arguments.length==1?this.off(e,"**"):this.off(b4,e||"**",b5)},trigger:function(e,b4){return this.each(function(){bL.event.trigger(e,b4,this)})},triggerHandler:function(e,b4){if(this[0]){return bL.event.trigger(e,b4,this[0],true)}},toggle:function(b6){var b4=arguments,e=b6.guid||bL.guid++,b5=0,b7=function(b8){var b9=(bL._data(this,"lastToggle"+b6.guid)||0)%b5;bL._data(this,"lastToggle"+b6.guid,b9+1);b8.preventDefault();return b4[b9].apply(this,arguments)||false};b7.guid=e;while(b5<b4.length){b4[b5++].guid=e}return this.click(b7)},hover:function(e,b4){return this.mouseenter(e).mouseleave(b4||e)}});bL.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b4,e){bL.fn[e]=function(b6,b5){if(b5==null){b5=b6;b6=null}return arguments.length>0?this.on(e,null,b6,b5):this.trigger(e)};if(a8.test(e)){bL.event.fixHooks[e]=bL.event.keyHooks}if(bP.test(e)){bL.event.fixHooks[e]=bL.event.mouseHooks}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2012 jQuery Foundation and other contributors
 *  Released under the MIT license
 *  http://sizzlejs.com/
 */
(function(cR,ck){var cs,cW,ce,cJ,b5,co,cA,ch,cj,cg,cd=true,cw="undefined",cZ=("sizcache"+Math.random()).replace(".",""),cc=cR.document,cf=cc.documentElement,ci=0,cn=[].slice,cV=[].push,c1=function(e,c6){e[cZ]=c6||true;return e},c4=function(){var e={},c6=[];return c1(function(c7,c8){if(c6.push(c7)>cJ.cacheLength){delete e[c6.shift()]}return(e[c7]=c8)},e)},cT=c4(),cU=c4(),cp=c4(),cz="[\\x20\\t\\r\\n\\f]",cm="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",cl=cm.replace("w","w#"),c3="([*^$|!~]?=)",cO="\\["+cz+"*("+cm+")"+cz+"*(?:"+c3+cz+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cl+")|)|)"+cz+"*\\]",c5=":("+cm+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cO+")|[^:]|\\\\.)*|.*))\\)|)",cB=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",cX=new RegExp("^"+cz+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cz+"+$","g"),b9=new RegExp("^"+cz+"*,"+cz+"*"),cG=new RegExp("^"+cz+"*([\\x20\\t\\r\\n\\f>+~])"+cz+"*"),cL=new RegExp(c5),cN=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cE=/^:not/,cQ=/[\x20\t\r\n\f]*[+~]/,c0=/:not\($/,ct=/h\d/i,cM=/input|select|textarea|button/i,cu=/\\(?!\\)/g,cF={ID:new RegExp("^#("+cm+")"),CLASS:new RegExp("^\\.("+cm+")"),NAME:new RegExp("^\\[name=['\"]?("+cm+")['\"]?\\]"),TAG:new RegExp("^("+cm.replace("w","w*")+")"),ATTR:new RegExp("^"+cO),PSEUDO:new RegExp("^"+c5),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+cz+"*(even|odd|(([+-]|)(\\d*)n|)"+cz+"*(?:([+-]|)"+cz+"*(\\d+)|))"+cz+"*\\)|)","i"),POS:new RegExp(cB,"ig"),needsContext:new RegExp("^"+cz+"*[>+~]|"+cB,"i")},cI=function(c6){var c8=cc.createElement("div");try{return c6(c8)}catch(c7){return false}finally{c8=null}},cb=cI(function(e){e.appendChild(cc.createComment(""));return !e.getElementsByTagName("*").length}),cD=cI(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==cw&&e.firstChild.getAttribute("href")==="#"}),cr=cI(function(c6){c6.innerHTML="<select></select>";var e=typeof c6.lastChild.getAttribute("multiple");return e!=="boolean"&&e!=="string"}),cC=cI(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),b4=cI(function(c6){c6.id=cZ+0;c6.innerHTML="<a name='"+cZ+"'></a><div name='"+cZ+"'></div>";cf.insertBefore(c6,cf.firstChild);var e=cc.getElementsByName&&cc.getElementsByName(cZ).length===2+cc.getElementsByName(cZ+0).length;ce=!cc.getElementById(cZ);cf.removeChild(c6);return e});try{cn.call(cf.childNodes,0)[0].nodeType}catch(c2){cn=function(c6){var c7,e=[];for(;(c7=this[c6]);c6++){e.push(c7)}return e}}function cP(c8,e,da,dd){da=da||[];e=e||cc;var db,c6,dc,c7,c9=e.nodeType;if(c9!==1&&c9!==9){return[]}if(!c8||typeof c8!=="string"){return da}dc=co(e);if(!dc&&!dd){if((db=cN.exec(c8))){if((c7=db[1])){if(c9===9){c6=e.getElementById(c7);if(c6&&c6.parentNode){if(c6.id===c7){da.push(c6);return da}}else{return da}}else{if(e.ownerDocument&&(c6=e.ownerDocument.getElementById(c7))&&cA(e,c6)&&c6.id===c7){da.push(c6);return da}}}else{if(db[2]){cV.apply(da,cn.call(e.getElementsByTagName(c8),0));return da}else{if((c7=db[3])&&cC&&e.getElementsByClassName){cV.apply(da,cn.call(e.getElementsByClassName(c7),0));return da}}}}}return cY(c8,e,da,dd,dc)}cP.matches=function(c6,e){return cP(c6,null,null,e)};cP.matchesSelector=function(e,c6){return cP(c6,null,null,[e]).length>0};function cH(e){return function(c7){var c6=c7.nodeName.toLowerCase();return c6==="input"&&c7.type===e}}function b8(e){return function(c7){var c6=c7.nodeName.toLowerCase();return(c6==="input"||c6==="button")&&c7.type===e}}b5=cP.getText=function(c9){var c8,c6="",c7=0,e=c9.nodeType;if(e){if(e===1||e===9||e===11){if(typeof c9.textContent==="string"){return c9.textContent}else{for(c9=c9.firstChild;c9;c9=c9.nextSibling){c6+=b5(c9)}}}else{if(e===3||e===4){return c9.nodeValue}}}else{for(;(c8=c9[c7]);c7++){c6+=b5(c8)}}return c6};co=cP.isXML=function co(e){var c6=e&&(e.ownerDocument||e).documentElement;return c6?c6.nodeName!=="HTML":false};cA=cP.contains=cf.contains?function(c6,e){var c8=c6.nodeType===9?c6.documentElement:c6,c7=e&&e.parentNode;return c6===c7||!!(c7&&c7.nodeType===1&&c8.contains&&c8.contains(c7))}:cf.compareDocumentPosition?function(c6,e){return e&&!!(c6.compareDocumentPosition(e)&16)}:function(c6,e){while((e=e.parentNode)){if(e===c6){return true}}return false};cP.attr=function(c8,c7){var e,c6=co(c8);if(!c6){c7=c7.toLowerCase()}if(cJ.attrHandle[c7]){return cJ.attrHandle[c7](c8)}if(cr||c6){return c8.getAttribute(c7)}e=c8.getAttributeNode(c7);return e?typeof c8[c7]==="boolean"?c8[c7]?c7:null:e.specified?e.value:null:null};cJ=cP.selectors={cacheLength:50,createPseudo:c1,match:cF,order:new RegExp("ID|TAG"+(b4?"|NAME":"")+(cC?"|CLASS":"")),attrHandle:cD?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:ce?function(c8,c7,c6){if(typeof c7.getElementById!==cw&&!c6){var e=c7.getElementById(c8);return e&&e.parentNode?[e]:[]}}:function(c8,c7,c6){if(typeof c7.getElementById!==cw&&!c6){var e=c7.getElementById(c8);return e?e.id===c8||typeof e.getAttributeNode!==cw&&e.getAttributeNode("id").value===c8?[e]:ck:[]}},TAG:cb?function(e,c6){if(typeof c6.getElementsByTagName!==cw){return c6.getElementsByTagName(e)}}:function(e,c9){var c8=c9.getElementsByTagName(e);if(e==="*"){var da,c7=[],c6=0;for(;(da=c8[c6]);c6++){if(da.nodeType===1){c7.push(da)}}return c7}return c8},NAME:function(e,c6){if(typeof c6.getElementsByName!==cw){return c6.getElementsByName(name)}},CLASS:function(c7,c6,e){if(typeof c6.getElementsByClassName!==cw&&!e){return c6.getElementsByClassName(c7)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cu,"");e[3]=(e[4]||e[5]||"").replace(cu,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){cP.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+((e[6]+e[7])||e[2]==="odd")}else{if(e[2]){cP.error(e[0])}}return e},PSEUDO:function(c7,c8,c6){var c9,e;if(cF.CHILD.test(c7[0])){return null}if(c7[3]){c7[2]=c7[3]}else{if((c9=c7[4])){if(cL.test(c9)&&(e=b6(c9,c8,c6,true))&&(e=c9.indexOf(")",c9.length-e)-c9.length)){c9=c9.slice(0,e);c7[0]=c7[0].slice(0,e)}c7[2]=c9}}return c7.slice(0,3)}},filter:{ID:ce?function(e){e=e.replace(cu,"");return function(c6){return c6.getAttribute("id")===e}}:function(e){e=e.replace(cu,"");return function(c7){var c6=typeof c7.getAttributeNode!==cw&&c7.getAttributeNode("id");return c6&&c6.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cu,"").toLowerCase();return function(c6){return c6.nodeName&&c6.nodeName.toLowerCase()===e}},CLASS:function(e){var c6=cT[cZ][e];if(!c6){c6=cT(e,new RegExp("(^|"+cz+")"+e+"("+cz+"|$)"))}return function(c7){return c6.test(c7.className||(typeof c7.getAttribute!==cw&&c7.getAttribute("class"))||"")}},ATTR:function(c7,c6,e){if(!c6){return function(c8){return cP.attr(c8,c7)!=null}}return function(c9){var c8=cP.attr(c9,c7),da=c8+"";if(c8==null){return c6==="!="}switch(c6){case"=":return da===e;case"!=":return da!==e;case"^=":return e&&da.indexOf(e)===0;case"*=":return e&&da.indexOf(e)>-1;case"$=":return e&&da.substr(da.length-e.length)===e;case"~=":return(" "+da+" ").indexOf(e)>-1;case"|=":return da===e||da.substr(0,e.length+1)===e+"-"}}},CHILD:function(c6,c8,c9,c7){if(c6==="nth"){var e=ci++;return function(dd){var da,de,dc=0,db=dd;if(c9===1&&c7===0){return true}da=dd.parentNode;if(da&&(da[cZ]!==e||!dd.sizset)){for(db=da.firstChild;db;db=db.nextSibling){if(db.nodeType===1){db.sizset=++dc;if(db===dd){break}}}da[cZ]=e}de=dd.sizset-c7;if(c9===0){return de===0}else{return(de%c9===0&&de/c9>=0)}}}return function(db){var da=db;switch(c6){case"only":case"first":while((da=da.previousSibling)){if(da.nodeType===1){return false}}if(c6==="first"){return true}da=db;case"last":while((da=da.nextSibling)){if(da.nodeType===1){return false}}return true}}},PSEUDO:function(da,c9,c7,c6){var e,c8=cJ.pseudos[da]||cJ.pseudos[da.toLowerCase()];if(!c8){cP.error("unsupported pseudo: "+da)}if(!c8[cZ]){if(c8.length>1){e=[da,da,"",c9];return function(db){return c8(db,0,e)}}return c8}return c8(c9,c7,c6)}},pseudos:{not:c1(function(e,c7,c6){var c8=ch(e.replace(cX,"$1"),c7,c6);return function(c9){return !c8(c9)}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var c6=e.nodeName.toLowerCase();return(c6==="input"&&!!e.checked)||(c6==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !cJ.pseudos.empty(e)},empty:function(c6){var e;c6=c6.firstChild;while(c6){if(c6.nodeName>"@"||(e=c6.nodeType)===3||e===4){return false}c6=c6.nextSibling}return true},contains:c1(function(e){return function(c6){return(c6.textContent||c6.innerText||b5(c6)).indexOf(e)>-1}}),has:c1(function(e){return function(c6){return cP(e,c6).length>0}}),header:function(e){return ct.test(e.nodeName)},text:function(c7){var c6,e;return c7.nodeName.toLowerCase()==="input"&&(c6=c7.type)==="text"&&((e=c7.getAttribute("type"))==null||e.toLowerCase()===c6)},radio:cH("radio"),checkbox:cH("checkbox"),file:cH("file"),password:cH("password"),image:cH("image"),submit:b8("submit"),reset:b8("reset"),button:function(c6){var e=c6.nodeName.toLowerCase();return e==="input"&&c6.type==="button"||e==="button"},input:function(e){return cM.test(e.nodeName)},focus:function(e){var c6=e.ownerDocument;return e===c6.activeElement&&(!c6.hasFocus||c6.hasFocus())&&!!(e.type||e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(c7,c6,e){return e?c7.slice(1):[c7[0]]},last:function(c8,c7,c6){var e=c8.pop();return c6?c8:[e]},even:function(da,c9,c8){var c7=[],c6=c8?1:0,e=da.length;for(;c6<e;c6=c6+2){c7.push(da[c6])}return c7},odd:function(da,c9,c8){var c7=[],c6=c8?0:1,e=da.length;for(;c6<e;c6=c6+2){c7.push(da[c6])}return c7},lt:function(c7,c6,e){return e?c7.slice(+c6):c7.slice(0,+c6)},gt:function(c7,c6,e){return e?c7.slice(0,+c6+1):c7.slice(+c6+1)},eq:function(c8,c7,c6){var e=c8.splice(+c7,1);return c6?c8:e}}};function b7(c6,e,c7){if(c6===e){return c7}var c8=c6.nextSibling;while(c8){if(c8===e){return -1}c8=c8.nextSibling}return 1}cj=cf.compareDocumentPosition?function(c6,e){if(c6===e){cg=true;return 0}return(!c6.compareDocumentPosition||!e.compareDocumentPosition?c6.compareDocumentPosition:c6.compareDocumentPosition(e)&4)?-1:1}:function(dd,dc){if(dd===dc){cg=true;return 0}else{if(dd.sourceIndex&&dc.sourceIndex){return dd.sourceIndex-dc.sourceIndex}}var da,c6,c7=[],e=[],c9=dd.parentNode,db=dc.parentNode,de=c9;if(c9===db){return b7(dd,dc)}else{if(!c9){return -1}else{if(!db){return 1}}}while(de){c7.unshift(de);de=de.parentNode}de=db;while(de){e.unshift(de);de=de.parentNode}da=c7.length;c6=e.length;for(var c8=0;c8<da&&c8<c6;c8++){if(c7[c8]!==e[c8]){return b7(c7[c8],e[c8])}}return c8===da?b7(dd,e[c8],-1):b7(c7[c8],dc,1)};[0,0].sort(cj);cd=!cg;cP.uniqueSort=function(c6){var c7,e=1;cg=cd;c6.sort(cj);if(cg){for(;(c7=c6[e]);e++){if(c7===c6[e-1]){c6.splice(e--,1)}}}return c6};cP.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function b6(dc,c6,de,dl){var c7,df,dh,di,dg,c9,dk,dd,e,c8,db=!de&&c6!==cc,dj=(db?"<s>":"")+dc.replace(cX,"$1<s>"),da=cU[cZ][dj];if(da){return dl?0:cn.call(da,0)}dg=dc;c9=[];dd=0;e=cJ.preFilter;c8=cJ.filter;while(dg){if(!c7||(df=b9.exec(dg))){if(df){dg=dg.slice(df[0].length);dh.selector=dk}c9.push(dh=[]);dk="";if(db){dg=" "+dg}}c7=false;if((df=cG.exec(dg))){dk+=df[0];dg=dg.slice(df[0].length);c7=dh.push({part:df.pop().replace(cX," "),string:df[0],captures:df})}for(di in c8){if((df=cF[di].exec(dg))&&(!e[di]||(df=e[di](df,c6,de)))){dk+=df[0];dg=dg.slice(df[0].length);c7=dh.push({part:di,string:df.shift(),captures:df})}}if(!c7){break}}if(dk){dh.selector=dk}return dl?dg.length:dg?cP.error(dc):cn.call(cU(dj,c9),0)}function cx(da,c9,c8,c6){var e=c9.dir,c7=ci++;if(!da){da=function(db){return db===c8}}return c9.first?function(db){while((db=db[e])){if(db.nodeType===1){return da(db)&&db}}}:c6?function(db){while((db=db[e])){if(db.nodeType===1){if(da(db)){return db}}}}:function(dc){var db,dd=c7+"."+cs,de=dd+"."+cW;while((dc=dc[e])){if(dc.nodeType===1){if((db=dc[cZ])===de){return dc.sizset}else{if(typeof db==="string"&&db.indexOf(dd)===0){if(dc.sizset){return dc}}else{dc[cZ]=de;if(da(dc)){dc.sizset=true;return dc}dc.sizset=false}}}}}}function cv(e,c6){return e?function(c8){var c7=c6(c8);return c7&&e(c7===true?c8:c7)}:c6}function cy(da,c8,e){var c7,c9,c6=0;for(;(c7=da[c6]);c6++){if(cJ.relative[c7.part]){c9=cx(c9,cJ.relative[c7.part],c8,e)}else{c9=cv(c9,cJ.filter[c7.part].apply(null,c7.captures.concat(c8,e)))}}return c9}function ca(e){return function(c7){var c8,c6=0;for(;(c8=e[c6]);c6++){if(c8(c7)){return true}}return false}}ch=cP.compile=function(c6,c9,c7){var db,c8,e,da=cp[cZ][c6];if(da&&da.context===c9){return da}db=b6(c6,c9,c7);for(c8=0,e=db.length;c8<e;c8++){db[c8]=cy(db[c8],c9,c7)}da=cp(c6,ca(db));da.context=c9;da.runs=da.dirruns=0;return da};function cq(c6,da,c9,c7){var c8=0,e=da.length;for(;c8<e;c8++){cP(c6,da[c8],c9,c7)}}function cK(e,c7,db,dc,c6,da){var c8,c9=cJ.setFilters[c7.toLowerCase()];if(!c9){cP.error(c7)}if(e||!(c8=c6)){cq(e||"*",dc,(c8=[]),c6)}return c8.length>0?c9(c8,db,da):[]}function cS(dp,e,dh,c7){var dd,di,dj,dg,da,dk,c9,df,db,de,dn,dq,c6,dl=0,dm=dp.length,c8=cF.POS,dc=new RegExp("^"+c8.source+"(?!"+cz+")","i"),dr=function(){var dt=1,ds=arguments.length-2;for(;dt<ds;dt++){if(arguments[dt]===ck){db[dt]=ck}}};for(;dl<dm;dl++){dd=dp[dl];di="";df=c7;for(dj=0,dg=dd.length;dj<dg;dj++){da=dd[dj];dk=da.string;if(da.part==="PSEUDO"){c8.exec("");c9=0;while((db=c8.exec(dk))){de=true;dn=c8.lastIndex=db.index+db[0].length;if(dn>c9){di+=dk.slice(c9,db.index);c9=dn;dq=[e];if(cG.test(di)){if(df){dq=df}df=c7}if((c6=c0.test(di))){di=di.slice(0,-5).replace(cG,"$&*");c9++}if(db.length>1){db[0].replace(dc,dr)}df=cK(di,db[1],db[2],dq,df,c6)}di=""}}if(!de){di+=dk}de=false}if(di){if(cG.test(di)){cq(di,df||[e],dh,c7)}else{cP(di,e,dh,c7?c7.concat(df):df)}}else{cV.apply(dh,df)}}return dm===1?dh:cP.uniqueSort(dh)}function cY(db,c6,dd,dg,df){db=db.replace(cX,"$1");var e,dh,c9,c8,dc,dj,da,c7,dk,di,de=b6(db,c6,df),dl=c6.nodeType;if(cF.POS.test(db)){return cS(de,c6,dd,dg)}if(dg){e=cn.call(dg,0)}else{if(de.length===1){if((dj=cn.call(de[0],0)).length>2&&(da=dj[0]).part==="ID"&&dl===9&&!df&&cJ.relative[dj[1].part]){c6=cJ.find.ID(da.captures[0].replace(cu,""),c6,df)[0];if(!c6){return dd}db=db.slice(dj.shift().string.length)}dk=((de=cQ.exec(dj[0].string))&&!de.index&&c6.parentNode)||c6;c7="";for(dc=dj.length-1;dc>=0;dc--){da=dj[dc];di=da.part;c7=da.string+c7;if(cJ.relative[di]){break}if(cJ.order.test(di)){e=cJ.find[di](da.captures[0].replace(cu,""),dk,df);if(e==null){continue}else{db=db.slice(0,db.length-c7.length)+c7.replace(cF[di],"");if(!db){cV.apply(dd,cn.call(e,0))}break}}}}}if(db){dh=ch(db,c6,df);cs=dh.dirruns++;if(e==null){e=cJ.find.TAG("*",(cQ.test(db)&&c6.parentNode)||c6)}for(dc=0;(c8=e[dc]);dc++){cW=dh.runs++;if(dh(c8)){dd.push(c8)}}}return dd}if(cc.querySelectorAll){(function(){var da,db=cY,c9=/'|\\/g,c7=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,c6=[],e=[":active"],c8=cf.matchesSelector||cf.mozMatchesSelector||cf.webkitMatchesSelector||cf.oMatchesSelector||cf.msMatchesSelector;cI(function(dc){dc.innerHTML="<select><option selected=''></option></select>";if(!dc.querySelectorAll("[selected]").length){c6.push("\\["+cz+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!dc.querySelectorAll(":checked").length){c6.push(":checked")}});cI(function(dc){dc.innerHTML="<p test=''></p>";if(dc.querySelectorAll("[test^='']").length){c6.push("[*^$]="+cz+"*(?:\"\"|'')")}dc.innerHTML="<input type='hidden'/>";if(!dc.querySelectorAll(":enabled").length){c6.push(":enabled",":disabled")}});c6=c6.length&&new RegExp(c6.join("|"));cY=function(di,dd,dj,dm,dl){if(!dm&&!dl&&(!c6||!c6.test(di))){if(dd.nodeType===9){try{cV.apply(dj,cn.call(dd.querySelectorAll(di),0));return dj}catch(dh){}}else{if(dd.nodeType===1&&dd.nodeName.toLowerCase()!=="object"){var dg,dk,dn,df=dd.getAttribute("id"),dc=df||cZ,de=cQ.test(di)&&dd.parentNode||dd;if(df){dc=dc.replace(c9,"\\$&")}else{dd.setAttribute("id",dc)}dg=b6(di,dd,dl);dc="[id='"+dc+"']";for(dk=0,dn=dg.length;dk<dn;dk++){dg[dk]=dc+dg[dk].selector}try{cV.apply(dj,cn.call(de.querySelectorAll(dg.join(",")),0));return dj}catch(dh){}finally{if(!df){dd.removeAttribute("id")}}}}}return db(di,dd,dj,dm,dl)};if(c8){cI(function(dd){da=c8.call(dd,"div");try{c8.call(dd,"[test!='']:sizzle");e.push(cF.PSEUDO.source,cF.POS.source,"!=")}catch(dc){}});e=new RegExp(e.join("|"));cP.matchesSelector=function(dd,df){df=df.replace(c7,"='$1']");if(!co(dd)&&!e.test(df)&&(!c6||!c6.test(df))){try{var dc=c8.call(dd,df);if(dc||da||dd.document&&dd.document.nodeType!==11){return dc}}catch(de){}}return cP(df,null,null,[dd]).length>0}}})()}cJ.setFilters.nth=cJ.setFilters.eq;cJ.filters=cJ.pseudos;cP.attr=bL.attr;bL.find=cP;bL.expr=cP.selectors;bL.expr[":"]=bL.expr.pseudos;bL.unique=cP.uniqueSort;bL.text=cP.getText;bL.isXMLDoc=cP.isXML;bL.contains=cP.contains})(a7);var al=/Until$/,bv=/^(?:parents|prev(?:Until|All))/,aq=/^.[^:#\[\.,]*$/,D=bL.expr.match.needsContext,bz={children:true,contents:true,next:true,prev:true};bL.fn.extend({find:function(e){var b7,b4,b9,ca,b8,b6,b5=this;if(typeof e!=="string"){return bL(e).filter(function(){for(b7=0,b4=b5.length;b7<b4;b7++){if(bL.contains(b5[b7],this)){return true}}})}b6=this.pushStack("","find",e);for(b7=0,b4=this.length;b7<b4;b7++){b9=b6.length;bL.find(e,this[b7],b6);if(b7>0){for(ca=b9;ca<b6.length;ca++){for(b8=0;b8<b9;b8++){if(b6[b8]===b6[ca]){b6.splice(ca--,1);break}}}}}return b6},has:function(b6){var b5,b4=bL(b6,this),e=b4.length;return this.filter(function(){for(b5=0;b5<e;b5++){if(bL.contains(this,b4[b5])){return true}}})},not:function(e){return this.pushStack(aR(this,e,false),"not",e)},filter:function(e){return this.pushStack(aR(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?D.test(e)?bL(e,this.context).index(this[0])>=0:bL.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b7,b6){var b8,b5=0,e=this.length,b4=[],b9=D.test(b7)||typeof b7!=="string"?bL(b7,b6||this.context):0;for(;b5<e;b5++){b8=this[b5];while(b8&&b8.ownerDocument&&b8!==b6&&b8.nodeType!==11){if(b9?b9.index(b8)>-1:bL.find.matchesSelector(b8,b7)){b4.push(b8);break}b8=b8.parentNode}}b4=b4.length>1?bL.unique(b4):b4;return this.pushStack(b4,"closest",b7)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return bL.inArray(this[0],bL(e))}return bL.inArray(e.jquery?e[0]:e,this)},add:function(e,b4){var b6=typeof e==="string"?bL(e,b4):bL.makeArray(e&&e.nodeType?[e]:e),b5=bL.merge(this.get(),b6);return this.pushStack(aW(b6[0])||aW(b5[0])?b5:bL.unique(b5))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bL.fn.andSelf=bL.fn.addBack;function aW(e){return !e||!e.parentNode||e.parentNode.nodeType===11}function a3(b4,e){do{b4=b4[e]}while(b4&&b4.nodeType!==1);return b4}bL.each({parent:function(b4){var e=b4.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bL.dir(e,"parentNode")},parentsUntil:function(b4,e,b5){return bL.dir(b4,"parentNode",b5)},next:function(e){return a3(e,"nextSibling")},prev:function(e){return a3(e,"previousSibling")},nextAll:function(e){return bL.dir(e,"nextSibling")},prevAll:function(e){return bL.dir(e,"previousSibling")},nextUntil:function(b4,e,b5){return bL.dir(b4,"nextSibling",b5)},prevUntil:function(b4,e,b5){return bL.dir(b4,"previousSibling",b5)},siblings:function(e){return bL.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bL.sibling(e.firstChild)},contents:function(e){return bL.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bL.merge([],e.childNodes)}},function(e,b4){bL.fn[e]=function(b7,b5){var b6=bL.map(this,b4,b7);if(!al.test(e)){b5=b7}if(b5&&typeof b5==="string"){b6=bL.filter(b5,b6)}b6=this.length>1&&!bz[e]?bL.unique(b6):b6;if(this.length>1&&bv.test(e)){b6=b6.reverse()}return this.pushStack(b6,e,a9.call(arguments).join(","))}});bL.extend({filter:function(b5,e,b4){if(b4){b5=":not("+b5+")"}return e.length===1?bL.find.matchesSelector(e[0],b5)?[e[0]]:[]:bL.find.matches(b5,e)},dir:function(b5,b4,b7){var e=[],b6=b5[b4];while(b6&&b6.nodeType!==9&&(b7===aG||b6.nodeType!==1||!bL(b6).is(b7))){if(b6.nodeType===1){e.push(b6)}b6=b6[b4]}return e},sibling:function(b5,b4){var e=[];for(;b5;b5=b5.nextSibling){if(b5.nodeType===1&&b5!==b4){e.push(b5)}}return e}});function aR(b6,b5,e){b5=b5||0;if(bL.isFunction(b5)){return bL.grep(b6,function(b8,b7){var b9=!!b5.call(b8,b7,b8);return b9===e})}else{if(b5.nodeType){return bL.grep(b6,function(b8,b7){return(b8===b5)===e})}else{if(typeof b5==="string"){var b4=bL.grep(b6,function(b7){return b7.nodeType===1});if(aq.test(b5)){return bL.filter(b5,b4,!e)}else{b5=bL.filter(b5,b4)}}}}return bL.grep(b6,function(b8,b7){return(bL.inArray(b8,b5)>=0)===e})}function F(e){var b5=g.split("|"),b4=e.createDocumentFragment();if(b4.createElement){while(b5.length){b4.createElement(b5.pop())}}return b4}var g="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aA=/ jQuery\d+="(?:null|\d+)"/g,b3=/^\s+/,aD=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,u=/<([\w:]+)/,bY=/<tbody/i,O=/<|&#?\w+;/,ao=/<(?:script|style|link)/i,av=/<(?:script|object|embed|option|style)/i,P=new RegExp("<(?:"+g+")[\\s/>]","i"),aJ=/^(?:checkbox|radio)$/,bW=/checked\s*(?:[^=]|=\s*.checked.)/i,bB=/\/(java|ecma)script/i,aM=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Y={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aV=F(t),q=aV.appendChild(t.createElement("div"));Y.optgroup=Y.option;Y.tbody=Y.tfoot=Y.colgroup=Y.caption=Y.thead;Y.th=Y.td;if(!bL.support.htmlSerialize){Y._default=[1,"X<div>","</div>"]}bL.fn.extend({text:function(e){return bL.access(this,function(b4){return b4===aG?bL.text(this):this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(b4))},null,e,arguments.length)},wrapAll:function(e){if(bL.isFunction(e)){return this.each(function(b5){bL(this).wrapAll(e.call(this,b5))})}if(this[0]){var b4=bL(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b4.insertBefore(this[0])}b4.map(function(){var b5=this;while(b5.firstChild&&b5.firstChild.nodeType===1){b5=b5.firstChild}return b5}).append(this)}return this},wrapInner:function(e){if(bL.isFunction(e)){return this.each(function(b4){bL(this).wrapInner(e.call(this,b4))})}return this.each(function(){var b4=bL(this),b5=b4.contents();if(b5.length){b5.wrapAll(e)}else{b4.append(e)}})},wrap:function(e){var b4=bL.isFunction(e);return this.each(function(b5){bL(this).wrapAll(b4?e.call(this,b5):e)})},unwrap:function(){return this.parent().each(function(){if(!bL.nodeName(this,"body")){bL(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!aW(this[0])){return this.domManip(arguments,false,function(b4){this.parentNode.insertBefore(b4,this)})}if(arguments.length){var e=bL.clean(arguments);return this.pushStack(bL.merge(e,this),"before",this.selector)}},after:function(){if(!aW(this[0])){return this.domManip(arguments,false,function(b4){this.parentNode.insertBefore(b4,this.nextSibling)})}if(arguments.length){var e=bL.clean(arguments);return this.pushStack(bL.merge(this,e),"after",this.selector)}},remove:function(e,b6){var b5,b4=0;for(;(b5=this[b4])!=null;b4++){if(!e||bL.filter(e,[b5]).length){if(!b6&&b5.nodeType===1){bL.cleanData(b5.getElementsByTagName("*"));bL.cleanData([b5])}if(b5.parentNode){b5.parentNode.removeChild(b5)}}}return this},empty:function(){var b4,e=0;for(;(b4=this[e])!=null;e++){if(b4.nodeType===1){bL.cleanData(b4.getElementsByTagName("*"))}while(b4.firstChild){b4.removeChild(b4.firstChild)}}return this},clone:function(b4,e){b4=b4==null?false:b4;e=e==null?b4:e;return this.map(function(){return bL.clone(this,b4,e)})},html:function(e){return bL.access(this,function(b7){var b6=this[0]||{},b5=0,b4=this.length;if(b7===aG){return b6.nodeType===1?b6.innerHTML.replace(aA,""):aG}if(typeof b7==="string"&&!ao.test(b7)&&(bL.support.htmlSerialize||!P.test(b7))&&(bL.support.leadingWhitespace||!b3.test(b7))&&!Y[(u.exec(b7)||["",""])[1].toLowerCase()]){b7=b7.replace(aD,"<$1></$2>");try{for(;b5<b4;b5++){b6=this[b5]||{};if(b6.nodeType===1){bL.cleanData(b6.getElementsByTagName("*"));b6.innerHTML=b7}}b6=0}catch(b8){}}if(b6){this.empty().append(b7)}},null,e,arguments.length)},replaceWith:function(e){if(!aW(this[0])){if(bL.isFunction(e)){return this.each(function(b6){var b5=bL(this),b4=b5.html();b5.replaceWith(e.call(this,b6,b4))})}if(typeof e!=="string"){e=bL(e).detach()}return this.each(function(){var b5=this.nextSibling,b4=this.parentNode;bL(this).remove();if(b5){bL(b5).before(e)}else{bL(b4).append(e)}})}return this.length?this.pushStack(bL(bL.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(b9,cd,cc){b9=[].concat.apply([],b9);var b5,b7,b8,cb,b6=0,ca=b9[0],b4=[],e=this.length;if(!bL.support.checkClone&&e>1&&typeof ca==="string"&&bW.test(ca)){return this.each(function(){bL(this).domManip(b9,cd,cc)})}if(bL.isFunction(ca)){return this.each(function(cf){var ce=bL(this);b9[0]=ca.call(this,cf,cd?ce.html():aG);ce.domManip(b9,cd,cc)})}if(this[0]){b5=bL.buildFragment(b9,this,b4);b8=b5.fragment;b7=b8.firstChild;if(b8.childNodes.length===1){b8=b7}if(b7){cd=cd&&bL.nodeName(b7,"tr");for(cb=b5.cacheable||e-1;b6<e;b6++){cc.call(cd&&bL.nodeName(this[b6],"table")?C(this[b6],"tbody"):this[b6],b6===cb?b8:bL.clone(b8,true,true))}}b8=b7=null;if(b4.length){bL.each(b4,function(ce,cf){if(cf.src){if(bL.ajax){bL.ajax({url:cf.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bL.error("no ajax")}}else{bL.globalEval((cf.text||cf.textContent||cf.innerHTML||"").replace(aM,""))}if(cf.parentNode){cf.parentNode.removeChild(cf)}})}}return this}});function C(b4,e){return b4.getElementsByTagName(e)[0]||b4.appendChild(b4.ownerDocument.createElement(e))}function au(ca,b4){if(b4.nodeType!==1||!bL.hasData(ca)){return}var b7,b6,e,b9=bL._data(ca),b8=bL._data(b4,b9),b5=b9.events;if(b5){delete b8.handle;b8.events={};for(b7 in b5){for(b6=0,e=b5[b7].length;b6<e;b6++){bL.event.add(b4,b7,b5[b7][b6])}}}if(b8.data){b8.data=bL.extend({},b8.data)}}function K(b4,e){var b5;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(b4)}b5=e.nodeName.toLowerCase();if(b5==="object"){if(e.parentNode){e.outerHTML=b4.outerHTML}if(bL.support.html5Clone&&(b4.innerHTML&&!bL.trim(e.innerHTML))){e.innerHTML=b4.innerHTML}}else{if(b5==="input"&&aJ.test(b4.type)){e.defaultChecked=e.checked=b4.checked;if(e.value!==b4.value){e.value=b4.value}}else{if(b5==="option"){e.selected=b4.defaultSelected}else{if(b5==="input"||b5==="textarea"){e.defaultValue=b4.defaultValue}else{if(b5==="script"&&e.text!==b4.text){e.text=b4.text}}}}}e.removeAttribute(bL.expando)}bL.buildFragment=function(b6,b7,b4){var b5,e,b8,b9=b6[0];b7=b7||t;b7=!b7.nodeType&&b7[0]||b7;b7=b7.ownerDocument||b7;if(b6.length===1&&typeof b9==="string"&&b9.length<512&&b7===t&&b9.charAt(0)==="<"&&!av.test(b9)&&(bL.support.checkClone||!bW.test(b9))&&(bL.support.html5Clone||!P.test(b9))){e=true;b5=bL.fragments[b9];b8=b5!==aG}if(!b5){b5=b7.createDocumentFragment();bL.clean(b6,b7,b5,b4);if(e){bL.fragments[b9]=b8&&b5}}return{fragment:b5,cacheable:e}};bL.fragments={};bL.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b4){bL.fn[e]=function(b5){var b7,b9=0,b8=[],cb=bL(b5),b6=cb.length,ca=this.length===1&&this[0].parentNode;if((ca==null||ca&&ca.nodeType===11&&ca.childNodes.length===1)&&b6===1){cb[b4](this[0]);return this}else{for(;b9<b6;b9++){b7=(b9>0?this.clone(true):this).get();bL(cb[b9])[b4](b7);b8=b8.concat(b7)}return this.pushStack(b8,e,cb.selector)}}});function r(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function bX(e){if(aJ.test(e.type)){e.defaultChecked=e.checked}}bL.extend({clone:function(b7,b9,b5){var e,b4,b6,b8;if(bL.support.html5Clone||bL.isXMLDoc(b7)||!P.test("<"+b7.nodeName+">")){b8=b7.cloneNode(true)}else{q.innerHTML=b7.outerHTML;q.removeChild(b8=q.firstChild)}if((!bL.support.noCloneEvent||!bL.support.noCloneChecked)&&(b7.nodeType===1||b7.nodeType===11)&&!bL.isXMLDoc(b7)){K(b7,b8);e=r(b7);b4=r(b8);for(b6=0;e[b6];++b6){if(b4[b6]){K(e[b6],b4[b6])}}}if(b9){au(b7,b8);if(b5){e=r(b7);b4=r(b8);for(b6=0;e[b6];++b6){au(e[b6],b4[b6])}}}e=b4=null;return b8},clean:function(cg,b5,e,b6){var cd,cc,cf,ck,b9,cj,ca,b7,b4,ce,ci,cb,b8=b5===t&&aV,ch=[];if(!b5||typeof b5.createDocumentFragment==="undefined"){b5=t}for(cd=0;(cf=cg[cd])!=null;cd++){if(typeof cf==="number"){cf+=""}if(!cf){continue}if(typeof cf==="string"){if(!O.test(cf)){cf=b5.createTextNode(cf)}else{b8=b8||F(b5);ca=b5.createElement("div");b8.appendChild(ca);cf=cf.replace(aD,"<$1></$2>");ck=(u.exec(cf)||["",""])[1].toLowerCase();b9=Y[ck]||Y._default;cj=b9[0];ca.innerHTML=b9[1]+cf+b9[2];while(cj--){ca=ca.lastChild}if(!bL.support.tbody){b7=bY.test(cf);b4=ck==="table"&&!b7?ca.firstChild&&ca.firstChild.childNodes:b9[1]==="<table>"&&!b7?ca.childNodes:[];for(cc=b4.length-1;cc>=0;--cc){if(bL.nodeName(b4[cc],"tbody")&&!b4[cc].childNodes.length){b4[cc].parentNode.removeChild(b4[cc])}}}if(!bL.support.leadingWhitespace&&b3.test(cf)){ca.insertBefore(b5.createTextNode(b3.exec(cf)[0]),ca.firstChild)}cf=ca.childNodes;ca.parentNode.removeChild(ca)}}if(cf.nodeType){ch.push(cf)}else{bL.merge(ch,cf)}}if(ca){cf=ca=b8=null}if(!bL.support.appendChecked){for(cd=0;(cf=ch[cd])!=null;cd++){if(bL.nodeName(cf,"input")){bX(cf)}else{if(typeof cf.getElementsByTagName!=="undefined"){bL.grep(cf.getElementsByTagName("input"),bX)}}}}if(e){ci=function(cl){if(!cl.type||bB.test(cl.type)){return b6?b6.push(cl.parentNode?cl.parentNode.removeChild(cl):cl):e.appendChild(cl)}};for(cd=0;(cf=ch[cd])!=null;cd++){if(!(bL.nodeName(cf,"script")&&ci(cf))){e.appendChild(cf);if(typeof cf.getElementsByTagName!=="undefined"){cb=bL.grep(bL.merge([],cf.getElementsByTagName("script")),ci);ch.splice.apply(ch,[cd+1,0].concat(cb));cd+=cb.length}}}}return ch},cleanData:function(b4,cc){var b7,b5,b6,cb,b8=0,cd=bL.expando,e=bL.cache,b9=bL.support.deleteExpando,ca=bL.event.special;for(;(b6=b4[b8])!=null;b8++){if(cc||bL.acceptData(b6)){b5=b6[cd];b7=b5&&e[b5];if(b7){if(b7.events){for(cb in b7.events){if(ca[cb]){bL.event.remove(b6,cb)}else{bL.removeEvent(b6,cb,b7.handle)}}}if(e[b5]){delete e[b5];if(b9){delete b6[cd]}else{if(b6.removeAttribute){b6.removeAttribute(cd)}else{b6[cd]=null}}bL.deletedIds.push(b5)}}}}}});(function(){var e,b4;bL.uaMatch=function(b6){b6=b6.toLowerCase();var b5=/(chrome)[ \/]([\w.]+)/.exec(b6)||/(webkit)[ \/]([\w.]+)/.exec(b6)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b6)||/(msie) ([\w.]+)/.exec(b6)||b6.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b6)||[];return{browser:b5[1]||"",version:b5[2]||"0"}};e=bL.uaMatch(h.userAgent);b4={};if(e.browser){b4[e.browser]=true;b4.version=e.version}if(b4.chrome){b4.webkit=true}else{if(b4.webkit){b4.safari=true}}bL.browser=b4;bL.sub=function(){function b5(b8,b9){return new b5.fn.init(b8,b9)}bL.extend(true,b5,this);b5.superclass=this;b5.fn=b5.prototype=this();b5.fn.constructor=b5;b5.sub=this.sub;b5.fn.init=function b7(b8,b9){if(b9&&b9 instanceof bL&&!(b9 instanceof b5)){b9=b5(b9)}return bL.fn.init.call(this,b8,b9,b6)};b5.fn.init.prototype=b5.fn;var b6=b5(t);return b5}})();var J,aE,a1,bj=/alpha\([^)]*\)/i,aX=/opacity=([^)]*)/,bp=/^(top|right|bottom|left)$/,L=/^(none|table(?!-c[ea]).+)/,a4=/^margin/,bd=new RegExp("^("+bC+")(.*)$","i"),ab=new RegExp("^("+bC+")(?!px)[a-z%]+$","i"),X=new RegExp("^([-+])=("+bC+")","i"),bm={},be={position:"absolute",visibility:"hidden",display:"block"},bF={letterSpacing:0,fontWeight:400},bV=["Top","Right","Bottom","Left"],ax=["Webkit","O","Moz","ms"],aO=bL.fn.toggle;function f(b6,b4){if(b4 in b6){return b4}var b7=b4.charAt(0).toUpperCase()+b4.slice(1),e=b4,b5=ax.length;while(b5--){b4=ax[b5]+b7;if(b4 in b6){return b4}}return e}function V(b4,e){b4=e||b4;return bL.css(b4,"display")==="none"||!bL.contains(b4.ownerDocument,b4)}function x(b8,e){var b7,b9,b4=[],b5=0,b6=b8.length;for(;b5<b6;b5++){b7=b8[b5];if(!b7.style){continue}b4[b5]=bL._data(b7,"olddisplay");if(e){if(!b4[b5]&&b7.style.display==="none"){b7.style.display=""}if(b7.style.display===""&&V(b7)){b4[b5]=bL._data(b7,"olddisplay",bH(b7.nodeName))}}else{b9=J(b7,"display");if(!b4[b5]&&b9!=="none"){bL._data(b7,"olddisplay",b9)}}}for(b5=0;b5<b6;b5++){b7=b8[b5];if(!b7.style){continue}if(!e||b7.style.display==="none"||b7.style.display===""){b7.style.display=e?b4[b5]||"":"none"}}return b8}bL.fn.extend({css:function(e,b4){return bL.access(this,function(b6,b5,b7){return b7!==aG?bL.style(b6,b5,b7):bL.css(b6,b5)},e,b4,arguments.length>1)},show:function(){return x(this,true)},hide:function(){return x(this)},toggle:function(b5,b4){var e=typeof b5==="boolean";if(bL.isFunction(b5)&&bL.isFunction(b4)){return aO.apply(this,arguments)}return this.each(function(){if(e?b5:V(this)){bL(this).show()}else{bL(this).hide()}})}});bL.extend({cssHooks:{opacity:{get:function(b5,b4){if(b4){var e=J(b5,"opacity");return e===""?"1":e}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bL.support.cssFloat?"cssFloat":"styleFloat"},style:function(b6,b5,cc,b7){if(!b6||b6.nodeType===3||b6.nodeType===8||!b6.style){return}var ca,cb,cd,b8=bL.camelCase(b5),b4=b6.style;b5=bL.cssProps[b8]||(bL.cssProps[b8]=f(b4,b8));cd=bL.cssHooks[b5]||bL.cssHooks[b8];if(cc!==aG){cb=typeof cc;if(cb==="string"&&(ca=X.exec(cc))){cc=(ca[1]+1)*ca[2]+parseFloat(bL.css(b6,b5));cb="number"}if(cc==null||cb==="number"&&isNaN(cc)){return}if(cb==="number"&&!bL.cssNumber[b8]){cc+="px"}if(!cd||!("set" in cd)||(cc=cd.set(b6,cc,b7))!==aG){try{b4[b5]=cc}catch(b9){}}}else{if(cd&&"get" in cd&&(ca=cd.get(b6,false,b7))!==aG){return ca}return b4[b5]}},css:function(b9,b7,b8,b4){var ca,b6,e,b5=bL.camelCase(b7);b7=bL.cssProps[b5]||(bL.cssProps[b5]=f(b9.style,b5));e=bL.cssHooks[b7]||bL.cssHooks[b5];if(e&&"get" in e){ca=e.get(b9,true,b4)}if(ca===aG){ca=J(b9,b7)}if(ca==="normal"&&b7 in bF){ca=bF[b7]}if(b8||b4!==aG){b6=parseFloat(ca);return b8||bL.isNumeric(b6)?b6||0:ca}return ca},swap:function(b7,b6,b8){var b5,b4,e={};for(b4 in b6){e[b4]=b7.style[b4];b7.style[b4]=b6[b4]}b5=b8.call(b7);for(b4 in b6){b7.style[b4]=e[b4]}return b5}});if(a7.getComputedStyle){J=function(ca,b4){var e,b7,b6,b9,b8=a7.getComputedStyle(ca,null),b5=ca.style;if(b8){e=b8[b4];if(e===""&&!bL.contains(ca.ownerDocument,ca)){e=bL.style(ca,b4)}if(ab.test(e)&&a4.test(b4)){b7=b5.width;b6=b5.minWidth;b9=b5.maxWidth;b5.minWidth=b5.maxWidth=b5.width=e;e=b8.width;b5.width=b7;b5.minWidth=b6;b5.maxWidth=b9}}return e}}else{if(t.documentElement.currentStyle){J=function(b7,b5){var b8,e,b4=b7.currentStyle&&b7.currentStyle[b5],b6=b7.style;if(b4==null&&b6&&b6[b5]){b4=b6[b5]}if(ab.test(b4)&&!bp.test(b5)){b8=b6.left;e=b7.runtimeStyle&&b7.runtimeStyle.left;if(e){b7.runtimeStyle.left=b7.currentStyle.left}b6.left=b5==="fontSize"?"1em":b4;b4=b6.pixelLeft+"px";b6.left=b8;if(e){b7.runtimeStyle.left=e}}return b4===""?"auto":b4}}}function aL(e,b5,b6){var b4=bd.exec(b5);return b4?Math.max(0,b4[1]-(b6||0))+(b4[2]||"px"):b5}function ay(b6,b4,e,b8){var b5=e===(b8?"border":"content")?4:b4==="width"?1:0,b7=0;for(;b5<4;b5+=2){if(e==="margin"){b7+=bL.css(b6,e+bV[b5],true)}if(b8){if(e==="content"){b7-=parseFloat(J(b6,"padding"+bV[b5]))||0}if(e!=="margin"){b7-=parseFloat(J(b6,"border"+bV[b5]+"Width"))||0}}else{b7+=parseFloat(J(b6,"padding"+bV[b5]))||0;if(e!=="padding"){b7+=parseFloat(J(b6,"border"+bV[b5]+"Width"))||0}}}return b7}function z(b6,b4,e){var b7=b4==="width"?b6.offsetWidth:b6.offsetHeight,b5=true,b8=bL.support.boxSizing&&bL.css(b6,"boxSizing")==="border-box";if(b7<=0||b7==null){b7=J(b6,b4);if(b7<0||b7==null){b7=b6.style[b4]}if(ab.test(b7)){return b7}b5=b8&&(bL.support.boxSizingReliable||b7===b6.style[b4]);b7=parseFloat(b7)||0}return(b7+ay(b6,b4,e||(b8?"border":"content"),b5))+"px"}function bH(b5){if(bm[b5]){return bm[b5]}var e=bL("<"+b5+">").appendTo(t.body),b4=e.css("display");e.remove();if(b4==="none"||b4===""){aE=t.body.appendChild(aE||bL.extend(t.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!a1||!aE.createElement){a1=(aE.contentWindow||aE.contentDocument).document;a1.write("<!doctype html><html><body>");a1.close()}e=a1.body.appendChild(a1.createElement(b5));b4=J(e,"display");t.body.removeChild(aE)}bm[b5]=b4;return b4}bL.each(["height","width"],function(b4,e){bL.cssHooks[e]={get:function(b7,b6,b5){if(b6){if(b7.offsetWidth===0&&L.test(J(b7,"display"))){return bL.swap(b7,be,function(){return z(b7,e,b5)})}else{return z(b7,e,b5)}}},set:function(b6,b7,b5){return aL(b6,b7,b5?ay(b6,e,b5,bL.support.boxSizing&&bL.css(b6,"boxSizing")==="border-box"):0)}}});if(!bL.support.opacity){bL.cssHooks.opacity={get:function(b4,e){return aX.test((e&&b4.currentStyle?b4.currentStyle.filter:b4.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b7,b8){var b6=b7.style,b4=b7.currentStyle,e=bL.isNumeric(b8)?"alpha(opacity="+b8*100+")":"",b5=b4&&b4.filter||b6.filter||"";b6.zoom=1;if(b8>=1&&bL.trim(b5.replace(bj,""))===""&&b6.removeAttribute){b6.removeAttribute("filter");if(b4&&!b4.filter){return}}b6.filter=bj.test(b5)?b5.replace(bj,e):b5+" "+e}}}bL(function(){if(!bL.support.reliableMarginRight){bL.cssHooks.marginRight={get:function(b4,e){return bL.swap(b4,{display:"inline-block"},function(){if(e){return J(b4,"marginRight")}})}}}if(!bL.support.pixelPosition&&bL.fn.position){bL.each(["top","left"],function(e,b4){bL.cssHooks[b4]={get:function(b7,b6){if(b6){var b5=J(b7,b4);return ab.test(b5)?bL(b7).position()[b4]+"px":b5}}}})}});if(bL.expr&&bL.expr.filters){bL.expr.filters.hidden=function(e){return(e.offsetWidth===0&&e.offsetHeight===0)||(!bL.support.reliableHiddenOffsets&&((e.style&&e.style.display)||J(e,"display"))==="none")};bL.expr.filters.visible=function(e){return !bL.expr.filters.hidden(e)}}bL.each({margin:"",padding:"",border:"Width"},function(e,b4){bL.cssHooks[e+b4]={expand:function(b7){var b6,b8=typeof b7==="string"?b7.split(" "):[b7],b5={};for(b6=0;b6<4;b6++){b5[e+bV[b6]+b4]=b8[b6]||b8[b6-2]||b8[0]}return b5}};if(!a4.test(e)){bL.cssHooks[e+b4].set=aL}});var bx=/%20/g,aU=/\[\]$/,Z=/\r?\n/g,bE=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aI=/^(?:select|textarea)/i;bL.fn.extend({serialize:function(){return bL.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bL.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aI.test(this.nodeName)||bE.test(this.type))}).map(function(e,b4){var b5=bL(this).val();return b5==null?null:bL.isArray(b5)?bL.map(b5,function(b7,b6){return{name:b4.name,value:b7.replace(Z,"\r\n")}}):{name:b4.name,value:b5.replace(Z,"\r\n")}}).get()}});bL.param=function(e,b5){var b6,b4=[],b7=function(b8,b9){b9=bL.isFunction(b9)?b9():(b9==null?"":b9);b4[b4.length]=encodeURIComponent(b8)+"="+encodeURIComponent(b9)};if(b5===aG){b5=bL.ajaxSettings&&bL.ajaxSettings.traditional}if(bL.isArray(e)||(e.jquery&&!bL.isPlainObject(e))){bL.each(e,function(){b7(this.name,this.value)})}else{for(b6 in e){p(b6,e[b6],b5,b7)}}return b4.join("&").replace(bx,"+")};function p(b5,b7,b4,b6){var e;if(bL.isArray(b7)){bL.each(b7,function(b9,b8){if(b4||aU.test(b5)){b6(b5,b8)}else{p(b5+"["+(typeof b8==="object"?b9:"")+"]",b8,b4,b6)}})}else{if(!b4&&bL.type(b7)==="object"){for(e in b7){p(b5+"["+e+"]",b7[e],b4,b6)}}else{b6(b5,b7)}}}var ad,b2,at=/#.*$/,ai=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,G=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,w=/^(?:GET|HEAD)$/,aH=/^\/\//,bS=/\?/,l=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,U=/([?&])_=[^&]*/,aY=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b1=bL.fn.load,A={},bb={},a2=["*/"]+["*"];try{ad=aN.href}catch(bi){ad=t.createElement("a");ad.href="";ad=ad.href}b2=aY.exec(ad.toLowerCase())||[];function bN(e){return function(b7,b9){if(typeof b7!=="string"){b9=b7;b7="*"}var b4,ca,cb,b6=b7.toLowerCase().split(a0),b5=0,b8=b6.length;if(bL.isFunction(b9)){for(;b5<b8;b5++){b4=b6[b5];cb=/^\+/.test(b4);if(cb){b4=b4.substr(1)||"*"}ca=e[b4]=e[b4]||[];ca[cb?"unshift":"push"](b9)}}}}function v(b4,cd,b8,cb,ca,b6){ca=ca||cd.dataTypes[0];b6=b6||{};b6[ca]=true;var cc,b9=b4[ca],b5=0,e=b9?b9.length:0,b7=(b4===A);for(;b5<e&&(b7||!cc);b5++){cc=b9[b5](cd,b8,cb);if(typeof cc==="string"){if(!b7||b6[cc]){cc=aG}else{cd.dataTypes.unshift(cc);cc=v(b4,cd,b8,cb,cc,b6)}}}if((b7||!cc)&&!b6["*"]){cc=v(b4,cd,b8,cb,"*",b6)}return cc}function y(b5,b6){var b4,e,b7=bL.ajaxSettings.flatOptions||{};for(b4 in b6){if(b6[b4]!==aG){(b7[b4]?b5:(e||(e={})))[b4]=b6[b4]}}if(e){bL.extend(true,b5,e)}}bL.fn.load=function(b6,b9,ca){if(typeof b6!=="string"&&b1){return b1.apply(this,arguments)}if(!this.length){return this}var e,b7,b5,b4=this,b8=b6.indexOf(" ");if(b8>=0){e=b6.slice(b8,b6.length);b6=b6.slice(0,b8)}if(bL.isFunction(b9)){ca=b9;b9=aG}else{if(b9&&typeof b9==="object"){b7="POST"}}bL.ajax({url:b6,type:b7,dataType:"html",data:b9,complete:function(cc,cb){if(ca){b4.each(ca,b5||[cc.responseText,cb,cc])}}}).done(function(cb){b5=arguments;b4.html(e?bL("<div>").append(cb.replace(l,"")).find(e):cb)});return this};bL.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,b4){bL.fn[b4]=function(b5){return this.on(b4,b5)}});bL.each(["get","post"],function(e,b4){bL[b4]=function(b5,b7,b8,b6){if(bL.isFunction(b7)){b6=b6||b8;b8=b7;b7=aG}return bL.ajax({type:b4,url:b5,data:b7,success:b8,dataType:b6})}});bL.extend({getScript:function(e,b4){return bL.get(e,aG,b4,"script")},getJSON:function(e,b4,b5){return bL.get(e,b4,b5,"json")},ajaxSetup:function(b4,e){if(e){y(b4,bL.ajaxSettings)}else{e=b4;b4=bL.ajaxSettings}y(b4,e);return b4},ajaxSettings:{url:ad,isLocal:G.test(b2[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":a2},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a7.String,"text html":true,"text json":bL.parseJSON,"text xml":bL.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:bN(A),ajaxTransport:bN(bb),ajax:function(b9,b6){if(typeof b9==="object"){b6=b9;b9=aG}b6=b6||{};var cc,cq,b7,cl,ce,ci,b5,ck,cd=bL.ajaxSetup({},b6),cs=cd.context||cd,cg=cs!==cd&&(cs.nodeType||cs instanceof bL)?bL(cs):bL.event,cr=bL.Deferred(),cn=bL.Callbacks("once memory"),ca=cd.statusCode||{},ch={},co={},b8=0,cb="canceled",cj={readyState:0,setRequestHeader:function(ct,cu){if(!b8){var e=ct.toLowerCase();ct=co[e]=co[e]||ct;ch[ct]=cu}return this},getAllResponseHeaders:function(){return b8===2?cq:null},getResponseHeader:function(ct){var e;if(b8===2){if(!b7){b7={};while((e=ai.exec(cq))){b7[e[1].toLowerCase()]=e[2]}}e=b7[ct.toLowerCase()]}return e===aG?null:e},overrideMimeType:function(e){if(!b8){cd.mimeType=e}return this},abort:function(e){e=e||cb;if(cl){cl.abort(e)}cf(0,e);return this}};function cf(cx,ct,cy,cv){var e,cB,cz,cw,cA,cu=ct;if(b8===2){return}b8=2;if(ce){clearTimeout(ce)}cl=aG;cq=cv||"";cj.readyState=cx>0?4:0;if(cy){cw=m(cd,cj,cy)}if(cx>=200&&cx<300||cx===304){if(cd.ifModified){cA=cj.getResponseHeader("Last-Modified");if(cA){bL.lastModified[cc]=cA}cA=cj.getResponseHeader("Etag");if(cA){bL.etag[cc]=cA}}if(cx===304){cu="notmodified";e=true}else{e=aj(cd,cw);cu=e.state;cB=e.data;cz=e.error;e=!cz}}else{cz=cu;if(!cu||cx){cu="error";if(cx<0){cx=0}}}cj.status=cx;cj.statusText=""+(ct||cu);if(e){cr.resolveWith(cs,[cB,cu,cj])}else{cr.rejectWith(cs,[cj,cu,cz])}cj.statusCode(ca);ca=aG;if(b5){cg.trigger("ajax"+(e?"Success":"Error"),[cj,cd,e?cB:cz])}cn.fireWith(cs,[cj,cu]);if(b5){cg.trigger("ajaxComplete",[cj,cd]);if(!(--bL.active)){bL.event.trigger("ajaxStop")}}}cr.promise(cj);cj.success=cj.done;cj.error=cj.fail;cj.complete=cn.add;cj.statusCode=function(ct){if(ct){var e;if(b8<2){for(e in ct){ca[e]=[ca[e],ct[e]]}}else{e=ct[cj.status];cj.always(e)}}return this};cd.url=((b9||cd.url)+"").replace(at,"").replace(aH,b2[1]+"//");cd.dataTypes=bL.trim(cd.dataType||"*").toLowerCase().split(a0);if(cd.crossDomain==null){ci=aY.exec(cd.url.toLowerCase());cd.crossDomain=!!(ci&&(ci[1]!=b2[1]||ci[2]!=b2[2]||(ci[3]||(ci[1]==="http:"?80:443))!=(b2[3]||(b2[1]==="http:"?80:443))))}if(cd.data&&cd.processData&&typeof cd.data!=="string"){cd.data=bL.param(cd.data,cd.traditional)}v(A,cd,b6,cj);if(b8===2){return cj}b5=cd.global;cd.type=cd.type.toUpperCase();cd.hasContent=!w.test(cd.type);if(b5&&bL.active++===0){bL.event.trigger("ajaxStart")}if(!cd.hasContent){if(cd.data){cd.url+=(bS.test(cd.url)?"&":"?")+cd.data;delete cd.data}cc=cd.url;if(cd.cache===false){var b4=bL.now(),cp=cd.url.replace(U,"$1_="+b4);cd.url=cp+((cp===cd.url)?(bS.test(cd.url)?"&":"?")+"_="+b4:"")}}if(cd.data&&cd.hasContent&&cd.contentType!==false||b6.contentType){cj.setRequestHeader("Content-Type",cd.contentType)}if(cd.ifModified){cc=cc||cd.url;if(bL.lastModified[cc]){cj.setRequestHeader("If-Modified-Since",bL.lastModified[cc])}if(bL.etag[cc]){cj.setRequestHeader("If-None-Match",bL.etag[cc])}}cj.setRequestHeader("Accept",cd.dataTypes[0]&&cd.accepts[cd.dataTypes[0]]?cd.accepts[cd.dataTypes[0]]+(cd.dataTypes[0]!=="*"?", "+a2+"; q=0.01":""):cd.accepts["*"]);for(ck in cd.headers){cj.setRequestHeader(ck,cd.headers[ck])}if(cd.beforeSend&&(cd.beforeSend.call(cs,cj,cd)===false||b8===2)){return cj.abort()}cb="abort";for(ck in {success:1,error:1,complete:1}){cj[ck](cd[ck])}cl=v(bb,cd,b6,cj);if(!cl){cf(-1,"No Transport")}else{cj.readyState=1;if(b5){cg.trigger("ajaxSend",[cj,cd])}if(cd.async&&cd.timeout>0){ce=setTimeout(function(){cj.abort("timeout")},cd.timeout)}try{b8=1;cl.send(ch,cf)}catch(cm){if(b8<2){cf(-1,cm)}else{throw cm}}}return cj},active:0,lastModified:{},etag:{}});function m(cc,cb,b8){var b7,b9,b6,e,b4=cc.contents,ca=cc.dataTypes,b5=cc.responseFields;for(b9 in b5){if(b9 in b8){cb[b5[b9]]=b8[b9]}}while(ca[0]==="*"){ca.shift();if(b7===aG){b7=cc.mimeType||cb.getResponseHeader("content-type")}}if(b7){for(b9 in b4){if(b4[b9]&&b4[b9].test(b7)){ca.unshift(b9);break}}}if(ca[0] in b8){b6=ca[0]}else{for(b9 in b8){if(!ca[0]||cc.converters[b9+" "+ca[0]]){b6=b9;break}if(!e){e=b9}}b6=b6||e}if(b6){if(b6!==ca[0]){ca.unshift(b6)}return b8[b6]}}function aj(ce,b6){var cc,b4,ca,b8,cb=ce.dataTypes.slice(),b5=cb[0],cd={},b7=0;if(ce.dataFilter){b6=ce.dataFilter(b6,ce.dataType)}if(cb[1]){for(cc in ce.converters){cd[cc.toLowerCase()]=ce.converters[cc]}}for(;(ca=cb[++b7]);){if(ca!=="*"){if(b5!=="*"&&b5!==ca){cc=cd[b5+" "+ca]||cd["* "+ca];if(!cc){for(b4 in cd){b8=b4.split(" ");if(b8[1]===ca){cc=cd[b5+" "+b8[0]]||cd["* "+b8[0]];if(cc){if(cc===true){cc=cd[b4]}else{if(cd[b4]!==true){ca=b8[0];cb.splice(b7--,0,ca)}}break}}}}if(cc!==true){if(cc&&ce["throws"]){b6=cc(b6)}else{try{b6=cc(b6)}catch(b9){return{state:"parsererror",error:cc?b9:"No conversion from "+b5+" to "+ca}}}}}b5=ca}}return{state:"success",data:b6}}var bu=[],aB=/\?/,ba=/(=)\?(?=&|$)|\?\?/,bq=bL.now();bL.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bu.pop()||(bL.expando+"_"+(bq++));this[e]=true;return e}});bL.ajaxPrefilter("json jsonp",function(cd,b8,cc){var cb,e,ca,b6=cd.data,b4=cd.url,b5=cd.jsonp!==false,b9=b5&&ba.test(b4),b7=b5&&!b9&&typeof b6==="string"&&!(cd.contentType||"").indexOf("application/x-www-form-urlencoded")&&ba.test(b6);if(cd.dataTypes[0]==="jsonp"||b9||b7){cb=cd.jsonpCallback=bL.isFunction(cd.jsonpCallback)?cd.jsonpCallback():cd.jsonpCallback;e=a7[cb];if(b9){cd.url=b4.replace(ba,"$1"+cb)}else{if(b7){cd.data=b6.replace(ba,"$1"+cb)}else{if(b5){cd.url+=(aB.test(b4)?"&":"?")+cd.jsonp+"="+cb}}}cd.converters["script json"]=function(){if(!ca){bL.error(cb+" was not called")}return ca[0]};cd.dataTypes[0]="json";a7[cb]=function(){ca=arguments};cc.always(function(){a7[cb]=e;if(cd[cb]){cd.jsonpCallback=b8.jsonpCallback;bu.push(cb)}if(ca&&bL.isFunction(e)){e(ca[0])}ca=e=aG});return"script"}});bL.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){bL.globalEval(e);return e}}});bL.ajaxPrefilter("script",function(e){if(e.cache===aG){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bL.ajaxTransport("script",function(b5){if(b5.crossDomain){var e,b4=t.head||t.getElementsByTagName("head")[0]||t.documentElement;return{send:function(b6,b7){e=t.createElement("script");e.async="async";if(b5.scriptCharset){e.charset=b5.scriptCharset}e.src=b5.url;e.onload=e.onreadystatechange=function(b9,b8){if(b8||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(b4&&e.parentNode){b4.removeChild(e)}e=aG;if(!b8){b7(200,"success")}}};b4.insertBefore(e,b4.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var am,aS=a7.ActiveXObject?function(){for(var e in am){am[e](0,1)}}:false,az=0;function bG(){try{return new a7.XMLHttpRequest()}catch(b4){}}function bg(){try{return new a7.ActiveXObject("Microsoft.XMLHTTP")}catch(b4){}}bL.ajaxSettings.xhr=a7.ActiveXObject?function(){return !this.isLocal&&bG()||bg()}:bG;(function(e){bL.extend(bL.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(bL.ajaxSettings.xhr());if(bL.support.ajax){bL.ajaxTransport(function(e){if(!e.crossDomain||bL.support.cors){var b4;return{send:function(ca,b5){var b8,b7,b9=e.xhr();if(e.username){b9.open(e.type,e.url,e.async,e.username,e.password)}else{b9.open(e.type,e.url,e.async)}if(e.xhrFields){for(b7 in e.xhrFields){b9[b7]=e.xhrFields[b7]}}if(e.mimeType&&b9.overrideMimeType){b9.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!ca["X-Requested-With"]){ca["X-Requested-With"]="XMLHttpRequest"}try{for(b7 in ca){b9.setRequestHeader(b7,ca[b7])}}catch(b6){}b9.send((e.hasContent&&e.data)||null);b4=function(cj,cd){var ce,cc,cb,ch,cg;try{if(b4&&(cd||b9.readyState===4)){b4=aG;if(b8){b9.onreadystatechange=bL.noop;if(aS){delete am[b8]}}if(cd){if(b9.readyState!==4){b9.abort()}}else{ce=b9.status;cb=b9.getAllResponseHeaders();ch={};cg=b9.responseXML;if(cg&&cg.documentElement){ch.xml=cg}try{ch.text=b9.responseText}catch(cj){}try{cc=b9.statusText}catch(ci){cc=""}if(!ce&&e.isLocal&&!e.crossDomain){ce=ch.text?200:404}else{if(ce===1223){ce=204}}}}}catch(cf){if(!cd){b5(-1,cf)}}if(ch){b5(ce,cc,ch,cb)}};if(!e.async){b4()}else{if(b9.readyState===4){setTimeout(b4,0)}else{b8=++az;if(aS){if(!am){am={};bL(a7).unload(aS)}am[b8]=b4}b9.onreadystatechange=b4}}},abort:function(){if(b4){b4(0,1)}}}}})}var Q,ag,bT=/^(?:toggle|show|hide)$/,bM=new RegExp("^(?:([-+])=|)("+bC+")([a-z%]*)$","i"),bR=/queueHooks$/,aC=[n],a6={"*":[function(b4,ca){var b7,cb,e,cc=this.createTween(b4,ca),b8=bM.exec(ca),b9=cc.cur(),b5=+b9||0,b6=1;if(b8){b7=+b8[2];cb=b8[3]||(bL.cssNumber[b4]?"":"px");if(cb!=="px"&&b5){b5=bL.css(cc.elem,b4,true)||b7||1;do{e=b6=b6||".5";b5=b5/b6;bL.style(cc.elem,b4,b5+cb);b6=cc.cur()/b9}while(b6!==1&&b6!==e)}cc.unit=cb;cc.start=b5;cc.end=b8[1]?b5+(b8[1]+1)*b7:b7}return cc}]};function bo(){setTimeout(function(){Q=aG},0);return(Q=bL.now())}function bh(b4,e){bL.each(e,function(b9,b7){var b8=(a6[b9]||[]).concat(a6["*"]),b5=0,b6=b8.length;for(;b5<b6;b5++){if(b8[b5].call(b4,b9,b7)){return}}})}function k(b5,b9,cc){var cd,b8=0,e=0,b4=aC.length,cb=bL.Deferred().always(function(){delete b7.elem}),b7=function(){var ci=Q||bo(),cf=Math.max(0,b6.startTime+b6.duration-ci),ch=1-(cf/b6.duration||0),ce=0,cg=b6.tweens.length;for(;ce<cg;ce++){b6.tweens[ce].run(ch)}cb.notifyWith(b5,[b6,ch,cf]);if(ch<1&&cg){return cf}else{cb.resolveWith(b5,[b6]);return false}},b6=cb.promise({elem:b5,props:bL.extend({},b9),opts:bL.extend(true,{specialEasing:{}},cc),originalProperties:b9,originalOptions:cc,startTime:Q||bo(),duration:cc.duration,tweens:[],createTween:function(ch,ce,cg){var cf=bL.Tween(b5,b6.opts,ch,ce,b6.opts.specialEasing[ch]||b6.opts.easing);b6.tweens.push(cf);return cf},stop:function(cf){var ce=0,cg=cf?b6.tweens.length:0;for(;ce<cg;ce++){b6.tweens[ce].run(1)}if(cf){cb.resolveWith(b5,[b6,cf])}else{cb.rejectWith(b5,[b6,cf])}return this}}),ca=b6.props;ap(ca,b6.opts.specialEasing);for(;b8<b4;b8++){cd=aC[b8].call(b6,b5,ca,b6.opts);if(cd){return cd}}bh(b6,ca);if(bL.isFunction(b6.opts.start)){b6.opts.start.call(b5,b6)}bL.fx.timer(bL.extend(b7,{anim:b6,queue:b6.opts.queue,elem:b5}));return b6.progress(b6.opts.progress).done(b6.opts.done,b6.opts.complete).fail(b6.opts.fail).always(b6.opts.always)}function ap(b6,b8){var b5,b4,b9,b7,e;for(b5 in b6){b4=bL.camelCase(b5);b9=b8[b4];b7=b6[b5];if(bL.isArray(b7)){b9=b7[1];b7=b6[b5]=b7[0]}if(b5!==b4){b6[b4]=b7;delete b6[b5]}e=bL.cssHooks[b4];if(e&&"expand" in e){b7=e.expand(b7);delete b6[b4];for(b5 in b7){if(!(b5 in b6)){b6[b5]=b7[b5];b8[b5]=b9}}}else{b8[b4]=b9}}}bL.Animation=bL.extend(k,{tweener:function(b4,b7){if(bL.isFunction(b4)){b7=b4;b4=["*"]}else{b4=b4.split(" ")}var b6,e=0,b5=b4.length;for(;e<b5;e++){b6=b4[e];a6[b6]=a6[b6]||[];a6[b6].unshift(b7)}},prefilter:function(b4,e){if(e){aC.unshift(b4)}else{aC.push(b4)}}});function n(b7,cc,e){var cb,b5,ce,b6,ci,ch,cg,cf,b8=this,b4=b7.style,cd={},ca=[],b9=b7.nodeType&&V(b7);if(!e.queue){cg=bL._queueHooks(b7,"fx");if(cg.unqueued==null){cg.unqueued=0;cf=cg.empty.fire;cg.empty.fire=function(){if(!cg.unqueued){cf()}}}cg.unqueued++;b8.always(function(){b8.always(function(){cg.unqueued--;if(!bL.queue(b7,"fx").length){cg.empty.fire()}})})}if(b7.nodeType===1&&("height" in cc||"width" in cc)){e.overflow=[b4.overflow,b4.overflowX,b4.overflowY];if(bL.css(b7,"display")==="inline"&&bL.css(b7,"float")==="none"){if(!bL.support.inlineBlockNeedsLayout||bH(b7.nodeName)==="inline"){b4.display="inline-block"}else{b4.zoom=1}}}if(e.overflow){b4.overflow="hidden";if(!bL.support.shrinkWrapBlocks){b8.done(function(){b4.overflow=e.overflow[0];b4.overflowX=e.overflow[1];b4.overflowY=e.overflow[2]})}}for(cb in cc){ce=cc[cb];if(bT.exec(ce)){delete cc[cb];if(ce===(b9?"hide":"show")){continue}ca.push(cb)}}b6=ca.length;if(b6){ci=bL._data(b7,"fxshow")||bL._data(b7,"fxshow",{});if(b9){bL(b7).show()}else{b8.done(function(){bL(b7).hide()})}b8.done(function(){var cj;bL.removeData(b7,"fxshow",true);for(cj in cd){bL.style(b7,cj,cd[cj])}});for(cb=0;cb<b6;cb++){b5=ca[cb];ch=b8.createTween(b5,b9?ci[b5]:0);cd[b5]=ci[b5]||bL.style(b7,b5);if(!(b5 in ci)){ci[b5]=ch.start;if(b9){ch.end=ch.start;ch.start=b5==="width"||b5==="height"?1:0}}}}}function M(b5,b4,b7,e,b6){return new M.prototype.init(b5,b4,b7,e,b6)}bL.Tween=M;M.prototype={constructor:M,init:function(b6,b4,b8,e,b7,b5){this.elem=b6;this.prop=b8;this.easing=b7||"swing";this.options=b4;this.start=this.now=this.cur();this.end=e;this.unit=b5||(bL.cssNumber[b8]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(b5){var b4,e=M.propHooks[this.prop];if(this.options.duration){this.pos=b4=bL.easing[this.easing](b5,this.options.duration*b5,0,1,this.options.duration)}else{this.pos=b4=b5}this.now=(this.end-this.start)*b4+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{M.propHooks._default.set(this)}return this}};M.prototype.init.prototype=M.prototype;M.propHooks={_default:{get:function(b4){var e;if(b4.elem[b4.prop]!=null&&(!b4.elem.style||b4.elem.style[b4.prop]==null)){return b4.elem[b4.prop]}e=bL.css(b4.elem,b4.prop,false,"");return !e||e==="auto"?0:e},set:function(e){if(bL.fx.step[e.prop]){bL.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bL.cssProps[e.prop]]!=null||bL.cssHooks[e.prop])){bL.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bL.each(["toggle","show","hide"],function(b4,e){var b5=bL.fn[e];bL.fn[e]=function(b6,b8,b7){return b6==null||typeof b6==="boolean"||(!b4&&bL.isFunction(b6)&&bL.isFunction(b8))?b5.apply(this,arguments):this.animate(bK(e,true),b6,b8,b7)}});bL.fn.extend({fadeTo:function(e,b6,b5,b4){return this.filter(V).css("opacity",0).show().end().animate({opacity:b6},e,b5,b4)},animate:function(b9,b6,b8,b7){var b5=bL.isEmptyObject(b9),e=bL.speed(b6,b8,b7),b4=function(){var ca=k(this,bL.extend({},b9),e);if(b5){ca.stop(true)}};return b5||e.queue===false?this.each(b4):this.queue(e.queue,b4)},stop:function(b5,b4,e){var b6=function(b7){var b8=b7.stop;delete b7.stop;b8(e)};if(typeof b5!=="string"){e=b4;b4=b5;b5=aG}if(b4&&b5!==false){this.queue(b5||"fx",[])}return this.each(function(){var ca=true,b7=b5!=null&&b5+"queueHooks",b9=bL.timers,b8=bL._data(this);if(b7){if(b8[b7]&&b8[b7].stop){b6(b8[b7])}}else{for(b7 in b8){if(b8[b7]&&b8[b7].stop&&bR.test(b7)){b6(b8[b7])}}}for(b7=b9.length;b7--;){if(b9[b7].elem===this&&(b5==null||b9[b7].queue===b5)){b9[b7].anim.stop(e);ca=false;b9.splice(b7,1)}}if(ca||!e){bL.dequeue(this,b5)}})}});function bK(b5,b7){var b6,e={height:b5},b4=0;b7=b7?1:0;for(;b4<4;b4+=2-b7){b6=bV[b4];e["margin"+b6]=e["padding"+b6]=b5}if(b7){e.opacity=e.width=b5}return e}bL.each({slideDown:bK("show"),slideUp:bK("hide"),slideToggle:bK("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b4){bL.fn[e]=function(b5,b7,b6){return this.animate(b4,b5,b7,b6)}});bL.speed=function(b5,b6,b4){var e=b5&&typeof b5==="object"?bL.extend({},b5):{complete:b4||!b4&&b6||bL.isFunction(b5)&&b5,duration:b5,easing:b4&&b6||b6&&!bL.isFunction(b6)&&b6};e.duration=bL.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bL.fx.speeds?bL.fx.speeds[e.duration]:bL.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bL.isFunction(e.old)){e.old.call(this)}if(e.queue){bL.dequeue(this,e.queue)}};return e};bL.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bL.timers=[];bL.fx=M.prototype.init;bL.fx.tick=function(){var b5,b4=bL.timers,e=0;for(;e<b4.length;e++){b5=b4[e];if(!b5()&&b4[e]===b5){b4.splice(e--,1)}}if(!b4.length){bL.fx.stop()}};bL.fx.timer=function(e){if(e()&&bL.timers.push(e)&&!ag){ag=setInterval(bL.fx.tick,bL.fx.interval)}};bL.fx.interval=13;bL.fx.stop=function(){clearInterval(ag);ag=null};bL.fx.speeds={slow:600,fast:200,_default:400};bL.fx.step={};if(bL.expr&&bL.expr.filters){bL.expr.filters.animated=function(e){return bL.grep(bL.timers,function(b4){return e===b4.elem}).length}}var br=/^(?:body|html)$/i;bL.fn.offset=function(cf){if(arguments.length){return cf===aG?this:this.each(function(cg){bL.offset.setOffset(this,cf,cg)})}var b9,b4,ca,cb,b8,cc,e,b7,cd,b6,b5=this[0],ce=b5&&b5.ownerDocument;if(!ce){return}if((ca=ce.body)===b5){return bL.offset.bodyOffset(b5)}b4=ce.documentElement;if(!bL.contains(b4,b5)){return{top:0,left:0}}b9=b5.getBoundingClientRect();cb=bs(ce);b8=b4.clientTop||ca.clientTop||0;cc=b4.clientLeft||ca.clientLeft||0;e=cb.pageYOffset||b4.scrollTop;b7=cb.pageXOffset||b4.scrollLeft;cd=b9.top+e-b8;b6=b9.left+b7-cc;return{top:cd,left:b6}};bL.offset={bodyOffset:function(e){var b5=e.offsetTop,b4=e.offsetLeft;if(bL.support.doesNotIncludeMarginInBodyOffset){b5+=parseFloat(bL.css(e,"marginTop"))||0;b4+=parseFloat(bL.css(e,"marginLeft"))||0}return{top:b5,left:b4}},setOffset:function(b6,cf,b9){var ca=bL.css(b6,"position");if(ca==="static"){b6.style.position="relative"}var b8=bL(b6),b4=b8.offset(),e=bL.css(b6,"top"),cd=bL.css(b6,"left"),ce=(ca==="absolute"||ca==="fixed")&&bL.inArray("auto",[e,cd])>-1,cc={},cb={},b5,b7;if(ce){cb=b8.position();b5=cb.top;b7=cb.left}else{b5=parseFloat(e)||0;b7=parseFloat(cd)||0}if(bL.isFunction(cf)){cf=cf.call(b6,b9,b4)}if(cf.top!=null){cc.top=(cf.top-b4.top)+b5}if(cf.left!=null){cc.left=(cf.left-b4.left)+b7}if("using" in cf){cf.using.call(b6,cc)}else{b8.css(cc)}}};bL.fn.extend({position:function(){if(!this[0]){return}var b5=this[0],b4=this.offsetParent(),b6=this.offset(),e=br.test(b4[0].nodeName)?{top:0,left:0}:b4.offset();b6.top-=parseFloat(bL.css(b5,"marginTop"))||0;b6.left-=parseFloat(bL.css(b5,"marginLeft"))||0;e.top+=parseFloat(bL.css(b4[0],"borderTopWidth"))||0;e.left+=parseFloat(bL.css(b4[0],"borderLeftWidth"))||0;return{top:b6.top-e.top,left:b6.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||t.body;while(e&&(!br.test(e.nodeName)&&bL.css(e,"position")==="static")){e=e.offsetParent}return e||t.body})}});bL.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b5,b4){var e=/Y/.test(b4);bL.fn[b5]=function(b6){return bL.access(this,function(b7,ca,b9){var b8=bs(b7);if(b9===aG){return b8?(b4 in b8)?b8[b4]:b8.document.documentElement[ca]:b7[ca]}if(b8){b8.scrollTo(!e?b9:bL(b8).scrollLeft(),e?b9:bL(b8).scrollTop())}else{b7[ca]=b9}},b5,b6,arguments.length,null)}});function bs(e){return bL.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bL.each({Height:"height",Width:"width"},function(e,b4){bL.each({padding:"inner"+e,content:b4,"":"outer"+e},function(b5,b6){bL.fn[b6]=function(ca,b9){var b8=arguments.length&&(b5||typeof ca!=="boolean"),b7=b5||(ca===true||b9===true?"margin":"border");return bL.access(this,function(cc,cb,cd){var ce;if(bL.isWindow(cc)){return cc.document.documentElement["client"+e]}if(cc.nodeType===9){ce=cc.documentElement;return Math.max(cc.body["scroll"+e],ce["scroll"+e],cc.body["offset"+e],ce["offset"+e],ce["client"+e])}return cd===aG?bL.css(cc,cb,cd,b7):bL.style(cc,cb,cd,b7)},b4,b8?ca:aG,b8,null)}})});a7.jQuery=a7.$=bL;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bL})}return bL})(window)}))})()},{}],1:[function(b,c,a){window.onload=function(){var d=b("./app");window.app=new d(document.getElementById("app"));window.app.start(window.bootstrap)}},{"./app":2}],3:[function(b,c,a){var d=c.exports={};d.nextTick=(function(){var f=typeof window!=="undefined"&&window.setImmediate;var h=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(f){return function(k){return window.setImmediate(k)}}if(h){var e=[];window.addEventListener("message",function(l){if(l.source===window&&l.data==="process-tick"){l.stopPropagation();if(e.length>0){var k=e.shift();k()}}},true);return function g(k){e.push(k);window.postMessage("process-tick","*")}}return function g(k){setTimeout(k,0)}})();d.title="browser";d.browser=true;d.env={};d.argv=[];d.binding=function(e){throw new Error("process.binding is not supported")};d.cwd=function(){return"/"};d.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],4:[function(b,c,a){(function(g){function f(h,m){var l=[];for(var k=0;k<h.length;k++){if(m(h[k],k,h)){l.push(h[k])}}return l}function e(n,k){var h=0;for(var l=n.length;l>=0;l--){var m=n[l];if(m=="."){n.splice(l,1)}else{if(m===".."){n.splice(l,1);h++}else{if(h){n.splice(l,1);h--}}}}if(k){for(;h--;h){n.unshift("..")}}return n}var d=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;a.resolve=function(){var l="",h=false;for(var k=arguments.length;k>=-1&&!h;k--){var m=(k>=0)?arguments[k]:g.cwd();if(typeof m!=="string"||!m){continue}l=m+"/"+l;h=m.charAt(0)==="/"}l=e(f(l.split("/"),function(n){return !!n}),!h).join("/");return((h?"/":"")+l)||"."};a.normalize=function(l){var k=l.charAt(0)==="/",h=l.slice(-1)==="/";l=e(f(l.split("/"),function(m){return !!m}),!k).join("/");if(!l&&!k){l="."}if(l&&h){l+="/"}return(k?"/":"")+l};a.join=function(){var h=Array.prototype.slice.call(arguments,0);return a.normalize(f(h,function(l,k){return l&&typeof l==="string"}).join("/"))};a.dirname=function(l){var k=d.exec(l)[1]||"";var h=false;if(!k){return"."}else{if(k.length===1||(h&&k.length<=3&&k.charAt(1)===":")){return k}else{return k.substring(0,k.length-1)}}};a.basename=function(l,h){var k=d.exec(l)[2]||"";if(h&&k.substr(-1*h.length)===h){k=k.substr(0,k.length-h.length)}return k};a.extname=function(h){return d.exec(h)[3]||""};a.relative=function(p,q){p=a.resolve(p).substr(1);q=a.resolve(q).substr(1);function l(s){var u=0;for(;u<s.length;u++){if(s[u]!==""){break}}var t=s.length-1;for(;t>=0;t--){if(s[t]!==""){break}}if(u>t){return[]}return s.slice(u,t-u+1)}var o=l(p.split("/"));var k=l(q.split("/"));var h=Math.min(o.length,k.length);var r=h;for(var n=0;n<h;n++){if(o[n]!==k[n]){r=n;break}}var m=[];for(var n=r;n<o.length;n++){m.push("..")}m=m.concat(k.slice(r));return m.join("/")}})(b("__browserify_process"))},{__browserify_process:3}],5:[function(b,c,a){(function(){function d(g,f,e){this.init(g,f,e)}d.prototype={init:function(h,g,f){this.targetFrame=h;this.targetDomain=g;this.prefix=f;this.replies={};this.nextTicket=0;this.ready=false;this.queue=[];var e=this;window.addEventListener("message",function(k){e.receive(k)},false)},send:function(g,e,f){var h="ticket_"+this.prefix+"_"+(this.nextTicket++);var k=JSON.stringify({"function":g,args:e,ticket:h});if(f){this.replies[h]=f}this.sendInternal(k)},receive:function(l){if(l.origin.replace(/https?:\/\//,"")!==this.targetDomain.replace(/\/$/,"").replace(/https?:\/\//,"")){return}var g;try{g=JSON.parse(l.data)}catch(h){alert("Syntax error in response from "+l.origin+": "+l.data);return}if(g.event==="ready"){this.ready=true;this.sendQueuedEvents();return}if(!(g.ticket in this.replies)){return}var k=this.replies[g.ticket];delete this.replies[g.ticket];var f=[];if("args" in g){f=g.args}k.apply(undefined,f)},sendInternal:function(e){if(this.ready){this.targetFrame.contentWindow.postMessage(e,this.targetDomain)}else{this.queue.push(e)}},sendQueuedEvents:function(){for(var e=0;e<this.queue.length;e++){this.targetFrame.contentWindow.postMessage(this.queue[e],this.targetDomain)}this.queue.length=0}};c.exports=d}())},{}],6:[function(b,c,a){(function(){var d={};if(undefined||undefined==="staging"){d.baseUrl="http://staging.toolkitt.com"}else{if(undefined==="development"){d.baseUrl="http://localdev.toolkitt.com:4000"}else{d.baseUrl="http://www.toolkitt.com"}}d.videoExts=[".mp4",".m4v",".f4v",".webm",".ogv",".flv",".mov"];d.imageExts=[".gif",".png",".jpeg",".jpg",".bmp"];d.thumbnailDims={width:340,height:192};d.flashMessage=null;d.s3prefix="https://toolkitt.s3.amazonaws.com/";d.thumberUrl="https://toolkitt.s3.amazonaws.com/thumber.html";d.videoPlayerId="media_video";d.imageViewerId="media_image";c.exports=d}())},{}],7:[function(b,c,a){c.exports=function(e){var d={};d.placeholderThumbnail=function(g){var f=e.thumbnailDims.width;var k=e.thumbnailDims.height;if(g){f=Math.round(f/2);k=Math.round(k/2)}return"http://holder.js/"+f+"x"+k+"/text:No Thumbnail"};d.isVideo=function(f){var g="."+f.split(".").pop().toLowerCase();return e.videoExts.indexOf(g)>=0};d.isImage=function(f){var g="."+f.split(".").pop().toLowerCase();return e.imageExts.indexOf(g)>=0};d.ucfirst=function(g){var f=g.charAt(0).toUpperCase();return f+g.substr(1)};d.uuid=function(h){var g="abcdefghijklmnopqrstuvwxyz",h=h||10,k,f=[];for(i=0;i<h;i++){f.push(g.charAt(Math.floor(Math.random()*g.length)))}return f.join("")};d.mime=function(f){if(f==="video/quicktime"){return"video/mp4"}return f};return d}},{}],8:[function(b,c,a){(function(){var d=function(){var e=this;e.getUser().save({id:"logout",token:null},{success:function(){e.navigate("login",{trigger:true})}})};c.exports=d}())},{}],9:[function(b,c,a){(function(){var d=b("jquery-browserify");(b("./lib/elastislide"))(d,window);(b("./lib/switch"))(d,window);(b("./lib/sortable"))(d,window);(b("./lib/tags"))(d,window);c.exports=d}())},{"./lib/elastislide":10,"./lib/sortable":12,"./lib/switch":11,"./lib/tags":13,"jquery-browserify":"Gb3VIQ"}],14:[function(b,c,a){(function(){var e=b("../views/routes/login"),d=function(){var f=new e({app:this});this.show(f)};c.exports=d}())},{"../views/routes/login":15}],16:[function(b,c,a){(function(){var e=b("../views/routes/index"),d=function(){var f=new e({app:this});this.show(f)};c.exports=d}())},{"../views/routes/index":17}],18:[function(b,c,a){(function(){var e=b("../views/routes/review"),d=function(){var f=new e({app:this});this.show(f)};c.exports=d}())},{"../views/routes/review":19}],20:[function(b,c,a){(function(){var e=b("../../views/routes/pages/create"),d=function(){var f=new e({app:this});this.show(f)};c.exports=d}())},{"../../views/routes/pages/create":21}],22:[function(b,c,a){(function(){var e=b("../../views/routes/pages/show"),d=function(f){var g=new e({app:this,pageName:f});this.show(g)};c.exports=d}())},{"../../views/routes/pages/show":23}],24:[function(b,c,a){(function(){var e=b("../../views/routes/media/add"),d=function(f){var g=new e({app:this,pageName:f});this.show(g)};c.exports=d}())},{"../../views/routes/media/add":25}],26:[function(b,c,a){(function(){var e=b("../../views/routes/media/show"),d=function(f,h,k){var g=new e({app:this,mediaType:h,mediaId:k,pageName:f});this.show(g)};c.exports=d}())},{"../../views/routes/media/show":27}],28:[function(b,c,a){(function(){var e=b("../../views/routes/media/edit"),d=function(g,h){var f=new e({app:this,mediaType:g,mediaId:h});this.show(f)};c.exports=d}())},{"../../views/routes/media/edit":29}],30:[function(b,c,a){(function(){var e=b("../../views/routes/pages/edit"),d=function(f){var g=new e({app:this,pageName:f});this.show(g)};c.exports=d}())},{"../../views/routes/pages/edit":31}],12:[function(b,c,a){c.exports=(function(f){var e,d=f();f.fn.sortable=function(g){var h=String(g);g=f.extend({connectWith:false},g);return this.each(function(){if(/^enable|disable|destroy$/.test(h)){var k=f(this).children(f(this).data("items")).attr("draggable",h=="enable");if(h=="destroy"){k.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s")}return}var m,l,k=f(this).children(g.items);var n=f("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');k.find(g.handle).mousedown(function(){m=true}).mouseup(function(){m=false});f(this).data("items",g.items);d=d.add(n);if(g.connectWith){f(g.connectWith).add(this).data("connectWith",g.connectWith)}k.attr("draggable","true").on("dragstart.h5s",function(p){if(g.handle&&!m){return false}m=false;var o=p.originalEvent.dataTransfer;o.effectAllowed="move";o.setData("Text","dummy");l=(e=f(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){e.removeClass("sortable-dragging").show();d.detach();if(l!=e.index()){k.parent().trigger("sortupdate",{item:e})}e=null}).not("a[href], img").on("selectstart.h5s",function(){this.dragDrop&&this.dragDrop();return false}).end().add([this,n]).on("dragover.h5s dragenter.h5s drop.h5s",function(o){if(!k.is(e)&&g.connectWith!==f(e).parent().data("connectWith")){return true}if(o.type=="drop"){o.stopPropagation();d.filter(":visible").after(e);return false}o.preventDefault();o.originalEvent.dataTransfer.dropEffect="move";if(k.is(this)){if(g.forcePlaceholderSize){n.height(e.outerHeight())}e.hide();f(this)[n.index()<f(this).index()?"after":"before"](n);d.not(n).detach()}else{if(!d.is(this)&&!f(this).children(g.items).length){d.detach();f(this).append(n)}}return false})})}})},{}],11:[function(b,c,a){c.exports=function(d){d.fn.bootstrapSwitch=function(f){var e={init:function(){return this.each(function(){var u=d(this),r,k,q,t,m="",l=u.attr("class"),n,g,o="ON",h="OFF",s=false;d.each(["switch-mini","switch-small","switch-large"],function(v,w){if(l.indexOf(w)>=0){m=w}});u.addClass("has-switch");if(u.data("on")!==undefined){n="switch-"+u.data("on")}if(u.data("on-label")!==undefined){o=u.data("on-label")}if(u.data("off-label")!==undefined){h=u.data("off-label")}if(u.data("icon")!==undefined){s=u.data("icon")}k=d("<span>").addClass("switch-left").addClass(m).addClass(n).html(o);n="";if(u.data("off")!==undefined){n="switch-"+u.data("off")}q=d("<span>").addClass("switch-right").addClass(m).addClass(n).html(h);t=d("<label>").html("&nbsp;").addClass(m).attr("for",u.find("input").attr("id"));if(s){t.html('<i class="'+s+'"></i>')}r=u.find(":checkbox").wrap(d("<div>")).parent().data("animated",false);if(u.data("animated")!==false){r.addClass("switch-animate").data("animated",true)}r.append(k).append(t).append(q);u.find(">div").addClass(u.find("input").is(":checked")?"switch-on":"switch-off");if(u.find("input").is(":disabled")){d(this).addClass("deactivate")}var p=function(v){v.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};u.on("keydown",function(v){if(v.keyCode===32){v.stopImmediatePropagation();v.preventDefault();p(d(v.target).find("span:first"))}});k.on("click",function(v){p(d(this))});q.on("click",function(v){p(d(this))});u.find("input").on("change",function(z){var y=d(this),w=y.parent(),v=y.is(":checked"),x=w.is(".switch-off");z.preventDefault();w.css("left","");if(x===v){if(v){w.removeClass("switch-off").addClass("switch-on")}else{w.removeClass("switch-on").addClass("switch-off")}if(w.data("animated")!==false){w.addClass("switch-animate")}w.parent().trigger("switch-change",{el:y,value:v})}});u.find("label").on("mousedown touchstart",function(w){var v=d(this);g=false;w.preventDefault();w.stopImmediatePropagation();v.closest("div").removeClass("switch-animate");if(v.closest(".has-switch").is(".deactivate")){v.unbind("click")}else{v.on("mousemove touchmove",function(C){var x=d(this).closest(".switch"),z=(C.pageX||C.originalEvent.targetTouches[0].pageX)-x.offset().left,A=(z/x.width())*100,B=25,y=75;g=true;if(A<B){A=B}else{if(A>y){A=y}}x.find(">div").css("left",(A-y)+"%")});v.on("click touchend",function(z){var y=d(this),x=d(z.target),A=x.siblings("input");z.stopImmediatePropagation();z.preventDefault();y.unbind("mouseleave");if(g){A.prop("checked",!(parseInt(y.parent().css("left"))<-25))}else{A.prop("checked",!A.is(":checked"))}g=false;A.trigger("change")});v.on("mouseleave",function(y){var x=d(this),z=x.siblings("input");y.preventDefault();y.stopImmediatePropagation();x.unbind("mouseleave");x.trigger("mouseup");z.prop("checked",!(parseInt(x.parent().css("left"))<-25)).trigger("change")});v.on("mouseup",function(x){x.stopImmediatePropagation();x.preventDefault();d(this).unbind("mousemove")})}})})},toggleActivation:function(){d(this).toggleClass("deactivate")},isActive:function(){return !d(this).hasClass("deactivate")},setActive:function(g){if(g){d(this).removeClass("deactivate")}else{d(this).addClass("deactivate")}},toggleState:function(g){var h=d(this).find("input:checkbox");h.prop("checked",!h.is(":checked")).trigger("change",g)},setState:function(h,g){d(this).find("input:checkbox").prop("checked",h).trigger("change",g)},status:function(){return d(this).find("input:checkbox").is(":checked")},destroy:function(){var g=d(this).find("div"),h;g.find(":not(input:checkbox)").remove();h=g.children();h.unwrap().unwrap();h.unbind("change");return h}};if(e[f]){return e[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return e.init.apply(this,arguments)}else{d.error("Method "+f+" does not exist!")}}}}},{}],13:[function(b,c,a){c.exports=(function(f){var d=new Array();var e=new Array();f.fn.doAutosize=function(m){var k=f(this).data("minwidth"),t=f(this).data("maxwidth"),p="",s=f(this),n=f("#"+f(this).data("tester_id"));if(p===(p=s.val())){return}var h=p.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");n.html(h);var r=n.width(),q=(r+m.comfortZone)>=k?r+m.comfortZone:k,l=s.width(),g=(q<l&&q>=k)||(q>k&&q<t);if(g){s.width(q)}};f.fn.resetAutosize=function(k){var m=f(this).data("minwidth")||k.minInputWidth||f(this).width(),n=f(this).data("maxwidth")||k.maxInputWidth||(f(this).closest(".tagsinput").width()-k.inputPadding),o="",h=f(this),l=f("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:h.css("fontSize"),fontFamily:h.css("fontFamily"),fontWeight:h.css("fontWeight"),letterSpacing:h.css("letterSpacing"),whiteSpace:"nowrap"}),g=f(this).attr("id")+"_autosize_tester";if(!f("#"+g).length>0){l.attr("id",g);l.appendTo("body")}h.data("minwidth",m);h.data("maxwidth",n);h.data("tester_id",g);h.css("width",m)};f.fn.addTag=function(h,g){g=jQuery.extend({focus:false,callback:true},g);this.each(function(){var o=f(this).attr("id");var k=f(this).val().split(d[o]);if(k[0]==""){k=new Array()}h=jQuery.trim(h);if(g.unique){var l=f(this).tagExist(h);if(l==true){f("#"+o+"_tag").addClass("not_valid")}}else{var l=false}if(h!=""&&l!=true){f("<span>").addClass("tag").append(f("<span>").text(h).append("&nbsp;&nbsp;"),f('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return f("#"+o).removeTag(escape(h))})).insertBefore("#"+o+"_addTag");k.push(h);f("#"+o+"_tag").val("");if(g.focus){f("#"+o+"_tag").focus()}else{f("#"+o+"_tag").blur()}f.fn.tagsInput.updateTagsField(this,k);if(g.callback&&e[o]&&e[o]["onAddTag"]){var n=e[o]["onAddTag"];n.call(this,h)}if(e[o]&&e[o]["onChange"]){var m=k.length;var n=e[o]["onChange"];n.call(this,f(this),k[m-1])}}});return false};f.fn.removeTag=function(g){g=unescape(g);this.each(function(){var l=f(this).attr("id");var h=f(this).val().split(d[l]);f("#"+l+"_tagsinput .tag").remove();str="";for(i=0;i<h.length;i++){if(h[i]!=g){str=str+d[l]+h[i]}}f.fn.tagsInput.importTags(this,str);if(e[l]&&e[l]["onRemoveTag"]){var k=e[l]["onRemoveTag"];k.call(this,g)}});return false};f.fn.tagExist=function(h){var k=f(this).attr("id");var g=f(this).val().split(d[k]);return(jQuery.inArray(h,g)>=0)};f.fn.importTags=function(g){id=f(this).attr("id");f("#"+id+"_tagsinput .tag").remove();f.fn.tagsInput.importTags(this,g)};f.fn.tagsInput=function(g){var h=jQuery.extend({interactive:true,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:false},hide:true,delimiter:",",unique:true,removeWithBackspace:true,placeholderColor:"#666666",autosize:true,comfortZone:20,inputPadding:6*2},g);this.each(function(){if(h.hide){f(this).hide()}var n=f(this).attr("id");if(!n||d[f(this).attr("id")]){n=f(this).attr("id","tags"+new Date().getTime()).attr("id")}var l=jQuery.extend({pid:n,real_input:"#"+n,holder:"#"+n+"_tagsinput",input_wrapper:"#"+n+"_addTag",fake_input:"#"+n+"_tag"},h);d[n]=l.delimiter;if(h.onAddTag||h.onRemoveTag||h.onChange){e[n]=new Array();e[n]["onAddTag"]=h.onAddTag;e[n]["onRemoveTag"]=h.onRemoveTag;e[n]["onChange"]=h.onChange}var m=f("#"+n).attr("class").replace("tagsinput","");var k='<div id="'+n+'_tagsinput" class="tagsinput '+m+'"><div class="tagsinput-add-container" id="'+n+'_addTag"><div class="tagsinput-add"></div>';if(h.interactive){k=k+'<input id="'+n+'_tag" value="" data-default="'+h.defaultText+'" />'}k=k+"</div></div>";f(k).insertAfter(this);f(l.holder).css("width",h.width);f(l.holder).css("min-height",h.height);f(l.holder).css("height","100%");if(f(l.real_input).val()!=""){f.fn.tagsInput.importTags(f(l.real_input),f(l.real_input).val())}if(h.interactive){f(l.fake_input).val(f(l.fake_input).attr("data-default"));f(l.fake_input).css("color",h.placeholderColor);f(l.fake_input).resetAutosize(h);f(l.holder).bind("click",l,function(o){f(o.data.fake_input).focus()});f(l.fake_input).bind("focus",l,function(o){if(f(o.data.fake_input).val()==f(o.data.fake_input).attr("data-default")){f(o.data.fake_input).val("")}f(o.data.fake_input).css("color","#000000")});if(h.autocomplete_url!=undefined){autocomplete_options={source:h.autocomplete_url};for(attrname in h.autocomplete){autocomplete_options[attrname]=h.autocomplete[attrname]}if(jQuery.Autocompleter!==undefined){f(l.fake_input).autocomplete(h.autocomplete_url,h.autocomplete);f(l.fake_input).bind("result",l,function(o,q,p){if(q){f("#"+n).addTag(q[0]+"",{focus:true,unique:(h.unique)})}})}else{if(jQuery.ui.autocomplete!==undefined){f(l.fake_input).autocomplete(autocomplete_options);f(l.fake_input).bind("autocompleteselect",l,function(o,p){f(o.data.real_input).addTag(p.item.value,{focus:true,unique:(h.unique)});return false})}}}else{f(l.fake_input).bind("blur",l,function(o){var p=f(this).attr("data-default");if(f(o.data.fake_input).val()!=""&&f(o.data.fake_input).val()!=p){if((o.data.minChars<=f(o.data.fake_input).val().length)&&(!o.data.maxChars||(o.data.maxChars>=f(o.data.fake_input).val().length))){f(o.data.real_input).addTag(f(o.data.fake_input).val(),{focus:true,unique:(h.unique)})}}else{f(o.data.fake_input).val(f(o.data.fake_input).attr("data-default"));f(o.data.fake_input).css("color",h.placeholderColor)}return false})}f(l.fake_input).bind("keypress",l,function(o){if(o.which==o.data.delimiter.charCodeAt(0)||o.which==13){o.preventDefault();if((o.data.minChars<=f(o.data.fake_input).val().length)&&(!o.data.maxChars||(o.data.maxChars>=f(o.data.fake_input).val().length))){f(o.data.real_input).addTag(f(o.data.fake_input).val(),{focus:true,unique:(h.unique)})}f(o.data.fake_input).resetAutosize(h);return false}else{if(o.data.autosize){f(o.data.fake_input).doAutosize(h)}}});l.removeWithBackspace&&f(l.fake_input).bind("keydown",function(p){if(p.keyCode==8&&f(this).val()==""){p.preventDefault();var o=f(this).closest(".tagsinput").find(".tag:last").text();var q=f(this).attr("id").replace(/_tag$/,"");o=o.replace(/[\s\u00a0]+x$/,"");f("#"+q).removeTag(escape(o));f(this).trigger("focus")}});f(l.fake_input).blur();if(l.unique){f(l.fake_input).keydown(function(o){if(o.keyCode==8||String.fromCharCode(o.which).match(/\w+|[,/]+/)){f(this).removeClass("not_valid")}})}}});return this};f.fn.tagsInput.updateTagsField=function(h,g){var k=f(h).attr("id");f(h).val(g.join(d[k]))};f.fn.tagsInput.importTags=function(k,l){f(k).val("");var m=f(k).attr("id");var g=l.split(d[m]);for(i=0;i<g.length;i++){f(k).addTag(g[i],{focus:false,callback:false})}if(e[m]&&e[m]["onChange"]){var h=e[m]["onChange"];h.call(k,k,g[i])}}})},{}],2:[function(b,c,a){(function(){var f=b("lodash"),k=b("./helpers/JqueryLoader"),l=b("path"),m=b("./helpers/BackboneLoader.js"),h=b("./helpers/lib/messenger.js"),e=b("./helpers/db"),d={"":b("./routes/index"),login:b("./routes/login"),logout:b("./routes/logout"),createPage:b("./routes/pages/create"),"page/:name":b("./routes/pages/show"),"page/:name/edit":b("./routes/pages/edit"),"page/:name/addMedia":b("./routes/media/add"),review:b("./routes/review"),"page/:name/:type/:id":b("./routes/media/show"),"media/:type/:id/edit":b("./routes/media/edit")},g=m.Router.extend({initialize:function(o,n){f.each(d,function(q,p){this.route(p,f.bind(q,this))},this);o=o||document.body;this.el=o;this.$el=k(o);this.db=new e(this);this.config=f.clone(b("./config/config.js"));this.util=b("./helpers/util.js")(this.config);this.messenger=new h(null,this.config.s3prefix,"thumbnailer");return this},start:function(n){this.bootstrap=n||{};m.history.start();return this},handleAppLink:function(o){o.preventDefault();o.stopPropagation();var n=o.target;while(n.pathname==null){n=n.parentElement}this.navigate(n.pathname,{trigger:true});return this},isLoggedIn:function(){return this.getUser().attributes&&this.getUser().attributes.token},show:function(n){if(this.currentView){this.currentView.close();this.currentView=null}this.currentView=n;n.render();this.$el.append(n.$el);return this},flash:null,setFlash:function(n,o){if(!n){n="info"}this.flash={message:o,type:n};this.trigger("flash");this.listenToOnce(this,"route",function(q,p,r){this.clearFlash()});return this},clearFlash:function(){this.flash=null;this.trigger("flash");return this},error:function(o,s){if(!s){s=o}var n=this,u=s,t="";if(u==null){u="Unknown (Null) Error"}if(typeof u==="object"){t=[];if(u instanceof Array){for(var q=0,r=u.length;q<r;q++){t.push(n.util.ucfirst(u[q].attr)+": "+n.util.ucfirst(u[q].message))}}else{if(u.toString){t=[u.toString()]}else{for(var p in u){t.push(n.util.ucfirst(p)+": "+n.util.ucfirst(u[p]))}}}t=t.join(",")}else{t+=u}this.setFlash("error",t)},getUser:function(){return this.db.fetchModel("user")},getCustomization:function(){if(this.isLoggedIn()){return this.db.createModel("customization").set(this.getUser().attributes.customization)}else{return false}},getUserVars:function(){var n=this.getCustomization();if(!n){return this.bootstrap.userVars}else{return n.attributes.config}}});c.exports=g}())},{"./config/config.js":6,"./helpers/BackboneLoader.js":32,"./helpers/JqueryLoader":9,"./helpers/db":33,"./helpers/lib/messenger.js":5,"./helpers/util.js":7,"./routes/index":16,"./routes/login":14,"./routes/logout":8,"./routes/media/add":24,"./routes/media/edit":28,"./routes/media/show":26,"./routes/pages/create":20,"./routes/pages/edit":30,"./routes/pages/show":22,"./routes/review":18,lodash:34,path:4}],34:[function(b,c,a){(function(d){(function(T){var q;var m=[],v=[];var M=0;var n={};var e=+new Date+"";var f=75;var p=40;var A=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var I=/&(?:amp|lt|gt|quot|#39);/g;var D=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var G=/\w*$/;var r=/<%=([\s\S]+?)%>/g;var o=(o=/\bthis\b/)&&o.test(ae)&&o;var J=(" \t\x0B\f\xA0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000");var ad=RegExp("^["+J+"]*0+(?=.$)");var V=/($^)/;var E=/[&<>"']/g;var aa=/['\n\r\t\u2028\u2029\\]/g;var B=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"];var ag=0;var Z="[object Arguments]",x="[object Array]",F="[object Boolean]",O="[object Date]",N="[object Error]",ai="[object Function]",K="[object Number]",g="[object Object]",P="[object RegExp]",L="[object String]";var y={};y[ai]=false;y[Z]=y[x]=y[F]=y[O]=y[K]=y[g]=y[P]=y[L]=true;var H={"boolean":false,"function":true,object:true,number:false,string:false,"undefined":false};var R={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"};var ab=H[typeof a]&&a;var C=H[typeof c]&&c&&c.exports==ab&&c;var z=H[typeof d]&&d;if(z&&(z.global===z||z.window===z)){T=z}function U(an,am,ak){var aj=(ak||0)-1,al=an.length;while(++aj<al){if(an[aj]===am){return aj}}return -1}function S(aj,am){var al=typeof am;aj=aj.cache;if(al=="boolean"||am==null){return aj[am]}if(al!="number"&&al!="string"){al="object"}var ak=al=="number"?am:e+am;aj=aj[al]||(aj[al]={});return al=="object"?(aj[ak]&&U(aj[ak],am)>-1?0:-1):(aj[ak]?0:-1)}function Q(an){var ak=this.cache,am=typeof an;if(am=="boolean"||an==null){ak[an]=true}else{if(am!="number"&&am!="string"){am="object"}var al=am=="number"?an:e+an,aj=ak[am]||(ak[am]={});if(am=="object"){if((aj[al]||(aj[al]=[])).push(an)==this.array.length){ak[am]=false}}else{aj[al]=true}}}function t(aj){return aj.charCodeAt(0)}function ac(al,ak){var aj=al.index,am=ak.index;al=al.criteria;ak=ak.criteria;if(al!==ak){if(al>ak||typeof al=="undefined"){return 1}if(al<ak||typeof ak=="undefined"){return -1}}return aj<am?-1:1}function af(an){var al=-1,am=an.length;var ak=u();ak["false"]=ak["null"]=ak["true"]=ak["undefined"]=false;var aj=u();aj.array=an;aj.cache=ak;aj.push=Q;while(++al<am){aj.push(an[al])}return ak.object===false?(s(aj),null):aj}function l(aj){return"\\"+R[aj]}function h(){return m.pop()||[]}function u(){return v.pop()||{array:null,cache:null,criteria:null,"false":false,index:0,leading:false,maxWait:0,"null":false,number:null,object:null,push:null,string:null,trailing:false,"true":false,"undefined":false,value:null}}function Y(){}function W(aj){aj.length=0;if(m.length<p){m.push(aj)}}function s(ak){var aj=ak.cache;if(aj){s(aj)}ak.array=ak.cache=ak.criteria=ak.object=ak.number=ak.string=ak.value=null;if(v.length<p){v.push(ak)}}function w(ao,an,ak){an||(an=0);if(typeof ak=="undefined"){ak=ao?ao.length:0}var al=-1,am=ak-an||0,aj=Array(am<0?0:am);while(++al<am){aj[al]=ao[an+al]}return aj}function ae(ak){ak=ak?ah.defaults(T.Object(),ak,ah.pick(T,B)):T;var aH=ak.Array,b5=ak.Boolean,b6=ak.Date,a0=ak.Function,bX=ak.Math,bf=ak.Number,cH=ak.Object,cr=ak.RegExp,cd=ak.String,aI=ak.TypeError;var b1=[];var ct=cH.prototype,aD=cd.prototype;var cC=ak._;var bU=cr("^"+cd(ct.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");var aX=bX.ceil,bO=ak.clearTimeout,bD=b1.concat,cw=bX.floor,by=a0.prototype.toString,av=bU.test(av=cH.getPrototypeOf)&&av,a1=ct.hasOwnProperty,ay=b1.push,aq=ct.propertyIsEnumerable,bS=ak.setImmediate,aY=ak.setTimeout,aB=ct.toString;var bZ=bU.test(bZ=aB.bind)&&bZ,ax=bU.test(ax=cH.create)&&ax,bg=bU.test(bg=aH.isArray)&&bg,aM=ak.isFinite,bA=ak.isNaN,b8=bU.test(b8=cH.keys)&&b8,b9=bX.max,ap=bX.min,cP=ak.parseInt,bH=bX.random,aL=b1.slice;var a2=bU.test(ak.attachEvent),au=bZ&&!/\n|true/.test(bZ+a2);var cu={};cu[x]=aH;cu[F]=b5;cu[O]=b6;cu[ai]=a0;cu[g]=cH;cu[K]=bf;cu[P]=cr;cu[L]=cd;function aV(at){return(at&&typeof at=="object"&&!bz(at)&&a1.call(at,"__wrapped__"))?at:new cx(at)}function cx(at){this.__wrapped__=at}cx.prototype=aV.prototype;var aG=aV.support={};aG.fastBind=bZ&&!au;aV.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:r,variable:"",imports:{_:aV}};function aR(cV,cY,cX,c0){var cZ=az(cV),at=!cX,c1=cY;if(at){var cU=c0;cX=cY}else{if(!cZ){if(!c0){throw new aI}cY=cV}}function cW(){var c4=arguments,c3=at?this:cY;if(!cZ){cV=cY[c1]}if(cX.length){c4=c4.length?(c4=aL.call(c4),cU?c4.concat(cX):cX.concat(c4)):cX}if(this instanceof cW){c3=be(cV.prototype);var c2=cV.apply(c3,c4);return cS(c2)?c2:c3}return cV.apply(c3,c4)}return cW}function be(at){return cS(at)?ax(at):{}}function bm(at){return aU[at]}function bY(cW,cV,cU){var at=(at=aV.indexOf)===cL?U:at;return at}function cR(at){return function(cX,cV,cW,cU){if(typeof cV!="boolean"&&cV!=null){cU=cW;cW=!(cU&&cU[cV]===cX)?cV:q;cV=false}if(cW!=null){cW=aV.createCallback(cW,cU)}return at(cX,cV,cW,cU)}}function aO(cV){var cU,at;if(!(cV&&aB.call(cV)==g)||(cU=cV.constructor,az(cU)&&!(cU instanceof cU))){return false}al(cV,function(cX,cW){at=cW});return at===q||a1.call(cV,at)}function bn(at){return bP[at]}function a6(at){return aB.call(at)==Z}var bz=bg;var bd=function(cV){var cU,cW=cV,at=[];if(!cW){return at}if(!(H[typeof cV])){return at}for(cU in cW){if(a1.call(cW,cU)){at.push(cU)}}return at};var b3=!b8?bd:function(at){if(!cS(at)){return[]}return b8(at)};var aU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var bP=b0(aU);var bq=function(cX,at,c0){var cZ,cW=cX,c5=cW;if(!cW){return c5}var c2=arguments,cU=0,cY=typeof c0=="number"?2:c2.length;if(cY>3&&typeof c2[cY-2]=="function"){var c4=aV.createCallback(c2[--cY-1],c2[cY--],2)}else{if(cY>2&&typeof c2[cY-1]=="function"){c4=c2[--cY]}}while(++cU<cY){cW=c2[cU];if(cW&&H[typeof cW]){var c1=-1,c3=H[typeof cW]&&b3(cW),cV=c3?c3.length:0;while(++c1<cV){cZ=c3[c1];c5[cZ]=c4?c4(c5[cZ],cW[cZ]):cW[cZ]}}}return c5};function cn(c2,c3,c4,c0,cX,cV){var c5=c2;if(typeof c3!="boolean"&&c3!=null){c0=c4;c4=c3;c3=false}if(typeof c4=="function"){c4=(typeof c0=="undefined")?c4:aV.createCallback(c4,c0,1);c5=c4(c5);if(typeof c5!="undefined"){return c5}c5=c2}var cW=cS(c5);if(cW){var cZ=aB.call(c5);if(!y[cZ]){return c5}var cY=bz(c5)}if(!cW||!c3){return cW?(cY?w(c5):bq({},c5)):c5}var c1=cu[cZ];switch(cZ){case F:case O:return new c1(+c5);case K:case L:return new c1(c5);case P:return c1(c5.source,G.exec(c5))}var cU=!cX;cX||(cX=h());cV||(cV=h());var at=cX.length;while(at--){if(cX[at]==c2){return cV[at]}}c5=cY?c1(c5.length):{};if(cY){if(a1.call(c2,"index")){c5.index=c2.index}if(a1.call(c2,"input")){c5.input=c2.input}}cX.push(c2);cV.push(c5);(cY?bx:bK)(c2,function(c6,c7){c5[c7]=cn(c6,c3,c4,q,cX,cV)});if(cU){W(cX);W(cV)}return c5}function cO(cU,cV,at){return cn(cU,true,cV,at)}var br=function(cX,at,c0){var cZ,cW=cX,c4=cW;if(!cW){return c4}var c2=arguments,cU=0,cY=typeof c0=="number"?2:c2.length;while(++cU<cY){cW=c2[cU];if(cW&&H[typeof cW]){var c1=-1,c3=H[typeof cW]&&b3(cW),cV=c3?c3.length:0;while(++c1<cV){cZ=c3[c1];if(typeof c4[cZ]=="undefined"){c4[cZ]=cW[cZ]}}}}return c4};function cg(cV,cW,cU){var at;cW=aV.createCallback(cW,cU);bK(cV,function(cZ,cY,cX){if(cW(cZ,cY,cX)){at=cY;return false}});return at}var al=function(cX,cY,cU){var cV,cW=cX,at=cW;if(!cW){return at}if(!H[typeof cW]){return at}cY=cY&&typeof cU=="undefined"?cY:aV.createCallback(cY,cU);for(cV in cW){if(cY(cW[cV],cV,cX)===false){return at}}return at};var bK=function(cV,c0,cY){var cW,cU=cV,c1=cU;if(!cU){return c1}if(!H[typeof cU]){return c1}c0=c0&&typeof cY=="undefined"?c0:aV.createCallback(c0,cY);var cX=-1,cZ=H[typeof cU]&&b3(cU),at=cZ?cZ.length:0;while(++cX<at){cW=cZ[cX];if(c0(cU[cW],cW,cV)===false){return c1}}return c1};function cs(cU){var at=[];al(cU,function(cW,cV){if(az(cW)){at.push(cV)}});return at.sort()}function cE(at,cU){return at?a1.call(at,cU):false}function b0(cV){var cU=-1,cX=b3(cV),cY=cX.length,at={};while(++cU<cY){var cW=cX[cU];at[cV[cW]]=cW}return at}function bE(at){return at===true||at===false||aB.call(at)==F}function a9(at){return at?(typeof at=="object"&&aB.call(at)==O):false}function bV(at){return at?at.nodeType===1:false}function ce(cW){var at=true;if(!cW){return at}var cU=aB.call(cW),cV=cW.length;if((cU==x||cU==L||cU==Z)||(cU==g&&typeof cV=="number"&&az(cW.splice))){return !cV}bK(cW,function(){return(at=false)});return at}function bW(da,c9,c0,c8,dc,db){var cZ=c0===n;if(typeof c0=="function"&&!cZ){c0=aV.createCallback(c0,c8,2);var c5=c0(da,c9);if(typeof c5!="undefined"){return !!c5}}if(da===c9){return da!==0||(1/da==1/c9)}var cX=typeof da,cV=typeof c9;if(da===da&&(!da||(cX!="function"&&cX!="object"))&&(!c9||(cV!="function"&&cV!="object"))){return false}if(da==null||c9==null){return da===c9}var at=aB.call(da),c3=aB.call(c9);if(at==Z){at=g}if(c3==Z){c3=g}if(at!=c3){return false}switch(at){case F:case O:return +da==+c9;case K:return(da!=+da)?c9!=+c9:(da==0?(1/da==1/c9):da==+c9);case P:case L:return da==cd(c9)}var c1=at==x;if(!c1){if(a1.call(da,"__wrapped__ ")||a1.call(c9,"__wrapped__")){return bW(da.__wrapped__||da,c9.__wrapped__||c9,c0,c8,dc,db)}if(at!=g){return false}var cW=da.constructor,cU=c9.constructor;if(cW!=cU&&!(az(cW)&&cW instanceof cW&&az(cU)&&cU instanceof cU)){return false}}var c4=!dc;dc||(dc=h());db||(db=h());var cY=dc.length;while(cY--){if(dc[cY]==da){return db[cY]==c9}}var c6=0;c5=true;dc.push(da);db.push(c9);if(c1){cY=da.length;c6=c9.length;c5=c6==da.length;if(!c5&&!cZ){return c5}while(c6--){var c2=cY,c7=c9[c6];if(cZ){while(c2--){if((c5=bW(da[c2],c7,c0,c8,dc,db))){break}}}else{if(!(c5=bW(da[c6],c7,c0,c8,dc,db))){break}}}return c5}al(c9,function(df,de,dd){if(a1.call(dd,de)){c6++;return(c5=a1.call(da,de)&&bW(da[de],df,c0,c8,dc,db))}});if(c5&&!cZ){al(da,function(df,de,dd){if(a1.call(dd,de)){return(c5=--c6>-1)}})}if(c4){W(dc);W(db)}return c5}function aN(at){return aM(at)&&!bA(parseFloat(at))}function az(at){return typeof at=="function"}function cS(at){return !!(at&&H[typeof at])}function bM(at){return bp(at)&&at!=+at}function cJ(at){return at===null}function bp(at){return typeof at=="number"||aB.call(at)==K}var aP=function(cV){if(!(cV&&aB.call(cV)==g)){return false}var at=cV.valueOf,cU=typeof at=="function"&&(cU=av(at))&&av(cU);return cU?(cV==cU||av(cV)==cU):aO(cV)};function cz(at){return at?(typeof at=="object"&&aB.call(at)==P):false}function ck(at){return typeof at=="string"||aB.call(at)==L}function bR(at){return typeof at=="undefined"}function bG(cX,at,cY){var c1=arguments,c0=0,cV=2;if(!cS(cX)){return cX}if(cY===n){var c2=c1[3],cZ=c1[4],cW=c1[5]}else{var cU=true;cZ=h();cW=h();if(typeof cY!="number"){cV=c1.length}if(cV>3&&typeof c1[cV-2]=="function"){c2=aV.createCallback(c1[--cV-1],c1[cV--],2)}else{if(cV>2&&typeof c1[cV-1]=="function"){c2=c1[--cV]}}}while(++c0<cV){(bz(c1[c0])?bx:bK)(c1[c0],function(c9,c5){var c8,c6,c4=c9,c7=cX[c5];if(c9&&((c6=bz(c9))||aP(c9))){var da=cZ.length;while(da--){if((c8=cZ[da]==c9)){c7=cW[da];break}}if(!c8){var c3;if(c2){c4=c2(c7,c9);if((c3=typeof c4!="undefined")){c7=c4}}if(!c3){c7=c6?(bz(c7)?c7:[]):(aP(c7)?c7:{})}cZ.push(c9);cW.push(c7);if(!c3){c7=bG(c7,c9,n,c2,cZ,cW)}}}else{if(c2){c4=c2(c7,c9);if(typeof c4=="undefined"){c4=c9}}if(typeof c4!="undefined"){c7=c4}}cX[c5]=c7})}if(cU){W(cZ);W(cW)}return cX}function ch(cV,cZ,cU){var cX=bY(),cY=typeof cZ=="function",at={};if(cY){cZ=aV.createCallback(cZ,cU)}else{var cW=bD.apply(b1,aL.call(arguments,1))}al(cV,function(c2,c1,c0){if(cY?!cZ(c2,c1,c0):cX(cW,c1)<0){at[c1]=c2}});return at}function bw(cV){var cU=-1,cX=b3(cV),cY=cX.length,at=aH(cY);while(++cU<cY){var cW=cX[cU];at[cU]=[cW,cV[cW]]}return at}function bI(cW,c0,cU){var at={};if(typeof c0!="function"){var cV=-1,cY=bD.apply(b1,aL.call(arguments,1)),cZ=cS(cW)?cY.length:0;while(++cV<cZ){var cX=cY[cV];if(cX in cW){at[cX]=cW[cX]}}}else{c0=aV.createCallback(c0,cU);al(cW,function(c3,c2,c1){if(c0(c3,c2,c1)){at[c2]=c3}})}return at}function cD(cV,cZ,cU,at){var cY=bz(cV);cZ=aV.createCallback(cZ,at,4);if(cU==null){if(cY){cU=[]}else{var cX=cV&&cV.constructor,cW=cX&&cX.prototype;cU=be(cW)}}(cY?bx:bK)(cV,function(c2,c1,c0){return cZ(cU,c2,c1,c0)});return cU}function bu(cV){var cU=-1,cW=b3(cV),cX=cW.length,at=aH(cX);while(++cU<cX){at[cU]=cV[cW[cU]]}return at}function cv(cX){var cU=-1,cV=bD.apply(b1,aL.call(arguments,1)),cW=cV.length,at=aH(cW);while(++cU<cW){at[cU]=cX[cV[cU]]}return at}function a5(cZ,cY,cW){var cU=-1,cV=bY(),cX=cZ?cZ.length:0,at=false;cW=(cW<0?b9(0,cX+cW):cW)||0;if(cX&&typeof cX=="number"){at=(ck(cZ)?cZ.indexOf(cY,cW):cV(cZ,cY,cW))>-1}else{bK(cZ,function(c0){if(++cU>=cW){return !(at=c0===cY)}})}return at}function bF(cV,cW,cU){var at={};cW=aV.createCallback(cW,cU);bx(cV,function(cY,cX,cZ){cX=cd(cW(cY,cX,cZ));(a1.call(at,cX)?at[cX]++:at[cX]=1)});return at}function aA(cX,cY,cU){var at=true;cY=aV.createCallback(cY,cU);var cV=-1,cW=cX?cX.length:0;if(typeof cW=="number"){while(++cV<cW){if(!(at=!!cY(cX[cV],cV,cX))){break}}}else{bK(cX,function(c0,cZ,c1){return(at=!!cY(c0,cZ,c1))})}return at}function bL(cY,cZ,cU){var at=[];cZ=aV.createCallback(cZ,cU);var cV=-1,cW=cY?cY.length:0;if(typeof cW=="number"){while(++cV<cW){var cX=cY[cV];if(cZ(cX,cV,cY)){at.push(cX)}}}else{bK(cY,function(c1,c0,c2){if(cZ(c1,c0,c2)){at.push(c1)}})}return at}function bC(cY,cZ,cU){cZ=aV.createCallback(cZ,cU);var cV=-1,cW=cY?cY.length:0;if(typeof cW=="number"){while(++cV<cW){var cX=cY[cV];if(cZ(cX,cV,cY)){return cX}}}else{var at;bK(cY,function(c1,c0,c2){if(cZ(c1,c0,c2)){at=c1;return false}});return at}}function bx(cW,cX,at){var cU=-1,cV=cW?cW.length:0;cX=cX&&typeof at=="undefined"?cX:aV.createCallback(cX,at);if(typeof cV=="number"){while(++cU<cV){if(cX(cW[cU],cU,cW)===false){break}}}else{bK(cW,cX)}return cW}function bo(cV,cW,cU){var at={};cW=aV.createCallback(cW,cU);bx(cV,function(cY,cX,cZ){cX=cd(cW(cY,cX,cZ));(a1.call(at,cX)?at[cX]:at[cX]=[]).push(cY)});return at}function aK(cZ,cU){var cW=aL.call(arguments,2),cV=-1,cY=typeof cU=="function",cX=cZ?cZ.length:0,at=aH(typeof cX=="number"?cX:0);bx(cZ,function(c0){at[++cV]=(cY?cU:c0[cU]).apply(c0,cW)});return at}function bk(cX,cY,cU){var cV=-1,cW=cX?cX.length:0;cY=aV.createCallback(cY,cU);if(typeof cW=="number"){var at=aH(cW);while(++cV<cW){at[cV]=cY(cX[cV],cV,cX)}}else{at=[];bK(cX,function(c0,cZ,c1){at[++cV]=cY(c0,cZ,c1)})}return at}function bi(cZ,c0,cU){var cX=-Infinity,at=cX;if(!c0&&bz(cZ)){var cV=-1,cW=cZ.length;while(++cV<cW){var cY=cZ[cV];if(cY>at){at=cY}}}else{c0=(!c0&&ck(cZ))?t:aV.createCallback(c0,cU);bx(cZ,function(c2,c1,c4){var c3=c0(c2,c1,c4);if(c3>cX){cX=c3;at=c2}})}return at}function cb(cZ,c0,cU){var cX=Infinity,at=cX;if(!c0&&bz(cZ)){var cV=-1,cW=cZ.length;while(++cV<cW){var cY=cZ[cV];if(cY<at){at=cY}}}else{c0=(!c0&&ck(cZ))?t:aV.createCallback(c0,cU);bx(cZ,function(c2,c1,c4){var c3=c0(c2,c1,c4);if(c3<cX){cX=c3;at=c2}})}return at}function cN(cX,cW){var cU=-1,cV=cX?cX.length:0;if(typeof cV=="number"){var at=aH(cV);while(++cU<cV){at[cU]=cX[cU][cW]}}return at||bk(cX,cW)}function cc(cY,cZ,cU,at){if(!cY){return cU}var cW=arguments.length<3;cZ=aV.createCallback(cZ,at,4);var cV=-1,cX=cY.length;if(typeof cX=="number"){if(cW){cU=cY[++cV]}while(++cV<cX){cU=cZ(cU,cY[cV],cV,cY)}}else{bK(cY,function(c1,c0,c2){cU=cW?(cW=false,c1):cZ(cU,c1,c0,c2)})}return cU}function cA(cZ,c0,cU,at){var cY=cZ,cX=cZ?cZ.length:0,cW=arguments.length<3;if(typeof cX!="number"){var cV=b3(cZ);cX=cV.length}c0=aV.createCallback(c0,at,4);bx(cZ,function(c2,c1,c3){c1=cV?cV[--cX]:--cX;cU=cW?(cW=false,cY[c1]):c0(cU,cY[c1],c1,c3)});return cU}function aC(cU,cV,at){cV=aV.createCallback(cV,at);return bL(cU,function(cX,cW,cY){return !cV(cX,cW,cY)})}function bv(cW){var cU=-1,cV=cW?cW.length:0,at=aH(typeof cV=="number"?cV:0);bx(cW,function(cY){var cX=cw(bH()*(++cU+1));at[cU]=at[cX];at[cX]=cY});return at}function a8(cU){var at=cU?cU.length:0;return typeof at=="number"?at:b3(cU).length}function a7(cX,cY,cU){var at;cY=aV.createCallback(cY,cU);var cV=-1,cW=cX?cX.length:0;if(typeof cW=="number"){while(++cV<cW){if((at=cY(cX[cV],cV,cX))){break}}}else{bK(cX,function(c0,cZ,c1){return !(at=cY(c0,cZ,c1))})}return !!at}function ba(cY,cZ,cU){var cW=-1,cX=cY?cY.length:0,at=aH(typeof cX=="number"?cX:0);cZ=aV.createCallback(cZ,cU);bx(cY,function(c2,c1,c3){var c0=at[++cW]=u();c0.criteria=cZ(c2,c1,c3);c0.index=cW;c0.value=c2});cX=at.length;at.sort(ac);while(cX--){var cV=at[cX];at[cX]=cV.value;s(cV)}return at}function aF(at){if(at&&typeof at.length=="number"){return w(at)}return bu(at)}var am=bL;function aQ(cX){var cU=-1,cV=cX?cX.length:0,at=[];while(++cU<cV){var cW=cX[cU];if(cW){at.push(cW)}}return at}function aj(cX){var cW=-1,cY=bY(),cV=cX?cX.length:0,at=bD.apply(b1,aL.call(arguments,1)),c1=[];var cZ=cV>=f&&cY===U;if(cZ){var cU=af(at);if(cU){cY=S;at=cU}else{cZ=false}}while(++cW<cV){var c0=cX[cW];if(cY(at,c0)<0){c1.push(c0)}}if(cZ){s(at)}return c1}function cI(cX,cW,at){var cU=-1,cV=cX?cX.length:0;cW=aV.createCallback(cW,at);while(++cU<cV){if(cW(cX[cU],cU,cX)){return cU}}return -1}function bh(cY,cX,at){if(cY){var cW=0,cV=cY.length;if(typeof cX!="number"&&cX!=null){var cU=-1;cX=aV.createCallback(cX,at);while(++cU<cV&&cX(cY[cU],cU,cY)){cW++}}else{cW=cX;if(cW==null||at){return cY[0]}}return w(cY,0,ap(b9(0,cW),cV))}}var cm=cR(function cm(cZ,cU,cY){var cV=-1,cW=cZ?cZ.length:0,at=[];while(++cV<cW){var cX=cZ[cV];if(cY){cX=cY(cX,cV,cZ)}if(bz(cX)){ay.apply(at,cU?cX:cm(cX))}else{at.push(cX)}}return at});function cL(cX,cW,cU){if(typeof cU=="number"){var cV=cX?cX.length:0;cU=(cU<0?b9(0,cV+cU):cU||0)}else{if(cU){var at=bb(cX,cW);return cX[at]===cW?at:-1}}return cX?U(cX,cW,cU):-1}function cM(cY,cX,at){if(!cY){return[]}var cW=0,cV=cY.length;if(typeof cX!="number"&&cX!=null){var cU=cV;cX=aV.createCallback(cX,at);while(cU--&&cX(cY[cU],cU,cY)){cW++}}else{cW=(cX==null||at)?1:cX||cW}return w(cY,0,ap(b9(0,cV-cW),cV))}function cj(cZ){var c1=arguments,cX=c1.length,cV=-1,c0=h(),cY=-1,c2=bY(),cW=cZ?cZ.length:0,c4=[],cU=h();while(++cV<cX){var c3=c1[cV];c0[cV]=c2===U&&(c3?c3.length:0)>=f&&af(cV?c1[cV]:cU)}outer:while(++cY<cW){var at=c0[0];c3=cZ[cY];if((at?S(at,c3):c2(cU,c3))<0){cV=cX;(at||cU).push(c3);while(--cV){at=c0[cV];if((at?S(at,c3):c2(c1[cV],c3))<0){continue outer}}c4.push(c3)}}while(cX--){at=c0[cX];if(at){s(at)}}W(c0);W(cU);return c4}function bs(cY,cX,at){if(cY){var cW=0,cV=cY.length;if(typeof cX!="number"&&cX!=null){var cU=cV;cX=aV.createCallback(cX,at);while(cU--&&cX(cY[cU],cU,cY)){cW++}}else{cW=cX;if(cW==null||at){return cY[cV-1]}}return w(cY,b9(0,cV-cW))}}function cT(cW,cV,cU){var at=cW?cW.length:0;if(typeof cU=="number"){at=(cU<0?b9(0,at+cU):ap(cU,at-1))+1}while(at--){if(cW[at]===cV){return at}}return -1}function aZ(cY,cU,cX){cY=+cY||0;cX=+cX||1;if(cU==null){cU=cY;cY=0}var cV=-1,cW=b9(0,aX((cU-cY)/cX)),at=aH(cW);while(++cV<cW){at[cV]=cY;cY+=cX}return at}function b2(cY,cX,at){if(typeof cX!="number"&&cX!=null){var cW=0,cU=-1,cV=cY?cY.length:0;cX=aV.createCallback(cX,at);while(++cU<cV&&cX(cY[cU],cU,cY)){cW++}}else{cW=(cX==null||at)?1:b9(0,cX)}return w(cY,cW)}function bb(cZ,cX,cY,cU){var at=0,cW=cZ?cZ.length:at;cY=cY?aV.createCallback(cY,cU,1):bj;cX=cY(cX);while(at<cW){var cV=(at+cW)>>>1;(cY(cZ[cV])<cX)?at=cV+1:cW=cV}return at}function aw(at){if(!bz(at)){arguments[0]=at?aL.call(at):b1}return bN(bD.apply(b1,arguments))}var bN=cR(function(cZ,cW,c3){var cY=-1,c0=bY(),cV=cZ?cZ.length:0,c4=[];var c1=!cW&&cV>=f&&c0===U,cU=(c3||c1)?h():c4;if(c1){var at=af(cU);if(at){c0=S;cU=at}else{c1=false;cU=c3?cU:(W(cU),c4)}}while(++cY<cV){var c2=cZ[cY],cX=c3?c3(c2,cY,cZ):c2;if(cW?!cY||cU[cU.length-1]!==cX:c0(cU,cX)<0){if(c3||c1){cU.push(cX)}c4.push(c2)}}if(c1){W(cU.array);s(cU)}else{if(c3){W(cU)}}return c4});function cK(cW){var cU=-1,cV=cW?bi(cN(cW,"length")):0,at=aH(cV<0?0:cV);while(++cU<cV){at[cU]=cN(cW,cU)}return at}function cG(at){return aj(at,aL.call(arguments,1))}function ar(at){return at?cK(arguments):[]}function co(cY,cU){var cV=-1,cX=cY?cY.length:0,at={};while(++cV<cX){var cW=cY[cV];if(cU){at[cW]=cU[cV]}else{at[cW[0]]=cW[1]}}return at}function aT(cU,at){if(cU<1){return at()}return function(){if(--cU<1){return at.apply(this,arguments)}}}function bT(cU,at){return aG.fastBind||(bZ&&arguments.length>2)?bZ.call.apply(bZ,arguments):aR(cU,at,aL.call(arguments,2))}function bt(cV){var at=arguments.length>1?bD.apply(b1,aL.call(arguments,1)):cs(cV),cU=-1,cX=at.length;while(++cU<cX){var cW=at[cU];cV[cW]=bT(cV[cW],cV)}return cV}function cy(at,cU){return aR(at,cU,aL.call(arguments,2),n)}function cq(){var at=arguments;return function(){var cU=arguments,cV=at.length;while(cV--){cU=[at[cV].apply(this,cU)]}return cU[0]}}function aJ(cW,at,cX){if(cW==null){return bj}var cV=typeof cW;if(cV!="function"){if(cV!="object"){return function(cY){return cY[cW]}}var cU=b3(cW);return function(cZ){var c0=cU.length,cY=false;while(c0--){if(!(cY=bW(cZ[cU[c0]],cW[cU[c0]],n))){break}}return cY}}if(typeof at=="undefined"||(o&&!o.test(by.call(cW)))){return cW}if(cX===1){return function(cY){return cW.call(at,cY)}}if(cX===2){return function(cZ,cY){return cW.call(at,cZ,cY)}}if(cX===4){return function(cY,c0,cZ,c1){return cW.call(at,cY,c0,cZ,c1)}}return function(cZ,cY,c0){return cW.call(at,cZ,cY,c0)}}function cp(cV,c0,c7){var c4,c8,c5,c1=0,c2=0,cX=false,cY=null,c6=null,c3=true;function cZ(){bO(cY);bO(c6);c1=0;cY=c6=null}function cW(){var c9=c3&&(!at||c1>1);cZ();if(c9){if(cX!==false){c2=new b6}c8=cV.apply(c5,c4)}}function cU(){cZ();if(c3||(cX!==c0)){c2=new b6;c8=cV.apply(c5,c4)}}c0=b9(0,c0||0);if(c7===true){var at=true;c3=false}else{if(cS(c7)){at=c7.leading;cX="maxWait" in c7&&b9(c0,c7.maxWait||0);c3="trailing" in c7?c7.trailing:c3}}return function(){c4=arguments;c5=this;c1++;bO(c6);if(cX===false){if(at&&c1<2){c8=cV.apply(c5,c4)}}else{var c9=new b6;if(!cY&&!at){c2=c9}var da=cX-(c9-c2);if(da<=0){bO(cY);cY=null;c2=c9;c8=cV.apply(c5,c4)}else{if(!cY){cY=aY(cU,da)}}}if(c0!==cX){c6=aY(cW,c0)}return c8}}function a3(cU){var at=aL.call(arguments,1);return aY(function(){cU.apply(q,at)},1)}if(au&&C&&typeof bS=="function"){a3=bT(bS,ak)}function bJ(cU,cV){var at=aL.call(arguments,2);return aY(function(){cU.apply(q,at)},cV)}function a4(cU,cV){function at(){var cW=at.cache,cX=e+(cV?cV.apply(this,arguments):arguments[0]);return a1.call(cW,cX)?cW[cX]:(cW[cX]=cU.apply(this,arguments))}at.cache={};return at}function ci(cV){var cU,at;return function(){if(cU){return at}cU=true;at=cV.apply(this,arguments);cV=null;return at}}function cB(at){return aR(at,aL.call(arguments,1))}function cf(at){return aR(at,aL.call(arguments,1),null,n)}function ca(cV,cW,cU){var cY=true,cX=true;if(cU===false){cY=false}else{if(cS(cU)){cY="leading" in cU?cU.leading:cY;cX="trailing" in cU?cU.trailing:cX}}cU=u();cU.leading=cY;cU.maxWait=cW;cU.trailing=cX;var at=cp(cV,cW,cU);s(cU);return at}function bQ(at,cU){return function(){var cV=[at];ay.apply(cV,arguments);return cU.apply(this,cV)}}function bc(at){return at==null?"":cd(at).replace(E,bm)}function bj(at){return at}function aE(at){bx(cs(at),function(cU){var cV=aV[cU]=at[cU];aV.prototype[cU]=function(){var cY=this.__wrapped__,cX=[cY];ay.apply(cX,arguments);var cW=cV.apply(aV,cX);return(cY&&typeof cY=="object"&&cY===cW)?this:new cx(cW)}})}function cF(){ak._=cC;return this}var cQ=cP(J+"08")==8?cP:function(cU,at){return cP(ck(cU)?cU.replace(ad,""):cU,at||0)};function b4(cU,at){if(cU==null&&at==null){at=1}cU=+cU||0;if(at==null){at=cU;cU=0}else{at=+at||0}var cV=bH();return(cU%1||at%1)?cU+ap(cV*(at-cU+parseFloat("1e-"+((cV+"").length-1))),at):cU+cw(cV*(at-cU+1))}function aS(at,cV){var cU=at?at[cV]:q;return az(cU)?at[cV]():cU}function bB(c6,c0,c9){var cX=aV.templateSettings;c6||(c6="");c9=br({},c9,cX);var cV=br({},c9.imports,cX.imports),c1=b3(cV),cW=bu(cV);var c5,c2=0,c4=c9.interpolate||V,cU="__p += '";var c8=cr((c9.escape||V).source+"|"+c4.source+"|"+(c4===r?D:V).source+"|"+(c9.evaluate||V).source+"|$","g");c6.replace(c8,function(da,de,dc,db,dd,df){dc||(dc=db);cU+=c6.slice(c2,df).replace(aa,l);if(de){cU+="' +\n__e("+de+") +\n'"}if(dd){c5=true;cU+="';\n"+dd+";\n__p += '"}if(dc){cU+="' +\n((__t = ("+dc+")) == null ? '' : __t) +\n'"}c2=df+da.length;return da});cU+="';\n";var cY=c9.variable,cZ=cY;if(!cZ){cY="obj";cU="with ("+cY+") {\n"+cU+"\n}\n"}cU=(c5?cU.replace(A,""):cU).replace(X,"$1").replace(k,"$1;");cU="function("+cY+") {\n"+(cZ?"":cY+" || ("+cY+" = {});\n")+"var __t, __p = '', __e = _.escape"+(c5?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+cU+"return __p\n}";var at="\n/*\n//@ sourceURL="+(c9.sourceURL||"/lodash/template/source["+(ag++)+"]")+"\n*/";try{var c7=a0(c1,"return "+cU+at).apply(q,cW)}catch(c3){c3.source=cU;throw c3}if(c0){return c7(c0)}c7.source=cU;return c7}function an(cX,cW,cU){cX=(cX=+cX)>-1?cX:0;var cV=-1,at=aH(cX);cW=aV.createCallback(cW,cU,1);while(++cV<cX){at[cV]=cW(cV)}return at}function ao(at){return at==null?"":cd(at).replace(I,bn)}function b7(at){var cU=++M;return cd(at==null?"":at)+cU}function cl(at,cU){cU(at);return at}function bl(){return cd(this.__wrapped__)}function aW(){return this.__wrapped__}aV.after=aT;aV.assign=bq;aV.at=cv;aV.bind=bT;aV.bindAll=bt;aV.bindKey=cy;aV.compact=aQ;aV.compose=cq;aV.countBy=bF;aV.createCallback=aJ;aV.debounce=cp;aV.defaults=br;aV.defer=a3;aV.delay=bJ;aV.difference=aj;aV.filter=bL;aV.flatten=cm;aV.forEach=bx;aV.forIn=al;aV.forOwn=bK;aV.functions=cs;aV.groupBy=bo;aV.initial=cM;aV.intersection=cj;aV.invert=b0;aV.invoke=aK;aV.keys=b3;aV.map=bk;aV.max=bi;aV.memoize=a4;aV.merge=bG;aV.min=cb;aV.omit=ch;aV.once=ci;aV.pairs=bw;aV.partial=cB;aV.partialRight=cf;aV.pick=bI;aV.pluck=cN;aV.range=aZ;aV.reject=aC;aV.rest=b2;aV.shuffle=bv;aV.sortBy=ba;aV.tap=cl;aV.throttle=ca;aV.times=an;aV.toArray=aF;aV.transform=cD;aV.union=aw;aV.uniq=bN;aV.unzip=cK;aV.values=bu;aV.where=am;aV.without=cG;aV.wrap=bQ;aV.zip=ar;aV.zipObject=co;aV.collect=bk;aV.drop=b2;aV.each=bx;aV.extend=bq;aV.methods=cs;aV.object=co;aV.select=bL;aV.tail=b2;aV.unique=bN;aE(aV);aV.chain=aV;aV.prototype.chain=function(){return this};aV.clone=cn;aV.cloneDeep=cO;aV.contains=a5;aV.escape=bc;aV.every=aA;aV.find=bC;aV.findIndex=cI;aV.findKey=cg;aV.has=cE;aV.identity=bj;aV.indexOf=cL;aV.isArguments=a6;aV.isArray=bz;aV.isBoolean=bE;aV.isDate=a9;aV.isElement=bV;aV.isEmpty=ce;aV.isEqual=bW;aV.isFinite=aN;aV.isFunction=az;aV.isNaN=bM;aV.isNull=cJ;aV.isNumber=bp;aV.isObject=cS;aV.isPlainObject=aP;aV.isRegExp=cz;aV.isString=ck;aV.isUndefined=bR;aV.lastIndexOf=cT;aV.mixin=aE;aV.noConflict=cF;aV.parseInt=cQ;aV.random=b4;aV.reduce=cc;aV.reduceRight=cA;aV.result=aS;aV.runInContext=ae;aV.size=a8;aV.some=a7;aV.sortedIndex=bb;aV.template=bB;aV.unescape=ao;aV.uniqueId=b7;aV.all=aA;aV.any=a7;aV.detect=bC;aV.findWhere=bC;aV.foldl=cc;aV.foldr=cA;aV.include=a5;aV.inject=cc;bK(aV,function(cU,at){if(!aV.prototype[at]){aV.prototype[at]=function(){var cV=[this.__wrapped__];ay.apply(cV,arguments);return cU.apply(aV,cV)}}});aV.first=bh;aV.last=bs;aV.take=bh;aV.head=bh;bK(aV,function(cU,at){if(!aV.prototype[at]){aV.prototype[at]=function(cX,cW){var cV=cU(this.__wrapped__,cX,cW);return cX==null||(cW&&typeof cX!="function")?cV:new cx(cV)}}});aV.VERSION="1.3.1";aV.prototype.toString=bl;aV.prototype.value=aW;aV.prototype.valueOf=aW;bx(["join","pop","shift"],function(at){var cU=b1[at];aV.prototype[at]=function(){return cU.apply(this.__wrapped__,arguments)}});bx(["push","reverse","sort","unshift"],function(at){var cU=b1[at];aV.prototype[at]=function(){cU.apply(this.__wrapped__,arguments);return this}});bx(["concat","slice","splice"],function(at){var cU=b1[at];aV.prototype[at]=function(){return new cx(cU.apply(this.__wrapped__,arguments))}});return aV}var ah=ae();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){T._=ah;define(function(){return ah})}else{if(ab&&!ab.nodeType){if(C){(C.exports=ah)._=ah}else{ab._=ah}}else{T._=ah}}}(this))})(self)},{}],35:[function(b,c,a){(function(){var d=b("./base"),f=b("./customization"),e=d.extend({name:"user",url:function(){return this.app.config.baseUrl+"/users/auth.json"},parse:function(h,g){h=h.user;try{h.customization=(new f({},{app:this.app})).parse({customization:h.customization})}catch(k){h.customization=null}return h},defaults:{username:"",password:"",token:false,policy:"",signature:"",path:"",customization:{},error:null}});c.exports=e}())},{"./base":36,"./customization":37}],38:[function(b,c,a){(function(){var e=b("./media"),d=e.extend({name:"image",urlRoot:function(){return this.app.config.baseUrl+"/images"}});c.exports=d}())},{"./media":39}],40:[function(b,c,a){(function(){var e=b("./media"),d=e.extend({name:"video",urlRoot:function(){return this.app.config.baseUrl+"/videos"}});c.exports=d}())},{"./media":39}],37:[function(b,c,a){(function(){var d=b("./base"),e=d.extend({name:"customization",urlRoot:function(){return this.app.config.baseUrl+"/customizations"},parse:function(g,f){g=g.customization;delete g.customization;try{g.config=JSON.parse(g.config)}catch(h){g.config={error:"Could not parse the JSON"}}return g}});c.exports=e}())},{"./base":36}],10:[function(b,c,a){(function(){c.exports=(function(l,m,h){var d=l.event,e,o;e=d.special.debouncedresize={setup:function(){l(this).on("resize",e.handler)},teardown:function(){l(this).off("resize",e.handler)},handler:function(t,p){var s=this,r=arguments,q=function(){t.type="debouncedresize";d.dispatch.apply(s,r)};if(o){clearTimeout(o)}p?q():o=setTimeout(q,e.threshold)},threshold:150};var f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";l.fn.imagesLoaded=function(w){var t=this,y=l.isFunction(l.Deferred)?l.Deferred():0,x=l.isFunction(y.notify),q=t.find("img").add(t.filter("img")),r=[],v=[],s=[];if(l.isPlainObject(w)){l.each(w,function(z,A){if(z==="callback"){w=A}else{if(y){y[z](A)}}})}function u(){var z=l(v),A=l(s);if(y){if(s.length){y.reject(q,z,A)}else{y.resolve(q)}}if(l.isFunction(w)){w.call(t,q,z,A)}}function p(z,A){if(z.src===f||l.inArray(z,r)!==-1){return}r.push(z);if(A){s.push(z)}else{v.push(z)}l.data(z,"imagesLoaded",{isBroken:A,src:z.src});if(x){y.notifyWith(l(z),[A,q,l(v),l(s)])}if(q.length===r.length){setTimeout(u);q.unbind(".imagesLoaded")}}if(!q.length){u()}else{q.bind("load.imagesLoaded error.imagesLoaded",function(z){p(z.target,z.type==="error")}).each(function(z,B){var C=B.src;var A=l.data(B,"imagesLoaded");if(A&&A.src===C){p(B,A.isBroken);return}if(B.complete&&B.naturalWidth!==h){p(B,B.naturalWidth===0||B.naturalHeight===0);return}if(B.readyState||B.complete){B.src=f;B.src=C}})}return y?y.promise(t):t};var g=l(m),k=m.Modernizr;l.Elastislide=function(p,q){this.$el=l(q);this._init(p)};l.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(r,p,q){return false},onReady:function(){return false},onBeforeSlide:function(){return false},onAfterSlide:function(){return false}};l.Elastislide.prototype={_init:function(q){var s=b("./modernizr");this.options=l.extend(true,{},l.Elastislide.defaults,q);var p=this,r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=r[s.prefixed("transition")];this.support=s.csstransitions&&s.csstransforms;this.current=this.options.start;this.isSliding=false;this.$items=this.$el.children("li");this.itemsCount=this.$items.length;if(this.itemsCount===0){return false}this._validate();this.$items.detach();this.$el.empty();this.$el.append(this.$items);this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>');this.hasTransition=false;this.hasTransitionTimeout=setTimeout(function(){p._addTransition()},100);this.$el.imagesLoaded(function(){p.$el.show();p._layout();p._configure();if(p.hasTransition){p._removeTransition();p._slideToItem(p.current);p.$el.on(p.transEndEventName,function(){p.$el.off(p.transEndEventName);p._setWrapperSize();p._addTransition();p._initEvents()})}else{clearTimeout(p.hasTransitionTimeout);p._setWrapperSize();p._initEvents();p._slideToItem(p.current);setTimeout(function(){p._addTransition()},25)}p.options.onReady()})},_validate:function(){if(this.options.speed<0){this.options.speed=500}if(this.options.minItems<1||this.options.minItems>this.itemsCount){this.options.minItems=1}if(this.options.start<0||this.options.start>this.itemsCount-1){this.options.start=0}if(this.options.orientation!="horizontal"&&this.options.orientation!="vertical"){this.options.orientation="horizontal"}},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>');this.$carousel=this.$el.parent();this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var p=this.$items.find("img:first");this.imgSize={width:p.outerWidth(true),height:p.outerHeight(true)};this._setItemsSize();this.options.orientation==="horizontal"?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height);this._addControls()},_addTransition:function(){if(this.support){this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing)}this.hasTransition=true},_removeTransition:function(){if(this.support){this.$el.css("transition","all 0s")}this.hasTransition=false},_addControls:function(){var p=this;this.$navigation=l('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper);this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(q){p._slide("prev");return false});this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(q){p._slide("next");return false})},_setItemsSize:function(){var p=this.options.orientation==="horizontal"?(Math.floor(this.$carousel.width()/this.options.minItems)*100)/this.$carousel.width():100;this.$items.css({width:p+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height});if(this.options.orientation==="vertical"){this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))}},_setWrapperSize:function(){if(this.options.orientation==="vertical"){this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})}},_configure:function(){this.fitCount=this.options.orientation==="horizontal"?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var p=this;g.on("debouncedresize.elastislide",function(){p._setItemsSize();p._configure();p._slideToItem(p.current)});this.$el.on(this.transEndEventName,function(){p._onEndTransition()});if(this.options.orientation==="horizontal"){this.$el.on({swipeleft:function(){p._slide("next")},swiperight:function(){p._slide("prev")}})}else{this.$el.on({swipeup:function(){p._slide("next")},swipedown:function(){p._slide("prev")}})}this.$el.on("click.elastislide","li",function(r){var q=l(this);p.options.onClick(q,q.index(),r)})},_destroy:function(p){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide");g.off(".elastislide");this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper);this.$items.css({width:"auto","max-width":"none","max-height":"none"});this.$navigation.remove();this.$wrapper.remove();if(p){p.call()}},_toggleControls:function(p,q){if(q){(p==="next")?this.$navNext.show():this.$navPrev.show()}else{(p==="next")?this.$navNext.hide():this.$navPrev.hide()}},_slide:function(q,s){if(this.isSliding){return false}this.options.onBeforeSlide();this.isSliding=true;var y=this,p=this.translation||0,v=this.options.orientation==="horizontal"?this.$items.outerWidth(true):this.$items.outerHeight(true),t=this.itemsCount*v,r=this.options.orientation==="horizontal"?this.$carousel.width():this.$carousel.height();if(s===h){var u=this.fitCount*v;if(u<0){return false}if(q==="next"&&t-(Math.abs(p)+u)<r){u=t-(Math.abs(p)+r);this._toggleControls("next",false);this._toggleControls("prev",true)}else{if(q==="prev"&&Math.abs(p)-u<0){u=Math.abs(p);this._toggleControls("next",true);this._toggleControls("prev",false)}else{var x=q==="next"?Math.abs(p)+Math.abs(u):Math.abs(p)-Math.abs(u);x>0?this._toggleControls("prev",true):this._toggleControls("prev",false);x<t-r?this._toggleControls("next",true):this._toggleControls("next",false)}}s=q==="next"?p-u:p+u}else{var u=Math.abs(s);if(Math.max(t,r)-u<r){s=-(Math.max(t,r)-r)}u>0?this._toggleControls("prev",true):this._toggleControls("prev",false);Math.max(t,r)-r>u?this._toggleControls("next",true):this._toggleControls("next",false)}this.translation=s;if(p===s){this._onEndTransition();return false}if(this.support){this.options.orientation==="horizontal"?this.$el.css("transform","translateX("+s+"px)"):this.$el.css("transform","translateY("+s+"px)")}else{l.fn.applyStyle=this.hasTransition?l.fn.animate:l.fn.css;var w=this.options.orientation==="horizontal"?{left:s}:{top:s};this.$el.stop().applyStyle(w,l.extend(true,[],{duration:this.options.speed,complete:function(){y._onEndTransition()}}))}if(!this.hasTransition){this._onEndTransition()}},_onEndTransition:function(){this.isSliding=false;this.options.onAfterSlide()},_slideTo:function(t){var t=t||this.current,s=Math.abs(this.translation)||0,r=this.options.orientation==="horizontal"?this.$items.outerWidth(true):this.$items.outerHeight(true),q=s+this.$carousel.width(),p=Math.abs(t*r);if(p+r>q||p<s){this._slideToItem(t)}},_slideToItem:function(q){var p=this.options.orientation==="horizontal"?q*this.$items.outerWidth(true):q*this.$items.outerHeight(true);this._slide("",-p)},add:function(s){var p=this,r=this.current,q=this.$items.eq(this.current);this.$items=this.$el.children("li");this.itemsCount=this.$items.length;this.current=q.index();this._setItemsSize();this._configure();this._removeTransition();r<this.current?this._slideToItem(this.current):this._slide("next",this.translation);setTimeout(function(){p._addTransition()},25);if(s){s.call()}},setCurrent:function(p,q){this.current=p;this._slideTo();if(q){q.call()}},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(p){this._destroy(p)}};var n=function(p){if(m.console){m.console.error(p)}};l.fn.elastislide=function(r){var p=l.data(this,"elastislide");if(typeof r==="string"){var q=Array.prototype.slice.call(arguments,1);this.each(function(){if(!p){n("cannot call methods on elastislide prior to initialization; attempted to call method '"+r+"'");return}if(!l.isFunction(p[r])||r.charAt(0)==="_"){n("no such method '"+r+"' for elastislide self");return}p[r].apply(p,q)})}else{this.each(function(){if(p){p._init()}else{p=l.data(this,"elastislide",new l.Elastislide(r,this))}})}return p}})})()},{"./modernizr":41}],17:[function(b,c,a){(function(){var g=b("../base"),d=b("../layout/navbar.js"),e=b("../layout/footer.js"),f=g.extend({template:b("../../templates/routes/index.hbs"),initialize:function(h){this.app=h.app;this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var h=new d({app:this.app}),k=new e({app:this.app});h.remove();k.remove();this.appendSubview(h,this.$("#header"));this.appendSubview(k,this.$("#footer"));this.eachSubview(function(l){l.render()})},context:function(){return this.getContext()}});c.exports=f}())},{"../../templates/routes/index.hbs":44,"../base":45,"../layout/footer.js":43,"../layout/navbar.js":42}],15:[function(b,c,a){(function(){var g=b("../base"),d=b("../layout/navbar.js"),e=b("../layout/footer.js"),f=g.extend({template:b("../../templates/routes/login.hbs"),initialize:function(h){this.app=h.app;this.user=this.app.getUser();this.listenTo(this.user,"change",this.render,this);this.listenTo(this.user,"change",function(){if(this.app.bootstrap.userId&&this.user.attributes.token&&this.user.id!==this.app.bootstrap.userId){this.app.setFlash("error","Sorry, you can't log in here!");this.app.getUser().set({id:null,username:null,password:null,token:false,policy:null,signature:null,path:null,customization:{}})}},this);this.renderOnReady(this.user)},afterRender:function(){var h=new d({app:this.app}),k=new e({app:this.app});this.appendSubview(h,this.$("#header"));this.appendSubview(k,this.$("#footer"));this.eachSubview(function(l){l.render()})},context:function(){return this.getContext({user:this.user.attributes})},events:{submit:"login","click a.app":"handleAppLink","click a.provisionTestAccount":"provisionTestAccount"},login:function(k){k.preventDefault();k.stopPropagation();var l=this.$("input[name=username]").val();var h=this.$("input[name=password]").val();this.user.set({username:l,password:h}).save()},provisionTestAccount:function(h){h.preventDefault();h.stopPropagation();this.user.set({id:"test"}).save()}});c.exports=f}())},{"../../templates/routes/login.hbs":46,"../base":45,"../layout/footer.js":43,"../layout/navbar.js":42}],19:[function(b,c,a){(function(){var g=b("../base"),d=b("../layout/navbar.js"),e=b("../layout/footer.js"),f=g.extend({template:b("../../templates/routes/review.hbs"),initialize:function(h){this.app=h.app;this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.unprocessed,"add change remove sort",this.render,this)},afterRender:function(){var h=new d({app:this.app}),k=new e({app:this.app});h.remove();k.remove();this.appendSubview(h,this.$("#header"));this.appendSubview(k,this.$("#footer"));this.eachSubview(function(l){l.render()})},context:function(){var h=[];this.unprocessed.forEach(function(l){var k=l.attributes;k.editHref="/media/"+k.type+"/"+l.id+"/edit";h.push(k)});return this.getContext({unprocessed:h,nothingToReview:h.length===0})}});c.exports=f}())},{"../../templates/routes/review.hbs":47,"../base":45,"../layout/footer.js":43,"../layout/navbar.js":42}],21:[function(b,c,a){(function(){var g=b("../../base"),d=b("../../layout/navbar.js"),e=b("../../layout/footer.js"),f=g.extend({template:b("../../../templates/routes/pages/create.hbs"),events:{submit:"performSave","click a.app":"handleAppLink"},initialize:function(h){this.app=h.app;this.model=this.app.db.createModel("page");this.listenTo(this.model,"invalid",function(k,l){this.app.error(this.model,l)},this)},afterRender:function(){var k;var h=new d({app:this.app}),l=new e({app:this.app});this.appendSubview(h,this.$("#header"));this.appendSubview(l,this.$("#footer"));this.eachSubview(function(m){m.render()});k=this.$("input[name=name]");if(k.val().replace(/]w/,"")==""){k.val("").focus()}},context:function(){return this.getContext()},performSave:function(l){var h=this;l.preventDefault();var k=this.$("input[name=name]").val();h.model.save({userId:h.app.getUser().id,name:k},{success:function(){h.app.db.fetchCollection("pages").add(h.model);h.app.navigate("page/"+k,{trigger:true})},error:h.app.error})}});c.exports=f}())},{"../../../templates/routes/pages/create.hbs":48,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42}],23:[function(b,c,a){(function(){var g=b("../../base"),d=b("../../layout/navbar.js"),e=b("../../layout/footer.js"),h=b("../../routes/media/grid.js"),f=g.extend({template:b("../../../templates/routes/pages/show.hbs"),initialize:function(l){this.app=l.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});this.pageName=l.pageName;var k=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);k.once("ready",function(){var m=k.find(function(n){return n.attributes.name.toLowerCase()===l.pageName.toLowerCase()});if(m){this.page.set(m.attributes)}else{this.page.set({name:"404"});this.app.error("Error 404: The page could not be found")}},this)},afterRender:function(){var l=new d({app:this.app}),k=new h({app:this.app,pageName:this.pageName}),m=new e({app:this.app});this.appendSubview(l,this.$("#header"));this.appendSubview(k,this.$("#content"));this.appendSubview(m,this.$("#footer"));this.eachSubview(function(n){n.render()})},context:function(){return this.getContext()}});c.exports=f}())},{"../../../templates/routes/pages/show.hbs":50,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42,"../../routes/media/grid.js":49}],25:[function(b,c,a){(function(){var g=b("../../base"),d=b("../../layout/navbar.js"),e=b("../../layout/footer.js"),f=g.extend({template:b("../../../templates/routes/media/add.hbs"),events:{"click a.filepicker":"startFilepicker","click a.app":"handleAppLink"},initialize:function(k){this.app=k.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var h=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);h.once("ready",function(){var l=h.find(function(m){return m.attributes.name.toLowerCase()===k.pageName.toLowerCase()});if(l){this.page.set(l.attributes)}else{this.page.set({name:"404"});this.app.error("Error 404: The page could not be found")}},this)},afterRender:function(){var k;var h=new d({app:this.app}),l=new e({app:this.app});this.appendSubview(h,this.$("#header"));this.appendSubview(l,this.$("#footer"));this.eachSubview(function(m){m.render()})},context:function(){return this.getContext({page:this.page.attributes})},startFilepicker:function(l,h){var k=this;if(l){l.preventDefault();l.stopPropagation()}if(!this.page.id){k.app.error("The page hasn't loaded yet, try again in a few seconds");return}this.page.addMedia(function(n,m){if(n&&n.code!==101){k.app.error(n)}else{if(m){k.app.setFlash("success",m.length+" files uploaded!")}}},h)}});c.exports=f}())},{"../../../templates/routes/media/add.hbs":51,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42}],31:[function(b,c,a){(function(){var h=b("../../base"),g=b("../../../helpers/lib/holder.js"),e=b("../../layout/navbar.js"),f=b("../../layout/footer.js"),d=h.extend({template:b("../../../templates/routes/pages/edit.hbs"),events:{submit:"performSave"},initialize:function(l){this.app=l.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var k=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);k.once("ready",function(){var m=k.find(function(n){return n.attributes.name.toLowerCase()===l.pageName.toLowerCase()});if(m){this.page.set(m.attributes)}else{this.page.set({name:"404"});this.app.error("Error 404: The page could not be found")}this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)},this)},context:function(){var k=[];var l=encodeURIComponent(this.page.attributes.name);if(this.media){this.media.forEach(function(m){k.push(m.templateVars(l))})}return this.getContext({media:k,page:this.page.attributes})},afterRender:function(){var k=this,l=new e({app:k.app}),m=new f({app:k.app});k.appendSubview(l,k.$("#header"));k.appendSubview(m,k.$("#footer"));k.eachSubview(function(n){n.render()});k.$(".sortable").sortable().bind("sortupdate",function(){k.readSortOrder.apply(k,arguments)});k.$(".switch").bootstrapSwitch();g.run()},performSave:function(n){var l=this;n.preventDefault();var m=this.$("input[name=name]").val(),k=this.$("input[name=isPublished]").parent().hasClass("switch-on");this.page.save({userId:l.app.getUser().attributes.id,name:m,isPublished:k},{success:function(){l.app.db.fetchCollection("pages").fetch();l.app.setFlash("success","Page Saved!")},error:l.app.error})},performDelete:function(m){m.preventDefault();m.stopPropagation();var k=this;var l=confirm("Are you sure you want to delete "+k.page.attributes.name+"?");if(l){k.page.destroy({success:function(){k.app.navigate("",{trigger:true})},error:k.app.error})}else{return false}},readSortOrder:function(m){m.preventDefault();m.stopPropagation();var l=this;var k=l.$(".sortable").children();var o=[];var n=[];k.each(function(p,q){var r=l.page.getMedia().get($(q).attr("data-uuid"));o.push(r);n.push({ID:r.attributes.id,NAME:r.attributes.name,TYPE:r.attributes.type,THUMB:r.attributes.thumbnailS3key})});l.page.getMedia().reset(o);l.page.set("items",n);l.page.save({},{success:function(){l.app.setFlash("success","Page Saved!")},error:l.app.error})}});c.exports=d}())},{"../../../helpers/lib/holder.js":52,"../../../templates/routes/pages/edit.hbs":53,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42}],41:[function(b,c,a){(function(){var d=(function(t,z,o){var k="2.6.2",r={},w=true,J=z.documentElement,K="modernizr",H=z.createElement(K),u=H.style,l,C={}.toString,E=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms",M=h.split(" "),v=h.toLowerCase().split(" "),p={},g={},A={},G=[],B=G.slice,f,F=function(W,Y,Q,X){var P,V,S,T,O=z.createElement("div"),U=z.body,R=U||z.createElement("body");if(parseInt(Q,10)){while(Q--){S=z.createElement("div");S.id=X?X[Q]:K+(Q+1);O.appendChild(S)}}P=["&#173;",'<style id="s',K,'">',W,"</style>"].join("");O.id=K;(U?O:R).innerHTML+=P;R.appendChild(O);if(!U){R.style.background="";R.style.overflow="hidden";T=J.style.overflow;J.style.overflow="hidden";J.appendChild(R)}V=Y(O,W);if(!U){R.parentNode.removeChild(R);J.style.overflow=T}else{O.parentNode.removeChild(O)}return !!V},y=({}).hasOwnProperty,I;if(!q(y,"undefined")&&!q(y.call,"undefined")){I=function(O,P){return y.call(O,P)}}else{I=function(O,P){return((P in O)&&q(O.constructor.prototype[P],"undefined"))}}if(!Function.prototype.bind){Function.prototype.bind=function N(Q){var R=this;if(typeof R!="function"){throw new TypeError()}var O=B.call(arguments,1),P=function(){if(this instanceof P){var U=function(){};U.prototype=R.prototype;var T=new U();var S=R.apply(T,O.concat(B.call(arguments)));if(Object(S)===S){return S}return T}else{return R.apply(Q,O.concat(B.call(arguments)))}};return P}}function x(O){u.cssText=O}function n(P,O){return x(E.join(P+";")+(O||""))}function q(P,O){return typeof P===O}function s(P,O){return !!~(""+P).indexOf(O)}function L(Q,O){for(var P in Q){var R=Q[P];if(!s(R,"-")&&u[R]!==o){return O=="pfx"?R:true}}return false}function D(P,S,R){for(var O in P){var Q=S[P[O]];if(Q!==o){if(R===false){return P[O]}if(q(Q,"function")){return Q.bind(R||S)}return Q}}return false}function e(S,O,R){var P=S.charAt(0).toUpperCase()+S.slice(1),Q=(S+" "+M.join(P+" ")+P).split(" ");if(q(O,"string")||q(O,"undefined")){return L(Q,O)}else{Q=(S+" "+(v).join(P+" ")+P).split(" ");return D(Q,O,R)}}p.touch=function(){var O;if(("ontouchstart" in t)||t.DocumentTouch&&z instanceof DocumentTouch){O=true}else{F(["@media (",E.join("touch-enabled),("),K,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(P){O=P.offsetTop===9})}return O};p.csstransforms=function(){return !!e("transform")};p.csstransitions=function(){return e("transition")};for(var m in p){if(I(p,m)){f=m.toLowerCase();r[f]=p[m]();G.push((r[f]?"":"no-")+f)}}r.addTest=function(P,Q){if(typeof P=="object"){for(var O in P){if(I(P,O)){r.addTest(O,P[O])}}}else{P=P.toLowerCase();if(r[P]!==o){return r}Q=typeof Q=="function"?Q():Q;if(typeof w!=="undefined"&&w){J.className+=" "+(Q?"":"no-")+P}r[P]=Q}return r};x("");H=l=null;(function(X,Z){var R=X.html5||{};var U=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var P=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var ad;var V="_html5shiv";var O=0;var ab={};var S;(function(){try{var ag=Z.createElement("a");ag.innerHTML="<xyz></xyz>";ad=("hidden" in ag);S=ag.childNodes.length==1||(function(){(Z.createElement)("a");var ai=Z.createDocumentFragment();return(typeof ai.cloneNode=="undefined"||typeof ai.createDocumentFragment=="undefined"||typeof ai.createElement=="undefined")}())}catch(ah){ad=true;S=true}}());function T(ag,ai){var aj=ag.createElement("p"),ah=ag.getElementsByTagName("head")[0]||ag.documentElement;aj.innerHTML="x<style>"+ai+"</style>";return ah.insertBefore(aj.lastChild,ah.firstChild)}function Y(){var ag=W.elements;return typeof ag=="string"?ag.split(" "):ag}function ac(ag){var ah=ab[ag[V]];if(!ah){ah={};O++;ag[V]=O;ab[O]=ah}return ah}function aa(aj,ag,ai){if(!ag){ag=Z}if(S){return ag.createElement(aj)}if(!ai){ai=ac(ag)}var ah;if(ai.cache[aj]){ah=ai.cache[aj].cloneNode()}else{if(P.test(aj)){ah=(ai.cache[aj]=ai.createElem(aj)).cloneNode()}else{ah=ai.createElem(aj)}}return ah.canHaveChildren&&!U.test(aj)?ai.frag.appendChild(ah):ah}function ae(ai,ak){if(!ai){ai=Z}if(S){return ai.createDocumentFragment()}ak=ak||ac(ai);var al=ak.frag.cloneNode(),aj=0,ah=Y(),ag=ah.length;for(;aj<ag;aj++){al.createElement(ah[aj])}return al}function af(ag,ah){if(!ah.cache){ah.cache={};ah.createElem=ag.createElement;ah.createFrag=ag.createDocumentFragment;ah.frag=ah.createFrag()}ag.createElement=function(ai){if(!W.shivMethods){return ah.createElem(ai)}return aa(ai,ag,ah)};ag.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+Y().join().replace(/\w+/g,function(ai){ah.createElem(ai);ah.frag.createElement(ai);return'c("'+ai+'")'})+");return n}")(W,ah.frag)}function Q(ag){if(!ag){ag=Z}var ah=ac(ag);if(W.shivCSS&&!ad&&!ah.hasCSS){ah.hasCSS=!!T(ag,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")}if(!S){af(ag,ah)}return ag}var W={elements:R.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:(R.shivCSS!==false),supportsUnknownElements:S,shivMethods:(R.shivMethods!==false),type:"default",shivDocument:Q,createElement:aa,createDocumentFragment:ae};X.html5=W;Q(Z)}(this,z));r._version=k;r._prefixes=E;r._domPrefixes=v;r._cssomPrefixes=M;r.testProp=function(O){return L([O])};r.testAllProps=e;r.testStyles=F;r.prefixed=function(Q,P,O){if(!P){return e(Q,"pfx")}else{return e(Q,P,O)}};J.className=J.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(w?" js "+G.join(" "):"");return r})(this,this.document);(function(ad,ac,ab){function aa(e){return"[object Function]"==P.call(e)}function Z(e){return"string"==typeof e}function Y(){}function X(e){return !e||"loaded"==e||"complete"==e||"uninitialized"==e}function W(){var e=O.shift();M=1,e?e.t?R(function(){("c"==e.t?L.injectCss:L.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),W()):M=0}function V(x,w,v,t,s,q,p){function n(e){if(!h&&X(m.readyState)&&(y.r=h=1,!M&&W(),m.onload=m.onreadystatechange=null,e)){"img"!=x&&R(function(){I.removeChild(m)},50);for(var f in D[w]){D[w].hasOwnProperty(f)&&D[w][f].onload()}}}var p=p||L.errorTimeout,m=ac.createElement(x),h=0,g=0,y={t:v,s:w,e:s,a:q,x:p};1===D[w]&&(g=1,D[w]=[]),"object"==x?m.data=w:(m.src=w,m.type=x),m.width=m.height="0",m.onerror=m.onload=m.onreadystatechange=function(){n.call(this,g)},O.splice(t,0,y),"img"!=x&&(g||2===D[w]?(I.insertBefore(m,J?null:Q),R(n,p)):D[w].push(m))}function U(g,e,l,k,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,l,k,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var e=L;return e.loader={load:U,i:0},e}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(e){return"[object Array]"==P.call(e)},E=[],D={},C={timeout:function(f,e){return e.length&&(f.timeout=e[0]),f}},N,L;L=function(k){function e(l){var l=l.split("!"),h=E.length,u=l.pop(),t=l.length,u={url:u,origUrl:u,prefixes:l},s,r,q;for(r=0;r<t;r++){q=l[r].split("="),(s=C[q.shift()])&&(u=s(u,q))}for(r=0;r<h;r++){u=E[r](u)}return u}function p(l,v,u,t,s){var r=e(l),q=r.autoCallback;r.url.split(".").pop().split("?").shift(),r.bypass||(v&&(v=aa(v)?v:v[l]||v[t]||v[l.split("/").pop().split("?")[0]]),r.instead?r.instead(l,v,u,t,s):(D[r.url]?r.noexec=!0:D[r.url]=1,u.load(r.url,r.forceCSS||!r.forceJS&&"css"==r.url.split(".").pop().split("?").shift()?"c":ab,r.noexec,r.attrs,r.timeout),(aa(v)||aa(q))&&u.load(function(){T(),v&&v(r.origUrl,s,t),q&&q(r.origUrl,s,t),D[r.url]=2})))}function o(y,x){function w(h,l){if(h){if(Z(h)){l||(t=function(){var z=[].slice.call(arguments);s.apply(this,z),r()}),p(h,t,x,0,v)}else{if(Object(h)===h){for(g in q=function(){var z=0,A;for(A in h){h.hasOwnProperty(A)&&z++}return z}(),h){h.hasOwnProperty(g)&&(!l&&!--q&&(aa(t)?t=function(){var z=[].slice.call(arguments);s.apply(this,z),r()}:t[g]=function(z){return function(){var A=[].slice.call(arguments);z&&z.apply(this,A),r()}}(s[g])),p(h[g],t,x,g,v))}}}}else{!l&&r()}}var v=!!y.test,u=y.load||y.both,t=y.callback||Y,s=t,r=y.complete||Y,q,g;w(v?y.yep:y.nope,!!u),u&&w(u)}var n,m,f=this.yepnope.loader;if(Z(k)){p(k,0,f,0)}else{if(F(k)){for(n=0;n<k.length;n++){m=k[n],Z(m)?p(m,0,f,0):F(m)?L(m):Object(m)===m&&o(m,f)}}else{Object(k)===k&&o(k,f)}}},L.addPrefix=function(f,e){C[f]=e},L.addFilter=function(e){E.push(e)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(s,r,q,p,n,m){var h=ac.createElement("script"),g,f,p=p||L.errorTimeout;h.src=s;for(f in q){h.setAttribute(f,q[f])}r=m?W:r||Y,h.onreadystatechange=h.onload=function(){!g&&X(h.readyState)&&(g=1,r(),h.onload=h.onreadystatechange=null)},R(function(){g||(g=1,r(1))},p),n?h.onload():Q.parentNode.insertBefore(h,Q)},ad.yepnope.injectCss=function(f,o,n,m,l,k){var m=ac.createElement("link"),h,o=k?W:o||Y;m.href=f,m.rel="stylesheet",m.type="text/css";for(h in n){m.setAttribute(h,n[h])}l||(Q.parentNode.insertBefore(m,Q),R(o,0))}})(this,document);d.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};c.exports=d}())},{}],52:[function(b,c,a){(function(){var d=d||{};(function(l,f){var w=false,q=false,e=document.createElement("canvas");document.getElementsByClassName||(document.getElementsByClassName=function(C){var z=document,D,B,y,A=[];if(z.querySelectorAll){return z.querySelectorAll("."+C)}if(z.evaluate){B=".//*[contains(concat(' ', @class, ' '), ' "+C+" ')]",D=z.evaluate(B,z,null,0,null);while(y=D.iterateNext()){A.push(y)}}else{D=z.getElementsByTagName("*"),B=new RegExp("(^|\\s)"+C+"(\\s|$)");for(y=0;y<D.length;y++){B.test(D[y].className)&&A.push(D[y])}}return A});window.getComputedStyle||(window.getComputedStyle=function(z,y){return this.el=z,this.getPropertyValue=function(A){var B=/(\-([a-z]){1})/g;return A=="float"&&(A="styleFloat"),B.test(A)&&(A=A.replace(B,function(){return arguments[2].toUpperCase()})),z.currentStyle[A]?z.currentStyle[A]:null},this});function v(B,M){var C="complete",N="readystatechange",L=!1,E=L,H=!0,D=B.document,J=D.documentElement,G=D.addEventListener?"addEventListener":"attachEvent",K=D.addEventListener?"removeEventListener":"detachEvent",F=D.addEventListener?"":"on",z=function(y){(y.type!=N||D.readyState==C)&&((y.type=="load"?B:D)[K](F+y.type,z,L),!E&&(E=!0)&&M.call(B,null))},A=function(){try{J.doScroll("left")}catch(y){setTimeout(A,50);return}z("poll")};if(D.readyState==C){M.call(B,"lazy")}else{if(D.createEventObject&&J.doScroll){try{H=!B.frameElement}catch(I){}H&&A()}D[G](F+"DOMContentLoaded",z,L),D[G](F+N,z,L),B[G](F+"load",z,L)}}function r(z){z=z.match(/^(\W)?(.*)/);var y=document["getElement"+(z[1]?z[1]=="#"?"ById":"sByClassName":"sByTagName")](z[2]);var A=[];y!=null&&(y.length?A=y:y.length==0?A=y:A=[y]);return A}function t(z,y){var C={};for(var B in z){C[B]=z[B]}for(var A in y){C[A]=y[A]}return C}if(!Object.prototype.hasOwnProperty){Object.prototype.hasOwnProperty=function(z){var y=this.__proto__||this.constructor.prototype;return(z in this)&&(!(z in y)||y[z]!==this[z])}}function o(C,z,B){var A=[z,C].sort();var E=Math.round(A[1]/16),y=Math.round(A[0]/16);var D=Math.max(B.size,E);return{height:D}}function n(H,y,E,D){var B=o(y.width,y.height,E);var C=B.height;var z=y.width*D,G=y.height*D;var A=E.font?E.font:"sans-serif";e.width=z;e.height=G;H.textAlign="center";H.textBaseline="middle";H.fillStyle=E.background;H.fillRect(0,0,z,G);H.fillStyle=E.foreground;H.font="bold "+C+"px "+A;var F=E.text?E.text:(y.width+"x"+y.height);if(H.measureText(F).width/z>1){C=E.size/(H.measureText(F).width/z)}H.font="bold "+(C*D)+"px "+A;H.fillText(F,(z/2),(G/2),z);return e.toDataURL("image/png")}function x(D,B,F,y){var z=F.dimensions,C=F.theme,G=F.text?decodeURIComponent(F.text):F.text;var A=z.width+"x"+z.height;C=(G?t(C,{text:G}):C);C=(F.font?t(C,{font:F.font}):C);var E=1;if(window.devicePixelRatio&&window.devicePixelRatio>1){E=window.devicePixelRatio}if(D=="image"){B.setAttribute("data-src",y);B.setAttribute("alt",G?G:C.text?C.text+" ["+A+"]":A);if(q||!F.auto){B.style.width=z.width+"px";B.style.height=z.height+"px"}if(q){B.style.backgroundColor=C.background}else{B.setAttribute("src",n(p,z,C,E))}}else{if(!q){B.style.backgroundImage="url("+n(p,z,C,E)+")";B.style.backgroundSize=z.width+"px "+z.height+"px"}}}function k(A,z,F){var C=z.dimensions,D=z.theme,E=z.text;var y=C.width+"x"+C.height;D=(E?t(D,{text:E}):D);var B=document.createElement("div");B.style.backgroundColor=D.background;B.style.color=D.foreground;B.className=A.className+" holderjs-fluid";B.style.width=z.dimensions.width+(z.dimensions.width.indexOf("%")>0?"":"px");B.style.height=z.dimensions.height+(z.dimensions.height.indexOf("%")>0?"":"px");B.id=A.id;A.style.width=0;A.style.height=0;if(D.text){B.appendChild(document.createTextNode(D.text))}else{B.appendChild(document.createTextNode(y));m.push(B);setTimeout(h,0)}A.parentNode.insertBefore(B,A.nextSibling);if(window.jQuery){jQuery(function(G){G(A).on("load",function(){A.style.width=B.style.width;A.style.height=B.style.height;G(A).show();G(B).remove()})})}}function h(){for(i in m){if(!m.hasOwnProperty(i)){continue}var z=m[i],y=z.firstChild;z.style.lineHeight=z.offsetHeight+"px";y.data=z.offsetWidth+"x"+z.offsetHeight}}function g(z,B){var A={theme:u.themes.gray},C=false;for(sl=z.length,j=0;j<sl;j++){var y=z[j];if(l.flags.dimensions.match(y)){C=true;A.dimensions=l.flags.dimensions.output(y)}else{if(l.flags.fluid.match(y)){C=true;A.dimensions=l.flags.fluid.output(y);A.fluid=true}else{if(l.flags.colors.match(y)){A.theme=l.flags.colors.output(y)}else{if(B.themes[y]){A.theme=B.themes[y]}else{if(l.flags.text.match(y)){A.text=l.flags.text.output(y)}else{if(l.flags.font.match(y)){A.font=l.flags.font.output(y)}else{if(l.flags.auto.match(y)){A.auto=true}}}}}}}}return C?A:false}if(!e.getContext){q=true}else{if(e.toDataURL("image/png").indexOf("data:image/png")<0){q=true}else{var p=e.getContext("2d")}}var m=[];var u={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};l.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(z){var y=this.regex.exec(z);return{width:+y[1],height:+y[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(z){var y=this.regex.exec(z);return{width:y[1],height:y[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(z){var y=this.regex.exec(z);return{size:u.themes.gray.size,foreground:"#"+y[2],background:"#"+y[1]}}},text:{regex:/text\:(.*)/,output:function(y){return this.regex.exec(y)[1]}},font:{regex:/font\:(.*)/,output:function(y){return this.regex.exec(y)[1]}},auto:{regex:/^auto$/}};for(var s in l.flags){if(!l.flags.hasOwnProperty(s)){continue}l.flags[s].match=function(y){return y.match(this.regex)}}l.add_theme=function(y,z){y!=null&&z!=null&&(u.themes[y]=z);return l};l.add_image=function(D,B){var C=r(B);if(C.length){for(var A=0,y=C.length;A<y;A++){var z=document.createElement("img");z.setAttribute("data-src",D);C[A].appendChild(z)}}return l};l.run=function(z){var H=t(u,z),F=[];if(H.images instanceof window.NodeList){imageNodes=H.images}else{if(H.images instanceof window.Node){imageNodes=[H.images]}else{imageNodes=r(H.images)}}if(H.elements instanceof window.NodeList){bgnodes=H.bgnodes}else{if(H.bgnodes instanceof window.Node){bgnodes=[H.bgnodes]}else{bgnodes=r(H.bgnodes)}}w=true;for(D=0,C=imageNodes.length;D<C;D++){F.push(imageNodes[D])}var B=document.getElementById("holderjs-style");if(!B){B=document.createElement("style");B.setAttribute("id","holderjs-style");B.type="text/css";document.getElementsByTagName("head")[0].appendChild(B)}if(B.styleSheet){B.styleSheet+=H.stylesheet}else{B.textContent+=H.stylesheet}var E=new RegExp(H.domain+'/(.*?)"?\\)');for(var C=bgnodes.length,D=0;D<C;D++){var y=window.getComputedStyle(bgnodes[D],null).getPropertyValue("background-image");var A=y.match(E);if(A){var G=g(A[1].split("/"),H);if(G){x("background",bgnodes[D],G,y)}}}for(var C=F.length,D=0;D<C;D++){var y=F[D].getAttribute("src")||F[D].getAttribute("data-src");if(y!=null&&y.indexOf(H.domain)>=0){var G=g(y.substr(y.lastIndexOf(H.domain)+H.domain.length+1).split("/"),H);if(G){if(G.fluid){k(F[D],G,y)}else{x("image",F[D],G,y)}}}}return l};v(f,function(){if(window.addEventListener){window.addEventListener("resize",h,false);window.addEventListener("orientationchange",h,false)}else{window.attachEvent("onresize",h)}w||l.run()});if(typeof define==="function"&&define.amd){define("Holder",[],function(){return l})}})(d,window);c.exports=d}())},{}],32:[function(b,c,a){(function(){var f=b("backbone"),e=b("lodash"),d=f.sync;f.sync=function(l,h,g){g=g||{};g.attrs=g.attrs||e.clone(h.attributes);g.timeout=g.timeout||20000;g.parse=g.parse||true;if(h.urlRoot&&h.methodUrl){g.url=h.methodUrl(l.toLowerCase())}else{if(typeof h.url==="function"){g.url=h.url()}else{if(h.url){g.url=h.url}}}if(!g.crossDomain){g.crossDomain=true}if(!g.xhrFields){g.xhrFields={withCredentials:true}}if(g.success){var k=g.success;g.success=function(o,p,n){if(o[h.name]&&o[h.name].errors){if(g.error){var m=function(){g.error({responseText:JSON.stringify({errors:o[h.name].errors})})};if(l!=="read"){h.fetch({success:function(){m()},error:function(){m()}})}else{m()}}else{return k(o,p,n)}}else{return k(o,p,n)}}}return d(l,h,g)};c.exports=f}())},{backbone:54,lodash:34}],33:[function(b,c,a){(function(){var h=b("path"),f=b("lodash"),e=1,k={user:b("../models/user"),image:b("../models/image"),video:b("../models/video"),page:b("../models/page"),customization:b("../models/customization")},g={pagemedia:b("../collections/pageMedia"),pages:b("../collections/pages"),unprocesseduploads:b("../collections/unprocessedUploads")},d=function(m){var l=this;this.cache={};this.createModel=function(n,o){n=n.toLowerCase();o=o||{};if(f.find(k,function(p,q){return q===n})){return new k[n](o,{app:m})}else{throw new Error('Cannot find Model "'+n+'"')}};this.createCollection=function(o,n){o=o.toLowerCase();n=n||{};n=f.clone(n);n.app=m;if(f.find(g,function(p,q){return q===o})){return new g[o]([],n)}else{throw new Error('Cannot find Collection "'+o+'"')}};this.fetchModel=function(n,q){n=n.toLowerCase();var p="uuid://models/"+n+(q?"/"+q:""),o;if(l.cache[p]){o=l.cache[p];setTimeout(function(){if(o.isFetched){o.trigger("ready")}},e)}else{o=this.createModel(n);l.cache[p]=o;if(q){o.set({id:q})}setTimeout(function(){o.fetch({success:function(){o.isFetched=true;o.trigger("ready")}})},e)}return o};this.fetchCollection=function(o,n){o=o.toLowerCase();var q=f.filter(n,function(t,s){return s!="app"}),r="uuid://collections/"+o+"/"+JSON.stringify(q),p;if(l.cache[r]){p=l.cache[r];setTimeout(function(){if(p.isFetched){p.trigger("ready")}},e)}else{p=this.createCollection(o,n);l.cache[r]=p;setTimeout(function(){p.fetch({success:function(){p.isFetched=true;p.trigger("ready")}})},e)}return p}};c.exports=d}())},{"../collections/pageMedia":56,"../collections/pages":57,"../collections/unprocessedUploads":58,"../models/customization":37,"../models/image":38,"../models/page":55,"../models/user":35,"../models/video":40,lodash:34,path:4}],36:[function(b,c,a){(function(){var e=b("../helpers/BackboneLoader.js"),d=e.Model.extend({initialize:function(f,g){this.set(f);this.app=g.app||{}},methodUrl:function(g){var f;if(typeof this.urlRoot==="function"){f=this.urlRoot()}else{if(this.urlRoot){f=this.urlRoot}}if(g=="delete"){return f+"/"+this.attributes.id+".json"}else{if(g=="update"){return f+"/"+this.attributes.id+".json"}else{if(g=="read"){return f+"/"+this.attributes.id+".json"}else{if(g=="create"){return f+".json"}}}}return false}});c.exports=d}())},{"../helpers/BackboneLoader.js":32}],59:[function(b,c,a){(function(){var e=b("../helpers/BackboneLoader.js"),d=e.Collection.extend({initialize:function(g,f){this.set(g);this.app=f.app||{}}});c.exports=d}())},{"../helpers/BackboneLoader.js":32}],43:[function(b,c,a){(function(){var e=b("../base"),d=e.extend({template:b("../../templates/layout/footer.hbs"),initialize:function(f){this.app=f.app;this.listenTo(this.app.getUser(),"change",this.render,this);this.renderOnReady(this.app.getUser())}});c.exports=d}())},{"../../templates/layout/footer.hbs":60,"../base":45}],49:[function(b,c,a){(function(){var f=b("../../base"),d=b("../../../helpers/lib/holder.js"),e=f.extend({template:b("../../../templates/routes/media/grid.hbs"),initialize:function(h){this.app=h.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var g=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);g.once("ready",function(){var k=g.find(function(l){return l.attributes.name.toLowerCase()===h.pageName.toLowerCase()});if(k){this.page.set(k.attributes)}else{this.page.set({name:"404"});this.app.error("Error 404: The page could not be found")}this.media=this.page.getMedia();this.media.fetch();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)},this)},context:function(){var g=[];var h=encodeURIComponent(this.page.attributes.name);if(this.media){this.media.forEach(function(k){g.push(k.templateVars(h))})}return this.getContext({media:g,page:this.page.attributes})},afterRender:function(){d.run()}});c.exports=e}())},{"../../../helpers/lib/holder.js":52,"../../../templates/routes/media/grid.hbs":61,"../../base":45}],62:[function(b,c,a){(function(){var e=b("../../base"),d=e.extend({template:b("../../../templates/routes/media/thumb.hbs"),initialize:function(f){this.app=f.app;this.media=this.app.db.fetchModel(f.mediaType,f.mediaId);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.app,"iframeResize",this.resizeIframe,this);this.listenTo(this.app,"thumbnailCaptured",this.saveThumbnail,this);this.listenTo(this.app,"captureThumbnail",this.captureThumbnail,this);this.renderOnReady(this.media)},context:function(){var f=this.media.templateVars(),g={media:{sources:[{src:f.url,type:this.app.util.mime(f.mimeType)}],attributes:{id:"media_"+this.app.util.uuid(10),resize:true}},dimensions:this.app.config.thumbnailDims,domain:document.domain+(window.location.port===80?"":":"+window.location.port)};return this.getContext({media:f,thumberUrl:f.s3key?this.app.config.thumberUrl+"#"+encodeURIComponent(JSON.stringify(g)):null})},afterRender:function(){this.app.messenger.targetFrame=this.$el.find("iframe")[0]},resizeIframe:function(f){this.$el.find("iframe").attr("height",parseInt(f)+60)},saveThumbnail:function(f){this.app.setFlash("info","Please Wait, Saving Image...")},captureThumbnail:function(){var f=this;f.app.messenger.send("capture",[],function(g){f.media.useThumbnail(g.substring(g.indexOf(",")+1))})}});c.exports=d}())},{"../../../templates/routes/media/thumb.hbs":63,"../../base":45}],64:[function(b,c,a){(function(){var f=b("../../base"),e=b("../../../helpers/lib/holder.js"),d=f.extend({template:b("../../../templates/routes/media/carousel.hbs"),events:{"click a.bigClose":"exitPlayer","click a.reelToggle":"toggleReel","click a.app":"handleAppLink"},reelOpen:null,initialize:function(h){this.app=h.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var g=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);this.listenTo(this.app,"videoEnded",this.advance,this);g.once("ready",function(){var k=g.find(function(l){return l.attributes.name.toLowerCase()===h.pageName.toLowerCase()});if(k){this.page.set(k.attributes)}else{this.page.set({name:"404"});this.app.error("Error 404: The page could not be found")}this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)},this)},context:function(){var g=[];var h=encodeURIComponent(this.page.attributes.name);if(this.media){this.media.forEach(function(k){g.push(k.templateVars(h,true))})}return this.getContext({media:g,page:this.page.attributes})},afterRender:function(){this.$(".carousel").elastislide();if(this.reelOpen===null){this.toggleReel(null,false)}e.run()},advance:function(g){var q=this,m=false,n=null,l,o=encodeURIComponent(q.page.attributes.name),k,p,r,h=this.page.getMedia();if(this.page&&h){for(k=0,p=h.models.length;k<p;k++){r=h.models[k];if(g.id===r.id){m=true;continue}if(m){n=r;break}}if(n){l=n.templateVars(o).playerUrl;setTimeout(function(){q.app.navigate(l,{trigger:true})},1000)}}},toggleReel:function(k,g){var h=this;if(k){k.preventDefault();k.stopPropagation()}if(g!==false){h.reelOpen=!h.reelOpen}if(h.reelOpen){h.$(".sliderWrap").slideDown(400);h.$(".symbol").html("&and;")}else{h.$(".sliderWrap").slideUp(400);h.$(".symbol").html("&or;")}},exitPlayer:function(g){g.preventDefault();g.stopPropagation();this.app.navigate("page/"+this.page.attributes.name,{trigger:true})}});c.exports=d}())},{"../../../helpers/lib/holder.js":52,"../../../templates/routes/media/carousel.hbs":65,"../../base":45}],54:[function(b,c,a){(function(){(function(){var z=this;var G=z.Backbone;var l=[];var I=l.push;var s=l.slice;var y=l.splice;var E;if(typeof a!=="undefined"){E=a}else{E=z.Backbone={}}E.VERSION="1.0.0";var Q=z._;if(!Q&&(typeof b!=="undefined")){Q=b("underscore")}E.$=z.jQuery||z.Zepto||z.ender||z.$;E.noConflict=function(){z.Backbone=G;return this};E.emulateHTTP=false;E.emulateJSON=false;var O=E.Events={on:function(R,U,T){if(!C(this,"on",R,[U,T])||!U){return this}this._events||(this._events={});var S=this._events[R]||(this._events[R]=[]);S.push({callback:U,context:T,ctx:T||this});return this},once:function(S,V,T){if(!C(this,"once",S,[V,T])||!V){return this}var R=this;var U=Q.once(function(){R.off(S,U);V.apply(this,arguments)});U._callback=V;return this.on(S,U,T)},off:function(R,aa,S){var Y,Z,ab,X,W,T,V,U;if(!this._events||!C(this,"off",R,[aa,S])){return this}if(!R&&!aa&&!S){this._events={};return this}X=R?[R]:Q.keys(this._events);for(W=0,T=X.length;W<T;W++){R=X[W];if(ab=this._events[R]){this._events[R]=Y=[];if(aa||S){for(V=0,U=ab.length;V<U;V++){Z=ab[V];if((aa&&aa!==Z.callback&&aa!==Z.callback._callback)||(S&&S!==Z.context)){Y.push(Z)}}}if(!Y.length){delete this._events[R]}}}return this},trigger:function(T){if(!this._events){return this}var S=s.call(arguments,1);if(!C(this,"trigger",T,S)){return this}var U=this._events[T];var R=this._events.all;if(U){e(U,S)}if(R){e(R,arguments)}return this},stopListening:function(U,R,W){var S=this._listeners;if(!S){return this}var T=!R&&!W;if(typeof R==="object"){W=this}if(U){(S={})[U._listenerId]=U}for(var V in S){S[V].off(R,W,this);if(T){delete this._listeners[V]}}return this}};var B=/\s+/;var C=function(Y,W,S,V){if(!S){return true}if(typeof S==="object"){for(var U in S){Y[W].apply(Y,[U,S[U]].concat(V))}return false}if(B.test(S)){var X=S.split(B);for(var T=0,R=X.length;T<R;T++){Y[W].apply(Y,[X[T]].concat(V))}return false}return true};var e=function(W,U){var X,V=-1,T=W.length,S=U[0],R=U[1],Y=U[2];switch(U.length){case 0:while(++V<T){(X=W[V]).callback.call(X.ctx)}return;case 1:while(++V<T){(X=W[V]).callback.call(X.ctx,S)}return;case 2:while(++V<T){(X=W[V]).callback.call(X.ctx,S,R)}return;case 3:while(++V<T){(X=W[V]).callback.call(X.ctx,S,R,Y)}return;default:while(++V<T){(X=W[V]).callback.apply(X.ctx,U)}}};var H={listenTo:"on",listenToOnce:"once"};Q.each(H,function(R,S){O[S]=function(V,T,X){var U=this._listeners||(this._listeners={});var W=V._listenerId||(V._listenerId=Q.uniqueId("l"));U[W]=V;if(typeof T==="object"){X=this}V[R](T,X,this);return this}});O.bind=O.on;O.unbind=O.off;Q.extend(E,O);var J=E.Model=function(R,T){var U;var S=R||{};T||(T={});this.cid=Q.uniqueId("c");this.attributes={};Q.extend(this,Q.pick(T,K));if(T.parse){S=this.parse(S,T)||{}}if(U=Q.result(this,"defaults")){S=Q.defaults({},S,U)}this.set(S,T);this.changed={};this.initialize.apply(this,arguments)};var K=["url","urlRoot","collection"];Q.extend(J.prototype,O,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(R){return Q.clone(this.attributes)},sync:function(){return E.sync.apply(this,arguments)},get:function(R){return this.attributes[R]},escape:function(R){return Q.escape(this.get(R))},has:function(R){return this.get(R)!=null},set:function(Z,R,ad){var X,aa,ab,Y,W,ac,T,V;if(Z==null){return this}if(typeof Z==="object"){aa=Z;ad=R}else{(aa={})[Z]=R}ad||(ad={});if(!this._validate(aa,ad)){return false}ab=ad.unset;W=ad.silent;Y=[];ac=this._changing;this._changing=true;if(!ac){this._previousAttributes=Q.clone(this.attributes);this.changed={}}V=this.attributes,T=this._previousAttributes;if(this.idAttribute in aa){this.id=aa[this.idAttribute]}for(X in aa){R=aa[X];if(!Q.isEqual(V[X],R)){Y.push(X)}if(!Q.isEqual(T[X],R)){this.changed[X]=R}else{delete this.changed[X]}ab?delete V[X]:V[X]=R}if(!W){if(Y.length){this._pending=true}for(var U=0,S=Y.length;U<S;U++){this.trigger("change:"+Y[U],this,V[Y[U]],ad)}}if(ac){return this}if(!W){while(this._pending){this._pending=false;this.trigger("change",this,ad)}}this._pending=false;this._changing=false;return this},unset:function(R,S){return this.set(R,void 0,Q.extend({},S,{unset:true}))},clear:function(S){var R={};for(var T in this.attributes){R[T]=void 0}return this.set(R,Q.extend({},S,{unset:true}))},hasChanged:function(R){if(R==null){return !Q.isEmpty(this.changed)}return Q.has(this.changed,R)},changedAttributes:function(T){if(!T){return this.hasChanged()?Q.clone(this.changed):false}var V,U=false;var S=this._changing?this._previousAttributes:this.attributes;for(var R in T){if(Q.isEqual(S[R],(V=T[R]))){continue}(U||(U={}))[R]=V}return U},previous:function(R){if(R==null||!this._previousAttributes){return null}return this._previousAttributes[R]},previousAttributes:function(){return Q.clone(this._previousAttributes)},fetch:function(S){S=S?Q.clone(S):{};if(S.parse===void 0){S.parse=true}var R=this;var T=S.success;S.success=function(U){if(!R.set(R.parse(U,S),S)){return false}if(T){T(R,U,S)}R.trigger("sync",R,U,S)};M(this,S);return this.sync("read",this,S)},save:function(V,S,Z){var W,R,Y,T=this.attributes;if(V==null||typeof V==="object"){W=V;Z=S}else{(W={})[V]=S}if(W&&(!Z||!Z.wait)&&!this.set(W,Z)){return false}Z=Q.extend({validate:true},Z);if(!this._validate(W,Z)){return false}if(W&&Z.wait){this.attributes=Q.extend({},T,W)}if(Z.parse===void 0){Z.parse=true}var U=this;var X=Z.success;Z.success=function(ab){U.attributes=T;var aa=U.parse(ab,Z);if(Z.wait){aa=Q.extend(W||{},aa)}if(Q.isObject(aa)&&!U.set(aa,Z)){return false}if(X){X(U,ab,Z)}U.trigger("sync",U,ab,Z)};M(this,Z);R=this.isNew()?"create":(Z.patch?"patch":"update");if(R==="patch"){Z.attrs=W}Y=this.sync(R,this,Z);if(W&&Z.wait){this.attributes=T}return Y},destroy:function(S){S=S?Q.clone(S):{};var R=this;var V=S.success;var T=function(){R.trigger("destroy",R,R.collection,S)};S.success=function(W){if(S.wait||R.isNew()){T()}if(V){V(R,W,S)}if(!R.isNew()){R.trigger("sync",R,W,S)}};if(this.isNew()){S.success();return false}M(this,S);var U=this.sync("delete",this,S);if(!S.wait){T()}return U},url:function(){var R=Q.result(this,"urlRoot")||Q.result(this.collection,"url")||w();if(this.isNew()){return R}return R+(R.charAt(R.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(S,R){return S},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(R){return this._validate({},Q.extend(R||{},{validate:true}))},_validate:function(T,S){if(!S.validate||!this.validate){return true}T=Q.extend({},this.attributes,T);var R=this.validationError=this.validate(T,S)||null;if(!R){return true}this.trigger("invalid",this,R,Q.extend(S||{},{validationError:R}));return false}});var d=["keys","values","pairs","invert","pick","omit"];Q.each(d,function(R){J.prototype[R]=function(){var S=s.call(arguments);S.unshift(this.attributes);return Q[R].apply(Q,S)}});var f=E.Collection=function(S,R){R||(R={});if(R.url){this.url=R.url}if(R.model){this.model=R.model}if(R.comparator!==void 0){this.comparator=R.comparator}this._reset();this.initialize.apply(this,arguments);if(S){this.reset(S,Q.extend({silent:true},R))}};var t={add:true,remove:true,merge:true};var P={add:true,merge:false,remove:false};Q.extend(f.prototype,O,{model:J,initialize:function(){},toJSON:function(R){return this.map(function(S){return S.toJSON(R)})},sync:function(){return E.sync.apply(this,arguments)},add:function(S,R){return this.set(S,Q.defaults(R||{},P))},remove:function(W,U){W=Q.isArray(W)?W.slice():[W];U||(U={});var V,R,T,S;for(V=0,R=W.length;V<R;V++){S=this.get(W[V]);if(!S){continue}delete this._byId[S.id];delete this._byId[S.cid];T=this.indexOf(S);this.models.splice(T,1);this.length--;if(!U.silent){U.index=T;S.trigger("remove",S,this,U)}this._removeReference(S)}return this},set:function(S,ae){ae=Q.defaults(ae||{},t);if(ae.parse){S=this.parse(S,ae)}if(!Q.isArray(S)){S=S?[S]:[]}var Z,V,ab,ac,T,aa;var U=ae.at;var Y=this.comparator&&(U==null)&&ae.sort!==false;var W=Q.isString(this.comparator)?this.comparator:null;var ad=[],R=[],X={};for(Z=0,V=S.length;Z<V;Z++){if(!(ab=this._prepareModel(S[Z],ae))){continue}if(T=this.get(ab)){if(ae.remove){X[T.cid]=true}if(ae.merge){T.set(ab.attributes,ae);if(Y&&!aa&&T.hasChanged(W)){aa=true}}}else{if(ae.add){ad.push(ab);ab.on("all",this._onModelEvent,this);this._byId[ab.cid]=ab;if(ab.id!=null){this._byId[ab.id]=ab}}}}if(ae.remove){for(Z=0,V=this.length;Z<V;++Z){if(!X[(ab=this.models[Z]).cid]){R.push(ab)}}if(R.length){this.remove(R,ae)}}if(ad.length){if(Y){aa=true}this.length+=ad.length;if(U!=null){y.apply(this.models,[U,0].concat(ad))}else{I.apply(this.models,ad)}}if(aa){this.sort({silent:true})}if(ae.silent){return this}for(Z=0,V=ad.length;Z<V;Z++){(ab=ad[Z]).trigger("add",ab,this,ae)}if(aa){this.trigger("sort",this,ae)}return this},reset:function(U,S){S||(S={});for(var T=0,R=this.models.length;T<R;T++){this._removeReference(this.models[T])}S.previousModels=this.models;this._reset();this.add(U,Q.extend({silent:true},S));if(!S.silent){this.trigger("reset",this,S)}return this},push:function(S,R){S=this._prepareModel(S,R);this.add(S,Q.extend({at:this.length},R));return S},pop:function(S){var R=this.at(this.length-1);this.remove(R,S);return R},unshift:function(S,R){S=this._prepareModel(S,R);this.add(S,Q.extend({at:0},R));return S},shift:function(S){var R=this.at(0);this.remove(R,S);return R},slice:function(S,R){return this.models.slice(S,R)},get:function(R){if(R==null){return void 0}return this._byId[R.id!=null?R.id:R.cid||R]},at:function(R){return this.models[R]},where:function(R,S){if(Q.isEmpty(R)){return S?void 0:[]}return this[S?"find":"filter"](function(T){for(var U in R){if(R[U]!==T.get(U)){return false}}return true})},findWhere:function(R){return this.where(R,true)},sort:function(R){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}R||(R={});if(Q.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(Q.bind(this.comparator,this))}if(!R.silent){this.trigger("sort",this,R)}return this},sortedIndex:function(R,U,S){U||(U=this.comparator);var T=Q.isFunction(U)?U:function(V){return V.get(U)};return Q.sortedIndex(this.models,R,T,S)},pluck:function(R){return Q.invoke(this.models,"get",R)},fetch:function(R){R=R?Q.clone(R):{};if(R.parse===void 0){R.parse=true}var T=R.success;var S=this;R.success=function(U){var V=R.reset?"reset":"set";S[V](U,R);if(T){T(S,U,R)}S.trigger("sync",S,U,R)};M(this,R);return this.sync("read",this,R)},create:function(S,R){R=R?Q.clone(R):{};if(!(S=this._prepareModel(S,R))){return false}if(!R.wait){this.add(S,R)}var U=this;var T=R.success;R.success=function(V){if(R.wait){U.add(S,R)}if(T){T(S,V,R)}};S.save(null,R);return S},parse:function(S,R){return S},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(T,S){if(T instanceof J){if(!T.collection){T.collection=this}return T}S||(S={});S.collection=this;var R=new this.model(T,S);if(!R._validate(T,S)){this.trigger("invalid",this,T,S);return false}return R},_removeReference:function(R){if(this===R.collection){delete R.collection}R.off("all",this._onModelEvent,this)},_onModelEvent:function(T,S,U,R){if((T==="add"||T==="remove")&&U!==this){return}if(T==="destroy"){this.remove(S,R)}if(S&&T==="change:"+S.idAttribute){delete this._byId[S.previous(S.idAttribute)];if(S.id!=null){this._byId[S.id]=S}}this.trigger.apply(this,arguments)}});var D=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];Q.each(D,function(R){f.prototype[R]=function(){var S=s.call(arguments);S.unshift(this.models);return Q[R].apply(Q,S)}});var p=["groupBy","countBy","sortBy"];Q.each(p,function(R){f.prototype[R]=function(U,S){var T=Q.isFunction(U)?U:function(V){return V.get(U)};return Q[R](this.models,T,S)}});var L=E.View=function(R){this.cid=Q.uniqueId("view");this._configure(R||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var A=/^(\S+)\s*(.*)$/;var h=["model","collection","el","id","attributes","className","tagName","events"];Q.extend(L.prototype,O,{tagName:"div",$:function(R){return this.$el.find(R)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(R,S){if(this.$el){this.undelegateEvents()}this.$el=R instanceof E.$?R:E.$(R);this.el=this.$el[0];if(S!==false){this.delegateEvents()}return this},delegateEvents:function(V){if(!(V||(V=Q.result(this,"events")))){return this}this.undelegateEvents();for(var U in V){var W=V[U];if(!Q.isFunction(W)){W=this[V[U]]}if(!W){continue}var T=U.match(A);var S=T[1],R=T[2];W=Q.bind(W,this);S+=".delegateEvents"+this.cid;if(R===""){this.$el.on(S,W)}else{this.$el.on(S,R,W)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(R){if(this.options){R=Q.extend({},Q.result(this,"options"),R)}Q.extend(this,Q.pick(R,h));this.options=R},_ensureElement:function(){if(!this.el){var R=Q.extend({},Q.result(this,"attributes"));if(this.id){R.id=Q.result(this,"id")}if(this.className){R["class"]=Q.result(this,"className")}var S=E.$("<"+Q.result(this,"tagName")+">").attr(R);this.setElement(S,false)}else{this.setElement(Q.result(this,"el"),false)}}});E.sync=function(X,S,R){var U=o[X];Q.defaults(R||(R={}),{emulateHTTP:E.emulateHTTP,emulateJSON:E.emulateJSON});var W={type:U,dataType:"json"};if(!R.url){W.url=Q.result(S,"url")||w()}if(R.data==null&&S&&(X==="create"||X==="update"||X==="patch")){W.contentType="application/json";W.data=JSON.stringify(R.attrs||S.toJSON(R))}if(R.emulateJSON){W.contentType="application/x-www-form-urlencoded";W.data=W.data?{model:W.data}:{}}if(R.emulateHTTP&&(U==="PUT"||U==="DELETE"||U==="PATCH")){W.type="POST";if(R.emulateJSON){W.data._method=U}var T=R.beforeSend;R.beforeSend=function(Y){Y.setRequestHeader("X-HTTP-Method-Override",U);if(T){return T.apply(this,arguments)}}}if(W.type!=="GET"&&!R.emulateJSON){W.processData=false}if(W.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){W.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var V=R.xhr=E.ajax(Q.extend(W,R));S.trigger("request",S,V,R);return V};var o={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};E.ajax=function(){return E.$.ajax.apply(E.$,arguments)};var u=E.Router=function(R){R||(R={});if(R.routes){this.routes=R.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var v=/\((.*?)\)/g;var x=/(\(\?)?:\w+/g;var g=/\*\w+/g;var m=/[\-{}\[\]+?.,\\\^$|#\s]/g;Q.extend(u.prototype,O,{initialize:function(){},route:function(S,T,U){if(!Q.isRegExp(S)){S=this._routeToRegExp(S)}if(Q.isFunction(T)){U=T;T=""}if(!U){U=this[T]}var R=this;E.history.route(S,function(W){var V=R._extractParameters(S,W);U&&U.apply(R,V);R.trigger.apply(R,["route:"+T].concat(V));R.trigger("route",T,V);E.history.trigger("route",R,T,V)});return this},navigate:function(S,R){E.history.navigate(S,R);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=Q.result(this,"routes");var S,R=Q.keys(this.routes);while((S=R.pop())!=null){this.route(S,this.routes[S])}},_routeToRegExp:function(R){R=R.replace(m,"\\$&").replace(v,"(?:$1)?").replace(x,function(T,S){return S?T:"([^/]+)"}).replace(g,"(.*?)");return new RegExp("^"+R+"$")},_extractParameters:function(R,S){var T=R.exec(S).slice(1);return Q.map(T,function(U){return U?decodeURIComponent(U):null})}});var n=E.History=function(){this.handlers=[];Q.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var F=/^[#\/]|\s+$/g;var k=/^\/+|\/+$/g;var N=/msie [\w.]+/;var r=/\/$/;n.started=false;Q.extend(n.prototype,O,{interval:50,getHash:function(S){var R=(S||this).location.href.match(/#(.*)$/);return R?R[1]:""},getFragment:function(T,S){if(T==null){if(this._hasPushState||!this._wantsHashChange||S){T=this.location.pathname;var R=this.root.replace(r,"");if(!T.indexOf(R)){T=T.substr(R.length)}}else{T=this.getHash()}}return T.replace(F,"")},start:function(T){if(n.started){throw new Error("Backbone.history has already been started")}n.started=true;this.options=Q.extend({},{root:"/"},this.options,T);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var S=this.getFragment();var R=document.documentMode;var V=(N.exec(navigator.userAgent.toLowerCase())&&(!R||R<=7));this.root=("/"+this.root+"/").replace(k,"/");if(V&&this._wantsHashChange){this.iframe=E.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(S)}if(this._hasPushState){E.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!V){E.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=S;var W=this.location;var U=W.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!U){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else{if(this._wantsPushState&&this._hasPushState&&U&&W.hash){this.fragment=this.getHash().replace(F,"");this.history.replaceState({},document.title,this.root+this.fragment+W.search)}}if(!this.options.silent){return this.loadUrl()}},stop:function(){E.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);n.started=false},route:function(R,S){this.handlers.unshift({route:R,callback:S})},checkUrl:function(S){var R=this.getFragment();if(R===this.fragment&&this.iframe){R=this.getFragment(this.getHash(this.iframe))}if(R===this.fragment){return false}if(this.iframe){this.navigate(R)}this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(T){var S=this.fragment=this.getFragment(T);var R=Q.any(this.handlers,function(U){if(U.route.test(S)){U.callback(S);return true}});return R},navigate:function(T,S){if(!n.started){return false}if(!S||S===true){S={trigger:S}}T=this.getFragment(T||"");if(this.fragment===T){return}this.fragment=T;var R=this.root+T;if(this._hasPushState){this.history[S.replace?"replaceState":"pushState"]({},document.title,R)}else{if(this._wantsHashChange){this._updateHash(this.location,T,S.replace);if(this.iframe&&(T!==this.getFragment(this.getHash(this.iframe)))){if(!S.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,T,S.replace)}}else{return this.location.assign(R)}}if(S.trigger){this.loadUrl(T)}},_updateHash:function(R,T,U){if(U){var S=R.href.replace(/(javascript:|#).*$/,"");R.replace(S+"#"+T)}else{R.hash="#"+T}}});E.history=new n;var q=function(R,T){var S=this;var V;if(R&&Q.has(R,"constructor")){V=R.constructor}else{V=function(){return S.apply(this,arguments)}}Q.extend(V,S,T);var U=function(){this.constructor=V};U.prototype=S.prototype;V.prototype=new U;if(R){Q.extend(V.prototype,R)}V.__super__=S.prototype;return V};J.extend=f.extend=u.extend=L.extend=n.extend=q;var w=function(){throw new Error('A "url" property or function must be specified')};var M=function(T,S){var R=S.error;S.error=function(U){if(R){R(T,U,S)}T.trigger("error",T,U,S)}}}).call(this)})()},{underscore:66}],56:[function(b,c,a){(function(){var f=b("./base"),d=b("lodash"),e=f.extend({name:"media",initialize:function(h,g){this.set(h);this.app=g.app||{};this.pageId=g.pageId||null;this.model=function(l,k){if(l.type==="image"){return g.app.db.createModel("image",l)}else{return g.app.db.createModel("video",l)}}},url:function(){return this.app.config.baseUrl+"/pages/"+this.pageId+"/media.json"},parse:function(h,g){return d.isEmpty(h.media)?[]:h.media}});c.exports=e}())},{"./base":59,lodash:34}],57:[function(b,c,a){(function(){var f=b("./base"),e=b("../models/page"),d=b("lodash"),g=f.extend({name:"page",url:function(){return this.app.config.baseUrl+"/pages.json?userId="+this.app.bootstrap.userId},initialize:function(k,h){this.set(k);this.app=h.app||{};this.model=function(m,l){var n=h.app.db.createModel("page");return h.app.db.createModel("page",n.parse(m))}},parse:function(k,h){return d.isEmpty(k.pages)?[]:k.pages}});c.exports=g}())},{"../models/page":55,"./base":59,lodash:34}],58:[function(b,c,a){(function(){var g=b("./base"),f=b("../models/image.js"),d=b("../models/video.js"),e=b("lodash"),h=g.extend({name:"media",url:function(){return this.app.config.baseUrl+"/unprocessed.json"},initialize:function(l,k){this.set(l);this.app=k.app||{};this.model=function(n,m){if(n.type==="image"){return k.app.db.createModel("image").set(n)}else{return k.app.db.createModel("video").set(n)}}},parse:function(l,k){return e.isEmpty(l.media)?[]:l.media}});c.exports=h}())},{"../models/image.js":38,"../models/video.js":40,"./base":59,lodash:34}],55:[function(b,c,a){(function(){var h=b("./base"),d=b("./video"),f=b("./image"),k=b("backbone"),e=b("lodash"),g=h.extend({name:"page",urlRoot:function(){return this.app.config.baseUrl+"/pages"},defaults:{name:"Untitled",items:[],userId:"",isPublished:false,errors:null},initialize:function(l,m){this.set(l);this.app=m.app||{}},validate:function(n,m){var o=[];if(!n.name||n.name.length==0){o.push({attr:"name",message:"Page title cannot be empty"})}if(!n.id){var l=this.app.db.fetchCollection("pages").filter(function(p){return p.attributes.name.toLowerCase()===n.name.toLowerCase()});if(l&&l.length>0){o.push({attr:"name",message:"Another page already exists with this name"})}}if(o.length){return o}},sync:function(n,m,l){if(n==="create"||n==="update"){m.set("itemList",JSON.stringify(m.get("items")))}k.sync(n,m,l)},parse:function(m,l){m=m.page;delete m.page;try{m.items=JSON.parse(m.itemList)}catch(n){m.items=[]}finally{delete m.itemList}return m},getMedia:function(){return this.app.db.fetchCollection("pageMedia",{app:this.app,pageId:this.id})},addMedia:function(m,l){var n=this;filepicker.pickAndStore({extensions:n.app.config.videoExts.concat(n.app.config.imageExts),multiple:true,signature:n.app.getUser().attributes.signature,policy:n.app.getUser().attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP"],debug:l?true:false},{location:"s3",path:n.app.getUser().attributes.path,access:"public"},function(p){if(Object.prototype.toString.call(p)!=="[object Array]"){p=[p]}var q=e.clone(n.attributes.items),o=p.length,t=function(u,w,v,x){q.push({ID:u,NAME:w,TYPE:v,THUMB:"http://placehold.it/320x180"});o--;if(o===0){n.set("items",q);n.save(null,{success:function(){n.app.db.fetchCollection("unprocessedUploads").fetch();n.app.db.fetchCollection("pages").fetch();x();m(null,p)},error:m})}};for(var r=0,s=p.length;r<s;r++){(function(v){var u,w,x={name:v.filename,fpkey:v.url,mimeType:v.mimetype,originalFilesize:v.size,userId:n.attributes.userId,attribs:[],status:0};if(n.app.util.isVideo(v.filename)){u=new d({},{app:n.app});w="video"}else{if(n.app.util.isImage(v.filename)){u=new f({},{app:n.app});w="image"}}u.set(x);if(l){u.set("debug",true)}u.save(null,{success:function(z,A){var y;if(l){y=l}else{y=function(){}}t(z.attributes.id,z.attributes.name,w,y)},error:n.app.error})})(p[r])}},function(o){m(o)})}});c.exports=g}())},{"./base":36,"./image":38,"./video":40,backbone:54,lodash:34}],66:[function(b,c,a){(function(){(function(){var B=this;var p=B._;var I={};var H=Array.prototype,k=Object.prototype,w=Function.prototype;var M=H.push,t=H.slice,D=H.concat,g=k.toString,o=k.hasOwnProperty;var Q=H.forEach,v=H.map,J=H.reduce,f=H.reduceRight,e=H.filter,G=H.every,u=H.some,s=H.indexOf,q=H.lastIndexOf,z=Array.isArray,h=Object.keys,K=w.bind;var R=function(S){if(S instanceof R){return S}if(!(this instanceof R)){return new R(S)}this._wrapped=S};if(typeof a!=="undefined"){if(typeof c!=="undefined"&&c.exports){a=c.exports=R}a._=R}else{B._=R}R.VERSION="1.5.1";var N=R.each=R.forEach=function(X,W,V){if(X==null){return}if(Q&&X.forEach===Q){X.forEach(W,V)}else{if(X.length===+X.length){for(var U=0,S=X.length;U<S;U++){if(W.call(V,X[U],U,X)===I){return}}}else{for(var T in X){if(R.has(X,T)){if(W.call(V,X[T],T,X)===I){return}}}}}};R.map=R.collect=function(V,U,T){var S=[];if(V==null){return S}if(v&&V.map===v){return V.map(U,T)}N(V,function(Y,W,X){S.push(U.call(T,Y,W,X))});return S};var l="Reduce of empty array with no initial value";R.reduce=R.foldl=R.inject=function(W,V,S,U){var T=arguments.length>2;if(W==null){W=[]}if(J&&W.reduce===J){if(U){V=R.bind(V,U)}return T?W.reduce(V,S):W.reduce(V)}N(W,function(Z,X,Y){if(!T){S=Z;T=true}else{S=V.call(U,S,Z,X,Y)}});if(!T){throw new TypeError(l)}return S};R.reduceRight=R.foldr=function(Y,V,S,U){var T=arguments.length>2;if(Y==null){Y=[]}if(f&&Y.reduceRight===f){if(U){V=R.bind(V,U)}return T?Y.reduceRight(V,S):Y.reduceRight(V)}var X=Y.length;if(X!==+X){var W=R.keys(Y);X=W.length}N(Y,function(ab,Z,aa){Z=W?W[--X]:--X;if(!T){S=Y[Z];T=true}else{S=V.call(U,S,Y[Z],Z,aa)}});if(!T){throw new TypeError(l)}return S};R.find=R.detect=function(V,U,T){var S;F(V,function(Y,W,X){if(U.call(T,Y,W,X)){S=Y;return true}});return S};R.filter=R.select=function(V,U,T){var S=[];if(V==null){return S}if(e&&V.filter===e){return V.filter(U,T)}N(V,function(Y,W,X){if(U.call(T,Y,W,X)){S.push(Y)}});return S};R.reject=function(U,T,S){return R.filter(U,function(X,V,W){return !T.call(S,X,V,W)},S)};R.every=R.all=function(V,U,T){U||(U=R.identity);var S=true;if(V==null){return S}if(G&&V.every===G){return V.every(U,T)}N(V,function(Y,W,X){if(!(S=S&&U.call(T,Y,W,X))){return I}});return !!S};var F=R.some=R.any=function(V,U,T){U||(U=R.identity);var S=false;if(V==null){return S}if(u&&V.some===u){return V.some(U,T)}N(V,function(Y,W,X){if(S||(S=U.call(T,Y,W,X))){return I}});return !!S};R.contains=R.include=function(T,S){if(T==null){return false}if(s&&T.indexOf===s){return T.indexOf(S)!=-1}return F(T,function(U){return U===S})};R.invoke=function(U,V){var S=t.call(arguments,2);var T=R.isFunction(V);return R.map(U,function(W){return(T?V:W[V]).apply(W,S)})};R.pluck=function(T,S){return R.map(T,function(U){return U[S]})};R.where=function(T,S,U){if(R.isEmpty(S)){return U?void 0:[]}return R[U?"find":"filter"](T,function(W){for(var V in S){if(S[V]!==W[V]){return false}}return true})};R.findWhere=function(T,S){return R.where(T,S,true)};R.max=function(V,U,T){if(!U&&R.isArray(V)&&V[0]===+V[0]&&V.length<65535){return Math.max.apply(Math,V)}if(!U&&R.isEmpty(V)){return -Infinity}var S={computed:-Infinity,value:-Infinity};N(V,function(Z,W,Y){var X=U?U.call(T,Z,W,Y):Z;X>S.computed&&(S={value:Z,computed:X})});return S.value};R.min=function(V,U,T){if(!U&&R.isArray(V)&&V[0]===+V[0]&&V.length<65535){return Math.min.apply(Math,V)}if(!U&&R.isEmpty(V)){return Infinity}var S={computed:Infinity,value:Infinity};N(V,function(Z,W,Y){var X=U?U.call(T,Z,W,Y):Z;X<S.computed&&(S={value:Z,computed:X})});return S.value};R.shuffle=function(V){var U;var T=0;var S=[];N(V,function(W){U=R.random(T++);S[T-1]=S[U];S[U]=W});return S};var d=function(S){return R.isFunction(S)?S:function(T){return T[S]}};R.sortBy=function(V,U,S){var T=d(U);return R.pluck(R.map(V,function(Y,W,X){return{value:Y,index:W,criteria:T.call(S,Y,W,X)}}).sort(function(Z,Y){var X=Z.criteria;var W=Y.criteria;if(X!==W){if(X>W||X===void 0){return 1}if(X<W||W===void 0){return -1}}return Z.index<Y.index?-1:1}),"value")};var y=function(X,W,T,V){var S={};var U=d(W==null?R.identity:W);N(X,function(aa,Y){var Z=U.call(T,aa,Y,X);V(S,Z,aa)});return S};R.groupBy=function(U,T,S){return y(U,T,S,function(V,W,X){(R.has(V,W)?V[W]:(V[W]=[])).push(X)})};R.countBy=function(U,T,S){return y(U,T,S,function(V,W){if(!R.has(V,W)){V[W]=0}V[W]++})};R.sortedIndex=function(Z,Y,V,U){V=V==null?R.identity:d(V);var X=V.call(U,Y);var S=0,W=Z.length;while(S<W){var T=(S+W)>>>1;V.call(U,Z[T])<X?S=T+1:W=T}return S};R.toArray=function(S){if(!S){return[]}if(R.isArray(S)){return t.call(S)}if(S.length===+S.length){return R.map(S,R.identity)}return R.values(S)};R.size=function(S){if(S==null){return 0}return(S.length===+S.length)?S.length:R.keys(S).length};R.first=R.head=R.take=function(U,T,S){if(U==null){return void 0}return(T!=null)&&!S?t.call(U,0,T):U[0]};R.initial=function(U,T,S){return t.call(U,0,U.length-((T==null)||S?1:T))};R.last=function(U,T,S){if(U==null){return void 0}if((T!=null)&&!S){return t.call(U,Math.max(U.length-T,0))}else{return U[U.length-1]}};R.rest=R.tail=R.drop=function(U,T,S){return t.call(U,(T==null)||S?1:T)};R.compact=function(S){return R.filter(S,R.identity)};var C=function(T,U,S){if(U&&R.every(T,R.isArray)){return D.apply(S,T)}N(T,function(V){if(R.isArray(V)||R.isArguments(V)){U?M.apply(S,V):C(V,U,S)}else{S.push(V)}});return S};R.flatten=function(T,S){return C(T,S,[])};R.without=function(S){return R.difference(S,t.call(arguments,1))};R.uniq=R.unique=function(Y,X,W,V){if(R.isFunction(X)){V=W;W=X;X=false}var T=W?R.map(Y,W,V):Y;var U=[];var S=[];N(T,function(aa,Z){if(X?(!Z||S[S.length-1]!==aa):!R.contains(S,aa)){S.push(aa);U.push(Y[Z])}});return U};R.union=function(){return R.uniq(R.flatten(arguments,true))};R.intersection=function(T){var S=t.call(arguments,1);return R.filter(R.uniq(T),function(U){return R.every(S,function(V){return R.indexOf(V,U)>=0})})};R.difference=function(T){var S=D.apply(H,t.call(arguments,1));return R.filter(T,function(U){return !R.contains(S,U)})};R.zip=function(){var U=R.max(R.pluck(arguments,"length").concat(0));var T=new Array(U);for(var S=0;S<U;S++){T[S]=R.pluck(arguments,""+S)}return T};R.object=function(W,U){if(W==null){return{}}var S={};for(var V=0,T=W.length;V<T;V++){if(U){S[W[V]]=U[V]}else{S[W[V][0]]=W[V][1]}}return S};R.indexOf=function(W,U,V){if(W==null){return -1}var T=0,S=W.length;if(V){if(typeof V=="number"){T=(V<0?Math.max(0,S+V):V)}else{T=R.sortedIndex(W,U);return W[T]===U?T:-1}}if(s&&W.indexOf===s){return W.indexOf(U,V)}for(;T<S;T++){if(W[T]===U){return T}}return -1};R.lastIndexOf=function(W,U,V){if(W==null){return -1}var S=V!=null;if(q&&W.lastIndexOf===q){return S?W.lastIndexOf(U,V):W.lastIndexOf(U)}var T=(S?V:W.length);while(T--){if(W[T]===U){return T}}return -1};R.range=function(X,V,W){if(arguments.length<=1){V=X||0;X=0}W=arguments[2]||1;var T=Math.max(Math.ceil((V-X)/W),0);var S=0;var U=new Array(T);while(S<T){U[S++]=X;X+=W}return U};var L=function(){};R.bind=function(V,T){var S,U;if(K&&V.bind===K){return K.apply(V,t.call(arguments,1))}if(!R.isFunction(V)){throw new TypeError}S=t.call(arguments,2);return U=function(){if(!(this instanceof U)){return V.apply(T,S.concat(t.call(arguments)))}L.prototype=V.prototype;var X=new L;L.prototype=null;var W=V.apply(X,S.concat(t.call(arguments)));if(Object(W)===W){return W}return X}};R.partial=function(T){var S=t.call(arguments,1);return function(){return T.apply(this,S.concat(t.call(arguments)))}};R.bindAll=function(T){var S=t.call(arguments,1);if(S.length===0){throw new Error("bindAll must be passed function names")}N(S,function(U){T[U]=R.bind(T[U],T)});return T};R.memoize=function(U,T){var S={};T||(T=R.identity);return function(){var V=T.apply(this,arguments);return R.has(S,V)?S[V]:(S[V]=U.apply(this,arguments))}};R.delay=function(T,U){var S=t.call(arguments,2);return setTimeout(function(){return T.apply(null,S)},U)};R.defer=function(S){return R.delay.apply(R,[S,1].concat(t.call(arguments,1)))};R.throttle=function(T,V,Z){var S,X,aa;var Y=null;var W=0;Z||(Z={});var U=function(){W=Z.leading===false?0:new Date;Y=null;aa=T.apply(S,X)};return function(){var ab=new Date;if(!W&&Z.leading===false){W=ab}var ac=V-(ab-W);S=this;X=arguments;if(ac<=0){clearTimeout(Y);Y=null;W=ab;aa=T.apply(S,X)}else{if(!Y&&Z.trailing!==false){Y=setTimeout(U,ac)}}return aa}};R.debounce=function(U,W,T){var S;var V=null;return function(){var aa=this,Z=arguments;var Y=function(){V=null;if(!T){S=U.apply(aa,Z)}};var X=T&&!V;clearTimeout(V);V=setTimeout(Y,W);if(X){S=U.apply(aa,Z)}return S}};R.once=function(U){var S=false,T;return function(){if(S){return T}S=true;T=U.apply(this,arguments);U=null;return T}};R.wrap=function(S,T){return function(){var U=[S];M.apply(U,arguments);return T.apply(this,U)}};R.compose=function(){var S=arguments;return function(){var T=arguments;for(var U=S.length-1;U>=0;U--){T=[S[U].apply(this,T)]}return T[0]}};R.after=function(T,S){return function(){if(--T<1){return S.apply(this,arguments)}}};R.keys=h||function(U){if(U!==Object(U)){throw new TypeError("Invalid object")}var T=[];for(var S in U){if(R.has(U,S)){T.push(S)}}return T};R.values=function(U){var S=[];for(var T in U){if(R.has(U,T)){S.push(U[T])}}return S};R.pairs=function(U){var T=[];for(var S in U){if(R.has(U,S)){T.push([S,U[S]])}}return T};R.invert=function(U){var S={};for(var T in U){if(R.has(U,T)){S[U[T]]=T}}return S};R.functions=R.methods=function(U){var T=[];for(var S in U){if(R.isFunction(U[S])){T.push(S)}}return T.sort()};R.extend=function(S){N(t.call(arguments,1),function(T){if(T){for(var U in T){S[U]=T[U]}}});return S};R.pick=function(T){var U={};var S=D.apply(H,t.call(arguments,1));N(S,function(V){if(V in T){U[V]=T[V]}});return U};R.omit=function(U){var V={};var T=D.apply(H,t.call(arguments,1));for(var S in U){if(!R.contains(T,S)){V[S]=U[S]}}return V};R.defaults=function(S){N(t.call(arguments,1),function(T){if(T){for(var U in T){if(S[U]===void 0){S[U]=T[U]}}}});return S};R.clone=function(S){if(!R.isObject(S)){return S}return R.isArray(S)?S.slice():R.extend({},S)};R.tap=function(T,S){S(T);return T};var O=function(Z,Y,T,U){if(Z===Y){return Z!==0||1/Z==1/Y}if(Z==null||Y==null){return Z===Y}if(Z instanceof R){Z=Z._wrapped}if(Y instanceof R){Y=Y._wrapped}var W=g.call(Z);if(W!=g.call(Y)){return false}switch(W){case"[object String]":return Z==String(Y);case"[object Number]":return Z!=+Z?Y!=+Y:(Z==0?1/Z==1/Y:Z==+Y);case"[object Date]":case"[object Boolean]":return +Z==+Y;case"[object RegExp]":return Z.source==Y.source&&Z.global==Y.global&&Z.multiline==Y.multiline&&Z.ignoreCase==Y.ignoreCase}if(typeof Z!="object"||typeof Y!="object"){return false}var S=T.length;while(S--){if(T[S]==Z){return U[S]==Y}}var X=Z.constructor,V=Y.constructor;if(X!==V&&!(R.isFunction(X)&&(X instanceof X)&&R.isFunction(V)&&(V instanceof V))){return false}T.push(Z);U.push(Y);var ac=0,ab=true;if(W=="[object Array]"){ac=Z.length;ab=ac==Y.length;if(ab){while(ac--){if(!(ab=O(Z[ac],Y[ac],T,U))){break}}}}else{for(var aa in Z){if(R.has(Z,aa)){ac++;if(!(ab=R.has(Y,aa)&&O(Z[aa],Y[aa],T,U))){break}}}if(ab){for(aa in Y){if(R.has(Y,aa)&&!(ac--)){break}}ab=!ac}}T.pop();U.pop();return ab};R.isEqual=function(T,S){return O(T,S,[],[])};R.isEmpty=function(T){if(T==null){return true}if(R.isArray(T)||R.isString(T)){return T.length===0}for(var S in T){if(R.has(T,S)){return false}}return true};R.isElement=function(S){return !!(S&&S.nodeType===1)};R.isArray=z||function(S){return g.call(S)=="[object Array]"};R.isObject=function(S){return S===Object(S)};N(["Arguments","Function","String","Number","Date","RegExp"],function(S){R["is"+S]=function(T){return g.call(T)=="[object "+S+"]"}});if(!R.isArguments(arguments)){R.isArguments=function(S){return !!(S&&R.has(S,"callee"))}}if(typeof(/./)!=="function"){R.isFunction=function(S){return typeof S==="function"}}R.isFinite=function(S){return isFinite(S)&&!isNaN(parseFloat(S))};R.isNaN=function(S){return R.isNumber(S)&&S!=+S};R.isBoolean=function(S){return S===true||S===false||g.call(S)=="[object Boolean]"};R.isNull=function(S){return S===null};R.isUndefined=function(S){return S===void 0};R.has=function(T,S){return o.call(T,S)};R.noConflict=function(){B._=p;return this};R.identity=function(S){return S};R.times=function(W,V,U){var S=Array(Math.max(0,W));for(var T=0;T<W;T++){S[T]=V.call(U,T)}return S};R.random=function(T,S){if(S==null){S=T;T=0}return T+Math.floor(Math.random()*(S-T+1))};var r={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};r.unescape=R.invert(r.escape);var P={escape:new RegExp("["+R.keys(r.escape).join("")+"]","g"),unescape:new RegExp("("+R.keys(r.unescape).join("|")+")","g")};R.each(["escape","unescape"],function(S){R[S]=function(T){if(T==null){return""}return(""+T).replace(P[S],function(U){return r[S][U]})}});R.result=function(S,U){if(S==null){return void 0}var T=S[U];return R.isFunction(T)?T.call(S):T};R.mixin=function(S){N(R.functions(S),function(T){var U=R[T]=S[T];R.prototype[T]=function(){var V=[this._wrapped];M.apply(V,arguments);return x.call(this,U.apply(R,V))}})};var E=0;R.uniqueId=function(S){var T=++E+"";return S?S+T:T};R.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/;var m={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var n=/\\|'|\r|\n|\t|\u2028|\u2029/g;R.template=function(aa,V,U){var T;U=R.defaults({},U,R.templateSettings);var W=new RegExp([(U.escape||A).source,(U.interpolate||A).source,(U.evaluate||A).source].join("|")+"|$","g");var X=0;var S="__p+='";aa.replace(W,function(ac,ad,ab,af,ae){S+=aa.slice(X,ae).replace(n,function(ag){return"\\"+m[ag]});if(ad){S+="'+\n((__t=("+ad+"))==null?'':_.escape(__t))+\n'"}if(ab){S+="'+\n((__t=("+ab+"))==null?'':__t)+\n'"}if(af){S+="';\n"+af+"\n__p+='"}X=ae+ac.length;return ac});S+="';\n";if(!U.variable){S="with(obj||{}){\n"+S+"}\n"}S="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+S+"return __p;\n";try{T=new Function(U.variable||"obj","_",S)}catch(Y){Y.source=S;throw Y}if(V){return T(V,R)}var Z=function(ab){return T.call(this,ab,R)};Z.source="function("+(U.variable||"obj")+"){\n"+S+"}";return Z};R.chain=function(S){return R(S).chain()};var x=function(S){return this._chain?R(S).chain():S};R.mixin(R);N(["pop","push","reverse","shift","sort","splice","unshift"],function(S){var T=H[S];R.prototype[S]=function(){var U=this._wrapped;T.apply(U,arguments);if((S=="shift"||S=="splice")&&U.length===0){delete U[0]}return x.call(this,U)}});N(["concat","join","slice"],function(S){var T=H[S];R.prototype[S]=function(){return x.call(this,T.apply(this._wrapped,arguments))}});R.extend(R.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this)})()},{}],29:[function(b,c,a){(function(){var k=b("../../base"),g=b("lodash"),e=b("../../layout/navbar.js"),f=b("../../layout/footer.js"),h=b("../../routes/media/thumb.js"),d=k.extend({template:b("../../../templates/routes/media/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.upload":"performPick","click a.crop":"performCrop","click a.capture":"performCapture","click a.app":"handleAppLink"},initialize:function(l){this.app=l.app;this.mediaType=l.mediaType;this.mediaId=l.mediaId;this.media=this.app.db.fetchModel(l.mediaType,l.mediaId);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.media,"change",this.render,this);this.renderOnReady(this.media)},afterRender:function(){var m;var l=new e({app:this.app}),o=new h({app:this.app,mediaType:this.mediaType,mediaId:this.mediaId}),n=new f({app:this.app});this.appendSubview(l,this.$("#header"));this.appendSubview(o,this.$("#thumber"));this.appendSubview(n,this.$("#footer"));this.eachSubview(function(p){p.render()});g.defer(function(){this.$("div.tagsinput").remove();this.$("input[name=attribs]").tagsInput()},this)},context:function(){return this.getContext({media:this.media.templateVars()})},performSave:function(n){var l=this;n.preventDefault();var m=this.$("input[name=name]").val();var o=this.$("input[name=attribs]").val().split(",");this.media.save({userId:l.app.getUser().attributes.id,name:m,attribs:o},{success:function(){l.app.db.fetchCollection("unprocessedUploads").fetch({success:function(){var p=l.media.attributes.type.charAt(0).toUpperCase();p+=l.media.attributes.type.substr(1);l.app.setFlash("success",p+" Saved!")},error:l.app.error})},error:l.app.error})},performDelete:function(n){n.preventDefault();n.stopPropagation();var l=this;var m=confirm("Are you sure you want to delete "+l.media.attributes.name+"?");if(m){filepicker.remove(l.media.fpfile(),{policy:l.app.getUser().attributes.policy,signature:l.app.getUser().attributes.signature},function(){l.media.destroy({success:function(){l.app.navigate("",{trigger:true})},error:l.app.error})},l.app.error)}else{return false}},performPick:function(l){l.preventDefault();l.stopPropagation();this.media.pickThumbnail()},performCrop:function(l){l.preventDefault();l.stopPropagation();this.app.trigger("captureThumbnail")},performCapture:function(l){l.preventDefault();l.stopPropagation();this.app.trigger("captureThumbnail")}});c.exports=d}())},{"../../../templates/routes/media/edit.hbs":67,"../../base":45,"../../layout/footer.js":43,"../../layout/navbar.js":42,"../../routes/media/thumb.js":62,lodash:34}],27:[function(b,c,a){(function(){var k=b("../../base"),e=b("lodash"),g=b("js-thumb"),d=b("./carousel"),h=b("videojs"),f=k.extend({template:b("../../../templates/routes/media/show.hbs"),events:{},initialize:function(m){this.app=m.app;this.pageName=m.pageName;this.mediaType=m.mediaType;this.mediaId=m.mediaId;var l=this.app.db.fetchCollection("pages");this.page=this.app.db.fetchModel("page",m.mediaId);this.media=this.app.db.fetchModel(m.mediaType,m.mediaId);if(this.page.id){this.page.fetch()}if(this.media.id){this.media.fetch()}this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);this.listenTo(this.media,"change",this.render,this);l.once("ready",function(){var n=l.find(function(o){return o.attributes.name.toLowerCase()===m.pageName.toLowerCase()});if(n){this.page.set(n.attributes)}else{this.page.set({name:"404"});this.app.error("Error 404: The page could not be found")}},this)},afterRender:function(){var m=this,l=new d({app:this.app,pageName:this.pageName}),n=function(p,o){o.on("ended",function(){m.app.trigger("videoEnded",m.media)})};this.appendSubview(l,this.$("#carouselWrapper"));this.eachSubview(function(o){o.render()});if(this.media.attributes.type==="video"){e.defer(function(){g.loadVideo(this.$("video")[0],{autoplay:true,resize:true},n)},this)}},context:function(){return this.getContext({media:this.media.templateVars()})}});c.exports=f}())},{"../../../templates/routes/media/show.hbs":68,"../../base":45,"./carousel":64,"js-thumb":70,lodash:34,videojs:69}],39:[function(b,c,a){(function(){(function(){var f=b("./base"),g=b("backbone"),e=b("lodash"),d=f.extend({name:"media",urlRoot:function(){return this.app.config.baseUrl+"/Media_is_an_abstract_class_do_not_use_it"},defaults:{name:"Untitled",s3key:null,fpkey:null,mimeType:null,originalFilesize:null,userId:null,thumbnailS3key:null,thumbnailFpkey:null,attribs:[],reviewIssue:null,status:0,type:"unknown"},sync:function(n,l,k){var h=this;if(n==="create"||n==="update"){l.set("userAttributes",JSON.stringify(l.get("attribs")))}var m=function(){if(!l.attributes.thumbnailS3key&&l.attributes.thumbnailFpkey&&l.attributes.debug!==true){filepicker.stat(h.thumbnailFpfile(),{path:true,policy:h.app.db.fetchModel("user").attributes.policy,signature:h.app.db.fetchModel("user").attributes.signature},function(o){l.set("thumbnailS3key",o.path);g.sync(n,l,k)})}else{g.sync(n,l,k)}};if(!l.attributes.s3key&&l.attributes.fpkey&&l.attributes.debug!==true){filepicker.stat(h.fpfile(),{path:true,policy:h.app.db.fetchModel("user").attributes.policy,signature:h.app.db.fetchModel("user").attributes.signature},function(o){l.set("s3key",o.path);m()})}else{m()}},destroy:function(k){var h=this;if(k.success){var l=k.success;k.success=function(){h.app.db.fetchCollection("unprocessedUploads").fetch();if(l){l()}}}g.sync("delete",this,k)},parse:function(k,h){if(k.image){k=k.image;delete k.image}if(k.video){k=k.video;delete k.video}try{k.attribs=JSON.parse(k.userAttributes)}catch(l){k.attribs=[]}finally{delete k.userAttributes}return k},pickThumbnail:function(){var h=this;filepicker.pick({extensions:h.app.config.imageExts,path:h.app.db.fetchModel("user").attributes.path,signature:h.app.db.fetchModel("user").attributes.signature,policy:h.app.db.fetchModel("user").attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP","URL","IMAGE_SEARCH"]},function(k){h.cropThumbnail(k)},function(k){if(k.code!==101){h.app.error(k)}})},cropThumbnail:function(k){var h=this;if(!k){k=h.fpfile()}h.app.setFlash("info","Please wait while we process the image...");filepicker.convert(k,{signature:h.app.db.fetchModel("user").attributes.signature,policy:h.app.db.fetchModel("user").attributes.policy,width:h.app.config.thumbnailDims.width,height:h.app.config.thumbnailDims.height,fit:"crop"},{path:h.app.getUser().attributes.path,location:"s3",access:"public"},function(l){h.save({thumbnailFpkey:l.url,thumbnailS3key:null},{success:function(){h.app.setFlash("success","Thumbnail saved!");h.app.db.fetchCollection("unprocessedUploads").fetch()},error:h.app.error})},function(l){h.app.error(l)})},useThumbnail:function(k){var h=this;h.app.setFlash("info","Please wait while we process the image...");filepicker.store(k,{signature:h.app.getUser().attributes.signature,policy:h.app.getUser().attributes.policy,mimetype:"image/png",base64decode:true,path:h.app.getUser().attributes.path,location:"s3",access:"public"},function(l){h.save({thumbnailFpkey:l.url,thumbnailS3key:null},{success:function(){h.app.setFlash("success","Thumbnail saved!");h.app.db.fetchCollection("unprocessedUploads").fetch()},error:h.app.error})},function(l){h.app.error(l)})},fpfile:function(){return{url:this.attributes.fpkey,filename:this.attributes.name,mimetype:this.attributes.mimeType,isWriteable:false,size:this.attributes.originalFilesize}},thumbnailFpfile:function(){return{url:this.attributes.thumbnailFpkey}},templateVars:function(l,k){var h=e.clone(this.attributes);k=(k===true);if(h.s3key){h.url=self.app.config.s3prefix+h.s3key}else{h.thumbnailUrl=self.app.util.placeholderThumbnail(k)}if(h.thumbnailS3key){h.thumbnailUrl=self.app.config.s3prefix+h.thumbnailS3key}else{h.thumbnailUrl=self.app.util.placeholderThumbnail(k)}h.isImage=h.type==="image";h.isVideo=h.type==="video";h.attribs=e.map(h.attribs,function(m){return m.replace(/^(.*:)/,"<strong>$1</strong>")});if(this.app.isLoggedIn()){h.editHref="/media/"+h.type+"/"+h.id+"/edit"}if(l){h.playerUrl="page/"+l+"/"+h.type+"/"+h.id}return h}});c.exports=d}())})()},{"./base":36,backbone:54,lodash:34}],45:[function(b,c,a){(function(){var e=b("ribcage-view"),d=b("lodash"),f=e.extend({renderOnReady:function(){var l=Array.prototype.slice.call(arguments),g=this,k=l.length,h=function(){k--;if(k<0){g.render()}};d.each(l,function(m){m.once("ready",h,m)});h()},getContext:function(l){var h=l||{},g={isLoggedIn:this.app.isLoggedIn(),flash:d.clone(this.app.flash),debug:this.app.bootstrap.debug?true:false},k=this.app.getUserVars();return d.extend({},k,g,h)},context:function(){return this.getContext()},handleAppLink:function(g){this.app.handleAppLink(g)},events:{"click a.app":"handleAppLink"},beforeRender:function(){this.eachSubview(function(g){g.close()});this.$el.empty()}});c.exports=f}())},{lodash:34,"ribcage-view":71}],69:[function(require,module,exports){(function(){(function(){document.createElement("video");document.createElement("audio");var vjs=function(id,options,ready){var tag;if(typeof id==="string"){if(id.indexOf("#")===0){id=id.slice(1)}if(vjs.players[id]){return vjs.players[id]}else{tag=vjs.el(id)}}else{tag=id}if(!tag||!tag.nodeName){throw new TypeError("The element or ID supplied is not valid. (videojs)")}return tag.player||new vjs.Player(tag,options,ready)};var videojs=vjs;vjs.CDN_VERSION="4.0";vjs.ACCESS_PROTOCOL=("https:"==document.location.protocol?"https://":"http://");vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};if(vjs.CDN_VERSION!=="GENERATED_CDN_VSN"){videojs.options.flash["swf"]=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"}vjs.players={};vjs.CoreObject=vjs.CoreObject=function(){};vjs.CoreObject.extend=function(props){var init,subObj;props=props||{};init=props.init||props.init||this.prototype.init||this.prototype.init||function(){};subObj=function(){init.apply(this,arguments)};subObj.prototype=vjs.obj.create(this.prototype);subObj.prototype.constructor=subObj;subObj.extend=vjs.CoreObject.extend;subObj.create=vjs.CoreObject.create;for(var name in props){if(props.hasOwnProperty(name)){subObj.prototype[name]=props[name]}}return subObj};vjs.CoreObject.create=function(){var inst=vjs.obj.create(this.prototype);this.apply(inst,arguments);return inst};vjs.on=function(elem,type,fn){var data=vjs.getData(elem);if(!data.handlers){data.handlers={}}if(!data.handlers[type]){data.handlers[type]=[]}if(!fn.guid){fn.guid=vjs.guid++}data.handlers[type].push(fn);if(!data.dispatcher){data.disabled=false;data.dispatcher=function(event){if(data.disabled){return}event=vjs.fixEvent(event);var handlers=data.handlers[event.type];if(handlers){var handlersCopy=handlers.slice(0);for(var m=0,n=handlersCopy.length;m<n;m++){if(event.isImmediatePropagationStopped()){break}else{handlersCopy[m].call(elem,event)}}}}}if(data.handlers[type].length==1){if(document.addEventListener){elem.addEventListener(type,data.dispatcher,false)}else{if(document.attachEvent){elem.attachEvent("on"+type,data.dispatcher)}}}};vjs.off=function(elem,type,fn){if(!vjs.hasData(elem)){return}var data=vjs.getData(elem);if(!data.handlers){return}var removeType=function(t){data.handlers[t]=[];vjs.cleanUpEvents(elem,t)};if(!type){for(var t in data.handlers){removeType(t)}return}var handlers=data.handlers[type];if(!handlers){return}if(!fn){removeType(type);return}if(fn.guid){for(var n=0;n<handlers.length;n++){if(handlers[n].guid===fn.guid){handlers.splice(n--,1)}}}vjs.cleanUpEvents(elem,type)};vjs.cleanUpEvents=function(elem,type){var data=vjs.getData(elem);if(data.handlers[type].length===0){delete data.handlers[type];if(document.removeEventListener){elem.removeEventListener(type,data.dispatcher,false)}else{if(document.detachEvent){elem.detachEvent("on"+type,data.dispatcher)}}}if(vjs.isEmpty(data.handlers)){delete data.handlers;delete data.dispatcher;delete data.disabled}if(vjs.isEmpty(data)){vjs.removeData(elem)}};vjs.fixEvent=function(event){function returnTrue(){return true}function returnFalse(){return false}if(!event||!event.isPropagationStopped){var old=event||window.event;event={};for(var key in old){if(key!=="layerX"&&key!=="layerY"){event[key]=old[key]}}if(!event.target){event.target=event.srcElement||document}event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;event.preventDefault=function(){if(old.preventDefault){old.preventDefault()}event.returnValue=false;event.isDefaultPrevented=returnTrue};event.isDefaultPrevented=returnFalse;event.stopPropagation=function(){if(old.stopPropagation){old.stopPropagation()}event.cancelBubble=true;event.isPropagationStopped=returnTrue};event.isPropagationStopped=returnFalse;event.stopImmediatePropagation=function(){if(old.stopImmediatePropagation){old.stopImmediatePropagation()}event.isImmediatePropagationStopped=returnTrue;event.stopPropagation()};event.isImmediatePropagationStopped=returnFalse;if(event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}event.which=event.charCode||event.keyCode;if(event.button!=null){event.button=(event.button&1?0:(event.button&4?1:(event.button&2?2:0)))}}return event};vjs.trigger=function(elem,event){var elemData=(vjs.hasData(elem))?vjs.getData(elem):{};var parent=elem.parentNode||elem.ownerDocument;if(typeof event==="string"){event={type:event,target:elem}}event=vjs.fixEvent(event);if(elemData.dispatcher){elemData.dispatcher.call(elem,event)}if(parent&&!event.isPropagationStopped()){vjs.trigger(parent,event)}else{if(!parent&&!event.isDefaultPrevented()){var targetData=vjs.getData(event.target);if(event.target[event.type]){targetData.disabled=true;if(typeof event.target[event.type]==="function"){event.target[event.type]()}targetData.disabled=false}}}return !event.isDefaultPrevented()};vjs.one=function(elem,type,fn){vjs.on(elem,type,function(){vjs.off(elem,type,arguments.callee);fn.apply(this,arguments)})};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(tagName,properties){var el=document.createElement(tagName||"div");for(var propName in properties){if(hasOwnProp.call(properties,propName)){if(propName.indexOf("aria-")!==-1||propName=="role"){el.setAttribute(propName,properties[propName])}else{el[propName]=properties[propName]}}}return el};vjs.capitalize=function(string){return string.charAt(0).toUpperCase()+string.slice(1)};vjs.obj={};vjs.obj.create=Object.create||function(obj){function F(){}F.prototype=obj;return new F()};vjs.obj.each=function(obj,fn,context){for(var key in obj){if(hasOwnProp.call(obj,key)){fn.call(context||this,key,obj[key])}}};vjs.obj.merge=function(obj1,obj2){if(!obj2){return obj1}for(var key in obj2){if(hasOwnProp.call(obj2,key)){obj1[key]=obj2[key]}}return obj1};vjs.obj.deepMerge=function(obj1,obj2){var key,val1,val2,objDef;objDef="[object Object]";obj1=vjs.obj.copy(obj1);for(key in obj2){if(hasOwnProp.call(obj2,key)){val1=obj1[key];val2=obj2[key];if(vjs.obj.isPlain(val1)&&vjs.obj.isPlain(val2)){obj1[key]=vjs.obj.deepMerge(val1,val2)}else{obj1[key]=obj2[key]}}}return obj1};vjs.obj.copy=function(obj){return vjs.obj.merge({},obj)};vjs.obj.isPlain=function(obj){return !!obj&&typeof obj==="object"&&obj.toString()==="[object Object]"&&obj.constructor===Object};vjs.bind=function(context,fn,uid){if(!fn.guid){fn.guid=vjs.guid++}var ret=function(){return fn.apply(context,arguments)};ret.guid=(uid)?uid+"_"+fn.guid:fn.guid;return ret};vjs.cache={};vjs.guid=1;vjs.expando="vdata"+(new Date()).getTime();vjs.getData=function(el){var id=el[vjs.expando];if(!id){id=el[vjs.expando]=vjs.guid++;vjs.cache[id]={}}return vjs.cache[id]};vjs.hasData=function(el){var id=el[vjs.expando];return !(!id||vjs.isEmpty(vjs.cache[id]))};vjs.removeData=function(el){var id=el[vjs.expando];if(!id){return}delete vjs.cache[id];try{delete el[vjs.expando]}catch(e){if(el.removeAttribute){el.removeAttribute(vjs.expando)}else{el[vjs.expando]=null}}};vjs.isEmpty=function(obj){for(var prop in obj){if(obj[prop]!==null){return false}}return true};vjs.addClass=function(element,classToAdd){if((" "+element.className+" ").indexOf(" "+classToAdd+" ")==-1){element.className=element.className===""?classToAdd:element.className+" "+classToAdd}};vjs.removeClass=function(element,classToRemove){if(element.className.indexOf(classToRemove)==-1){return}var classNames=element.className.split(" ");for(var i=classNames.length-1;i>=0;i--){if(classNames[i]===classToRemove){classNames.splice(i,1)}}element.className=classNames.join(" ")};vjs.TEST_VID=vjs.createEl("video");vjs.USER_AGENT=navigator.userAgent;vjs.IS_IPHONE=!!vjs.USER_AGENT.match(/iPhone/i);vjs.IS_IPAD=!!vjs.USER_AGENT.match(/iPad/i);vjs.IS_IPOD=!!vjs.USER_AGENT.match(/iPod/i);vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD;vjs.IOS_VERSION=(function(){var match=vjs.USER_AGENT.match(/OS (\d+)_/i);if(match&&match[1]){return match[1]}})();vjs.IS_ANDROID=!!vjs.USER_AGENT.match(/Android.*AppleWebKit/i);vjs.ANDROID_VERSION=(function(){var match=vjs.USER_AGENT.match(/Android (\d+)\./i);if(match&&match[1]){return match[1]}return null})();vjs.IS_FIREFOX=function(){return !!vjs.USER_AGENT.match("Firefox")};vjs.getAttributeValues=function(tag){var obj={};var knownBooleans=",autoplay,controls,loop,muted,default,";if(tag&&tag.attributes&&tag.attributes.length>0){var attrs=tag.attributes;var attrName,attrVal;for(var i=attrs.length-1;i>=0;i--){attrName=attrs[i].name;attrVal=attrs[i].value;if(typeof tag[attrName]==="boolean"||knownBooleans.indexOf(","+attrName+",")!==-1){attrVal=(attrVal!==null)?true:false}obj[attrName]=attrVal}}return obj};vjs.getComputedDimension=function(el,strCssRule){var strValue="";if(document.defaultView&&document.defaultView.getComputedStyle){strValue=document.defaultView.getComputedStyle(el,"").getPropertyValue(strCssRule)}else{if(el.currentStyle){strValue=el["client"+strCssRule.substr(0,1).toUpperCase()+strCssRule.substr(1)]+"px"}}return strValue};vjs.insertFirst=function(child,parent){if(parent.firstChild){parent.insertBefore(child,parent.firstChild)}else{parent.appendChild(child)}};vjs.support={};vjs.el=function(id){if(id.indexOf("#")===0){id=id.slice(1)}return document.getElementById(id)};vjs.formatTime=function(seconds,guide){guide=guide||seconds;var s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600);h=(h>0||gh>0)?h+":":"";m=(((h||gm>=10)&&m<10)?"0"+m:m)+":";s=(s<10)?"0"+s:s;return h+m+s};vjs.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return false}};vjs.unblockTextSelection=function(){document.onselectstart=function(){return true}};vjs.trim=function(string){return string.toString().replace(/^\s+/,"").replace(/\s+$/,"")};vjs.round=function(num,dec){if(!dec){dec=0}return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec)};vjs.createTimeRange=function(start,end){return{length:1,start:function(){return start},end:function(){return end}}};vjs.get=function(url,onSuccess,onError){var local=(url.indexOf("file:")===0||(window.location.href.indexOf("file:")===0&&url.indexOf("http")===-1));if(typeof XMLHttpRequest==="undefined"){window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(f){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(g){}throw new Error("This browser does not support XMLHttpRequest.")}}var request=new XMLHttpRequest();try{request.open("GET",url)}catch(e){onError(e)}request.onreadystatechange=function(){if(request.readyState===4){if(request.status===200||local&&request.status===0){onSuccess(request.responseText)}else{if(onError){onError()}}}};try{request.send()}catch(e){if(onError){onError(e)}}};vjs.setLocalStorage=function(key,value){try{var localStorage=window.localStorage||false;if(!localStorage){return}localStorage[key]=value}catch(e){if(e.code==22||e.code==1014){vjs.log("LocalStorage Full (VideoJS)",e)}else{if(e.code==18){vjs.log("LocalStorage not allowed (VideoJS)",e)}else{vjs.log("LocalStorage Error (VideoJS)",e)}}}};vjs.getAbsoluteURL=function(url){if(!url.match(/^https?:\/\//)){url=vjs.createEl("div",{innerHTML:'<a href="'+url+'">x</a>'}).firstChild.href}return url};vjs.log=function(){vjs.log.history=vjs.log.history||[];vjs.log.history.push(arguments);if(window.console){window.console.log(Array.prototype.slice.call(arguments))}};vjs.findPosition=function(el){var box,docEl,body,clientLeft,scrollLeft,left,clientTop,scrollTop,top;if(el.getBoundingClientRect&&el.parentNode){box=el.getBoundingClientRect()}if(!box){return{left:0,top:0}}docEl=document.documentElement;body=document.body;clientLeft=docEl.clientLeft||body.clientLeft||0;scrollLeft=window.pageXOffset||body.scrollLeft;left=box.left+scrollLeft-clientLeft;clientTop=docEl.clientTop||body.clientTop||0;scrollTop=window.pageYOffset||body.scrollTop;top=box.top+scrollTop-clientTop;return{left:left,top:top}};vjs.Component=vjs.CoreObject.extend({init:function(player,options,ready){this.player_=player;this.options_=vjs.obj.copy(this.options_);options=this.options(options);this.id_=options.id||((options.el&&options.el["id"])?options.el["id"]:player.id()+"_component_"+vjs.guid++);this.name_=options.name||null;this.el_=options.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(ready)}});vjs.Component.prototype.dispose=function(){if(this.children_){for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i].dispose){this.children_[i].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_)}vjs.removeData(this.el_);this.el_=null};vjs.Component.prototype.player_;vjs.Component.prototype.player=function(){return this.player_};vjs.Component.prototype.options_;vjs.Component.prototype.options=function(obj){if(obj===undefined){return this.options_}return this.options_=vjs.obj.deepMerge(this.options_,obj)};vjs.Component.prototype.el_;vjs.Component.prototype.createEl=function(tagName,attributes){return vjs.createEl(tagName,attributes)};vjs.Component.prototype.el=function(){return this.el_};vjs.Component.prototype.contentEl_;vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};vjs.Component.prototype.id_;vjs.Component.prototype.id=function(){return this.id_};vjs.Component.prototype.name_;vjs.Component.prototype.name=function(){return this.name_};vjs.Component.prototype.children_;vjs.Component.prototype.children=function(){return this.children_};vjs.Component.prototype.childIndex_;vjs.Component.prototype.getChildById=function(id){return this.childIndex_[id]};vjs.Component.prototype.childNameIndex_;vjs.Component.prototype.getChild=function(name){return this.childNameIndex_[name]};vjs.Component.prototype.addChild=function(child,options){var component,componentClass,componentName,componentId;if(typeof child==="string"){componentName=child;options=options||{};componentClass=options.componentClass||vjs.capitalize(componentName);options.name=componentName;component=new vjs[componentClass](this.player_||this,options)}else{component=child}this.children_.push(component);if(typeof component.id==="function"){this.childIndex_[component.id()]=component}componentName=componentName||(component.name&&component.name());if(componentName){this.childNameIndex_[componentName]=component}if(typeof component.el==="function"&&component.el()){this.contentEl().appendChild(component.el())}return component};vjs.Component.prototype.removeChild=function(component){if(typeof component==="string"){component=this.getChild(component)}if(!component||!this.children_){return}var childFound=false;for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i]===component){childFound=true;this.children_.splice(i,1);break}}if(!childFound){return}this.childIndex_[component.id]=null;this.childNameIndex_[component.name]=null;var compEl=component.el();if(compEl&&compEl.parentNode===this.contentEl()){this.contentEl().removeChild(component.el())}};vjs.Component.prototype.initChildren=function(){var options=this.options_;if(options&&options.children){var self=this;vjs.obj.each(options.children,function(name,opts){if(opts===false){return}var tempAdd=function(){self[name]=self.addChild(name,opts)};if(opts.loadEvent){}else{tempAdd()}})}};vjs.Component.prototype.buildCSSClass=function(){return""};vjs.Component.prototype.on=function(type,fn){vjs.on(this.el_,type,vjs.bind(this,fn));return this};vjs.Component.prototype.off=function(type,fn){vjs.off(this.el_,type,fn);return this};vjs.Component.prototype.one=function(type,fn){vjs.one(this.el_,type,vjs.bind(this,fn));return this};vjs.Component.prototype.trigger=function(type,event){vjs.trigger(this.el_,type,event);return this};vjs.Component.prototype.isReady_;vjs.Component.prototype.isReadyOnInitFinish_=true;vjs.Component.prototype.readyQueue_;vjs.Component.prototype.ready=function(fn){if(fn){if(this.isReady_){fn.call(this)}else{if(this.readyQueue_===undefined){this.readyQueue_=[]}this.readyQueue_.push(fn)}}return this};vjs.Component.prototype.triggerReady=function(){this.isReady_=true;var readyQueue=this.readyQueue_;if(readyQueue&&readyQueue.length>0){for(var i=0,j=readyQueue.length;i<j;i++){readyQueue[i].call(this)}this.readyQueue_=[];this.trigger("ready")}};vjs.Component.prototype.addClass=function(classToAdd){vjs.addClass(this.el_,classToAdd);return this};vjs.Component.prototype.removeClass=function(classToRemove){vjs.removeClass(this.el_,classToRemove);return this};vjs.Component.prototype.show=function(){this.el_.style.display="block";return this};vjs.Component.prototype.hide=function(){this.el_.style.display="none";return this};vjs.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in");return this};vjs.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};vjs.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};vjs.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};vjs.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};vjs.Component.prototype.width=function(num,skipListeners){return this.dimension("width",num,skipListeners)};vjs.Component.prototype.height=function(num,skipListeners){return this.dimension("height",num,skipListeners)};vjs.Component.prototype.dimensions=function(width,height){return this.width(width,true).height(height)};vjs.Component.prototype.dimension=function(widthOrHeight,num,skipListeners){if(num!==undefined){if((""+num).indexOf("%")!==-1||(""+num).indexOf("px")!==-1){this.el_.style[widthOrHeight]=num}else{if(num==="auto"){this.el_.style[widthOrHeight]=""}else{this.el_.style[widthOrHeight]=num+"px"}}if(!skipListeners){this.trigger("resize")}return this}if(!this.el_){return 0}var val=this.el_.style[widthOrHeight];var pxIndex=val.indexOf("px");if(pxIndex!==-1){return parseInt(val.slice(0,pxIndex),10)}else{return parseInt(this.el_["offset"+vjs.capitalize(widthOrHeight)],10)}};vjs.Button=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);var touchstart=false;this.on("touchstart",function(){touchstart=true});this.on("touchmove",function(){touchstart=false});var self=this;this.on("touchend",function(event){if(touchstart){self.onClick(event)}event.preventDefault();event.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});vjs.Button.prototype.createEl=function(type,props){props=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},props);return vjs.Component.prototype.createEl.call(this,type,props)};vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)};vjs.Button.prototype.onClick=function(){};vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Button.prototype.onKeyPress=function(event){if(event.which==32||event.which==13){event.preventDefault();this.onClick()}};vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);player.on(this.playerEvent,vjs.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",vjs.bind(this,this.update));player.ready(vjs.bind(this,this.update));this.boundEvents={}}});vjs.Slider.prototype.createEl=function(type,props){props=props||{};props.className=props.className+" vjs-slider";props=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},props);return vjs.Component.prototype.createEl.call(this,type,props)};vjs.Slider.prototype.onMouseDown=function(event){event.preventDefault();vjs.blockTextSelection();this.boundEvents.move=vjs.bind(this,this.onMouseMove);this.boundEvents.end=vjs.bind(this,this.onMouseUp);vjs.on(document,"mousemove",this.boundEvents.move);vjs.on(document,"mouseup",this.boundEvents.end);vjs.on(document,"touchmove",this.boundEvents.move);vjs.on(document,"touchend",this.boundEvents.end);this.onMouseMove(event)};vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection();vjs.off(document,"mousemove",this.boundEvents.move,false);vjs.off(document,"mouseup",this.boundEvents.end,false);vjs.off(document,"touchmove",this.boundEvents.move,false);vjs.off(document,"touchend",this.boundEvents.end,false);this.update()};vjs.Slider.prototype.update=function(){if(!this.el_){return}var barProgress,progress=this.getPercent(),handle=this.handle,bar=this.bar;if(isNaN(progress)){progress=0}barProgress=progress;if(handle){var box=this.el_,boxWidth=box.offsetWidth,handleWidth=handle.el().offsetWidth,handlePercent=(handleWidth)?handleWidth/boxWidth:0,boxAdjustedPercent=1-handlePercent,adjustedProgress=progress*boxAdjustedPercent;barProgress=adjustedProgress+(handlePercent/2);handle.el().style.left=vjs.round(adjustedProgress*100,2)+"%"}bar.el().style.width=vjs.round(barProgress*100,2)+"%"};vjs.Slider.prototype.calculateDistance=function(event){var el,box,boxX,boxY,boxW,boxH,handle,pageX,pageY;el=this.el_;box=vjs.findPosition(el);boxW=boxH=el.offsetWidth;handle=this.handle;if(this.options_.vertical){boxY=box.top;if(event.changedTouches){pageY=event.changedTouches[0].pageY}else{pageY=event.pageY}if(handle){var handleH=handle.el().offsetHeight;boxY=boxY+(handleH/2);boxH=boxH-handleH}return Math.max(0,Math.min(1,((boxY-pageY)+boxH)/boxH))}else{boxX=box.left;if(event.changedTouches){pageX=event.changedTouches[0].pageX}else{pageX=event.pageX}if(handle){var handleW=handle.el().offsetWidth;boxX=boxX+(handleW/2);boxW=boxW-handleW}return Math.max(0,Math.min(1,(pageX-boxX)/boxW))}};vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider.prototype.onKeyPress=function(event){if(event.which==37){event.preventDefault();this.stepBack()}else{if(event.which==39){event.preventDefault();this.stepForward()}}};vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))};vjs.Slider.prototype.onClick=function(event){event.stopImmediatePropagation();event.preventDefault()};vjs.SliderHandle=vjs.Component.extend();vjs.SliderHandle.prototype.defaultValue=0;vjs.SliderHandle.prototype.createEl=function(type,props){props=props||{};props.className=props.className+" vjs-slider-handle";props=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},props);return vjs.Component.prototype.createEl.call(this,"div",props)};vjs.Menu=vjs.Component.extend();vjs.Menu.prototype.addItem=function(component){this.addChild(component);component.on("click",vjs.bind(this,function(){this.unlockShowing()}))};vjs.Menu.prototype.createEl=function(){var contentElType=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(contentElType,{className:"vjs-menu-content"});var el=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});el.appendChild(this.contentEl_);vjs.on(el,"click",function(event){event.preventDefault();event.stopImmediatePropagation()});return el};vjs.MenuItem=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);this.selected(options.selected)}});vjs.MenuItem.prototype.createEl=function(type,props){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},props))};vjs.MenuItem.prototype.onClick=function(){this.selected(true)};vjs.MenuItem.prototype.selected=function(selected){if(selected){this.addClass("vjs-selected");this.el_.setAttribute("aria-selected",true)}else{this.removeClass("vjs-selected");this.el_.setAttribute("aria-selected",false)}};vjs.MenuButton=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);this.menu=this.createMenu();this.addChild(this.menu);if(this.items&&this.items.length===0){this.hide()}this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",true);this.el_.setAttribute("role","button")}});vjs.MenuButton.prototype.buttonPressed_=false;vjs.MenuButton.prototype.createMenu=function(){var menu=new vjs.Menu(this.player_);if(this.options().title){menu.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))}this.items=this.createItems();if(this.items){for(var i=0;i<this.items.length;i++){menu.addItem(this.items[i])}}return menu};vjs.MenuButton.prototype.createItems=function(){};vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.MenuButton.prototype.onFocus=function(){};vjs.MenuButton.prototype.onBlur=function(){};vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};vjs.MenuButton.prototype.onKeyPress=function(event){event.preventDefault();if(event.which==32||event.which==13){if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}}else{if(event.which==27){if(this.buttonPressed_){this.unpressButton()}}}};vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=true;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",true);if(this.items&&this.items.length>0){this.items[0].el().focus()}};vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",false)};vjs.Player=vjs.Component.extend({init:function(tag,options,ready){this.tag=tag;options=vjs.obj.merge(this.getTagSettings(tag),options);this.cache_={};this.poster_=options.poster;this.controls_=options.controls;if(options.customControlsOnMobile!==true&&(vjs.IS_IOS||vjs.IS_ANDROID)){tag.controls=options.controls;this.controls_=false}else{tag.controls=false}vjs.Component.call(this,this,options,ready);this.one("play",function(e){var fpEvent={type:"firstplay",target:this.el_};var keepGoing=vjs.trigger(this.el_,fpEvent);if(!keepGoing){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()}});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);vjs.players[this.id_]=this;if(options.plugins){vjs.obj.each(options.plugins,function(key,val){this[key](val)},this)}}});vjs.Player.prototype.options_=vjs.options;vjs.Player.prototype.dispose=function(){vjs.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null}if(this.el_&&this.el_.player){this.el_.player=null}this.stopTrackingProgress();this.stopTrackingCurrentTime();if(this.tech){this.tech.dispose()}vjs.Component.prototype.dispose.call(this)};vjs.Player.prototype.getTagSettings=function(tag){var options={sources:[],tracks:[]};vjs.obj.merge(options,vjs.getAttributeValues(tag));if(tag.hasChildNodes()){var child,childName,children=tag.childNodes,i=0,j=children.length;for(;i<j;i++){child=children[i];childName=child.nodeName.toLowerCase();if(childName==="source"){options.sources.push(vjs.getAttributeValues(child))}else{if(childName==="track"){options.tracks.push(vjs.getAttributeValues(child))}}}}return options};vjs.Player.prototype.createEl=function(){var el=this.el_=vjs.Component.prototype.createEl.call(this,"div");var tag=this.tag;tag.removeAttribute("width");tag.removeAttribute("height");if(tag.hasChildNodes()){var nrOfChildNodes=tag.childNodes.length;for(var i=0,j=tag.childNodes;i<nrOfChildNodes;i++){if(j[0].nodeName.toLowerCase()=="source"||j[0].nodeName.toLowerCase()=="track"){tag.removeChild(j[0])}}}tag.id=tag.id||"vjs_video_"+vjs.guid++;el.id=tag.id;el.className=tag.className;tag.id+="_html5_api";tag.className="vjs-tech";tag.player=el.player=this;this.addClass("vjs-paused");this.width(this.options_.width,true);this.height(this.options_.height,true);if(tag.parentNode){tag.parentNode.insertBefore(el,tag)}vjs.insertFirst(tag,el);return el};vjs.Player.prototype.loadTech=function(techName,source){if(this.tech){this.unloadTech()}else{if(techName!=="Html5"&&this.tag){this.el_.removeChild(this.tag);this.tag.player=null;this.tag=null}}this.techName=techName;this.isReady_=false;var techReady=function(){this.player_.triggerReady();if(!this.features.progressEvents){this.player_.manualProgressOn()}if(!this.features.timeupdateEvents){this.player_.manualTimeUpdatesOn()}};var techOptions=vjs.obj.merge({source:source,parentEl:this.el_},this.options_[techName.toLowerCase()]);if(source){if(source.src==this.cache_.src&&this.cache_.currentTime>0){techOptions.startTime=this.cache_.currentTime}this.cache_.src=source.src}this.tech=new vjs[techName](this,techOptions);this.tech.ready(techReady)};vjs.Player.prototype.unloadTech=function(){this.isReady_=false;this.tech.dispose();if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}this.tech=false};vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=true;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=true;this.player_.manualProgressOff()})};vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=false;this.stopTrackingProgress()};vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){if(this.cache_.bufferEnd<this.buffered().end(0)){this.trigger("progress")}else{if(this.bufferedPercent()==1){this.stopTrackingProgress();this.trigger("progress")}}}),500)};vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=true;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=true;this.player_.manualTimeUpdatesOff()})};vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};vjs.Player.prototype.trackCurrentTime=function(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)};vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};vjs.Player.prototype.onEnded=function(){if(this.options_.loop){this.currentTime(0);this.play()}};vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused");vjs.addClass(this.el_,"vjs-playing")};vjs.Player.prototype.onFirstPlay=function(){if(this.options_.starttime){this.currentTime(this.options_.starttime)}};vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing");vjs.addClass(this.el_,"vjs-paused")};vjs.Player.prototype.onProgress=function(){if(this.bufferedPercent()==1){this.trigger("loadedalldata")}};vjs.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))};vjs.Player.prototype.onError=function(e){vjs.log("Video Error",e)};vjs.Player.prototype.onFullscreenChange=function(){if(this.isFullScreen){this.addClass("vjs-fullscreen")}else{this.removeClass("vjs-fullscreen")}};vjs.Player.prototype.cache_;vjs.Player.prototype.getCache=function(){return this.cache_};vjs.Player.prototype.techCall=function(method,arg){if(this.tech&&this.tech.isReady_){this.tech.ready(function(){this[method](arg)})}else{try{this.tech[method](arg)}catch(e){vjs.log(e);throw e}}};vjs.Player.prototype.techGet=function(method){if(this.tech.isReady_){try{return this.tech[method]()}catch(e){if(this.tech[method]===undefined){vjs.log("Video.js: "+method+" method not defined for "+this.techName+" playback technology.",e)}else{if(e.name=="TypeError"){vjs.log("Video.js: "+method+" unavailable on "+this.techName+" playback technology element.",e);this.tech.isReady_=false}else{vjs.log(e)}}throw e}}return};vjs.Player.prototype.play=function(){this.techCall("play");return this};vjs.Player.prototype.pause=function(){this.techCall("pause");return this};vjs.Player.prototype.paused=function(){return(this.techGet("paused")===false)?false:true};vjs.Player.prototype.currentTime=function(seconds){if(seconds!==undefined){this.cache_.lastSetCurrentTime=seconds;this.techCall("setCurrentTime",seconds);if(this.manualTimeUpdates){this.trigger("timeupdate")}return this}return this.cache_.currentTime=(this.techGet("currentTime")||0)};vjs.Player.prototype.duration=function(seconds){if(seconds!==undefined){this.cache_.duration=parseFloat(seconds);return this}return this.cache_.duration};vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};vjs.Player.prototype.buffered=function(){var buffered=this.techGet("buffered"),start=0,end=this.cache_.bufferEnd=this.cache_.bufferEnd||0;if(buffered&&buffered.length>0&&buffered.end(0)!==end){end=buffered.end(0);this.cache_.bufferEnd=end}return vjs.createTimeRange(start,end)};vjs.Player.prototype.bufferedPercent=function(){return(this.duration())?this.buffered().end(0)/this.duration():0};vjs.Player.prototype.volume=function(percentAsDecimal){var vol;if(percentAsDecimal!==undefined){vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.cache_.volume=vol;this.techCall("setVolume",vol);vjs.setLocalStorage("volume",vol);return this}vol=parseFloat(this.techGet("volume"));return(isNaN(vol))?1:vol};vjs.Player.prototype.muted=function(muted){if(muted!==undefined){this.techCall("setMuted",muted);return this}return this.techGet("muted")||false};vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||false};vjs.Player.prototype.requestFullScreen=function(){var requestFullScreen=vjs.support.requestFullScreen;this.isFullScreen=true;if(requestFullScreen){vjs.on(document,requestFullScreen.eventName,vjs.bind(this,function(e){this.isFullScreen=document[requestFullScreen.isFullScreen];if(this.isFullScreen===false){vjs.off(document,requestFullScreen.eventName,arguments.callee)}this.trigger("fullscreenchange")}));this.el_[requestFullScreen.requestFn]()}else{if(this.tech.supportsFullScreen()){this.techCall("enterFullScreen")}else{this.enterFullWindow();this.trigger("fullscreenchange")}}return this};vjs.Player.prototype.cancelFullScreen=function(){var requestFullScreen=vjs.support.requestFullScreen;this.isFullScreen=false;if(requestFullScreen){document[requestFullScreen.cancelFn]()}else{if(this.tech.supportsFullScreen()){this.techCall("exitFullScreen")}else{this.exitFullWindow();this.trigger("fullscreenchange")}}return this};vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=true;this.docOrigOverflow=document.documentElement.style.overflow;vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";vjs.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};vjs.Player.prototype.fullWindowOnEscKey=function(event){if(event.keyCode===27){if(this.isFullScreen===true){this.cancelFullScreen()}else{this.exitFullWindow()}}};vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=false;vjs.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;vjs.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};vjs.Player.prototype.selectSource=function(sources){for(var i=0,j=this.options_.techOrder;i<j.length;i++){var techName=vjs.capitalize(j[i]),tech=vjs[techName];if(tech.isSupported()){for(var a=0,b=sources;a<b.length;a++){var source=b[a];if(tech.canPlaySource(source)){return{source:source,tech:techName}}}}}return false};vjs.Player.prototype.src=function(source){if(source instanceof Array){var sourceTech=this.selectSource(source),techName;if(sourceTech){source=sourceTech.source;techName=sourceTech.tech;if(techName==this.techName){this.src(source)}else{this.loadTech(techName,source)}}else{this.el_.appendChild(vjs.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}}else{if(source instanceof Object){if(vjs[this.techName]["canPlaySource"](source)){this.src(source.src)}else{this.src([source])}}else{this.cache_.src=source;if(!this.isReady_){this.ready(function(){this.src(source)})}else{this.techCall("src",source);if(this.options_.preload=="auto"){this.load()}if(this.options_.autoplay){this.play()}}}}return this};vjs.Player.prototype.load=function(){this.techCall("load");return this};vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};vjs.Player.prototype.preload=function(value){if(value!==undefined){this.techCall("setPreload",value);this.options_.preload=value;return this}return this.techGet("preload")};vjs.Player.prototype.autoplay=function(value){if(value!==undefined){this.techCall("setAutoplay",value);this.options_.autoplay=value;return this}return this.techGet("autoplay",value)};vjs.Player.prototype.loop=function(value){if(value!==undefined){this.techCall("setLoop",value);this.options_.loop=value;return this}return this.techGet("loop")};vjs.Player.prototype.poster_;vjs.Player.prototype.poster=function(src){if(src!==undefined){this.poster_=src}return this.poster_};vjs.Player.prototype.controls_;vjs.Player.prototype.controls=function(controls){if(controls!==undefined){if(this.controls_!==controls){this.controls_=!!controls;this.trigger("controlschange")}}return this.controls_};vjs.Player.prototype.error=function(){return this.techGet("error")};vjs.Player.prototype.ended=function(){return this.techGet("ended")};(function(){var prefix,requestFS,div;div=document.createElement("div");requestFS={};if(div.cancelFullscreen!==undefined){requestFS.requestFn="requestFullscreen";requestFS.cancelFn="exitFullscreen";requestFS.eventName="fullscreenchange";requestFS.isFullScreen="fullScreen"}else{if(document.mozCancelFullScreen){prefix="moz";requestFS.isFullScreen=prefix+"FullScreen"}else{prefix="webkit";requestFS.isFullScreen=prefix+"IsFullScreen"}if(div[prefix+"RequestFullScreen"]){requestFS.requestFn=prefix+"RequestFullScreen";requestFS.cancelFn=prefix+"CancelFullScreen"}requestFS.eventName=prefix+"fullscreenchange"}if(document[requestFS.cancelFn]){vjs.support.requestFullScreen=requestFS}})();vjs.ControlBar=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);if(!player.controls()){this.disable()}player.one("play",vjs.bind(this,function(){var touchstart,fadeIn=vjs.bind(this,this.fadeIn),fadeOut=vjs.bind(this,this.fadeOut);this.fadeOut();if(!("ontouchstart" in window)){this.player_.on("mouseover",fadeIn);this.player_.on("mouseout",fadeOut);this.player_.on("pause",vjs.bind(this,this.lockShowing));this.player_.on("play",vjs.bind(this,this.unlockShowing))}touchstart=false;this.player_.on("touchstart",function(){touchstart=true});this.player_.on("touchmove",function(){touchstart=false});this.player_.on("touchend",vjs.bind(this,function(event){var idx;if(touchstart){idx=this.el().className.search("fade-in");if(idx!==-1){this.fadeOut()}else{this.fadeIn()}}touchstart=false;if(!this.player_.paused()){event.preventDefault()}}))}))}});vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})};vjs.ControlBar.prototype.fadeIn=function(){vjs.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};vjs.ControlBar.prototype.fadeOut=function(){vjs.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};vjs.PlayToggle=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);player.on("play",vjs.bind(this,this.onPlay));player.on("pause",vjs.bind(this,this.onPause))}});vjs.PlayToggle.prototype.buttonText="Play";vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.PlayToggle.prototype.onClick=function(){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused");vjs.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML="Pause"};vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing");vjs.addClass(this.el_,"vjs-paused");this.el_.children[0].children[0].innerHTML="Play"};vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);player.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.CurrentTimeDisplay.prototype.createEl=function(){var el=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});el.appendChild(vjs.createEl("div").appendChild(this.content));return el};vjs.CurrentTimeDisplay.prototype.updateContent=function(){var time=(this.player_.scrubbing)?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(time,this.player_.duration())};vjs.DurationDisplay=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);player.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.DurationDisplay.prototype.createEl=function(){var el=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});el.appendChild(vjs.createEl("div").appendChild(this.content));return el};vjs.DurationDisplay.prototype.updateContent=function(){if(this.player_.duration()){this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(this.player_.duration())}};vjs.TimeDivider=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);player.on("timeupdate",vjs.bind(this,this.updateContent))}});vjs.RemainingTimeDisplay.prototype.createEl=function(){var el=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});el.appendChild(vjs.createEl("div").appendChild(this.content));return el};vjs.RemainingTimeDisplay.prototype.updateContent=function(){if(this.player_.duration()){if(this.player_.duration()){this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime())}}};vjs.FullscreenToggle=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options)}});vjs.FullscreenToggle.prototype.buttonText="Fullscreen";vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)};vjs.FullscreenToggle.prototype.onClick=function(){if(!this.player_.isFullScreen){this.player_.requestFullScreen();this.el_.children[0].children[0].innerHTML="Non-Fullscreen"}else{this.player_.cancelFullScreen();this.el_.children[0].children[0].innerHTML="Fullscreen"}};vjs.ProgressControl=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.ProgressControl.prototype.options_={children:{seekBar:{}}};vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};vjs.SeekBar=vjs.Slider.extend({init:function(player,options){vjs.Slider.call(this,player,options);player.on("timeupdate",vjs.bind(this,this.updateARIAAttributes));player.ready(vjs.bind(this,this.updateARIAAttributes))}});vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};vjs.SeekBar.prototype.playerEvent="timeupdate";vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};vjs.SeekBar.prototype.updateARIAAttributes=function(){var time=(this.player_.scrubbing)?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(this.getPercent()*100,2));this.el_.setAttribute("aria-valuetext",vjs.formatTime(time,this.player_.duration()))};vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};vjs.SeekBar.prototype.onMouseDown=function(event){vjs.Slider.prototype.onMouseDown.call(this,event);this.player_.scrubbing=true;this.videoWasPlaying=!this.player_.paused();this.player_.pause()};vjs.SeekBar.prototype.onMouseMove=function(event){var newTime=this.calculateDistance(event)*this.player_.duration();if(newTime==this.player_.duration()){newTime=newTime-0.1}this.player_.currentTime(newTime)};vjs.SeekBar.prototype.onMouseUp=function(event){vjs.Slider.prototype.onMouseUp.call(this,event);this.player_.scrubbing=false;if(this.videoWasPlaying){this.player_.play()}};vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)};vjs.LoadProgressBar=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);player.on("progress",vjs.bind(this,this.update))}});vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};vjs.LoadProgressBar.prototype.update=function(){if(this.el_.style){this.el_.style.width=vjs.round(this.player_.bufferedPercent()*100,2)+"%"}};vjs.PlayProgressBar=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};vjs.SeekHandle=vjs.SliderHandle.extend();vjs.SeekHandle.prototype.defaultValue="00:00";vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};vjs.VolumeControl=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);if(player.tech&&player.tech.features&&player.tech.features.volumeControl===false){this.addClass("vjs-hidden")}player.on("loadstart",vjs.bind(this,function(){if(player.tech.features&&player.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}))}});vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}};vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};vjs.VolumeBar=vjs.Slider.extend({init:function(player,options){vjs.Slider.call(this,player,options);player.on("volumechange",vjs.bind(this,this.updateARIAAttributes));player.ready(vjs.bind(this,this.updateARIAAttributes));setTimeout(vjs.bind(this,this.update),0)}});vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(this.player_.volume()*100,2));this.el_.setAttribute("aria-valuetext",vjs.round(this.player_.volume()*100,2)+"%")};vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};vjs.VolumeBar.prototype.playerEvent="volumechange";vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};vjs.VolumeBar.prototype.onMouseMove=function(event){this.player_.volume(this.calculateDistance(event))};vjs.VolumeBar.prototype.getPercent=function(){if(this.player_.muted()){return 0}else{return this.player_.volume()}};vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-0.1)};vjs.VolumeLevel=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};vjs.VolumeHandle=vjs.SliderHandle.extend();vjs.VolumeHandle.prototype.defaultValue="00:00";vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})};vjs.MuteToggle=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);player.on("volumechange",vjs.bind(this,this.update));if(player.tech&&player.tech.features&&player.tech.features.volumeControl===false){this.addClass("vjs-hidden")}player.on("loadstart",vjs.bind(this,function(){if(player.tech.features&&player.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}))}});vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?false:true)};vjs.MuteToggle.prototype.update=function(){var vol=this.player_.volume(),level=3;if(vol===0||this.player_.muted()){level=0}else{if(vol<0.33){level=1}else{if(vol<0.67){level=2}}}if(this.player_.muted()){if(this.el_.children[0].children[0].innerHTML!="Unmute"){this.el_.children[0].children[0].innerHTML="Unmute"}}else{if(this.el_.children[0].children[0].innerHTML!="Mute"){this.el_.children[0].children[0].innerHTML="Mute"}}for(var i=0;i<4;i++){vjs.removeClass(this.el_,"vjs-vol-"+i)}vjs.addClass(this.el_,"vjs-vol-"+level)};vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(player,options){vjs.MenuButton.call(this,player,options);player.on("volumechange",vjs.bind(this,this.update));if(player.tech&&player.tech.features&&player.tech.features.volumeControl===false){this.addClass("vjs-hidden")}player.on("loadstart",vjs.bind(this,function(){if(player.tech.features&&player.tech.features.volumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}));this.addClass("vjs-menu-button")}});vjs.VolumeMenuButton.prototype.createMenu=function(){var menu=new vjs.Menu(this.player_,{contentElType:"div"});var vc=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:true},this.options_.volumeBar));menu.addChild(vc);return menu};vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this);vjs.MenuButton.prototype.onClick.call(this)};vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update;vjs.PosterImage=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);if(!player.poster()||!player.controls()){this.hide()}player.on("play",vjs.bind(this,this.hide))}});vjs.PosterImage.prototype.createEl=function(){var el=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1}),poster=this.player_.poster();if(poster){if("backgroundSize" in el.style){el.style.backgroundImage='url("'+poster+'")'}else{el.appendChild(vjs.createEl("img",{src:poster}))}}return el};vjs.PosterImage.prototype.onClick=function(){this.player_.play()};vjs.LoadingSpinner=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);player.on("canplay",vjs.bind(this,this.hide));player.on("canplaythrough",vjs.bind(this,this.hide));player.on("playing",vjs.bind(this,this.hide));player.on("seeked",vjs.bind(this,this.hide));player.on("seeking",vjs.bind(this,this.show));player.on("seeked",vjs.bind(this,this.hide));player.on("error",vjs.bind(this,this.show));player.on("waiting",vjs.bind(this,this.show))}});vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};vjs.BigPlayButton=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);if(!player.controls()){this.hide()}player.on("play",vjs.bind(this,this.hide))}});vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()};vjs.MediaTechController=vjs.Component.extend({init:function(player,options,ready){vjs.Component.call(this,player,options,ready)}});vjs.MediaTechController.prototype.onClick=(function(){if(vjs.IS_ANDROID){return function(){}}else{return function(){if(this.player_.controls()){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}}}}})();vjs.MediaTechController.prototype.features={volumeControl:true,fullscreenResize:false,progressEvents:false,timeupdateEvents:false};vjs.media={};vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");function createMethod(methodName){return function(){throw new Error('The "'+methodName+"\" method is not available on the playback technology's API")}}for(var i=vjs.media.ApiMethods.length-1;i>=0;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(player,options,ready){this.features.volumeControl=vjs.Html5.canControlVolume();this.features.movingMediaElementInDOM=!vjs.IS_IOS;this.features.fullscreenResize=true;vjs.MediaTechController.call(this,player,options,ready);var source=options.source;if(source&&this.el_.currentSrc==source.src){player.trigger("loadstart")}else{if(source){this.el_.src=source.src}}player.ready(function(){if(this.options_.autoplay&&this.paused()){this.tag.poster=null;this.play()}});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};vjs.Html5.prototype.createEl=function(){var player=this.player_,el=player.tag,newEl;if(!el||this.features.movingMediaElementInDOM===false){if(el){player.el().removeChild(el);el=el.cloneNode(false)}else{el=vjs.createEl("video",{id:player.id()+"_html5_api",className:"vjs-tech"})}el.player=player;vjs.insertFirst(el,player.el())}var attrs=["autoplay","preload","loop","muted"];for(var i=attrs.length-1;i>=0;i--){var attr=attrs[i];if(player.options_[attr]!==null){el[attr]=player.options_[attr]}}return el};vjs.Html5.prototype.setupTriggers=function(){for(var i=vjs.Html5.Events.length-1;i>=0;i--){vjs.on(this.el_,vjs.Html5.Events[i],vjs.bind(this.player_,this.eventHandler))}};vjs.Html5.prototype.eventHandler=function(e){this.trigger(e);e.stopPropagation()};vjs.Html5.prototype.play=function(){this.el_.play()};vjs.Html5.prototype.pause=function(){this.el_.pause()};vjs.Html5.prototype.paused=function(){return this.el_.paused};vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime};vjs.Html5.prototype.setCurrentTime=function(seconds){try{this.el_.currentTime=seconds}catch(e){vjs.log(e,"Video is not ready. (Video.js)")}};vjs.Html5.prototype.duration=function(){return this.el_.duration||0};vjs.Html5.prototype.buffered=function(){return this.el_.buffered};vjs.Html5.prototype.volume=function(){return this.el_.volume};vjs.Html5.prototype.setVolume=function(percentAsDecimal){this.el_.volume=percentAsDecimal};vjs.Html5.prototype.muted=function(){return this.el_.muted};vjs.Html5.prototype.setMuted=function(muted){this.el_.muted=muted};vjs.Html5.prototype.width=function(){return this.el_.offsetWidth};vjs.Html5.prototype.height=function(){return this.el_.offsetHeight};vjs.Html5.prototype.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){if(/Android/.test(vjs.USER_AGENT)||!/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)){return true}}return false};vjs.Html5.prototype.enterFullScreen=function(){var video=this.el_;if(video.paused&&video.networkState<=video.HAVE_METADATA){this.el_.play();setTimeout(function(){video.pause();video.webkitEnterFullScreen()},0)}else{video.webkitEnterFullScreen()}};vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};vjs.Html5.prototype.src=function(src){this.el_.src=src};vjs.Html5.prototype.load=function(){this.el_.load()};vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};vjs.Html5.prototype.preload=function(){return this.el_.preload};vjs.Html5.prototype.setPreload=function(val){this.el_.preload=val};vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay};vjs.Html5.prototype.setAutoplay=function(val){this.el_.autoplay=val};vjs.Html5.prototype.loop=function(){return this.el_.loop};vjs.Html5.prototype.setLoop=function(val){this.el_.loop=val};vjs.Html5.prototype.error=function(){return this.el_.error};vjs.Html5.prototype.seeking=function(){return this.el_.seeking};vjs.Html5.prototype.ended=function(){return this.el_.ended};vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};vjs.Html5.isSupported=function(){return !!document.createElement("video").canPlayType};vjs.Html5.canPlaySource=function(srcObj){return !!document.createElement("video").canPlayType(srcObj.type)};vjs.Html5.canControlVolume=function(){var volume=vjs.TEST_VID.volume;vjs.TEST_VID.volume=(volume/2)+0.1;return volume!==vjs.TEST_VID.volume};vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(",");if(vjs.IS_ANDROID){if(vjs.ANDROID_VERSION<3){document.createElement("video").constructor.prototype.canPlayType=function(type){return(type&&type.toLowerCase().indexOf("video/mp4")!=-1)?"maybe":""}}}vjs.Flash=vjs.MediaTechController.extend({init:function(player,options,ready){vjs.MediaTechController.call(this,player,options,ready);var source=options.source,parentEl=options.parentEl,placeHolder=this.el_=vjs.createEl("div",{id:player.id()+"_temp_flash"}),objId=player.id()+"_flash_api",playerOptions=player.options_,flashVars=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:playerOptions.autoplay,preload:playerOptions.preload,loop:playerOptions.loop,muted:playerOptions.muted},options.flashVars),params=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},options.params),attributes=vjs.obj.merge({id:objId,name:objId,"class":"vjs-tech"},options.attributes);if(source){flashVars.src=encodeURIComponent(vjs.getAbsoluteURL(source.src))}vjs.insertFirst(placeHolder,parentEl);if(options.startTime){this.ready(function(){this.load();this.play();this.currentTime(options.startTime)})}if(options.iFrameMode===true&&!vjs.IS_FIREFOX){var iFrm=vjs.createEl("iframe",{id:objId+"_iframe",name:objId+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});flashVars.readyFunction="ready";flashVars.eventProxyFunction="events";flashVars.errorEventProxyFunction="errors";vjs.on(iFrm,"load",vjs.bind(this,function(){var iDoc,iWin=iFrm.contentWindow;iDoc=iFrm.contentDocument?iFrm.contentDocument:iFrm.contentWindow.document;iDoc.write(vjs.Flash.getEmbedCode(options.swf,flashVars,params,attributes));iWin.player=this.player_;iWin.ready=vjs.bind(this.player_,function(currSwf){var el=iDoc.getElementById(currSwf),player=this,tech=player.tech;tech.el_=el;vjs.on(el,"click",tech.bind(tech.onClick));vjs.Flash.checkReady(tech)});iWin.events=vjs.bind(this.player_,function(swfID,eventName){var player=this;if(player&&player.techName==="flash"){player.trigger(eventName)}});iWin.errors=vjs.bind(this.player_,function(swfID,eventName){vjs.log("Flash Error",eventName)})}));placeHolder.parentNode.replaceChild(iFrm,placeHolder)}else{vjs.Flash.embed(options.swf,placeHolder,flashVars,params,attributes)}}});vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};vjs.Flash.prototype.play=function(){this.el_.vjs_play()};vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()};vjs.Flash.prototype.src=function(src){src=vjs.getAbsoluteURL(src);this.el_.vjs_src(src);if(this.player_.autoplay()){var tech=this;setTimeout(function(){tech.play()},0)}};vjs.Flash.prototype.load=function(){this.el_.vjs_load()};vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};vjs.Flash.prototype.supportsFullScreen=function(){return false};vjs.Flash.prototype.enterFullScreen=function(){return false};var api=vjs.Flash.prototype,readWrite="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");var createSetter=function(attr){var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);api["set"+attrUpper]=function(val){return this.el_.vjs_setProperty(attr,val)}};var createGetter=function(attr){api[attr]=function(){return this.el_.vjs_getProperty(attr)}};(function(){var i;for(i=0;i<readWrite.length;i++){createGetter(readWrite[i]);createSetter(readWrite[i])}for(i=0;i<readOnly.length;i++){createGetter(readOnly[i])}})();vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10};vjs.Flash.canPlaySource=function(srcObj){if(srcObj.type in vjs.Flash.formats){return"maybe"}};vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};vjs.Flash.onReady=function(currSwf){var el=vjs.el(currSwf);var player=el.player||el.parentNode.player,tech=player.tech;el.player=player;tech.el_=el;tech.on("click",tech.onClick);vjs.Flash.checkReady(tech)};vjs.Flash.checkReady=function(tech){if(tech.el().vjs_getProperty){tech.triggerReady()}else{setTimeout(function(){vjs.Flash.checkReady(tech)},50)}};vjs.Flash.onEvent=function(swfID,eventName){var player=vjs.el(swfID)["player"];player.trigger(eventName)};vjs.Flash.onError=function(swfID,err){var player=vjs.el(swfID)["player"];player.trigger("error");vjs.log("Flash Error",err,swfID)};vjs.Flash.version=function(){var version="0,0,0";try{version=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){version=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(err){}}return version.split(",")};vjs.Flash.embed=function(swf,placeHolder,flashVars,params,attributes){var code=vjs.Flash.getEmbedCode(swf,flashVars,params,attributes),obj=vjs.createEl("div",{innerHTML:code}).childNodes[0],par=placeHolder.parentNode;placeHolder.parentNode.replaceChild(obj,placeHolder);var newObj=par.childNodes[0];setTimeout(function(){newObj.style.display="block"},1000);return obj};vjs.Flash.getEmbedCode=function(swf,flashVars,params,attributes){var objTag='<object type="application/x-shockwave-flash"',flashVarsString="",paramsString="",attrsString="";if(flashVars){vjs.obj.each(flashVars,function(key,val){flashVarsString+=(key+"="+val+"&amp;")})}params=vjs.obj.merge({movie:swf,flashvars:flashVarsString,allowScriptAccess:"always",allowNetworking:"all"},params);vjs.obj.each(params,function(key,val){paramsString+='<param name="'+key+'" value="'+val+'" />'});attributes=vjs.obj.merge({data:swf,width:"100%",height:"100%"},attributes);vjs.obj.each(attributes,function(key,val){attrsString+=(key+'="'+val+'" ')});return objTag+attrsString+">"+paramsString+"</object>"};vjs.MediaLoader=vjs.Component.extend({init:function(player,options,ready){vjs.Component.call(this,player,options,ready);if(!player.options_.sources||player.options_.sources.length===0){for(var i=0,j=player.options_.techOrder;i<j.length;i++){var techName=vjs.capitalize(j[i]),tech=vjs[techName];if(tech&&tech.isSupported()){player.loadTech(techName);break}}}else{player.src(player.options_.sources)}}});vjs.Player.prototype.textTracks_;vjs.Player.prototype.textTracks=function(){this.textTracks_=this.textTracks_||[];return this.textTracks_};vjs.Player.prototype.addTextTrack=function(kind,label,language,options){var tracks=this.textTracks_=this.textTracks_||[];options=options||{};options.kind=kind;options.label=label;options.language=language;var Kind=vjs.capitalize(kind||"subtitles");var track=new vjs[Kind+"Track"](this,options);tracks.push(track);return track};vjs.Player.prototype.addTextTracks=function(trackList){var trackObj;for(var i=0;i<trackList.length;i++){trackObj=trackList[i];this.addTextTrack(trackObj.kind,trackObj.label,trackObj.language,trackObj)}return this};vjs.Player.prototype.showTextTrack=function(id,disableSameKind){var tracks=this.textTracks_,i=0,j=tracks.length,track,showTrack,kind;for(;i<j;i++){track=tracks[i];if(track.id()===id){track.show();showTrack=track}else{if(disableSameKind&&track.kind()==disableSameKind&&track.mode()>0){track.disable()}}}kind=(showTrack)?showTrack.kind():((disableSameKind)?disableSameKind:false);if(kind){this.trigger(kind+"trackchange")}return this};vjs.TextTrack=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.id_=options.id||("vjs_"+options.kind+"_"+options.language+"_"+vjs.guid++);this.src_=options.src;this.dflt_=options["default"]||options.dflt;this.title_=options.title;this.language_=options.srclang;this.label_=options.label;this.cues_=[];this.activeCues_=[];this.readyState_=0;this.mode_=0;this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}});vjs.TextTrack.prototype.kind_;vjs.TextTrack.prototype.kind=function(){return this.kind_};vjs.TextTrack.prototype.src_;vjs.TextTrack.prototype.src=function(){return this.src_};vjs.TextTrack.prototype.dflt_;vjs.TextTrack.prototype.dflt=function(){return this.dflt_};vjs.TextTrack.prototype.title_;vjs.TextTrack.prototype.title=function(){return this.title_};vjs.TextTrack.prototype.language_;vjs.TextTrack.prototype.language=function(){return this.language_};vjs.TextTrack.prototype.label_;vjs.TextTrack.prototype.label=function(){return this.label_};vjs.TextTrack.prototype.cues_;vjs.TextTrack.prototype.cues=function(){return this.cues_};vjs.TextTrack.prototype.activeCues_;vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_};vjs.TextTrack.prototype.readyState_;vjs.TextTrack.prototype.readyState=function(){return this.readyState_};vjs.TextTrack.prototype.mode_;vjs.TextTrack.prototype.mode=function(){return this.mode_};vjs.TextTrack.prototype.adjustFontSize=function(){if(this.player_.isFullScreen){this.el_.style.fontSize=screen.width/this.player_.width()*1.4*100+"%"}else{this.el_.style.fontSize=""}};vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};vjs.TextTrack.prototype.show=function(){this.activate();this.mode_=2;vjs.Component.prototype.show.call(this)};vjs.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;vjs.Component.prototype.hide.call(this)};vjs.TextTrack.prototype.disable=function(){if(this.mode_==2){this.hide()}this.deactivate();this.mode_=0};vjs.TextTrack.prototype.activate=function(){if(this.readyState_===0){this.load()}if(this.mode_===0){this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_));this.player_.on("ended",vjs.bind(this,this.reset,this.id_));if(this.kind_==="captions"||this.kind_==="subtitles"){this.player_.getChild("textTrackDisplay").addChild(this)}}};vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_));this.player_.off("ended",vjs.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};vjs.TextTrack.prototype.load=function(){if(this.readyState_===0){this.readyState_=1;vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError))}};vjs.TextTrack.prototype.onError=function(err){this.error=err;this.readyState_=3;this.trigger("error")};vjs.TextTrack.prototype.parseCues=function(srcContent){var cue,time,text,lines=srcContent.split("\n"),line="",id;for(var i=1,j=lines.length;i<j;i++){line=vjs.trim(lines[i]);if(line){if(line.indexOf("-->")==-1){id=line;line=vjs.trim(lines[++i])}else{id=this.cues_.length}cue={id:id,index:this.cues_.length};time=line.split(" --> ");cue.startTime=this.parseCueTime(time[0]);cue.endTime=this.parseCueTime(time[1]);text=[];while(lines[++i]&&(line=vjs.trim(lines[i]))){text.push(line)}cue.text=text.join("<br/>");this.cues_.push(cue)}}this.readyState_=2;this.trigger("loaded")};vjs.TextTrack.prototype.parseCueTime=function(timeText){var parts=timeText.split(":"),time=0,hours,minutes,other,seconds,ms;if(parts.length==3){hours=parts[0];minutes=parts[1];other=parts[2]}else{hours=0;minutes=parts[0];other=parts[1]}other=other.split(/\s+/);seconds=other.splice(0,1)[0];seconds=seconds.split(/\.|,/);ms=parseFloat(seconds[1]);seconds=seconds[0];time+=parseFloat(hours)*3600;time+=parseFloat(minutes)*60;time+=parseFloat(seconds);if(ms){time+=ms/1000}return time};vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var time=this.player_.currentTime();if(this.prevChange===undefined||time<this.prevChange||this.nextChange<=time){var cues=this.cues_,newNextChange=this.player_.duration(),newPrevChange=0,reverse=false,newCues=[],firstActiveIndex,lastActiveIndex,cue,i;if(time>=this.nextChange||this.nextChange===undefined){i=(this.firstActiveIndex!==undefined)?this.firstActiveIndex:0}else{reverse=true;i=(this.lastActiveIndex!==undefined)?this.lastActiveIndex:cues.length-1}while(true){cue=cues[i];if(cue.endTime<=time){newPrevChange=Math.max(newPrevChange,cue.endTime);if(cue.active){cue.active=false}}else{if(time<cue.startTime){newNextChange=Math.min(newNextChange,cue.startTime);if(cue.active){cue.active=false}if(!reverse){break}}else{if(reverse){newCues.splice(0,0,cue);if(lastActiveIndex===undefined){lastActiveIndex=i}firstActiveIndex=i}else{newCues.push(cue);if(firstActiveIndex===undefined){firstActiveIndex=i}lastActiveIndex=i}newNextChange=Math.min(newNextChange,cue.endTime);newPrevChange=Math.max(newPrevChange,cue.startTime);cue.active=true}}if(reverse){if(i===0){break}else{i--}}else{if(i===cues.length-1){break}else{i++}}}this.activeCues_=newCues;this.nextChange=newNextChange;this.prevChange=newPrevChange;this.firstActiveIndex=firstActiveIndex;this.lastActiveIndex=lastActiveIndex;this.updateDisplay();this.trigger("cuechange")}}};vjs.TextTrack.prototype.updateDisplay=function(){var cues=this.activeCues_,html="",i=0,j=cues.length;for(;i<j;i++){html+='<span class="vjs-tt-cue">'+cues[i].text+"</span>"}this.el_.innerHTML=html};vjs.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.firstActiveIndex=0;this.lastActiveIndex=0};vjs.CaptionsTrack=vjs.TextTrack.extend();vjs.CaptionsTrack.prototype.kind_="captions";vjs.SubtitlesTrack=vjs.TextTrack.extend();vjs.SubtitlesTrack.prototype.kind_="subtitles";vjs.ChaptersTrack=vjs.TextTrack.extend();vjs.ChaptersTrack.prototype.kind_="chapters";vjs.TextTrackDisplay=vjs.Component.extend({init:function(player,options,ready){vjs.Component.call(this,player,options,ready);if(player.options_.tracks&&player.options_.tracks.length>0){this.player_.addTextTracks(player.options_.tracks)}}});vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(player,options){var track=this.track=options.track;options.label=track.label();options.selected=track.dflt();vjs.MenuItem.call(this,player,options);this.player_.on(track.kind()+"trackchange",vjs.bind(this,this.update))}});vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.showTextTrack(this.track.id_,this.track.kind())};vjs.TextTrackMenuItem.prototype.update=function(){if(this.track.mode()==2){this.selected(true)}else{this.selected(false)}};vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(player,options){options.track={kind:function(){return options.kind},player:player,label:function(){return options.kind+" off"},dflt:function(){return false},mode:function(){return false}};vjs.TextTrackMenuItem.call(this,player,options);this.selected(true)}});vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this);this.player_.showTextTrack(this.track.id_,this.track.kind())};vjs.OffTextTrackMenuItem.prototype.update=function(){var tracks=this.player_.textTracks(),i=0,j=tracks.length,track,off=true;for(;i<j;i++){track=tracks[i];if(track.kind()==this.track.kind()&&track.mode()==2){off=false}}if(off){this.selected(true)}else{this.selected(false)}};vjs.TextTrackButton=vjs.MenuButton.extend({init:function(player,options){vjs.MenuButton.call(this,player,options);if(this.items.length<=1){this.hide()}}});vjs.TextTrackButton.prototype.createItems=function(){var items=[],track;items.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var i=0;i<this.player_.textTracks().length;i++){track=this.player_.textTracks()[i];if(track.kind()===this.kind_){items.push(new vjs.TextTrackMenuItem(this.player_,{track:track}))}}return items};vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(player,options,ready){vjs.TextTrackButton.call(this,player,options,ready);this.el_.setAttribute("aria-label","Captions Menu")}});vjs.CaptionsButton.prototype.kind_="captions";vjs.CaptionsButton.prototype.buttonText="Captions";vjs.CaptionsButton.prototype.className="vjs-captions-button";vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(player,options,ready){vjs.TextTrackButton.call(this,player,options,ready);this.el_.setAttribute("aria-label","Subtitles Menu")}});vjs.SubtitlesButton.prototype.kind_="subtitles";vjs.SubtitlesButton.prototype.buttonText="Subtitles";vjs.SubtitlesButton.prototype.className="vjs-subtitles-button";vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(player,options,ready){vjs.TextTrackButton.call(this,player,options,ready);this.el_.setAttribute("aria-label","Chapters Menu")}});vjs.ChaptersButton.prototype.kind_="chapters";vjs.ChaptersButton.prototype.buttonText="Chapters";vjs.ChaptersButton.prototype.className="vjs-chapters-button";vjs.ChaptersButton.prototype.createItems=function(){var items=[],track;for(var i=0;i<this.player_.textTracks().length;i++){track=this.player_.textTracks()[i];if(track.kind()===this.kind_){items.push(new vjs.TextTrackMenuItem(this.player_,{track:track}))}}return items};vjs.ChaptersButton.prototype.createMenu=function(){var tracks=this.player_.textTracks(),i=0,j=tracks.length,track,chaptersTrack,items=this.items=[];for(;i<j;i++){track=tracks[i];if(track.kind()==this.kind_&&track.dflt()){if(track.readyState()<2){this.chaptersTrack=track;track.on("loaded",vjs.bind(this,this.createMenu));return}else{chaptersTrack=track;break}}}var menu=this.menu=new vjs.Menu(this.player_);menu.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}));if(chaptersTrack){var cues=chaptersTrack.cues_,cue,mi;i=0;j=cues.length;for(;i<j;i++){cue=cues[i];mi=new vjs.ChaptersTrackMenuItem(this.player_,{track:chaptersTrack,cue:cue});items.push(mi);menu.addChild(mi)}}if(this.items.length>0){this.show()}return menu};vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(player,options){var track=this.track=options.track,cue=this.cue=options.cue,currentTime=player.currentTime();options.label=cue.text;options.selected=(cue.startTime<=currentTime&&currentTime<cue.endTime);vjs.MenuItem.call(this,player,options);track.on("cuechange",vjs.bind(this,this.update))}});vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};vjs.ChaptersTrackMenuItem.prototype.update=function(){var cue=this.cue,currentTime=this.player_.currentTime();if(cue.startTime<=currentTime&&currentTime<cue.endTime){this.selected(true)}else{this.selected(false)}};vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});vjs.JSON;if(typeof window.JSON!=="undefined"&&window.JSON.parse==="function"){vjs.JSON=window.JSON}else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var options,vid,player,vids=document.getElementsByTagName("video");if(vids&&vids.length>0){for(var i=0,j=vids.length;i<j;i++){vid=vids[i];if(vid&&vid.getAttribute){if(vid.player===undefined){options=vid.getAttribute("data-setup");if(options!==null){options=vjs.JSON.parse(options||"{}");player=videojs(vid,options)}}}else{vjs.autoSetupTimeout(1);break}}}else{if(!vjs.windowLoaded){vjs.autoSetupTimeout(1)}}};vjs.autoSetupTimeout=function(wait){setTimeout(vjs.autoSetup,wait)};vjs.one(window,"load",function(){vjs.windowLoaded=true});vjs.autoSetupTimeout(1);vjs.plugin=function(name,init){vjs.Player.prototype[name]=init};module.exports=vjs}())})()},{}],44:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(g,o,f,n,m){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);m=m||{};var k="",e,h="function",l=this.escapeExpression;k+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h1 class="title">'+l(((e=((e=o.sitetitle),e==null||e===false?e:e.value)),typeof e===h?e.apply(o):e))+'</h1>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>';return k})},{"handlebars-runtime":72}],46:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(k,q,h,p,o){this.compilerInfo=[4,">= 1.0.0"];h=this.merge(h,k.helpers);o=o||{};var m="",f,l="function",n=this.escapeExpression,s=this;function g(x,w){var u="",v;u+='\n        <div class="alert alert-info">\n          <h3>Welcome Back, '+n(((v=((v=x.user),v==null||v===false?v:v.username)),typeof v===l?v.apply(x):v))+'</h3>\n          <p>You\'re now able to edit your website.</p>\n          <a href="/" class="btn btn-info btn-wide app">Go to homepage</a>\n          <a href="/logout" class="btn btn-danger btn-wide app">Log Out</a>\n        </div>\n      ';return u}function e(y,x){var u="",w,v;u+="\n        ";w=h["if"].call(y,y.debug,{hash:{},inverse:s.noop,fn:s.program(4,t,x),data:x});if(w||w===0){u+=w}u+="\n        ";v=h["if"].call(y,((w=y.user),w==null||w===false?w:w.error),{hash:{},inverse:s.noop,fn:s.program(6,r,x),data:x});if(v||v===0){u+=v}u+='\n        <form>\n          <div class="control-group">\n            <input type="text" name="username" value="'+n(((w=((w=y.user),w==null||w===false?w:w.username)),typeof w===l?w.apply(y):w))+'" class="span6" placeholder="Username" />\n          </div>\n          <div class="control-group">\n            <input type="password" name="password" value="" class="span6" placeholder="Password" />\n          </div>\n          <div class="actions">\n            <button type="submit" class="btn btn-primary btn-block">Log In</button>\n          </div>\n        </form>\n      ';return u}function t(v,u){return'\n          <div class="alert alert-info">\n            <h3>Test Account Available</h3>\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\n            <a class="provisionTestAccount btn btn-info btn-block">Create Test Account</a>\n          </div>\n        '}function r(x,w){var u="",v;u+='\n          <div class="alert alert-error">\n            '+n(((v=((v=x.user),v==null||v===false?v:v.error)),typeof v===l?v.apply(x):v))+"\n          </div>\n        ";return u}m+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3">\n      ';f=h["if"].call(q,q.isLoggedIn,{hash:{},inverse:s.program(3,e,o),fn:s.program(1,g,o),data:o});if(f||f===0){m+=f}m+='\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return m})},{"handlebars-runtime":72}],42:[function(b,c,a){(function(){var f=b("../base"),g=b("backbone"),e=b("lodash"),d=f.extend({template:b("../../templates/layout/navbar.hbs"),initialize:function(h){this.app=h.app;this.pages=this.app.db.fetchCollection("pages");this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.pages,"change add remove sort",this.render,this);this.listenTo(this.unprocessed,"change add remove",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.app,"flash",this.render,this);this.renderOnReady(this.pages,this.unprocessed,this.app.getUser())},context:function(){var p=null,n=null,o=[],l=this.unprocessed.length,m=(this.unprocessed.length===1?"":"s"),h=(this.unprocessed.length!==1?"":"s"),k="Choose thumbnail"+h+" for "+this.unprocessed.length+" upload"+m;this.pages.forEach(function(s){if(!this.app.isLoggedIn()&&!s.attributes.isPublished){return}var q=encodeURIComponent(s.attributes.name),r=e.extend(e.clone(s.attributes),{href:"/page/"+q,editHref:"/page/"+q+"/edit",addHref:"/page/"+q+"/addMedia",active:false});if(g.history.fragment===r.href.replace(/^\//,"")||g.history.fragment.indexOf("page/"+q+"/")==0){r.active=true;n=r.editHref;p=r.addHref}o.push(r)},this);return this.getContext({pages:o,editPageHref:n,addMediaHref:p,createHref:"/createPage",reviewHref:"/review",isHome:g.history.fragment==="",isPage:g.history.fragment.match(/^(edit)?[pP]age\//)?true:false,isEditingPage:g.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/edit$/)?true:false,isAddingMedia:g.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/addMedia$/)?true:false,isEditingMedia:g.history.fragment.match(/^media\/(image|video)\/[a-zA-Z0-9\-]+\/edit$/)?true:false,isCreatingPage:g.history.fragment.match(/^createPage/)?true:false,isReviewingUploads:g.history.fragment.match(/^review/)?true:false,unprocessedCount:l,unprocessedPrompt:k})}});c.exports=d}())},{"../../templates/layout/navbar.hbs":73,"../base":45,backbone:54,lodash:34}],47:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(k,q,h,p,o){this.compilerInfo=[4,">= 1.0.0"];h=this.merge(h,k.helpers);o=o||{};var m="",e,l="function",n=this.escapeExpression,r=this;function g(x,w){var t="",v,u;t+="\n            <tr>\n              <td><big>";if(v=h.name){v=v.call(x,{hash:{},data:w})}else{v=x.name;v=typeof v===l?v.apply(x):v}t+=n(v)+"</big></td>\n              <td><big>";if(v=h.reviewIssue){v=v.call(x,{hash:{},data:w})}else{v=x.reviewIssue;v=typeof v===l?v.apply(x):v}t+=n(v)+"</big></td>\n              <td><a ";u=h.unless.call(x,((v=w),v==null||v===false?v:v.index),{hash:{},inverse:r.noop,fn:r.program(2,f,w),data:w});if(u||u===0){t+=u}t+=' href="';if(u=h.editHref){u=u.call(x,{hash:{},data:w})}else{u=x.editHref;u=typeof u===l?u.apply(x):u}t+=n(u)+'" class="app btn btn-info btn-mini">Fix It!</a></td>\n            </tr>\n          ';return t}function f(u,t){return'id="firstFixButton"'}function s(u,t){return'\n            <tr>\n              <td colspan="3">Nothing to review, good job!</td>\n            </tr>\n          '}m+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>File</th>\n            <th colspan="2">Problem</th>\n          </tr>\n        </thead>\n        <tbody>\n          ';e=h.each.call(q,q.unprocessed,{hash:{},inverse:r.noop,fn:r.program(1,g,o),data:o});if(e||e===0){m+=e}m+="\n          ";e=h["if"].call(q,q.nothingToReview,{hash:{},inverse:r.noop,fn:r.program(4,s,o),data:o});if(e||e===0){m+=e}m+='\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>';return m})},{"handlebars-runtime":72}],72:[function(b,c,a){var d={};c.exports=d;(function(g,k){g.VERSION="1.0.0";g.COMPILER_REVISION=4;g.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};g.helpers={};g.partials={};var h=Object.prototype.toString,l="[object Function]",f="[object Object]";g.registerHelper=function(r,s,q){if(h.call(r)===f){if(q||s){throw new g.Exception("Arg not supported with multiple helpers")}g.Utils.extend(this.helpers,r)}else{if(q){s.not=q}this.helpers[r]=s}};g.registerPartial=function(q,r){if(h.call(q)===f){g.Utils.extend(this.partials,q)}else{this.partials[q]=r}};g.registerHelper("helperMissing",function(q){if(arguments.length===2){return k}else{throw new Error("Missing helper: '"+q+"'")}});g.registerHelper("blockHelperMissing",function(s,r){var q=r.inverse||function(){},u=r.fn;var t=h.call(s);if(t===l){s=s.call(this)}if(s===true){return u(this)}else{if(s===false||s==null){return q(this)}else{if(t==="[object Array]"){if(s.length>0){return g.helpers.each(s,r)}else{return q(this)}}else{return u(s)}}}});g.K=function(){};g.createFrame=Object.create||function(q){g.K.prototype=q;var r=new g.K();g.K.prototype=null;return r};g.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(s,q){if(g.logger.level<=s){var r=g.logger.methodMap[s];if(typeof console!=="undefined"&&console[r]){console[r].call(console,q)}}}};g.log=function(r,q){g.logger.log(r,q)};g.registerHelper("each",function(q,z){var x=z.fn,s=z.inverse;var u=0,v="",t;var w=h.call(q);if(w===l){q=q.call(this)}if(z.data){t=g.createFrame(z.data)}if(q&&typeof q==="object"){if(q instanceof Array){for(var r=q.length;u<r;u++){if(t){t.index=u}v=v+x(q[u],{data:t})}}else{for(var y in q){if(q.hasOwnProperty(y)){if(t){t.key=y}v=v+x(q[y],{data:t});u++}}}}if(u===0){v=s(this)}return v});g.registerHelper("if",function(r,q){var s=h.call(r);if(s===l){r=r.call(this)}if(!r||g.Utils.isEmpty(r)){return q.inverse(this)}else{return q.fn(this)}});g.registerHelper("unless",function(r,q){return g.helpers["if"].call(this,r,{fn:q.inverse,inverse:q.fn})});g.registerHelper("with",function(r,q){var s=h.call(r);if(s===l){r=r.call(this)}if(!g.Utils.isEmpty(r)){return q.fn(r)}});g.registerHelper("log",function(r,q){var s=q.data&&q.data.level!=null?parseInt(q.data.level,10):1;g.log(s,r)});var o=["description","fileName","lineNumber","message","name","number","stack"];g.Exception=function(s){var r=Error.prototype.constructor.apply(this,arguments);for(var q=0;q<o.length;q++){this[o[q]]=r[o[q]]}};g.Exception.prototype=new Error();g.SafeString=function(q){this.string=q};g.SafeString.prototype.toString=function(){return this.string.toString()};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var e=/[&<>"'`]/g;var m=/[&<>"'`]/;var p=function(q){return n[q]||"&amp;"};g.Utils={extend:function(s,r){for(var q in r){if(r.hasOwnProperty(q)){s[q]=r[q]}}},escapeExpression:function(q){if(q instanceof g.SafeString){return q.toString()}else{if(q==null||q===false){return""}}q=q.toString();if(!m.test(q)){return q}return q.replace(e,p)},isEmpty:function(q){if(!q&&q!==0){return true}else{if(h.call(q)==="[object Array]"&&q.length===0){return true}else{return false}}}};g.VM={template:function(q){var r={escapeExpression:g.Utils.escapeExpression,invokePartial:g.VM.invokePartial,programs:[],program:function(t,u,v){var s=this.programs[t];if(v){s=g.VM.program(t,u,v)}else{if(!s){s=this.programs[t]=g.VM.program(t,u)}}return s},merge:function(u,t){var s=u||t;if(u&&t){s={};g.Utils.extend(s,t);g.Utils.extend(s,u)}return s},programWithDepth:g.VM.programWithDepth,noop:g.VM.noop,compilerInfo:null};return function(w,v){v=v||{};var t=q.call(r,g,w,v.helpers,v.partials,v.data);var x=r.compilerInfo||[],u=x[0]||1,z=g.COMPILER_REVISION;if(u!==z){if(u<z){var s=g.REVISION_CHANGES[z],y=g.REVISION_CHANGES[u];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+s+") or downgrade your runtime to an older version ("+y+")."}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+x[1]+")."}}return t}},programWithDepth:function(s,t,u){var r=Array.prototype.slice.call(arguments,3);var q=function(w,v){v=v||{};return t.apply(this,[w,v.data||u].concat(r))};q.program=s;q.depth=r.length;return q},program:function(r,s,t){var q=function(v,u){u=u||{};return s(v,u.data||t)};q.program=r;q.depth=0;return q},noop:function(){return""},invokePartial:function(q,s,u,v,t,w){var r={helpers:v,partials:t,data:w};if(q===k){throw new g.Exception("The partial "+s+" could not be found")}else{if(q instanceof Function){return q(u,r)}else{if(!g.compile){throw new g.Exception("The partial "+s+" could not be compiled when running in runtime-only mode")}else{t[s]=g.compile(q,{data:w!==k});return t[s](u,r)}}}}};g.template=g.VM.template})(d)},{}],48:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(g,o,f,n,m){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,g.helpers);m=m||{};var k="",e,h="function",l=this.escapeExpression;k+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <form>\n        <fieldset>\n          <legend>Create A New Page</legend>\n          <label class="control-label" for="name">Page Title</label>\n          <input type="text" id="name" name="name" placeholder="Untitled Page" value="'+l(((e=((e=o.page),e==null||e===false?e:e.name)),typeof e===h?e.apply(o):e))+'">\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Create</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return k})},{"handlebars-runtime":72}],50:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(h,k,f,e,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,h.helpers);g=g||{};return'<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":72}],68:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(k,q,h,p,o){this.compilerInfo=[4,">= 1.0.0"];h=this.merge(h,k.helpers);o=o||{};var m="",e,l="function",n=this.escapeExpression,s=this;function g(x,w){var u="",v;u+="\n      ";v=h["if"].call(x,x.isVideo,{hash:{},inverse:s.program(4,t,w),fn:s.program(2,f,w),data:w});if(v||v===0){u+=v}u+='\n      <div class="media_meta">\n        <h4>';if(v=h.name){v=v.call(x,{hash:{},data:w})}else{v=x.name;v=typeof v===l?v.apply(x):v}u+=n(v)+"</h4>\n        <ul>\n        ";v=h.each.call(x,x.attribs,{hash:{},inverse:s.noop,fn:s.program(6,r,w),data:w});if(v||v===0){u+=v}u+="\n        </ul>\n      </div>\n    ";return u}function f(x,w){var u="",v;u+='\n        <video id="media_video" class="video-js vjs-default-skin"\n        controls preload="auto" width="auto" height="auto">\n        <source src="';if(v=h.url){v=v.call(x,{hash:{},data:w})}else{v=x.url;v=typeof v===l?v.apply(x):v}u+=n(v)+"\" type='video/mp4' />\n        </video>\n      ";return u}function t(x,w){var u="",v;u+='\n        <img id="media_image" class="pickerHolder img-polaroid" alt="';if(v=h.name){v=v.call(x,{hash:{},data:w})}else{v=x.name;v=typeof v===l?v.apply(x):v}u+=n(v)+'" src="';if(v=h.url){v=v.call(x,{hash:{},data:w})}else{v=x.url;v=typeof v===l?v.apply(x):v}u+=n(v)+'" />\n      ';return u}function r(x,w){var u="",v;u+="\n          <li>";v=(typeof x===l?x.apply(x):x);if(v||v===0){u+=v}u+="</li>\n        ";return u}m+='<div id="carouselWrapper">\n</div>\n<div id="content" class="container">\n  <div class="row">\n    <div id="preview" class="span12 centered previewPadding">\n    ';e=h["with"].call(q,q.media,{hash:{},inverse:s.noop,fn:s.program(1,g,o),data:o});if(e||e===0){m+=e}m+="\n    </div>\n  </div>\n</div>\n";return m})},{"handlebars-runtime":72}],67:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(k,q,h,p,o){this.compilerInfo=[4,">= 1.0.0"];h=this.merge(h,k.helpers);o=o||{};var m="",e,l="function",n=this.escapeExpression,t=this;function g(y,x){var v="",w;v+='\n<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6">\n      <form>\n        <fieldset>\n          <legend>Edit ';if(w=h.name){w=w.call(y,{hash:{},data:x})}else{w=y.name;w=typeof w===l?w.apply(y):w}v+=n(w)+'</legend>\n          <label class="control-label" for="name">Title</label>\n          <input type="text" id="fileNameField" name="name" placeholder="Untitled ';if(w=h.type){w=w.call(y,{hash:{},data:x})}else{w=y.type;w=typeof w===l?w.apply(y):w}v+=n(w)+'" value="';if(w=h.name){w=w.call(y,{hash:{},data:x})}else{w=y.name;w=typeof w===l?w.apply(y):w}v+=n(w)+'">\n          <label class="control-label" for="attributes">Attributes <span data-toggle="tooltip" data-title="Example Attributes" data-content="These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to get additional formatting.&lt;/p&gt;" class="fui-question"></span></label>\n          <input name="attribs" class="tagsinput tagsinput-primary" value="';if(w=h.attributeList){w=w.call(y,{hash:{},data:x})}else{w=y.attributeList;w=typeof w===l?w.apply(y):w}v+=n(w)+'" id="tags1371235017630" style="display: none;" />\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Save</button>\n              <a class="btn btn-danger">Delete</a>\n            </div>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Set A Thumbnail</legend>\n          ';w=h["if"].call(y,y.thumbnailS3key,{hash:{},inverse:t.program(4,u,x),fn:t.program(2,f,x),data:x});if(w||w===0){v+=w}v+='\n          <div class="control-group">\n            <div class="controls">\n              ';w=h["if"].call(y,y.isImage,{hash:{},inverse:t.noop,fn:t.program(6,s,x),data:x});if(w||w===0){v+=w}v+="\n              ";w=h["if"].call(y,y.isVideo,{hash:{},inverse:t.noop,fn:t.program(8,r,x),data:x});if(w||w===0){v+=w}v+='\n              <a id="useCustomButton" href="#" class="btn btn-success upload">Upload Thumbnail</a>\n            </div>\n          </div>\n          <input type="hidden" id="thumbnail" name="thumbnail" value="';if(w=h.thumbnail){w=w.call(y,{hash:{},data:x})}else{w=y.thumbnail;w=typeof w===l?w.apply(y):w}v+=n(w)+'">\n        </fieldset>\n      </form>\n    </div>\n    <div id="thumber" class="span6">\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return v}function f(y,x){var v="",w;v+='\n            <p>\n              <img src="';if(w=h.thumbnailUrl){w=w.call(y,{hash:{},data:x})}else{w=y.thumbnailUrl;w=typeof w===l?w.apply(y):w}v+=n(w)+'" class="thumbHolder img-polaroid" alt="';if(w=h.name){w=w.call(y,{hash:{},data:x})}else{w=y.name;w=typeof w===l?w.apply(y):w}v+=n(w)+' Thumbnail" />\n            </p>\n          ';return v}function u(w,v){return'\n            <div class="alert alert-warning">\n              <big>No thumbnail yet! Select or upload one.</big>\n            </div>\n          '}function s(w,v){return'\n                <a id="useOriginalButton" href="#" class="btn btn-info crop">Use Original</a>\n              '}function r(w,v){return'\n                <a id="useCaptureButton" href="#" class="btn btn-info capture">Use Current Frame</a>\n              '}e=h["with"].call(q,q.media,{hash:{},inverse:t.noop,fn:t.program(1,g,o),data:o});if(e||e===0){m+=e}m+="\n";return m})},{"handlebars-runtime":72}],51:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(h,n,g,m,l){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,h.helpers);l=l||{};var k="",e,p,o=this;function f(r,q){return'\n    <div class="span2 offset5 centered">\n\n  <!--\n      <div class="tooltip-trigger" data-title="Upload a new file from your computer or elsewhere" data-placement="left">\n  -->\n      <div id="uploadFileLink">\n        <p>\n          <a href="#" class="filepicker">\n            <img class="flatIcon" src="/img/file_upload.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="filepicker btn btn-success">Upload File</a>\n        </p>\n      </div>\n    </div>\n  <!--\n    <div class="span2 centered">\n      <div class="tooltip-trigger" data-title="Use a file on another page" data-placement="right">\n        <p>\n          <a href="#" class="useExisting">\n            <img class="flatIcon" src="/img/folder.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="useExisting btn btn-info">Use Existing</a>\n        </p>\n      </div>\n    </div>\n  -->\n    '}k+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    ';p=g["if"].call(n,((e=n.page),e==null||e===false?e:e.id),{hash:{},inverse:o.noop,fn:o.program(1,f,l),data:l});if(p||p===0){k+=p}k+='\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return k})},{"handlebars-runtime":72}],53:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(k,q,h,p,o){this.compilerInfo=[4,">= 1.0.0"];h=this.merge(h,k.helpers);o=o||{};var m="",e,l="function",n=this.escapeExpression,r=this;function g(w,v){var t="",u;t+="\n      <fieldset>\n        <legend>Edit ";if(u=h.name){u=u.call(w,{hash:{},data:v})}else{u=w.name;u=typeof u===l?u.apply(w):u}t+=n(u)+'</legend>\n        <label class="control-label" for="name">Page Title</label>\n        <input type="text" id="name" name="name" placeholder="Untitled Page" value="';if(u=h.name){u=u.call(w,{hash:{},data:v})}else{u=w.name;u=typeof u===l?u.apply(w):u}t+=n(u)+'">\n        <div class="control-group">\n          <label class="control-label" for="isPublished">Visibility</label>\n          <div class="switch switch-large"\n            data-on-label="Public"\n            data-off-label="Private">\n            <input name="isPublished" ';u=h["if"].call(w,w.isPublished,{hash:{},inverse:r.noop,fn:r.program(2,f,v),data:v});if(u||u===0){t+=u}t+=' type="checkbox" />\n          </div>\n        </div>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <a class="btn btn-danger">Delete</a>\n          </div>\n        </div>\n      </fieldset>\n      ';return t}function f(u,t){return'checked="checked"'}function s(w,v){var t="",u;t+='\n          <li class="span4" data-uuid="';if(u=h.id){u=u.call(w,{hash:{},data:v})}else{u=w.id;u=typeof u===l?u.apply(w):u}t+=n(u)+'">\n            <div class="relfix">\n              <img src="';if(u=h.thumbnailUrl){u=u.call(w,{hash:{},data:v})}else{u=w.thumbnailUrl;u=typeof u===l?u.apply(w):u}t+=n(u)+'" alt="';if(u=h.name){u=u.call(w,{hash:{},data:v})}else{u=w.name;u=typeof u===l?u.apply(w):u}t+=n(u)+'" class="img-polaroid" />\n              <p class="absfix">\n                <a href="';if(u=h.editHref){u=u.call(w,{hash:{},data:v})}else{u=w.editHref;u=typeof u===l?u.apply(w):u}t+=n(u)+'" class="app btn btn-mini btn-info">Edit</a>\n              </p>\n            </div>\n          </li>\n        ';return t}m+='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n    <form>\n      ';e=h["with"].call(q,q.page,{hash:{},inverse:r.noop,fn:r.program(1,g,o),data:o});if(e||e===0){m+=e}m+='\n      <fieldset>\n        <legend>Sort Media</legend>\n        <ul class="mediagrid sortable">\n        ';e=h.each.call(q,q.media,{hash:{},inverse:r.noop,fn:r.program(4,s,o),data:o});if(e||e===0){m+=e}m+='\n        </ul>\n      </fieldset>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n';return m})},{"handlebars-runtime":72}],60:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(k,o,h,n,m){this.compilerInfo=[4,">= 1.0.0"];h=this.merge(h,k.helpers);m=m||{};var l="",f,p=this;function g(r,q){return'\n            <li><a href="/logout" class="app">Log Out</a></li>\n          '}function e(r,q){return'\n            <li><a href="/login" class="app">Log In</a></li>\n          '}l+='  <div class="container">\n    <div class="row">\n      <div class="span10">\n        <ul class="bottom-links">\n          ';f=h["if"].call(o,o.isLoggedIn,{hash:{},inverse:p.program(3,e,m),fn:p.program(1,g,m),data:m});if(f||f===0){l+=f}l+="\n        </ul>\n      </div>\n    </div>\n  </div>\n";return l})},{"handlebars-runtime":72}],73:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(p,B,z,v,I){this.compilerInfo=[4,">= 1.0.0"];z=this.merge(z,p.helpers);I=I||{};var A="",r,m,h="function",g=this.escapeExpression,y=this,e=z.blockHelperMissing;function x(M,L){var J="",K;J+='\n      <li><a href="/" class="current app">'+g(((K=((K=M.sitetitle),K==null||K===false?K:K.value)),typeof K===h?K.apply(M):K))+"</a></li>\n    ";return J}function w(M,L){var J="",K;J+='\n      <li><a href="/" class="app">'+g(((K=((K=M.sitetitle),K==null||K===false?K:K.value)),typeof K===h?K.apply(M):K))+"</a></li>\n    ";return J}function u(M,L){var J="",K;J+="\n      ";K=z["if"].call(M,M.active,{hash:{},inverse:y.program(8,q,L),fn:y.program(6,t,L),data:L});if(K||K===0){J+=K}J+="\n    ";return J}function t(M,L){var J="",K;J+='\n        <li><a href="';if(K=z.href){K=K.call(M,{hash:{},data:L})}else{K=M.href;K=typeof K===h?K.apply(M):K}J+=g(K)+'" class="current app">';if(K=z.name){K=K.call(M,{hash:{},data:L})}else{K=M.name;K=typeof K===h?K.apply(M):K}J+=g(K)+"</a></li>\n      ";return J}function q(M,L){var J="",K;J+='\n        <li><a href="';if(K=z.href){K=K.call(M,{hash:{},data:L})}else{K=M.href;K=typeof K===h?K.apply(M):K}J+=g(K)+'" class="app">';if(K=z.name){K=K.call(M,{hash:{},data:L})}else{K=M.name;K=typeof K===h?K.apply(M):K}J+=g(K)+"</a></li>\n      ";return J}function H(M,L){var J="",K;J+='\n<div class="centered-boxes">\n  <ul class="nav nav-boxes actionable">\n    ';K=z["if"].call(M,M.isPage,{hash:{},inverse:y.noop,fn:y.program(11,G,L),data:L});if(K||K===0){J+=K}J+="\n    ";K=z["if"].call(M,M.isCreatingPage,{hash:{},inverse:y.program(22,o,L),fn:y.program(20,s,L),data:L});if(K||K===0){J+=K}J+="\n    ";K=z["if"].call(M,M.isReviewingUploads,{hash:{},inverse:y.noop,fn:y.program(24,n,L),data:L});if(K||K===0){J+=K}J+="\n  </ul>\n</div>\n";return J}function G(M,L){var J="",K;J+="\n      ";K=z["if"].call(M,M.isAddingMedia,{hash:{},inverse:y.program(14,E,L),fn:y.program(12,F,L),data:L});if(K||K===0){J+=K}J+="\n      ";K=z["if"].call(M,M.isEditingPage,{hash:{},inverse:y.program(18,C,L),fn:y.program(16,D,L),data:L});if(K||K===0){J+=K}J+="\n    ";return J}function F(M,L){var J="",K;J+='\n        <li><a href="';if(K=z.addMediaHref){K=K.call(M,{hash:{},data:L})}else{K=M.addMediaHref;K=typeof K===h?K.apply(M):K}J+=g(K)+'" id="addMediaLink" class="current app">Add Media</a></li>\n      ';return J}function E(M,L){var J="",K;J+='\n        <li><a href="';if(K=z.addMediaHref){K=K.call(M,{hash:{},data:L})}else{K=M.addMediaHref;K=typeof K===h?K.apply(M):K}J+=g(K)+'" id="addMediaLink" class="app">Add Media</a></li>\n      ';return J}function D(M,L){var J="",K;J+='\n        <li><a href="';if(K=z.editPageHref){K=K.call(M,{hash:{},data:L})}else{K=M.editPageHref;K=typeof K===h?K.apply(M):K}J+=g(K)+'" class="current app">Edit Page</a></li>\n      ';return J}function C(M,L){var J="",K;J+='\n        <li><a href="';if(K=z.editPageHref){K=K.call(M,{hash:{},data:L})}else{K=M.editPageHref;K=typeof K===h?K.apply(M):K}J+=g(K)+'" class="app">Edit Page</a></li>\n      ';return J}function s(M,L){var J="",K;J+='\n      <li><a href="';if(K=z.createHref){K=K.call(M,{hash:{},data:L})}else{K=M.createHref;K=typeof K===h?K.apply(M):K}J+=g(K)+'" id="newPageLink" class="current app">New Page</a></li>\n    ';return J}function o(M,L){var J="",K;J+='\n      <li><a href="';if(K=z.createHref){K=K.call(M,{hash:{},data:L})}else{K=M.createHref;K=typeof K===h?K.apply(M):K}J+=g(K)+'" id="newPageLink" class="app">New Page</a></li>\n    ';return J}function n(M,L){var J="",K;J+='\n      <li><a href="';if(K=z.reviewHref){K=K.call(M,{hash:{},data:L})}else{K=M.reviewHref;K=typeof K===h?K.apply(M):K}J+=g(K)+'" class="current app">Review</a></li>\n    ';return J}function l(M,L){var J="",K;J+="\n  ";K=z["if"].call(M,M.unprocessedCount,{hash:{},inverse:y.noop,fn:y.program(27,k,L),data:L});if(K||K===0){J+=K}J+="\n";return J}function k(M,L){var J="",K;J+='\n  <div id="unprocessedPrompt" class="alert alert-info centered">\n    <a href="/review" class="btn btn-info btn-wide app">';if(K=z.unprocessedPrompt){K=K.call(M,{hash:{},data:L})}else{K=M.unprocessedPrompt;K=typeof K===h?K.apply(M):K}J+=g(K)+"</a>\n  </div>\n  ";return J}function f(M,L){var J="",K;J+='\n<div class="alert alert-';if(K=z.type){K=K.call(M,{hash:{},data:L})}else{K=M.type;K=typeof K===h?K.apply(M):K}J+=g(K)+'">\n  <button type="button" class="close fui-cross" data-dismiss="alert"></button>\n  ';if(K=z.message){K=K.call(M,{hash:{},data:L})}else{K=M.message;K=typeof K===h?K.apply(M):K}J+=g(K)+"\n</div>\n";return J}A+='<div class="centered-boxes">\n  <ul id="mainnav" class="nav nav-boxes">\n    ';r=z["if"].call(B,B.isHome,{hash:{},inverse:y.program(3,w,I),fn:y.program(1,x,I),data:I});if(r||r===0){A+=r}A+="\n    ";r=z.each.call(B,B.pages,{hash:{},inverse:y.noop,fn:y.program(5,u,I),data:I});if(r||r===0){A+=r}A+="\n  </ul>\n</div>\n";r=z["if"].call(B,B.isLoggedIn,{hash:{},inverse:y.noop,fn:y.program(10,H,I),data:I});if(r||r===0){A+=r}A+="\n";r=z.unless.call(B,B.isReviewingUploads,{hash:{},inverse:y.noop,fn:y.program(26,l,I),data:I});if(r||r===0){A+=r}A+="\n";m={hash:{},inverse:y.noop,fn:y.program(29,f,I),data:I};if(r=z.flash){r=r.call(B,m)}else{r=B.flash;r=typeof r===h?r.apply(B):r}if(!z.flash){r=e.call(B,r,m)}if(r||r===0){A+=r}A+="\n";return A})},{"handlebars-runtime":72}],74:[function(b,c,a){(function(d){(function(G){var l;var L=typeof a=="object"&&a;var s=typeof c=="object"&&c&&c.exports==L&&c;var p=typeof d=="object"&&d;if(p.global===p||p.window===p){G=p}var C=0;var k={};var e=+new Date+"";var f=200;var q=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,h=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var z=/&(?:amp|lt|gt|quot|#39);/g;var t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var w=/\w*$/;var m=/<%=([\s\S]+?)%>/g;var y=(" \t\x0B\f\xA0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000");var M=RegExp("^["+y+"]*0+(?=.$)");var H=/($^)/;var u=/[&<>"']/g;var K=/['\n\r\t\u2028\u2029\\]/g;var r=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"];var O=0;var J="[object Arguments]",n="[object Array]",v="[object Boolean]",D="[object Date]",Q="[object Function]",A="[object Number]",g="[object Object]",E="[object RegExp]",B="[object String]";var o={};o[Q]=false;o[J]=o[n]=o[v]=o[D]=o[A]=o[g]=o[E]=o[B]=true;var x={"boolean":false,"function":true,object:true,number:false,string:false,"undefined":false};var F={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"};function N(T){T=T?P.defaults(G.Object(),T,P.pick(G,r)):G;var al=T.Array,bM=T.Boolean,bN=T.Date,aH=T.Function,bE=T.Math,aW=T.Number,cn=T.Object,b9=T.RegExp,bV=T.String,am=T.TypeError;var bH=al(),aO=cn();var cj=T._;var bB=b9("^"+bV(aO.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$");var aE=bE.ceil,bu=T.clearTimeout,bj=bH.concat,cd=bE.floor,ab=bB.test(ab=cn.getPrototypeOf)&&ab,aI=aO.hasOwnProperty,ad=bH.push,bz=T.setImmediate,aF=T.setTimeout,ag=aO.toString;var bF=bB.test(bF=ag.bind)&&bF,aX=bB.test(aX=al.isArray)&&aX,aq=T.isFinite,bg=T.isNaN,bQ=bB.test(bQ=cn.keys)&&bQ,bR=bE.max,Y=bE.min,cw=T.parseInt,bn=bE.random,ap=bH.slice;var aJ=bB.test(T.attachEvent),aa=bF&&!/\n|true/.test(bF+aJ);var cb={};cb[n]=al;cb[v]=bM;cb[D]=bN;cb[g]=cn;cb[A]=aW;cb[E]=b9;cb[B]=bV;function aB(at){return(at&&typeof at=="object"&&!bf(at)&&aI.call(at,"__wrapped__"))?at:new ce(at)}var ak=aB.support={};ak.fastBind=bF&&!aa;aB.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:m,variable:"",imports:{_:aB}};function bO(cE){var cC=cE.length,cD=cC>=f;if(cD){var at={},cA=-1;while(++cA<cC){var cB=e+cE[cA];(at[cB]||(at[cB]=[])).push(cE[cA])}}return function(cG){if(cD){var cF=e+cG;return at[cF]&&cs(at[cF],cG)>-1}return cs(cE,cG)>-1}}function bI(at){return at.charCodeAt(0)}function bv(cB,cA){var at=cB.index,cC=cA.index;cB=cB.criteria;cA=cA.criteria;if(cB!==cA){if(cB>cA||typeof cB=="undefined"){return 1}if(cB<cA||typeof cA=="undefined"){return -1}}return at<cC?-1:1}function ax(cB,cE,cD,cG){var cF=ae(cB),at=!cD,cH=cE;if(at){var cA=cG;cD=cE}else{if(!cF){if(!cG){throw new am}cE=cB}}function cC(){var cK=arguments,cJ=at?this:cE;if(!cF){cB=cE[cH]}if(cD.length){cK=cK.length?(cK=ap.call(cK),cA?cK.concat(cD):cD.concat(cK)):cD}if(this instanceof cC){S.prototype=cB.prototype;cJ=new S;S.prototype=null;var cI=cB.apply(cJ,cK);return cy(cI)?cI:cJ}return cB.apply(cJ,cK)}return cC}function cq(at){return"\\"+F[at]}function a3(at){return aA[at]}function ce(at){this.__wrapped__=at}ce.prototype=aB.prototype;function S(){}function au(cB){var at=false;if(!(cB&&ag.call(cB)==g)){return at}var cA=cB.constructor;if(ae(cA)?cA instanceof cA:true){U(cB,function(cD,cC){at=cC});return at===false||aI.call(cB,at)}return at}function aC(cE,cD,cA){cD||(cD=0);if(typeof cA=="undefined"){cA=cE?cE.length:0}var cB=-1,cC=cA-cD||0,at=al(cC<0?0:cC);while(++cB<cC){at[cB]=cE[cD+cB]}return at}function a4(at){return bw[at]}function aN(at){return ag.call(at)==J}var bf=aX;var aV=function(cB){var cA,cC=cB,at=[];if(!cC){return at}if(!(x[typeof cB])){return at}for(cA in cC){if(aI.call(cC,cA)){at.push(cA)}}return at};var bK=!bQ?aV:function(at){if(!cy(at)){return[]}return bQ(at)};var aA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var bw=bG(aA);var a7=function(cD,at,cG){var cF,cC=cD,cL=cC;if(!cC){return cL}var cI=arguments,cA=0,cE=typeof cG=="number"?2:cI.length;if(cE>3&&typeof cI[cE-2]=="function"){var cK=aB.createCallback(cI[--cE-1],cI[cE--],2)}else{if(cE>2&&typeof cI[cE-1]=="function"){cK=cI[--cE]}}while(++cA<cE){cC=cI[cA];if(cC&&x[typeof cC]){var cB=cC.length;cF=-1;if(bf(cC)){while(++cF<cB){cL[cF]=cK?cK(cL[cF],cC[cF]):cC[cF]}}else{var cH=-1,cJ=x[typeof cC]?bK(cC):[],cB=cJ.length;while(++cH<cB){cF=cJ[cH];cL[cF]=cK?cK(cL[cF],cC[cF]):cC[cF]}}}}return cL};function b5(cH,cI,cJ,cF,cC,cA){var cK=cH;if(typeof cI=="function"){cF=cJ;cJ=cI;cI=false}if(typeof cJ=="function"){cJ=(typeof cF=="undefined")?cJ:aB.createCallback(cJ,cF,1);cK=cJ(cK);if(typeof cK!="undefined"){return cK}cK=cH}var cB=cy(cK);if(cB){var cE=ag.call(cK);if(!o[cE]){return cK}var cD=bf(cK)}if(!cB||!cI){return cB?(cD?aC(cK):a7({},cK)):cK}var cG=cb[cE];switch(cE){case v:case D:return new cG(+cK);case A:case B:return new cG(cK);case E:return cG(cK.source,w.exec(cK))}cC||(cC=[]);cA||(cA=[]);var at=cC.length;while(at--){if(cC[at]==cH){return cA[at]}}cK=cD?cG(cK.length):{};if(cD){if(aI.call(cH,"index")){cK.index=cH.index}if(aI.call(cH,"input")){cK.input=cH.input}}cC.push(cH);cA.push(cK);(cD?be:bq)(cH,function(cL,cM){cK[cM]=b5(cL,cI,cJ,l,cC,cA)});return cK}function cv(cA,cB,at){return b5(cA,true,cB,at)}var a8=function(cD,at,cG){var cF,cC=cD,cK=cC;if(!cC){return cK}var cI=arguments,cA=0,cE=typeof cG=="number"?2:cI.length;while(++cA<cE){cC=cI[cA];if(cC&&x[typeof cC]){var cB=cC.length;cF=-1;if(bf(cC)){while(++cF<cB){if(typeof cK[cF]=="undefined"){cK[cF]=cC[cF]}}}else{var cH=-1,cJ=x[typeof cC]?bK(cC):[],cB=cJ.length;while(++cH<cB){cF=cJ[cH];if(typeof cK[cF]=="undefined"){cK[cF]=cC[cF]}}}}}return cK};function bY(cB,cC,cA){var at;cC=aB.createCallback(cC,cA);bq(cB,function(cF,cE,cD){if(cC(cF,cE,cD)){at=cE;return false}});return at}var U=function(cD,cE,cA){var cB,cC=cD,at=cC;if(!cC){return at}if(!x[typeof cC]){return at}cE=cE&&typeof cA=="undefined"?cE:aB.createCallback(cE,cA);for(cB in cC){if(cE(cC[cB],cB,cD)===false){return at}}return at};var bq=function(cB,cG,cE){var cC,cA=cB,cH=cA;if(!cA){return cH}if(!x[typeof cA]){return cH}cG=cG&&typeof cE=="undefined"?cG:aB.createCallback(cG,cE);var cD=-1,cF=x[typeof cA]?bK(cA):[],at=cF.length;while(++cD<at){cC=cF[cD];if(cG(cA[cC],cC,cB)===false){return cH}}return cH};function ca(cA){var at=[];U(cA,function(cC,cB){if(ae(cC)){at.push(cB)}});return at.sort()}function ck(at,cA){return at?aI.call(at,cA):false}function bG(cB){var cA=-1,cD=bK(cB),cE=cD.length,at={};while(++cA<cE){var cC=cD[cA];at[cB[cC]]=cC}return at}function bk(at){return at===true||at===false||ag.call(at)==v}function aR(at){return at?(typeof at=="object"&&ag.call(at)==D):false}function bC(at){return at?at.nodeType===1:false}function bW(cC){var at=true;if(!cC){return at}var cA=ag.call(cC),cB=cC.length;if((cA==n||cA==B||cA==J)||(cA==g&&typeof cB=="number"&&ae(cC.splice))){return !cB}bq(cC,function(){return(at=false)});return at}function bD(cP,cO,cG,cN,cR,cQ){var cF=cG===k;if(typeof cG=="function"&&!cF){cG=aB.createCallback(cG,cN,2);var cK=cG(cP,cO);if(typeof cK!="undefined"){return !!cK}}if(cP===cO){return cP!==0||(1/cP==1/cO)}var cD=typeof cP,cB=typeof cO;if(cP===cP&&(!cP||(cD!="function"&&cD!="object"))&&(!cO||(cB!="function"&&cB!="object"))){return false}if(cP==null||cO==null){return cP===cO}var at=ag.call(cP),cJ=ag.call(cO);if(at==J){at=g}if(cJ==J){cJ=g}if(at!=cJ){return false}switch(at){case v:case D:return +cP==+cO;case A:return(cP!=+cP)?cO!=+cO:(cP==0?(1/cP==1/cO):cP==+cO);case E:case B:return cP==bV(cO)}var cH=at==n;if(!cH){if(aI.call(cP,"__wrapped__ ")||aI.call(cO,"__wrapped__")){return bD(cP.__wrapped__||cP,cO.__wrapped__||cO,cG,cN,cR,cQ)}if(at!=g){return false}var cC=cP.constructor,cA=cO.constructor;if(cC!=cA&&!(ae(cC)&&cC instanceof cC&&ae(cA)&&cA instanceof cA)){return false}}cR||(cR=[]);cQ||(cQ=[]);var cE=cR.length;while(cE--){if(cR[cE]==cP){return cQ[cE]==cO}}var cL=0;cK=true;cR.push(cP);cQ.push(cO);if(cH){cE=cP.length;cL=cO.length;cK=cL==cP.length;if(!cK&&!cF){return cK}while(cL--){var cI=cE,cM=cO[cL];if(cF){while(cI--){if((cK=bD(cP[cI],cM,cG,cN,cR,cQ))){break}}}else{if(!(cK=bD(cP[cL],cM,cG,cN,cR,cQ))){break}}}return cK}U(cO,function(cU,cT,cS){if(aI.call(cS,cT)){cL++;return(cK=aI.call(cP,cT)&&bD(cP[cT],cU,cG,cN,cR,cQ))}});if(cK&&!cF){U(cP,function(cU,cT,cS){if(aI.call(cS,cT)){return(cK=--cL>-1)}})}return cK}function ar(at){return aq(at)&&!bg(parseFloat(at))}function ae(at){return typeof at=="function"}function cy(at){return at?x[typeof at]:false}function bs(at){return a6(at)&&at!=+at}function cp(at){return at===null}function a6(at){return typeof at=="number"||ag.call(at)==A}var av=function(cB){if(!(cB&&ag.call(cB)==g)){return false}var at=cB.valueOf,cA=typeof at=="function"&&(cA=ab(at))&&ab(cA);return cA?(cB==cA||ab(cB)==cA):au(cB)};function cg(at){return at?(typeof at=="object"&&ag.call(at)==E):false}function b2(at){return typeof at=="string"||ag.call(at)==B}function by(at){return typeof at=="undefined"}function bm(cC,at,cD){var cG=arguments,cF=0,cA=2;if(!cy(cC)){return cC}if(cD===k){var cH=cG[3],cE=cG[4],cB=cG[5]}else{cE=[];cB=[];if(typeof cD!="number"){cA=cG.length}if(cA>3&&typeof cG[cA-2]=="function"){cH=aB.createCallback(cG[--cA-1],cG[cA--],2)}else{if(cA>2&&typeof cG[cA-1]=="function"){cH=cG[--cA]}}}while(++cF<cA){(bf(cG[cF])?be:bq)(cG[cF],function(cO,cK){var cN,cL,cJ=cO,cM=cC[cK];if(cO&&((cL=bf(cO))||av(cO))){var cP=cE.length;while(cP--){if((cN=cE[cP]==cO)){cM=cB[cP];break}}if(!cN){var cI;if(cH){cJ=cH(cM,cO);if((cI=typeof cJ!="undefined")){cM=cJ}}if(!cI){cM=cL?(bf(cM)?cM:[]):(av(cM)?cM:{})}cE.push(cO);cB.push(cM);if(!cI){cM=bm(cM,cO,k,cH,cE,cB)}}}else{if(cH){cJ=cH(cM,cO);if(typeof cJ=="undefined"){cJ=cO}}if(typeof cJ!="undefined"){cM=cJ}}cC[cK]=cM})}return cC}function bZ(cB,cE,cA){var cD=typeof cE=="function",at={};if(cD){cE=aB.createCallback(cE,cA)}else{var cC=bj.apply(bH,ap.call(arguments,1))}U(cB,function(cH,cG,cF){if(cD?!cE(cH,cG,cF):cs(cC,cG)<0){at[cG]=cH}});return at}function bd(cB){var cA=-1,cD=bK(cB),cE=cD.length,at=al(cE);while(++cA<cE){var cC=cD[cA];at[cA]=[cC,cB[cC]]}return at}function bo(cC,cG,cA){var at={};if(typeof cG!="function"){var cB=-1,cE=bj.apply(bH,ap.call(arguments,1)),cF=cy(cC)?cE.length:0;while(++cB<cF){var cD=cE[cB];if(cD in cC){at[cD]=cC[cD]}}}else{cG=aB.createCallback(cG,cA);U(cC,function(cJ,cI,cH){if(cG(cJ,cI,cH)){at[cI]=cJ}})}return at}function bb(cB){var cA=-1,cC=bK(cB),cD=cC.length,at=al(cD);while(++cA<cD){at[cA]=cB[cC[cA]]}return at}function cc(cD){var cA=-1,cB=bj.apply(bH,ap.call(arguments,1)),cC=cB.length,at=al(cC);while(++cA<cC){at[cA]=cD[cB[cA]]}return at}function aM(cE,cD,cB){var cA=-1,cC=cE?cE.length:0,at=false;cB=(cB<0?bR(0,cC+cB):cB)||0;if(typeof cC=="number"){at=(b2(cE)?cE.indexOf(cD,cB):cs(cE,cD,cB))>-1}else{bq(cE,function(cF){if(++cA>=cB){return !(at=cF===cD)}})}return at}function bl(cB,cC,cA){var at={};cC=aB.createCallback(cC,cA);be(cB,function(cE,cD,cF){cD=bV(cC(cE,cD,cF));(aI.call(at,cD)?at[cD]++:at[cD]=1)});return at}function af(cD,cE,cA){var at=true;cE=aB.createCallback(cE,cA);var cB=-1,cC=cD?cD.length:0;if(typeof cC=="number"){while(++cB<cC){if(!(at=!!cE(cD[cB],cB,cD))){break}}}else{bq(cD,function(cG,cF,cH){return(at=!!cE(cG,cF,cH))})}return at}function br(cE,cF,cA){var at=[];cF=aB.createCallback(cF,cA);var cB=-1,cC=cE?cE.length:0;if(typeof cC=="number"){while(++cB<cC){var cD=cE[cB];if(cF(cD,cB,cE)){at.push(cD)}}}else{bq(cE,function(cH,cG,cI){if(cF(cH,cG,cI)){at.push(cH)}})}return at}function bi(cE,cF,cA){cF=aB.createCallback(cF,cA);var cB=-1,cC=cE?cE.length:0;if(typeof cC=="number"){while(++cB<cC){var cD=cE[cB];if(cF(cD,cB,cE)){return cD}}}else{var at;bq(cE,function(cH,cG,cI){if(cF(cH,cG,cI)){at=cH;return false}});return at}}function be(cC,cD,at){var cA=-1,cB=cC?cC.length:0;cD=cD&&typeof at=="undefined"?cD:aB.createCallback(cD,at);if(typeof cB=="number"){while(++cA<cB){if(cD(cC[cA],cA,cC)===false){break}}}else{bq(cC,cD)}return cC}function a5(cB,cC,cA){var at={};cC=aB.createCallback(cC,cA);be(cB,function(cE,cD,cF){cD=bV(cC(cE,cD,cF));(aI.call(at,cD)?at[cD]:at[cD]=[]).push(cE)});return at}function ao(cF,cA){var cC=ap.call(arguments,2),cB=-1,cE=typeof cA=="function",cD=cF?cF.length:0,at=al(typeof cD=="number"?cD:0);be(cF,function(cG){at[++cB]=(cE?cA:cG[cA]).apply(cG,cC)});return at}function a1(cD,cE,cA){var cB=-1,cC=cD?cD.length:0;cE=aB.createCallback(cE,cA);if(typeof cC=="number"){var at=al(cC);while(++cB<cC){at[cB]=cE(cD[cB],cB,cD)}}else{at=[];bq(cD,function(cG,cF,cH){at[++cB]=cE(cG,cF,cH)})}return at}function aZ(cF,cG,cA){var cD=-Infinity,at=cD;if(!cG&&bf(cF)){var cB=-1,cC=cF.length;while(++cB<cC){var cE=cF[cB];if(cE>at){at=cE}}}else{cG=(!cG&&b2(cF))?bI:aB.createCallback(cG,cA);be(cF,function(cI,cH,cK){var cJ=cG(cI,cH,cK);if(cJ>cD){cD=cJ;at=cI}})}return at}function bT(cF,cG,cA){var cD=Infinity,at=cD;if(!cG&&bf(cF)){var cB=-1,cC=cF.length;while(++cB<cC){var cE=cF[cB];if(cE<at){at=cE}}}else{cG=(!cG&&b2(cF))?bI:aB.createCallback(cG,cA);be(cF,function(cI,cH,cK){var cJ=cG(cI,cH,cK);if(cJ<cD){cD=cJ;at=cI}})}return at}function cu(cD,cC){var cA=-1,cB=cD?cD.length:0;if(typeof cB=="number"){var at=al(cB);while(++cA<cB){at[cA]=cD[cA][cC]}}return at||a1(cD,cC)}function bU(cE,cF,cA,at){if(!cE){return cA}var cC=arguments.length<3;cF=aB.createCallback(cF,at,4);var cB=-1,cD=cE.length;if(typeof cD=="number"){if(cC){cA=cE[++cB]}while(++cB<cD){cA=cF(cA,cE[cB],cB,cE)}}else{bq(cE,function(cH,cG,cI){cA=cC?(cC=false,cH):cF(cA,cH,cG,cI)})}return cA}function ch(cF,cG,cA,at){var cE=cF,cD=cF?cF.length:0,cC=arguments.length<3;if(typeof cD!="number"){var cB=bK(cF);cD=cB.length}cG=aB.createCallback(cG,at,4);be(cF,function(cI,cH,cJ){cH=cB?cB[--cD]:--cD;cA=cC?(cC=false,cE[cH]):cG(cA,cE[cH],cH,cJ)});return cA}function ah(cA,cB,at){cB=aB.createCallback(cB,at);return br(cA,function(cD,cC,cE){return !cB(cD,cC,cE)})}function bc(cC){var cA=-1,cB=cC?cC.length:0,at=al(typeof cB=="number"?cB:0);be(cC,function(cE){var cD=cd(bn()*(++cA+1));at[cA]=at[cD];at[cD]=cE});return at}function aQ(cA){var at=cA?cA.length:0;return typeof at=="number"?at:bK(cA).length}function aP(cD,cE,cA){var at;cE=aB.createCallback(cE,cA);var cB=-1,cC=cD?cD.length:0;if(typeof cC=="number"){while(++cB<cC){if((at=cE(cD[cB],cB,cD))){break}}}else{bq(cD,function(cG,cF,cH){return !(at=cE(cG,cF,cH))})}return !!at}function aS(cD,cE,cA){var cB=-1,cC=cD?cD.length:0,at=al(typeof cC=="number"?cC:0);cE=aB.createCallback(cE,cA);be(cD,function(cG,cF,cH){at[++cB]={criteria:cE(cG,cF,cH),index:cB,value:cG}});cC=at.length;at.sort(bv);while(cC--){at[cC]=at[cC].value}return at}function aj(at){if(at&&typeof at.length=="number"){return aC(at)}return bb(at)}var V=br;function aw(cD){var cA=-1,cB=cD?cD.length:0,at=[];while(++cA<cB){var cC=cD[cA];if(cC){at.push(cC)}}return at}function R(cF){var cA=-1,cD=cF?cF.length:0,cC=bj.apply(bH,ap.call(arguments,1)),cB=bO(cC),at=[];while(++cA<cD){var cE=cF[cA];if(!cB(cE)){at.push(cE)}}return at}function co(cD,cC,at){var cA=-1,cB=cD?cD.length:0;cC=aB.createCallback(cC,at);while(++cA<cB){if(cC(cD[cA],cA,cD)){return cA}}return -1}function aY(cE,cD,at){if(cE){var cC=0,cB=cE.length;if(typeof cD!="number"&&cD!=null){var cA=-1;cD=aB.createCallback(cD,at);while(++cA<cB&&cD(cE[cA],cA,cE)){cC++}}else{cC=cD;if(cC==null||at){return cE[0]}}return aC(cE,0,Y(bR(0,cC),cB))}}function b4(cG,cA,cF,cB){var cC=-1,cD=cG?cG.length:0,at=[];if(typeof cA!="boolean"&&cA!=null){cB=cF;cF=cA;cA=false}if(cF!=null){cF=aB.createCallback(cF,cB)}while(++cC<cD){var cE=cG[cC];if(cF){cE=cF(cE,cC,cG)}if(bf(cE)){ad.apply(at,cA?cE:b4(cE))}else{at.push(cE)}}return at}function cs(cD,cC,cA){var at=-1,cB=cD?cD.length:0;if(typeof cA=="number"){at=(cA<0?bR(0,cB+cA):cA||0)-1}else{if(cA){at=aT(cD,cC);return cD[at]===cC?at:-1}}while(++at<cB){if(cD[at]===cC){return at}}return -1}function ct(cE,cD,at){if(!cE){return[]}var cC=0,cB=cE.length;if(typeof cD!="number"&&cD!=null){var cA=cB;cD=aB.createCallback(cD,at);while(cA--&&cD(cE[cA],cA,cE)){cC++}}else{cC=(cD==null||at)?1:cD||cC}return aC(cE,0,Y(bR(0,cB-cC),cB))}function b1(cF){var cG=arguments,cD=cG.length,cA={"0":{}},cE=-1,cC=cF?cF.length:0,cH=cC>=f,cL=[],at=cL;outer:while(++cE<cC){var cI=cF[cE];if(cH){var cJ=e+cI;var cK=cA[0][cJ]?!(at=cA[0][cJ]):(at=cA[0][cJ]=[])}if(cK||cs(at,cI)<0){if(cH){at.push(cI)}var cB=cD;while(--cB){if(!(cA[cB]||(cA[cB]=bO(cG[cB])))(cI)){continue outer}}cL.push(cI)}}return cL}function a9(cE,cD,at){if(cE){var cC=0,cB=cE.length;if(typeof cD!="number"&&cD!=null){var cA=cB;cD=aB.createCallback(cD,at);while(cA--&&cD(cE[cA],cA,cE)){cC++}}else{cC=cD;if(cC==null||at){return cE[cB-1]}}return aC(cE,bR(0,cB-cC))}}function cz(cC,cB,cA){var at=cC?cC.length:0;if(typeof cA=="number"){at=(cA<0?bR(0,at+cA):Y(cA,at-1))+1}while(at--){if(cC[at]===cB){return at}}return -1}function aG(cE,cA,cD){cE=+cE||0;cD=+cD||1;if(cA==null){cA=cE;cE=0}var cB=-1,cC=bR(0,aE((cA-cE)/cD)),at=al(cC);while(++cB<cC){at[cB]=cE;cE+=cD}return at}function bJ(cE,cD,at){if(typeof cD!="number"&&cD!=null){var cC=0,cA=-1,cB=cE?cE.length:0;cD=aB.createCallback(cD,at);while(++cA<cB&&cD(cE[cA],cA,cE)){cC++}}else{cC=(cD==null||at)?1:bR(0,cD)}return aC(cE,cC)}function aT(cF,cD,cE,cA){var at=0,cC=cF?cF.length:at;cE=cE?aB.createCallback(cE,cA,1):a0;cD=cE(cD);while(at<cC){var cB=(at+cC)>>>1;(cE(cF[cB])<cD)?at=cB+1:cC=cB}return at}function ac(at){if(!bf(at)){arguments[0]=at?ap.call(at):bH}return bt(bj.apply(bH,arguments))}function bt(cF,cC,cK,cG){var cE=-1,cB=cF?cF.length:0,cM=[],cA=cM;if(typeof cC!="boolean"&&cC!=null){cG=cK;cK=cC;cC=false}var cH=!cC&&cB>=f;if(cH){var at={}}if(cK!=null){cA=[];cK=aB.createCallback(cK,cG)}while(++cE<cB){var cI=cF[cE],cD=cK?cK(cI,cE,cF):cI;if(cH){var cJ=e+cD;var cL=at[cJ]?!(cA=at[cJ]):(cA=at[cJ]=[])}if(cC?!cE||cA[cA.length-1]!==cD:cL||cs(cA,cD)<0){if(cK||cH){cA.push(cD)}cM.push(cI)}}return cM}function cr(cF){var cC=-1,cE=cF?cF.length:0,cD=cE?aZ(cu(cF,"length")):0,cB=al(cD);while(++cC<cE){var cA=-1,at=cF[cC];while(++cA<cD){(cB[cA]||(cB[cA]=al(cE)))[cC]=at[cA]}}return cB}function cm(at){return R(at,ap.call(arguments,1))}function Z(cC){var cA=-1,cB=cC?aZ(cu(arguments,"length")):0,at=al(cB);while(++cA<cB){at[cA]=cu(arguments,cA)}return at}function b6(cE,cA){var cB=-1,cD=cE?cE.length:0,at={};while(++cB<cD){var cC=cE[cB];if(cA){at[cC]=cA[cB]}else{at[cC[0]]=cC[1]}}return at}function az(cA,at){if(cA<1){return at()}return function(){if(--cA<1){return at.apply(this,arguments)}}}function bA(cA,at){return ak.fastBind||(bF&&arguments.length>2)?bF.call.apply(bF,arguments):ax(cA,at,ap.call(arguments,2))}function ba(cB){var at=arguments.length>1?bj.apply(bH,ap.call(arguments,1)):ca(cB),cA=-1,cD=at.length;while(++cA<cD){var cC=at[cA];cB[cC]=bA(cB[cC],cB)}return cB}function cf(at,cA){return ax(at,cA,ap.call(arguments,2),k)}function b8(){var at=arguments;return function(){var cA=arguments,cB=at.length;while(cB--){cA=[at[cB].apply(this,cA)]}return cA[0]}}function an(cC,at,cD){if(cC==null){return a0}var cB=typeof cC;if(cB!="function"){if(cB!="object"){return function(cE){return cE[cC]}}var cA=bK(cC);return function(cF){var cG=cA.length,cE=false;while(cG--){if(!(cE=bD(cF[cA[cG]],cC[cA[cG]],k))){break}}return cE}}if(typeof at!="undefined"){if(cD===1){return function(cE){return cC.call(at,cE)}}if(cD===2){return function(cF,cE){return cC.call(at,cF,cE)}}if(cD===4){return function(cE,cG,cF,cH){return cC.call(at,cE,cG,cF,cH)}}return function(cF,cE,cG){return cC.call(at,cF,cE,cG)}}return cC}function b7(cA,cC,cH){var cE,cI,cJ,cF,cG,cD=true;function cB(){cI=cG=null;if(cD){cJ=cA.apply(cF,cE)}}if(cH===true){var at=true;cD=false}else{if(cH&&x[typeof cH]){at=cH.leading;cD="trailing" in cH?cH.trailing:cD}}return function(){cE=arguments;cF=this;bu(cG);if(!cI&&at){cI=true;cJ=cA.apply(cF,cE)}else{cG=aF(cB,cC)}return cJ}}function aK(cA){var at=ap.call(arguments,1);return aF(function(){cA.apply(l,at)},1)}if(aa&&s&&typeof bz=="function"){aK=bA(bz,T)}function bp(cA,cB){var at=ap.call(arguments,2);return aF(function(){cA.apply(l,at)},cB)}function aL(cA,cB){var at={};return function(){var cC=e+(cB?cB.apply(this,arguments):arguments[0]);return aI.call(at,cC)?at[cC]:(at[cC]=cA.apply(this,arguments))}}function b0(cB){var cA,at;return function(){if(cA){return at}cA=true;at=cB.apply(this,arguments);cB=null;return at}}function ci(at){return ax(at,ap.call(arguments,1))}function bX(at){return ax(at,ap.call(arguments,1),null,k)}function bS(cA,cB,cI){var cE,cJ,cG,cH,cC=0,at=true,cD=true;function cF(){cH=null;if(cD){cC=new bN;cJ=cA.apply(cG,cE)}}if(cI===false){at=false}else{if(cI&&x[typeof cI]){at="leading" in cI?cI.leading:at;cD="trailing" in cI?cI.trailing:cD}}return function(){var cK=new bN;if(!cH&&!at){cC=cK}var cL=cB-(cK-cC);cE=arguments;cG=this;if(cL<=0){bu(cH);cH=null;cC=cK;cJ=cA.apply(cG,cE)}else{if(!cH){cH=aF(cF,cL)}}return cJ}}function bx(at,cA){return function(){var cB=[at];ad.apply(cB,arguments);return cA.apply(this,cB)}}function aU(at){return at==null?"":bV(at).replace(u,a3)}function a0(at){return at}function ai(at){be(ca(at),function(cA){var cB=aB[cA]=at[cA];aB.prototype[cA]=function(){var cE=this.__wrapped__,cD=[cE];ad.apply(cD,arguments);var cC=cB.apply(aB,cD);return(cE&&typeof cE=="object"&&cE==cC)?this:new ce(cC)}})}function cl(){T._=cj;return this}var cx=cw(y+"08")==8?cw:function(cA,at){return cw(b2(cA)?cA.replace(M,""):cA,at||0)};function bL(cA,at){if(cA==null&&at==null){at=1}cA=+cA||0;if(at==null){at=cA;cA=0}return cA+cd(bn()*((+at||0)-cA+1))}function ay(at,cB){var cA=at?at[cB]:l;return ae(cA)?at[cB]():cA}function bh(cM,cG,cP){var cD=aB.templateSettings;cM||(cM="");cP=a8({},cP,cD);var cB=a8({},cP.imports,cD.imports),cH=bK(cB),cC=bb(cB);var cL,cI=0,cK=cP.interpolate||H,cA="__p += '";var cO=b9((cP.escape||H).source+"|"+cK.source+"|"+(cK===m?t:H).source+"|"+(cP.evaluate||H).source+"|$","g");cM.replace(cO,function(cQ,cU,cS,cR,cT,cV){cS||(cS=cR);cA+=cM.slice(cI,cV).replace(K,cq);if(cU){cA+="' +\n__e("+cU+") +\n'"}if(cT){cL=true;cA+="';\n"+cT+";\n__p += '"}if(cS){cA+="' +\n((__t = ("+cS+")) == null ? '' : __t) +\n'"}cI=cV+cQ.length;return cQ});cA+="';\n";var cE=cP.variable,cF=cE;if(!cF){cE="obj";cA="with ("+cE+") {\n"+cA+"\n}\n"}cA=(cL?cA.replace(q,""):cA).replace(I,"$1").replace(h,"$1;");cA="function("+cE+") {\n"+(cF?"":cE+" || ("+cE+" = {});\n")+"var __t, __p = '', __e = _.escape"+(cL?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+cA+"return __p\n}";var at="\n/*\n//@ sourceURL="+(cP.sourceURL||"/lodash/template/source["+(O++)+"]")+"\n*/";try{var cN=aH(cH,"return "+cA+at).apply(l,cC)}catch(cJ){cJ.source=cA;throw cJ}if(cG){return cN(cG)}cN.source=cA;return cN}function W(cD,cC,cA){cD=(cD=+cD)>-1?cD:0;var cB=-1,at=al(cD);cC=aB.createCallback(cC,cA,1);while(++cB<cD){at[cB]=cC(cB)}return at}function X(at){return at==null?"":bV(at).replace(z,a4)}function bP(at){var cA=++C;return bV(at==null?"":at)+cA}function b3(at,cA){cA(at);return at}function a2(){return bV(this.__wrapped__)}function aD(){return this.__wrapped__}aB.after=az;aB.assign=a7;aB.at=cc;aB.bind=bA;aB.bindAll=ba;aB.bindKey=cf;aB.compact=aw;aB.compose=b8;aB.countBy=bl;aB.createCallback=an;aB.debounce=b7;aB.defaults=a8;aB.defer=aK;aB.delay=bp;aB.difference=R;aB.filter=br;aB.flatten=b4;aB.forEach=be;aB.forIn=U;aB.forOwn=bq;aB.functions=ca;aB.groupBy=a5;aB.initial=ct;aB.intersection=b1;aB.invert=bG;aB.invoke=ao;aB.keys=bK;aB.map=a1;aB.max=aZ;aB.memoize=aL;aB.merge=bm;aB.min=bT;aB.omit=bZ;aB.once=b0;aB.pairs=bd;aB.partial=ci;aB.partialRight=bX;aB.pick=bo;aB.pluck=cu;aB.range=aG;aB.reject=ah;aB.rest=bJ;aB.shuffle=bc;aB.sortBy=aS;aB.tap=b3;aB.throttle=bS;aB.times=W;aB.toArray=aj;aB.union=ac;aB.uniq=bt;aB.unzip=cr;aB.values=bb;aB.where=V;aB.without=cm;aB.wrap=bx;aB.zip=Z;aB.zipObject=b6;aB.collect=a1;aB.drop=bJ;aB.each=be;aB.extend=a7;aB.methods=ca;aB.object=b6;aB.select=br;aB.tail=bJ;aB.unique=bt;ai(aB);aB.clone=b5;aB.cloneDeep=cv;aB.contains=aM;aB.escape=aU;aB.every=af;aB.find=bi;aB.findIndex=co;aB.findKey=bY;aB.has=ck;aB.identity=a0;aB.indexOf=cs;aB.isArguments=aN;aB.isArray=bf;aB.isBoolean=bk;aB.isDate=aR;aB.isElement=bC;aB.isEmpty=bW;aB.isEqual=bD;aB.isFinite=ar;aB.isFunction=ae;aB.isNaN=bs;aB.isNull=cp;aB.isNumber=a6;aB.isObject=cy;aB.isPlainObject=av;aB.isRegExp=cg;aB.isString=b2;aB.isUndefined=by;aB.lastIndexOf=cz;aB.mixin=ai;aB.noConflict=cl;aB.parseInt=cx;aB.random=bL;aB.reduce=bU;aB.reduceRight=ch;aB.result=ay;aB.runInContext=N;aB.size=aQ;aB.some=aP;aB.sortedIndex=aT;aB.template=bh;aB.unescape=X;aB.uniqueId=bP;aB.all=af;aB.any=aP;aB.detect=bi;aB.foldl=bU;aB.foldr=ch;aB.include=aM;aB.inject=bU;bq(aB,function(cA,at){if(!aB.prototype[at]){aB.prototype[at]=function(){var cB=[this.__wrapped__];ad.apply(cB,arguments);return cA.apply(aB,cB)}}});aB.first=aY;aB.last=a9;aB.take=aY;aB.head=aY;bq(aB,function(cA,at){if(!aB.prototype[at]){aB.prototype[at]=function(cD,cC){var cB=cA(this.__wrapped__,cD,cC);return cD==null||(cC&&typeof cD!="function")?cB:new ce(cB)}}});aB.VERSION="1.2.1";aB.prototype.toString=a2;aB.prototype.value=aD;aB.prototype.valueOf=aD;be(["join","pop","shift"],function(at){var cA=bH[at];aB.prototype[at]=function(){return cA.apply(this.__wrapped__,arguments)}});be(["push","reverse","sort","unshift"],function(at){var cA=bH[at];aB.prototype[at]=function(){cA.apply(this.__wrapped__,arguments);return this}});be(["concat","slice","splice"],function(at){var cA=bH[at];aB.prototype[at]=function(){return new ce(cA.apply(this.__wrapped__,arguments))}});return aB}var P=N();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){G._=P;define(function(){return P})}else{if(L&&!L.nodeType){if(s){(s.exports=P)._=P}else{L._=P}}else{G._=P}}}(this))})(self)},{}],71:[function(c,e,a){var b=c("lodash"),f=c("backbone");var d=f.View.extend({initialize:function(h){var g=this.templateName;if(this.beforeInit){this.beforeInit(h)}this.template=this.template||h.template;if(!this.template){this.template=function(){return""}}if(this.afterInit){this.afterInit(h)}this.render()},context:function(){return b.extend({},this.options,this.model)},close:function(){if(this.beforeClose){this.beforeClose()}this.closeSubviews();this.off();this.remove()},render:function(){var g=this,h=this.model;if(this.beforeRender){this.beforeRender()}this.closeSubviews();this.$el.empty();if(this.beforeTemplating){h=this.beforeTemplating()}if(this.context){h=this.context()}this.$el.html(this.template(h));b.defer(function(){g.trigger("afterRender")});if(this.afterRender){this.afterRender()}return this},proxy:function(k,g){var h=this;g.on(k,function(){var l=Array.prototype.slice.call(arguments,0);l.splice(0,0,k);h.trigger.apply(h,l)})},eachSubview:function(g){b.each(this.subviews,g)},appendSubview:function(g,h){h||(h=this.$el);this.subviews=this.subviews||{};this.subviews[g.cid]=g;h.append(g.el);b.defer(function(){g.trigger("afterAppend")});if(g.afterAppend){g.afterAppend()}},closeSubviews:function(){this.eachSubview(function(g){g.close()});this.subviews={}},detachSubview:function(g){if(this.subviews){delete this.subviews[g.cid]}g.$el.detach()}});e.exports=d},{backbone:54,lodash:74}],70:[function(b,c,a){(function(){(function(){var d=function(){function h(q){if(window.console){console.log(q)}}var l,k=["videojs","vjs","_V_"],f=[],g={},p=function(r,q){return hasOwnProperty.call(r,q)},o=function(v,u,t){if(v==null){return}if(Array.prototype.forEach&&v.forEach===Array.prototype.forEach){v.forEach(u,t)}else{if(v.length===+v.length){for(var s=0,q=v.length;s<q;s++){if(u.call(t,v[s],s,v)===g){return}}}else{for(var r in v){if(p(v,r)){if(u.call(t,v[r],r,v)===g){return}}}}}},n=function(q){o(Array.prototype.slice.call(arguments,1),function(r){if(r){for(var s in r){q[s]=r[s]}}});return q};o(k,function(q){if(window[q]!==undefined){l=window[q];return false}});try{l=b("videojs")}catch(m){}this.resizeVideos=function(q){if(q){q.preventDefault();q.stopPropagation()}o(f,function(v){var t=document.getElementById(v.id),s=l(v.id),u,r;if(t&&t.parentNode){u=t.parentNode.offsetWidth;r=v.height*(u/v.width);s.width(u);s.height(r)}})};this.loadVideo=function(v,q,s){var A=this,y,w,t,z,r,u=false,x;q.sources=q.sources||[];q.attributes=q.attributes||{};w={id:"js_thumb_video","class":"video-js vjs-default-skin",controls:"controls",preload:"auto",resize:false,width:560,height:320};if(!l){s("Please include Video.js to use this function");return}if(!q.sources.length){s("Videos require at least one source");return}q.sources=n([],q.sources);q.attributes=n({},w,q.attributes);o(l.players,function(C,B){if(B===q.attributes.id){C.dispose();return false}});videoDims={};y=document.createElement("video");o(q.attributes,function(C,B){y.setAttribute(B,C)});o(q.sources,function(C){var B=document.createElement("source");B.setAttribute("src",C.src);B.setAttribute("type",C.type);y.appendChild(B)});v.appendChild(y);l(y,{},function(){o(v.childNodes,function(B){if(B.attributes&&B.attributes.id&&B.attributes.id.value===q.attributes.id){element=B;return false}});o(element.childNodes,function(B){if(B.tagName.toLowerCase()==="object"){u=true;return false}});onReady=function(C,B){s(null,element,this,B===undefined)};if(q.attributes.resize){f.push({id:element.attributes.id.value,width:this.width(),height:this.height()});A.resizeVideos()}if(u){onReady(null,true)}else{l(q.attributes.id).on("loadedmetadata",onReady)}})};this.screenshot=function(t,s){var q,r=document.createElement("canvas");s=s||{};var v=s.origWidth||t.videoWidth;var u=s.origHeight||t.videoHeight;if(!v||!u){h("Video has invalid dimensions or metadata has not yet loaded.");return false}r.width=v;r.height=u;q=r.getContext("2d");q.drawImage(t,0,0,v,u);return r.toDataURL("image/png")};this.resize=function(s,r){var A=r.maxWidth||50,B=r.maxHeight||50,t=document.createElement("canvas"),x=document.createElement("canvas"),v=t.getContext("2d"),q=x.getContext("2d"),D=s.width||r.origWidth,F=s.height||r.origHeight,z,C,E=(r.maxWidth/D),w=F*E,u=(r.maxHeight/F),y=D*u;x.width=D;x.height=F;q.drawImage(s,0,0);t.width=A;t.height=B;if(w<B){z=(A-(x.width*u))/2;v.drawImage(x,0,0,x.width,x.height,z,0,x.width*u,x.height*u)}else{C=(B-(x.height*E))/2;v.drawImage(x,0,0,x.width,x.height,0,C,x.width*E,x.height*E)}return t.toDataURL()};this.resizeData=function(u,s,q){s=s||{};var r=this,t=new Image();t.onload=function(){q(null,r.resize(t,s))};t.src=u}};var e=new d();if((typeof window!="undefined")&&(typeof c=="undefined")){window.jsthumb=e;window.onresize=e.resizeVideos}else{c.exports=e}}())})()},{videojs:69}],61:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(k,q,h,p,o){this.compilerInfo=[4,">= 1.0.0"];h=this.merge(h,k.helpers);o=o||{};var m="",e,l="function",n=this.escapeExpression,r=this;function g(v,u){var s="",t;s+='\n  <li>\n    <div class="relfix">\n      <a href="';if(t=h.playerUrl){t=t.call(v,{hash:{},data:u})}else{t=v.playerUrl;t=typeof t===l?t.apply(v):t}s+=n(t)+'" class="app">\n        <img src="';if(t=h.thumbnailUrl){t=t.call(v,{hash:{},data:u})}else{t=v.thumbnailUrl;t=typeof t===l?t.apply(v):t}s+=n(t)+'" alt="';if(t=h.name){t=t.call(v,{hash:{},data:u})}else{t=v.name;t=typeof t===l?t.apply(v):t}s+=n(t)+'" />\n        ';t=h["if"].call(v,v.editHref,{hash:{},inverse:r.noop,fn:r.program(2,f,u),data:u});if(t||t===0){s+=t}s+='\n        <div class="captions centered">\n          <h2>';if(t=h.name){t=t.call(v,{hash:{},data:u})}else{t=v.name;t=typeof t===l?t.apply(v):t}s+=n(t)+"</h2>\n        </div>\n      </a>\n    </div>\n  </li>\n";return s}function f(v,u){var s="",t;s+='\n          <p class="absfix">\n            <a href="';if(t=h.editHref){t=t.call(v,{hash:{},data:u})}else{t=v.editHref;t=typeof t===l?t.apply(v):t}s+=n(t)+'" class="app btn btn-mini btn-info">Edit</a>\n          </p>\n        ';return s}m+='<ul class="reelgrid">\n';e=h.each.call(q,q.media,{hash:{},inverse:r.noop,fn:r.program(1,g,o),data:o});if(e||e===0){m+=e}m+="\n</ul>\n";return m})},{"handlebars-runtime":72}],63:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(h,p,g,o,n){this.compilerInfo=[4,">= 1.0.0"];g=this.merge(g,h.helpers);n=n||{};var l="",e,k="function",m=this.escapeExpression,q=this;function f(u,t){var r="",s;r+='\n  <iframe src="';if(s=g.thumberUrl){s=s.call(u,{hash:{},data:t})}else{s=u.thumberUrl;s=typeof s===k?s.apply(u):s}r+=m(s)+'" frameborder="0" width="100%"></iframe>\n';return r}e=g["if"].call(p,p.thumberUrl,{hash:{},inverse:q.noop,fn:q.program(1,f,n),data:n});if(e||e===0){l+=e}l+="\n";return l})},{"handlebars-runtime":72}],65:[function(b,c,a){var d=b("handlebars-runtime");c.exports=d.template(function(k,q,h,p,o){this.compilerInfo=[4,">= 1.0.0"];h=this.merge(h,k.helpers);o=o||{};var m="",e,l="function",n=this.escapeExpression,r=this;function g(v,u){var s="",t;s+='\n    <li>\n      <div class="relfix">\n        <a href="';if(t=h.playerUrl){t=t.call(v,{hash:{},data:u})}else{t=v.playerUrl;t=typeof t===l?t.apply(v):t}s+=n(t)+'" class="app">\n          <img src="';if(t=h.thumbnailUrl){t=t.call(v,{hash:{},data:u})}else{t=v.thumbnailUrl;t=typeof t===l?t.apply(v):t}s+=n(t)+'" alt="';if(t=h.name){t=t.call(v,{hash:{},data:u})}else{t=v.name;t=typeof t===l?t.apply(v):t}s+=n(t)+'" />\n        </a>\n        ';t=h["if"].call(v,v.editHref,{hash:{},inverse:r.noop,fn:r.program(2,f,u),data:u});if(t||t===0){s+=t}s+="\n      </div>\n    </li>\n  ";return s}function f(v,u){var s="",t;s+='\n          <p class="absfix">\n            <a href="';if(t=h.editHref){t=t.call(v,{hash:{},data:u})}else{t=v.editHref;t=typeof t===l?t.apply(v):t}s+=n(t)+'" class="app btn btn-micro btn-info">Edit</a>\n          </p>\n        ';return s}m+='<div class="sliderWrap">\n  <ul class="carousel elastislide-list">\n  ';e=h.each.call(q,q.media,{hash:{},inverse:r.noop,fn:r.program(1,g,o),data:o});if(e||e===0){m+=e}m+='\n  </ul>\n</div>\n<div class="controls clearfix centered">\n  <a href="#" class="carouselControl bigClose pull-left">&times;</a>\n  <a href="#" class="carouselControl reelToggle"><span class="symbol">&and;</span><br /><small>Reel</small></a>\n</div>\n';return m})},{"handlebars-runtime":72}]},{},[1]);