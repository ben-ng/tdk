/*

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>

 Lo-Dash 1.2.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
require=function(l,w,x){function d(g,e){if(!w[g]){if(!l[g]){var m="function"==typeof require&&require;if(!e&&m)return m(g,!0);if(a)return a(g,!0);throw Error("Cannot find module '"+g+"'");}m=w[g]={exports:{}};l[g][0].call(m.exports,function(a){var e=l[g][1][a];return d(e?e:a)},m,m.exports)}return w[g].exports}for(var a="function"==typeof require&&require,q=0;q<x.length;q++)d(x[q]);return d}({"jquery-browserify":[function(l,w,x){w.exports=l("Gb3VIQ")},{}],Gb3VIQ:[function(l,w,x){(function(){(function(d,
a){"object"===typeof x?w.exports=a():"function"===typeof define&&define.amd?define([],a):d.returnExports=a()})(this,function(){return function(d,a){function q(a){var b=Ub[a]={};h.each(a.split(sa),function(a,c){b[c]=!0});return b}function g(b,c,W){if(W===a&&1===b.nodeType)if(W="data-"+c.replace(ub,"-$1").toLowerCase(),W=b.getAttribute(W),"string"===typeof W){try{W="true"===W?!0:"false"===W?!1:"null"===W?null:+W+""===W?+W:aa.test(W)?h.parseJSON(W):W}catch(f){}h.data(b,c,W)}else W=a;return W}function e(a){for(var b in a)if(("data"!==
b||!h.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function m(){return!1}function y(){return!0}function r(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function n(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function z(a,b,c){b=b||0;if(h.isFunction(b))return h.grep(a,function(a,D){return!!b.call(a,D,a)===c});if(b.nodeType)return h.grep(a,function(a,D){return a===b===c});if("string"===typeof b){var f=h.grep(a,function(a){return 1===a.nodeType});if(ob.test(b))return h.filter(b,
f,!c);b=h.filter(b,f)}return h.grep(a,function(a,D){return 0<=h.inArray(a,b)===c})}function l(a){var b=Ba.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function b(a,b){if(1===b.nodeType&&h.hasData(a)){var c,f,d;f=h._data(a);var k=h._data(b,f),e=f.events;if(e)for(c in delete k.handle,k.events={},e)for(f=0,d=e[c].length;f<d;f++)h.event.add(b,c,e[c][f]);k.data&&(k.data=h.extend({},k.data))}}function c(a,b){var c;1===b.nodeType&&(b.clearAttributes&&
b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),h.support.html5Clone&&(a.innerHTML&&!h.trim(b.innerHTML))&&(b.innerHTML=a.innerHTML)):"input"===c&&cb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(h.expando))}
function f(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function k(a){cb.test(a.type)&&(a.defaultChecked=a.checked)}function u(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),h=b,f=ka.length;f--;)if(b=ka[f]+c,b in a)return b;return h}function na(a,b){a=b||a;return"none"===h.css(a,"display")||!h.contains(a.ownerDocument,a)}function L(a,b){for(var c,f,d=[],k=0,e=a.length;k<e;k++)c=
a[k],c.style&&(d[k]=h._data(c,"olddisplay"),b?(d[k]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&na(c)&&(d[k]=h._data(c,"olddisplay",s(c.nodeName)))):(f=Q(c,"display"),d[k]||"none"===f||h._data(c,"olddisplay",f)));for(k=0;k<e;k++)c=a[k],!c.style||b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?d[k]||"":"none");return a}function w(a,b,c){return(a=wa.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function E(a,b,c,f){b=c===(f?"border":"content")?4:"width"===
b?1:0;for(var d=0;4>b;b+=2)"margin"===c&&(d+=h.css(a,c+Ha[b],!0)),f?("content"===c&&(d-=parseFloat(Q(a,"padding"+Ha[b]))||0),"margin"!==c&&(d-=parseFloat(Q(a,"border"+Ha[b]+"Width"))||0)):(d+=parseFloat(Q(a,"padding"+Ha[b]))||0,"padding"!==c&&(d+=parseFloat(Q(a,"border"+Ha[b]+"Width"))||0));return d}function H(a,b,c){var f="width"===b?a.offsetWidth:a.offsetHeight,d=!0,k=h.support.boxSizing&&"border-box"===h.css(a,"boxSizing");if(0>=f||null==f){f=Q(a,b);if(0>f||null==f)f=a.style[b];if(Za.test(f))return f;
d=k&&(h.support.boxSizingReliable||f===a.style[b]);f=parseFloat(f)||0}return f+E(a,b,c||(k?"border":"content"),d)+"px"}function s(a){if(Ta[a])return Ta[a];var b=h("<"+a+">").appendTo(v.body),c=b.css("display");b.remove();if("none"===c||""===c)Oa=v.body.appendChild(Oa||h.extend(v.createElement("iframe"),{frameBorder:0,width:0,height:0})),M&&Oa.createElement||(M=(Oa.contentWindow||Oa.contentDocument).document,M.write("<!doctype html><html><body>"),M.close()),b=M.body.appendChild(M.createElement(a)),
c=Q(b,"display"),v.body.removeChild(Oa);return Ta[a]=c}function J(a,b,c,f){var d;if(h.isArray(b))h.each(b,function(b,Aa){c||vb.test(a)?f(a,Aa):J(a+"["+("object"===typeof Aa?b:"")+"]",Aa,c,f)});else if(c||"object"!==h.type(b))f(a,b);else for(d in b)J(a+"["+d+"]",b[d],c,f)}function ta(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var f,d,k=b.toLowerCase().split(sa),e=0,p=k.length;if(h.isFunction(c))for(;e<p;e++)f=k[e],(d=/^\+/.test(f))&&(f=f.substr(1)||"*"),f=a[f]=a[f]||[],f[d?"unshift":
"push"](c)}}function ua(b,c,h,f,d,k){d=d||c.dataTypes[0];k=k||{};k[d]=!0;var e;d=b[d];for(var p=0,g=d?d.length:0,t=b===Vb;p<g&&(t||!e);p++)e=d[p](c,h,f),"string"===typeof e&&(!t||k[e]?e=a:(c.dataTypes.unshift(e),e=ua(b,c,h,f,e,k)));!t&&e||k["*"]||(e=ua(b,c,h,f,"*",k));return e}function I(b,c){var W,f,d=h.ajaxSettings.flatOptions||{};for(W in c)c[W]!==a&&((d[W]?b:f||(f={}))[W]=c[W]);f&&h.extend(!0,b,f)}function ga(){try{return new d.XMLHttpRequest}catch(a){}}function x(){setTimeout(function(){Ua=a},
0);return Ua=h.now()}function U(a,b){h.each(b,function(b,c){for(var Aa=(Wb[b]||[]).concat(Wb["*"]),h=0,f=Aa.length;h<f&&!Aa[h].call(a,b,c);h++);})}function oa(a,b,c){var f=0,d=ac.length,k=h.Deferred().always(function(){delete e.elem}),e=function(){for(var b=Ua||x(),b=Math.max(0,p.startTime+p.duration-b),c=1-(b/p.duration||0),Aa=0,h=p.tweens.length;Aa<h;Aa++)p.tweens[Aa].run(c);k.notifyWith(a,[p,c,b]);if(1>c&&h)return b;k.resolveWith(a,[p]);return!1},p=k.promise({elem:a,props:h.extend({},b),opts:h.extend(!0,
{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ua||x(),duration:c.duration,tweens:[],createTween:function(b,c,Aa){b=h.Tween(a,p.opts,b,c,p.opts.specialEasing[b]||p.opts.easing);p.tweens.push(b);return b},stop:function(b){for(var c=0,Aa=b?p.tweens.length:0;c<Aa;c++)p.tweens[c].run(1);b?k.resolveWith(a,[p,b]):k.rejectWith(a,[p,b]);return this}});c=p.props;for(ha(c,p.opts.specialEasing);f<d;f++)if(b=ac[f].call(p,a,c,p.opts))return b;U(p,c);h.isFunction(p.opts.start)&&p.opts.start.call(a,
p);h.fx.timer(h.extend(e,{anim:p,queue:p.opts.queue,elem:a}));return p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always)}function ha(a,b){var c,f,d,k,e;for(c in a)if(f=h.camelCase(c),d=b[f],k=a[c],h.isArray(k)&&(d=k[1],k=a[c]=k[0]),c!==f&&(a[f]=k,delete a[c]),(e=h.cssHooks[f])&&"expand"in e)for(c in k=e.expand(k),delete a[f],k)c in a||(a[c]=k[c],b[c]=d);else b[f]=d}function R(a,b,c,h,f){return new R.prototype.init(a,b,c,h,f)}function A(a,b){var c,
h={height:a},f=0;for(b=b?1:0;4>f;f+=2-b)c=Ha[f],h["margin"+c]=h["padding"+c]=a;b&&(h.opacity=h.width=a);return h}function F(a){return h.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var K,p,v=d.document,ia=d.location,P=d.navigator,Ma=d.jQuery,pb=d.$,db=Array.prototype.push,Da=Array.prototype.slice,eb=Array.prototype.indexOf,Va=Object.prototype.toString,Ia=Object.prototype.hasOwnProperty,Na=String.prototype.trim,h=function(a,b){return new h.fn.init(a,b,K)},X=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,
qb=/\S/,sa=/\s+/,fb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Pa=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,va=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gb=/^[\],:{}\s]*$/,Qa=/(?:^|:|,)(?:\s*\[)+/g,bc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Eb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,cc=/^-ms-/,Xb=/-([\da-z])/gi,dc=function(a,b){return(b+"").toUpperCase()},Fb=function(){v.addEventListener?(v.removeEventListener("DOMContentLoaded",Fb,!1),h.ready()):"complete"===v.readyState&&(v.detachEvent("onreadystatechange",
Fb),h.ready())},Gb={};h.fn=h.prototype={constructor:h,init:function(b,c,f){var d;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("string"===typeof b){d="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:Pa.exec(b);if(!d||!d[1]&&c)return!c||c.jquery?(c||f).find(b):this.constructor(c).find(b);if(d[1])return b=(c=c instanceof h?c[0]:c)&&c.nodeType?c.ownerDocument||c:v,b=h.parseHTML(d[1],b,!0),va.test(d[1])&&h.isPlainObject(c)&&this.attr.call(b,
c,!0),h.merge(this,b);if((c=v.getElementById(d[2]))&&c.parentNode){if(c.id!==d[2])return f.find(b);this.length=1;this[0]=c}this.context=v;this.selector=b;return this}if(h.isFunction(b))return f.ready(b);b.selector!==a&&(this.selector=b.selector,this.context=b.context);return h.makeArray(b,this)},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return Da.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,
b,c){a=h.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===b?a.selector=this.selector+(this.selector?" ":"")+c:b&&(a.selector=this.selector+"."+b+"("+c+")");return a},each:function(a,b){return h.each(this,a,b)},ready:function(a){h.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Da.apply(this,arguments),"slice",
Da.call(arguments).join(","))},map:function(a){return this.pushStack(h.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:db,sort:[].sort,splice:[].splice};h.fn.init.prototype=h.fn;h.extend=h.fn.extend=function(){var b,c,f,d,k,e=arguments[0]||{},p=1,g=arguments.length,t=!1;"boolean"===typeof e&&(t=e,e=arguments[1]||{},p=2);"object"===typeof e||h.isFunction(e)||(e={});g===p&&(e=this,--p);for(;p<g;p++)if(null!=(b=arguments[p]))for(c in b)f=
e[c],d=b[c],e!==d&&(t&&d&&(h.isPlainObject(d)||(k=h.isArray(d)))?(k?(k=!1,f=f&&h.isArray(f)?f:[]):f=f&&h.isPlainObject(f)?f:{},e[c]=h.extend(t,f,d)):d!==a&&(e[c]=d));return e};h.extend({noConflict:function(a){d.$===h&&(d.$=pb);a&&d.jQuery===h&&(d.jQuery=Ma);return h},isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){if(!0===a?!--h.readyWait:!h.isReady){if(!v.body)return setTimeout(h.ready,1);h.isReady=!0;!0!==a&&0<--h.readyWait||(p.resolveWith(v,[h]),h.fn.trigger&&
h(v).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):Gb[Va.call(a)]||"object"},isPlainObject:function(b){if(!b||"object"!==h.type(b)||b.nodeType||h.isWindow(b))return!1;try{if(b.constructor&&!Ia.call(b,"constructor")&&!Ia.call(b.constructor.prototype,
"isPrototypeOf"))return!1}catch(c){return!1}for(var f in b);return f===a||Ia.call(b,f)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){var f;if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=0);b=b||v;if(f=va.exec(a))return[b.createElement(f[1])];f=h.buildFragment([a],b,c?null:[]);return h.merge([],(f.cacheable?h.clone(f.fragment):f.fragment).childNodes)},parseJSON:function(a){if(!a||"string"!==typeof a)return null;
a=h.trim(a);if(d.JSON&&d.JSON.parse)return d.JSON.parse(a);if(gb.test(a.replace(bc,"@").replace(Eb,"]").replace(Qa,"")))return(new Function("return "+a))();h.error("Invalid JSON: "+a)},parseXML:function(b){var c,f;if(!b||"string"!==typeof b)return null;try{d.DOMParser?(f=new DOMParser,c=f.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(k){c=a}c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+b);
return c},noop:function(){},globalEval:function(a){a&&qb.test(a)&&(d.execScript||function(a){d.eval.call(d,a)})(a)},camelCase:function(a){return a.replace(cc,"ms-").replace(Xb,dc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,c,f){var d,k=0,e=b.length,p=e===a||h.isFunction(b);if(f)if(p)for(d in b){if(!1===c.apply(b[d],f))break}else for(;k<e&&!1!==c.apply(b[k++],f););else if(p)for(d in b){if(!1===c.call(b[d],d,b[d]))break}else for(;k<e&&!1!==
c.call(b[k],k,b[k++]););return b},trim:Na&&!Na.call("\ufeff\u00a0")?function(a){return null==a?"":Na.call(a)}:function(a){return null==a?"":a.toString().replace(fb,"")},makeArray:function(a,b){var c,f=b||[];null!=a&&(c=h.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||h.isWindow(a)?db.call(f,a):h.merge(f,a));return f},inArray:function(a,b,c){var f;if(b){if(eb)return eb.call(b,a,c);f=b.length;for(c=c?0>c?Math.max(0,f+c):c:0;c<f;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(b,
c){var f=c.length,h=b.length,d=0;if("number"===typeof f)for(;d<f;d++)b[h++]=c[d];else for(;c[d]!==a;)b[h++]=c[d++];b.length=h;return b},grep:function(a,b,c){var f,h=[],d=0,k=a.length;for(c=!!c;d<k;d++)f=!!b(a[d],d),c!==f&&h.push(a[d]);return h},map:function(b,c,f){var d,k,e=[],p=0,g=b.length;if(b instanceof h||g!==a&&"number"===typeof g&&(0<g&&b[0]&&b[g-1]||0===g||h.isArray(b)))for(;p<g;p++)d=c(b[p],p,f),null!=d&&(e[e.length]=d);else for(k in b)d=c(b[k],k,f),null!=d&&(e[e.length]=d);return e.concat.apply([],
e)},guid:1,proxy:function(b,c){var f,d;"string"===typeof c&&(f=b[c],c=b,b=f);if(!h.isFunction(b))return a;d=Da.call(arguments,2);f=function(){return b.apply(c,d.concat(Da.call(arguments)))};f.guid=b.guid=b.guid||f.guid||h.guid++;return f},access:function(b,c,f,d,k,e,p){var g,t=null==f,n=0,m=b.length;if(f&&"object"===typeof f){for(n in f)h.access(b,c,n,f[n],1,e,d);k=1}else if(d!==a){g=p===a&&h.isFunction(d);t&&(g?(g=c,c=function(a,b,c){return g.call(h(a),c)}):(c.call(b,d),c=null));if(c)for(;n<m;n++)c(b[n],
f,g?d.call(b[n],n,c(b[n],f)):d,p);k=1}return k?b:t?c.call(b):m?c(b[0],f):e},now:function(){return(new Date).getTime()}});h.ready.promise=function(a){if(!p)if(p=h.Deferred(),"complete"===v.readyState)setTimeout(h.ready,1);else if(v.addEventListener)v.addEventListener("DOMContentLoaded",Fb,!1),d.addEventListener("load",h.ready,!1);else{v.attachEvent("onreadystatechange",Fb);d.attachEvent("onload",h.ready);var b=!1;try{b=null==d.frameElement&&v.documentElement}catch(c){}b&&b.doScroll&&function gc(){if(!h.isReady){try{b.doScroll("left")}catch(a){return setTimeout(gc,
50)}h.ready()}}()}return p.promise(a)};h.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Gb["[object "+b+"]"]=b.toLowerCase()});K=h(v);var Ub={};h.Callbacks=function(b){b="string"===typeof b?Ub[b]||q(b):h.extend({},b);var c,f,d,k,e,p,g=[],t=!b.once&&[],n=function(a){c=b.memory&&a;f=!0;p=k||0;k=0;e=g.length;for(d=!0;g&&p<e;p++)if(!1===g[p].apply(a[0],a[1])&&b.stopOnFalse){c=!1;break}d=!1;g&&(t?t.length&&n(t.shift()):c?g=[]:m.disable())},m={add:function(){if(g){var a=
g.length;(function hc(a){h.each(a,function(a,c){var f=h.type(c);"function"!==f||b.unique&&m.has(c)?c&&(c.length&&"string"!==f)&&hc(c):g.push(c)})})(arguments);d?e=g.length:c&&(k=a,n(c))}return this},remove:function(){g&&h.each(arguments,function(a,b){for(var c;-1<(c=h.inArray(b,g,c));)g.splice(c,1),d&&(c<=e&&e--,c<=p&&p--)});return this},has:function(a){return-1<h.inArray(a,g)},empty:function(){g=[];return this},disable:function(){g=t=c=a;return this},disabled:function(){return!g},lock:function(){t=
a;c||m.disable();return this},locked:function(){return!t},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];!g||f&&!t||(d?t.push(b):n(b));return this},fire:function(){m.fireWith(this,arguments);return this},fired:function(){return!!f}};return m};h.extend({Deferred:function(a){var b=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],c="pending",f={state:function(){return c},always:function(){d.done(arguments).fail(arguments);
return this},then:function(){var a=arguments;return h.Deferred(function(c){h.each(b,function(b,D){var f=D[0],Aa=a[b];d[D[1]](h.isFunction(Aa)?function(){var a=Aa.apply(this,arguments);if(a&&h.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[f+"With"](this===d?c:this,[a])}:c[f])});a=null}).promise()},promise:function(a){return"object"===typeof a?h.extend(a,f):f}},d={};f.pipe=f.then;h.each(b,function(a,D){var h=D[2],k=D[3];f[D[1]]=h.add;k&&h.add(function(){c=
k},b[a^1][2].disable,b[2][2].lock);d[D[0]]=h.fire;d[D[0]+"With"]=h.fireWith});f.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,c=Da.call(arguments),f=c.length,d=1!==f||a&&h.isFunction(a.promise)?f:0,k=1===d?a:h.Deferred(),e=function(a,b,c){return function(D){b[a]=this;c[a]=1<arguments.length?Da.call(arguments):D;c===p?k.notifyWith(b,c):--d||k.resolveWith(b,c)}},p,g,t;if(1<f)for(p=Array(f),g=Array(f),t=Array(f);b<f;b++)c[b]&&h.isFunction(c[b].promise)?c[b].promise().done(e(b,t,c)).fail(k.reject).progress(e(b,
g,p)):--d;d||k.resolveWith(t,c);return k.promise()}});h.support=function(){var a,b,c,f,k,e,p,g=v.createElement("div");g.setAttribute("className","t");g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=g.getElementsByTagName("*");c=g.getElementsByTagName("a")[0];c.style.cssText="top:1px;float:left;opacity:.5";if(!b||!b.length||!c)return{};f=v.createElement("select");k=f.appendChild(v.createElement("option"));b=g.getElementsByTagName("input")[0];a={leadingWhitespace:3===
g.firstChild.nodeType,tbody:!g.getElementsByTagName("tbody").length,htmlSerialize:!!g.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:"/a"===c.getAttribute("href"),opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,checkOn:"on"===b.value,optSelected:k.selected,getSetAttribute:"t"!==g.className,enctype:!!v.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==v.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===v.compatMode,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;f.disabled=!0;a.optDisabled=!k.disabled;try{delete g.test}catch(t){a.deleteExpando=!1}!g.addEventListener&&(g.attachEvent&&g.fireEvent)&&(g.attachEvent("onclick",c=function(){a.noCloneEvent=!1}),g.cloneNode(!0).fireEvent("onclick"),g.detachEvent("onclick",
c));b=v.createElement("input");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked","checked");b.setAttribute("name","t");g.appendChild(b);c=v.createDocumentFragment();c.appendChild(g.lastChild);a.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=b.checked;c.removeChild(b);c.appendChild(g);if(g.attachEvent)for(e in{submit:!0,change:!0,focusin:!0})b="on"+e,p=b in g,p||(g.setAttribute(b,"return;"),p="function"===typeof g[b]),a[e+"Bubbles"]=
p;h(function(){var b,c,f,h=v.getElementsByTagName("body")[0];h&&(b=v.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(b,h.firstChild),c=v.createElement("div"),b.appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=c.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===f[0].offsetHeight,f[0].style.display="",f[1].style.display="none",a.reliableHiddenOffsets=
p&&0===f[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",a.boxSizing=4===c.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,d.getComputedStyle&&(a.pixelPosition="1%"!==(d.getComputedStyle(c,null)||{}).top,a.boxSizingReliable="4px"===(d.getComputedStyle(c,null)||{width:"4px"}).width,f=v.createElement("div"),f.style.cssText=
c.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",f.style.marginRight=f.style.width="0",c.style.width="1px",c.appendChild(f),a.reliableMarginRight=!parseFloat((d.getComputedStyle(f,null)||{}).marginRight)),"undefined"!==typeof c.style.zoom&&(c.innerHTML="",c.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.style.overflow="visible",c.innerHTML=
"<div></div>",c.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==c.offsetWidth,b.style.zoom=1),h.removeChild(b))});c.removeChild(g);b=c=f=k=b=c=g=null;return a}();var aa=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ub=/([A-Z])/g;h.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(h.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?h.cache[a[h.expando]]:a[h.expando];return!!a&&!e(a)},data:function(b,
c,f,d){if(h.acceptData(b)){var k=h.expando,e="string"===typeof c,p=b.nodeType,g=p?h.cache:b,t=p?b[k]:b[k]&&k;if(t&&g[t]&&(d||g[t].data)||!e||f!==a){t||(p?b[k]=t=h.deletedIds.pop()||++h.uuid:t=k);g[t]||(g[t]={},p||(g[t].toJSON=h.noop));if("object"===typeof c||"function"===typeof c)d?g[t]=h.extend(g[t],c):g[t].data=h.extend(g[t].data,c);b=g[t];d||(b.data||(b.data={}),b=b.data);f!==a&&(b[h.camelCase(c)]=f);e?(f=b[c],null==f&&(f=b[h.camelCase(c)])):f=b;return f}}},removeData:function(a,b,c){if(h.acceptData(a)){var f,
d,k,p=a.nodeType,g=p?h.cache:a,t=p?a[h.expando]:h.expando;if(g[t]){if(b&&(f=c?g[t]:g[t].data)){h.isArray(b)||(b in f?b=[b]:(b=h.camelCase(b),b=b in f?[b]:b.split(" ")));d=0;for(k=b.length;d<k;d++)delete f[b[d]];if(!(c?e:h.isEmptyObject)(f))return}if(!c&&(delete g[t].data,!e(g[t])))return;p?h.cleanData([a],!0):h.support.deleteExpando||g!=g.window?delete g[t]:g[t]=null}}},_data:function(a,b,c){return h.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&h.noData[a.nodeName.toLowerCase()];return!b||
!0!==b&&a.getAttribute("classid")===b}});h.fn.extend({data:function(b,c){var f,d,k,e,p,t=this[0],n=0,m=null;if(b===a){if(this.length&&(m=h.data(t),1===t.nodeType&&!h._data(t,"parsedAttrs"))){k=t.attributes;for(p=k.length;n<p;n++)e=k[n].name,0===e.indexOf("data-")&&(e=h.camelCase(e.substring(5)),g(t,e,m[e]));h._data(t,"parsedAttrs",!0)}return m}if("object"===typeof b)return this.each(function(){h.data(this,b)});f=b.split(".",2);f[1]=f[1]?"."+f[1]:"";d=f[1]+"!";return h.access(this,function(c){if(c===
a)return m=this.triggerHandler("getData"+d,[f[0]]),m===a&&t&&(m=h.data(t,b),m=g(t,b,m)),m===a&&f[1]?this.data(f[0]):m;f[1]=c;this.each(function(){var a=h(this);a.triggerHandler("setData"+d,f);h.data(this,b,c);a.triggerHandler("changeData"+d,f)})},null,c,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){h.removeData(this,a)})}});h.extend({queue:function(a,b,c){var f;if(a)return b=(b||"fx")+"queue",f=h._data(a,b),c&&(!f||h.isArray(c)?f=h._data(a,b,h.makeArray(c)):f.push(c)),
f||[]},dequeue:function(a,b){b=b||"fx";var c=h.queue(a,b),f=c.length,d=c.shift(),k=h._queueHooks(a,b),e=function(){h.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),f--);d&&("fx"===b&&c.unshift("inprogress"),delete k.stop,d.call(a,e,k));!f&&k&&k.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return h._data(a,c)||h._data(a,c,{empty:h.Callbacks("once memory").add(function(){h.removeData(a,b+"queue",!0);h.removeData(a,c,!0)})})}});h.fn.extend({queue:function(b,c){var f=2;"string"!==typeof b&&
(c=b,b="fx",f--);return arguments.length<f?h.queue(this[0],b):c===a?this:this.each(function(){var a=h.queue(this,b,c);h._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&h.dequeue(this,b)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},delay:function(a,b){a=h.fx?h.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var f=setTimeout(b,a);c.stop=function(){clearTimeout(f)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(b,c){var f,d=1,k=h.Deferred(),
e=this,p=this.length,g=function(){--d||k.resolveWith(e,[e])};"string"!==typeof b&&(c=b,b=a);for(b=b||"fx";p--;)(f=h._data(e[p],b+"queueHooks"))&&f.empty&&(d++,f.empty.add(g));g();return k.promise(c)}});var pa,Ea,xa,wb=/[\t\r\n]/g,hb=/\r/g,Hb=/^(?:button|input)$/i,rb=/^(?:button|input|object|select|textarea)$/i,Ib=/^a(?:rea|)$/i,Ra=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,$a=h.support.getSetAttribute;h.fn.extend({attr:function(a,
b){return h.access(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})},prop:function(a,b){return h.access(this,h.prop,a,b,1<arguments.length)},removeProp:function(b){b=h.propFix[b]||b;return this.each(function(){try{this[b]=a,delete this[b]}catch(c){}})},addClass:function(a){var b,c,f,d,k,e,p;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a)for(b=a.split(sa),c=0,f=
this.length;c<f;c++)if(d=this[c],1===d.nodeType)if(d.className||1!==b.length){k=" "+d.className+" ";e=0;for(p=b.length;e<p;e++)~k.indexOf(" "+b[e]+" ")||(k+=b[e]+" ");d.className=h.trim(k)}else d.className=a;return this},removeClass:function(b){var c,f,d,k,e,p,g;if(h.isFunction(b))return this.each(function(a){h(this).removeClass(b.call(this,a,this.className))});if(b&&"string"===typeof b||b===a)for(c=(b||"").split(sa),p=0,g=this.length;p<g;p++)if(d=this[p],1===d.nodeType&&d.className){f=(" "+d.className+
" ").replace(wb," ");k=0;for(e=c.length;k<e;k++)for(;-1<f.indexOf(" "+c[k]+" ");)f=f.replace(" "+c[k]+" "," ");d.className=b?h.trim(f):""}return this},toggleClass:function(a,b){var c=typeof a,f="boolean"===typeof b;return h.isFunction(a)?this.each(function(c){h(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var d,k=0,e=h(this),p=b,g=a.split(sa);d=g[k++];)p=f?p:!e.hasClass(d),e[p?"addClass":"removeClass"](d);else if("undefined"===c||"boolean"===c)this.className&&
h._data(this,"__className__",this.className),this.className=this.className||!1===a?"":h._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(wb," ").indexOf(a))return!0;return!1},val:function(b){var c,f,d,k=this[0];if(arguments.length)return d=h.isFunction(b),this.each(function(f){var k=h(this);1===this.nodeType&&(f=d?b.call(this,f,k.val()):b,null==f?f="":"number"===typeof f?f+="":h.isArray(f)&&
(f=h.map(f,function(a){return null==a?"":a+""})),c=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==a||(this.value=f))});if(k){if((c=h.valHooks[k.type]||h.valHooks[k.nodeName.toLowerCase()])&&"get"in c&&(f=c.get(k,"value"))!==a)return f;f=k.value;return"string"===typeof f?f.replace(hb,""):null==f?"":f}}});h.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,f=
a.selectedIndex,d=[],k=a.options,e="select-one"===a.type;if(0>f)return null;a=e?f:0;for(c=e?f+1:k.length;a<c;a++)if(b=k[a],b.selected&&!((h.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&h.nodeName(b.parentNode,"optgroup"))){b=h(b).val();if(e)return b;d.push(b)}return e&&!d.length&&k.length?h(k[f]).val():d},set:function(a,b){var c=h.makeArray(b);h(a).find("option").each(function(){this.selected=0<=h.inArray(h(this).val(),c)});c.length||(a.selectedIndex=-1);
return c}}},attrFn:{},attr:function(b,c,f,d){var k,e,p=b.nodeType;if(b&&3!==p&&8!==p&&2!==p){if(d&&h.isFunction(h.fn[c]))return h(b)[c](f);if("undefined"===typeof b.getAttribute)return h.prop(b,c,f);if(d=1!==p||!h.isXMLDoc(b))c=c.toLowerCase(),e=h.attrHooks[c]||(Ra.test(c)?Ea:pa);if(f!==a)if(null===f)h.removeAttr(b,c);else{if(e&&"set"in e&&d&&(k=e.set(b,f,c))!==a)return k;b.setAttribute(c,""+f);return f}else{if(e&&"get"in e&&d&&null!==(k=e.get(b,c)))return k;k=b.getAttribute(c);return null===k?a:
k}}},removeAttr:function(a,b){var c,f,d,k,e=0;if(b&&1===a.nodeType)for(f=b.split(sa);e<f.length;e++)if(d=f[e])c=h.propFix[d]||d,(k=Ra.test(d))||h.attr(a,d,""),a.removeAttribute($a?d:c),k&&c in a&&(a[c]=!1)},attrHooks:{type:{set:function(a,b){if(Hb.test(a.nodeName)&&a.parentNode)h.error("type property can't be changed");else if(!h.support.radioValue&&"radio"===b&&h.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}},value:{get:function(a,b){return pa&&h.nodeName(a,
"button")?pa.get(a,b):b in a?a.value:null},set:function(a,b,c){if(pa&&h.nodeName(a,"button"))return pa.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,c,f){var d,k,e;e=b.nodeType;if(b&&3!==e&&8!==e&&2!==e){if(e=1!==e||!h.isXMLDoc(b))c=h.propFix[c]||
c,k=h.propHooks[c];return f!==a?k&&"set"in k&&(d=k.set(b,f,c))!==a?d:b[c]=f:k&&"get"in k&&null!==(d=k.get(b,c))?d:b[c]}},propHooks:{tabIndex:{get:function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):rb.test(b.nodeName)||Ib.test(b.nodeName)&&b.href?0:a}}}});Ea={get:function(b,c){var f,d=h.prop(b,c);return!0===d||"boolean"!==typeof d&&(f=b.getAttributeNode(c))&&!1!==f.nodeValue?c.toLowerCase():a},set:function(a,b,c){!1===b?h.removeAttr(a,c):(b=h.propFix[c]||c,
b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}};$a||(xa={name:!0,id:!0,coords:!0},pa=h.valHooks.button={get:function(b,c){var f;return(f=b.getAttributeNode(c))&&(xa[c]?""!==f.value:f.specified)?f.value:a},set:function(a,b,c){var f=a.getAttributeNode(c);f||(f=v.createAttribute(c),a.setAttributeNode(f));return f.value=b+""}},h.each(["width","height"],function(a,b){h.attrHooks[b]=h.extend(h.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}})}),h.attrHooks.contenteditable=
{get:pa.get,set:function(a,b,c){""===b&&(b="false");pa.set(a,b,c)}});h.support.hrefNormalized||h.each(["href","src","width","height"],function(b,c){h.attrHooks[c]=h.extend(h.attrHooks[c],{get:function(b){b=b.getAttribute(c,2);return null===b?a:b}})});h.support.style||(h.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||a},set:function(a,b){return a.style.cssText=""+b}});h.support.optSelected||(h.propHooks.selected=h.extend(h.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,
a.parentNode&&a.parentNode.selectedIndex;return null}}));h.support.enctype||(h.propFix.enctype="encoding");h.support.checkOn||h.each(["radio","checkbox"],function(){h.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});h.each(["radio","checkbox"],function(){h.valHooks[this]=h.extend(h.valHooks[this],{set:function(a,b){if(h.isArray(b))return a.checked=0<=h.inArray(h(a).val(),b)}})});var ib=/^(?:textarea|input|select)$/i,Y=/^([^\.]*|)(?:\.(.+)|)$/,xb=/(?:^|\s)hover(\.\S+|)\b/,
yb=/^key/,zb=/^(?:mouse|contextmenu)|click/,jb=/^(?:focusinfocus|focusoutblur)$/,Ab=function(a){return h.event.special.hover?a:a.replace(xb,"mouseenter$1 mouseleave$1")};h.event={add:function(b,c,f,d,k){var e,p,g,t,n,m,v,B,u;if(3!==b.nodeType&&8!==b.nodeType&&c&&f&&(e=h._data(b))){f.handler&&(v=f,f=v.handler,k=v.selector);f.guid||(f.guid=h.guid++);g=e.events;g||(e.events=g={});p=e.handle;p||(e.handle=p=function(b){return"undefined"===typeof h||b&&h.event.triggered===b.type?a:h.event.dispatch.apply(p.elem,
arguments)},p.elem=b);c=h.trim(Ab(c)).split(" ");for(e=0;e<c.length;e++)t=Y.exec(c[e])||[],n=t[1],m=(t[2]||"").split(".").sort(),u=h.event.special[n]||{},n=(k?u.delegateType:u.bindType)||n,u=h.event.special[n]||{},t=h.extend({type:n,origType:t[1],data:d,handler:f,guid:f.guid,selector:k,namespace:m.join(".")},v),B=g[n],B||(B=g[n]=[],B.delegateCount=0,u.setup&&!1!==u.setup.call(b,d,m,p)||(b.addEventListener?b.addEventListener(n,p,!1):b.attachEvent&&b.attachEvent("on"+n,p))),u.add&&(u.add.call(b,t),
t.handler.guid||(t.handler.guid=f.guid)),k?B.splice(B.delegateCount++,0,t):B.push(t),h.event.global[n]=!0;b=null}},global:{},remove:function(a,b,c,f,d){var k,e,p,g,t,n,m,v,u,B,P=h.hasData(a)&&h._data(a);if(P&&(m=P.events)){b=h.trim(Ab(b||"")).split(" ");for(k=0;k<b.length;k++)if(e=Y.exec(b[k])||[],p=g=e[1],e=e[2],p){v=h.event.special[p]||{};p=(f?v.delegateType:v.bindType)||p;u=m[p]||[];t=u.length;e=e?RegExp("(^|\\.)"+e.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(n=0;n<u.length;n++)B=
u[n],!d&&g!==B.origType||(c&&c.guid!==B.guid||e&&!e.test(B.namespace)||f&&!(f===B.selector||"**"===f&&B.selector))||(u.splice(n--,1),B.selector&&u.delegateCount--,v.remove&&v.remove.call(a,B));0===u.length&&t!==u.length&&(v.teardown&&!1!==v.teardown.call(a,e,P.handle)||h.removeEvent(a,p,P.handle),delete m[p])}else for(p in m)h.event.remove(a,p+b[k],c,f,!0);h.isEmptyObject(m)&&(delete P.handle,h.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,c,f,k){if(!f||
3!==f.nodeType&&8!==f.nodeType){var e,p,g,t,n,m,u=b.type||b;g=[];if(!jb.test(u+h.event.triggered)&&(0<=u.indexOf("!")&&(u=u.slice(0,-1),e=!0),0<=u.indexOf(".")&&(g=u.split("."),u=g.shift(),g.sort()),f&&!h.event.customEvent[u]||h.event.global[u]))if(b="object"===typeof b?b[h.expando]?b:new h.Event(u,b):new h.Event(u),b.type=u,b.isTrigger=!0,b.exclusive=e,b.namespace=g.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g=0>u.indexOf(":")?"on"+u:"",f){if(b.result=
a,b.target||(b.target=f),c=null!=c?h.makeArray(c):[],c.unshift(b),t=h.event.special[u]||{},!t.trigger||!1!==t.trigger.apply(f,c)){m=[[f,t.bindType||u]];if(!k&&!t.noBubble&&!h.isWindow(f)){n=t.delegateType||u;e=jb.test(n+u)?f:f.parentNode;for(p=f;e;e=e.parentNode)m.push([e,n]),p=e;p===(f.ownerDocument||v)&&m.push([p.defaultView||p.parentWindow||d,n])}for(p=0;p<m.length&&!b.isPropagationStopped();p++)e=m[p][0],b.type=m[p][1],(n=(h._data(e,"events")||{})[b.type]&&h._data(e,"handle"))&&n.apply(e,c),(n=
g&&e[g])&&(h.acceptData(e)&&!1===n.apply(e,c))&&b.preventDefault();b.type=u;k||b.isDefaultPrevented()||(t._default&&!1!==t._default.apply(f.ownerDocument,c)||"click"===u&&h.nodeName(f,"a")||!h.acceptData(f)||!g||!f[u]||("focus"===u||"blur"===u)&&0===b.target.offsetWidth||h.isWindow(f))||((p=f[g])&&(f[g]=null),h.event.triggered=u,f[u](),h.event.triggered=a,p&&(f[g]=p));return b.result}}else for(p in f=h.cache,f)f[p].events&&f[p].events[u]&&h.event.trigger(b,c,f[p].handle.elem,!0)}},dispatch:function(b){b=
h.event.fix(b||d.event);var c,f,k,e,p,g,t=(h._data(this,"events")||{})[b.type]||[],n=t.delegateCount,m=[].slice.call(arguments),v=!b.exclusive&&!b.namespace,u=h.event.special[b.type]||{},B=[];m[0]=b;b.delegateTarget=this;if(!u.preDispatch||!1!==u.preDispatch.call(this,b)){if(n&&(!b.button||"click"!==b.type))for(f=b.target;f!=this;f=f.parentNode||this)if(!0!==f.disabled||"click"!==b.type){e={};p=[];for(c=0;c<n;c++)k=t[c],g=k.selector,e[g]===a&&(e[g]=0<=h(g,this).index(f)),e[g]&&p.push(k);p.length&&
B.push({elem:f,matches:p})}t.length>n&&B.push({elem:this,matches:t.slice(n)});for(c=0;c<B.length&&!b.isPropagationStopped();c++)for(e=B[c],b.currentTarget=e.elem,f=0;f<e.matches.length&&!b.isImmediatePropagationStopped();f++)if(k=e.matches[f],v||!b.namespace&&!k.namespace||b.namespace_re&&b.namespace_re.test(k.namespace))b.data=k.data,b.handleObj=k,k=((h.event.special[k.origType]||{}).handle||k.handler).apply(e.elem,m),k!==a&&(b.result=k,!1===k&&(b.preventDefault(),b.stopPropagation()));u.postDispatch&&
u.postDispatch.call(this,b);return b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(b,c){var f,d,h=c.button,k=c.fromElement;null==b.pageX&&null!=c.clientX&&(f=b.target.ownerDocument||v,d=f.documentElement,f=f.body,b.pageX=c.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||0)-(d&&d.clientLeft||f&&f.clientLeft||0),b.pageY=c.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0));!b.relatedTarget&&k&&(b.relatedTarget=k===b.target?c.toElement:k);b.which||h===a||(b.which=h&1?1:h&2?3:h&4?2:0);return b}},fix:function(a){if(a[h.expando])return a;var b,
c,f=a,d=h.event.fixHooks[a.type]||{},k=d.props?this.props.concat(d.props):this.props;a=h.Event(f);for(b=k.length;b;)c=k[--b],a[c]=f[c];a.target||(a.target=f.srcElement||v);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,f):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){h.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=
null)}}},simulate:function(a,b,c,f){a=h.extend(new h.Event,c,{type:a,isSimulated:!0,originalEvent:{}});f?h.event.trigger(a,null,b):h.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};h.event.handle=h.event.dispatch;h.removeEvent=v.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};h.Event=function(a,b){if(!(this instanceof h.Event))return new h.Event(a,
b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?y:m):this.type=a;b&&h.extend(this,b);this.timeStamp=a&&a.timeStamp||h.now();this[h.expando]=!0};h.Event.prototype={preventDefault:function(){this.isDefaultPrevented=y;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=y;var a=this.originalEvent;a&&(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=y;this.stopPropagation()},isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,f=a.relatedTarget,d=a.handleObj;if(!f||f!==this&&!h.contains(this,f))a.type=d.origType,c=d.handler.apply(this,arguments),a.type=b;return c}}});h.support.submitBubbles||
(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=h.nodeName(b,"input")||h.nodeName(b,"button")?b.form:a)&&!h._data(b,"_submit_attached")&&(h.event.add(b,"submit._submit",function(a){a._submit_bubble=!0}),h._data(b,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&h.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(h.nodeName(this,
"form"))return!1;h.event.remove(this,"._submit")}});h.support.changeBubbles||(h.event.special.change={setup:function(){if(ib.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)h.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);h.event.simulate("change",this,a,!0)});return!1}h.event.add(this,"beforeactivate._change",
function(a){a=a.target;ib.test(a.nodeName)&&!h._data(a,"_change_attached")&&(h.event.add(a,"change._change",function(a){!this.parentNode||(a.isSimulated||a.isTrigger)||h.event.simulate("change",this.parentNode,a,!0)}),h._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){h.event.remove(this,"._change");return!ib.test(this.nodeName)}});
h.support.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,f=function(a){h.event.simulate(b,a.target,h.event.fix(a),!0)};h.event.special[b]={setup:function(){0===c++&&v.addEventListener(a,f,!0)},teardown:function(){0===--c&&v.removeEventListener(a,f,!0)}}});h.fn.extend({on:function(b,c,f,d,k){var e,p;if("object"===typeof b){"string"!==typeof c&&(f=f||c,c=a);for(p in b)this.on(p,c,f,b[p],k);return this}null==f&&null==d?(d=c,f=c=a):null==d&&("string"===typeof c?(d=f,f=
a):(d=f,f=c,c=a));if(!1===d)d=m;else if(!d)return this;1===k&&(e=d,d=function(a){h().off(a);return e.apply(this,arguments)},d.guid=e.guid||(e.guid=h.guid++));return this.each(function(){h.event.add(this,b,d,f,c)})},one:function(a,b,c,f){return this.on(a,b,c,f,1)},off:function(b,c,f){var d;if(b&&b.preventDefault&&b.handleObj)return d=b.handleObj,h(b.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"===typeof b){for(d in b)this.off(d,c,b[d]);
return this}if(!1===c||"function"===typeof c)f=c,c=a;!1===f&&(f=m);return this.each(function(){h.event.remove(this,b,f,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){h(this.context).on(a,this.selector,b,c);return this},die:function(a,b){h(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,f){return this.on(b,a,c,f)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,
a||"**",c)},trigger:function(a,b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return h.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||h.guid++,f=0,d=function(c){var d=(h._data(this,"lastToggle"+a.guid)||0)%f;h._data(this,"lastToggle"+a.guid,d+1);c.preventDefault();return b[d].apply(this,arguments)||!1};for(d.guid=c;f<b.length;)b[f++].guid=c;return this.click(d)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){h.fn[b]=function(a,c){null==c&&(c=a,a=null);return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)};yb.test(b)&&(h.event.fixHooks[b]=h.event.keyHooks);zb.test(b)&&(h.event.fixHooks[b]=h.event.mouseHooks)});(function(a,b){function c(a,b,f,d){f=f||[];b=b||
O;var h,k,e,p,g=b.nodeType;if(1!==g&&9!==g)return[];if(!a||"string"!==typeof a)return f;e=s(b);if(!e&&!d&&(h=w.exec(a)))if(p=h[1])if(9===g)if((k=b.getElementById(p))&&k.parentNode){if(k.id===p)return f.push(k),f}else return f;else{if(b.ownerDocument&&(k=b.ownerDocument.getElementById(p))&&q(b,k)&&k.id===p)return f.push(k),f}else{if(h[2])return C.apply(f,ma.call(b.getElementsByTagName(a),0)),f;if((p=h[3])&&ya&&b.getElementsByClassName)return C.apply(f,ma.call(b.getElementsByClassName(p),0)),f}return u(a,
b,f,d,e)}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function d(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function e(a,b,f,d){var h,k,p,g,t,D,n,m,v,u=!f&&b!==O,B=(u?"<s>":"")+a.replace(E,"$1<s>");if(t=ga[G][B])return d?0:ma.call(t,0);t=a;D=[];m=A.preFilter;for(v=A.filter;t;){if(!h||(k=Tb.exec(t)))k&&
(t=t.slice(k[0].length),p.selector=n),D.push(p=[]),n="",u&&(t=" "+t);h=!1;if(k=tb.exec(t))n+=k[0],t=t.slice(k[0].length),h=p.push({part:k.pop().replace(E," "),string:k[0],captures:k});for(g in v)!(k=I[g].exec(t))||m[g]&&!(k=m[g](k,b,f))||(n+=k[0],t=t.slice(k[0].length),h=p.push({part:g,string:k.shift(),captures:k}));if(!h)break}n&&(p.selector=n);return d?t.length:t?c.error(a):ma.call(ga(B,D),0)}function p(a,b,c,f){var d=b.dir,h=l++;a||(a=function(a){return a===c});return b.first?function(b){for(;b=
b[d];)if(1===b.nodeType)return a(b)&&b}:f?function(b){for(;b=b[d];)if(1===b.nodeType&&a(b))return b}:function(b){for(var c,f=h+"."+B,k=f+"."+P;b=b[d];)if(1===b.nodeType){if((c=b[G])===k)return b.sizset;if("string"===typeof c&&0===c.indexOf(f)){if(b.sizset)return b}else{b[G]=k;if(a(b))return b.sizset=!0,b;b.sizset=!1}}}}function g(a,b){return a?function(c){var f=b(c);return f&&a(!0===f?c:f)}:b}function t(a){return function(b){for(var c,f=0;c=a[f];f++)if(c(b))return!0;return!1}}function n(a,b,f,d){for(var h=
0,k=b.length;h<k;h++)c(a,b[h],f,d)}function m(a,b,f,d,h,k){var e,p=A.setFilters[b.toLowerCase()];p||c.error(b);!a&&(e=h)||n(a||"*",d,e=[],h);return 0<e.length?p(e,f,k):[]}function v(a,f,d,h){for(var k,e,p,g,t,D,u,B,P,A,r,y=0,s=a.length,q=I.POS,V=RegExp("^"+q.source+"(?!"+K+")","i"),ia=function(){for(var a=1,c=arguments.length-2;a<c;a++)arguments[a]===b&&(B[a]=b)};y<s;y++){k=a[y];e="";u=h;p=0;for(g=k.length;p<g;p++){t=k[p];D=t.string;if("PSEUDO"===t.part)for(q.exec(""),t=0;B=q.exec(D);){P=!0;A=q.lastIndex=
B.index+B[0].length;if(A>t){e+=D.slice(t,B.index);t=A;A=[f];tb.test(e)&&(u&&(A=u),u=h);if(r=la.test(e))e=e.slice(0,-5).replace(tb,"$&*"),t++;1<B.length&&B[0].replace(V,ia);u=m(e,B[1],B[2],A,u,r)}e=""}P||(e+=D);P=!1}e?tb.test(e)?n(e,u||[f],d,h):c(e,f,d,h?h.concat(u):u):C.apply(d,u)}return 1===s?d:c.uniqueSort(d)}function u(a,b,c,f,d){a=a.replace(E,"$1");var h,k,p,g,t,D;k=e(a,b,d);t=b.nodeType;if(I.POS.test(a))return v(k,b,c,f);if(f)h=ma.call(f,0);else if(1===k.length){if(2<(p=ma.call(k[0],0)).length&&
"ID"===(g=p[0]).part&&9===t&&!d&&A.relative[p[1].part]){b=A.find.ID(g.captures[0].replace(Ma,""),b,d)[0];if(!b)return c;a=a.slice(p.shift().string.length)}f=(k=ta.exec(p[0].string))&&!k.index&&b.parentNode||b;t="";for(k=p.length-1;0<=k;k--){g=p[k];D=g.part;t=g.string+t;if(A.relative[D])break;if(A.order.test(D)&&(h=A.find[D](g.captures[0].replace(Ma,""),f,d),null!=h)){(a=a.slice(0,a.length-t.length)+t.replace(I[D],""))||C.apply(c,ma.call(h,0));break}}}if(a)for(d=V(a,b,d),B=d.dirruns++,null==h&&(h=
A.find.TAG("*",ta.test(a)&&b.parentNode||b)),k=0;a=h[k];k++)P=d.runs++,d(a)&&c.push(a);return c}var B,P,r,A,y,s,q,V,ia,Z,z=!0,G=("sizcache"+Math.random()).replace(".",""),O=a.document,F=O.documentElement,l=0,ma=[].slice,C=[].push,Ua=function(a,b){a[G]=b||!0;return a},za=function(){var a={},b=[];return Ua(function(c,f){b.push(c)>A.cacheLength&&delete a[b.shift()];return a[c]=f},a)},L=za(),ga=za(),La=za(),K="[\\x20\\t\\r\\n\\f]",za="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#"),za="\\["+K+"*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)"+
K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+za+")|)|)"+K+"*\\]",Qa=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+za+")|[^:]|\\\\.)*|.*))\\)|)",E=RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Tb=RegExp("^"+K+"*,"+K+"*"),tb=RegExp("^"+K+"*([\\x20\\t\\r\\n\\f>+~])"+K+"*"),na=RegExp(Qa),w=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,ta=/[\x20\t\r\n\f]*[+~]/,la=/:not\($/,H=/h\d/i,ec=/input|select|textarea|button/i,Ma=/\\(?!\\)/g,I=
{ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+za),PSEUDO:RegExp("^"+Qa),CHILD:RegExp("^:(only|nth|last|first)-child(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),POS:RegExp(":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)","ig"),needsContext:RegExp("^"+K+"*[>+~]|:(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",
"i")},fa=function(a){var b=O.createElement("div");try{return a(b)}catch(c){return!1}finally{}},za=fa(function(a){a.appendChild(O.createComment(""));return!a.getElementsByTagName("*").length}),Qa=fa(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),db=fa(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),ya=fa(function(a){a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),pb=fa(function(a){a.id=G+0;a.innerHTML="<a name='"+G+"'></a><div name='"+G+"'></div>";F.insertBefore(a,F.firstChild);var b=O.getElementsByName&&O.getElementsByName(G).length===2+O.getElementsByName(G+0).length;r=!O.getElementById(G);F.removeChild(a);return b});try{ma.call(F.childNodes,0)[0].nodeType}catch(J){ma=
function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){return 0<c(b,null,null,[a]).length};y=c.getText=function(a){var b,c="",f=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=y(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[f];f++)c+=y(b);return c};s=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?
"HTML"!==a.nodeName:!1};q=c.contains=F.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,f=b&&b.parentNode;return a===f||!!(f&&1===f.nodeType&&c.contains&&c.contains(f))}:F.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};c.attr=function(a,b){var c;(c=s(a))||(b=b.toLowerCase());return A.attrHandle[b]?A.attrHandle[b](a):db||c?a.getAttribute(b):(c=a.getAttributeNode(b))?"boolean"===typeof a[b]?
a[b]?b:null:c.specified?c.value:null:null};A=c.selectors={cacheLength:50,createPseudo:Ua,match:I,order:RegExp("ID|TAG"+(pb?"|NAME":"")+(ya?"|CLASS":"")),attrHandle:Qa?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:r?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,c,f){if("undefined"!==typeof c.getElementById&&!f)return(c=c.getElementById(a))?c.id===a||"undefined"!==
typeof c.getAttributeNode&&c.getAttributeNode("id").value===a?[c]:b:[]},TAG:za?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var f,d=[],h=0;f=c[h];h++)1===f.nodeType&&d.push(f);return d}return c},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},CLASS:function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a)}},
relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Ma,"");a[3]=(a[4]||a[5]||"").replace(Ma,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]);return a},PSEUDO:function(a,b,c){var f,
d;if(I.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(f=a[4])na.test(f)&&((d=e(f,b,c,!0))&&(d=f.indexOf(")",f.length-d)-f.length))&&(f=f.slice(0,d),a[0]=a[0].slice(0,d)),a[2]=f;return a.slice(0,3)}},filter:{ID:r?function(a){a=a.replace(Ma,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(Ma,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};a=
a.replace(Ma,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=L[G][a];b||(b=L(a,RegExp("(^|"+K+")"+a+"("+K+"|$)")));return function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,f){return b?function(d){d=c.attr(d,a);var h=d+"";if(null==d)return"!="===b;switch(b){case "=":return h===f;case "!=":return h!==f;case "^=":return f&&0===h.indexOf(f);case "*=":return f&&-1<h.indexOf(f);
case "$=":return f&&h.substr(h.length-f.length)===f;case "~=":return-1<(" "+h+" ").indexOf(f);case "|=":return h===f||h.substr(0,f.length+1)===f+"-"}}:function(b){return null!=c.attr(b,a)}},CHILD:function(a,b,c,f){if("nth"===a){var d=l++;return function(a){var b,h=0,k=a;if(1===c&&0===f)return!0;if((b=a.parentNode)&&(b[G]!==d||!a.sizset)){for(k=b.firstChild;k&&(1!==k.nodeType||(k.sizset=++h,k!==a));k=k.nextSibling);b[G]=d}a=a.sizset-f;return 0===c?0===a:0===a%c&&0<=a/c}}return function(b){var c=b;
switch(a){case "only":case "first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case "last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b,f,d){var h,k=A.pseudos[a]||A.pseudos[a.toLowerCase()];k||c.error("unsupported pseudo: "+a);return k[G]?k(b,f,d):1<k.length?(h=[a,a,"",b],function(a){return k(a,0,h)}):k}},pseudos:{not:Ua(function(a,b,c){var f=V(a.replace(E,"$1"),b,c);return function(a){return!f(a)}}),enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!A.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},contains:Ua(function(a){return function(b){return-1<(b.textContent||b.innerText||
y(b)).indexOf(a)}}),has:Ua(function(a){return function(b){return 0<c(a,b).length}}),header:function(a){return H.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:f("radio"),checkbox:f("checkbox"),file:f("file"),password:f("password"),image:f("image"),submit:d("submit"),reset:d("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===
b},input:function(a){return ec.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,c){return c?a.slice(1):[a[0]]},last:function(a,b,c){b=a.pop();return c?a:[b]},even:function(a,b,c){b=[];c=c?1:0;for(var f=a.length;c<f;c+=2)b.push(a[c]);return b},odd:function(a,b,c){b=[];c=c?0:1;for(var f=a.length;c<f;c+=2)b.push(a[c]);return b},
lt:function(a,b,c){return c?a.slice(+b):a.slice(0,+b)},gt:function(a,b,c){return c?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,c){b=a.splice(+b,1);return c?a:b}}};ia=F.compareDocumentPosition?function(a,b){return a===b?(Z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?a.compareDocumentPosition(b)&4:a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return Z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,f,d=[],h=[];c=a.parentNode;f=b.parentNode;
var e=c;if(c===f)return k(a,b);if(!c)return-1;if(!f)return 1;for(;e;)d.unshift(e),e=e.parentNode;for(e=f;e;)h.unshift(e),e=e.parentNode;c=d.length;f=h.length;for(e=0;e<c&&e<f;e++)if(d[e]!==h[e])return k(d[e],h[e]);return e===c?k(a,h[e],-1):k(d[e],b,1)};[0,0].sort(ia);z=!Z;c.uniqueSort=function(a){var b,c=1;Z=z;a.sort(ia);if(Z)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};V=c.compile=function(a,b,c){var f,d,h;if((f=
La[G][a])&&f.context===b)return f;f=e(a,b,c);d=0;for(h=f.length;d<h;d++){for(var k=f,D=d,n=f[d],m=b,v=c,u=void 0,B=void 0,P=0;u=n[P];P++)B=A.relative[u.part]?p(B,A.relative[u.part],m,v):g(B,A.filter[u.part].apply(null,u.captures.concat(m,v)));k[D]=B}f=La(a,t(f));f.context=b;f.runs=f.dirruns=0;return f};O.querySelectorAll&&function(){var a,b=u,f=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,h=[],k=[":active"],p=F.matchesSelector||F.mozMatchesSelector||F.webkitMatchesSelector||F.oMatchesSelector||
F.msMatchesSelector;fa(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||h.push("\\["+K+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||h.push(":checked")});fa(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&h.push("[*^$]="+K+"*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||h.push(":enabled",":disabled")});
h=h.length&&RegExp(h.join("|"));u=function(a,c,d,k,p){if(!(k||p||h&&h.test(a)))if(9===c.nodeType)try{return C.apply(d,ma.call(c.querySelectorAll(a),0)),d}catch(g){}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var t,D,n,m=c.getAttribute("id"),u=m||G,v=ta.test(a)&&c.parentNode||c;m?u=u.replace(f,"\\$&"):c.setAttribute("id",u);t=e(a,c,p);u="[id='"+u+"']";D=0;for(n=t.length;D<n;D++)t[D]=u+t[D].selector;try{return C.apply(d,ma.call(v.querySelectorAll(t.join(",")),0)),d}catch(B){}finally{m||
c.removeAttribute("id")}}return b(a,c,d,k,p)};p&&(fa(function(b){a=p.call(b,"div");try{p.call(b,"[test!='']:sizzle"),k.push(I.PSEUDO.source,I.POS.source,"!=")}catch(c){}}),k=RegExp(k.join("|")),c.matchesSelector=function(b,f){f=f.replace(d,"='$1']");if(!(s(b)||k.test(f)||h&&h.test(f)))try{var e=p.call(b,f);if(e||a||b.document&&11!==b.document.nodeType)return e}catch(g){}return 0<c(f,null,null,[b]).length})}();A.setFilters.nth=A.setFilters.eq;A.filters=A.pseudos;c.attr=h.attr;h.find=c;h.expr=c.selectors;
h.expr[":"]=h.expr.pseudos;h.unique=c.uniqueSort;h.text=c.getText;h.isXMLDoc=c.isXML;h.contains=c.contains})(d);var Jb=/Until$/,da=/^(?:parents|prev(?:Until|All))/,ob=/^.[^:#\[\.,]*$/,sb=h.expr.match.needsContext,Kb={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({find:function(a){var b,c,f,d,k,e,p=this;if("string"!==typeof a)return h(a).filter(function(){b=0;for(c=p.length;b<c;b++)if(h.contains(p[b],this))return!0});e=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++)if(f=e.length,
h.find(a,this[b],e),0<b)for(d=f;d<e.length;d++)for(k=0;k<f;k++)if(e[k]===e[d]){e.splice(d--,1);break}return e},has:function(a){var b,c=h(a,this),f=c.length;return this.filter(function(){for(b=0;b<f;b++)if(h.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(z(this,a,!1),"not",a)},filter:function(a){return this.pushStack(z(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?sb.test(a)?0<=h(a,this.context).index(this[0]):0<h.filter(a,this).length:0<this.filter(a).length)},
closest:function(a,b){for(var c,f=0,d=this.length,k=[],e=sb.test(a)||"string"!==typeof a?h(a,b||this.context):0;f<d;f++)for(c=this[f];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(e?-1<e.index(c):h.find.matchesSelector(c,a)){k.push(c);break}c=c.parentNode}k=1<k.length?h.unique(k):k;return this.pushStack(k,"closest",a)},index:function(a){return a?"string"===typeof a?h.inArray(this[0],h(a)):h.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=
"string"===typeof a?h(a,b):h.makeArray(a&&a.nodeType?[a]:a),f=h.merge(this.get(),c);return this.pushStack(r(c[0])||r(f[0])?f:h.unique(f))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});h.fn.andSelf=h.fn.addBack;h.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return h.dir(a,"parentNode")},parentsUntil:function(a,b,c){return h.dir(a,"parentNode",c)},next:function(a){return n(a,"nextSibling")},prev:function(a){return n(a,
"previousSibling")},nextAll:function(a){return h.dir(a,"nextSibling")},prevAll:function(a){return h.dir(a,"previousSibling")},nextUntil:function(a,b,c){return h.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return h.dir(a,"previousSibling",c)},siblings:function(a){return h.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return h.sibling(a.firstChild)},contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:h.merge([],a.childNodes)}},function(a,
b){h.fn[a]=function(c,f){var d=h.map(this,b,c);Jb.test(a)||(f=c);f&&"string"===typeof f&&(d=h.filter(f,d));d=1<this.length&&!Kb[a]?h.unique(d):d;1<this.length&&da.test(a)&&(d=d.reverse());return this.pushStack(d,a,Da.call(arguments).join(","))}});h.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return 1===b.length?h.find.matchesSelector(b[0],a)?[b[0]]:[]:h.find.matches(a,b)},dir:function(b,c,f){var d=[];for(b=b[c];b&&9!==b.nodeType&&(f===a||1!==b.nodeType||!h(b).is(f));)1===b.nodeType&&d.push(b),
b=b[c];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ba="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ob=/ jQuery\d+="(?:null|\d+)"/g,ab=/^\s+/,kb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ja=/<([\w:]+)/,Pb=/<tbody/i,qa=/<|&#?\w+;/,Bb=/<(?:script|style|link)/i,Qb=/<(?:script|object|embed|option|style)/i,
ba=RegExp("<(?:"+Ba+")[\\s/>]","i"),cb=/^(?:checkbox|radio)$/,lb=/checked\s*(?:[^=]|=\s*.checked.)/i,Wa=/\/(java|ecma)script/i,Ka=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,ja={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",
""]},ca=l(v),Xa=ca.appendChild(v.createElement("div"));ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;h.support.htmlSerialize||(ja._default=[1,"X<div>","</div>"]);h.fn.extend({text:function(b){return h.access(this,function(b){return b===a?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||v).createTextNode(b))},null,b,arguments.length)},wrapAll:function(a){if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,b))});if(this[0]){var b=
h(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,b))}):this.each(function(){var b=h(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(c){h(this).wrapAll(b?a.call(this,c):
a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!r(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,
this)});if(arguments.length){var a=h.clean(arguments);return this.pushStack(h.merge(a,this),"before",this.selector)}},after:function(){if(!r(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=h.clean(arguments);return this.pushStack(h.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,f=0;null!=(c=this[f]);f++)if(!a||h.filter(a,[c]).length)b||1!==c.nodeType||(h.cleanData(c.getElementsByTagName("*")),
h.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&h.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return h.clone(this,a,b)})},html:function(b){return h.access(this,function(b){var c=this[0]||{},f=0,d=this.length;if(b===a)return 1===c.nodeType?c.innerHTML.replace(Ob,""):a;if("string"===
typeof b&&!(Bb.test(b)||!h.support.htmlSerialize&&ba.test(b)||!h.support.leadingWhitespace&&ab.test(b)||ja[(Ja.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(kb,"<$1></$2>");try{for(;f<d;f++)c=this[f]||{},1===c.nodeType&&(h.cleanData(c.getElementsByTagName("*")),c.innerHTML=b);c=0}catch(k){}}c&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(a){if(!r(this[0])){if(h.isFunction(a))return this.each(function(b){var c=h(this),f=c.html();c.replaceWith(a.call(this,b,f))});"string"!==
typeof a&&(a=h(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;h(this).remove();b?h(b).before(a):h(c).append(a)})}return this.length?this.pushStack(h(h.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(b,c,f){b=[].concat.apply([],b);var d,k,e,p=0,g=b[0],t=[],n=this.length;if(!h.support.checkClone&&1<n&&"string"===typeof g&&lb.test(g))return this.each(function(){h(this).domManip(b,c,f)});if(h.isFunction(g))return this.each(function(d){var k=
h(this);b[0]=g.call(this,d,c?k.html():a);k.domManip(b,c,f)});if(this[0]){d=h.buildFragment(b,this,t);e=d.fragment;k=e.firstChild;1===e.childNodes.length&&(e=k);if(k)for(c=c&&h.nodeName(k,"tr"),d=d.cacheable||n-1;p<n;p++)f.call(c&&h.nodeName(this[p],"table")?this[p].getElementsByTagName("tbody")[0]||this[p].appendChild(this[p].ownerDocument.createElement("tbody")):this[p],p===d?e:h.clone(e,!0,!0));e=k=null;t.length&&h.each(t,function(a,b){b.src?h.ajax?h.ajax({url:b.src,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0}):h.error("no ajax"):h.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Ka,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});h.buildFragment=function(b,c,f){var d,k,e,p=b[0];c=c||v;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;1===b.length&&("string"===typeof p&&512>p.length&&c===v&&"<"===p.charAt(0)&&!(Qb.test(p)||!h.support.checkClone&&lb.test(p)||!h.support.html5Clone&&ba.test(p)))&&(k=!0,d=h.fragments[p],e=d!==a);d||(d=c.createDocumentFragment(),
h.clean(b,c,d,f),k&&(h.fragments[p]=e&&d));return{fragment:d,cacheable:k}};h.fragments={};h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){h.fn[a]=function(c){var f,d=0,k=[];c=h(c);var e=c.length;f=1===this.length&&this[0].parentNode;if((null==f||f&&11===f.nodeType&&1===f.childNodes.length)&&1===e)return c[b](this[0]),this;for(;d<e;d++)f=(0<d?this.clone(!0):this).get(),h(c[d])[b](f),k=k.concat(f);return this.pushStack(k,
a,c.selector)}});h.extend({clone:function(a,d,k){var e,p,g,t;h.support.html5Clone||h.isXMLDoc(a)||!ba.test("<"+a.nodeName+">")?t=a.cloneNode(!0):(Xa.innerHTML=a.outerHTML,Xa.removeChild(t=Xa.firstChild));if(!(h.support.noCloneEvent&&h.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||h.isXMLDoc(a)))for(c(a,t),e=f(a),p=f(t),g=0;e[g];++g)p[g]&&c(e[g],p[g]);if(d&&(b(a,t),k))for(e=f(a),p=f(t),g=0;e[g];++g)b(e[g],p[g]);return t},clean:function(a,b,c,f){var d,e,p,g,t,n,m=b===v&&ca,u=[];b&&"undefined"!==
typeof b.createDocumentFragment||(b=v);for(d=0;null!=(p=a[d]);d++)if("number"===typeof p&&(p+=""),p){if("string"===typeof p)if(qa.test(p)){m=m||l(b);n=b.createElement("div");m.appendChild(n);p=p.replace(kb,"<$1></$2>");e=(Ja.exec(p)||["",""])[1].toLowerCase();g=ja[e]||ja._default;t=g[0];for(n.innerHTML=g[1]+p+g[2];t--;)n=n.lastChild;if(!h.support.tbody)for(t=Pb.test(p),g="table"!==e||t?"<table>"!==g[1]||t?[]:n.childNodes:n.firstChild&&n.firstChild.childNodes,e=g.length-1;0<=e;--e)h.nodeName(g[e],
"tbody")&&!g[e].childNodes.length&&g[e].parentNode.removeChild(g[e]);!h.support.leadingWhitespace&&ab.test(p)&&n.insertBefore(b.createTextNode(ab.exec(p)[0]),n.firstChild);p=n.childNodes;n.parentNode.removeChild(n)}else p=b.createTextNode(p);p.nodeType?u.push(p):h.merge(u,p)}n&&(p=n=m=null);if(!h.support.appendChecked)for(d=0;null!=(p=u[d]);d++)h.nodeName(p,"input")?k(p):"undefined"!==typeof p.getElementsByTagName&&h.grep(p.getElementsByTagName("input"),k);if(c)for(a=function(a){if(!a.type||Wa.test(a.type))return f?
f.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)},d=0;null!=(p=u[d]);d++)h.nodeName(p,"script")&&a(p)||(c.appendChild(p),"undefined"!==typeof p.getElementsByTagName&&(p=h.grep(h.merge([],p.getElementsByTagName("script")),a),u.splice.apply(u,[d+1,0].concat(p)),d+=p.length));return u},cleanData:function(a,b){for(var c,f,d,k,e=0,p=h.expando,g=h.cache,t=h.support.deleteExpando,n=h.event.special;null!=(d=a[e]);e++)if(b||h.acceptData(d))if(c=(f=d[p])&&g[f]){if(c.events)for(k in c.events)n[k]?
h.event.remove(d,k):h.removeEvent(d,k,c.handle);g[f]&&(delete g[f],t?delete d[p]:d.removeAttribute?d.removeAttribute(p):d[p]=null,h.deletedIds.push(f))}}});(function(){var a,b;h.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=h.uaMatch(P.userAgent);b={};
a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);h.browser=b;h.sub=function(){function a(b,c){return new a.fn.init(b,c)}h.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(c,f){f&&(f instanceof h&&!(f instanceof a))&&(f=a(f));return h.fn.init.call(this,c,f,b)};a.fn.init.prototype=a.fn;var b=a(v);return a}})();var Q,Oa,M,Fa=/alpha\([^)]*\)/i,Lb=/opacity=([^)]*)/,mb=/^(top|right|bottom|left)$/,
Yb=/^(none|table(?!-c[ea]).+)/,Ya=/^margin/,wa=RegExp("^("+X+")(.*)$","i"),Za=RegExp("^("+X+")(?!px)[a-z%]+$","i"),Mb=RegExp("^([-+])=("+X+")","i"),Ta={},N={position:"absolute",visibility:"hidden",display:"block"},Ga={letterSpacing:0,fontWeight:400},Ha=["Top","Right","Bottom","Left"],ka=["Webkit","O","Moz","ms"],T=h.fn.toggle;h.fn.extend({css:function(b,c){return h.access(this,function(b,c,f){return f!==a?h.style(b,c,f):h.css(b,c)},b,c,1<arguments.length)},show:function(){return L(this,!0)},hide:function(){return L(this)},
toggle:function(a,b){var c="boolean"===typeof a;return h.isFunction(a)&&h.isFunction(b)?T.apply(this,arguments):this.each(function(){(c?a:na(this))?h(this).show():h(this).hide()})}});h.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Q(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":h.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,c,f,d){if(b&&3!==b.nodeType&&8!==b.nodeType&&
b.style){var k,e,p,g=h.camelCase(c),t=b.style;c=h.cssProps[g]||(h.cssProps[g]=u(t,g));p=h.cssHooks[c]||h.cssHooks[g];if(f!==a){if(e=typeof f,"string"===e&&(k=Mb.exec(f))&&(f=(k[1]+1)*k[2]+parseFloat(h.css(b,c)),e="number"),!(null==f||"number"===e&&isNaN(f)||("number"!==e||h.cssNumber[g]||(f+="px"),p&&"set"in p&&(f=p.set(b,f,d))===a)))try{t[c]=f}catch(n){}}else return p&&"get"in p&&(k=p.get(b,!1,d))!==a?k:t[c]}},css:function(b,c,f,d){var k,e;e=h.camelCase(c);c=h.cssProps[e]||(h.cssProps[e]=u(b.style,
e));(e=h.cssHooks[c]||h.cssHooks[e])&&"get"in e&&(k=e.get(b,!0,d));k===a&&(k=Q(b,c));"normal"===k&&c in Ga&&(k=Ga[c]);return f||d!==a?(b=parseFloat(k),f||h.isNumeric(b)?b||0:k):k},swap:function(a,b,c){var f,d={};for(f in b)d[f]=a.style[f],a.style[f]=b[f];c=c.call(a);for(f in b)a.style[f]=d[f];return c}});d.getComputedStyle?Q=function(a,b){var c,f,k,e,p=d.getComputedStyle(a,null),g=a.style;p&&(c=p[b],""!==c||h.contains(a.ownerDocument,a)||(c=h.style(a,b)),Za.test(c)&&Ya.test(b)&&(f=g.width,k=g.minWidth,
e=g.maxWidth,g.minWidth=g.maxWidth=g.width=c,c=p.width,g.width=f,g.minWidth=k,g.maxWidth=e));return c}:v.documentElement.currentStyle&&(Q=function(a,b){var c,f,d=a.currentStyle&&a.currentStyle[b],k=a.style;null==d&&(k&&k[b])&&(d=k[b]);if(Za.test(d)&&!mb.test(b)){c=k.left;if(f=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;k.left="fontSize"===b?"1em":d;d=k.pixelLeft+"px";k.left=c;f&&(a.runtimeStyle.left=f)}return""===d?"auto":d});h.each(["height","width"],function(a,b){h.cssHooks[b]=
{get:function(a,c,f){if(c)return 0===a.offsetWidth&&Yb.test(Q(a,"display"))?h.swap(a,N,function(){return H(a,b,f)}):H(a,b,f)},set:function(a,c,f){return w(a,c,f?E(a,b,f,h.support.boxSizing&&"border-box"===h.css(a,"boxSizing")):0)}}});h.support.opacity||(h.cssHooks.opacity={get:function(a,b){return Lb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,f=a.currentStyle,d=h.isNumeric(b)?"alpha(opacity="+100*b+")":
"",k=f&&f.filter||c.filter||"";c.zoom=1;if(1<=b&&(""===h.trim(k.replace(Fa,""))&&c.removeAttribute)&&(c.removeAttribute("filter"),f&&!f.filter))return;c.filter=Fa.test(k)?k.replace(Fa,d):k+" "+d}});h(function(){h.support.reliableMarginRight||(h.cssHooks.marginRight={get:function(a,b){return h.swap(a,{display:"inline-block"},function(){if(b)return Q(a,"marginRight")})}});!h.support.pixelPosition&&h.fn.position&&h.each(["top","left"],function(a,b){h.cssHooks[b]={get:function(a,c){if(c){var f=Q(a,b);
return Za.test(f)?h(a).position()[b]+"px":f}}}})});h.expr&&h.expr.filters&&(h.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!h.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||Q(a,"display"))},h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)});h.each({margin:"",padding:"",border:"Width"},function(a,b){h.cssHooks[a+b]={expand:function(c){var f="string"===typeof c?c.split(" "):[c],d={};for(c=0;4>c;c++)d[a+Ha[c]+b]=f[c]||f[c-2]||f[0];
return d}};Ya.test(a)||(h.cssHooks[a+b].set=w)});var Sa=/%20/g,vb=/\[\]$/,nb=/\r?\n/g,Nb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bb=/^(?:select|textarea)/i;h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?h.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bb.test(this.nodeName)||
Nb.test(this.type))}).map(function(a,b){var c=h(this).val();return null==c?null:h.isArray(c)?h.map(c,function(a,c){return{name:b.name,value:a.replace(nb,"\r\n")}}):{name:b.name,value:c.replace(nb,"\r\n")}}).get()}});h.param=function(b,c){var f,d=[],k=function(a,b){b=h.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===a&&(c=h.ajaxSettings&&h.ajaxSettings.traditional);if(h.isArray(b)||b.jquery&&!h.isPlainObject(b))h.each(b,function(){k(this.name,this.value)});
else for(f in b)J(f,b[f],c,k);return d.join("&").replace(Sa,"+")};var S,ea,t=/#.*$/,V=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,G=/^(?:GET|HEAD)$/,O=/^\/\//,La=/\?/,tb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,fa=/([?&])_=[^&]*/,ya=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Zb=h.fn.load,Vb={},Rb={},Sb=["*/"]+["*"];try{S=ia.href}catch(Cb){S=v.createElement("a"),S.href="",S=S.href}ea=ya.exec(S.toLowerCase())||[];h.fn.load=function(b,c,f){if("string"!==typeof b&&Zb)return Zb.apply(this,arguments);
if(!this.length)return this;var d,k,e,p=this,g=b.indexOf(" ");0<=g&&(d=b.slice(g,b.length),b=b.slice(0,g));h.isFunction(c)?(f=c,c=a):c&&"object"===typeof c&&(k="POST");h.ajax({url:b,type:k,dataType:"html",data:c,complete:function(a,b){f&&p.each(f,e||[a.responseText,b,a])}}).done(function(a){e=arguments;p.html(d?h("<div>").append(a.replace(tb,"")).find(d):a)});return this};h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){h.fn[b]=function(a){return this.on(b,
a)}});h.each(["get","post"],function(b,c){h[c]=function(b,f,d,k){h.isFunction(f)&&(k=k||d,d=f,f=a);return h.ajax({type:c,url:b,data:f,success:d,dataType:k})}});h.extend({getScript:function(b,c){return h.get(b,a,c,"script")},getJSON:function(a,b,c){return h.get(a,b,c,"json")},ajaxSetup:function(a,b){b?I(a,h.ajaxSettings):(b=a,a=h.ajaxSettings);I(a,b);return a},ajaxSettings:{url:S,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ea[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Sb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":d.String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:ta(Vb),ajaxTransport:ta(Rb),ajax:function(b,c){function f(b,c,e,t){var n,u,s,q,V=c;if(2!==ia){ia=2;g&&clearTimeout(g);
p=a;k=t||"";z.readyState=0<b?4:0;if(e){q=v;t=z;var Z,G,F,O,ma=q.contents,D=q.dataTypes,l=q.responseFields;for(G in l)G in e&&(t[l[G]]=e[G]);for(;"*"===D[0];)D.shift(),Z===a&&(Z=q.mimeType||t.getResponseHeader("content-type"));if(Z)for(G in ma)if(ma[G]&&ma[G].test(Z)){D.unshift(G);break}if(D[0]in e)F=D[0];else{for(G in e){if(!D[0]||q.converters[G+" "+D[0]]){F=G;break}O||(O=G)}F=F||O}F?(F!==D[0]&&D.unshift(F),q=e[F]):q=void 0}if(200<=b&&300>b||304===b)if(v.ifModified&&((e=z.getResponseHeader("Last-Modified"))&&
(h.lastModified[d]=e),(e=z.getResponseHeader("Etag"))&&(h.etag[d]=e)),304===b)V="notmodified",n=!0;else{a:{u=v;s=q;var C,za,V=u.dataTypes.slice();Z=V[0];G={};F=0;u.dataFilter&&(s=u.dataFilter(s,u.dataType));if(V[1])for(C in u.converters)G[C.toLowerCase()]=u.converters[C];for(;e=V[++F];)if("*"!==e){if("*"!==Z&&Z!==e){C=G[Z+" "+e]||G["* "+e];if(!C)for(za in G)if(n=za.split(" "),n[1]===e&&(C=G[Z+" "+n[0]]||G["* "+n[0]])){!0===C?C=G[za]:!0!==G[za]&&(e=n[0],V.splice(F--,0,e));break}if(!0!==C)if(C&&u["throws"])s=
C(s);else try{s=C(s)}catch(Ua){n={state:"parsererror",error:C?Ua:"No conversion from "+Z+" to "+e};break a}}Z=e}n={state:"success",data:s}}V=n.state;u=n.data;s=n.error;n=!s}else if(s=V,!V||b)V="error",0>b&&(b=0);z.status=b;z.statusText=""+(c||V);n?A.resolveWith(B,[u,V,z]):A.rejectWith(B,[z,V,s]);z.statusCode(y);y=a;m&&P.trigger("ajax"+(n?"Success":"Error"),[z,v,n?u:s]);r.fireWith(B,[z,V]);m&&(P.trigger("ajaxComplete",[z,v]),--h.active||h.event.trigger("ajaxStop"))}}"object"===typeof b&&(c=b,b=a);
c=c||{};var d,k,e,p,g,n,m,u,v=h.ajaxSetup({},c),B=v.context||v,P=B!==v&&(B.nodeType||B instanceof h)?h(B):h.event,A=h.Deferred(),r=h.Callbacks("once memory"),y=v.statusCode||{},s={},q={},ia=0,Z="canceled",z={readyState:0,setRequestHeader:function(a,b){if(!ia){var c=a.toLowerCase();a=q[c]=q[c]||a;s[a]=b}return this},getAllResponseHeaders:function(){return 2===ia?k:null},getResponseHeader:function(b){var c;if(2===ia){if(!e)for(e={};c=V.exec(k);)e[c[1].toLowerCase()]=c[2];c=e[b.toLowerCase()]}return c===
a?null:c},overrideMimeType:function(a){ia||(v.mimeType=a);return this},abort:function(a){a=a||Z;p&&p.abort(a);f(0,a);return this}};A.promise(z);z.success=z.done;z.error=z.fail;z.complete=r.add;z.statusCode=function(a){if(a){var b;if(2>ia)for(b in a)y[b]=[y[b],a[b]];else b=a[z.status],z.always(b)}return this};v.url=((b||v.url)+"").replace(t,"").replace(O,ea[1]+"//");v.dataTypes=h.trim(v.dataType||"*").toLowerCase().split(sa);null==v.crossDomain&&(n=ya.exec(v.url.toLowerCase()),v.crossDomain=!(!n||
n[1]==ea[1]&&n[2]==ea[2]&&(n[3]||("http:"===n[1]?80:443))==(ea[3]||("http:"===ea[1]?80:443))));v.data&&(v.processData&&"string"!==typeof v.data)&&(v.data=h.param(v.data,v.traditional));ua(Vb,v,c,z);if(2===ia)return z;m=v.global;v.type=v.type.toUpperCase();v.hasContent=!G.test(v.type);m&&0===h.active++&&h.event.trigger("ajaxStart");if(!v.hasContent&&(v.data&&(v.url+=(La.test(v.url)?"&":"?")+v.data,delete v.data),d=v.url,!1===v.cache)){n=h.now();var F=v.url.replace(fa,"$1_="+n);v.url=F+(F===v.url?(La.test(v.url)?
"&":"?")+"_="+n:"")}(v.data&&v.hasContent&&!1!==v.contentType||c.contentType)&&z.setRequestHeader("Content-Type",v.contentType);v.ifModified&&(d=d||v.url,h.lastModified[d]&&z.setRequestHeader("If-Modified-Since",h.lastModified[d]),h.etag[d]&&z.setRequestHeader("If-None-Match",h.etag[d]));z.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Sb+"; q=0.01":""):v.accepts["*"]);for(u in v.headers)z.setRequestHeader(u,v.headers[u]);if(v.beforeSend&&
(!1===v.beforeSend.call(B,z,v)||2===ia))return z.abort();Z="abort";for(u in{success:1,error:1,complete:1})z[u](v[u]);if(p=ua(Rb,v,c,z)){z.readyState=1;m&&P.trigger("ajaxSend",[z,v]);v.async&&0<v.timeout&&(g=setTimeout(function(){z.abort("timeout")},v.timeout));try{ia=1,p.send(s,f)}catch(ma){if(2>ia)f(-1,ma);else throw ma;}}else f(-1,"No Transport");return z},active:0,lastModified:{},etag:{}});var ra=[],$b=/\?/,Db=/(=)\?(?=&|$)|\?\?/,za=h.now();h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=
ra.pop()||h.expando+"_"+za++;this[a]=!0;return a}});h.ajaxPrefilter("json jsonp",function(b,c,f){var k,e,p,g=b.data,t=b.url,n=!1!==b.jsonp,v=n&&Db.test(t),m=n&&!v&&"string"===typeof g&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Db.test(g);if("jsonp"===b.dataTypes[0]||v||m)return k=b.jsonpCallback=h.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,e=d[k],v?b.url=t.replace(Db,"$1"+k):m?b.data=g.replace(Db,"$1"+k):n&&(b.url+=($b.test(t)?"&":"?")+b.jsonp+"="+k),b.converters["script json"]=
function(){p||h.error(k+" was not called");return p[0]},b.dataTypes[0]="json",d[k]=function(){p=arguments},f.always(function(){d[k]=e;b[k]&&(b.jsonpCallback=c.jsonpCallback,ra.push(k));p&&h.isFunction(e)&&e(p[0]);p=e=a}),"script"});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){h.globalEval(a);return a}}});h.ajaxPrefilter("script",function(b){b.cache===
a&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});h.ajaxTransport("script",function(b){if(b.crossDomain){var c,f=v.head||v.getElementsByTagName("head")[0]||v.documentElement;return{send:function(d,k){c=v.createElement("script");c.async="async";b.scriptCharset&&(c.charset=b.scriptCharset);c.src=b.url;c.onload=c.onreadystatechange=function(b,d){if(d||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,f&&c.parentNode&&f.removeChild(c),c=a,d||k(200,"success")};
f.insertBefore(c,f.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var B,Z=d.ActiveXObject?function(){for(var a in B)B[a](0,1)}:!1,ma=0;h.ajaxSettings.xhr=d.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&ga()))a:{try{a=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:ga;(function(a){h.extend(h.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(h.ajaxSettings.xhr());h.support.ajax&&h.ajaxTransport(function(b){if(!b.crossDomain||h.support.cors){var c;return{send:function(f,
k){var e,p,g=b.xhr();b.username?g.open(b.type,b.url,b.async,b.username,b.password):g.open(b.type,b.url,b.async);if(b.xhrFields)for(p in b.xhrFields)g[p]=b.xhrFields[p];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType);b.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(p in f)g.setRequestHeader(p,f[p])}catch(t){}g.send(b.hasContent&&b.data||null);c=function(f,d){var p,t,n,v,m;try{if(c&&(d||4===g.readyState))if(c=a,e&&(g.onreadystatechange=h.noop,Z&&
delete B[e]),d)4!==g.readyState&&g.abort();else{p=g.status;n=g.getAllResponseHeaders();v={};(m=g.responseXML)&&m.documentElement&&(v.xml=m);try{v.text=g.responseText}catch(u){}try{t=g.statusText}catch(P){t=""}p||!b.isLocal||b.crossDomain?1223===p&&(p=204):p=v.text?200:404}}catch(A){d||k(-1,A)}v&&k(p,t,v,n)};b.async?4===g.readyState?setTimeout(c,0):(e=++ma,Z&&(B||(B={},h(d).unload(Z)),B[e]=c),g.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});var Ua,Tb,ec=/^(?:toggle|show|hide)$/,ic=RegExp("^(?:([-+])=|)("+
X+")([a-z%]*)$","i"),jc=/queueHooks$/,ac=[function(a,b,c){var f,d,k,e,p,g,t=this,n=a.style,v={},m=[],u=a.nodeType&&na(a);c.queue||(p=h._queueHooks(a,"fx"),null==p.unqueued&&(p.unqueued=0,g=p.empty.fire,p.empty.fire=function(){p.unqueued||g()}),p.unqueued++,t.always(function(){t.always(function(){p.unqueued--;h.queue(a,"fx").length||p.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===h.css(a,"display")&&"none"===h.css(a,"float")&&
(h.support.inlineBlockNeedsLayout&&"inline"!==s(a.nodeName)?n.zoom=1:n.display="inline-block"));c.overflow&&(n.overflow="hidden",h.support.shrinkWrapBlocks||t.done(function(){n.overflow=c.overflow[0];n.overflowX=c.overflow[1];n.overflowY=c.overflow[2]}));for(f in b)d=b[f],ec.exec(d)&&(delete b[f],d!==(u?"hide":"show")&&m.push(f));if(d=m.length)for(k=h._data(a,"fxshow")||h._data(a,"fxshow",{}),u?h(a).show():t.done(function(){h(a).hide()}),t.done(function(){var b;h.removeData(a,"fxshow",!0);for(b in v)h.style(a,
b,v[b])}),f=0;f<d;f++)b=m[f],e=t.createTween(b,u?k[b]:0),v[b]=k[b]||h.style(a,b),b in k||(k[b]=e.start,u&&(e.end=e.start,e.start="width"===b||"height"===b?1:0))}],Wb={"*":[function(a,b){var c,f,d,k=this.createTween(a,b),e=ic.exec(b),p=k.cur(),g=+p||0,t=1;if(e){c=+e[2];f=e[3]||(h.cssNumber[a]?"":"px");if("px"!==f&&g){g=h.css(k.elem,a,!0)||c||1;do d=t=t||".5",g/=t,h.style(k.elem,a,g+f),t=k.cur()/p;while(1!==t&&t!==d)}k.unit=f;k.start=g;k.end=e[1]?g+(e[1]+1)*c:c}return k}]};h.Animation=h.extend(oa,{tweener:function(a,
b){h.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,f=0,d=a.length;f<d;f++)c=a[f],Wb[c]=Wb[c]||[],Wb[c].unshift(b)},prefilter:function(a,b){b?ac.unshift(a):ac.push(a)}});h.Tween=R;R.prototype={constructor:R,init:function(a,b,c,f,d,k){this.elem=a;this.prop=c;this.easing=d||"swing";this.options=b;this.start=this.now=this.cur();this.end=f;this.unit=k||(h.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,
c=R.propHooks[this.prop];this.pos=this.options.duration?b=h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):R.propHooks._default.set(this);return this}};R.prototype.init.prototype=R.prototype;R.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=h.css(a.elem,a.prop,!1,""))&&"auto"!==
a?a:0:a.elem[a.prop]},set:function(a){if(h.fx.step[a.prop])h.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[h.cssProps[a.prop]]||h.cssHooks[a.prop])?h.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};h.each(["toggle","show","hide"],function(a,b){var c=h.fn[b];h.fn[b]=function(f,d,k){return null==f||"boolean"===typeof f||!a&&h.isFunction(f)&&h.isFunction(d)?
c.apply(this,arguments):this.animate(A(b,!0),f,d,k)}});h.fn.extend({fadeTo:function(a,b,c,f){return this.filter(na).css("opacity",0).show().end().animate({opacity:b},a,c,f)},animate:function(a,b,c,f){var d=h.isEmptyObject(a),k=h.speed(b,c,f);b=function(){var b=oa(this,h.extend({},a),k);d&&b.stop(!0)};return d||!1===k.queue?this.each(b):this.queue(k.queue,b)},stop:function(b,c,f){var d=function(a){var b=a.stop;delete a.stop;b(f)};"string"!==typeof b&&(f=c,c=b,b=a);c&&!1!==b&&this.queue(b||"fx",[]);
return this.each(function(){var a=!0,c=null!=b&&b+"queueHooks",k=h.timers,e=h._data(this);if(c)e[c]&&e[c].stop&&d(e[c]);else for(c in e)e[c]&&(e[c].stop&&jc.test(c))&&d(e[c]);for(c=k.length;c--;)k[c].elem!==this||null!=b&&k[c].queue!==b||(k[c].anim.stop(f),a=!1,k.splice(c,1));!a&&f||h.dequeue(this,b)})}});h.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,c,f){return this.animate(b,
a,c,f)}});h.speed=function(a,b,c){var f=a&&"object"===typeof a?h.extend({},a):{complete:c||!c&&b||h.isFunction(a)&&a,duration:a,easing:c&&b||b&&!h.isFunction(b)&&b};f.duration=h.fx.off?0:"number"===typeof f.duration?f.duration:f.duration in h.fx.speeds?h.fx.speeds[f.duration]:h.fx.speeds._default;if(null==f.queue||!0===f.queue)f.queue="fx";f.old=f.complete;f.complete=function(){h.isFunction(f.old)&&f.old.call(this);f.queue&&h.dequeue(this,f.queue)};return f};h.easing={linear:function(a){return a},
swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};h.timers=[];h.fx=R.prototype.init;h.fx.tick=function(){for(var a,b=h.timers,c=0;c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||h.fx.stop()};h.fx.timer=function(a){a()&&(h.timers.push(a)&&!Tb)&&(Tb=setInterval(h.fx.tick,h.fx.interval))};h.fx.interval=13;h.fx.stop=function(){clearInterval(Tb);Tb=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fx.step={};h.expr&&h.expr.filters&&(h.expr.filters.animated=function(a){return h.grep(h.timers,
function(b){return a===b.elem}).length});var fc=/^(?:body|html)$/i;h.fn.offset=function(b){if(arguments.length)return b===a?this:this.each(function(a){h.offset.setOffset(this,b,a)});var c,f,d,k,e,p;if(e=(c=this[0])&&c.ownerDocument){if((d=e.body)===c)return h.offset.bodyOffset(c);f=e.documentElement;if(!h.contains(f,c))return{top:0,left:0};c=c.getBoundingClientRect();k=F(e);e=f.clientTop||d.clientTop||0;d=f.clientLeft||d.clientLeft||0;p=k.pageYOffset||f.scrollTop;f=k.pageXOffset||f.scrollLeft;e=c.top+
p-e;c=c.left+f-d;return{top:e,left:c}}};h.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;h.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(h.css(a,"marginTop"))||0,c+=parseFloat(h.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var f=h.css(a,"position");"static"===f&&(a.style.position="relative");var d=h(a),k=d.offset(),e=h.css(a,"top"),p=h.css(a,"left"),g={},t={};("absolute"===f||"fixed"===f)&&-1<h.inArray("auto",[e,p])?(t=d.position(),f=t.top,p=
t.left):(f=parseFloat(e)||0,p=parseFloat(p)||0);h.isFunction(b)&&(b=b.call(a,c,k));null!=b.top&&(g.top=b.top-k.top+f);null!=b.left&&(g.left=b.left-k.left+p);"using"in b?b.using.call(a,g):d.css(g)}};h.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),f=fc.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(h.css(a,"marginTop"))||0;c.left-=parseFloat(h.css(a,"marginLeft"))||0;f.top+=parseFloat(h.css(b[0],"borderTopWidth"))||0;f.left+=parseFloat(h.css(b[0],
"borderLeftWidth"))||0;return{top:c.top-f.top,left:c.left-f.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||v.body;a&&!fc.test(a.nodeName)&&"static"===h.css(a,"position");)a=a.offsetParent;return a||v.body})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var f=/Y/.test(c);h.fn[b]=function(d){return h.access(this,function(b,d,k){var e=F(b);if(k===a)return e?c in e?e[c]:e.document.documentElement[d]:b[d];e?e.scrollTo(f?h(e).scrollLeft():
k,f?k:h(e).scrollTop()):b[d]=k},b,d,arguments.length,null)}});h.each({Height:"height",Width:"width"},function(b,c){h.each({padding:"inner"+b,content:c,"":"outer"+b},function(f,d){h.fn[d]=function(d,k){var e=arguments.length&&(f||"boolean"!==typeof d),p=f||(!0===d||!0===k?"margin":"border");return h.access(this,function(c,f,d){return h.isWindow(c)?c.document.documentElement["client"+b]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+b],f["scroll"+b],c.body["offset"+b],f["offset"+b],f["client"+
b])):d===a?h.css(c,f,d,p):h.style(c,f,d,p)},c,e?d:a,e,null)}})});d.jQuery=d.$=h;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return h});return h}(window)})})()},{}],1:[function(l,w,x){window.onload=function(){var d=l("./app");window.app=new d(document.getElementById("app"));window.app.start(window.bootstrap)}},{"./app":2}],3:[function(l,w,x){l=w.exports={};l.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};
if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var d=[];window.addEventListener("message",function(a){a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),0<d.length&&d.shift()())},!0);return function(a){d.push(a);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}();l.title="browser";l.browser=!0;l.env={};l.argv=[];l.binding=function(d){throw Error("process.binding is not supported");};l.cwd=function(){return"/"};l.chdir=function(d){throw Error("process.chdir is not supported");
}},{}],4:[function(l,w,x){(function(d){function a(a,d){for(var g=[],r=0;r<a.length;r++)d(a[r],r,a)&&g.push(a[r]);return g}function q(a,d){for(var g=0,r=a.length;0<=r;r--){var n=a[r];"."==n?a.splice(r,1):".."===n?(a.splice(r,1),g++):g&&(a.splice(r,1),g--)}if(d)for(;g--;g)a.unshift("..");return a}var g=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;x.resolve=function(){for(var e="",g=!1,y=arguments.length;-1<=y&&!g;y--){var r=0<=y?arguments[y]:d.cwd();"string"===typeof r&&r&&(e=r+"/"+e,g="/"===r.charAt(0))}e=
q(a(e.split("/"),function(a){return!!a}),!g).join("/");return(g?"/":"")+e||"."};x.normalize=function(d){var g="/"===d.charAt(0),y="/"===d.slice(-1);(d=q(a(d.split("/"),function(a){return!!a}),!g).join("/"))||g||(d=".");d&&y&&(d+="/");return(g?"/":"")+d};x.join=function(){var d=Array.prototype.slice.call(arguments,0);return x.normalize(a(d,function(a,d){return a&&"string"===typeof a}).join("/"))};x.dirname=function(a){return(a=g.exec(a)[1]||"")?1===a.length?a:a.substring(0,a.length-1):"."};x.basename=
function(a,d){var q=g.exec(a)[2]||"";d&&q.substr(-1*d.length)===d&&(q=q.substr(0,q.length-d.length));return q};x.extname=function(a){return g.exec(a)[3]||""};x.relative=function(a,d){function g(a){for(var b=0;b<a.length&&""===a[b];b++);for(var d=a.length-1;0<=d&&""===a[d];d--);return b>d?[]:a.slice(b,d-b+1)}a=x.resolve(a).substr(1);d=x.resolve(d).substr(1);for(var r=g(a.split("/")),n=g(d.split("/")),q=Math.min(r.length,n.length),l=q,b=0;b<q;b++)if(r[b]!==n[b]){l=b;break}q=[];for(b=l;b<r.length;b++)q.push("..");
q=q.concat(n.slice(l));return q.join("/")}})(l("__browserify_process"))},{__browserify_process:3}],5:[function(l,w,x){(function(){function d(a,d,g){this.init(a,d,g)}d.prototype={init:function(a,d,g){this.targetFrame=a;this.targetDomain=d;this.prefix=g;this.replies={};this.nextTicket=0;this.ready=!1;this.queue=[];var e=this;window.addEventListener("message",function(a){e.receive(a)},!1)},send:function(a,d,g){var e="ticket_"+this.prefix+"_"+this.nextTicket++;a=JSON.stringify({"function":a,args:d,ticket:e});
g&&(this.replies[e]=g);this.sendInternal(a)},receive:function(a){if(a.origin.replace(/https?:\/\//,"")===this.targetDomain.replace(/\/$/,"").replace(/https?:\/\//,"")){var d;try{d=JSON.parse(a.data)}catch(g){alert("Syntax error in response from "+a.origin+": "+a.data);return}if("ready"===d.event)this.ready=!0,this.sendQueuedEvents();else if(d.ticket in this.replies){a=this.replies[d.ticket];delete this.replies[d.ticket];var e=[];"args"in d&&(e=d.args);a.apply(void 0,e)}}},sendInternal:function(a){this.ready?
this.targetFrame.contentWindow.postMessage(a,this.targetDomain):this.queue.push(a)},sendQueuedEvents:function(){for(var a=0;a<this.queue.length;a++)this.targetFrame.contentWindow.postMessage(this.queue[a],this.targetDomain);this.queue.length=0}};w.exports=d})()},{}],6:[function(l,w,x){w.exports={baseUrl:"http://www.toolkitt.com",videoExts:".mp4 .m4v .f4v .webm .ogv .flv .mov".split(" "),imageExts:[".gif",".png",".jpeg",".jpg",".bmp"],thumbnailDims:{width:340,height:192},flashMessage:null,s3prefix:"https://toolkitt.s3.amazonaws.com/",
thumberUrl:"https://toolkitt.s3.amazonaws.com/thumber.html",videoPlayerId:"media_video",imageViewerId:"media_image"}},{}],7:[function(l,w,x){w.exports=function(d){return{placeholderThumbnail:function(a){var q=d.thumbnailDims.width,g=d.thumbnailDims.height;a&&(q=Math.round(q/2),g=Math.round(g/2));return"http://holder.js/"+q+"x"+g+"/text:No Thumbnail"},isVideo:function(a){a="."+a.split(".").pop().toLowerCase();return 0<=d.videoExts.indexOf(a)},isImage:function(a){a="."+a.split(".").pop().toLowerCase();
return 0<=d.imageExts.indexOf(a)},ucfirst:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uuid:function(a){a=a||10;var d=[];for(i=0;i<a;i++)d.push("abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random())));return d.join("")},mime:function(a){return"video/quicktime"===a?"video/mp4":a}}}},{}],8:[function(l,w,x){(function(){w.exports=function(){var d=this;d.getUser().save({id:"logout",token:null},{success:function(){d.db.fetchCollection("pages").fetch();d.getCustomization()&&d.getCustomization().fetch();
d.navigate("",{trigger:!0})}})}})()},{}],9:[function(l,w,x){x=l("jquery-browserify");l("./lib/elastislide")(x,window);l("./lib/switch")(x,window);l("./lib/sortable")(x,window);l("./lib/tags")(x,window);l("./lib/bootstrap-button")(x,window);l("./lib/bootstrap-tooltip")(x,window);l("./lib/bootstrap-popover")(x,window);l("./lib/bootstrap-alert")(x,window);w.exports=x},{"./lib/bootstrap-alert":17,"./lib/bootstrap-button":14,"./lib/bootstrap-popover":16,"./lib/bootstrap-tooltip":15,"./lib/elastislide":10,
"./lib/sortable":12,"./lib/switch":11,"./lib/tags":13,"jquery-browserify":"Gb3VIQ"}],18:[function(l,w,x){(function(){var d=l("../views/routes/index");w.exports=function(){var a=new d({app:this});this.show(a)}})()},{"../views/routes/index":19}],20:[function(l,w,x){(function(){var d=l("../views/routes/login");w.exports=function(){var a=new d({app:this});this.show(a)}})()},{"../views/routes/login":21}],22:[function(l,w,x){(function(){var d=l("../views/routes/review");w.exports=function(){var a=new d({app:this});
this.show(a)}})()},{"../views/routes/review":23}],24:[function(l,w,x){(function(){var d=l("../../views/routes/pages/create");w.exports=function(){var a=new d({app:this});this.show(a)}})()},{"../../views/routes/pages/create":25}],26:[function(l,w,x){(function(){var d=l("../../views/routes/pages/show");w.exports=function(a){a=new d({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/pages/show":27}],28:[function(l,w,x){(function(){var d=l("../../views/routes/media/add");w.exports=function(a){a=
new d({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/media/add":29}],30:[function(l,w,x){(function(){var d=l("../../views/routes/pages/edit");w.exports=function(a){a=new d({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/pages/edit":31}],32:[function(l,w,x){(function(){var d=l("../../views/routes/media/edit");w.exports=function(a,q){var g=new d({app:this,mediaType:a,mediaId:q});this.show(g)}})()},{"../../views/routes/media/edit":33}],34:[function(l,w,x){(function(){var d=
l("../../views/routes/media/show");w.exports=function(a,q,g){a=new d({app:this,mediaType:q,mediaId:g,pageName:a});this.show(a)}})()},{"../../views/routes/media/show":35}],11:[function(l,w,x){w.exports=function(d){d.fn.bootstrapSwitch=function(a){var q={init:function(){return this.each(function(){var a=d(this),e,m,q,r,n="",z=a.attr("class"),l;m="ON";r="OFF";e=!1;d.each(["switch-mini","switch-small","switch-large"],function(a,b){0<=z.indexOf(b)&&(n=b)});a.addClass("has-switch");void 0!==a.data("on")&&
(q="switch-"+a.data("on"));void 0!==a.data("on-label")&&(m=a.data("on-label"));void 0!==a.data("off-label")&&(r=a.data("off-label"));void 0!==a.data("icon")&&(e=a.data("icon"));m=d("<span>").addClass("switch-left").addClass(n).addClass(q).html(m);q="";void 0!==a.data("off")&&(q="switch-"+a.data("off"));q=d("<span>").addClass("switch-right").addClass(n).addClass(q).html(r);r=d("<label>").html("&nbsp;").addClass(n).attr("for",a.find("input").attr("id"));e&&r.html('<i class="'+e+'"></i>');e=a.find(":checkbox").wrap(d("<div>")).parent().data("animated",
!1);!1!==a.data("animated")&&e.addClass("switch-animate").data("animated",!0);e.append(m).append(r).append(q);a.find(">div").addClass(a.find("input").is(":checked")?"switch-on":"switch-off");a.find("input").is(":disabled")&&d(this).addClass("deactivate");var b=function(a){a.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};a.on("keydown",function(a){32===a.keyCode&&(a.stopImmediatePropagation(),a.preventDefault(),b(d(a.target).find("span:first")))});m.on("click",function(a){b(d(this))});
q.on("click",function(a){b(d(this))});a.find("input").on("change",function(a){var b=d(this),k=b.parent(),e=b.is(":checked"),g=k.is(".switch-off");a.preventDefault();k.css("left","");g===e&&(e?k.removeClass("switch-off").addClass("switch-on"):k.removeClass("switch-on").addClass("switch-off"),!1!==k.data("animated")&&k.addClass("switch-animate"),k.parent().trigger("switch-change",{el:b,value:e}))});a.find("label").on("mousedown touchstart",function(a){var b=d(this);l=!1;a.preventDefault();a.stopImmediatePropagation();
b.closest("div").removeClass("switch-animate");b.closest(".has-switch").is(".deactivate")?b.unbind("click"):(b.on("mousemove touchmove",function(a){var b=d(this).closest(".switch");a=100*(((a.pageX||a.originalEvent.targetTouches[0].pageX)-b.offset().left)/b.width());l=!0;25>a?a=25:75<a&&(a=75);b.find(">div").css("left",a-75+"%")}),b.on("click touchend",function(a){var b=d(this),c=d(a.target).siblings("input");a.stopImmediatePropagation();a.preventDefault();b.unbind("mouseleave");l?c.prop("checked",
!(-25>parseInt(b.parent().css("left")))):c.prop("checked",!c.is(":checked"));l=!1;c.trigger("change")}),b.on("mouseleave",function(a){var b=d(this),c=b.siblings("input");a.preventDefault();a.stopImmediatePropagation();b.unbind("mouseleave");b.trigger("mouseup");c.prop("checked",!(-25>parseInt(b.parent().css("left")))).trigger("change")}),b.on("mouseup",function(a){a.stopImmediatePropagation();a.preventDefault();d(this).unbind("mousemove")}))})})},toggleActivation:function(){d(this).toggleClass("deactivate")},
isActive:function(){return!d(this).hasClass("deactivate")},setActive:function(a){a?d(this).removeClass("deactivate"):d(this).addClass("deactivate")},toggleState:function(a){var e=d(this).find("input:checkbox");e.prop("checked",!e.is(":checked")).trigger("change",a)},setState:function(a,e){d(this).find("input:checkbox").prop("checked",a).trigger("change",e)},status:function(){return d(this).find("input:checkbox").is(":checked")},destroy:function(){var a=d(this).find("div");a.find(":not(input:checkbox)").remove();
a=a.children();a.unwrap().unwrap();a.unbind("change");return a}};if(q[a])return q[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)d.error("Method "+a+" does not exist!");else return q.init.apply(this,arguments)}}},{}],12:[function(l,w,x){w.exports=function(d){var a,q=d();d.fn.sortable=function(g){var e=String(g);g=d.extend({connectWith:!1},g);return this.each(function(){if(/^enable|disable|destroy$/.test(e)){var m=d(this).children(d(this).data("items")).attr("draggable",
"enable"==e);"destroy"==e&&m.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s")}else{var y,r,m=d(this).children(g.items),n=d("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');m.find(g.handle).mousedown(function(){y=!0}).mouseup(function(){y=!1});d(this).data("items",g.items);q=q.add(n);g.connectWith&&d(g.connectWith).add(this).data("connectWith",g.connectWith);m.attr("draggable","true").on("dragstart.h5s",
function(e){if(g.handle&&!y)return!1;y=!1;e=e.originalEvent.dataTransfer;e.effectAllowed="move";e.setData("Text","dummy");r=(a=d(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){a.removeClass("sortable-dragging").show();q.detach();r!=a.index()&&m.parent().trigger("sortupdate",{item:a});a=null}).not("a[href], img").on("selectstart.h5s",function(){this.dragDrop&&this.dragDrop();return!1}).end().add([this,n]).on("dragover.h5s dragenter.h5s drop.h5s",function(e){if(!m.is(a)&&
g.connectWith!==d(a).parent().data("connectWith"))return!0;if("drop"==e.type)return e.stopPropagation(),q.filter(":visible").after(a),!1;e.preventDefault();e.originalEvent.dataTransfer.dropEffect="move";m.is(this)?(g.forcePlaceholderSize&&n.height(a.outerHeight()),a.hide(),d(this)[n.index()<d(this).index()?"after":"before"](n),q.not(n).detach()):q.is(this)||d(this).children(g.items).length||(q.detach(),d(this).append(n));return!1})}})}}},{}],13:[function(l,w,x){w.exports=function(d){var a=[],q=[];
d.fn.doAutosize=function(a){var e=d(this).data("minwidth"),m=d(this).data("maxwidth"),q="",r=d(this),n=d("#"+d(this).data("tester_id"));q!==(q=r.val())&&(q=q.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n.html(q),n=n.width(),a=n+a.comfortZone>=e?n+a.comfortZone:e,n=r.width(),(a<n&&a>=e||a>e&&a<m)&&r.width(a))};d.fn.resetAutosize=function(a){var e=d(this).data("minwidth")||a.minInputWidth||d(this).width();a=d(this).data("maxwidth")||a.maxInputWidth||d(this).closest(".tagsinput").width()-
a.inputPadding;var m=d(this),q=d("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:m.css("fontSize"),fontFamily:m.css("fontFamily"),fontWeight:m.css("fontWeight"),letterSpacing:m.css("letterSpacing"),whiteSpace:"nowrap"}),r=d(this).attr("id")+"_autosize_tester";0<!d("#"+r).length&&(q.attr("id",r),q.appendTo("body"));m.data("minwidth",e);m.data("maxwidth",a);m.data("tester_id",r);m.css("width",e)};d.fn.addTag=function(g,e){e=jQuery.extend({focus:!1,callback:!0},e);this.each(function(){var m=
d(this).attr("id"),y=d(this).val().split(a[m]);""==y[0]&&(y=[]);g=jQuery.trim(g);if(e.unique){var r=d(this).tagExist(g);!0==r&&d("#"+m+"_tag").addClass("not_valid")}else r=!1;if(""!=g&&!0!=r&&(d("<span>").addClass("tag").append(d("<span>").text(g).append("&nbsp;&nbsp;"),d('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return d("#"+m).removeTag(escape(g))})).insertBefore("#"+m+"_addTag"),y.push(g),d("#"+m+"_tag").val(""),e.focus?d("#"+m+"_tag").focus():
d("#"+m+"_tag").blur(),d.fn.tagsInput.updateTagsField(this,y),e.callback&&(q[m]&&q[m].onAddTag)&&(r=q[m].onAddTag,r.call(this,g)),q[m]&&q[m].onChange)){var n=y.length,r=q[m].onChange;r.call(this,d(this),y[n-1])}});return!1};d.fn.removeTag=function(g){g=unescape(g);this.each(function(){var e=d(this).attr("id"),m=d(this).val().split(a[e]);d("#"+e+"_tagsinput .tag").remove();str="";for(i=0;i<m.length;i++)m[i]!=g&&(str=str+a[e]+m[i]);d.fn.tagsInput.importTags(this,str);q[e]&&q[e].onRemoveTag&&q[e].onRemoveTag.call(this,
g)});return!1};d.fn.tagExist=function(g){var e=d(this).attr("id"),e=d(this).val().split(a[e]);return 0<=jQuery.inArray(g,e)};d.fn.importTags=function(a){id=d(this).attr("id");d("#"+id+"_tagsinput .tag").remove();d.fn.tagsInput.importTags(this,a)};d.fn.tagsInput=function(g){var e=jQuery.extend({interactive:!0,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},
g);this.each(function(){e.hide&&d(this).hide();var g=d(this).attr("id");if(!g||a[d(this).attr("id")])g=d(this).attr("id","tags"+(new Date).getTime()).attr("id");var y=jQuery.extend({pid:g,real_input:"#"+g,holder:"#"+g+"_tagsinput",input_wrapper:"#"+g+"_addTag",fake_input:"#"+g+"_tag"},e);a[g]=y.delimiter;if(e.onAddTag||e.onRemoveTag||e.onChange)q[g]=[],q[g].onAddTag=e.onAddTag,q[g].onRemoveTag=e.onRemoveTag,q[g].onChange=e.onChange;var r=d("#"+g).attr("class").replace("tagsinput",""),r='<div id="'+
g+'_tagsinput" class="tagsinput '+r+'"><div class="tagsinput-add-container" id="'+g+'_addTag"><div class="tagsinput-add"></div>';e.interactive&&(r=r+'<input id="'+g+'_tag" value="" data-default="'+e.defaultText+'" />');d(r+"</div></div>").insertAfter(this);d(y.holder).css("width",e.width);d(y.holder).css("min-height",e.height);d(y.holder).css("height","100%");""!=d(y.real_input).val()&&d.fn.tagsInput.importTags(d(y.real_input),d(y.real_input).val());if(e.interactive){d(y.fake_input).val(d(y.fake_input).attr("data-default"));
d(y.fake_input).css("color",e.placeholderColor);d(y.fake_input).resetAutosize(e);d(y.holder).bind("click",y,function(a){d(a.data.fake_input).focus()});d(y.fake_input).bind("focus",y,function(a){d(a.data.fake_input).val()==d(a.data.fake_input).attr("data-default")&&d(a.data.fake_input).val("");d(a.data.fake_input).css("color","#000000")});if(void 0!=e.autocomplete_url){autocomplete_options={source:e.autocomplete_url};for(attrname in e.autocomplete)autocomplete_options[attrname]=e.autocomplete[attrname];
void 0!==jQuery.Autocompleter?(d(y.fake_input).autocomplete(e.autocomplete_url,e.autocomplete),d(y.fake_input).bind("result",y,function(a,q,r){q&&d("#"+g).addTag(q[0]+"",{focus:!0,unique:e.unique})})):void 0!==jQuery.ui.autocomplete&&(d(y.fake_input).autocomplete(autocomplete_options),d(y.fake_input).bind("autocompleteselect",y,function(a,g){d(a.data.real_input).addTag(g.item.value,{focus:!0,unique:e.unique});return!1}))}else d(y.fake_input).bind("blur",y,function(a){var g=d(this).attr("data-default");
""!=d(a.data.fake_input).val()&&d(a.data.fake_input).val()!=g?a.data.minChars<=d(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=d(a.data.fake_input).val().length)&&d(a.data.real_input).addTag(d(a.data.fake_input).val(),{focus:!0,unique:e.unique}):(d(a.data.fake_input).val(d(a.data.fake_input).attr("data-default")),d(a.data.fake_input).css("color",e.placeholderColor));return!1});d(y.fake_input).bind("keypress",y,function(a){if(a.which==a.data.delimiter.charCodeAt(0)||13==a.which)return a.preventDefault(),
a.data.minChars<=d(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=d(a.data.fake_input).val().length)&&d(a.data.real_input).addTag(d(a.data.fake_input).val(),{focus:!0,unique:e.unique}),d(a.data.fake_input).resetAutosize(e),!1;a.data.autosize&&d(a.data.fake_input).doAutosize(e)});y.removeWithBackspace&&d(y.fake_input).bind("keydown",function(a){if(8==a.keyCode&&""==d(this).val()){a.preventDefault();a=d(this).closest(".tagsinput").find(".tag:last").text();var e=d(this).attr("id").replace(/_tag$/,
"");a=a.replace(/[\s\u00a0]+x$/,"");d("#"+e).removeTag(escape(a));d(this).trigger("focus")}});d(y.fake_input).blur();y.unique&&d(y.fake_input).keydown(function(a){(8==a.keyCode||String.fromCharCode(a.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,/]+/))&&d(this).removeClass("not_valid")})}});return this};d.fn.tagsInput.updateTagsField=function(g,e){var m=d(g).attr("id");d(g).val(e.join(a[m]))};d.fn.tagsInput.importTags=function(g,e){d(g).val("");var m=
d(g).attr("id"),y=e.split(a[m]);for(i=0;i<y.length;i++)d(g).addTag(y[i],{focus:!1,callback:!1});q[m]&&q[m].onChange&&q[m].onChange.call(g,g,y[i])}}},{}],14:[function(l,w,x){w.exports=function(d){var a=function(a,e){this.$element=d(a);this.options=d.extend({},d.fn.button.defaults,e)};a.prototype.setState=function(a){var d=this.$element,m=d.data(),q=d.is("input")?"val":"html";a+="Text";m.resetText||d.data("resetText",d[q]());d[q](m[a]||this.options[a]);setTimeout(function(){"loadingText"==a?d.addClass("disabled").attr("disabled",
"disabled"):d.removeClass("disabled").removeAttr("disabled")},0)};a.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var q=d.fn.button;d.fn.button=function(g){return this.each(function(){var e=d(this),m=e.data("button"),q="object"==typeof g&&g;m||e.data("button",m=new a(this,q));"toggle"==g?m.toggle():g&&m.setState(g)})};d.fn.button.defaults={loadingText:"loading..."};d.fn.button.Constructor=
a;d.fn.button.noConflict=function(){d.fn.button=q;return this};d(document).on("click.button.data-api","[data-toggle^=button]",function(a){a=d(a.target);a.hasClass("btn")||(a=a.closest(".btn"));a.button("toggle")})}},{}],15:[function(l,w,x){w.exports=function(d){var a=function(a,d){this.init("tooltip",a,d)};a.prototype={constructor:a,init:function(a,e,m){var q;this.type=a;this.$element=d(e);this.options=this.getOptions(m);this.enabled=!0;e=this.options.trigger.split(" ");for(m=e.length;m--;)if(q=e[m],
"click"==q)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else"manual"!=q&&(a="hover"==q?"mouseenter":"focus",q="hover"==q?"mouseleave":"blur",this.$element.on(a+"."+this.type,this.options.selector,d.proxy(this.enter,this)),this.$element.on(q+"."+this.type,this.options.selector,d.proxy(this.leave,this)));this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=d.extend({},d.fn[this.type].defaults,
this.$element.data(),a);a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});return a},enter:function(a){var e=d.fn[this.type].defaults,m={},q;this._options&&d.each(this._options,function(a,d){e[a]!=d&&(m[a]=d)},this);q=d(a.currentTarget)[this.type](m).data(this.type);if(!q.options.delay||!q.options.delay.show)return q.show();clearTimeout(this.timeout);q.hoverState="in";this.timeout=setTimeout(function(){"in"==q.hoverState&&q.show()},q.options.delay.show)},leave:function(a){var e=
d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out";this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var a,e,m,q,r;e=d.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(e),!e.isDefaultPrevented())){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");q="function"==typeof this.options.placement?
this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;a.detach().css({top:0,left:0,display:"block"});this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);e=this.getPosition();m=a[0].offsetWidth;a=a[0].offsetHeight;switch(q){case "bottom":r={top:e.top+e.height,left:e.left+e.width/2-m/2};break;case "top":r={top:e.top-a,left:e.left+e.width/2-m/2};break;case "left":r={top:e.top+e.height/2-a/2,left:e.left-m};break;case "right":r={top:e.top+e.height/
2-a/2,left:e.left+e.width}}this.applyPlacement(r,q);this.$element.trigger("shown")}},applyPlacement:function(a,d){var m=this.tip(),q=m[0].offsetWidth,r=m[0].offsetHeight,n,z,l;m.offset(a).addClass(d).addClass("in");n=m[0].offsetWidth;z=m[0].offsetHeight;"top"==d&&z!=r&&(a.top=a.top+r-z,l=!0);"bottom"==d||"top"==d?(r=0,0>a.left&&(r=-2*a.left,a.left=0,m.offset(a),n=m[0].offsetWidth),this.replaceArrow(r-q+n,n,"left")):this.replaceArrow(z-r,z,"top");l&&m.offset(a)},replaceArrow:function(a,d,m){this.arrow().css(m,
a?50*(1-a/d)+"%":"")},setContent:function(){var a=this.tip(),d=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](d);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var g=setTimeout(function(){e.off(d.support.transition.end).detach()},500);e.one(d.support.transition.end,function(){clearTimeout(g);e.detach()})}var e=this.tip(),m=d.Event("hide");this.$element.trigger(m);if(!m.isDefaultPrevented())return e.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?
a():e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var a=this.$element[0];return d.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},getTitle:function(){var a=
this.$element,d=this.options;return a.attr("data-original-title")||("function"==typeof d.title?d.title.call(a[0]):d.title)},tip:function(){return this.$tip=this.$tip||d(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=
a?d(a.currentTarget)[this.type](this._options).data(this.type):this;a.tip().hasClass("in")?a.hide():a.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var q=d.fn.tooltip;d.fn.tooltip=function(g){return this.each(function(){var e=d(this),m=e.data("tooltip"),q="object"==typeof g&&g;m||e.data("tooltip",m=new a(this,q));if("string"==typeof g)m[g]()})};d.fn.tooltip.Constructor=a;d.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
trigger:"hover focus",title:"",delay:0,html:!1,container:!1};d.fn.tooltip.noConflict=function(){d.fn.tooltip=q;return this}}},{}],16:[function(l,w,x){w.exports=function(d){var a=function(a,d){this.init("popover",a,d)};a.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:a,setContent:function(){var a=this.tip(),d=this.getTitle(),m=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](d);a.find(".popover-content")[this.options.html?"html":"text"](m);a.removeClass("fade top bottom left right in")},
hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,d=this.options;return("function"==typeof d.content?d.content.call(a[0]):d.content)||a.attr("data-content")},tip:function(){this.$tip||(this.$tip=d(this.options.template));return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var q=d.fn.popover;d.fn.popover=function(g){return this.each(function(){var e=d(this),m=e.data("popover"),q="object"==typeof g&&
g;m||e.data("popover",m=new a(this,q));if("string"==typeof g)m[g]()})};d.fn.popover.Constructor=a;d.fn.popover.defaults=d.extend({},d.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});d.fn.popover.noConflict=function(){d.fn.popover=q;return this}}},{}],17:[function(l,w,x){w.exports=function(d){var a=function(a){d(a).on("click",'[data-dismiss="alert"]',
this.close)};a.prototype.close=function(a){function e(){r.trigger("closed").remove()}var m=d(this),q=m.attr("data-target"),r;q||(q=(q=m.attr("href"))&&q.replace(/.*(?=#[^\s]*$)/,""));r=d(q);a&&a.preventDefault();r.length||(r=m.hasClass("alert")?m:m.parent());r.trigger(a=d.Event("close"));a.isDefaultPrevented()||(r.removeClass("in"),d.support.transition&&r.hasClass("fade")?r.on(d.support.transition.end,e):e())};var q=d.fn.alert;d.fn.alert=function(g){return this.each(function(){var e=d(this),m=e.data("alert");
m||e.data("alert",m=new a(this));"string"==typeof g&&m[g].call(e)})};d.fn.alert.Constructor=a;d.fn.alert.noConflict=function(){d.fn.alert=q;return this};d(document).on("click.alert.data-api",'[data-dismiss="alert"]',a.prototype.close)}},{}],2:[function(l,w,x){(function(){var d=l("lodash"),a=l("./helpers/JqueryLoader");l("path");var q=l("./helpers/BackboneLoader.js"),g=l("./helpers/lib/messenger.js"),e=l("./helpers/db"),m={"":l("./routes/index"),login:l("./routes/login"),logout:l("./routes/logout"),
createPage:l("./routes/pages/create"),"page/:name":l("./routes/pages/show"),"page/:name/edit":l("./routes/pages/edit"),"page/:name/addMedia":l("./routes/media/add"),review:l("./routes/review"),"page/:name/:type/:id":l("./routes/media/show"),"media/:type/:id/edit":l("./routes/media/edit")},y=q.Router.extend({initialize:function(q,n){d.each(m,function(a,e){this.route(e,d.bind(a,this))},this);this.el=q=q||document.body;this.$el=a(q);this.db=new e(this);this.config=d.clone(l("./config/config.js"));this.util=
l("./helpers/util.js")(this.config);this.messenger=new g(null,this.config.s3prefix,"thumbnailer");this.listenTo(this.getUser(),"change",function(){this.bootstrap.userId&&(this.getUser().attributes.token&&this.getUser().id!==this.bootstrap.userId)&&(this.navigate("logout",{trigger:!0}),this.setFlash("info","You have been logged out because this is not your portfolio."))},this);return this},start:function(a){this.bootstrap=a||{};q.history.start();return this},handleAppLink:function(a){a.preventDefault();
a.stopPropagation();for(a=a.target;null==a.pathname;)a=a.parentElement;this.navigate(a.pathname,{trigger:!0});return this},isLoggedIn:function(){return this.getUser().attributes&&this.getUser().attributes.token},show:function(a){this.currentView&&(this.currentView.close(),this.currentView=null);this.currentView=a;a.render();this.$el.append(a.$el);return this},flash:null,setFlash:function(a,d){a||(a="info");this.flash={message:d,type:a};this.trigger("flash");this.listenToOnce(this,"route",function(a,
d,b){this.clearFlash()});return this},clearFlash:function(){this.flash=null;this.trigger("flash");return this},error:function(a,d){d||(d=a);var e=d,g="";null==e&&(e="Unknown (Null) Error");if("object"===typeof e){g=[];if(e instanceof Array)for(var b=0,c=e.length;b<c;b++)g.push(this.util.ucfirst(e[b].attr)+": "+this.util.ucfirst(e[b].message));else if(e.toString)g=[e.toString()];else for(b in e)g.push(this.util.ucfirst(b)+": "+this.util.ucfirst(e[b]));g=g.join(",")}else g+=e;this.setFlash("error",
g)},getUser:function(){return this.db.fetchModel("user")},getCustomization:function(){return this.isLoggedIn()?this.db.createModel("customization").set(this.getUser().attributes.customization):!1},getUserVars:function(){var a=this.getCustomization();return a?a.attributes.config:this.bootstrap.userVars}});w.exports=y})()},{"./config/config.js":6,"./helpers/BackboneLoader.js":36,"./helpers/JqueryLoader":9,"./helpers/db":37,"./helpers/lib/messenger.js":5,"./helpers/util.js":7,"./routes/index":18,"./routes/login":20,
"./routes/logout":8,"./routes/media/add":28,"./routes/media/edit":32,"./routes/media/show":34,"./routes/pages/create":24,"./routes/pages/edit":30,"./routes/pages/show":26,"./routes/review":22,lodash:38,path:4}],38:[function(l,w,x){(function(d){(function(a){function q(a,b,c){c=(c||0)-1;for(var f=a.length;++c<f;)if(a[c]===b)return c;return-1}function g(a,b){var c=typeof b;a=a.cache;if("boolean"==c||null==b)return a[b];"number"!=c&&"string"!=c&&(c="object");var f="number"==c?b:H+b;a=a[c]||(a[c]={});
return"object"==c?a[f]&&-1<q(a[f],b)?0:-1:a[f]?0:-1}function e(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var f="number"==c?a:H+a,d=b[c]||(b[c]={});"object"==c?(d[f]||(d[f]=[])).push(a)==this.array.length&&(b[c]=!1):d[f]=!0}}function m(a){return a.charCodeAt(0)}function y(a,b){var c=a.index,f=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<f?-1:1}function r(a){var b=
-1,f=a.length,d=l();d["false"]=d["null"]=d["true"]=d.undefined=!1;var k=l();k.array=a;k.cache=d;for(k.push=e;++b<f;)k.push(a[b]);return!1===d.object?(c(k),null):k}function n(a){return"\\"+qb[a]}function z(){return na.pop()||[]}function l(){return L.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function b(a){a.length=0;na.length<J&&na.push(a)}function c(a){var b=
a.cache;b&&c(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;L.length<J&&L.push(a)}function f(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var f=-1;c=c-b||0;for(var d=Array(0>c?0:c);++f<c;)d[f]=a[b+f];return d}function k(d){function e(a){return a&&"object"==typeof a&&!fa(a)&&N.call(a,"__wrapped__")?a:new L(a)}function L(a){this.__wrapped__=a}function w(a,b,c,f){function d(){var f=arguments,t=k?this:b;e||(a=b[h]);c.length&&(f=f.length?(f=O.call(f),p?f.concat(c):c.concat(f)):
c);return this instanceof d?(t=xa(a.prototype)?vb(a.prototype):{},f=a.apply(t,f),xa(f)?f:t):a.apply(t,f)}var e=Ea(a),k=!c,h=b;if(k){var p=f;c=b}else if(!e){if(!f)throw new Oa;b=a}return d}function na(a){return Zb[a]}function J(a,b,c){var f=(f=e.indexOf)===sb?q:f;return f}function x(a){return function(b,c,f,d){"boolean"!=typeof c&&null!=c&&(f=(d=f)&&d[c]===b?u:c,c=!1);null!=f&&(f=e.createCallback(f,d));return a(b,c,f,d)}}function sa(a){var b,c;if(!a||T.call(a)!=Va||(b=a.constructor,Ea(b)&&!(b instanceof
b)))return!1;Cb(a,function(a,b){c=b});return c===u||N.call(a,c)}function Pa(a){return Vb[a]}function qb(a,c,d,k,p,t){var g=a;"boolean"!=typeof c&&null!=c&&(k=d,d=c,c=!1);if("function"==typeof d){d="undefined"==typeof k?d:e.createCallback(d,k,1);g=d(g);if("undefined"!=typeof g)return g;g=a}if(k=xa(g)){var v=T.call(g);if(!h[v])return g;var n=fa(g)}if(!k||!c)return k?n?f(g):Rb({},g):g;k=La[v];switch(v){case pb:case db:return new k(+g);case eb:case Na:return new k(g);case Ia:return k(g.source,U.exec(g))}v=
!p;p||(p=z());t||(t=z());for(var m=p.length;m--;)if(p[m]==a)return t[m];g=n?k(g.length):{};n&&(N.call(a,"index")&&(g.index=a.index),N.call(a,"input")&&(g.input=a.input));p.push(a);t.push(g);(n?Y:ra)(a,function(a,b){g[b]=qb(a,c,d,u,p,t)});v&&(b(p),b(t));return g}function aa(a){var b=[];Cb(a,function(a,c){Ea(a)&&b.push(c)});return b.sort()}function ub(a){for(var b=-1,c=ya(a),f=c.length,d={};++b<f;){var e=c[b];d[a[e]]=e}return d}function pa(a,c,f,d,k,h){var p=f===E;if("function"==typeof f&&!p){f=e.createCallback(f,
d,2);var t=f(a,c);if("undefined"!=typeof t)return!!t}if(a===c)return 0!==a||1/a==1/c;var g=typeof a,v=typeof c;if(a===a&&(!a||"function"!=g&&"object"!=g)&&(!c||"function"!=v&&"object"!=v))return!1;if(null==a||null==c)return a===c;v=T.call(a);g=T.call(c);v==P&&(v=Va);g==P&&(g=Va);if(v!=g)return!1;switch(v){case pb:case db:return+a==+c;case eb:return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case Ia:case Na:return a==Q(c)}g=v==Ma;if(!g){if(N.call(a,"__wrapped__ ")||N.call(c,"__wrapped__"))return pa(a.__wrapped__||
a,c.__wrapped__||c,f,d,k,h);if(v!=Va)return!1;var v=a.constructor,n=c.constructor;if(v!=n&&!(Ea(v)&&v instanceof v&&Ea(n)&&n instanceof n))return!1}n=!k;k||(k=z());h||(h=z());for(v=k.length;v--;)if(k[v]==a)return h[v]==c;var u=0,t=!0;k.push(a);h.push(c);if(g){v=a.length;u=c.length;t=u==a.length;if(!t&&!p)return t;for(;u--;)if(g=v,n=c[u],p)for(;g--&&!(t=pa(a[g],n,f,d,k,h)););else if(!(t=pa(a[u],n,f,d,k,h)))break;return t}Cb(c,function(b,c,e){if(N.call(e,c))return u++,t=N.call(a,c)&&pa(a[c],b,f,d,k,
h)});t&&!p&&Cb(a,function(a,b,c){if(N.call(c,b))return t=-1<--u});n&&(b(k),b(h));return t}function Ea(a){return"function"==typeof a}function xa(a){return!(!a||!X[typeof a])}function wb(a){return"number"==typeof a||T.call(a)==eb}function hb(a){return"string"==typeof a||T.call(a)==Na}function Hb(a,c,f){var d=arguments,k=0,h=2;if(!xa(a))return a;if(f===E)var p=d[3],t=d[4],g=d[5];else{var v=!0,t=z(),g=z();"number"!=typeof f&&(h=d.length);3<h&&"function"==typeof d[h-2]?p=e.createCallback(d[--h-1],d[h--],
2):2<h&&"function"==typeof d[h-1]&&(p=d[--h])}for(;++k<h;)(fa(d[k])?Y:ra)(d[k],function(b,c){var f,d,e=b,k=a[c];if(b&&((d=fa(b))||$b(b))){for(e=t.length;e--;)if(f=t[e]==b){k=g[e];break}if(!f){var h;p&&(e=p(k,b),h="undefined"!=typeof e)&&(k=e);h||(k=d?fa(k)?k:[]:$b(k)?k:{});t.push(b);g.push(k);h||(k=Hb(k,b,E,p,t,g))}}else p&&(e=p(k,b),"undefined"==typeof e&&(e=b)),"undefined"!=typeof e&&(k=e);a[c]=k});v&&(b(t),b(g));return a}function rb(a){for(var b=-1,c=ya(a),f=c.length,d=ba(f);++b<f;)d[b]=a[c[b]];
return d}function Ib(a,b,c){var f=-1,d=J(),e=a?a.length:0,k=!1;c=(0>c?ea(0,e+c):c)||0;e&&"number"==typeof e?k=-1<(hb(a)?a.indexOf(b,c):d(a,b,c)):ra(a,function(a){if(++f>=c)return!(k=a===b)});return k}function Ra(a,b,c){var f=!0;b=e.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d&&(f=!!b(a[c],c,a)););else ra(a,function(a,c,d){return f=!!b(a,c,d)});return f}function $a(a,b,c){var f=[];b=e.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d;){var k=
a[c];b(k,c,a)&&f.push(k)}else ra(a,function(a,c,d){b(a,c,d)&&f.push(a)});return f}function ib(a,b,c){b=e.createCallback(b,c);c=-1;var f=a?a.length:0;if("number"==typeof f)for(;++c<f;){var d=a[c];if(b(d,c,a))return d}else{var k;ra(a,function(a,c,f){if(b(a,c,f))return k=a,!1});return k}}function Y(a,b,c){var f=-1,d=a?a.length:0;b=b&&"undefined"==typeof c?b:e.createCallback(b,c);if("number"==typeof d)for(;++f<d&&!1!==b(a[f],f,a););else ra(a,b);return a}function xb(a,b,c){var f=-1,d=a?a.length:0;b=e.createCallback(b,
c);if("number"==typeof d)for(var k=ba(d);++f<d;)k[f]=b(a[f],f,a);else k=[],ra(a,function(a,c,d){k[++f]=b(a,c,d)});return k}function yb(a,b,c){var f=-Infinity,d=f;if(!b&&fa(a)){c=-1;for(var k=a.length;++c<k;){var h=a[c];h>d&&(d=h)}}else b=!b&&hb(a)?m:e.createCallback(b,c),Y(a,function(a,c,e){c=b(a,c,e);c>f&&(f=c,d=a)});return d}function zb(a,b){var c=-1,f=a?a.length:0;if("number"==typeof f)for(var d=ba(f);++c<f;)d[c]=a[c][b];return d||xb(a,b)}function jb(a,b,c,f){if(!a)return c;var d=3>arguments.length;
b=e.createCallback(b,f,4);var k=-1,h=a.length;if("number"==typeof h)for(d&&(c=a[++k]);++k<h;)c=b(c,a[k],k,a);else ra(a,function(a,f,e){c=d?(d=!1,a):b(c,a,f,e)});return c}function Ab(a,b,c,f){var d=a?a.length:0,k=3>arguments.length;if("number"!=typeof d)var h=ya(a),d=h.length;b=e.createCallback(b,f,4);Y(a,function(f,e,p){e=h?h[--d]:--d;c=k?(k=!1,a[e]):b(c,a[e],e,p)});return c}function Jb(a,b,c){var f;b=e.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d&&!(f=b(a[c],c,a)););
else ra(a,function(a,c,d){return!(f=b(a,c,d))});return!!f}function da(a){var b=-1,f=J(),d=a?a.length:0,e=wa.apply(M,O.call(arguments,1)),k=[],h=d>=s&&f===q;if(h){var p=r(e);p?(f=g,e=p):h=!1}for(;++b<d;)p=a[b],0>f(e,p)&&k.push(p);h&&c(e);return k}function ob(a,b,c){if(a){var d=0,k=a.length;if("number"!=typeof b&&null!=b){var h=-1;for(b=e.createCallback(b,c);++h<k&&b(a[h],h,a);)d++}else if(d=b,null==d||c)return a[0];return f(a,0,t(ea(0,d),k))}}function sb(a,b,c){if("number"==typeof c){var f=a?a.length:
0;c=0>c?ea(0,f+c):c||0}else if(c)return c=Ba(a,b),a[c]===b?c:-1;return a?q(a,b,c):-1}function Kb(a,b,c){if("number"!=typeof b&&null!=b){var d=0,k=-1,h=a?a.length:0;for(b=e.createCallback(b,c);++k<h&&b(a[k],k,a);)d++}else d=null==b||c?1:ea(0,b);return f(a,d)}function Ba(a,b,c,f){var d=0,k=a?a.length:d;c=c?e.createCallback(c,f,1):qa;for(b=c(b);d<k;)f=d+k>>>1,c(a[f])<b?d=f+1:k=f;return d}function Ob(a){for(var b=-1,c=a?yb(zb(a,"length")):0,f=ba(0>c?0:c);++b<c;)f[b]=zb(a,b);return f}function ab(a,b){for(var c=
-1,f=a?a.length:0,d={};++c<f;){var e=a[c];b?d[e]=b[c]:d[e[0]]=e[1]}return d}function kb(a,b){return tb.fastBind||Sa&&2<arguments.length?Sa.call.apply(Sa,arguments):w(a,b,O.call(arguments,2))}function Ja(a,b,c){function f(){Ya(n);Ya(u);t=0;n=u=null}function d(){var b=m&&(!q||1<t);f();b&&(!1!==v&&(g=new lb),h=a.apply(p,k))}function e(){f();if(m||v!==b)g=new lb,h=a.apply(p,k)}var k,h,p,t=0,g=0,v=!1,n=null,u=null,m=!0;b=ea(0,b||0);if(!0===c)var q=!0,m=!1;else xa(c)&&(q=c.leading,v="maxWait"in c&&ea(b,
c.maxWait||0),m="trailing"in c?c.trailing:m);return function(){k=arguments;p=this;t++;Ya(u);if(!1===v)q&&2>t&&(h=a.apply(p,k));else{var c=new lb;n||q||(g=c);var f=v-(c-g);0>=f?(Ya(n),n=null,g=c,h=a.apply(p,k)):n||(n=ka(e,f))}b!==v&&(u=ka(d,b));return h}}function Pb(a){var b=O.call(arguments,1);return ka(function(){a.apply(u,b)},1)}function qa(a){return a}function Bb(a){Y(aa(a),function(b){var c=e[b]=a[b];e.prototype[b]=function(){var a=this.__wrapped__,b=[a];Ga.apply(b,arguments);b=c.apply(e,b);return a&&
"object"==typeof a&&a===b?this:new L(b)}})}function Qb(){return this.__wrapped__}d=d?va.defaults(a.Object(),d,va.pick(a,v)):a;var ba=d.Array,cb=d.Boolean,lb=d.Date,Wa=d.Function,Ka=d.Math,ja=d.Number,ca=d.Object,Xa=d.RegExp,Q=d.String,Oa=d.TypeError,M=[],Fa=ca.prototype,Lb=d._,mb=Xa("^"+Q(Fa.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Yb=Ka.ceil,Ya=d.clearTimeout,wa=M.concat,Za=Ka.floor,Mb=Wa.prototype.toString,Ta=mb.test(Ta=ca.getPrototypeOf)&&Ta,N=Fa.hasOwnProperty,
Ga=M.push,Ha=d.setImmediate,ka=d.setTimeout,T=Fa.toString,Sa=mb.test(Sa=T.bind)&&Sa,vb=mb.test(vb=ca.create)&&vb,nb=mb.test(nb=ba.isArray)&&nb,Nb=d.isFinite,bb=d.isNaN,S=mb.test(S=ca.keys)&&S,ea=Ka.max,t=Ka.min,V=d.parseInt,G=Ka.random,O=M.slice,Ka=mb.test(d.attachEvent),Ka=Sa&&!/\n|true/.test(Sa+Ka),La={};La[Ma]=ba;La[pb]=cb;La[db]=lb;La[Da]=Wa;La[Va]=ca;La[eb]=ja;La[Ia]=Xa;La[Na]=Q;L.prototype=e.prototype;var tb=e.support={};tb.fastBind=Sa&&!Ka;e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,
interpolate:oa,variable:"",imports:{_:e}};var fa=nb,cb=function(a){var b,c=[];if(!a||!X[typeof a])return c;for(b in a)N.call(a,b)&&c.push(b);return c},ya=S?function(a){return xa(a)?S(a):[]}:cb,Zb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vb=ub(Zb),Rb=function(a,b,c){var f,d=a,k=d;if(!d)return k;var h=arguments,p=0,t="number"==typeof c?2:h.length;if(3<t&&"function"==typeof h[t-2])var g=e.createCallback(h[--t-1],h[t--],2);else 2<t&&"function"==typeof h[t-1]&&(g=h[--t]);for(;++p<t;)if((d=
h[p])&&X[typeof d])for(var v=-1,n=X[typeof d]&&ya(d),u=n?n.length:0;++v<u;)f=n[v],k[f]=g?g(k[f],d[f]):d[f];return k},Sb=function(a,b,c){var f,d=a,e=d;if(!d)return e;for(var k=arguments,h=0,p="number"==typeof c?2:k.length;++h<p;)if((d=k[h])&&X[typeof d])for(var t=-1,g=X[typeof d]&&ya(d),v=g?g.length:0;++t<v;)f=g[t],"undefined"==typeof e[f]&&(e[f]=d[f]);return e},Cb=function(a,b,c){var f;if(!a||!X[typeof a])return a;b=b&&"undefined"==typeof c?b:e.createCallback(b,c);for(f in a)if(!1===b(a[f],f,a))break;
return a},ra=function(a,b,c){if(!a||!X[typeof a])return a;b=b&&"undefined"==typeof c?b:e.createCallback(b,c);for(var f=-1,d=X[typeof a]&&ya(a),k=d?d.length:0;++f<k&&(c=d[f],!1!==b(a[c],c,a)););return a},$b=function(a){if(!a||T.call(a)!=Va)return!1;var b=a.valueOf,c="function"==typeof b&&(c=Ta(b))&&Ta(c);return c?a==c||Ta(a)==c:sa(a)},cb=x(function B(a,b,c){for(var f=-1,d=a?a.length:0,e=[];++f<d;){var k=a[f];c&&(k=c(k,f,a));fa(k)?Ga.apply(e,b?k:B(k)):e.push(k)}return e}),Db=x(function(a,f,d){var e=
-1,k=J(),h=a?a.length:0,p=[],t=!f&&h>=s&&k===q,v=d||t?z():p;if(t){var n=r(v);n?(k=g,v=n):(t=!1,v=d?v:(b(v),p))}for(;++e<h;){var n=a[e],u=d?d(n,e,a):n;if(f?!e||v[v.length-1]!==u:0>k(v,u))(d||t)&&v.push(u),p.push(n)}t?(b(v.array),c(v)):d&&b(v);return p});Ka&&(fb&&"function"==typeof Ha)&&(Pb=kb(Ha,d));Ha=8==V(R+"08")?V:function(a,b){return V(hb(a)?a.replace(A,""):a,b||0)};e.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};e.assign=Rb;e.at=function(a){for(var b=
-1,c=wa.apply(M,O.call(arguments,1)),f=c.length,d=ba(f);++b<f;)d[b]=a[c[b]];return d};e.bind=kb;e.bindAll=function(a){for(var b=1<arguments.length?wa.apply(M,O.call(arguments,1)):aa(a),c=-1,f=b.length;++c<f;){var d=b[c];a[d]=kb(a[d],a)}return a};e.bindKey=function(a,b){return w(a,b,O.call(arguments,2),E)};e.compact=function(a){for(var b=-1,c=a?a.length:0,f=[];++b<c;){var d=a[b];d&&f.push(d)}return f};e.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,
b)];return b[0]}};e.countBy=function(a,b,c){var f={};b=e.createCallback(b,c);Y(a,function(a,c,d){c=Q(b(a,c,d));N.call(f,c)?f[c]++:f[c]=1});return f};e.createCallback=function(a,b,c){if(null==a)return qa;var f=typeof a;if("function"!=f){if("object"!=f)return function(b){return b[a]};var d=ya(a);return function(b){for(var c=d.length,f=!1;c--&&(f=pa(b[d[c]],a[d[c]],E)););return f}}return"undefined"==typeof b||ha&&!ha.test(Mb.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,f){return a.call(b,
c,f)}:4===c?function(c,f,d,e){return a.call(b,c,f,d,e)}:function(c,f,d){return a.call(b,c,f,d)}};e.debounce=Ja;e.defaults=Sb;e.defer=Pb;e.delay=function(a,b){var c=O.call(arguments,2);return ka(function(){a.apply(u,c)},b)};e.difference=da;e.filter=$a;e.flatten=cb;e.forEach=Y;e.forIn=Cb;e.forOwn=ra;e.functions=aa;e.groupBy=function(a,b,c){var f={};b=e.createCallback(b,c);Y(a,function(a,c,d){c=Q(b(a,c,d));(N.call(f,c)?f[c]:f[c]=[]).push(a)});return f};e.initial=function(a,b,c){if(!a)return[];var d=
0,k=a.length;if("number"!=typeof b&&null!=b){var h=k;for(b=e.createCallback(b,c);h--&&b(a[h],h,a);)d++}else d=null==b||c?1:b||d;return f(a,0,t(ea(0,k-d),k))};e.intersection=function(a){for(var f=arguments,d=f.length,e=-1,k=z(),h=-1,p=J(),t=a?a.length:0,v=[],n=z();++e<d;){var u=f[e];k[e]=p===q&&(u?u.length:0)>=s&&r(e?f[e]:n)}a:for(;++h<t;){var m=k[0],u=a[h];if(0>(m?g(m,u):p(n,u))){e=d;for((m||n).push(u);--e;)if(m=k[e],0>(m?g(m,u):p(f[e],u)))continue a;v.push(u)}}for(;d--;)(m=k[d])&&c(m);b(k);b(n);
return v};e.invert=ub;e.invoke=function(a,b){var c=O.call(arguments,2),f=-1,d="function"==typeof b,e=a?a.length:0,k=ba("number"==typeof e?e:0);Y(a,function(a){k[++f]=(d?b:a[b]).apply(a,c)});return k};e.keys=ya;e.map=xb;e.max=yb;e.memoize=function(a,b){function c(){var f=c.cache,d=H+(b?b.apply(this,arguments):arguments[0]);return N.call(f,d)?f[d]:f[d]=a.apply(this,arguments)}c.cache={};return c};e.merge=Hb;e.min=function(a,b,c){var f=Infinity,d=f;if(!b&&fa(a)){c=-1;for(var k=a.length;++c<k;){var h=
a[c];h<d&&(d=h)}}else b=!b&&hb(a)?m:e.createCallback(b,c),Y(a,function(a,c,e){c=b(a,c,e);c<f&&(f=c,d=a)});return d};e.omit=function(a,b,c){var f=J(),d="function"==typeof b,k={};if(d)b=e.createCallback(b,c);else var h=wa.apply(M,O.call(arguments,1));Cb(a,function(a,c,e){if(d?!b(a,c,e):0>f(h,c))k[c]=a});return k};e.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};e.pairs=function(a){for(var b=-1,c=ya(a),f=c.length,d=ba(f);++b<f;){var e=c[b];d[b]=
[e,a[e]]}return d};e.partial=function(a){return w(a,O.call(arguments,1))};e.partialRight=function(a){return w(a,O.call(arguments,1),null,E)};e.pick=function(a,b,c){var f={};if("function"!=typeof b)for(var d=-1,k=wa.apply(M,O.call(arguments,1)),h=xa(a)?k.length:0;++d<h;){var p=k[d];p in a&&(f[p]=a[p])}else b=e.createCallback(b,c),Cb(a,function(a,c,d){b(a,c,d)&&(f[c]=a)});return f};e.pluck=zb;e.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var f=-1;b=ea(0,Yb((b-a)/c));for(var d=ba(b);++f<
b;)d[f]=a,a+=c;return d};e.reject=function(a,b,c){b=e.createCallback(b,c);return $a(a,function(a,c,f){return!b(a,c,f)})};e.rest=Kb;e.shuffle=function(a){var b=-1,c=a?a.length:0,f=ba("number"==typeof c?c:0);Y(a,function(a){var c=Za(G()*(++b+1));f[b]=f[c];f[c]=a});return f};e.sortBy=function(a,b,f){var d=-1,k=a?a.length:0,h=ba("number"==typeof k?k:0);b=e.createCallback(b,f);Y(a,function(a,c,f){var e=h[++d]=l();e.criteria=b(a,c,f);e.index=d;e.value=a});k=h.length;for(h.sort(y);k--;)a=h[k],h[k]=a.value,
c(a);return h};e.tap=function(a,b){b(a);return a};e.throttle=function(a,b,f){var d=!0,e=!0;!1===f?d=!1:xa(f)&&(d="leading"in f?f.leading:d,e="trailing"in f?f.trailing:e);f=l();f.leading=d;f.maxWait=b;f.trailing=e;a=Ja(a,b,f);c(f);return a};e.times=function(a,b,c){a=-1<(a=+a)?a:0;var f=-1,d=ba(a);for(b=e.createCallback(b,c,1);++f<a;)d[f]=b(f);return d};e.toArray=function(a){return a&&"number"==typeof a.length?f(a):rb(a)};e.transform=function(a,b,c,f){var d=fa(a);b=e.createCallback(b,f,4);null==c&&
(d?c=[]:(f=(f=a&&a.constructor)&&f.prototype,c=xa(f)?vb(f):{}));(d?Y:ra)(a,function(a,f,d){return b(c,a,f,d)});return c};e.union=function(a){fa(a)||(arguments[0]=a?O.call(a):M);return Db(wa.apply(M,arguments))};e.uniq=Db;e.unzip=Ob;e.values=rb;e.where=$a;e.without=function(a){return da(a,O.call(arguments,1))};e.wrap=function(a,b){return function(){var c=[a];Ga.apply(c,arguments);return b.apply(this,c)}};e.zip=function(a){return a?Ob(arguments):[]};e.zipObject=ab;e.collect=xb;e.drop=Kb;e.each=Y;e.extend=
Rb;e.methods=aa;e.object=ab;e.select=$a;e.tail=Kb;e.unique=Db;Bb(e);e.chain=e;e.prototype.chain=function(){return this};e.clone=qb;e.cloneDeep=function(a,b,c){return qb(a,!0,b,c)};e.contains=Ib;e.escape=function(a){return null==a?"":Q(a).replace(K,na)};e.every=Ra;e.find=ib;e.findIndex=function(a,b,c){var f=-1,d=a?a.length:0;for(b=e.createCallback(b,c);++f<d;)if(b(a[f],f,a))return f;return-1};e.findKey=function(a,b,c){var f;b=e.createCallback(b,c);ra(a,function(a,c,d){if(b(a,c,d))return f=c,!1});return f};
e.has=function(a,b){return a?N.call(a,b):!1};e.identity=qa;e.indexOf=sb;e.isArguments=function(a){return T.call(a)==P};e.isArray=fa;e.isBoolean=function(a){return!0===a||!1===a||T.call(a)==pb};e.isDate=function(a){return a?"object"==typeof a&&T.call(a)==db:!1};e.isElement=function(a){return a?1===a.nodeType:!1};e.isEmpty=function(a){var b=!0;if(!a)return b;var c=T.call(a),f=a.length;if(c==Ma||(c==Na||c==P)||c==Va&&"number"==typeof f&&Ea(a.splice))return!f;ra(a,function(){return b=!1});return b};e.isEqual=
pa;e.isFinite=function(a){return Nb(a)&&!bb(parseFloat(a))};e.isFunction=Ea;e.isNaN=function(a){return wb(a)&&a!=+a};e.isNull=function(a){return null===a};e.isNumber=wb;e.isObject=xa;e.isPlainObject=$b;e.isRegExp=function(a){return a?"object"==typeof a&&T.call(a)==Ia:!1};e.isString=hb;e.isUndefined=function(a){return"undefined"==typeof a};e.lastIndexOf=function(a,b,c){var f=a?a.length:0;for("number"==typeof c&&(f=(0>c?ea(0,f+c):t(c,f-1))+1);f--;)if(a[f]===b)return f;return-1};e.mixin=Bb;e.noConflict=
function(){d._=Lb;return this};e.parseInt=Ha;e.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b?(b=a,a=0):b=+b||0;var c=G();return a%1||b%1?a+t(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+Za(c*(b-a+1))};e.reduce=jb;e.reduceRight=Ab;e.result=function(a,b){var c=a?a[b]:u;return Ea(c)?a[b]():c};e.runInContext=k;e.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:ya(a).length};e.some=Jb;e.sortedIndex=Ba;e.template=function(a,b,c){var f=e.templateSettings;a||(a="");c=Sb({},
c,f);var d=Sb({},c.imports,f.imports),f=ya(d),d=rb(d),k,h=0,t=c.interpolate||F,g="__p += '",t=Xa((c.escape||F).source+"|"+t.source+"|"+(t===oa?Ca:F).source+"|"+(c.evaluate||F).source+"|$","g");a.replace(t,function(b,c,f,d,e,t){f||(f=d);g+=a.slice(h,t).replace(p,n);c&&(g+="' +\n__e("+c+") +\n'");e&&(k=!0,g+="';\n"+e+";\n__p += '");f&&(g+="' +\n((__t = ("+f+")) == null ? '' : __t) +\n'");h=t+b.length;return b});var g=g+"';\n",v=t=c.variable;v||(t="obj",g="with ("+t+") {\n"+g+"\n}\n");g=(k?g.replace(ta,
""):g).replace(ua,"$1").replace(I,"$1;");g="function("+t+") {\n"+(v?"":t+" || ("+t+" = {});\n")+"var __t, __p = '', __e = _.escape"+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+g+"return __p\n}";c="\n/*\n//@ sourceURL="+(c.sourceURL||"/lodash/template/source["+ia++ +"]")+"\n*/";try{var m=Wa(f,"return "+g+c).apply(u,d)}catch(q){throw q.source=g,q;}if(b)return m(b);m.source=g;return m};e.unescape=function(a){return null==a?"":Q(a).replace(ga,Pa)};
e.uniqueId=function(a){var b=++la;return Q(null==a?"":a)+b};e.all=Ra;e.any=Jb;e.detect=ib;e.findWhere=ib;e.foldl=jb;e.foldr=Ab;e.include=Ib;e.inject=jb;ra(e,function(a,b){e.prototype[b]||(e.prototype[b]=function(){var b=[this.__wrapped__];Ga.apply(b,arguments);return a.apply(e,b)})});e.first=ob;e.last=function(a,b,c){if(a){var d=0,k=a.length;if("number"!=typeof b&&null!=b){var h=k;for(b=e.createCallback(b,c);h--&&b(a[h],h,a);)d++}else if(d=b,null==d||c)return a[k-1];return f(a,ea(0,k-d))}};e.take=
ob;e.head=ob;ra(e,function(a,b){e.prototype[b]||(e.prototype[b]=function(b,c){var f=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?f:new L(f)})});e.VERSION="1.3.1";e.prototype.toString=function(){return Q(this.__wrapped__)};e.prototype.value=Qb;e.prototype.valueOf=Qb;Y(["join","pop","shift"],function(a){var b=M[a];e.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});Y(["push","reverse","sort","unshift"],function(a){var b=M[a];e.prototype[a]=function(){b.apply(this.__wrapped__,
arguments);return this}});Y(["concat","slice","splice"],function(a){var b=M[a];e.prototype[a]=function(){return new L(b.apply(this.__wrapped__,arguments))}});return e}var u,na=[],L=[],la=0,E={},H=+new Date+"",s=75,J=40,ta=/\b__p \+= '';/g,ua=/\b(__p \+=) '' \+/g,I=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ga=/&(?:amp|lt|gt|quot|#39);/g,Ca=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,U=/\w*$/,oa=/<%=([\s\S]+?)%>/g,ha=(ha=/\bthis\b/)&&ha.test(k)&&ha,R=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
A=RegExp("^["+R+"]*0+(?=.$)"),F=/($^)/,K=/[&<>"']/g,p=/['\n\r\t\u2028\u2029\\]/g,v="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),ia=0,P="[object Arguments]",Ma="[object Array]",pb="[object Boolean]",db="[object Date]",Da="[object Function]",eb="[object Number]",Va="[object Object]",Ia="[object RegExp]",Na="[object String]",h={};h[Da]=!1;h[P]=h[Ma]=h[pb]=h[db]=h[eb]=h[Va]=h[Ia]=h[Na]=!0;var X={"boolean":!1,
"function":!0,object:!0,number:!1,string:!1,undefined:!1},qb={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},sa=X[typeof x]&&x,fb=X[typeof w]&&w&&w.exports==sa&&w,Pa=X[typeof d]&&d;!Pa||Pa.global!==Pa&&Pa.window!==Pa||(a=Pa);var va=k();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=va,define(function(){return va})):sa&&!sa.nodeType?fb?(fb.exports=va)._=va:sa._=va:a._=va})(this)})(self)},{}],39:[function(l,w,x){(function(){var d=l("./media").extend({name:"image",
urlRoot:function(){return this.app.config.baseUrl+"/images"}});w.exports=d})()},{"./media":40}],41:[function(l,w,x){(function(){var d=l("./base"),a=l("./customization"),d=d.extend({name:"user",url:function(){return this.app.config.baseUrl+"/users/auth.json"},parse:function(d,g){d=d.user;try{d.customization=(new a({},{app:this.app})).parse({customization:d.customization})}catch(e){d.customization=null}return d},defaults:{username:"",password:"",token:!1,policy:"",signature:"",path:"",customization:{},
error:null}});w.exports=d})()},{"./base":42,"./customization":43}],44:[function(l,w,x){(function(){var d=l("./media").extend({name:"video",urlRoot:function(){return this.app.config.baseUrl+"/videos"}});w.exports=d})()},{"./media":40}],43:[function(l,w,x){(function(){var d=l("./base").extend({name:"customization",urlRoot:function(){return this.app.config.baseUrl+"/customizations"},parse:function(a,d){a=a.customization;delete a.customization;try{a.config=JSON.parse(a.config)}catch(g){a.config={error:"Could not parse the JSON"}}return a}});
w.exports=d})()},{"./base":42}],10:[function(l,w,x){(function(){w.exports=function(d,a,q){var g=d.event,e,m;e=g.special.debouncedresize={setup:function(){d(this).on("resize",e.handler)},teardown:function(){d(this).off("resize",e.handler)},handler:function(a,d){var q=this,b=arguments,c=function(){a.type="debouncedresize";g.dispatch.apply(q,b)};m&&clearTimeout(m);d?c():m=setTimeout(c,e.threshold)},threshold:150};var y="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";d.fn.imagesLoaded=
function(a){function e(){var f=d(m),g=d(r);c&&(r.length?c.reject(k,f,g):c.resolve(k));d.isFunction(a)&&a.call(b,k,f,g)}function g(a,b){a.src!==y&&-1===d.inArray(a,u)&&(u.push(a),b?r.push(a):m.push(a),d.data(a,"imagesLoaded",{isBroken:b,src:a.src}),f&&c.notifyWith(d(a),[b,k,d(m),d(r)]),k.length===u.length&&(setTimeout(e),k.unbind(".imagesLoaded")))}var b=this,c=d.isFunction(d.Deferred)?d.Deferred():0,f=d.isFunction(c.notify),k=b.find("img").add(b.filter("img")),u=[],m=[],r=[];d.isPlainObject(a)&&d.each(a,
function(b,f){if("callback"===b)a=f;else if(c)c[b](f)});k.length?k.bind("load.imagesLoaded error.imagesLoaded",function(a){g(a.target,"error"===a.type)}).each(function(a,b){var c=b.src,f=d.data(b,"imagesLoaded");if(f&&f.src===c)g(b,f.isBroken);else if(b.complete&&b.naturalWidth!==q)g(b,0===b.naturalWidth||0===b.naturalHeight);else if(b.readyState||b.complete)b.src=y,b.src=c}):e();return c?c.promise(b):b};var r=d(a);d.Elastislide=function(a,e){this.$el=d(e);this._init(a)};d.Elastislide.defaults={orientation:"horizontal",
speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(a,d,e){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}};d.Elastislide.prototype={_init:function(a){var e=l("./modernizr");this.options=d.extend(!0,{},d.Elastislide.defaults,a);var g=this;this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[e.prefixed("transition")];
this.support=e.csstransitions&&e.csstransforms;this.current=this.options.start;this.isSliding=!1;this.$items=this.$el.children("li");this.itemsCount=this.$items.length;if(0===this.itemsCount)return!1;this._validate();this.$items.detach();this.$el.empty();this.$el.append(this.$items);this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>');this.hasTransition=!1;this.hasTransitionTimeout=setTimeout(function(){g._addTransition()},100);this.$el.imagesLoaded(function(){g.$el.show();
g._layout();g._configure();g.hasTransition?(g._removeTransition(),g._slideToItem(g.current),g.$el.on(g.transEndEventName,function(){g.$el.off(g.transEndEventName);g._setWrapperSize();g._addTransition();g._initEvents()})):(clearTimeout(g.hasTransitionTimeout),g._setWrapperSize(),g._initEvents(),g._slideToItem(g.current),setTimeout(function(){g._addTransition()},25));g.options.onReady()})},_validate:function(){0>this.options.speed&&(this.options.speed=500);if(1>this.options.minItems||this.options.minItems>
this.itemsCount)this.options.minItems=1;if(0>this.options.start||this.options.start>this.itemsCount-1)this.options.start=0;"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>');this.$carousel=this.$el.parent();this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var a=this.$items.find("img:first");this.imgSize={width:a.outerWidth(!0),height:a.outerHeight(!0)};
this._setItemsSize();"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height);this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing);this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s");this.hasTransition=!1},_addControls:function(){var a=this;this.$navigation=d('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper);
this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(d){a._slide("prev");return!1});this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(d){a._slide("next");return!1})},_setItemsSize:function(){var a="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:a+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height});
"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<
this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var a=this;r.on("debouncedresize.elastislide",function(){a._setItemsSize();a._configure();a._slideToItem(a.current)});this.$el.on(this.transEndEventName,function(){a._onEndTransition()});if("horizontal"===this.options.orientation)this.$el.on({swipeleft:function(){a._slide("next")},
swiperight:function(){a._slide("prev")}});else this.$el.on({swipeup:function(){a._slide("next")},swipedown:function(){a._slide("prev")}});this.$el.on("click.elastislide","li",function(e){var g=d(this);a.options.onClick(g,g.index(),e)})},_destroy:function(a){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide");r.off(".elastislide");this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper);this.$items.css({width:"auto",
"max-width":"none","max-height":"none"});this.$navigation.remove();this.$wrapper.remove();a&&a.call()},_toggleControls:function(a,d){d?"next"===a?this.$navNext.show():this.$navPrev.show():"next"===a?this.$navNext.hide():this.$navPrev.hide()},_slide:function(a,e){if(this.isSliding)return!1;this.options.onBeforeSlide();this.isSliding=!0;var g=this,b=this.translation||0,c="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),f=this.itemsCount*c,k="horizontal"===
this.options.orientation?this.$carousel.width():this.$carousel.height();if(e===q){c*=this.fitCount;if(0>c)return!1;if("next"===a&&f-(Math.abs(b)+c)<k)c=f-(Math.abs(b)+k),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===a&&0>Math.abs(b)-c)c=Math.abs(b),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var u="next"===a?Math.abs(b)+Math.abs(c):Math.abs(b)-Math.abs(c);0<u?this._toggleControls("prev",!0):this._toggleControls("prev",!1);u<f-k?this._toggleControls("next",
!0):this._toggleControls("next",!1)}e="next"===a?b-c:b+c}else c=Math.abs(e),Math.max(f,k)-c<k&&(e=-(Math.max(f,k)-k)),0<c?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(f,k)-k>c?this._toggleControls("next",!0):this._toggleControls("next",!1);this.translation=e;if(b===e)return this._onEndTransition(),!1;this.support?"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+e+"px)"):this.$el.css("transform","translateY("+e+"px)"):(d.fn.applyStyle=this.hasTransition?
d.fn.animate:d.fn.css,b="horizontal"===this.options.orientation?{left:e}:{top:e},this.$el.stop().applyStyle(b,d.extend(!0,[],{duration:this.options.speed,complete:function(){g._onEndTransition()}})));this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1;this.options.onAfterSlide()},_slideTo:function(a){a=a||this.current;var d=Math.abs(this.translation)||0,e="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),b=d+this.$carousel.width(),
c=Math.abs(a*e);(c+e>b||c<d)&&this._slideToItem(a)},_slideToItem:function(a){a="horizontal"===this.options.orientation?a*this.$items.outerWidth(!0):a*this.$items.outerHeight(!0);this._slide("",-a)},add:function(a){var d=this,e=this.current,b=this.$items.eq(this.current);this.$items=this.$el.children("li");this.itemsCount=this.$items.length;this.current=b.index();this._setItemsSize();this._configure();this._removeTransition();e<this.current?this._slideToItem(this.current):this._slide("next",this.translation);
setTimeout(function(){d._addTransition()},25);a&&a.call()},setCurrent:function(a,d){this.current=a;this._slideTo();d&&d.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(a){this._destroy(a)}};d.fn.elastislide=function(e){var g=d.data(this,"elastislide");if("string"===typeof e){var m=Array.prototype.slice.call(arguments,1);this.each(function(){g?d.isFunction(g[e])&&
"_"!==e.charAt(0)?g[e].apply(g,m):a.console&&a.console.error("no such method '"+e+"' for elastislide self"):a.console&&a.console.error("cannot call methods on elastislide prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){g?g._init():g=d.data(this,"elastislide",new d.Elastislide(e,this))});return g}}})()},{"./modernizr":45}],19:[function(l,w,x){(function(){var d=l("../base"),a=l("../layout/navbar.js"),q=l("../layout/footer.js"),d=d.extend({template:l("../../templates/routes/index.hbs"),
initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var d=new a({app:this.app}),e=new q({app:this.app});d.remove();e.remove();this.appendSubview(d,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});w.exports=d})()},{"../../templates/routes/index.hbs":48,"../base":49,"../layout/footer.js":47,"../layout/navbar.js":46}],21:[function(l,
w,x){(function(){var d=l("../base"),a=l("../layout/navbar.js"),q=l("../layout/footer.js"),d=d.extend({template:l("../../templates/routes/login.hbs"),initialize:function(a){this.app=a.app;this.user=this.app.getUser();this.listenTo(this.user,"change",this.render,this);this.renderOnReady(this.user)},afterRender:function(){var d=new a({app:this.app}),e=new q({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext({user:this.user.attributes})},
events:{submit:"login","click a.app":"handleAppLink","click a.provisionTestAccount":"provisionTestAccount"},login:function(a){a.preventDefault();a.stopPropagation();a=this.$("input[name=username]").val();var d=this.$("input[name=password]").val();this.user.set({username:a,password:d}).save()},provisionTestAccount:function(a){a.preventDefault();a.stopPropagation();this.user.set({id:"test"}).save()}});w.exports=d})()},{"../../templates/routes/login.hbs":50,"../base":49,"../layout/footer.js":47,"../layout/navbar.js":46}],
23:[function(l,w,x){(function(){var d=l("../base"),a=l("../layout/navbar.js"),q=l("../layout/footer.js"),d=d.extend({template:l("../../templates/routes/review.hbs"),initialize:function(a){this.app=a.app;this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.unprocessed,"add change remove sort",this.render,this)},afterRender:function(){var d=new a({app:this.app}),e=new q({app:this.app});d.remove();e.remove();
this.appendSubview(d,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){var a=[];this.unprocessed.forEach(function(d){var m=d.attributes;m.editHref="/media/"+m.type+"/"+d.id+"/edit";a.push(m)});return this.getContext({unprocessed:a,nothingToReview:0===a.length})}});w.exports=d})()},{"../../templates/routes/review.hbs":51,"../base":49,"../layout/footer.js":47,"../layout/navbar.js":46}],25:[function(l,w,x){(function(){var d=l("../../base"),
a=l("../../layout/navbar.js"),q=l("../../layout/footer.js"),d=d.extend({template:l("../../../templates/routes/pages/create.hbs"),events:{submit:"performSave","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.model=this.app.db.createModel("page");this.listenTo(this.model,"invalid",function(a,d){this.app.error(this.model,d)},this)},afterRender:function(){var d;d=new a({app:this.app});var e=new q({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(e,this.$("#footer"));
this.eachSubview(function(a){a.render()});d=this.$("input[name=name]");""==d.val().replace(/]w/,"")&&d.val("").focus()},context:function(){return this.getContext()},performSave:function(a){var d=this;a.preventDefault();var m=this.$("input[name=name]").val();d.model.save({userId:d.app.getUser().id,name:m,priority:d.app.db.fetchCollection("pages").length},{success:function(){d.app.db.fetchCollection("pages").add(d.model);d.app.navigate("page/"+m,{trigger:!0})},error:d.app.error})}});w.exports=d})()},
{"../../../templates/routes/pages/create.hbs":52,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46}],27:[function(l,w,x){(function(){var d=l("../../base"),a=l("../../layout/navbar.js"),q=l("../../layout/footer.js"),g=l("../../routes/media/grid.js"),d=d.extend({template:l("../../../templates/routes/pages/show.hbs"),initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});this.pageName=a.pageName;var d=this.app.db.fetchCollection("pages");
this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);d.once("ready",function(){var g=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});g?this.page.set(g.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var d=new a({app:this.app}),m=new g({app:this.app,pageName:this.pageName}),y=new q({app:this.app});this.appendSubview(d,this.$("#header"));
this.appendSubview(m,this.$("#content"));this.appendSubview(y,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});w.exports=d})()},{"../../../templates/routes/pages/show.hbs":54,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46,"../../routes/media/grid.js":53}],29:[function(l,w,x){(function(){var d=l("../../base"),a=l("../../layout/navbar.js"),q=l("../../layout/footer.js"),d=d.extend({template:l("../../../templates/routes/media/add.hbs"),
events:{"click a.filepicker":"startFilepicker","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var d=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);d.once("ready",function(){var m=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});m?this.page.set(m.attributes):(this.page.set({name:"404"}),
this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var d=new a({app:this.app}),e=new q({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(e,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext({page:this.page.attributes})},startFilepicker:function(a,d){var m=this;a&&(a.preventDefault(),a.stopPropagation());this.page.id?this.page.addMedia(function(a,d){a&&101!==a.code?m.app.error(a):d&&
m.app.setFlash("success",d.length+" files uploaded!")},d):m.app.error("The page hasn't loaded yet, try again in a few seconds")}});w.exports=d})()},{"../../../templates/routes/media/add.hbs":55,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46}],31:[function(l,w,x){(function(){var d=l("../../base"),a=l("../../../helpers/lib/holder.js"),q=l("../../layout/navbar.js"),g=l("../../layout/footer.js"),d=d.extend({template:l("../../../templates/routes/pages/edit.hbs"),events:{submit:"performSave",
"click a.btn-danger":"performDelete","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var d=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);this.listenTo(this.page,"invalid",function(){this.app.error(this.page.validationError)},this);d.once("ready",function(){var g=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});g?this.page.set(g.attributes):
(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)},this)},context:function(){var a=[],d=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(g){a.push(g.templateVars(d))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){var d=this,m=new q({app:d.app}),y=
new g({app:d.app});d.appendSubview(m,d.$("#header"));d.appendSubview(y,d.$("#footer"));d.eachSubview(function(a){a.render()});d.$(".sortable").sortable().bind("sortupdate",function(){d.readSortOrder.apply(d,arguments)});d.$(".switch").bootstrapSwitch();a.run()},performSave:function(a){var d=this;a.preventDefault();a=this.$("input[name=name]").val();var g=this.$("input[name=isPublished]").parent().hasClass("switch-on");this.page.save({userId:d.app.getUser().attributes.id,name:a,isPublished:g},{success:function(){d.app.db.fetchCollection("pages").fetch();
d.app.setFlash("success","Page Saved!")},error:d.app.error})},performDelete:function(a){a.preventDefault();a.stopPropagation();var d=this;if(confirm("Are you sure you want to delete "+d.page.attributes.name+"?"))d.page.destroy({success:function(){d.app.db.fetchCollection("pages").remove(d.page);d.app.navigate("",{trigger:!0})},error:d.app.error});else return!1},readSortOrder:function(a){a.preventDefault();a.stopPropagation();var d=this,g=[],q=[];d.$(".sortable").children().each(function(a,e){var l=
d.page.getMedia().get($(e).attr("data-uuid"));g.push(l);q.push({ID:l.attributes.id,NAME:l.attributes.name,TYPE:l.attributes.type,THUMB:l.attributes.thumbnailS3key})});d.page.getMedia().reset(g);d.page.set("items",q);d.page.save({},{success:function(){d.app.setFlash("success","Page Saved!")},error:d.app.error})}});w.exports=d})()},{"../../../helpers/lib/holder.js":56,"../../../templates/routes/pages/edit.hbs":57,"../../base":49,"../../layout/footer.js":47,"../../layout/navbar.js":46}],45:[function(l,
w,x){(function(){var d=function(a,d,g){function e(a,b){for(var c in a){var f=a[c];if(!~(""+f).indexOf("-")&&z[f]!==g)return"pfx"==b?f:!0}return!1}function m(a,f,d){var k=a.charAt(0).toUpperCase()+a.slice(1),u=(a+" "+b.join(k+" ")+k).split(" ");if("string"===typeof f||"undefined"===typeof f)return e(u,f);u=(a+" "+c.join(k+" ")+k).split(" ");a:{a=u;for(var n in a)if(k=f[a[n]],k!==g){f=!1===d?a[n]:"function"===typeof k?k.bind(d||f):k;break a}f=!1}return f}var l={},r=d.documentElement,n=d.createElement("modernizr"),
z=n.style,C=" -webkit- -moz- -o- -ms- ".split(" "),b=["Webkit","Moz","O","ms"],c=["webkit","moz","o","ms"],n={},f=[],k=f.slice,u,w=function(a,b,c,f){var k,e,g=d.createElement("div"),u=d.body,n=u||d.createElement("body");if(parseInt(c,10))for(;c--;)k=d.createElement("div"),k.id=f?f[c]:"modernizr"+(c+1),g.appendChild(k);c=['&#173;<style id="smodernizr">',a,"</style>"].join("");g.id="modernizr";(u?g:n).innerHTML+=c;n.appendChild(g);u||(n.style.background="",n.style.overflow="hidden",e=r.style.overflow,
r.style.overflow="hidden",r.appendChild(n));a=b(g,a);u?g.parentNode.removeChild(g):(n.parentNode.removeChild(n),r.style.overflow=e);return!!a},L={}.hasOwnProperty,la;la="undefined"!==typeof L&&"undefined"!==typeof L.call?function(a,b){return L.call(a,b)}:function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=k.call(arguments,1),f=function(){if(this instanceof
f){var d=function(){};d.prototype=b.prototype;var d=new d,e=b.apply(d,c.concat(k.call(arguments)));return Object(e)===e?e:d}return b.apply(a,c.concat(k.call(arguments)))};return f});n.touch=function(){var b;"ontouchstart"in a||a.DocumentTouch&&d instanceof DocumentTouch?b=!0:w(["@media (",C.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){b=9===a.offsetTop});return b};n.csstransforms=function(){return!!m("transform")};n.csstransitions=function(){return m("transition")};
for(var E in n)la(n,E)&&(u=E.toLowerCase(),l[u]=n[E](),f.push((l[u]?"":"no-")+u));l.addTest=function(a,b){if("object"==typeof a)for(var c in a)la(a,c)&&l.addTest(c,a[c]);else{a=a.toLowerCase();if(l[a]!==g)return l;b="function"==typeof b?b():b;r.className+=" "+(b?"":"no-")+a;l[a]=b}return l};z.cssText="";n=null;(function(a,b){function c(){var a=p.elements;return"string"==typeof a?a.split(" "):a}function f(a){var b=r[a[q]];b||(b={},A++,a[q]=A,r[A]=b);return b}function d(a,c,k){c||(c=b);if(l)return c.createElement(a);
k||(k=f(c));c=k.cache[a]?k.cache[a].cloneNode():n.test(a)?(k.cache[a]=k.createElem(a)).cloneNode():k.createElem(a);return c.canHaveChildren&&!u.test(a)?k.frag.appendChild(c):c}function k(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag());a.createElement=function(c){return p.shivMethods?d(c,a,b):b.createElem(c)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,
function(a){b.createElem(a);b.frag.createElement(a);return'c("'+a+'")'})+");return n}")(p,b.frag)}function e(a){a||(a=b);var c=f(a);if(p.shivCSS&&!m&&!c.hasCSS){var d,g=a;d=g.createElement("p");g=g.getElementsByTagName("head")[0]||g.documentElement;d.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>";d=g.insertBefore(d.lastChild,g.firstChild);c.hasCSS=!!d}l||k(a,c);return a}var g=a.html5||{},u=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
n=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m,q="_html5shiv",A=0,r={},l;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";m="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var f=b.createDocumentFragment();c="undefined"==typeof f.cloneNode||"undefined"==typeof f.createDocumentFragment||"undefined"==typeof f.createElement}l=c}catch(d){l=m=!0}})();var p={elements:g.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",
shivCSS:!1!==g.shivCSS,supportsUnknownElements:l,shivMethods:!1!==g.shivMethods,type:"default",shivDocument:e,createElement:d,createDocumentFragment:function(a,d){a||(a=b);if(l)return a.createDocumentFragment();d=d||f(a);for(var k=d.frag.cloneNode(),e=0,p=c(),g=p.length;e<g;e++)k.createElement(p[e]);return k}};a.html5=p;e(b)})(this,d);l._version="2.6.2";l._prefixes=C;l._domPrefixes=c;l._cssomPrefixes=b;l.testProp=function(a){return e([a])};l.testAllProps=m;l.testStyles=w;l.prefixed=function(a,b,c){return b?
m(a,b,c):m(a,"pfx")};r.className=r.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+f.join(" "));return l}(this,this.document);(function(a,d,g){function e(a){return"[object Function]"==u.call(a)}function m(a){return"string"==typeof a}function l(){}function r(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function n(){var a=w.shift();L=1;a?a.t?f(function(){("c"==a.t?U.injectCss:U.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),n()):L=0}function z(a,b,c,e,g,u,p){function v(c){if(!P&&r(m.readyState)&&
(l.r=P=1,!L&&n(),m.onload=m.onreadystatechange=null,c)){"img"!=a&&f(function(){H.removeChild(m)},50);for(var d in I[b])I[b].hasOwnProperty(d)&&I[b][d].onload()}}p=p||U.errorTimeout;var m=d.createElement(a),P=0,s=0,l={t:c,s:b,e:g,a:u,x:p};1===I[b]&&(s=1,I[b]=[]);"object"==a?m.data=b:(m.src=b,m.type=a);m.width=m.height="0";m.onerror=m.onload=m.onreadystatechange=function(){v.call(this,s)};w.splice(e,0,l);"img"!=a&&(s||2===I[b]?(H.insertBefore(m,E?null:k),f(v,p)):I[b].push(m))}function C(a,b,c,f,d){return L=
0,b=b||"j",m(a)?z("c"==b?x:s,a,b,this.i++,c,f,d):(w.splice(this.i++,0,a),1==w.length&&n()),this}function b(){var a=U;return a.loader={load:C,i:0},a}var c=d.documentElement,f=a.setTimeout,k=d.getElementsByTagName("script")[0],u={}.toString,w=[],L=0,la="MozAppearance"in c.style,E=la&&!!d.createRange().compareNode,H=E?c:k.parentNode,c=a.opera&&"[object Opera]"==u.call(a.opera),c=!!d.attachEvent&&!c,s=la?"object":c?"script":"img",x=c?"script":s,ta=Array.isArray||function(a){return"[object Array]"==u.call(a)},
ua=[],I={},ga={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},Ca,U;U=function(a){function c(a){a=a.split("!");var b=ua.length,f=a.pop(),d=a.length,f={url:f,origUrl:f,prefixes:a},k,e,p;for(e=0;e<d;e++)p=a[e].split("="),(k=ga[p.shift()])&&(f=k(f,p));for(e=0;e<b;e++)f=ua[e](f);return f}function f(a,d,k,p,u){var n=c(a),m=n.autoCallback;n.url.split(".").pop().split("?").shift();n.bypass||(d&&(d=e(d)?d:d[a]||d[p]||d[a.split("/").pop().split("?")[0]]),n.instead?n.instead(a,d,k,p,u):(I[n.url]?
n.noexec=!0:I[n.url]=1,k.load(n.url,n.forceCSS||!n.forceJS&&"css"==n.url.split(".").pop().split("?").shift()?"c":g,n.noexec,n.attrs,n.timeout),(e(d)||e(m))&&k.load(function(){b();d&&d(n.origUrl,u,p);m&&m(n.origUrl,u,p);I[n.url]=2})))}function d(a,b){function c(a,d){if(a)if(m(a))d||(g=function(){var a=[].slice.call(arguments);u.apply(this,a);n()}),f(a,g,b,0,k);else{if(Object(a)===a)for(A in q=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(A)&&(!d&&!--q&&(e(g)?
g=function(){var a=[].slice.call(arguments);u.apply(this,a);n()}:g[A]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);n()}}(u[A])),f(a[A],g,b,A,k))}else!d&&n()}var k=!!a.test,p=a.load||a.both,g=a.callback||l,u=g,n=a.complete||l,q,A;c(k?a.yep:a.nope,!!p);p&&c(p)}var k,u,p=this.yepnope.loader;if(m(a))f(a,0,p,0);else if(ta(a))for(k=0;k<a.length;k++)u=a[k],m(u)?f(u,0,p,0):ta(u)?U(u):Object(u)===u&&d(u,p);else Object(a)===a&&d(a,p)};U.addPrefix=function(a,b){ga[a]=b};U.addFilter=
function(a){ua.push(a)};U.errorTimeout=1E4;null==d.readyState&&d.addEventListener&&(d.readyState="loading",d.addEventListener("DOMContentLoaded",Ca=function(){d.removeEventListener("DOMContentLoaded",Ca,0);d.readyState="complete"},0));a.yepnope=b();a.yepnope.executeStack=n;a.yepnope.injectJs=function(a,b,c,e,g,u){var p=d.createElement("script"),v,m;e=e||U.errorTimeout;p.src=a;for(m in c)p.setAttribute(m,c[m]);b=u?n:b||l;p.onreadystatechange=p.onload=function(){!v&&r(p.readyState)&&(v=1,b(),p.onload=
p.onreadystatechange=null)};f(function(){v||(v=1,b(1))},e);g?p.onload():k.parentNode.insertBefore(p,k)};a.yepnope.injectCss=function(a,b,c,e,g,u){e=d.createElement("link");var p;b=u?n:b||l;e.href=a;e.rel="stylesheet";e.type="text/css";for(p in c)e.setAttribute(p,c[p]);g||(k.parentNode.insertBefore(e,k),f(b,0))}})(this,document);d.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};w.exports=d})()},{}],56:[function(l,w,x){(function(){var d=d||{};(function(a,d){function g(a){a=a.match(/^(\W)?(.*)/);
a=document["getElement"+(a[1]?"#"==a[1]?"ById":"sByClassName":"sByTagName")](a[2]);var b=[];null!=a&&(a.length?b=a:0==a.length?b=a:b=[a]);return b}function e(a,b){var c={},f;for(f in a)c[f]=a[f];for(var d in b)c[d]=b[d];return c}function m(a,b,f,d){var k=[b.height,b.width].sort(),e=Math.round(k[1]/16);Math.round(k[0]/16);var k=Math.max(f.size,e),e=b.width*d,g=b.height*d,u=f.font?f.font:"sans-serif";c.width=e;c.height=g;a.textAlign="center";a.textBaseline="middle";a.fillStyle=f.background;a.fillRect(0,
0,e,g);a.fillStyle=f.foreground;a.font="bold "+k+"px "+u;b=f.text?f.text:b.width+"x"+b.height;1<a.measureText(b).width/e&&(k=f.size/(a.measureText(b).width/e));a.font="bold "+k*d+"px "+u;a.fillText(b,e/2,g/2,e);return c.toDataURL("image/png")}function l(a,c,d,k){var g=d.dimensions,u=d.theme,n=d.text?decodeURIComponent(d.text):d.text,q=g.width+"x"+g.height,u=n?e(u,{text:n}):u,u=d.font?e(u,{font:d.font}):u,r=1;window.devicePixelRatio&&1<window.devicePixelRatio&&(r=window.devicePixelRatio);if("image"==
a){c.setAttribute("data-src",k);c.setAttribute("alt",n?n:u.text?u.text+" ["+q+"]":q);if(b||!d.auto)c.style.width=g.width+"px",c.style.height=g.height+"px";b?c.style.backgroundColor=u.background:c.setAttribute("src",m(f,g,u,r))}else b||(c.style.backgroundImage="url("+m(f,g,u,r)+")",c.style.backgroundSize=g.width+"px "+g.height+"px")}function r(a,b,c){var f=b.dimensions;c=b.theme;var d=b.text,f=f.width+"x"+f.height;c=d?e(c,{text:d}):c;var g=document.createElement("div");g.style.backgroundColor=c.background;
g.style.color=c.foreground;g.className=a.className+" holderjs-fluid";g.style.width=b.dimensions.width+(0<b.dimensions.width.indexOf("%")?"":"px");g.style.height=b.dimensions.height+(0<b.dimensions.height.indexOf("%")?"":"px");g.id=a.id;a.style.width=0;a.style.height=0;c.text?g.appendChild(document.createTextNode(c.text)):(g.appendChild(document.createTextNode(f)),k.push(g),setTimeout(n,0));a.parentNode.insertBefore(g,a.nextSibling);window.jQuery&&jQuery(function(b){b(a).on("load",function(){a.style.width=
g.style.width;a.style.height=g.style.height;b(a).show();b(g).remove()})})}function n(){for(i in k)if(k.hasOwnProperty(i)){var a=k[i],b=a.firstChild;a.style.lineHeight=a.offsetHeight+"px";b.data=a.offsetWidth+"x"+a.offsetHeight}}function z(b,c){var f={theme:u.themes.gray},d=!1;sl=b.length;for(j=0;j<sl;j++){var k=b[j];a.flags.dimensions.match(k)?(d=!0,f.dimensions=a.flags.dimensions.output(k)):a.flags.fluid.match(k)?(d=!0,f.dimensions=a.flags.fluid.output(k),f.fluid=!0):a.flags.colors.match(k)?f.theme=
a.flags.colors.output(k):c.themes[k]?f.theme=c.themes[k]:a.flags.text.match(k)?f.text=a.flags.text.output(k):a.flags.font.match(k)?f.font=a.flags.font.output(k):a.flags.auto.match(k)&&(f.auto=!0)}return d?f:!1}var C=!1,b=!1,c=document.createElement("canvas");document.getElementsByClassName||(document.getElementsByClassName=function(a){var b=document,c,f=[];if(b.querySelectorAll)return b.querySelectorAll("."+a);if(b.evaluate)for(b=b.evaluate(".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",b,
null,0,null);c=b.iterateNext();)f.push(c);else for(b=b.getElementsByTagName("*"),a=RegExp("(^|\\s)"+a+"(\\s|$)"),c=0;c<b.length;c++)a.test(b[c].className)&&f.push(b[c]);return f});window.getComputedStyle||(window.getComputedStyle=function(a,b){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(a,b,c){return c.toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this});Object.prototype.hasOwnProperty||
(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])});if(c.getContext)if(0>c.toDataURL("image/png").indexOf("data:image/png"))b=!0;else var f=c.getContext("2d");else b=!0;var k=[],u={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},
stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};a.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(a){a=this.regex.exec(a);return{width:+a[1],height:+a[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(a){a=this.regex.exec(a);return{width:a[1],height:a[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(a){a=this.regex.exec(a);return{size:u.themes.gray.size,foreground:"#"+a[2],background:"#"+a[1]}}},
text:{regex:/text\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},font:{regex:/font\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},auto:{regex:/^auto$/}};for(var w in a.flags)a.flags.hasOwnProperty(w)&&(a.flags[w].match=function(a){return a.match(this.regex)});a.add_theme=function(b,c){null!=b&&null!=c&&(u.themes[b]=c);return a};a.add_image=function(b,c){var f=g(c);if(f.length)for(var d=0,k=f.length;d<k;d++){var e=document.createElement("img");e.setAttribute("data-src",b);f[d].appendChild(e)}return a};
a.run=function(b){b=e(u,b);var c=[];imageNodes=b.images instanceof window.NodeList?b.images:b.images instanceof window.Node?[b.images]:g(b.images);bgnodes=b.elements instanceof window.NodeList?b.bgnodes:b.bgnodes instanceof window.Node?[b.bgnodes]:g(b.bgnodes);C=!0;k=0;for(d=imageNodes.length;k<d;k++)c.push(imageNodes[k]);var f=document.getElementById("holderjs-style");f||(f=document.createElement("style"),f.setAttribute("id","holderjs-style"),f.type="text/css",document.getElementsByTagName("head")[0].appendChild(f));
f.styleSheet?f.styleSheet+=b.stylesheet:f.textContent+=b.stylesheet;for(var f=RegExp(b.domain+'/(.*?)"?\\)'),d=bgnodes.length,k=0;k<d;k++){var n=window.getComputedStyle(bgnodes[k],null).getPropertyValue("background-image"),m=n.match(f);m&&(m=z(m[1].split("/"),b))&&l("background",bgnodes[k],m,n)}d=c.length;for(k=0;k<d;k++)n=c[k].getAttribute("src")||c[k].getAttribute("data-src"),null!=n&&0<=n.indexOf(b.domain)&&(m=z(n.substr(n.lastIndexOf(b.domain)+b.domain.length+1).split("/"),b))&&(m.fluid?r(c[k],
m,n):l("image",c[k],m,n));return a};(function(a,b){var c=!1,f=!0,d=a.document,k=d.documentElement,e=d.addEventListener?"addEventListener":"attachEvent",g=d.addEventListener?"removeEventListener":"detachEvent",u=d.addEventListener?"":"on",n=function(f){"readystatechange"==f.type&&"complete"!=d.readyState||(("load"==f.type?a:d)[g](u+f.type,n,!1),c||!(c=!0)||b.call(a,null))},m=function(){try{k.doScroll("left")}catch(a){setTimeout(m,50);return}n("poll")};if("complete"==d.readyState)b.call(a,"lazy");else{if(d.createEventObject&&
k.doScroll){try{f=!a.frameElement}catch(q){}f&&m()}d[e](u+"DOMContentLoaded",n,!1);d[e](u+"readystatechange",n,!1);a[e](u+"load",n,!1)}})(d,function(){window.addEventListener?(window.addEventListener("resize",n,!1),window.addEventListener("orientationchange",n,!1)):window.attachEvent("onresize",n);C||a.run()});"function"===typeof define&&define.amd&&define("Holder",[],function(){return a})})(d,window);w.exports=d})()},{}],36:[function(l,w,x){(function(){var d=l("backbone"),a=l("lodash"),q=d.sync;
d.sync=function(d,e,m){m=m||{};m.attrs=m.attrs||a.clone(e.attributes);m.timeout=m.timeout||2E4;m.parse=m.parse||!0;e.urlRoot&&e.methodUrl?m.url=e.methodUrl(d.toLowerCase()):"function"===typeof e.url?m.url=e.url():e.url&&(m.url=e.url);m.crossDomain||(m.crossDomain=!0);m.xhrFields||(m.xhrFields={withCredentials:!0});if(m.success){var l=m.success;m.success=function(a,n,q){if(a[e.name]&&a[e.name].errors)if(m.error){var C=function(){m.error({responseText:JSON.stringify({errors:a[e.name].errors})})};"read"!==
d?e.fetch({success:function(){C()},error:function(){C()}}):C()}else return l(a,n,q);else return l(a,n,q)}}return q(d,e,m)};w.exports=d})()},{backbone:58,lodash:38}],37:[function(l,w,x){(function(){l("path");var d=l("lodash"),a={user:l("../models/user"),image:l("../models/image"),video:l("../models/video"),page:l("../models/page"),customization:l("../models/customization")},q={pagemedia:l("../collections/pageMedia"),pages:l("../collections/pages"),unprocesseduploads:l("../collections/unprocessedUploads")};
w.exports=function(g){var e=this;this.cache={};this.createModel=function(e,q){e=e.toLowerCase();q=q||{};if(d.find(a,function(a,d){return d===e}))return new a[e](q,{app:g});throw Error('Cannot find Model "'+e+'"');};this.createCollection=function(a,e){a=a.toLowerCase();e=e||{};e=d.clone(e);e.app=g;if(d.find(q,function(d,e){return e===a}))return new q[a]([],e);throw Error('Cannot find Collection "'+a+'"');};this.fetchModel=function(a,d){a=a.toLowerCase();var g="uuid://models/"+a+(d?"/"+d:""),n;e.cache[g]?
(n=e.cache[g],setTimeout(function(){n.isFetched&&n.trigger("ready")},1)):(n=this.createModel(a),e.cache[g]=n,d&&n.set({id:d}),setTimeout(function(){n.fetch({success:function(){n.isFetched=!0;n.trigger("ready")}})},1));return n};this.fetchCollection=function(a,g){a=a.toLowerCase();var q=d.filter(g,function(a,d){return"app"!=d}),q="uuid://collections/"+a+"/"+JSON.stringify(q),n;e.cache[q]?(n=e.cache[q],setTimeout(function(){n.isFetched&&n.trigger("ready")},1)):(n=this.createCollection(a,g),e.cache[q]=
n,setTimeout(function(){n.fetch({success:function(){n.isFetched=!0;n.trigger("ready")}})},1));return n}}})()},{"../collections/pageMedia":60,"../collections/pages":61,"../collections/unprocessedUploads":62,"../models/customization":43,"../models/image":39,"../models/page":59,"../models/user":41,"../models/video":44,lodash:38,path:4}],42:[function(l,w,x){(function(){var d=l("../helpers/BackboneLoader.js").Model.extend({initialize:function(a,d){this.set(a);this.app=d.app||{}},methodUrl:function(a){var d;
"function"===typeof this.urlRoot?d=this.urlRoot():this.urlRoot&&(d=this.urlRoot);return"delete"==a||"update"==a||"read"==a?d+"/"+this.attributes.id+".json":"create"==a?d+".json":!1}});w.exports=d})()},{"../helpers/BackboneLoader.js":36}],63:[function(l,w,x){(function(){var d=l("../helpers/BackboneLoader.js").Collection.extend({initialize:function(a,d){this.set(a);this.app=d.app||{}}});w.exports=d})()},{"../helpers/BackboneLoader.js":36}],47:[function(l,w,x){(function(){var d=l("../base").extend({template:l("../../templates/layout/footer.hbs"),
initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),"change",this.render,this);this.renderOnReady(this.app.getUser())},context:function(){return this.getContext({copyrightYear:(new Date).getFullYear()})}});w.exports=d})()},{"../../templates/layout/footer.hbs":64,"../base":49}],53:[function(l,w,x){(function(){var d=l("../../base"),a=l("../../../helpers/lib/holder.js"),d=d.extend({template:l("../../../templates/routes/media/grid.hbs"),initialize:function(a){this.app=a.app;this.page=
this.app.db.createModel("page").set({name:"Loading..."});var d=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);d.once("ready",function(){var e=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});e?this.page.set(e.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.media.fetch();this.listenTo(this.media,"change add remove sort",this.render,this);
this.media.once("ready",this.render,this)},this)},context:function(){var a=[],d=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(e){a.push(e.templateVars(d))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){a.run()}});w.exports=d})()},{"../../../helpers/lib/holder.js":56,"../../../templates/routes/media/grid.hbs":65,"../../base":49}],66:[function(l,w,x){(function(){var d=l("../../base").extend({template:l("../../../templates/routes/media/thumb.hbs"),
initialize:function(a){this.app=a.app;this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.app,"iframeResize",this.resizeIframe,this);this.listenTo(this.app,"thumbnailCaptured",this.saveThumbnail,this);this.listenTo(this.app,"captureThumbnail",this.captureThumbnail,this);this.renderOnReady(this.media)},context:function(){var a=this.media.templateVars(),d={media:{sources:[{src:a.url,type:this.app.util.mime(a.mimeType)}],attributes:{id:"media_"+
this.app.util.uuid(10),resize:!0}},dimensions:this.app.config.thumbnailDims,domain:document.domain+(80===window.location.port?"":":"+window.location.port)};return this.getContext({media:a,thumberUrl:a.s3key?this.app.config.thumberUrl+"#"+encodeURIComponent(JSON.stringify(d)):null})},afterRender:function(){this.app.messenger.targetFrame=this.$el.find("iframe")[0]},resizeIframe:function(a){this.$el.find("iframe").attr("height",parseInt(a)+60)},saveThumbnail:function(a){this.app.setFlash("info","Please Wait, Saving Image...")},
captureThumbnail:function(){var a=this;a.app.messenger.send("capture",[],function(d){a.media.useThumbnail(d.substring(d.indexOf(",")+1))})}});w.exports=d})()},{"../../../templates/routes/media/thumb.hbs":67,"../../base":49}],58:[function(l,w,x){(function(){(function(){var d=this,a=d.Backbone,q=[],g=q.push,e=q.slice,m=q.splice,y;y="undefined"!==typeof x?x:d.Backbone={};y.VERSION="1.0.0";var r=d._;r||"undefined"===typeof l||(r=l("underscore"));y.$=d.jQuery||d.Zepto||d.ender||d.$;y.noConflict=function(){d.Backbone=
a;return this};y.emulateHTTP=!1;y.emulateJSON=!1;var n=y.Events={on:function(a,b,c){if(!C(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!C(this,"once",a,[b,c])||!b)return this;var f=this,d=r.once(function(){f.off(a,d);b.apply(this,arguments)});d._callback=b;return this.on(a,d,c)},off:function(a,b,c){var f,d,k,e,g,u,n,m;if(!this._events||!C(this,"off",a,[b,c]))return this;
if(!a&&!b&&!c)return this._events={},this;e=a?[a]:r.keys(this._events);g=0;for(u=e.length;g<u;g++)if(a=e[g],k=this._events[a]){this._events[a]=f=[];if(b||c)for(n=0,m=k.length;n<m;n++)d=k[n],(b&&b!==d.callback&&b!==d.callback._callback||c&&c!==d.context)&&f.push(d);f.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var c=e.call(arguments,1);if(!C(this,"trigger",a,c))return this;var f=this._events[a],d=this._events.all;f&&b(f,c);d&&b(d,arguments);return this},
stopListening:function(a,b,c){var f=this._listeners;if(!f)return this;var d=!b&&!c;"object"===typeof b&&(c=this);a&&((f={})[a._listenerId]=a);for(var k in f)f[k].off(b,c,this),d&&delete this._listeners[k];return this}},z=/\s+/,C=function(a,b,c,f){if(!c)return!0;if("object"===typeof c){for(var d in c)a[b].apply(a,[d,c[d]].concat(f));return!1}if(z.test(c)){c=c.split(z);d=0;for(var k=c.length;d<k;d++)a[b].apply(a,[c[d]].concat(f));return!1}return!0},b=function(a,b){var c,f=-1,d=a.length,k=b[0],e=b[1],
g=b[2];switch(b.length){case 0:for(;++f<d;)(c=a[f]).callback.call(c.ctx);break;case 1:for(;++f<d;)(c=a[f]).callback.call(c.ctx,k);break;case 2:for(;++f<d;)(c=a[f]).callback.call(c.ctx,k,e);break;case 3:for(;++f<d;)(c=a[f]).callback.call(c.ctx,k,e,g);break;default:for(;++f<d;)(c=a[f]).callback.apply(c.ctx,b)}};r.each({listenTo:"on",listenToOnce:"once"},function(a,b){n[b]=function(b,c,f){var d=this._listeners||(this._listeners={}),k=b._listenerId||(b._listenerId=r.uniqueId("l"));d[k]=b;"object"===typeof c&&
(f=this);b[a](c,f,this);return this}});n.bind=n.on;n.unbind=n.off;r.extend(y,n);var c=y.Model=function(a,b){var c,d=a||{};b||(b={});this.cid=r.uniqueId("c");this.attributes={};r.extend(this,r.pick(b,f));b.parse&&(d=this.parse(d,b)||{});if(c=r.result(this,"defaults"))d=r.defaults({},d,c);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];r.extend(c.prototype,n,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return r.clone(this.attributes)},
sync:function(){return y.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return r.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var f,d,k,e,g,u,n;if(null==a)return this;"object"===typeof a?(d=a,c=b):(d={})[a]=b;c||(c={});if(!this._validate(d,c))return!1;k=c.unset;e=c.silent;a=[];g=this._changing;this._changing=!0;g||(this._previousAttributes=r.clone(this.attributes),this.changed={});n=this.attributes;u=this._previousAttributes;
this.idAttribute in d&&(this.id=d[this.idAttribute]);for(f in d)b=d[f],r.isEqual(n[f],b)||a.push(f),r.isEqual(u[f],b)?delete this.changed[f]:this.changed[f]=b,k?delete n[f]:n[f]=b;if(!e)for(a.length&&(this._pending=!0),b=0,f=a.length;b<f;b++)this.trigger("change:"+a[b],this,n[a[b]],c);if(g)return this;if(!e)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,r.extend({},b,{unset:!0}))},clear:function(a){var b=
{},c;for(c in this.attributes)b[c]=void 0;return this.set(b,r.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!r.isEmpty(this.changed):r.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?r.clone(this.changed):!1;var b,c=!1,f=this._changing?this._previousAttributes:this.attributes,d;for(d in a)r.isEqual(f[d],b=a[d])||((c||(c={}))[d]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},
fetch:function(a){a=a?r.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(f){if(!b.set(b.parse(f,a),a))return!1;c&&c(b,f,a);b.trigger("sync",b,f,a)};R(this,a);return this.sync("read",this,a)},save:function(a,b,c){var f,d=this.attributes;null==a||"object"===typeof a?(f=a,c=b):(f={})[a]=b;if(f&&!(c&&c.wait||this.set(f,c)))return!1;c=r.extend({validate:!0},c);if(!this._validate(f,c))return!1;f&&c.wait&&(this.attributes=r.extend({},d,f));void 0===c.parse&&(c.parse=!0);
var k=this,e=c.success;c.success=function(a){k.attributes=d;var b=k.parse(a,c);c.wait&&(b=r.extend(f||{},b));if(r.isObject(b)&&!k.set(b,c))return!1;e&&e(k,a,c);k.trigger("sync",k,a,c)};R(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=f);a=this.sync(a,this,c);f&&c.wait&&(this.attributes=d);return a},destroy:function(a){a=a?r.clone(a):{};var b=this,c=a.success,f=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(d){(a.wait||b.isNew())&&f();c&&c(b,d,
a);b.isNew()||b.trigger("sync",b,d,a)};if(this.isNew())return a.success(),!1;R(this,a);var d=this.sync("delete",this,a);a.wait||f();return d},url:function(){var a=r.result(this,"urlRoot")||r.result(this.collection,"url")||ha();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},r.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=r.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,r.extend(b||{},{validationError:c}));return!1}});r.each("keys values pairs invert pick omit".split(" "),function(a){c.prototype[a]=function(){var b=e.call(arguments);b.unshift(this.attributes);return r[a].apply(r,b)}});var k=y.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&
(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,r.extend({silent:!0},b))},u={add:!0,remove:!0,merge:!0},w={add:!0,merge:!1,remove:!1};r.extend(k.prototype,n,{model:c,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return y.sync.apply(this,arguments)},add:function(a,b){return this.set(a,r.defaults(b||{},w))},remove:function(a,b){a=r.isArray(a)?
a.slice():[a];b||(b={});var c,f,d,k;c=0;for(f=a.length;c<f;c++)if(k=this.get(a[c]))delete this._byId[k.id],delete this._byId[k.cid],d=this.indexOf(k),this.models.splice(d,1),this.length--,b.silent||(b.index=d,k.trigger("remove",k,this,b)),this._removeReference(k);return this},set:function(a,b){b=r.defaults(b||{},u);b.parse&&(a=this.parse(a,b));r.isArray(a)||(a=a?[a]:[]);var c,f,d,k,e,n=b.at,q=this.comparator&&null==n&&!1!==b.sort,l=r.isString(this.comparator)?this.comparator:null,s=[],z=[],y={};c=
0;for(f=a.length;c<f;c++)if(d=this._prepareModel(a[c],b))(k=this.get(d))?(b.remove&&(y[k.cid]=!0),b.merge&&(k.set(d.attributes,b),q&&(!e&&k.hasChanged(l))&&(e=!0))):b.add&&(s.push(d),d.on("all",this._onModelEvent,this),this._byId[d.cid]=d,null!=d.id&&(this._byId[d.id]=d));if(b.remove){c=0;for(f=this.length;c<f;++c)y[(d=this.models[c]).cid]||z.push(d);z.length&&this.remove(z,b)}s.length&&(q&&(e=!0),this.length+=s.length,null!=n?m.apply(this.models,[n,0].concat(s)):g.apply(this.models,s));e&&this.sort({silent:!0});
if(b.silent)return this;c=0;for(f=s.length;c<f;c++)(d=s[c]).trigger("add",d,this,b);e&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var c=0,f=this.models.length;c<f;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();this.add(a,r.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,r.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-
1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,r.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return r.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,
!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});r.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(r.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var f=r.isFunction(b)?b:function(a){return a.get(b)};return r.sortedIndex(this.models,a,f,c)},pluck:function(a){return r.invoke(this.models,"get",
a)},fetch:function(a){a=a?r.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(f){c[a.reset?"reset":"set"](f,a);b&&b(c,f,a);c.trigger("sync",c,f,a)};R(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?r.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,f=b.success;b.success=function(d){b.wait&&c.add(a,b);f&&f(a,d,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},
_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof c)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var f=new this.model(a,b);return f._validate(a,b)?f:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,f){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,f),b&&a==="change:"+b.idAttribute&&
(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});r.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){k.prototype[a]=function(){var b=e.call(arguments);b.unshift(this.models);return r[a].apply(r,b)}});
r.each(["groupBy","countBy","sortBy"],function(a){k.prototype[a]=function(b,c){var f=r.isFunction(b)?b:function(a){return a.get(b)};return r[a](this.models,f,c)}});var q=y.View=function(a){this.cid=r.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},L=/^(\S+)\s*(.*)$/,la="model collection el id attributes className tagName events".split(" ");r.extend(q.prototype,n,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof y.$?a:y.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=r.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];r.isFunction(c)||(c=this[a[b]]);if(c){var f=b.match(L),d=f[1],f=f[2],c=r.bind(c,this),d=d+(".delegateEvents"+this.cid);
if(""===f)this.$el.on(d,c);else this.$el.on(d,f,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=r.extend({},r.result(this,"options"),a));r.extend(this,r.pick(a,la));this.options=a},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"),!1);else{var a=r.extend({},r.result(this,"attributes"));this.id&&(a.id=r.result(this,"id"));this.className&&(a["class"]=r.result(this,"className"));a=y.$("<"+
r.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});y.sync=function(a,b,c){var f=E[a];r.defaults(c||(c={}),{emulateHTTP:y.emulateHTTP,emulateJSON:y.emulateJSON});var d={type:f,dataType:"json"};c.url||(d.url=r.result(b,"url")||ha());null!=c.data||(!b||"create"!==a&&"update"!==a&&"patch"!==a)||(d.contentType="application/json",d.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(d.contentType="application/x-www-form-urlencoded",d.data=d.data?{model:d.data}:{});if(c.emulateHTTP&&
("PUT"===f||"DELETE"===f||"PATCH"===f)){d.type="POST";c.emulateJSON&&(d.data._method=f);var k=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);if(k)return k.apply(this,arguments)}}"GET"===d.type||c.emulateJSON||(d.processData=!1);"PATCH"!==d.type||(!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled)||(d.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=c.xhr=y.ajax(r.extend(d,c));b.trigger("request",b,a,c);return a};
var E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};y.ajax=function(){return y.$.ajax.apply(y.$,arguments)};var H=y.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},s=/\((.*?)\)/g,J=/(\(\?)?:\w+/g,ta=/\*\w+/g,ua=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(H.prototype,n,{initialize:function(){},route:function(a,b,c){r.isRegExp(a)||(a=this._routeToRegExp(a));r.isFunction(b)&&(c=b,b="");c||(c=this[b]);var f=this;
y.history.route(a,function(d){d=f._extractParameters(a,d);c&&c.apply(f,d);f.trigger.apply(f,["route:"+b].concat(d));f.trigger("route",b,d);y.history.trigger("route",f,b,d)});return this},navigate:function(a,b){y.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=r.result(this,"routes");for(var a,b=r.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(ua,"\\$&").replace(s,"(?:$1)?").replace(J,function(a,b){return b?
a:"([^/]+)"}).replace(ta,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return r.map(c,function(a){return a?decodeURIComponent(a):null})}});var I=y.History=function(){this.handlers=[];r.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},ga=/^[#\/]|\s+$/g,Ca=/^\/+|\/+$/g,U=/msie [\w.]+/,oa=/\/$/;I.started=!1;r.extend(I.prototype,n,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?
a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(oa,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(ga,"")},start:function(a){if(I.started)throw Error("Backbone.history has already been started");I.started=!0;this.options=r.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;
this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=U.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(Ca,"/");b&&this._wantsHashChange&&(this.iframe=y.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)y.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&
!b)y.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(ga,
""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){y.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);I.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&
this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return r.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!I.started)return!1;b&&!0!==b||(b={trigger:b});a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});y.history=new I;c.extend=k.extend=H.extend=q.extend=I.extend=function(a,b){var c=this,f;f=a&&r.has(a,"constructor")?a.constructor:function(){return c.apply(this,
arguments)};r.extend(f,c,b);var d=function(){this.constructor=f};d.prototype=c.prototype;f.prototype=new d;a&&r.extend(f.prototype,a);f.__super__=c.prototype;return f};var ha=function(){throw Error('A "url" property or function must be specified');},R=function(a,b){var c=b.error;b.error=function(f){c&&c(a,f,b);a.trigger("error",a,f,b)}}}).call(this)})()},{underscore:68}],59:[function(l,w,x){(function(){var d=l("./base"),a=l("./video"),q=l("./image"),g=l("backbone"),e=l("lodash"),d=d.extend({name:"page",
urlRoot:function(){return this.app.config.baseUrl+"/pages"},defaults:{name:"Untitled",items:[],userId:"",isPublished:!1,errors:null},initialize:function(a,d){this.set(a);this.app=d.app||{}},validate:function(a,d){var e=[];a.name&&0!=a.name.length||e.push({attr:"name",message:"Page title cannot be empty"});if(!a.id){var g=this.app.db.fetchCollection("pages").filter(function(d){return d.attributes.name.toLowerCase()===a.name.toLowerCase()});g&&0<g.length&&e.push({attr:"name",message:"Another page already exists with this name"})}if(e.length)return e},
sync:function(a,d,e){"create"!==a&&"update"!==a||d.set("itemList",JSON.stringify(d.get("items")));g.sync(a,d,e)},parse:function(a,d){a=a.page;delete a.page;try{a.items=JSON.parse(a.itemList)}catch(e){a.items=[]}finally{delete a.itemList}return a},getMedia:function(){return this.app.db.fetchCollection("pageMedia",{app:this.app,pageId:this.id})},addMedia:function(d,g){var l=this;filepicker.pickAndStore({extensions:l.app.config.videoExts.concat(l.app.config.imageExts),multiple:!0,signature:l.app.getUser().attributes.signature,
policy:l.app.getUser().attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP"],debug:g?!0:!1},{location:"s3",path:l.app.getUser().attributes.path,access:"public"},function(n){"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]);for(var z=e.clone(l.attributes.items),C=n.length,b=function(a,b,c,f){z.push({ID:a,NAME:b,TYPE:c,THUMB:"http://placehold.it/320x180"});C--;0===C&&(l.set("items",z),l.save(null,{success:function(){l.app.db.fetchCollection("unprocessedUploads").fetch();
l.app.db.fetchCollection("pages").fetch();f();d(null,n)},error:d}))},c=0,f=n.length;c<f;c++)(function(c){var f,d,e={name:c.filename,fpkey:c.url,mimeType:c.mimetype,originalFilesize:c.size,userId:l.attributes.userId,attribs:[],status:0};l.app.util.isVideo(c.filename)?(f=new a({},{app:l.app}),d="video"):l.app.util.isImage(c.filename)&&(f=new q({},{app:l.app}),d="image");f.set(e);g&&f.set("debug",!0);f.save(null,{success:function(a,c){b(a.attributes.id,a.attributes.name,d,g?g:function(){})},error:l.app.error})})(n[c])},
function(a){d(a)})}});w.exports=d})()},{"./base":42,"./image":39,"./video":44,backbone:58,lodash:38}],60:[function(l,w,x){(function(){var d=l("./base"),a=l("lodash"),d=d.extend({name:"media",initialize:function(a,d){this.set(a);this.app=d.app||{};this.pageId=d.pageId||null;this.model=function(a,m){return"image"===a.type?d.app.db.createModel("image",a):d.app.db.createModel("video",a)}},url:function(){return this.app.config.baseUrl+"/pages/"+this.pageId+"/media.json"},parse:function(d,g){return a.isEmpty(d.media)?
[]:d.media}});w.exports=d})()},{"./base":63,lodash:38}],61:[function(l,w,x){(function(){var d=l("./base");l("../models/page");var a=l("lodash"),d=d.extend({name:"page",url:function(){return this.app.config.baseUrl+"/pages.json?userId="+this.app.bootstrap.userId},initialize:function(a,d){this.set(a);this.app=d.app||{};this.model=function(a,m){var q=d.app.db.createModel("page");return d.app.db.createModel("page",q.parse(a))}},parse:function(d,g){return a.isEmpty(d.pages)?[]:d.pages}});w.exports=d})()},
{"../models/page":59,"./base":63,lodash:38}],62:[function(l,w,x){(function(){var d=l("./base");l("../models/image.js");l("../models/video.js");var a=l("lodash"),d=d.extend({name:"media",url:function(){return this.app.config.baseUrl+"/unprocessed.json"},initialize:function(a,d){this.set(a);this.app=d.app||{};this.model=function(a,m){return"image"===a.type?d.app.db.createModel("image").set(a):d.app.db.createModel("video").set(a)}},parse:function(d,g){return a.isEmpty(d.media)?[]:d.media}});w.exports=
d})()},{"../models/image.js":39,"../models/video.js":44,"./base":63,lodash:38}],68:[function(l,w,x){(function(){(function(){var d=this,a=d._,q={},g=Array.prototype,e=Object.prototype,m=g.push,l=g.slice,r=g.concat,n=e.toString,z=e.hasOwnProperty,C=g.forEach,b=g.map,c=g.reduce,f=g.reduceRight,k=g.filter,u=g.every,na=g.some,L=g.indexOf,la=g.lastIndexOf,e=Array.isArray,E=Object.keys,H=Function.prototype.bind,s=function(a){if(a instanceof s)return a;if(!(this instanceof s))return new s(a);this._wrapped=
a};"undefined"!==typeof x?("undefined"!==typeof w&&w.exports&&(x=w.exports=s),x._=s):d._=s;s.VERSION="1.5.1";var J=s.each=s.forEach=function(a,b,c){if(null!=a)if(C&&a.forEach===C)a.forEach(b,c);else if(a.length===+a.length)for(var f=0,d=a.length;f<d&&b.call(c,a[f],f,a)!==q;f++);else for(f in a)if(s.has(a,f)&&b.call(c,a[f],f,a)===q)break};s.map=s.collect=function(a,c,f){var d=[];if(null==a)return d;if(b&&a.map===b)return a.map(c,f);J(a,function(a,b,k){d.push(c.call(f,a,b,k))});return d};s.reduce=s.foldl=
s.inject=function(a,b,f,d){var k=2<arguments.length;null==a&&(a=[]);if(c&&a.reduce===c)return d&&(b=s.bind(b,d)),k?a.reduce(b,f):a.reduce(b);J(a,function(a,c,e){k?f=b.call(d,f,a,c,e):(f=a,k=!0)});if(!k)throw new TypeError("Reduce of empty array with no initial value");return f};s.reduceRight=s.foldr=function(a,b,c,d){var k=2<arguments.length;null==a&&(a=[]);if(f&&a.reduceRight===f)return d&&(b=s.bind(b,d)),k?a.reduceRight(b,c):a.reduceRight(b);var e=a.length;if(e!==+e)var g=s.keys(a),e=g.length;J(a,
function(f,u,n){u=g?g[--e]:--e;k?c=b.call(d,c,a[u],u,n):(c=a[u],k=!0)});if(!k)throw new TypeError("Reduce of empty array with no initial value");return c};s.find=s.detect=function(a,b,c){var f;ta(a,function(a,d,k){if(b.call(c,a,d,k))return f=a,!0});return f};s.filter=s.select=function(a,b,c){var f=[];if(null==a)return f;if(k&&a.filter===k)return a.filter(b,c);J(a,function(a,d,k){b.call(c,a,d,k)&&f.push(a)});return f};s.reject=function(a,b,c){return s.filter(a,function(a,f,d){return!b.call(c,a,f,d)},
c)};s.every=s.all=function(a,b,c){b||(b=s.identity);var f=!0;if(null==a)return f;if(u&&a.every===u)return a.every(b,c);J(a,function(a,d,k){if(!(f=f&&b.call(c,a,d,k)))return q});return!!f};var ta=s.some=s.any=function(a,b,c){b||(b=s.identity);var f=!1;if(null==a)return f;if(na&&a.some===na)return a.some(b,c);J(a,function(a,d,k){if(f||(f=b.call(c,a,d,k)))return q});return!!f};s.contains=s.include=function(a,b){return null==a?!1:L&&a.indexOf===L?-1!=a.indexOf(b):ta(a,function(a){return a===b})};s.invoke=
function(a,b){var c=l.call(arguments,2),f=s.isFunction(b);return s.map(a,function(a){return(f?b:a[b]).apply(a,c)})};s.pluck=function(a,b){return s.map(a,function(a){return a[b]})};s.where=function(a,b,c){return s.isEmpty(b)?c?void 0:[]:s[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};s.findWhere=function(a,b){return s.where(a,b,!0)};s.max=function(a,b,c){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&s.isEmpty(a))return-Infinity;
var f={computed:-Infinity,value:-Infinity};J(a,function(a,d,k){d=b?b.call(c,a,d,k):a;d>f.computed&&(f={value:a,computed:d})});return f.value};s.min=function(a,b,c){if(!b&&s.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&s.isEmpty(a))return Infinity;var f={computed:Infinity,value:Infinity};J(a,function(a,d,k){d=b?b.call(c,a,d,k):a;d<f.computed&&(f={value:a,computed:d})});return f.value};s.shuffle=function(a){var b,c=0,f=[];J(a,function(a){b=s.random(c++);f[c-1]=f[b];
f[b]=a});return f};var ua=function(a){return s.isFunction(a)?a:function(b){return b[a]}};s.sortBy=function(a,b,c){var f=ua(b);return s.pluck(s.map(a,function(a,b,d){return{value:a,index:b,criteria:f.call(c,a,b,d)}}).sort(function(a,b){var c=a.criteria,f=b.criteria;if(c!==f){if(c>f||void 0===c)return 1;if(c<f||void 0===f)return-1}return a.index<b.index?-1:1}),"value")};var I=function(a,b,c,f){var d={},k=ua(null==b?s.identity:b);J(a,function(b,e){var g=k.call(c,b,e,a);f(d,g,b)});return d};s.groupBy=
function(a,b,c){return I(a,b,c,function(a,b,c){(s.has(a,b)?a[b]:a[b]=[]).push(c)})};s.countBy=function(a,b,c){return I(a,b,c,function(a,b){s.has(a,b)||(a[b]=0);a[b]++})};s.sortedIndex=function(a,b,c,f){c=null==c?s.identity:ua(c);b=c.call(f,b);for(var d=0,k=a.length;d<k;){var e=d+k>>>1;c.call(f,a[e])<b?d=e+1:k=e}return d};s.toArray=function(a){return a?s.isArray(a)?l.call(a):a.length===+a.length?s.map(a,s.identity):s.values(a):[]};s.size=function(a){return null==a?0:a.length===+a.length?a.length:s.keys(a).length};
s.first=s.head=s.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:l.call(a,0,b)};s.initial=function(a,b,c){return l.call(a,0,a.length-(null==b||c?1:b))};s.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:l.call(a,Math.max(a.length-b,0))};s.rest=s.tail=s.drop=function(a,b,c){return l.call(a,null==b||c?1:b)};s.compact=function(a){return s.filter(a,s.identity)};var ga=function(a,b,c){if(b&&s.every(a,s.isArray))return r.apply(c,a);J(a,function(a){s.isArray(a)||s.isArguments(a)?
b?m.apply(c,a):ga(a,b,c):c.push(a)});return c};s.flatten=function(a,b){return ga(a,b,[])};s.without=function(a){return s.difference(a,l.call(arguments,1))};s.uniq=s.unique=function(a,b,c,f){s.isFunction(b)&&(f=c,c=b,b=!1);c=c?s.map(a,c,f):a;var d=[],k=[];J(c,function(c,f){(b?f&&k[k.length-1]===c:s.contains(k,c))||(k.push(c),d.push(a[f]))});return d};s.union=function(){return s.uniq(s.flatten(arguments,!0))};s.intersection=function(a){var b=l.call(arguments,1);return s.filter(s.uniq(a),function(a){return s.every(b,
function(b){return 0<=s.indexOf(b,a)})})};s.difference=function(a){var b=r.apply(g,l.call(arguments,1));return s.filter(a,function(a){return!s.contains(b,a)})};s.zip=function(){for(var a=s.max(s.pluck(arguments,"length").concat(0)),b=Array(a),c=0;c<a;c++)b[c]=s.pluck(arguments,""+c);return b};s.object=function(a,b){if(null==a)return{};for(var c={},f=0,d=a.length;f<d;f++)b?c[a[f]]=b[f]:c[a[f][0]]=a[f][1];return c};s.indexOf=function(a,b,c){if(null==a)return-1;var f=0,d=a.length;if(c)if("number"==typeof c)f=
0>c?Math.max(0,d+c):c;else return f=s.sortedIndex(a,b),a[f]===b?f:-1;if(L&&a.indexOf===L)return a.indexOf(b,c);for(;f<d;f++)if(a[f]===b)return f;return-1};s.lastIndexOf=function(a,b,c){if(null==a)return-1;var f=null!=c;if(la&&a.lastIndexOf===la)return f?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=f?c:a.length;c--;)if(a[c]===b)return c;return-1};s.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var f=Math.max(Math.ceil((b-a)/c),0),d=0,k=Array(f);d<f;)k[d++]=a,a+=c;return k};
var Ca=function(){};s.bind=function(a,b){var c,f;if(H&&a.bind===H)return H.apply(a,l.call(arguments,1));if(!s.isFunction(a))throw new TypeError;c=l.call(arguments,2);return f=function(){if(!(this instanceof f))return a.apply(b,c.concat(l.call(arguments)));Ca.prototype=a.prototype;var d=new Ca;Ca.prototype=null;var k=a.apply(d,c.concat(l.call(arguments)));return Object(k)===k?k:d}};s.partial=function(a){var b=l.call(arguments,1);return function(){return a.apply(this,b.concat(l.call(arguments)))}};
s.bindAll=function(a){var b=l.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");J(b,function(b){a[b]=s.bind(a[b],a)});return a};s.memoize=function(a,b){var c={};b||(b=s.identity);return function(){var f=b.apply(this,arguments);return s.has(c,f)?c[f]:c[f]=a.apply(this,arguments)}};s.delay=function(a,b){var c=l.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};s.defer=function(a){return s.delay.apply(s,[a,1].concat(l.call(arguments,1)))};
s.throttle=function(a,b,c){var f,d,k,e=null,g=0;c||(c={});var u=function(){g=!1===c.leading?0:new Date;e=null;k=a.apply(f,d)};return function(){var n=new Date;g||!1!==c.leading||(g=n);var m=b-(n-g);f=this;d=arguments;0>=m?(clearTimeout(e),e=null,g=n,k=a.apply(f,d)):e||!1===c.trailing||(e=setTimeout(u,m));return k}};s.debounce=function(a,b,c){var f,d=null;return function(){var k=this,e=arguments,g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(f=a.apply(k,e))},b);g&&(f=a.apply(k,e));return f}};
s.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};s.wrap=function(a,b){return function(){var c=[a];m.apply(c,arguments);return b.apply(this,c)}};s.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};s.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};s.keys=E||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=
[],c;for(c in a)s.has(a,c)&&b.push(c);return b};s.values=function(a){var b=[],c;for(c in a)s.has(a,c)&&b.push(a[c]);return b};s.pairs=function(a){var b=[],c;for(c in a)s.has(a,c)&&b.push([c,a[c]]);return b};s.invert=function(a){var b={},c;for(c in a)s.has(a,c)&&(b[a[c]]=c);return b};s.functions=s.methods=function(a){var b=[],c;for(c in a)s.isFunction(a[c])&&b.push(c);return b.sort()};s.extend=function(a){J(l.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};s.pick=function(a){var b=
{},c=r.apply(g,l.call(arguments,1));J(c,function(c){c in a&&(b[c]=a[c])});return b};s.omit=function(a){var b={},c=r.apply(g,l.call(arguments,1)),f;for(f in a)s.contains(c,f)||(b[f]=a[f]);return b};s.defaults=function(a){J(l.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])});return a};s.clone=function(a){return s.isObject(a)?s.isArray(a)?a.slice():s.extend({},a):a};s.tap=function(a,b){b(a);return a};var U=function(a,b,c,f){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==
b)return a===b;a instanceof s&&(a=a._wrapped);b instanceof s&&(b=b._wrapped);var d=n.call(a);if(d!=n.call(b))return!1;switch(d){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var k=c.length;k--;)if(c[k]==a)return f[k]==
b;var k=a.constructor,e=b.constructor;if(k!==e&&!(s.isFunction(k)&&k instanceof k&&s.isFunction(e)&&e instanceof e))return!1;c.push(a);f.push(b);k=0;e=!0;if("[object Array]"==d){if(k=a.length,e=k==b.length)for(;k--&&(e=U(a[k],b[k],c,f)););}else{for(var g in a)if(s.has(a,g)&&(k++,!(e=s.has(b,g)&&U(a[g],b[g],c,f))))break;if(e){for(g in b)if(s.has(b,g)&&!k--)break;e=!k}}c.pop();f.pop();return e};s.isEqual=function(a,b){return U(a,b,[],[])};s.isEmpty=function(a){if(null==a)return!0;if(s.isArray(a)||s.isString(a))return 0===
a.length;for(var b in a)if(s.has(a,b))return!1;return!0};s.isElement=function(a){return!(!a||1!==a.nodeType)};s.isArray=e||function(a){return"[object Array]"==n.call(a)};s.isObject=function(a){return a===Object(a)};J("Arguments Function String Number Date RegExp".split(" "),function(a){s["is"+a]=function(b){return n.call(b)=="[object "+a+"]"}});s.isArguments(arguments)||(s.isArguments=function(a){return!(!a||!s.has(a,"callee"))});"function"!==typeof/./&&(s.isFunction=function(a){return"function"===
typeof a});s.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};s.isNaN=function(a){return s.isNumber(a)&&a!=+a};s.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==n.call(a)};s.isNull=function(a){return null===a};s.isUndefined=function(a){return void 0===a};s.has=function(a,b){return z.call(a,b)};s.noConflict=function(){d._=a;return this};s.identity=function(a){return a};s.times=function(a,b,c){for(var f=Array(Math.max(0,a)),d=0;d<a;d++)f[d]=b.call(c,d);return f};s.random=
function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var oa={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};oa.unescape=s.invert(oa.escape);var ha={escape:RegExp("["+s.keys(oa.escape).join("")+"]","g"),unescape:RegExp("("+s.keys(oa.unescape).join("|")+")","g")};s.each(["escape","unescape"],function(a){s[a]=function(b){return null==b?"":(""+b).replace(ha[a],function(b){return oa[a][b]})}});s.result=function(a,b){if(null!=a){var c=a[b];return s.isFunction(c)?
c.call(a):c}};s.mixin=function(a){J(s.functions(a),function(b){var c=s[b]=a[b];s.prototype[b]=function(){var a=[this._wrapped];m.apply(a,arguments);a=c.apply(s,a);return this._chain?s(a).chain():a}})};var R=0;s.uniqueId=function(a){var b=++R+"";return a?a+b:b};s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;s.template=
function(a,b,c){var f;c=s.defaults({},c,s.templateSettings);var d=RegExp([(c.escape||A).source,(c.interpolate||A).source,(c.evaluate||A).source].join("|")+"|$","g"),k=0,e="__p+='";a.replace(d,function(b,c,f,d,h){e+=a.slice(k,h).replace(K,function(a){return"\\"+F[a]});c&&(e+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");f&&(e+="'+\n((__t=("+f+"))==null?'':__t)+\n'");d&&(e+="';\n"+d+"\n__p+='");k=h+b.length;return b});e+="';\n";c.variable||(e="with(obj||{}){\n"+e+"}\n");e="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
e+"return __p;\n";try{f=new Function(c.variable||"obj","_",e)}catch(g){throw g.source=e,g;}if(b)return f(b,s);b=function(a){return f.call(this,a,s)};b.source="function("+(c.variable||"obj")+"){\n"+e+"}";return b};s.chain=function(a){return s(a).chain()};s.mixin(s);J("pop push reverse shift sort splice unshift".split(" "),function(a){var b=g[a];s.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);"shift"!=a&&"splice"!=a||0!==c.length||delete c[0];return this._chain?s(c).chain():c}});
J(["concat","join","slice"],function(a){var b=g[a];s.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?s(a).chain():a}});s.extend(s.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this)})()},{}],33:[function(l,w,x){(function(){var d=l("../../base"),a=l("lodash"),q=l("../../layout/navbar.js"),g=l("../../layout/footer.js"),e=l("../../routes/media/thumb.js"),d=d.extend({template:l("../../../templates/routes/media/edit.hbs"),
events:{submit:"performSave","click a.btn-danger":"performDelete","click a.upload":"performPick","click a.crop":"performCrop","click a.capture":"performCapture","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.mediaType=a.mediaType;this.mediaId=a.mediaId;this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.media,"invalid",function(){this.app.error(this.media.validationError)},
this);this.renderOnReady(this.media)},afterRender:function(){var d=new q({app:this.app}),l=new e({app:this.app,mediaType:this.mediaType,mediaId:this.mediaId}),r=new g({app:this.app});this.appendSubview(d,this.$("#header"));this.appendSubview(l,this.$("#thumber"));this.appendSubview(r,this.$("#footer"));this.eachSubview(function(a){a.render()});a.defer(function(){this.$("div.tagsinput").remove();this.$("input[name=attribs]").tagsInput();this.$("label span").popover({placement:"right",trigger:"hover",
html:!0})},this);this.$("#useOriginalButton").button("reset");this.$("#useCaptureButton").button("reset")},context:function(){return this.getContext({media:this.media.templateVars()})},performSave:function(a){var d=this;a.preventDefault();a=this.$("input[name=name]").val();var e=this.$("input[name=attribs]").val().split(",");this.media.save({userId:d.app.getUser().attributes.id,name:a,attribs:e},{success:function(){d.app.db.fetchCollection("unprocessedUploads").fetch({success:function(){var a=d.media.attributes.type.charAt(0).toUpperCase(),
a=a+d.media.attributes.type.substr(1);d.app.setFlash("success",a+" Saved!")},error:d.app.error})},error:d.app.error})},performDelete:function(a){a.preventDefault();a.stopPropagation();var d=this;if(confirm("Are you sure you want to delete "+d.media.attributes.name+"?"))filepicker.remove(d.media.fpfile(),{policy:d.app.getUser().attributes.policy,signature:d.app.getUser().attributes.signature},function(){d.media.destroy({success:function(){d.app.navigate("",{trigger:!0})},error:d.app.error})},d.app.error);
else return!1},performPick:function(a){a.preventDefault();a.stopPropagation();this.media.pickThumbnail()},performCrop:function(a){a.preventDefault();a.stopPropagation();this.app.trigger("captureThumbnail");this.$("#useOriginalButton").button("loading")},performCapture:function(a){a.preventDefault();a.stopPropagation();this.app.trigger("captureThumbnail");this.$("#useCaptureButton").button("loading")}});w.exports=d})()},{"../../../templates/routes/media/edit.hbs":69,"../../base":49,"../../layout/footer.js":47,
"../../layout/navbar.js":46,"../../routes/media/thumb.js":66,lodash:38}],35:[function(l,w,x){(function(){var d=l("../../base"),a=l("lodash"),q=l("js-thumb"),g=l("./carousel");l("videojs");d=d.extend({template:l("../../../templates/routes/media/show.hbs"),events:{},initialize:function(a){this.app=a.app;this.pageName=a.pageName;this.mediaType=a.mediaType;this.mediaId=a.mediaId;var d=this.app.db.fetchCollection("pages");this.page=this.app.db.fetchModel("page",a.mediaId);this.media=this.app.db.fetchModel(a.mediaType,
a.mediaId);this.page.id&&this.page.fetch();this.media.id&&this.media.fetch();this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.page,"change",this.render,this);this.listenTo(this.media,"change",this.render,this);window.onresize=function(){q.resizeVideos()};d.once("ready",function(){var g=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});g?this.page.set(g.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},
this)},afterRender:function(){var d=this,m=this.media.templateVars(),l=new g({app:this.app,pageName:this.pageName}),r=function(a,g,m){if(a)d.app.error(a);else m.on("ended",function(){d.app.trigger("videoEnded",d.media)})};this.appendSubview(l,this.$("#carouselWrapper"));this.eachSubview(function(a){a.render()});a.defer(function(){d.media&&(d.media.attributes&&"video"===d.media.attributes.type)&&q.loadVideo(d.$("#vid_placeholder")[0],{vjs:{autoplay:!0},attributes:{resize:!0},sources:[{src:m.url,type:d.app.util.mime(d.media.attributes.mimeType)}]},
r)})},context:function(){return this.getContext({media:this.media.templateVars()})}});w.exports=d})()},{"../../../templates/routes/media/show.hbs":70,"../../base":49,"./carousel":71,"js-thumb":73,lodash:38,videojs:72}],40:[function(l,w,x){(function(){(function(){var d=l("./base"),a=l("backbone"),q=l("lodash"),d=d.extend({name:"media",urlRoot:function(){return this.app.config.baseUrl+"/Media_is_an_abstract_class_do_not_use_it"},defaults:{name:"Untitled",s3key:null,fpkey:null,mimeType:null,originalFilesize:null,
userId:null,thumbnailS3key:null,thumbnailFpkey:null,attribs:[],reviewIssue:null,status:0,type:"unknown"},validate:function(a,d){var m=[];a.name&&0!=a.name.length||m.push({attr:"name",message:"Media name cannot be empty"});if(m.length)return m},sync:function(d,e,m){var q=this;"create"!==d&&"update"!==d||e.set("userAttributes",JSON.stringify(e.get("attribs")));var l=function(){!e.attributes.thumbnailS3key&&e.attributes.thumbnailFpkey&&!0!==e.attributes.debug?filepicker.stat(q.thumbnailFpfile(),{path:!0,
policy:q.app.db.fetchModel("user").attributes.policy,signature:q.app.db.fetchModel("user").attributes.signature},function(n){e.set("thumbnailS3key",n.path);a.sync(d,e,m)}):a.sync(d,e,m)};!e.attributes.s3key&&e.attributes.fpkey&&!0!==e.attributes.debug?filepicker.stat(q.fpfile(),{path:!0,policy:q.app.db.fetchModel("user").attributes.policy,signature:q.app.db.fetchModel("user").attributes.signature},function(a){e.set("s3key",a.path);l()}):l()},destroy:function(d){var e=this;if(d.success){var m=d.success;
d.success=function(){e.app.db.fetchCollection("unprocessedUploads").fetch();m&&m()}}a.sync("delete",this,d)},parse:function(a,d){a.image&&(a=a.image,delete a.image);a.video&&(a=a.video,delete a.video);try{a.attribs=JSON.parse(a.userAttributes)}catch(m){a.attribs=[]}finally{delete a.userAttributes}return a},pickThumbnail:function(){var a=this;filepicker.pick({extensions:a.app.config.imageExts,path:a.app.db.fetchModel("user").attributes.path,signature:a.app.db.fetchModel("user").attributes.signature,
policy:a.app.db.fetchModel("user").attributes.policy,services:"COMPUTER DROPBOX FLICKR GOOGLE_DRIVE FTP URL IMAGE_SEARCH".split(" ")},function(d){a.cropThumbnail(d)},function(d){101!==d.code&&a.app.error(d)})},cropThumbnail:function(a){var d=this;a||(a=d.fpfile());d.app.setFlash("info","Please wait while we process the image...");filepicker.convert(a,{signature:d.app.db.fetchModel("user").attributes.signature,policy:d.app.db.fetchModel("user").attributes.policy,width:d.app.config.thumbnailDims.width,
height:d.app.config.thumbnailDims.height,fit:"crop"},{path:d.app.getUser().attributes.path,location:"s3",access:"public"},function(a){d.save({thumbnailFpkey:a.url,thumbnailS3key:null},{success:function(){d.app.setFlash("success","Thumbnail saved!");d.app.db.fetchCollection("unprocessedUploads").fetch()},error:d.app.error})},function(a){d.app.error(a)})},useThumbnail:function(a){var d=this;d.app.setFlash("info","Please wait while we process the image...");filepicker.store(a,{signature:d.app.getUser().attributes.signature,
policy:d.app.getUser().attributes.policy,mimetype:"image/png",base64decode:!0,path:d.app.getUser().attributes.path,location:"s3",access:"public"},function(a){d.save({thumbnailFpkey:a.url,thumbnailS3key:null},{success:function(){d.app.setFlash("success","Thumbnail saved!");d.app.db.fetchCollection("unprocessedUploads").fetch()},error:d.app.error})},function(a){d.app.error(a)})},fpfile:function(){return{url:this.attributes.fpkey,filename:this.attributes.name,mimetype:this.attributes.mimeType,isWriteable:!1,
size:this.attributes.originalFilesize}},thumbnailFpfile:function(){return{url:this.attributes.thumbnailFpkey}},templateVars:function(a,d){var m=q.clone(this.attributes);d=!0===d;m.s3key?m.url=self.app.config.s3prefix+m.s3key:m.thumbnailUrl=self.app.util.placeholderThumbnail(d);m.thumbnailUrl=m.thumbnailS3key?self.app.config.s3prefix+m.thumbnailS3key:self.app.util.placeholderThumbnail(d);m.isImage="image"===m.type;m.isVideo="video"===m.type;m.attribs=q.map(m.attribs,function(a){return a.replace(/^(.*:)/,
"<strong>$1</strong>")});this.app.isLoggedIn()&&(m.editHref="/media/"+m.type+"/"+m.id+"/edit");a&&(m.playerUrl="page/"+a+"/"+m.type+"/"+m.id);return m}});w.exports=d})()})()},{"./base":42,backbone:58,lodash:38}],49:[function(l,w,x){(function(){var d=l("ribcage-view"),a=l("lodash"),d=d.extend({renderOnReady:function(){var d=Array.prototype.slice.call(arguments),g=this,e=d.length,m=function(){e--;0>e&&g.render()};a.each(d,function(a){a.once("ready",m,a)});m()},getContext:function(d){d=d||{};var g={isLoggedIn:this.app.isLoggedIn(),
flash:a.clone(this.app.flash),debug:this.app.bootstrap.debug?!0:!1},e=this.app.getUserVars();return a.extend({},e,g,d)},context:function(){return this.getContext()},handleAppLink:function(a){this.app.handleAppLink(a)},events:{"click a.app":"handleAppLink"},beforeRender:function(){this.eachSubview(function(a){a.close()});this.$el.empty()}});w.exports=d})()},{lodash:38,"ribcage-view":74}],72:[function(l,w,x){(function(){(function(){function d(a){return function(){throw Error('The "'+a+"\" method is not available on the playback technology's API");
}}document.createElement("video");document.createElement("audio");var a=function(b,c,f){if("string"===typeof b){0===b.indexOf("#")&&(b=b.slice(1));if(a.players[b])return a.players[b];b=a.el(b)}if(!b||!b.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return b.player||new a.Player(b,c,f)},q=a;a.CDN_VERSION="4.0";a.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://";a.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,
defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};"GENERATED_CDN_VSN"!==a.CDN_VERSION&&(q.options.flash.swf=a.ACCESS_PROTOCOL+"vjs.zencdn.net/"+a.CDN_VERSION+"/video-js.swf");a.players={};a.CoreObject=a.CoreObject=function(){};a.CoreObject.extend=function(b){var c,f;b=b||{};c=b.init||b.init||this.prototype.init||this.prototype.init||function(){};f=function(){c.apply(this,arguments)};f.prototype=a.obj.create(this.prototype);
f.prototype.constructor=f;f.extend=a.CoreObject.extend;f.create=a.CoreObject.create;for(var d in b)b.hasOwnProperty(d)&&(f.prototype[d]=b[d]);return f};a.CoreObject.create=function(){var b=a.obj.create(this.prototype);this.apply(b,arguments);return b};a.on=function(b,c,f){var d=a.getData(b);d.handlers||(d.handlers={});d.handlers[c]||(d.handlers[c]=[]);f.guid||(f.guid=a.guid++);d.handlers[c].push(f);d.dispatcher||(d.disabled=!1,d.dispatcher=function(c){if(!d.disabled){c=a.fixEvent(c);var f=d.handlers[c.type];
if(f)for(var f=f.slice(0),e=0,g=f.length;e<g&&!c.isImmediatePropagationStopped();e++)f[e].call(b,c)}});1==d.handlers[c].length&&(document.addEventListener?b.addEventListener(c,d.dispatcher,!1):document.attachEvent&&b.attachEvent("on"+c,d.dispatcher))};a.off=function(b,c,f){if(a.hasData(b)){var d=a.getData(b);if(d.handlers)if(c){var e=d.handlers[c];if(e){if(!f)d.handlers[c]=[];else if(f.guid)for(d=0;d<e.length;d++)e[d].guid===f.guid&&e.splice(d--,1);a.cleanUpEvents(b,c)}}else for(e in d.handlers)c=
e,d.handlers[c]=[],a.cleanUpEvents(b,c)}};a.cleanUpEvents=function(b,c){var f=a.getData(b);0===f.handlers[c].length&&(delete f.handlers[c],document.removeEventListener?b.removeEventListener(c,f.dispatcher,!1):document.detachEvent&&b.detachEvent("on"+c,f.dispatcher));a.isEmpty(f.handlers)&&(delete f.handlers,delete f.dispatcher,delete f.disabled);a.isEmpty(f)&&a.removeData(b)};a.fixEvent=function(a){function c(){return!0}function f(){return!1}if(!a||!a.isPropagationStopped){var d=a||window.event;a=
{};for(var e in d)"layerX"!==e&&"layerY"!==e&&(a[e]=d[e]);a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){d.preventDefault&&d.preventDefault();a.returnValue=!1;a.isDefaultPrevented=c};a.isDefaultPrevented=f;a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation();a.cancelBubble=!0;a.isPropagationStopped=c};a.isPropagationStopped=f;a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&
d.stopImmediatePropagation();a.isImmediatePropagationStopped=c;a.stopPropagation()};a.isImmediatePropagationStopped=f;if(null!=a.clientX){e=document.documentElement;var g=document.body;a.pageX=a.clientX+(e&&e.scrollLeft||g&&g.scrollLeft||0)-(e&&e.clientLeft||g&&g.clientLeft||0);a.pageY=a.clientY+(e&&e.scrollTop||g&&g.scrollTop||0)-(e&&e.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode;null!=a.button&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a};a.trigger=function(b,c){var f=
a.hasData(b)?a.getData(b):{},d=b.parentNode||b.ownerDocument;"string"===typeof c&&(c={type:c,target:b});c=a.fixEvent(c);f.dispatcher&&f.dispatcher.call(b,c);if(d&&!c.isPropagationStopped())a.trigger(d,c);else if(!d&&!c.isDefaultPrevented()&&(f=a.getData(c.target),c.target[c.type])){f.disabled=!0;if("function"===typeof c.target[c.type])c.target[c.type]();f.disabled=!1}return!c.isDefaultPrevented()};a.one=function(b,c,f){a.on(b,c,function(){a.off(b,c,arguments.callee);f.apply(this,arguments)})};var g=
Object.prototype.hasOwnProperty;a.createEl=function(a,c){var f=document.createElement(a||"div"),d;for(d in c)g.call(c,d)&&(-1!==d.indexOf("aria-")||"role"==d?f.setAttribute(d,c[d]):f[d]=c[d]);return f};a.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};a.obj={};a.obj.create=Object.create||function(a){function c(){}c.prototype=a;return new c};a.obj.each=function(a,c,f){for(var d in a)g.call(a,d)&&c.call(f||this,d,a[d])};a.obj.merge=function(a,c){if(!c)return a;for(var d in c)g.call(c,
d)&&(a[d]=c[d]);return a};a.obj.deepMerge=function(b,c){var d,k,e;b=a.obj.copy(b);for(d in c)g.call(c,d)&&(k=b[d],e=c[d],a.obj.isPlain(k)&&a.obj.isPlain(e)?b[d]=a.obj.deepMerge(k,e):b[d]=c[d]);return b};a.obj.copy=function(b){return a.obj.merge({},b)};a.obj.isPlain=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};a.bind=function(b,c,d){c.guid||(c.guid=a.guid++);var k=function(){return c.apply(b,arguments)};k.guid=d?d+"_"+c.guid:c.guid;return k};
a.cache={};a.guid=1;a.expando="vdata"+(new Date).getTime();a.getData=function(b){var c=b[a.expando];c||(c=b[a.expando]=a.guid++,a.cache[c]={});return a.cache[c]};a.hasData=function(b){b=b[a.expando];return!(!b||a.isEmpty(a.cache[b]))};a.removeData=function(b){var c=b[a.expando];if(c){delete a.cache[c];try{delete b[a.expando]}catch(d){b.removeAttribute?b.removeAttribute(a.expando):b[a.expando]=null}}};a.isEmpty=function(a){for(var c in a)if(null!==a[c])return!1;return!0};a.addClass=function(a,c){-1==
(" "+a.className+" ").indexOf(" "+c+" ")&&(a.className=""===a.className?c:a.className+" "+c)};a.removeClass=function(a,c){if(-1!=a.className.indexOf(c)){for(var d=a.className.split(" "),k=d.length-1;0<=k;k--)d[k]===c&&d.splice(k,1);a.className=d.join(" ")}};a.TEST_VID=a.createEl("video");a.USER_AGENT=navigator.userAgent;a.IS_IPHONE=!!a.USER_AGENT.match(/iPhone/i);a.IS_IPAD=!!a.USER_AGENT.match(/iPad/i);a.IS_IPOD=!!a.USER_AGENT.match(/iPod/i);a.IS_IOS=a.IS_IPHONE||a.IS_IPAD||a.IS_IPOD;a.IOS_VERSION=
function(){var b=a.USER_AGENT.match(/OS (\d+)_/i);if(b&&b[1])return b[1]}();a.IS_ANDROID=!!a.USER_AGENT.match(/Android.*AppleWebKit/i);a.ANDROID_VERSION=function(){var b=a.USER_AGENT.match(/Android (\d+)\./i);return b&&b[1]?b[1]:null}();a.IS_FIREFOX=function(){return!!a.USER_AGENT.match("Firefox")};a.getAttributeValues=function(a){var c={};if(a&&a.attributes&&0<a.attributes.length)for(var d=a.attributes,k,e,g=d.length-1;0<=g;g--){k=d[g].name;e=d[g].value;if("boolean"===typeof a[k]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+
k+","))e=null!==e?!0:!1;c[k]=e}return c};a.getComputedDimension=function(a,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(c):a.currentStyle&&(d=a["client"+c.substr(0,1).toUpperCase()+c.substr(1)]+"px");return d};a.insertFirst=function(a,c){c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)};a.support={};a.el=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};a.formatTime=
function(a,c){c=c||a;var d=Math.floor(a%60),k=Math.floor(a/60%60),e=Math.floor(a/3600),g=Math.floor(c/60%60),n=Math.floor(c/3600),e=0<e||0<n?e+":":"";return e+(((e||10<=g)&&10>k?"0"+k:k)+":")+(10>d?"0"+d:d)};a.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return!1}};a.unblockTextSelection=function(){document.onselectstart=function(){return!0}};a.trim=function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")};a.round=function(a,c){c||(c=0);return Math.round(a*
Math.pow(10,c))/Math.pow(10,c)};a.createTimeRange=function(a,c){return{length:1,start:function(){return a},end:function(){return c}}};a.get=function(a,c,d){var k=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw Error("This browser does not support XMLHttpRequest.");
});var e=new XMLHttpRequest;try{e.open("GET",a)}catch(g){d(g)}e.onreadystatechange=function(){4===e.readyState&&(200===e.status||k&&0===e.status?c(e.responseText):d&&d())};try{e.send()}catch(n){d&&d(n)}};a.setLocalStorage=function(b,c){try{var d=window.localStorage||!1;d&&(d[b]=c)}catch(k){22==k.code||1014==k.code?a.log("LocalStorage Full (VideoJS)",k):18==k.code?a.log("LocalStorage not allowed (VideoJS)",k):a.log("LocalStorage Error (VideoJS)",k)}};a.getAbsoluteURL=function(b){b.match(/^https?:\/\//)||
(b=a.createEl("div",{innerHTML:'<a href="'+b+'">x</a>'}).firstChild.href);return b};a.log=function(){a.log.history=a.log.history||[];a.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};a.findPosition=function(a){var c,d;a.getBoundingClientRect&&a.parentNode&&(c=a.getBoundingClientRect());if(!c)return{left:0,top:0};a=document.documentElement;d=document.body;return{left:c.left+(window.pageXOffset||d.scrollLeft)-(a.clientLeft||d.clientLeft||0),top:c.top+
(window.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0)}};a.Component=a.CoreObject.extend({init:function(b,c,d){this.player_=b;this.options_=a.obj.copy(this.options_);c=this.options(c);this.id_=c.id||(c.el&&c.el.id?c.el.id:b.id()+"_component_"+a.guid++);this.name_=c.name||null;this.el_=c.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(d)}});a.Component.prototype.dispose=function(){if(this.children_)for(var b=this.children_.length-
1;0<=b;b--)this.children_[b].dispose&&this.children_[b].dispose();this.childNameIndex_=this.childIndex_=this.children_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);a.removeData(this.el_);this.el_=null};a.Component.prototype.player=function(){return this.player_};a.Component.prototype.options=function(b){return void 0===b?this.options_:this.options_=a.obj.deepMerge(this.options_,b)};a.Component.prototype.createEl=function(b,c){return a.createEl(b,c)};a.Component.prototype.el=
function(){return this.el_};a.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};a.Component.prototype.id=function(){return this.id_};a.Component.prototype.name=function(){return this.name_};a.Component.prototype.children=function(){return this.children_};a.Component.prototype.getChildById=function(a){return this.childIndex_[a]};a.Component.prototype.getChild=function(a){return this.childNameIndex_[a]};a.Component.prototype.addChild=function(b,c){var d,k;"string"===typeof b?
(k=b,c=c||{},d=c.componentClass||a.capitalize(k),c.name=k,d=new a[d](this.player_||this,c)):d=b;this.children_.push(d);"function"===typeof d.id&&(this.childIndex_[d.id()]=d);(k=k||d.name&&d.name())&&(this.childNameIndex_[k]=d);"function"===typeof d.el&&d.el()&&this.contentEl().appendChild(d.el());return d};a.Component.prototype.removeChild=function(a){"string"===typeof a&&(a=this.getChild(a));if(a&&this.children_){for(var c=!1,d=this.children_.length-1;0<=d;d--)if(this.children_[d]===a){c=!0;this.children_.splice(d,
1);break}c&&(this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null,(c=a.el())&&c.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el()))}};a.Component.prototype.initChildren=function(){var b=this.options_;if(b&&b.children){var c=this;a.obj.each(b.children,function(a,b){!1!==b&&(b.loadEvent||(c[a]=c.addChild(a,b)))})}};a.Component.prototype.buildCSSClass=function(){return""};a.Component.prototype.on=function(b,c){a.on(this.el_,b,a.bind(this,c));return this};a.Component.prototype.off=
function(b,c){a.off(this.el_,b,c);return this};a.Component.prototype.one=function(b,c){a.one(this.el_,b,a.bind(this,c));return this};a.Component.prototype.trigger=function(b,c){a.trigger(this.el_,b,c);return this};a.Component.prototype.isReadyOnInitFinish_=!0;a.Component.prototype.ready=function(a){a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a)));return this};a.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;
if(a&&0<a.length){for(var c=0,d=a.length;c<d;c++)a[c].call(this);this.readyQueue_=[];this.trigger("ready")}};a.Component.prototype.addClass=function(b){a.addClass(this.el_,b);return this};a.Component.prototype.removeClass=function(b){a.removeClass(this.el_,b);return this};a.Component.prototype.show=function(){this.el_.style.display="block";return this};a.Component.prototype.hide=function(){this.el_.style.display="none";return this};a.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");
this.addClass("vjs-fade-in");return this};a.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};a.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};a.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};a.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};a.Component.prototype.width=function(a,c){return this.dimension("width",
a,c)};a.Component.prototype.height=function(a,c){return this.dimension("height",a,c)};a.Component.prototype.dimensions=function(a,c){return this.width(a,!0).height(c)};a.Component.prototype.dimension=function(b,c,d){if(void 0!==c)return-1!==(""+c).indexOf("%")||-1!==(""+c).indexOf("px")?this.el_.style[b]=c:this.el_.style[b]="auto"===c?"":c+"px",d||this.trigger("resize"),this;if(!this.el_)return 0;c=this.el_.style[b];d=c.indexOf("px");return-1!==d?parseInt(c.slice(0,d),10):parseInt(this.el_["offset"+
a.capitalize(b)],10)};a.Button=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);var d=!1;this.on("touchstart",function(){d=!0});this.on("touchmove",function(){d=!1});var e=this;this.on("touchend",function(a){if(d)e.onClick(a);a.preventDefault();a.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});a.Button.prototype.createEl=function(b,c){c=a.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+
(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},c);return a.Component.prototype.createEl.call(this,b,c)};a.Button.prototype.buildCSSClass=function(){return"vjs-control "+a.Component.prototype.buildCSSClass.call(this)};a.Button.prototype.onClick=function(){};a.Button.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Button.prototype.onKeyPress=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.onClick()};a.Button.prototype.onBlur=
function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);b.on(this.playerEvent,a.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",a.bind(this,this.update));
b.ready(a.bind(this,this.update));this.boundEvents={}}});a.Slider.prototype.createEl=function(b,c){c=c||{};c.className+=" vjs-slider";c=a.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return a.Component.prototype.createEl.call(this,b,c)};a.Slider.prototype.onMouseDown=function(b){b.preventDefault();a.blockTextSelection();this.boundEvents.move=a.bind(this,this.onMouseMove);this.boundEvents.end=a.bind(this,this.onMouseUp);a.on(document,"mousemove",this.boundEvents.move);
a.on(document,"mouseup",this.boundEvents.end);a.on(document,"touchmove",this.boundEvents.move);a.on(document,"touchend",this.boundEvents.end);this.onMouseMove(b)};a.Slider.prototype.onMouseUp=function(){a.unblockTextSelection();a.off(document,"mousemove",this.boundEvents.move,!1);a.off(document,"mouseup",this.boundEvents.end,!1);a.off(document,"touchmove",this.boundEvents.move,!1);a.off(document,"touchend",this.boundEvents.end,!1);this.update()};a.Slider.prototype.update=function(){if(this.el_){var b,
c=this.getPercent(),d=this.handle,e=this.bar;isNaN(c)&&(c=0);b=c;if(d){b=this.el_.offsetWidth;var g=d.el().offsetWidth;b=g?g/b:0;c*=1-b;b=c+b/2;d.el().style.left=a.round(100*c,2)+"%"}e.el().style.width=a.round(100*b,2)+"%"}};a.Slider.prototype.calculateDistance=function(b){var c,d,e,g;c=this.el_;d=a.findPosition(c);g=e=c.offsetWidth;c=this.handle;if(this.options_.vertical)return g=d.top,b=b.changedTouches?b.changedTouches[0].pageY:b.pageY,c&&(c=c.el().offsetHeight,g+=c/2,e-=c),Math.max(0,Math.min(1,
(g-b+e)/e));e=d.left;b=b.changedTouches?b.changedTouches[0].pageX:b.pageX;c&&(c=c.el().offsetWidth,e+=c/2,g-=c);return Math.max(0,Math.min(1,(b-e)/g))};a.Slider.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())};a.Slider.prototype.onBlur=function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onClick=
function(a){a.stopImmediatePropagation();a.preventDefault()};a.SliderHandle=a.Component.extend();a.SliderHandle.prototype.defaultValue=0;a.SliderHandle.prototype.createEl=function(b,c){c=c||{};c.className+=" vjs-slider-handle";c=a.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},c);return a.Component.prototype.createEl.call(this,"div",c)};a.Menu=a.Component.extend();a.Menu.prototype.addItem=function(b){this.addChild(b);b.on("click",a.bind(this,function(){this.unlockShowing()}))};
a.Menu.prototype.createEl=function(){var b=this.options().contentElType||"ul";this.contentEl_=a.createEl(b,{className:"vjs-menu-content"});b=a.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});b.appendChild(this.contentEl_);a.on(b,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return b};a.MenuItem=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);this.selected(c.selected)}});a.MenuItem.prototype.createEl=function(b,c){return a.Button.prototype.createEl.call(this,
"li",a.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},c))};a.MenuItem.prototype.onClick=function(){this.selected(!0)};a.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))};a.MenuButton=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);this.menu=this.createMenu();this.addChild(this.menu);this.items&&0===this.items.length&&this.hide();
this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","button")}});a.MenuButton.prototype.buttonPressed_=!1;a.MenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_);this.options().title&&b.el().appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(this.items=this.createItems())for(var c=0;c<this.items.length;c++)b.addItem(this.items[c]);return b};a.MenuButton.prototype.createItems=
function(){};a.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+a.Button.prototype.buildCSSClass.call(this)};a.MenuButton.prototype.onFocus=function(){};a.MenuButton.prototype.onBlur=function(){};a.MenuButton.prototype.onClick=function(){this.one("mouseout",a.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()};a.MenuButton.prototype.onKeyPress=function(a){a.preventDefault();32==a.which||
13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()};a.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",!0);this.items&&0<this.items.length&&this.items[0].el().focus()};a.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",!1)};a.Player=a.Component.extend({init:function(b,
c,d){this.tag=b;c=a.obj.merge(this.getTagSettings(b),c);this.cache_={};this.poster_=c.poster;this.controls_=c.controls;!0!==c.customControlsOnMobile&&(a.IS_IOS||a.IS_ANDROID)?(b.controls=c.controls,this.controls_=!1):b.controls=!1;a.Component.call(this,this,c,d);this.one("play",function(b){a.trigger(this.el_,{type:"firstplay",target:this.el_})||(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation())});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);
this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);a.players[this.id_]=this;c.plugins&&a.obj.each(c.plugins,function(a,b){this[a](b)},this)}});a.Player.prototype.options_=a.options;a.Player.prototype.dispose=function(){a.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.stopTrackingProgress();
this.stopTrackingCurrentTime();this.tech&&this.tech.dispose();a.Component.prototype.dispose.call(this)};a.Player.prototype.getTagSettings=function(b){var c={sources:[],tracks:[]};a.obj.merge(c,a.getAttributeValues(b));if(b.hasChildNodes())for(var d,e=b.childNodes,g=0,n=e.length;g<n;g++)b=e[g],d=b.nodeName.toLowerCase(),"source"===d?c.sources.push(a.getAttributeValues(b)):"track"===d&&c.tracks.push(a.getAttributeValues(b));return c};a.Player.prototype.createEl=function(){var b=this.el_=a.Component.prototype.createEl.call(this,
"div"),c=this.tag;c.removeAttribute("width");c.removeAttribute("height");if(c.hasChildNodes())for(var d=c.childNodes.length,e=0,g=c.childNodes;e<d;e++)"source"!=g[0].nodeName.toLowerCase()&&"track"!=g[0].nodeName.toLowerCase()||c.removeChild(g[0]);c.id=c.id||"vjs_video_"+a.guid++;b.id=c.id;b.className=c.className;c.id+="_html5_api";c.className="vjs-tech";c.player=b.player=this;this.addClass("vjs-paused");this.width(this.options_.width,!0);this.height(this.options_.height,!0);c.parentNode&&c.parentNode.insertBefore(b,
c);a.insertFirst(c,b);return b};a.Player.prototype.loadTech=function(b,c){this.tech?this.unloadTech():"Html5"!==b&&this.tag&&(this.el_.removeChild(this.tag),this.tag=this.tag.player=null);this.techName=b;this.isReady_=!1;var d=a.obj.merge({source:c,parentEl:this.el_},this.options_[b.toLowerCase()]);c&&(c.src==this.cache_.src&&0<this.cache_.currentTime&&(d.startTime=this.cache_.currentTime),this.cache_.src=c.src);this.tech=new a[b](this,d);this.tech.ready(function(){this.player_.triggerReady();this.features.progressEvents||
this.player_.manualProgressOn();this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()})};a.Player.prototype.unloadTech=function(){this.isReady_=!1;this.tech.dispose();this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();this.tech=!1};a.Player.prototype.manualProgressOn=function(){this.manualProgress=!0;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=!0;this.player_.manualProgressOff()})};a.Player.prototype.manualProgressOff=
function(){this.manualProgress=!1;this.stopTrackingProgress()};a.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(a.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)};a.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};a.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",
this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0;this.player_.manualTimeUpdatesOff()})};a.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};a.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=
setInterval(a.bind(this,function(){this.trigger("timeupdate")}),250)};a.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};a.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())};a.Player.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing")};a.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime)};a.Player.prototype.onPause=
function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused")};a.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")};a.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))};a.Player.prototype.onError=function(b){a.log("Video Error",b)};a.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")};a.Player.prototype.getCache=function(){return this.cache_};
a.Player.prototype.techCall=function(b,c){if(this.tech&&this.tech.isReady_)this.tech.ready(function(){this[b](c)});else try{this.tech[b](c)}catch(d){throw a.log(d),d;}};a.Player.prototype.techGet=function(b){if(this.tech&&this.tech.isReady_)try{return this.tech[b]()}catch(c){throw void 0===this.tech[b]?a.log("Video.js: "+b+" method not defined for "+this.techName+" playback technology.",c):"TypeError"==c.name?(a.log("Video.js: "+b+" unavailable on "+this.techName+" playback technology element.",c),
this.tech.isReady_=!1):a.log(c),c;}};a.Player.prototype.play=function(){this.techCall("play");return this};a.Player.prototype.pause=function(){this.techCall("pause");return this};a.Player.prototype.paused=function(){return!1===this.techGet("paused")?!1:!0};a.Player.prototype.currentTime=function(a){return void 0!==a?(this.cache_.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0};a.Player.prototype.duration=
function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):this.cache_.duration};a.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};a.Player.prototype.buffered=function(){var b=this.techGet("buffered"),c=this.cache_.bufferEnd=this.cache_.bufferEnd||0;b&&(0<b.length&&b.end(0)!==c)&&(c=b.end(0),this.cache_.bufferEnd=c);return a.createTimeRange(0,c)};a.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():
0};a.Player.prototype.volume=function(b){if(void 0!==b)return b=Math.max(0,Math.min(1,parseFloat(b))),this.cache_.volume=b,this.techCall("setVolume",b),a.setLocalStorage("volume",b),this;b=parseFloat(this.techGet("volume"));return isNaN(b)?1:b};a.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1};a.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1};a.Player.prototype.requestFullScreen=function(){var b=
a.support.requestFullScreen;this.isFullScreen=!0;b?(a.on(document,b.eventName,a.bind(this,function(c){this.isFullScreen=document[b.isFullScreen];!1===this.isFullScreen&&a.off(document,b.eventName,arguments.callee);this.trigger("fullscreenchange")})),this.el_[b.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.cancelFullScreen=function(){var b=a.support.requestFullScreen;this.isFullScreen=
!1;if(b)document[b.cancelFn]();else this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=document.documentElement.style.overflow;a.on(document,"keydown",a.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";a.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};a.Player.prototype.fullWindowOnEscKey=
function(a){27===a.keyCode&&(!0===this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())};a.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1;a.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;a.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};a.Player.prototype.selectSource=function(b){for(var c=0,d=this.options_.techOrder;c<d.length;c++){var e=a.capitalize(d[c]),g=a[e];if(g.isSupported())for(var n=
0,m=b;n<m.length;n++){var q=m[n];if(g.canPlaySource(q))return{source:q,tech:e}}}return!1};a.Player.prototype.src=function(b){if(b instanceof Array){var c=this.selectSource(b);c?(b=c.source,c=c.tech,c==this.techName?this.src(b):this.loadTech(c,b)):this.el_.appendChild(a.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else b instanceof
Object?a[this.techName].canPlaySource(b)?this.src(b.src):this.src([b]):(this.cache_.src=b,this.isReady_?(this.techCall("src",b),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(b)}));return this};a.Player.prototype.load=function(){this.techCall("load");return this};a.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};a.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",
a),this.options_.preload=a,this):this.techGet("preload")};a.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)};a.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")};a.Player.prototype.poster=function(a){void 0!==a&&(this.poster_=a);return this.poster_};a.Player.prototype.controls=function(a){void 0!==a&&this.controls_!==a&&(this.controls_=
!!a,this.trigger("controlschange"));return this.controls_};a.Player.prototype.error=function(){return this.techGet("error")};a.Player.prototype.ended=function(){return this.techGet("ended")};(function(){var b,c,d;d=document.createElement("div");c={};void 0!==d.cancelFullscreen?(c.requestFn="requestFullscreen",c.cancelFn="exitFullscreen",c.eventName="fullscreenchange",c.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(b="moz",c.isFullScreen=b+"FullScreen"):(b="webkit",c.isFullScreen=b+"IsFullScreen"),
d[b+"RequestFullScreen"]&&(c.requestFn=b+"RequestFullScreen",c.cancelFn=b+"CancelFullScreen"),c.eventName=b+"fullscreenchange");document[c.cancelFn]&&(a.support.requestFullScreen=c)})();a.ControlBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.controls()||this.disable();b.one("play",a.bind(this,function(){var b,c=a.bind(this,this.fadeIn),d=a.bind(this,this.fadeOut);this.fadeOut();"ontouchstart"in window||(this.player_.on("mouseover",c),this.player_.on("mouseout",d),this.player_.on("pause",
a.bind(this,this.lockShowing)),this.player_.on("play",a.bind(this,this.unlockShowing)));b=!1;this.player_.on("touchstart",function(){b=!0});this.player_.on("touchmove",function(){b=!1});this.player_.on("touchend",a.bind(this,function(a){var c;b&&(c=this.el().className.search("fade-in"),-1!==c?this.fadeOut():this.fadeIn());b=!1;this.player_.paused()||a.preventDefault()}))}))}});a.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},
remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};a.ControlBar.prototype.createEl=function(){return a.createEl("div",{className:"vjs-control-bar"})};a.ControlBar.prototype.fadeIn=function(){a.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};a.ControlBar.prototype.fadeOut=function(){a.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};a.PlayToggle=a.Button.extend({init:function(b,c){a.Button.call(this,
b,c);b.on("play",a.bind(this,this.onPlay));b.on("pause",a.bind(this,this.onPause))}});a.PlayToggle.prototype.buttonText="Play";a.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+a.Button.prototype.buildCSSClass.call(this)};a.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()};a.PlayToggle.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML=
"Pause"};a.PlayToggle.prototype.onPause=function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused");this.el_.children[0].children[0].innerHTML="Play"};a.CurrentTimeDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.CurrentTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=a.createEl("div",
{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.CurrentTimeDisplay.prototype.updateContent=function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+a.formatTime(b,this.player_.duration())};a.DurationDisplay=a.Component.extend({init:function(b,
c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.DurationDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.DurationDisplay.prototype.updateContent=
function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+a.formatTime(this.player_.duration()))};a.TimeDivider=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.TimeDivider.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};a.RemainingTimeDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",
a.bind(this,this.updateContent))}});a.RemainingTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&
this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+a.formatTime(this.player_.remainingTime()))};a.FullscreenToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c)}});a.FullscreenToggle.prototype.buttonText="Fullscreen";a.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+a.Button.prototype.buildCSSClass.call(this)};a.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),
this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")};a.ProgressControl=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.ProgressControl.prototype.options_={children:{seekBar:{}}};a.ProgressControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};a.SeekBar=a.Slider.extend({init:function(b,c){a.Slider.call(this,
b,c);b.on("timeupdate",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes))}});a.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};a.SeekBar.prototype.playerEvent="timeupdate";a.SeekBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};a.SeekBar.prototype.updateARIAAttributes=
function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",a.round(100*this.getPercent(),2));this.el_.setAttribute("aria-valuetext",a.formatTime(b,this.player_.duration()))};a.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};a.SeekBar.prototype.onMouseDown=function(b){a.Slider.prototype.onMouseDown.call(this,b);this.player_.scrubbing=!0;this.videoWasPlaying=!this.player_.paused();
this.player_.pause()};a.SeekBar.prototype.onMouseMove=function(a){a=this.calculateDistance(a)*this.player_.duration();a==this.player_.duration()&&(a-=0.1);this.player_.currentTime(a)};a.SeekBar.prototype.onMouseUp=function(b){a.Slider.prototype.onMouseUp.call(this,b);this.player_.scrubbing=!1;this.videoWasPlaying&&this.player_.play()};a.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};a.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-
5)};a.LoadProgressBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("progress",a.bind(this,this.update))}});a.LoadProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};a.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=a.round(100*this.player_.bufferedPercent(),2)+"%")};a.PlayProgressBar=a.Component.extend({init:function(b,
c){a.Component.call(this,b,c)}});a.PlayProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};a.SeekHandle=a.SliderHandle.extend();a.SeekHandle.prototype.defaultValue="00:00";a.SeekHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};a.VolumeControl=a.Component.extend({init:function(b,c){a.Component.call(this,
b,c);b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.VolumeControl.prototype.options_={children:{volumeBar:{}}};a.VolumeControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};a.VolumeBar=a.Slider.extend({init:function(b,
c){a.Slider.call(this,b,c);b.on("volumechange",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes));setTimeout(a.bind(this,this.update),0)}});a.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",a.round(100*this.player_.volume(),2));this.el_.setAttribute("aria-valuetext",a.round(100*this.player_.volume(),2)+"%")};a.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};
a.VolumeBar.prototype.playerEvent="volumechange";a.VolumeBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};a.VolumeBar.prototype.onMouseMove=function(a){this.player_.volume(this.calculateDistance(a))};a.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()};a.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};a.VolumeBar.prototype.stepBack=
function(){this.player_.volume(this.player_.volume()-0.1)};a.VolumeLevel=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.VolumeLevel.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};a.VolumeHandle=a.SliderHandle.extend();a.VolumeHandle.prototype.defaultValue="00:00";a.VolumeHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,
"div",{className:"vjs-volume-handle"})};a.MuteToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.MuteToggle.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",
{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)};a.MuteToggle.prototype.update=function(){var b=this.player_.volume(),c=3;0===b||this.player_.muted()?c=0:0.33>b?c=1:0.67>b&&(c=2);this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&
(this.el_.children[0].children[0].innerHTML="Mute");for(b=0;4>b;b++)a.removeClass(this.el_,"vjs-vol-"+b);a.addClass(this.el_,"vjs-vol-"+c)};a.VolumeMenuButton=a.MenuButton.extend({init:function(b,c){a.MenuButton.call(this,b,c);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}));
this.addClass("vjs-menu-button")}});a.VolumeMenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_,{contentElType:"div"}),c=new a.VolumeBar(this.player_,a.obj.merge({vertical:!0},this.options_.volumeBar));b.addChild(c);return b};a.VolumeMenuButton.prototype.onClick=function(){a.MuteToggle.prototype.onClick.call(this);a.MenuButton.prototype.onClick.call(this)};a.VolumeMenuButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",
innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.VolumeMenuButton.prototype.update=a.MuteToggle.prototype.update;a.PosterImage=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.poster()&&b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.PosterImage.prototype.createEl=function(){var b=a.createEl("div",{className:"vjs-poster",tabIndex:-1}),c=this.player_.poster();c&&("backgroundSize"in b.style?b.style.backgroundImage='url("'+c+'")':b.appendChild(a.createEl("img",
{src:c})));return b};a.PosterImage.prototype.onClick=function(){this.player_.play()};a.LoadingSpinner=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("canplay",a.bind(this,this.hide));b.on("canplaythrough",a.bind(this,this.hide));b.on("playing",a.bind(this,this.hide));b.on("seeked",a.bind(this,this.hide));b.on("seeking",a.bind(this,this.show));b.on("seeked",a.bind(this,this.hide));b.on("error",a.bind(this,this.show));b.on("waiting",a.bind(this,this.show))}});a.LoadingSpinner.prototype.createEl=
function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};a.BigPlayButton=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.BigPlayButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};a.BigPlayButton.prototype.onClick=function(){this.player_.play()};a.MediaTechController=
a.Component.extend({init:function(b,c,d){a.Component.call(this,b,c,d)}});a.MediaTechController.prototype.onClick=function(){return a.IS_ANDROID?function(){}:function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())}}();a.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1};a.media={};a.media.ApiMethods="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
for(var e=a.media.ApiMethods.length-1;0<=e;e--)a.MediaTechController.prototype[a.media.ApiMethods[e]]=d(a.media.ApiMethods[e]);a.Html5=a.MediaTechController.extend({init:function(b,c,d){this.features.volumeControl=a.Html5.canControlVolume();this.features.movingMediaElementInDOM=!a.IS_IOS;this.features.fullscreenResize=!0;a.MediaTechController.call(this,b,c,d);(c=c.source)&&this.el_.currentSrc==c.src?b.trigger("loadstart"):c&&(this.el_.src=c.src);b.ready(function(){this.options_.autoplay&&this.paused()&&
(this.tag.poster=null,this.play())});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});a.Html5.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Html5.prototype.createEl=function(){var b=this.player_,c=b.tag;c&&!1!==this.features.movingMediaElementInDOM||(c?(b.el().removeChild(c),c=c.cloneNode(!1)):c=a.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),c.player=b,a.insertFirst(c,b.el()));for(var d=["autoplay","preload","loop","muted"],
e=d.length-1;0<=e;e--){var g=d[e];null!==b.options_[g]&&(c[g]=b.options_[g])}return c};a.Html5.prototype.setupTriggers=function(){for(var b=a.Html5.Events.length-1;0<=b;b--)a.on(this.el_,a.Html5.Events[b],a.bind(this.player_,this.eventHandler))};a.Html5.prototype.eventHandler=function(a){this.trigger(a);a.stopPropagation()};a.Html5.prototype.play=function(){this.el_.play()};a.Html5.prototype.pause=function(){this.el_.pause()};a.Html5.prototype.paused=function(){return this.el_.paused};a.Html5.prototype.currentTime=
function(){return this.el_.currentTime};a.Html5.prototype.setCurrentTime=function(b){try{this.el_.currentTime=b}catch(c){a.log(c,"Video is not ready. (Video.js)")}};a.Html5.prototype.duration=function(){return this.el_.duration||0};a.Html5.prototype.buffered=function(){return this.el_.buffered};a.Html5.prototype.volume=function(){return this.el_.volume};a.Html5.prototype.setVolume=function(a){this.el_.volume=a};a.Html5.prototype.muted=function(){return this.el_.muted};a.Html5.prototype.setMuted=function(a){this.el_.muted=
a};a.Html5.prototype.width=function(){return this.el_.offsetWidth};a.Html5.prototype.height=function(){return this.el_.offsetHeight};a.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(a.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(a.USER_AGENT)?!1:!0};a.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};
a.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};a.Html5.prototype.src=function(a){this.el_.src=a};a.Html5.prototype.load=function(){this.el_.load()};a.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};a.Html5.prototype.preload=function(){return this.el_.preload};a.Html5.prototype.setPreload=function(a){this.el_.preload=a};a.Html5.prototype.autoplay=function(){return this.el_.autoplay};a.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a};a.Html5.prototype.loop=
function(){return this.el_.loop};a.Html5.prototype.setLoop=function(a){this.el_.loop=a};a.Html5.prototype.error=function(){return this.el_.error};a.Html5.prototype.seeking=function(){return this.el_.seeking};a.Html5.prototype.ended=function(){return this.el_.ended};a.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};a.Html5.isSupported=function(){return!!document.createElement("video").canPlayType};a.Html5.canPlaySource=function(a){return!!document.createElement("video").canPlayType(a.type)};
a.Html5.canControlVolume=function(){var b=a.TEST_VID.volume;a.TEST_VID.volume=b/2+0.1;return b!==a.TEST_VID.volume};a.Html5.Events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");a.IS_ANDROID&&3>a.ANDROID_VERSION&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?
"maybe":""});a.Flash=a.MediaTechController.extend({init:function(b,c,d){a.MediaTechController.call(this,b,c,d);d=c.source;var e=c.parentEl,g=this.el_=a.createEl("div",{id:b.id()+"_temp_flash"}),n=b.id()+"_flash_api";b=b.options_;var m=a.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:b.autoplay,preload:b.preload,loop:b.loop,muted:b.muted},c.flashVars),q=a.obj.merge({wmode:"opaque",bgcolor:"#000000"},
c.params),l=a.obj.merge({id:n,name:n,"class":"vjs-tech"},c.attributes);d&&(m.src=encodeURIComponent(a.getAbsoluteURL(d.src)));a.insertFirst(g,e);c.startTime&&this.ready(function(){this.load();this.play();this.currentTime(c.startTime)});if(!0!==c.iFrameMode||a.IS_FIREFOX)a.Flash.embed(c.swf,g,m,q,l);else{var r=a.createEl("iframe",{id:n+"_iframe",name:n+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});m.readyFunction="ready";m.eventProxyFunction="events";m.errorEventProxyFunction=
"errors";a.on(r,"load",a.bind(this,function(){var b,d=r.contentWindow;b=r.contentDocument?r.contentDocument:r.contentWindow.document;b.write(a.Flash.getEmbedCode(c.swf,m,q,l));d.player=this.player_;d.ready=a.bind(this.player_,function(c){c=b.getElementById(c);var d=this.tech;d.el_=c;a.on(c,"click",d.bind(d.onClick));a.Flash.checkReady(d)});d.events=a.bind(this.player_,function(a,b){this&&"flash"===this.techName&&this.trigger(b)});d.errors=a.bind(this.player_,function(b,c){a.log("Flash Error",c)})}));
g.parentNode.replaceChild(r,g)}}});a.Flash.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Flash.prototype.play=function(){this.el_.vjs_play()};a.Flash.prototype.pause=function(){this.el_.vjs_pause()};a.Flash.prototype.src=function(b){b=a.getAbsoluteURL(b);this.el_.vjs_src(b);if(this.player_.autoplay()){var c=this;setTimeout(function(){c.play()},0)}};a.Flash.prototype.load=function(){this.el_.vjs_load()};a.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};
a.Flash.prototype.buffered=function(){return a.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};a.Flash.prototype.supportsFullScreen=function(){return!1};a.Flash.prototype.enterFullScreen=function(){return!1};var m=a.Flash.prototype,l="preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),r="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),
n=function(a){var c=a.charAt(0).toUpperCase()+a.slice(1);m["set"+c]=function(c){return this.el_.vjs_setProperty(a,c)}},z=function(a){m[a]=function(){return this.el_.vjs_getProperty(a)}};(function(){var a;for(a=0;a<l.length;a++)z(l[a]),n(l[a]);for(a=0;a<r.length;a++)z(r[a])})();a.Flash.isSupported=function(){return 10<=a.Flash.version()[0]};a.Flash.canPlaySource=function(b){if(b.type in a.Flash.formats)return"maybe"};a.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};
a.Flash.onReady=function(b){b=a.el(b);var c=b.player||b.parentNode.player,d=c.tech;b.player=c;d.el_=b;d.on("click",d.onClick);a.Flash.checkReady(d)};a.Flash.checkReady=function(b){b.el().vjs_getProperty?b.triggerReady():setTimeout(function(){a.Flash.checkReady(b)},50)};a.Flash.onEvent=function(b,c){a.el(b).player.trigger(c)};a.Flash.onError=function(b,c){a.el(b).player.trigger("error");a.log("Flash Error",c,b)};a.Flash.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,
",").match(/^,?(.+),?$/)[1]}catch(c){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(d){}}return a.split(",")};a.Flash.embed=function(b,c,d,e,g){b=a.Flash.getEmbedCode(b,d,e,g);b=a.createEl("div",{innerHTML:b}).childNodes[0];d=c.parentNode;c.parentNode.replaceChild(b,c);var n=d.childNodes[0];setTimeout(function(){n.style.display=
"block"},1E3);return b};a.Flash.getEmbedCode=function(b,c,d,e){var g="",n="",m="";c&&a.obj.each(c,function(a,b){g+=a+"="+b+"&amp;"});d=a.obj.merge({movie:b,flashvars:g,allowScriptAccess:"always",allowNetworking:"all"},d);a.obj.each(d,function(a,b){n+='<param name="'+a+'" value="'+b+'" />'});e=a.obj.merge({data:b,width:"100%",height:"100%"},e);a.obj.each(e,function(a,b){m+=a+'="'+b+'" '});return'<object type="application/x-shockwave-flash"'+m+">"+n+"</object>"};a.MediaLoader=a.Component.extend({init:function(b,
c,d){a.Component.call(this,b,c,d);if(b.options_.sources&&0!==b.options_.sources.length)b.src(b.options_.sources);else for(c=0,d=b.options_.techOrder;c<d.length;c++){var e=a.capitalize(d[c]),g=a[e];if(g&&g.isSupported()){b.loadTech(e);break}}}});a.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[]};a.Player.prototype.addTextTrack=function(b,c,d,e){var g=this.textTracks_=this.textTracks_||[];e=e||{};e.kind=b;e.label=c;e.language=d;b=a.capitalize(b||"subtitles");e=new a[b+
"Track"](this,e);g.push(e);return e};a.Player.prototype.addTextTracks=function(a){for(var c,d=0;d<a.length;d++)c=a[d],this.addTextTrack(c.kind,c.label,c.language,c);return this};a.Player.prototype.showTextTrack=function(a,c){for(var d=this.textTracks_,e=0,g=d.length,n,m;e<g;e++)n=d[e],n.id()===a?(n.show(),m=n):c&&(n.kind()==c&&0<n.mode())&&n.disable();(d=m?m.kind():c?c:!1)&&this.trigger(d+"trackchange");return this};a.TextTrack=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);this.id_=
c.id||"vjs_"+c.kind+"_"+c.language+"_"+a.guid++;this.src_=c.src;this.dflt_=c["default"]||c.dflt;this.title_=c.title;this.language_=c.srclang;this.label_=c.label;this.cues_=[];this.activeCues_=[];this.mode_=this.readyState_=0;this.player_.on("fullscreenchange",a.bind(this,this.adjustFontSize))}});a.TextTrack.prototype.kind=function(){return this.kind_};a.TextTrack.prototype.src=function(){return this.src_};a.TextTrack.prototype.dflt=function(){return this.dflt_};a.TextTrack.prototype.title=function(){return this.title_};
a.TextTrack.prototype.language=function(){return this.language_};a.TextTrack.prototype.label=function(){return this.label_};a.TextTrack.prototype.cues=function(){return this.cues_};a.TextTrack.prototype.activeCues=function(){return this.activeCues_};a.TextTrack.prototype.readyState=function(){return this.readyState_};a.TextTrack.prototype.mode=function(){return this.mode_};a.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?140*(screen.width/this.player_.width())+
"%":""};a.TextTrack.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};a.TextTrack.prototype.show=function(){this.activate();this.mode_=2;a.Component.prototype.show.call(this)};a.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;a.Component.prototype.hide.call(this)};a.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide();this.deactivate();this.mode_=0};a.TextTrack.prototype.activate=function(){0===
this.readyState_&&this.load();0===this.mode_&&(this.player_.on("timeupdate",a.bind(this,this.update,this.id_)),this.player_.on("ended",a.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))};a.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",a.bind(this,this.update,this.id_));this.player_.off("ended",a.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};
a.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,a.get(this.src_,a.bind(this,this.parseCues),a.bind(this,this.onError)))};a.TextTrack.prototype.onError=function(a){this.error=a;this.readyState_=3;this.trigger("error")};a.TextTrack.prototype.parseCues=function(b){var c,d;b=b.split("\n");for(var e="",g=1,n=b.length;g<n;g++)if(e=a.trim(b[g])){-1==e.indexOf("--\x3e")?(c=e,e=a.trim(b[++g])):c=this.cues_.length;c={id:c,index:this.cues_.length};d=e.split(" --\x3e ");c.startTime=
this.parseCueTime(d[0]);c.endTime=this.parseCueTime(d[1]);for(d=[];b[++g]&&(e=a.trim(b[g]));)d.push(e);c.text=d.join("<br/>");this.cues_.push(c)}this.readyState_=2;this.trigger("loaded")};a.TextTrack.prototype.parseCueTime=function(a){var c=a.split(":");a=0;var d,e,g;3==c.length?(d=c[0],e=c[1],c=c[2]):(d=0,e=c[0],c=c[1]);c=c.split(/\s+/);c=c.splice(0,1)[0];c=c.split(/\.|,/);g=parseFloat(c[1]);c=c[0];a+=3600*parseFloat(d);a+=60*parseFloat(e);a+=parseFloat(c);g&&(a+=g/1E3);return a};a.TextTrack.prototype.update=
function(){if(0<this.cues_.length){var a=this.player_.currentTime();if(void 0===this.prevChange||a<this.prevChange||this.nextChange<=a){var c=this.cues_,d=this.player_.duration(),e=0,g=!1,n=[],m,q,l,r;a>=this.nextChange||void 0===this.nextChange?r=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(g=!0,r=void 0!==this.lastActiveIndex?this.lastActiveIndex:c.length-1);for(;;){l=c[r];if(l.endTime<=a)e=Math.max(e,l.endTime),l.active&&(l.active=!1);else if(a<l.startTime){if(d=Math.min(d,l.startTime),
l.active&&(l.active=!1),!g)break}else g?(n.splice(0,0,l),void 0===q&&(q=r),m=r):(n.push(l),void 0===m&&(m=r),q=r),d=Math.min(d,l.endTime),e=Math.max(e,l.startTime),l.active=!0;if(g)if(0===r)break;else r--;else if(r===c.length-1)break;else r++}this.activeCues_=n;this.nextChange=d;this.prevChange=e;this.firstActiveIndex=m;this.lastActiveIndex=q;this.updateDisplay();this.trigger("cuechange")}}};a.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,c="",d=0,e=a.length;d<e;d++)c+='<span class="vjs-tt-cue">'+
a[d].text+"</span>";this.el_.innerHTML=c};a.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.lastActiveIndex=this.firstActiveIndex=0};a.CaptionsTrack=a.TextTrack.extend();a.CaptionsTrack.prototype.kind_="captions";a.SubtitlesTrack=a.TextTrack.extend();a.SubtitlesTrack.prototype.kind_="subtitles";a.ChaptersTrack=a.TextTrack.extend();a.ChaptersTrack.prototype.kind_="chapters";a.TextTrackDisplay=a.Component.extend({init:function(b,c,d){a.Component.call(this,
b,c,d);b.options_.tracks&&0<b.options_.tracks.length&&this.player_.addTextTracks(b.options_.tracks)}});a.TextTrackDisplay.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};a.TextTrackMenuItem=a.MenuItem.extend({init:function(b,c){var d=this.track=c.track;c.label=d.label();c.selected=d.dflt();a.MenuItem.call(this,b,c);this.player_.on(d.kind()+"trackchange",a.bind(this,this.update))}});a.TextTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.TextTrackMenuItem.prototype.update=function(){2==this.track.mode()?this.selected(!0):this.selected(!1)};a.OffTextTrackMenuItem=a.TextTrackMenuItem.extend({init:function(b,c){c.track={kind:function(){return c.kind},player:b,label:function(){return c.kind+" off"},dflt:function(){return!1},mode:function(){return!1}};a.TextTrackMenuItem.call(this,b,c);this.selected(!0)}});a.OffTextTrackMenuItem.prototype.onClick=function(){a.TextTrackMenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.OffTextTrackMenuItem.prototype.update=function(){for(var a=this.player_.textTracks(),c=0,d=a.length,e,g=!0;c<d;c++)e=a[c],e.kind()==this.track.kind()&&2==e.mode()&&(g=!1);g?this.selected(!0):this.selected(!1)};a.TextTrackButton=a.MenuButton.extend({init:function(b,c){a.MenuButton.call(this,b,c);1>=this.items.length&&this.hide()}});a.TextTrackButton.prototype.createItems=function(){var b=[],c;b.push(new a.OffTextTrackMenuItem(this.player_,
{kind:this.kind_}));for(var d=0;d<this.player_.textTracks().length;d++)c=this.player_.textTracks()[d],c.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:c}));return b};a.CaptionsButton=a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Captions Menu")}});a.CaptionsButton.prototype.kind_="captions";a.CaptionsButton.prototype.buttonText="Captions";a.CaptionsButton.prototype.className="vjs-captions-button";a.SubtitlesButton=
a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Subtitles Menu")}});a.SubtitlesButton.prototype.kind_="subtitles";a.SubtitlesButton.prototype.buttonText="Subtitles";a.SubtitlesButton.prototype.className="vjs-subtitles-button";a.ChaptersButton=a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Chapters Menu")}});a.ChaptersButton.prototype.kind_="chapters";a.ChaptersButton.prototype.buttonText=
"Chapters";a.ChaptersButton.prototype.className="vjs-chapters-button";a.ChaptersButton.prototype.createItems=function(){for(var b=[],c,d=0;d<this.player_.textTracks().length;d++)c=this.player_.textTracks()[d],c.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:c}));return b};a.ChaptersButton.prototype.createMenu=function(){for(var b=this.player_.textTracks(),c=0,d=b.length,e,g,n=this.items=[];c<d;c++)if(e=b[c],e.kind()==this.kind_&&e.dflt()){if(2>e.readyState()){this.chaptersTrack=
e;e.on("loaded",a.bind(this,this.createMenu));return}g=e;break}b=this.menu=new a.Menu(this.player_);b.el_.appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(g){e=g.cues_;for(var m,c=0,d=e.length;c<d;c++)m=e[c],m=new a.ChaptersTrackMenuItem(this.player_,{track:g,cue:m}),n.push(m),b.addChild(m)}0<this.items.length&&this.show();return b};a.ChaptersTrackMenuItem=a.MenuItem.extend({init:function(b,c){var d=this.track=c.track,e=this.cue=c.cue,g=
b.currentTime();c.label=e.text;c.selected=e.startTime<=g&&g<e.endTime;a.MenuItem.call(this,b,c);d.on("cuechange",a.bind(this,this.update))}});a.ChaptersTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};a.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,c=this.player_.currentTime();a.startTime<=c&&c<a.endTime?this.selected(!0):this.selected(!1)};a.obj.merge(a.ControlBar.prototype.options_.children,
{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)a.JSON=window.JSON;else{a.JSON={};var C=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a.JSON.parse=function(a,c){function d(a,b){var e,k,g=a[b];if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(k=d(g,e),void 0!==k?g[e]=k:delete g[e]);return c.call(a,b,g)}var e;a=String(a);C.lastIndex=
0;C.test(a)&&(a=a.replace(C,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}a.autoSetup=function(){var b,c,d=document.getElementsByTagName("video");
if(d&&0<d.length)for(var e=0,g=d.length;e<g;e++)if((c=d[e])&&c.getAttribute)void 0===c.player&&(b=c.getAttribute("data-setup"),null!==b&&(b=a.JSON.parse(b||"{}"),q(c,b)));else{a.autoSetupTimeout(1);break}else a.windowLoaded||a.autoSetupTimeout(1)};a.autoSetupTimeout=function(b){setTimeout(a.autoSetup,b)};a.one(window,"load",function(){a.windowLoaded=!0});a.autoSetupTimeout(1);a.plugin=function(b,c){a.Player.prototype[b]=c};w.exports=a})()})()},{}],46:[function(l,w,x){(function(){var d=l("../base"),
a=l("backbone"),q=l("lodash"),d=d.extend({template:l("../../templates/layout/navbar.hbs"),initialize:function(a){this.app=a.app;this.pages=this.app.db.fetchCollection("pages");this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.pages,"change add remove sort",this.render,this);this.listenTo(this.unprocessed,"change add remove",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.app,"flash",this.render,this);this.renderOnReady(this.pages,
this.unprocessed,this.app.getUser())},context:function(){var d=null,e=null,m=[],l=this.unprocessed.length,r="Choose thumbnail"+(1!==this.unprocessed.length?"":"s")+" for "+this.unprocessed.length+" upload"+(1===this.unprocessed.length?"":"s");this.pages.forEach(function(n){if(this.app.isLoggedIn()||n.attributes.isPublished){var l=encodeURIComponent(n.attributes.name);n=q.extend(q.clone(n.attributes),{href:"/page/"+l,editHref:"/page/"+l+"/edit",addHref:"/page/"+l+"/addMedia",active:!1});if(a.history.fragment===
n.href.replace(/^\//,"")||0==a.history.fragment.indexOf("page/"+l+"/"))n.active=!0,e=n.editHref,d=n.addHref;m.push(n)}},this);return this.getContext({pages:m,editPageHref:e,addMediaHref:d,createHref:"/createPage",reviewHref:"/review",isHome:""===a.history.fragment,isPage:a.history.fragment.match(/^(edit)?[pP]age\//)?!0:!1,isEditingPage:a.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isAddingMedia:a.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/addMedia$/)?!0:!1,isEditingMedia:a.history.fragment.match(/^media\/(image|video)\/[a-zA-Z0-9\-]+\/edit$/)?
!0:!1,isCreatingPage:a.history.fragment.match(/^createPage/)?!0:!1,isReviewingUploads:a.history.fragment.match(/^review/)?!0:!1,unprocessedCount:l,unprocessedPrompt:r})},afterRender:function(){this.eachSubview(function(a){a.render()});this.$(".alert").alert()}});w.exports=d})()},{"../../templates/layout/navbar.hbs":75,"../base":49,backbone:58,lodash:38}],50:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,q,g,e){function m(a,b){return'\n          <div class="alert alert-info">\n            <h3>Test Account Available</h3>\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\n            <a class="provisionTestAccount btn btn-info btn-block">Create Test Account</a>\n          </div>\n        '}
function l(a,b){var c,d;return c=""+('\n          <div class="alert alert-error">\n            '+n((d=(d=a.user,null==d||!1===d?d:d.error),typeof d===r?d.apply(a):d))+"\n          </div>\n        ")}this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,d.helpers);e=e||{};var r="function",n=this.escapeExpression,z=this;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3">\n      ';if((a=q["if"].call(a,a.isLoggedIn,{hash:{},inverse:z.program(3,
function(a,b){var c,d,e;c="\n        ";if((d=q["if"].call(a,a.debug,{hash:{},inverse:z.noop,fn:z.program(4,m,b),data:b}))||0===d)c+=d;c+="\n        ";if((e=q["if"].call(a,(d=a.user,null==d||!1===d?d:d.error),{hash:{},inverse:z.noop,fn:z.program(6,l,b),data:b}))||0===e)c+=e;return c+='\n        <form>\n          <div class="control-group">\n            <input type="text" name="username" value="'+n((d=(d=a.user,null==d||!1===d?d:d.username),typeof d===r?d.apply(a):d))+'" class="span6" placeholder="Username" />\n          </div>\n          <div class="control-group">\n            <input type="password" name="password" value="" class="span6" placeholder="Password" />\n          </div>\n          <div class="actions">\n            <button type="submit" class="btn btn-primary btn-block">Log In</button>\n          </div>\n        </form>\n      '},
e),fn:z.program(1,function(a,b){var c,d;return c=""+('\n        <div class="alert alert-info">\n          <h3>Welcome Back, '+n((d=(d=a.user,null==d||!1===d?d:d.username),typeof d===r?d.apply(a):d))+'</h3>\n          <p>You\'re now able to edit your website.</p>\n          <a href="/" class="btn btn-info btn-wide app">Go to homepage</a>\n          <a href="/logout" class="btn btn-danger btn-wide app">Log Out</a>\n        </div>\n      ')},e),data:e}))||0===a)d+=a;return d+'\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},
{"handlebars-runtime":76}],48:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,q,g,e){this.compilerInfo=[4,">= 1.0.0"];this.merge(q,d.helpers);var m;d=this.escapeExpression;return a=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h1 class="title">'+d((m=(m=a.sitetitle,null==m||!1===m?m:m.value),"function"===typeof m?m.apply(a):m))+'</h1>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>')})},
{"handlebars-runtime":76}],51:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,q,g,e){function m(a,d){return'id="firstFixButton"'}this.compilerInfo=[4,">= 1.0.0"];q=this.merge(q,d.helpers);e=e||{};var l=this.escapeExpression,r=this;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>File</th>\n            <th colspan="2">Problem</th>\n          </tr>\n        </thead>\n        <tbody>\n          ';
if((g=q.each.call(a,a.unprocessed,{hash:{},inverse:r.noop,fn:r.program(1,function(a,d){var e,b,c;e="\n            <tr>\n              <td><big>";(b=q.name)?b=b.call(a,{hash:{},data:d}):(b=a.name,b="function"===typeof b?b.apply(a):b);e+=l(b)+"</big></td>\n              <td><big>";(b=q.reviewIssue)?b=b.call(a,{hash:{},data:d}):(b=a.reviewIssue,b="function"===typeof b?b.apply(a):b);e+=l(b)+"</big></td>\n              <td><a ";if((c=q.unless.call(a,(b=d,null==b||!1===b?b:b.index),{hash:{},inverse:r.noop,
fn:r.program(2,m,d),data:d}))||0===c)e+=c;e+=' href="';(c=q.editHref)?c=c.call(a,{hash:{},data:d}):(c=a.editHref,c="function"===typeof c?c.apply(a):c);return e+=l(c)+'" class="app btn btn-info btn-mini">Fix It!</a></td>\n            </tr>\n          '},e),data:e}))||0===g)d+=g;d+="\n          ";if((g=q["if"].call(a,a.nothingToReview,{hash:{},inverse:r.noop,fn:r.program(4,function(a,d){return'\n            <tr>\n              <td colspan="3">Nothing to review, good job!</td>\n            </tr>\n          '},
e),data:e}))||0===g)d+=g;return d+'\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":76}],76:[function(l,w,x){l={};w.exports=l;(function(d,a){d.VERSION="1.0.0";d.COMPILER_REVISION=4;d.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};d.helpers={};d.partials={};var l=Object.prototype.toString;d.registerHelper=function(a,e,g){if("[object Object]"===l.call(a)){if(g||e)throw new d.Exception("Arg not supported with multiple helpers");
d.Utils.extend(this.helpers,a)}else g&&(e.not=g),this.helpers[a]=e};d.registerPartial=function(a,e){"[object Object]"===l.call(a)?d.Utils.extend(this.partials,a):this.partials[a]=e};d.registerHelper("helperMissing",function(d){if(2===arguments.length)return a;throw Error("Missing helper: '"+d+"'");});d.registerHelper("blockHelperMissing",function(a,e){var g=e.inverse||function(){},b=e.fn,c=l.call(a);"[object Function]"===c&&(a=a.call(this));return!0===a?b(this):!1===a||null==a?g(this):"[object Array]"===
c?0<a.length?d.helpers.each(a,e):g(this):b(a)});d.K=function(){};d.createFrame=Object.create||function(a){d.K.prototype=a;a=new d.K;d.K.prototype=null;return a};d.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(a,e){if(d.logger.level<=a){var g=d.logger.methodMap[a];"undefined"!==typeof console&&console[g]&&console[g].call(console,e)}}};d.log=function(a,e){d.logger.log(a,e)};d.registerHelper("each",function(a,e){var g=e.fn,b=e.inverse,c=
0,f="",k;"[object Function]"===l.call(a)&&(a=a.call(this));e.data&&(k=d.createFrame(e.data));if(a&&"object"===typeof a)if(a instanceof Array)for(var m=a.length;c<m;c++)k&&(k.index=c),f+=g(a[c],{data:k});else for(m in a)a.hasOwnProperty(m)&&(k&&(k.key=m),f+=g(a[m],{data:k}),c++);0===c&&(f=b(this));return f});d.registerHelper("if",function(a,e){"[object Function]"===l.call(a)&&(a=a.call(this));return!a||d.Utils.isEmpty(a)?e.inverse(this):e.fn(this)});d.registerHelper("unless",function(a,e){return d.helpers["if"].call(this,
a,{fn:e.inverse,inverse:e.fn})});d.registerHelper("with",function(a,e){"[object Function]"===l.call(a)&&(a=a.call(this));if(!d.Utils.isEmpty(a))return e.fn(a)});d.registerHelper("log",function(a,e){var g=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;d.log(g,a)});var g="description fileName lineNumber message name number stack".split(" ");d.Exception=function(a){for(var d=Error.prototype.constructor.apply(this,arguments),e=0;e<g.length;e++)this[g[e]]=d[g[e]]};d.Exception.prototype=Error();
d.SafeString=function(a){this.string=a};d.SafeString.prototype.toString=function(){return this.string.toString()};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},m=/[&<>"'`]/g,w=/[&<>"'`]/,r=function(a){return e[a]||"&amp;"};d.Utils={extend:function(a,d){for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])},escapeExpression:function(a){if(a instanceof d.SafeString)return a.toString();if(null==a||!1===a)return"";a=a.toString();return w.test(a)?a.replace(m,r):a},isEmpty:function(a){return a||
0===a?"[object Array]"===l.call(a)&&0===a.length?!0:!1:!0}};d.VM={template:function(a){var e={escapeExpression:d.Utils.escapeExpression,invokePartial:d.VM.invokePartial,programs:[],program:function(a,b,c){var f=this.programs[a];c?f=d.VM.program(a,b,c):f||(f=this.programs[a]=d.VM.program(a,b));return f},merge:function(a,b){var c=a||b;a&&b&&(c={},d.Utils.extend(c,b),d.Utils.extend(c,a));return c},programWithDepth:d.VM.programWithDepth,noop:d.VM.noop,compilerInfo:null};return function(g,b){b=b||{};var c=
a.call(e,d,g,b.helpers,b.partials,b.data),f=e.compilerInfo||[],k=f[0]||1,m=d.COMPILER_REVISION;if(k!==m){if(k<m)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d.REVISION_CHANGES[m]+") or downgrade your runtime to an older version ("+d.REVISION_CHANGES[k]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+f[1]+
").";}return c}},programWithDepth:function(a,d,e){var b=Array.prototype.slice.call(arguments,3),c=function(a,c){c=c||{};return d.apply(this,[a,c.data||e].concat(b))};c.program=a;c.depth=b.length;return c},program:function(a,d,e){var b=function(a,b){b=b||{};return d(a,b.data||e)};b.program=a;b.depth=0;return b},noop:function(){return""},invokePartial:function(e,g,m,b,c,f){b={helpers:b,partials:c,data:f};if(e===a)throw new d.Exception("The partial "+g+" could not be found");if(e instanceof Function)return e(m,
b);if(d.compile)return c[g]=d.compile(e,{data:f!==a}),c[g](m,b);throw new d.Exception("The partial "+g+" could not be compiled when running in runtime-only mode");}};d.template=d.VM.template})(l)},{}],52:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){this.compilerInfo=[4,">= 1.0.0"];this.merge(l,d.helpers);var m;d=this.escapeExpression;return a=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <form>\n        <fieldset>\n          <legend>Create A New Page</legend>\n          <label class="control-label" for="name">Page Title</label>\n          <input type="text" id="name" name="name" placeholder="Untitled Page" value="'+
d((m=(m=a.page,null==m||!1===m?m:m.name),"function"===typeof m?m.apply(a):m))+'">\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Create</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n')})},{"handlebars-runtime":76}],54:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,
g,e){this.compilerInfo=[4,">= 1.0.0"];this.merge(l,d.helpers);return'<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":76}],55:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};var m;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    ';
if((a=l["if"].call(a,(m=a.page,null==m||!1===m?m:m.id),{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){return'\n    <div class="span2 offset5 centered">\n\n  \x3c!--\n      <div class="tooltip-trigger" data-title="Upload a new file from your computer or elsewhere" data-placement="left">\n  --\x3e\n      <div id="uploadFileLink">\n        <p>\n          <a href="#" class="filepicker">\n            <img class="flatIcon" src="/img/file_upload.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="filepicker btn btn-success">Upload File</a>\n        </p>\n      </div>\n    </div>\n  \x3c!--\n    <div class="span2 centered">\n      <div class="tooltip-trigger" data-title="Use a file on another page" data-placement="right">\n        <p>\n          <a href="#" class="useExisting">\n            <img class="flatIcon" src="/img/folder.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="useExisting btn btn-info">Use Existing</a>\n        </p>\n      </div>\n    </div>\n  --\x3e\n    '},
e),data:e}))||0===a)d+=a;return d+'\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":76}],57:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){function m(a,d){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};var w=this.escapeExpression,r=this;d='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n    <form>\n      ';
if((g=l["with"].call(a,a.page,{hash:{},inverse:r.noop,fn:r.program(1,function(a,d){var e,b;e="\n      <fieldset>\n        <legend>Edit ";(b=l.name)?b=b.call(a,{hash:{},data:d}):(b=a.name,b="function"===typeof b?b.apply(a):b);e+=w(b)+'</legend>\n        <label class="control-label" for="name">Page Title</label>\n        <input type="text" id="name" name="name" placeholder="Untitled Page" value="';(b=l.name)?b=b.call(a,{hash:{},data:d}):(b=a.name,b="function"===typeof b?b.apply(a):b);e+=w(b)+'">\n        <div class="control-group">\n          <label class="control-label" for="isPublished">Visible To Public?</label>\n          <div class="switch switch-large"\n            data-on-label="Yes"\n            data-off-label="No">\n            <input name="isPublished" ';
if((b=l["if"].call(a,a.isPublished,{hash:{},inverse:r.noop,fn:r.program(2,m,d),data:d}))||0===b)e+=b;return e+' type="checkbox" />\n          </div>\n        </div>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <a class="btn btn-danger">Delete</a>\n          </div>\n        </div>\n      </fieldset>\n      '},e),data:e}))||0===g)d+=g;d+='\n      <fieldset>\n        <legend>Sort Media</legend>\n        <ul class="mediagrid sortable">\n        ';
if((g=l.each.call(a,a.media,{hash:{},inverse:r.noop,fn:r.program(4,function(a,d){var e,b;e='\n          <li class="span4" data-uuid="';(b=l.id)?b=b.call(a,{hash:{},data:d}):(b=a.id,b="function"===typeof b?b.apply(a):b);e+=w(b)+'">\n            <div class="relfix">\n              <img src="';(b=l.thumbnailUrl)?b=b.call(a,{hash:{},data:d}):(b=a.thumbnailUrl,b="function"===typeof b?b.apply(a):b);e+=w(b)+'" alt="';(b=l.name)?b=b.call(a,{hash:{},data:d}):(b=a.name,b="function"===typeof b?b.apply(a):b);
e+=w(b)+'" class="img-polaroid" />\n              <p class="absfix">\n                <a href="';(b=l.editHref)?b=b.call(a,{hash:{},data:d}):(b=a.editHref,b="function"===typeof b?b.apply(a):b);return e+=w(b)+'" class="app btn btn-mini btn-info">Edit</a>\n              </p>\n            </div>\n          </li>\n        '},e),data:e}))||0===g)d+=g;return d+'\n        </ul>\n      </fieldset>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":76}],
69:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){function m(a,b){var d,e;d='\n            <p>\n              <img src="';(e=l.thumbnailUrl)?e=e.call(a,{hash:{},data:b}):(e=a.thumbnailUrl,e=typeof e===z?e.apply(a):e);d+=x(e)+'" class="thumbHolder img-polaroid" alt="';(e=l.name)?e=e.call(a,{hash:{},data:b}):(e=a.name,e=typeof e===z?e.apply(a):e);return d+=x(e)+' Thumbnail" />\n            </p>\n          '}function w(a,b){return'\n            <div class="alert alert-warning">\n              <big>No thumbnail yet! Select or upload one.</big>\n            </div>\n          '}
function r(a,b){return'\n                <a id="useOriginalButton" href="#" class="btn btn-info crop" data-loading-text="Processing...">Use Original</a>\n              '}function n(a,b){return'\n                <a id="useCaptureButton" href="#" class="btn btn-info capture" data-loading-text="Processing...">Use Current Frame</a>\n              '}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};d="";var z="function",x=this.escapeExpression,b=this;if((a=l["with"].call(a,a.media,{hash:{},
inverse:b.noop,fn:b.program(1,function(a,d){var e,g;e='\n<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6">\n      <form>\n        <fieldset>\n          <legend>Edit ';(g=l.name)?g=g.call(a,{hash:{},data:d}):(g=a.name,g=typeof g===z?g.apply(a):g);e+=x(g)+'</legend>\n          <label class="control-label" for="name">Title</label>\n          <input type="text" id="fileNameField" name="name" placeholder="Untitled ';(g=l.type)?g=g.call(a,
{hash:{},data:d}):(g=a.type,g=typeof g===z?g.apply(a):g);e+=x(g)+'" value="';(g=l.name)?g=g.call(a,{hash:{},data:d}):(g=a.name,g=typeof g===z?g.apply(a):g);e+=x(g)+'">\n          <label class="control-label" for="attributes">Labels <span data-toggle="tooltip" data-title="Example Attributes" data-content="These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to get additional formatting.&lt;/p&gt;" class="fui-question"></span></label>\n          <input name="attribs" class="tagsinput tagsinput-primary" value="';
(g=l.attributeList)?g=g.call(a,{hash:{},data:d}):(g=a.attributeList,g=typeof g===z?g.apply(a):g);e+=x(g)+'" id="tags1371235017630" style="display: none;" />\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Save</button>\n              <a class="btn btn-danger">Delete</a>\n            </div>\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>Set A Thumbnail</legend>\n          ';if((g=
l["if"].call(a,a.thumbnailS3key,{hash:{},inverse:b.program(4,w,d),fn:b.program(2,m,d),data:d}))||0===g)e+=g;e+='\n          <div class="control-group">\n            <div class="controls">\n              ';if((g=l["if"].call(a,a.isImage,{hash:{},inverse:b.noop,fn:b.program(6,r,d),data:d}))||0===g)e+=g;e+="\n              ";if((g=l["if"].call(a,a.isVideo,{hash:{},inverse:b.noop,fn:b.program(8,n,d),data:d}))||0===g)e+=g;e+='\n              <a id="useCustomButton" href="#" class="btn btn-success upload">Upload Thumbnail</a>\n            </div>\n          </div>\n          <input type="hidden" id="thumbnail" name="thumbnail" value="';
(g=l.thumbnail)?g=g.call(a,{hash:{},data:d}):(g=a.thumbnail,g=typeof g===z?g.apply(a):g);return e+=x(g)+'">\n        </fieldset>\n      </form>\n    </div>\n    <div id="thumber" class="span6">\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'},e),data:e}))||0===a)d+=a;return d+"\n"})},{"handlebars-runtime":76}],70:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){function m(a,c){return'\n        <div id="vid_placeholder" />\n      '}
function w(a,c){var d,e;d='\n        <img id="media_image" class="pickerHolder" alt="';(e=l.name)?e=e.call(a,{hash:{},data:c}):(e=a.name,e=typeof e===n?e.apply(a):e);d+=z(e)+'" src="';(e=l.url)?e=e.call(a,{hash:{},data:c}):(e=a.url,e=typeof e===n?e.apply(a):e);return d+=z(e)+'" />\n      '}function r(a,c){var d,e;d="\n          <li>";if((e=typeof a===n?a.apply(a):a)||0===e)d+=e;return d+"</li>\n        "}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};var n="function",z=this.escapeExpression,
x=this;d='<div id="carouselWrapper">\n</div>\n<div id="content" class="container">\n  <div class="row">\n    <div id="preview" class="span12 centered previewPadding">\n    ';if((a=l["with"].call(a,a.media,{hash:{},inverse:x.noop,fn:x.program(1,function(a,c){var d,e;d="\n      ";if((e=l["if"].call(a,a.isVideo,{hash:{},inverse:x.program(4,w,c),fn:x.program(2,m,c),data:c}))||0===e)d+=e;d+='\n      <div class="media_meta">\n        <h4>';(e=l.name)?e=e.call(a,{hash:{},data:c}):(e=a.name,e=typeof e===
n?e.apply(a):e);d+=z(e)+"</h4>\n        <ul>\n        ";if((e=l.each.call(a,a.attribs,{hash:{},inverse:x.noop,fn:x.program(6,r,c),data:c}))||0===e)d+=e;return d+"\n        </ul>\n      </div>\n    "},e),data:e}))||0===a)d+=a;return d+"\n    </div>\n  </div>\n</div>\n"})},{"handlebars-runtime":76}],71:[function(l,w,x){(function(){var d=l("../../base"),a=l("backbone"),q=l("../../../helpers/lib/holder.js"),d=d.extend({template:l("../../../templates/routes/media/carousel.hbs"),events:{"click a.bigClose":"exitPlayer",
"click a.reelToggle":"toggleReel","click a.app":"handleAppLink","click a.goLeft":"handleLeftButton","click a.goRight":"handleRightButton"},reelOpen:null,initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var d=this.app.db.fetchCollection("pages");this.listenTo(this.page,"change",this.render,this);this.listenTo(this.app,"videoEnded",this.advance,this);d.once("ready",function(){var m=d.find(function(d){return d.attributes.name.toLowerCase()===a.pageName.toLowerCase()});
m?this.page.set(m.attributes):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this)},this)},context:function(){var a=[],d=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(m){a.push(m.templateVars(d,!0))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){var a=
this.currentMedia();this.$(".carousel").elastislide();null===this.reelOpen&&this.toggleReel(null,!1,0);q.run();a&&(this.advance(a,!0)&&this.$("a.goRight").removeClass("hidden"),this.reverse(a,!0)&&this.$("a.goLeft").removeClass("hidden"))},advance:function(a,d,m){var l=this,q=!1,n=null,w,x=encodeURIComponent(l.page.attributes.name),b,c,f,k=this.page.getMedia();null==m&&(m=1E3);if(this.page&&k){b=0;for(c=k.models.length;b<c;b++)if(f=k.models[b],a.id===f.id)q=!0;else if(q){n=f;break}if(n){w=n.templateVars(x).playerUrl;
if(d)return!0;setTimeout(function(){l.app.navigate(w,{trigger:!0})},m)}}return!1},reverse:function(a,d,m){var l=this,q=!1,n=null,w,x=encodeURIComponent(l.page.attributes.name),b,c,f=this.page.getMedia();null==m&&(m=1E3);if(this.page&&f){for(b=f.models.length-1;0<=b;b--)if(c=f.models[b],a.id===c.id)q=!0;else if(q){n=c;break}if(n){w=n.templateVars(x).playerUrl;if(d)return!0;setTimeout(function(){l.app.navigate(w,{trigger:!0})},m)}}return!1},handleLeftButton:function(a){a&&(a.preventDefault(),a.stopPropagation());
this.reverse(this.currentMedia(),!1,0)},handleRightButton:function(a){a&&(a.preventDefault(),a.stopPropagation());this.advance(this.currentMedia(),!1,0)},currentMedia:function(){return this.media?this.media.findWhere({id:a.history.fragment.split("/").pop()}):!1},toggleReel:function(a,d,m){null==m&&(m=400);a&&(a.preventDefault(),a.stopPropagation());!1!==d&&(this.reelOpen=!this.reelOpen);this.reelOpen?(this.$(".sliderWrap").slideDown(m),this.$(".symbol").html("&and;")):(this.$(".sliderWrap").slideUp(m),
this.$(".symbol").html("&or;"))},exitPlayer:function(a){a.preventDefault();a.stopPropagation();this.app.navigate("page/"+this.page.attributes.name,{trigger:!0})}});w.exports=d})()},{"../../../helpers/lib/holder.js":56,"../../../templates/routes/media/carousel.hbs":77,"../../base":49,backbone:58}],75:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){function m(a,b){var c,d;c='\n        <a href="';(d=l.href)?d=d.call(a,{hash:{},data:b}):(d=a.href,d=typeof d===E?d.apply(a):
d);c+=H(d)+'" class="current app boxed">';(d=l.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===E?d.apply(a):d);return c+=H(d)+"</a>\n      "}function w(a,b){var c,d;c='\n        <a href="';(d=l.href)?d=d.call(a,{hash:{},data:b}):(d=a.href,d=typeof d===E?d.apply(a):d);c+=H(d)+'" class="app boxed">';(d=l.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===E?d.apply(a):d);return c+=H(d)+"</a>\n      "}function r(a,b){var c,d;c="\n        <br />\n        ";if((d=l["if"].call(a,a.isPublished,
{hash:{},inverse:s.program(13,z,b),fn:s.program(11,n,b),data:b}))||0===d)c+=d;return c+"\n      "}function n(a,b){var c,d;c='\n          <a href="';(d=l.editHref)?d=d.call(a,{hash:{},data:b}):(d=a.editHref,d=typeof d===E?d.apply(a):d);return c+=H(d)+'" class="app pageStatus">Public</a>\n        '}function z(a,b){var c,d;c='\n          <a href="';(d=l.editHref)?d=d.call(a,{hash:{},data:b}):(d=a.editHref,d=typeof d===E?d.apply(a):d);return c+=H(d)+'" class="app pageStatus">Private</a>\n        '}function x(a,
d){var e,g;e="\n      ";if((g=l["if"].call(a,a.isAddingMedia,{hash:{},inverse:s.program(19,c,d),fn:s.program(17,b,d),data:d}))||0===g)e+=g;e+="\n      ";if((g=l["if"].call(a,a.isEditingPage,{hash:{},inverse:s.program(23,k,d),fn:s.program(21,f,d),data:d}))||0===g)e+=g;return e+"\n    "}function b(a,b){var c,d;c='\n        <li><a href="';(d=l.addMediaHref)?d=d.call(a,{hash:{},data:b}):(d=a.addMediaHref,d=typeof d===E?d.apply(a):d);return c+=H(d)+'" id="addMediaLink" class="current app boxed">Add Media</a></li>\n      '}
function c(a,b){var c,d;c='\n        <li><a href="';(d=l.addMediaHref)?d=d.call(a,{hash:{},data:b}):(d=a.addMediaHref,d=typeof d===E?d.apply(a):d);return c+=H(d)+'" id="addMediaLink" class="app boxed">Add Media</a></li>\n      '}function f(a,b){var c,d;c='\n        <li><a href="';(d=l.editPageHref)?d=d.call(a,{hash:{},data:b}):(d=a.editPageHref,d=typeof d===E?d.apply(a):d);return c+=H(d)+'" class="current app boxed">Edit Page</a></li>\n      '}function k(a,b){var c,d;c='\n        <li><a href="';(d=
l.editPageHref)?d=d.call(a,{hash:{},data:b}):(d=a.editPageHref,d=typeof d===E?d.apply(a):d);return c+=H(d)+'" class="app boxed">Edit Page</a></li>\n      '}function u(a,b){var c,d;c='\n      <li><a href="';(d=l.createHref)?d=d.call(a,{hash:{},data:b}):(d=a.createHref,d=typeof d===E?d.apply(a):d);return c+=H(d)+'" id="newPageLink" class="current app boxed">New Page</a></li>\n    '}function na(a,b){var c,d;c='\n      <li><a href="';(d=l.createHref)?d=d.call(a,{hash:{},data:b}):(d=a.createHref,d=typeof d===
E?d.apply(a):d);return c+=H(d)+'" id="newPageLink" class="app boxed">New Page</a></li>\n    '}function L(a,b){var c,d;c='\n      <li><a href="';(d=l.reviewHref)?d=d.call(a,{hash:{},data:b}):(d=a.reviewHref,d=typeof d===E?d.apply(a):d);return c+=H(d)+'" class="current app boxed">Review</a></li>\n    '}function la(a,b){var c,d;c='\n  <div id="unprocessedPrompt" class="alert alert-info centered">\n    <a href="/review" class="btn btn-info btn-wide app">';(d=l.unprocessedPrompt)?d=d.call(a,{hash:{},data:b}):
(d=a.unprocessedPrompt,d=typeof d===E?d.apply(a):d);return c+=H(d)+"</a>\n  </div>\n  "}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};var E="function",H=this.escapeExpression,s=this,J=l.blockHelperMissing;d='<div class="centered-boxes">\n  <ul id="mainnav" class="nav nav-boxes">\n    ';if((g=l["if"].call(a,a.isHome,{hash:{},inverse:s.program(3,function(a,b){var c,d;return c=""+('\n      <li><a href="/" class="app boxed">'+H((d=(d=a.sitetitle,null==d||!1===d?d:d.value),typeof d===
E?d.apply(a):d))+"</a></li>\n    ")},e),fn:s.program(1,function(a,b){var c,d;return c=""+('\n      <li><a href="/" class="current app boxed">'+H((d=(d=a.sitetitle,null==d||!1===d?d:d.value),typeof d===E?d.apply(a):d))+"</a></li>\n    ")},e),data:e}))||0===g)d+=g;d+="\n    ";if((g=l.each.call(a,a.pages,{hash:{},inverse:s.noop,fn:s.programWithDepth(5,function(a,b,c){var d,f;d="\n      <li>\n      ";if((f=l["if"].call(a,a.active,{hash:{},inverse:s.program(8,w,b),fn:s.program(6,m,b),data:b}))||0===f)d+=
f;d+="\n      ";if((f=l["if"].call(a,c.isLoggedIn,{hash:{},inverse:s.noop,fn:s.program(10,r,b),data:b}))||0===f)d+=f;return d+"\n      </li>\n    "},e,a),data:e}))||0===g)d+=g;d+="\n  </ul>\n</div>\n";if((g=l["if"].call(a,a.isLoggedIn,{hash:{},inverse:s.noop,fn:s.program(15,function(a,b){var c,d;c='\n<div class="centered-boxes">\n  <ul class="nav nav-boxes actionable">\n    ';if((d=l["if"].call(a,a.isPage,{hash:{},inverse:s.noop,fn:s.program(16,x,b),data:b}))||0===d)c+=d;c+="\n    ";if((d=l["if"].call(a,
a.isCreatingPage,{hash:{},inverse:s.program(27,na,b),fn:s.program(25,u,b),data:b}))||0===d)c+=d;c+="\n    ";if((d=l["if"].call(a,a.isReviewingUploads,{hash:{},inverse:s.noop,fn:s.program(29,L,b),data:b}))||0===d)c+=d;return c+"\n  </ul>\n</div>\n"},e),data:e}))||0===g)d+=g;d+="\n";if((g=l.unless.call(a,a.isReviewingUploads,{hash:{},inverse:s.noop,fn:s.program(31,function(a,b){var c,d;c="\n  ";if((d=l["if"].call(a,a.unprocessedCount,{hash:{},inverse:s.noop,fn:s.program(32,la,b),data:b}))||0===d)c+=
d;return c+"\n"},e),data:e}))||0===g)d+=g;d+="\n";e={hash:{},inverse:s.noop,fn:s.program(34,function(a,b){var c,d;c='\n<div class="alert alert-';(d=l.type)?d=d.call(a,{hash:{},data:b}):(d=a.type,d=typeof d===E?d.apply(a):d);c+=H(d)+'">\n  <button type="button" class="close fui-cross" data-dismiss="alert"></button>\n  ';(d=l.message)?d=d.call(a,{hash:{},data:b}):(d=a.message,d=typeof d===E?d.apply(a):d);return c+=H(d)+"\n</div>\n"},e),data:e};(g=l.flash)?g=g.call(a,e):(g=a.flash,g=typeof g===E?g.apply(a):
g);l.flash||(g=J.call(a,g,e));if(g||0===g)d+=g;return d+"\n"})},{"handlebars-runtime":76}],64:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};var m;g=this.escapeExpression;d='  <div class="container">\n    <div class="row">\n      <div class="span10">\n        <ul class="bottom-links">\n          ';if((m=l["if"].call(a,a.isLoggedIn,{hash:{},inverse:this.program(3,function(a,d){return'\n            <li><a href="/login" class="app">Log In</a></li>\n          '},
e),fn:this.program(1,function(a,d){return'\n            <li><a href="/logout" class="app">Log Out</a></li>\n          '},e),data:e}))||0===m)d+=m;d+='\n        </ul>\n        <span class="pull-right">&copy; '+g((m=(m=a.sitetitle,null==m||!1===m?m:m.value),"function"===typeof m?m.apply(a):m))+" ";(l=l.copyrightYear)?l=l.call(a,{hash:{},data:e}):(l=a.copyrightYear,l="function"===typeof l?l.apply(a):l);return d+=g(l)+"</span>\n      </div>\n    </div>\n  </div>\n"})},{"handlebars-runtime":76}],78:[function(l,
w,x){(function(d){(function(a){function l(d){function e(a){return a&&"object"==typeof a&&!ka(a)&&ca.call(a,"__wrapped__")?a:new Ia(a)}function w(a){var b=a.length,c=b>=C;if(c)for(var d={},f=-1;++f<b;){var e=z+a[f];(d[e]||(d[e]=[])).push(a[f])}return function(b){if(c){var f=z+b;return d[f]&&-1<Ra(d[f],b)}return-1<Ra(a,b)}}function y(a){return a.charCodeAt(0)}function x(a,b){var c=a.index,d=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<
d?-1:1}function Da(a,b,c,d){function f(){var d=arguments,l=k?this:b;e||(a=b[h]);c.length&&(d=d.length?(d=N.call(d),g?d.concat(c):c.concat(d)):c);return this instanceof f?(Na.prototype=a.prototype,l=new Na,Na.prototype=null,d=a.apply(l,d),Qa(d)?d:l):a.apply(l,d)}var e=gb(a),k=!c,h=b;if(k){var g=d;c=b}else if(!e){if(!d)throw new Pb;b=a}return f}function eb(a){return"\\"+p[a]}function Va(a){return Sa[a]}function Ia(a){this.__wrapped__=a}function Na(){}function h(a){var b=!1;if(!a||M.call(a)!=ha)return b;
var c=a.constructor;return(gb(c)?c instanceof c:1)?(bb(a,function(a,c){b=c}),!1===b||ca.call(a,b)):b}function X(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var d=-1;c=c-b||0;for(var f=da(0>c?0:c);++d<c;)f[d]=a[b+d];return f}function qb(a){return vb[a]}function sa(a,b,c,d,f,k){var h=a;"function"==typeof b&&(d=c,c=b,b=!1);if("function"==typeof c){c="undefined"==typeof d?c:e.createCallback(c,d,1);h=c(h);if("undefined"!=typeof h)return h;h=a}if(d=Qa(h)){var l=M.call(h);if(!F[l])return h;var m=
ka(h)}if(!d||!b)return d?m?X(h):nb({},h):h;d=Ga[l];switch(l){case Ca:case U:return new d(+h);case oa:case A:return new d(h);case R:return d(h.source,na.exec(h))}f||(f=[]);k||(k=[]);for(l=f.length;l--;)if(f[l]==a)return k[l];h=m?d(h.length):{};m&&(ca.call(a,"index")&&(h.index=a.index),ca.call(a,"input")&&(h.input=a.input));f.push(a);k.push(h);(m?aa:S)(a,function(a,d){h[d]=sa(a,b,c,g,f,k)});return h}function fb(a){var b=[];bb(a,function(a,c){gb(a)&&b.push(c)});return b.sort()}function Pa(a){for(var b=
-1,c=T(a),d=c.length,f={};++b<d;){var e=c[b];f[a[e]]=e}return f}function va(a,b,c,d,f,k){var h=c===n;if("function"==typeof c&&!h){c=e.createCallback(c,d,2);var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var l=typeof a,m=typeof b;if(a===a&&(!a||"function"!=l&&"object"!=l)&&(!b||"function"!=m&&"object"!=m))return!1;if(null==a||null==b)return a===b;m=M.call(a);l=M.call(b);m==I&&(m=ha);l==I&&(l=ha);if(m!=l)return!1;switch(m){case Ca:case U:return+a==+b;case oa:return a!=
+a?b!=+b:0==a?1/a==1/b:a==+b;case R:case A:return a==Ja(b)}l=m==ga;if(!l){if(ca.call(a,"__wrapped__ ")||ca.call(b,"__wrapped__"))return va(a.__wrapped__||a,b.__wrapped__||b,c,d,f,k);if(m!=ha)return!1;var m=a.constructor,p=b.constructor;if(m!=p&&!(gb(m)&&m instanceof m&&gb(p)&&p instanceof p))return!1}f||(f=[]);k||(k=[]);for(m=f.length;m--;)if(f[m]==a)return k[m]==b;var u=0,g=!0;f.push(a);k.push(b);if(l){m=a.length;u=b.length;g=u==a.length;if(!g&&!h)return g;for(;u--;)if(l=m,p=b[u],h)for(;l--&&!(g=
va(a[l],p,c,d,f,k)););else if(!(g=va(a[u],p,c,d,f,k)))break;return g}bb(b,function(b,e,h){if(ca.call(h,e))return u++,g=ca.call(a,e)&&va(a[e],b,c,d,f,k)});g&&!h&&bb(a,function(a,b,c){if(ca.call(c,b))return g=-1<--u});return g}function gb(a){return"function"==typeof a}function Qa(a){return a?K[typeof a]:!1}function bc(a){return"number"==typeof a||M.call(a)==oa}function Eb(a){return"string"==typeof a||M.call(a)==A}function cc(a,b,c){var d=arguments,f=0,k=2;if(!Qa(a))return a;if(c===n)var h=d[3],g=d[4],
l=d[5];else g=[],l=[],"number"!=typeof c&&(k=d.length),3<k&&"function"==typeof d[k-2]?h=e.createCallback(d[--k-1],d[k--],2):2<k&&"function"==typeof d[k-1]&&(h=d[--k]);for(;++f<k;)(ka(d[f])?aa:S)(d[f],function(b,c){var d,f,e=b,k=a[c];if(b&&((f=ka(b))||ea(b))){for(e=g.length;e--;)if(d=g[e]==b){k=l[e];break}if(!d){var m;h&&(e=h(k,b),m="undefined"!=typeof e)&&(k=e);m||(k=f?ka(k)?k:[]:ea(k)?k:{});g.push(b);l.push(k);m||(k=cc(k,b,n,h,g,l))}}else h&&(e=h(k,b),"undefined"==typeof e&&(e=b)),"undefined"!=typeof e&&
(k=e);a[c]=k});return a}function Xb(a){for(var b=-1,c=T(a),d=c.length,f=da(d);++b<d;)f[b]=a[c[b]];return f}function dc(a,b,c){var d=-1,f=a?a.length:0,e=!1;c=(0>c?wa(0,f+c):c)||0;"number"==typeof f?e=-1<(Eb(a)?a.indexOf(b,c):Ra(a,b,c)):S(a,function(a){if(++d>=c)return!(e=a===b)});return e}function Fb(a,b,c){var d=!0;b=e.createCallback(b,c);c=-1;var f=a?a.length:0;if("number"==typeof f)for(;++c<f&&(d=!!b(a[c],c,a)););else S(a,function(a,c,f){return d=!!b(a,c,f)});return d}function Gb(a,b,c){var d=[];
b=e.createCallback(b,c);c=-1;var f=a?a.length:0;if("number"==typeof f)for(;++c<f;){var k=a[c];b(k,c,a)&&d.push(k)}else S(a,function(a,c,f){b(a,c,f)&&d.push(a)});return d}function Ub(a,b,c){b=e.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d;){var f=a[c];if(b(f,c,a))return f}else{var k;S(a,function(a,c,d){if(b(a,c,d))return k=a,!1});return k}}function aa(a,b,c){var d=-1,f=a?a.length:0;b=b&&"undefined"==typeof c?b:e.createCallback(b,c);if("number"==typeof f)for(;++d<f&&
!1!==b(a[d],d,a););else S(a,b);return a}function ub(a,b,c){var d=-1,f=a?a.length:0;b=e.createCallback(b,c);if("number"==typeof f)for(var k=da(f);++d<f;)k[d]=b(a[d],d,a);else k=[],S(a,function(a,c,f){k[++d]=b(a,c,f)});return k}function pa(a,b,c){var d=-Infinity,f=d;if(!b&&ka(a)){c=-1;for(var k=a.length;++c<k;){var h=a[c];h>f&&(f=h)}}else b=!b&&Eb(a)?y:e.createCallback(b,c),aa(a,function(a,c,e){c=b(a,c,e);c>d&&(d=c,f=a)});return f}function Ea(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d)for(var f=
da(d);++c<d;)f[c]=a[c][b];return f||ub(a,b)}function xa(a,b,c,d){if(!a)return c;var f=3>arguments.length;b=e.createCallback(b,d,4);var k=-1,h=a.length;if("number"==typeof h)for(f&&(c=a[++k]);++k<h;)c=b(c,a[k],k,a);else S(a,function(a,d,e){c=f?(f=!1,a):b(c,a,d,e)});return c}function wb(a,b,c,d){var f=a?a.length:0,k=3>arguments.length;if("number"!=typeof f)var h=T(a),f=h.length;b=e.createCallback(b,d,4);aa(a,function(d,e,g){e=h?h[--f]:--f;c=k?(k=!1,a[e]):b(c,a[e],e,g)});return c}function hb(a,b,c){var d;
b=e.createCallback(b,c);c=-1;var f=a?a.length:0;if("number"==typeof f)for(;++c<f&&!(d=b(a[c],c,a)););else S(a,function(a,c,f){return!(d=b(a,c,f))});return!!d}function Hb(a){for(var b=-1,c=a?a.length:0,d=Wa.apply(qa,N.call(arguments,1)),d=w(d),f=[];++b<c;){var e=a[b];d(e)||f.push(e)}return f}function rb(a,b,c){if(a){var d=0,f=a.length;if("number"!=typeof b&&null!=b){var k=-1;for(b=e.createCallback(b,c);++k<f&&b(a[k],k,a);)d++}else if(d=b,null==d||c)return a[0];return X(a,0,Za(wa(0,d),f))}}function Ib(a,
b,c,d){var f=-1,k=a?a.length:0,h=[];"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1);for(null!=c&&(c=e.createCallback(c,d));++f<k;)d=a[f],c&&(d=c(d,f,a)),ka(d)?Xa.apply(h,b?d:Ib(d)):h.push(d);return h}function Ra(a,b,c){var d=-1,f=a?a.length:0;if("number"==typeof c)d=(0>c?wa(0,f+c):c||0)-1;else if(c)return d=ib(a,b),a[d]===b?d:-1;for(;++d<f;)if(a[d]===b)return d;return-1}function $a(a,b,c){if("number"!=typeof b&&null!=b){var d=0,f=-1,k=a?a.length:0;for(b=e.createCallback(b,c);++f<k&&b(a[f],f,a);)d++}else d=
null==b||c?1:wa(0,b);return X(a,d)}function ib(a,b,c,d){var f=0,k=a?a.length:f;c=c?e.createCallback(c,d,1):jb;for(b=c(b);f<k;)d=f+k>>>1,c(a[d])<b?f=d+1:k=d;return f}function Y(a,b,c,d){var f=-1,k=a?a.length:0,h=[],g=h;"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1);var l=!b&&k>=C;if(l)var m={};null!=c&&(g=[],c=e.createCallback(c,d));for(;++f<k;){d=a[f];var n=c?c(d,f,a):d;if(l)var p=z+n,p=m[p]?!(g=m[p]):g=m[p]=[];if(b?!f||g[g.length-1]!==n:p||0>Ra(g,n))(c||l)&&g.push(n),h.push(d)}return h}function xb(a,
b){for(var c=-1,d=a?a.length:0,f={};++c<d;){var e=a[c];b?f[e]=b[c]:f[e[0]]=e[1]}return f}function yb(a,b){return Ha.fastBind||Fa&&2<arguments.length?Fa.call.apply(Fa,arguments):Da(a,b,N.call(arguments,2))}function zb(a){var b=N.call(arguments,1);return Oa(function(){a.apply(g,b)},1)}function jb(a){return a}function Ab(a){aa(fb(a),function(b){var c=e[b]=a[b];e.prototype[b]=function(){var a=this.__wrapped__,b=[a];Xa.apply(b,arguments);b=c.apply(e,b);return a&&"object"==typeof a&&a==b?this:new Ia(b)}})}
function Jb(){return this.__wrapped__}d=d?v.defaults(a.Object(),d,v.pick(a,ta)):a;var da=d.Array,ob=d.Boolean,sb=d.Date,Kb=d.Function,Ba=d.Math,Ob=d.Number,ab=d.Object,kb=d.RegExp,Ja=d.String,Pb=d.TypeError,qa=da(),Bb=ab(),Qb=d._,ba=kb("^"+Ja(Bb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),cb=Ba.ceil,lb=d.clearTimeout,Wa=qa.concat,Ka=Ba.floor,ja=ba.test(ja=ab.getPrototypeOf)&&ja,ca=Bb.hasOwnProperty,Xa=qa.push,Q=d.setImmediate,Oa=d.setTimeout,M=Bb.toString,
Fa=ba.test(Fa=M.bind)&&Fa,Lb=ba.test(Lb=da.isArray)&&Lb,mb=d.isFinite,Yb=d.isNaN,Ya=ba.test(Ya=ab.keys)&&Ya,wa=Ba.max,Za=Ba.min,Mb=d.parseInt,Ta=Ba.random,N=qa.slice,Ba=ba.test(d.attachEvent),Ba=Fa&&!/\n|true/.test(Fa+Ba),Ga={};Ga[ga]=da;Ga[Ca]=ob;Ga[U]=sb;Ga[ha]=ab;Ga[oa]=Ob;Ga[R]=kb;Ga[A]=Ja;var Ha=e.support={};Ha.fastBind=Fa&&!Ba;e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:L,variable:"",imports:{_:e}};Ia.prototype=e.prototype;var ka=Lb,ob=function(a){var b,
c=[];if(!a||!K[typeof a])return c;for(b in a)ca.call(a,b)&&c.push(b);return c},T=Ya?function(a){return Qa(a)?Ya(a):[]}:ob,Sa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vb=Pa(Sa),nb=function(a,b,c){var d,f=a,k=f;if(!f)return k;var h=arguments,g=0,l="number"==typeof c?2:h.length;if(3<l&&"function"==typeof h[l-2])var m=e.createCallback(h[--l-1],h[l--],2);else 2<l&&"function"==typeof h[l-1]&&(m=h[--l]);for(;++g<l;)if((f=h[g])&&K[typeof f]){var n=f.length;d=-1;if(ka(f))for(;++d<n;)k[d]=
m?m(k[d],f[d]):f[d];else for(var p=-1,u=K[typeof f]?T(f):[],n=u.length;++p<n;)d=u[p],k[d]=m?m(k[d],f[d]):f[d]}return k},Nb=function(a,b,c){var d,f=a,e=f;if(!f)return e;for(var k=arguments,h=0,g="number"==typeof c?2:k.length;++h<g;)if((f=k[h])&&K[typeof f]){var l=f.length;d=-1;if(ka(f))for(;++d<l;)"undefined"==typeof e[d]&&(e[d]=f[d]);else for(var m=-1,n=K[typeof f]?T(f):[],l=n.length;++m<l;)d=n[m],"undefined"==typeof e[d]&&(e[d]=f[d])}return e},bb=function(a,b,c){var d;if(!a||!K[typeof a])return a;
b=b&&"undefined"==typeof c?b:e.createCallback(b,c);for(d in a)if(!1===b(a[d],d,a))break;return a},S=function(a,b,c){if(!a||!K[typeof a])return a;b=b&&"undefined"==typeof c?b:e.createCallback(b,c);for(var d=-1,f=K[typeof a]?T(a):[],k=f.length;++d<k&&(c=f[d],!1!==b(a[c],c,a)););return a},ea=function(a){if(!a||M.call(a)!=ha)return!1;var b=a.valueOf,c="function"==typeof b&&(c=ja(b))&&ja(c);return c?a==c||ja(a)==c:h(a)};Ba&&(m&&"function"==typeof Q)&&(zb=yb(Q,d));Q=8==Mb(la+"08")?Mb:function(a,b){return Mb(Eb(a)?
a.replace(E,""):a,b||0)};e.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};e.assign=nb;e.at=function(a){for(var b=-1,c=Wa.apply(qa,N.call(arguments,1)),d=c.length,f=da(d);++b<d;)f[b]=a[c[b]];return f};e.bind=yb;e.bindAll=function(a){for(var b=1<arguments.length?Wa.apply(qa,N.call(arguments,1)):fb(a),c=-1,d=b.length;++c<d;){var f=b[c];a[f]=yb(a[f],a)}return a};e.bindKey=function(a,b){return Da(a,b,N.call(arguments,2),n)};e.compact=function(a){for(var b=-1,c=
a?a.length:0,d=[];++b<c;){var f=a[b];f&&d.push(f)}return d};e.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};e.countBy=function(a,b,c){var d={};b=e.createCallback(b,c);aa(a,function(a,c,f){c=Ja(b(a,c,f));ca.call(d,c)?d[c]++:d[c]=1});return d};e.createCallback=function(a,b,c){if(null==a)return jb;var d=typeof a;if("function"!=d){if("object"!=d)return function(b){return b[a]};var f=T(a);return function(b){for(var c=f.length,
d=!1;c--&&(d=va(b[f[c]],a[f[c]],n)););return d}}return"undefined"!=typeof b?1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)}:4===c?function(c,d,f,e){return a.call(b,c,d,f,e)}:function(c,d,f){return a.call(b,c,d,f)}:a};e.debounce=function(a,b,c){function d(){e=g=null;l&&(k=a.apply(h,f))}var f,e,k,h,g,l=!0;if(!0===c)var m=!0,l=!1;else c&&K[typeof c]&&(m=c.leading,l="trailing"in c?c.trailing:l);return function(){f=arguments;h=this;lb(g);!e&&m?(e=!0,k=a.apply(h,f)):g=Oa(d,
b);return k}};e.defaults=Nb;e.defer=zb;e.delay=function(a,b){var c=N.call(arguments,2);return Oa(function(){a.apply(g,c)},b)};e.difference=Hb;e.filter=Gb;e.flatten=Ib;e.forEach=aa;e.forIn=bb;e.forOwn=S;e.functions=fb;e.groupBy=function(a,b,c){var d={};b=e.createCallback(b,c);aa(a,function(a,c,f){c=Ja(b(a,c,f));(ca.call(d,c)?d[c]:d[c]=[]).push(a)});return d};e.initial=function(a,b,c){if(!a)return[];var d=0,f=a.length;if("number"!=typeof b&&null!=b){var k=f;for(b=e.createCallback(b,c);k--&&b(a[k],k,
a);)d++}else d=null==b||c?1:b||d;return X(a,0,Za(wa(0,f-d),f))};e.intersection=function(a){var b=arguments,c=b.length,d={0:{}},f=-1,e=a?a.length:0,k=e>=C,h=[],g=h;a:for(;++f<e;){var l=a[f];if(k)var m=z+l,m=d[0][m]?!(g=d[0][m]):g=d[0][m]=[];if(m||0>Ra(g,l)){k&&g.push(l);for(var n=c;--n;)if(!(d[n]||(d[n]=w(b[n])))(l))continue a;h.push(l)}}return h};e.invert=Pa;e.invoke=function(a,b){var c=N.call(arguments,2),d=-1,f="function"==typeof b,e=a?a.length:0,k=da("number"==typeof e?e:0);aa(a,function(a){k[++d]=
(f?b:a[b]).apply(a,c)});return k};e.keys=T;e.map=ub;e.max=pa;e.memoize=function(a,b){var c={};return function(){var d=z+(b?b.apply(this,arguments):arguments[0]);return ca.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}};e.merge=cc;e.min=function(a,b,c){var d=Infinity,f=d;if(!b&&ka(a)){c=-1;for(var k=a.length;++c<k;){var h=a[c];h<f&&(f=h)}}else b=!b&&Eb(a)?y:e.createCallback(b,c),aa(a,function(a,c,e){c=b(a,c,e);c<d&&(d=c,f=a)});return f};e.omit=function(a,b,c){var d="function"==typeof b,f={};if(d)b=e.createCallback(b,
c);else var k=Wa.apply(qa,N.call(arguments,1));bb(a,function(a,c,e){if(d?!b(a,c,e):0>Ra(k,c))f[c]=a});return f};e.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};e.pairs=function(a){for(var b=-1,c=T(a),d=c.length,f=da(d);++b<d;){var e=c[b];f[b]=[e,a[e]]}return f};e.partial=function(a){return Da(a,N.call(arguments,1))};e.partialRight=function(a){return Da(a,N.call(arguments,1),null,n)};e.pick=function(a,b,c){var d={};if("function"!=typeof b)for(var f=
-1,k=Wa.apply(qa,N.call(arguments,1)),h=Qa(a)?k.length:0;++f<h;){var g=k[f];g in a&&(d[g]=a[g])}else b=e.createCallback(b,c),bb(a,function(a,c,f){b(a,c,f)&&(d[c]=a)});return d};e.pluck=Ea;e.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var d=-1;b=wa(0,cb((b-a)/c));for(var f=da(b);++d<b;)f[d]=a,a+=c;return f};e.reject=function(a,b,c){b=e.createCallback(b,c);return Gb(a,function(a,c,d){return!b(a,c,d)})};e.rest=$a;e.shuffle=function(a){var b=-1,c=a?a.length:0,d=da("number"==typeof c?c:0);
aa(a,function(a){var c=Ka(Ta()*(++b+1));d[b]=d[c];d[c]=a});return d};e.sortBy=function(a,b,c){var d=-1,f=a?a.length:0,k=da("number"==typeof f?f:0);b=e.createCallback(b,c);aa(a,function(a,c,f){k[++d]={criteria:b(a,c,f),index:d,value:a}});f=k.length;for(k.sort(x);f--;)k[f]=k[f].value;return k};e.tap=function(a,b){b(a);return a};e.throttle=function(a,b,c){function d(){h=null;m&&(g=new sb,e=a.apply(k,f))}var f,e,k,h,g=0,l=!0,m=!0;!1===c?l=!1:c&&K[typeof c]&&(l="leading"in c?c.leading:l,m="trailing"in
c?c.trailing:m);return function(){var c=new sb;h||l||(g=c);var m=b-(c-g);f=arguments;k=this;0>=m?(lb(h),h=null,g=c,e=a.apply(k,f)):h||(h=Oa(d,m));return e}};e.times=function(a,b,c){a=-1<(a=+a)?a:0;var d=-1,f=da(a);for(b=e.createCallback(b,c,1);++d<a;)f[d]=b(d);return f};e.toArray=function(a){return a&&"number"==typeof a.length?X(a):Xb(a)};e.union=function(a){ka(a)||(arguments[0]=a?N.call(a):qa);return Y(Wa.apply(qa,arguments))};e.uniq=Y;e.unzip=function(a){for(var b=-1,c=a?a.length:0,d=c?pa(Ea(a,
"length")):0,f=da(d);++b<c;)for(var e=-1,k=a[b];++e<d;)(f[e]||(f[e]=da(c)))[b]=k[e];return f};e.values=Xb;e.where=Gb;e.without=function(a){return Hb(a,N.call(arguments,1))};e.wrap=function(a,b){return function(){var c=[a];Xa.apply(c,arguments);return b.apply(this,c)}};e.zip=function(a){for(var b=-1,c=a?pa(Ea(arguments,"length")):0,d=da(c);++b<c;)d[b]=Ea(arguments,b);return d};e.zipObject=xb;e.collect=ub;e.drop=$a;e.each=aa;e.extend=nb;e.methods=fb;e.object=xb;e.select=Gb;e.tail=$a;e.unique=Y;Ab(e);
e.clone=sa;e.cloneDeep=function(a,b,c){return sa(a,!0,b,c)};e.contains=dc;e.escape=function(a){return null==a?"":Ja(a).replace(s,Va)};e.every=Fb;e.find=Ub;e.findIndex=function(a,b,c){var d=-1,f=a?a.length:0;for(b=e.createCallback(b,c);++d<f;)if(b(a[d],d,a))return d;return-1};e.findKey=function(a,b,c){var d;b=e.createCallback(b,c);S(a,function(a,c,f){if(b(a,c,f))return d=c,!1});return d};e.has=function(a,b){return a?ca.call(a,b):!1};e.identity=jb;e.indexOf=Ra;e.isArguments=function(a){return M.call(a)==
I};e.isArray=ka;e.isBoolean=function(a){return!0===a||!1===a||M.call(a)==Ca};e.isDate=function(a){return a?"object"==typeof a&&M.call(a)==U:!1};e.isElement=function(a){return a?1===a.nodeType:!1};e.isEmpty=function(a){var b=!0;if(!a)return b;var c=M.call(a),d=a.length;if(c==ga||(c==A||c==I)||c==ha&&"number"==typeof d&&gb(a.splice))return!d;S(a,function(){return b=!1});return b};e.isEqual=va;e.isFinite=function(a){return mb(a)&&!Yb(parseFloat(a))};e.isFunction=gb;e.isNaN=function(a){return bc(a)&&
a!=+a};e.isNull=function(a){return null===a};e.isNumber=bc;e.isObject=Qa;e.isPlainObject=ea;e.isRegExp=function(a){return a?"object"==typeof a&&M.call(a)==R:!1};e.isString=Eb;e.isUndefined=function(a){return"undefined"==typeof a};e.lastIndexOf=function(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?wa(0,d+c):Za(c,d-1))+1);d--;)if(a[d]===b)return d;return-1};e.mixin=Ab;e.noConflict=function(){d._=Qb;return this};e.parseInt=Q;e.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b&&
(b=a,a=0);return a+Ka(Ta()*((+b||0)-a+1))};e.reduce=xa;e.reduceRight=wb;e.result=function(a,b){var c=a?a[b]:g;return gb(c)?a[b]():c};e.runInContext=l;e.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:T(a).length};e.some=hb;e.sortedIndex=ib;e.template=function(a,d,k){var h=e.templateSettings;a||(a="");k=Nb({},k,h);var l=Nb({},k.imports,h.imports),h=T(l),l=Xb(l),m,n=0,p=k.interpolate||H,q="__p += '",p=kb((k.escape||H).source+"|"+p.source+"|"+(p===L?u:H).source+"|"+(k.evaluate||H).source+
"|$","g");a.replace(p,function(b,c,d,f,e,k){d||(d=f);q+=a.slice(n,k).replace(J,eb);c&&(q+="' +\n__e("+c+") +\n'");e&&(m=!0,q+="';\n"+e+";\n__p += '");d&&(q+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");n=k+b.length;return b});var q=q+"';\n",r=p=k.variable;r||(p="obj",q="with ("+p+") {\n"+q+"\n}\n");q=(m?q.replace(b,""):q).replace(c,"$1").replace(f,"$1;");q="function("+p+") {\n"+(r?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(m?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+q+"return __p\n}";k="\n/*\n//@ sourceURL="+(k.sourceURL||"/lodash/template/source["+ua++ +"]")+"\n*/";try{var s=Kb(h,"return "+q+k).apply(g,l)}catch(v){throw v.source=q,v;}if(d)return s(d);s.source=q;return s};e.unescape=function(a){return null==a?"":Ja(a).replace(k,qb)};e.uniqueId=function(a){var b=++r;return Ja(null==a?"":a)+b};e.all=Fb;e.any=hb;e.detect=Ub;e.foldl=xa;e.foldr=wb;e.include=dc;e.inject=xa;S(e,function(a,b){e.prototype[b]||(e.prototype[b]=function(){var b=[this.__wrapped__];
Xa.apply(b,arguments);return a.apply(e,b)})});e.first=rb;e.last=function(a,b,c){if(a){var d=0,f=a.length;if("number"!=typeof b&&null!=b){var k=f;for(b=e.createCallback(b,c);k--&&b(a[k],k,a);)d++}else if(d=b,null==d||c)return a[f-1];return X(a,wa(0,f-d))}};e.take=rb;e.head=rb;S(e,function(a,b){e.prototype[b]||(e.prototype[b]=function(b,c){var d=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?d:new Ia(d)})});e.VERSION="1.2.1";e.prototype.toString=function(){return Ja(this.__wrapped__)};
e.prototype.value=Jb;e.prototype.valueOf=Jb;aa(["join","pop","shift"],function(a){var b=qa[a];e.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});aa(["push","reverse","sort","unshift"],function(a){var b=qa[a];e.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});aa(["concat","slice","splice"],function(a){var b=qa[a];e.prototype[a]=function(){return new Ia(b.apply(this.__wrapped__,arguments))}});return e}var g,e="object"==typeof x&&x,m="object"==typeof w&&
w&&w.exports==e&&w,y="object"==typeof d&&d;if(y.global===y||y.window===y)a=y;var r=0,n={},z=+new Date+"",C=200,b=/\b__p \+= '';/g,c=/\b(__p \+=) '' \+/g,f=/(__e\(.*?\)|\b__t\)) \+\n'';/g,k=/&(?:amp|lt|gt|quot|#39);/g,u=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,na=/\w*$/,L=/<%=([\s\S]+?)%>/g,la=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",E=RegExp("^["+la+"]*0+(?=.$)"),H=/($^)/,s=/[&<>"']/g,J=/['\n\r\t\u2028\u2029\\]/g,
ta="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),ua=0,I="[object Arguments]",ga="[object Array]",Ca="[object Boolean]",U="[object Date]",oa="[object Number]",ha="[object Object]",R="[object RegExp]",A="[object String]",F={"[object Function]":!1};F[I]=F[ga]=F[Ca]=F[U]=F[oa]=F[ha]=F[R]=F[A]=!0;var K={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},p={"\\":"\\","'":"'","\n":"n",
"\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},v=l();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=v,define(function(){return v})):e&&!e.nodeType?m?(m.exports=v)._=v:e._=v:a._=v})(this)})(self)},{}],73:[function(l,w,x){(function(){(function(){var d=new function(){var a,d=[],g={},e=function(a,d,e){if(null!=a)if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(d,e);else if(a.length===+a.length)for(var l=0,b=a.length;l<b&&d.call(e,a[l],l,a)!==g;l++);
else for(l in a)if(hasOwnProperty.call(a,l)&&d.call(e,a[l],l,a)===g)break},m=function(a){e(Array.prototype.slice.call(arguments,1),function(d){if(d)for(var e in d)a[e]=d[e]});return a};e(["videojs","vjs","_V_"],function(d){if(void 0!==window[d])return a=window[d],!1});try{a=l("videojs")}catch(w){}this.resizeVideos=function(g){g&&(g.preventDefault(),g.stopPropagation());e(d,function(d){var e=document.getElementById(d.id),g=a(d.id);e&&e.parentNode&&(e=e.parentNode.offsetWidth,d=d.height*(e/d.width),
g.width(e),g.height(d))})};this.loadVideo=function(g,l,w){var y=this,b,c,f=!1;l.sources=l.sources||[];l.attributes=l.attributes||{};c={id:"js_thumb_video","class":"video-js vjs-default-skin",controls:"controls",preload:"auto",resize:!1,width:560,height:320};a?l.sources.length?(l.sources=m([],l.sources),l.attributes=m({},c,l.attributes),l.vjs=l.vjs||{},e(a.players,function(a,b){if(b===l.attributes.id)return a.dispose(),!1}),videoDims={},b=document.createElement("video"),e(l.attributes,function(a,c){b.setAttribute(c,
a)}),e(l.sources,function(a){var c=document.createElement("source");c.setAttribute("src",a.src);c.setAttribute("type",a.type);b.appendChild(c)}),g.appendChild(b),a(b,l.vjs,function(){e(g.childNodes,function(a){if(a.attributes&&a.attributes.id&&a.attributes.id.value===l.attributes.id)return element=a,!1});e(element.childNodes,function(a){if("object"===a.tagName.toLowerCase())return f=!0,!1});onReady=function(a,b){w(null,element,this,void 0===b)};l.attributes.resize&&(d.push({id:element.attributes.id.value,
width:this.width(),height:this.height()}),y.resizeVideos());if(f)onReady(null,!0);else a(l.attributes.id).on("loadedmetadata",onReady)})):w("Videos require at least one source"):w("Please include Video.js to use this function")};this.screenshot=function(a,d){var e=document.createElement("canvas");d=d||{};var g=d.origWidth||a.videoWidth,b=d.origHeight||a.videoHeight;if(!g||!b)return window.console&&console.log("Video has invalid dimensions or metadata has not yet loaded."),!1;e.width=g;e.height=b;
e.getContext("2d").drawImage(a,0,0,g,b);return e.toDataURL("image/png")};this.resize=function(a,d){var e=d.maxWidth||50,g=d.maxHeight||50,b=document.createElement("canvas"),c=document.createElement("canvas"),f=b.getContext("2d"),k=c.getContext("2d"),l=a.width||d.origWidth,m=a.height||d.origHeight,q,w;q=d.maxWidth/l;var y=m*q;w=d.maxHeight/m;c.width=l;c.height=m;k.drawImage(a,0,0);b.width=e;b.height=g;y<g?(q=(e-c.width*w)/2,f.drawImage(c,0,0,c.width,c.height,q,0,c.width*w,c.height*w)):(w=(g-c.height*
q)/2,f.drawImage(c,0,0,c.width,c.height,0,w,c.width*q,c.height*q));return b.toDataURL()};this.resizeData=function(a,d,e){d=d||{};var g=this,b=new Image;b.onload=function(){e(null,g.resize(b,d))};b.src=a}};"undefined"!=typeof window&&"undefined"==typeof w?(window.jsthumb=d,window.onresize=d.resizeVideos):w.exports=d})()})()},{videojs:79}],74:[function(l,w,x){var d=l("lodash");l=l("backbone").View.extend({initialize:function(a){this.beforeInit&&this.beforeInit(a);this.template=this.template||a.template;
this.template||(this.template=function(){return""});this.afterInit&&this.afterInit(a);this.render()},context:function(){return d.extend({},this.options,this.model)},close:function(){this.beforeClose&&this.beforeClose();this.closeSubviews();this.off();this.remove()},render:function(){var a=this,l=this.model;this.beforeRender&&this.beforeRender();this.closeSubviews();this.$el.empty();this.beforeTemplating&&(l=this.beforeTemplating());this.context&&(l=this.context());this.$el.html(this.template(l));
d.defer(function(){a.trigger("afterRender")});this.afterRender&&this.afterRender();return this},proxy:function(a,d){var g=this;d.on(a,function(){var d=Array.prototype.slice.call(arguments,0);d.splice(0,0,a);g.trigger.apply(g,d)})},eachSubview:function(a){d.each(this.subviews,a)},appendSubview:function(a,l){l||(l=this.$el);this.subviews=this.subviews||{};this.subviews[a.cid]=a;l.append(a.el);d.defer(function(){a.trigger("afterAppend")});a.afterAppend&&a.afterAppend()},closeSubviews:function(){this.eachSubview(function(a){a.close()});
this.subviews={}},detachSubview:function(a){this.subviews&&delete this.subviews[a.cid];a.$el.detach()}});w.exports=l},{backbone:58,lodash:78}],79:[function(l,w,x){(function(){(function(){function d(a){return function(){throw Error('The "'+a+"\" method is not available on the playback technology's API");}}document.createElement("video");document.createElement("audio");var a=function(b,c,d){if("string"===typeof b){0===b.indexOf("#")&&(b=b.slice(1));if(a.players[b])return a.players[b];b=a.el(b)}if(!b||
!b.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return b.player||new a.Player(b,c,d)},l=a;a.CDN_VERSION="4.0";a.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://";a.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};"GENERATED_CDN_VSN"!==a.CDN_VERSION&&(l.options.flash.swf=a.ACCESS_PROTOCOL+
"vjs.zencdn.net/"+a.CDN_VERSION+"/video-js.swf");a.players={};a.CoreObject=a.CoreObject=function(){};a.CoreObject.extend=function(b){var c,d;b=b||{};c=b.init||b.init||this.prototype.init||this.prototype.init||function(){};d=function(){c.apply(this,arguments)};d.prototype=a.obj.create(this.prototype);d.prototype.constructor=d;d.extend=a.CoreObject.extend;d.create=a.CoreObject.create;for(var e in b)b.hasOwnProperty(e)&&(d.prototype[e]=b[e]);return d};a.CoreObject.create=function(){var b=a.obj.create(this.prototype);
this.apply(b,arguments);return b};a.on=function(b,c,d){var e=a.getData(b);e.handlers||(e.handlers={});e.handlers[c]||(e.handlers[c]=[]);d.guid||(d.guid=a.guid++);e.handlers[c].push(d);e.dispatcher||(e.disabled=!1,e.dispatcher=function(c){if(!e.disabled){c=a.fixEvent(c);var d=e.handlers[c.type];if(d)for(var d=d.slice(0),f=0,g=d.length;f<g&&!c.isImmediatePropagationStopped();f++)d[f].call(b,c)}});1==e.handlers[c].length&&(document.addEventListener?b.addEventListener(c,e.dispatcher,!1):document.attachEvent&&
b.attachEvent("on"+c,e.dispatcher))};a.off=function(b,c,d){if(a.hasData(b)){var e=a.getData(b);if(e.handlers)if(c){var g=e.handlers[c];if(g){if(!d)e.handlers[c]=[];else if(d.guid)for(e=0;e<g.length;e++)g[e].guid===d.guid&&g.splice(e--,1);a.cleanUpEvents(b,c)}}else for(g in e.handlers)c=g,e.handlers[c]=[],a.cleanUpEvents(b,c)}};a.cleanUpEvents=function(b,c){var d=a.getData(b);0===d.handlers[c].length&&(delete d.handlers[c],document.removeEventListener?b.removeEventListener(c,d.dispatcher,!1):document.detachEvent&&
b.detachEvent("on"+c,d.dispatcher));a.isEmpty(d.handlers)&&(delete d.handlers,delete d.dispatcher,delete d.disabled);a.isEmpty(d)&&a.removeData(b)};a.fixEvent=function(a){function c(){return!0}function d(){return!1}if(!a||!a.isPropagationStopped){var e=a||window.event;a={};for(var g in e)"layerX"!==g&&"layerY"!==g&&(a[g]=e[g]);a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){e.preventDefault&&e.preventDefault();
a.returnValue=!1;a.isDefaultPrevented=c};a.isDefaultPrevented=d;a.stopPropagation=function(){e.stopPropagation&&e.stopPropagation();a.cancelBubble=!0;a.isPropagationStopped=c};a.isPropagationStopped=d;a.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation();a.isImmediatePropagationStopped=c;a.stopPropagation()};a.isImmediatePropagationStopped=d;if(null!=a.clientX){g=document.documentElement;var l=document.body;a.pageX=a.clientX+(g&&g.scrollLeft||l&&l.scrollLeft||
0)-(g&&g.clientLeft||l&&l.clientLeft||0);a.pageY=a.clientY+(g&&g.scrollTop||l&&l.scrollTop||0)-(g&&g.clientTop||l&&l.clientTop||0)}a.which=a.charCode||a.keyCode;null!=a.button&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a};a.trigger=function(b,c){var d=a.hasData(b)?a.getData(b):{},e=b.parentNode||b.ownerDocument;"string"===typeof c&&(c={type:c,target:b});c=a.fixEvent(c);d.dispatcher&&d.dispatcher.call(b,c);if(e&&!c.isPropagationStopped())a.trigger(e,c);else if(!e&&!c.isDefaultPrevented()&&
(d=a.getData(c.target),c.target[c.type])){d.disabled=!0;if("function"===typeof c.target[c.type])c.target[c.type]();d.disabled=!1}return!c.isDefaultPrevented()};a.one=function(b,c,d){a.on(b,c,function(){a.off(b,c,arguments.callee);d.apply(this,arguments)})};var g=Object.prototype.hasOwnProperty;a.createEl=function(a,c){var d=document.createElement(a||"div"),e;for(e in c)g.call(c,e)&&(-1!==e.indexOf("aria-")||"role"==e?d.setAttribute(e,c[e]):d[e]=c[e]);return d};a.capitalize=function(a){return a.charAt(0).toUpperCase()+
a.slice(1)};a.obj={};a.obj.create=Object.create||function(a){function c(){}c.prototype=a;return new c};a.obj.each=function(a,c,d){for(var e in a)g.call(a,e)&&c.call(d||this,e,a[e])};a.obj.merge=function(a,c){if(!c)return a;for(var d in c)g.call(c,d)&&(a[d]=c[d]);return a};a.obj.deepMerge=function(b,c){var d,e,l;b=a.obj.copy(b);for(d in c)g.call(c,d)&&(e=b[d],l=c[d],a.obj.isPlain(e)&&a.obj.isPlain(l)?b[d]=a.obj.deepMerge(e,l):b[d]=c[d]);return b};a.obj.copy=function(b){return a.obj.merge({},b)};a.obj.isPlain=
function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};a.bind=function(b,c,d){c.guid||(c.guid=a.guid++);var e=function(){return c.apply(b,arguments)};e.guid=d?d+"_"+c.guid:c.guid;return e};a.cache={};a.guid=1;a.expando="vdata"+(new Date).getTime();a.getData=function(b){var c=b[a.expando];c||(c=b[a.expando]=a.guid++,a.cache[c]={});return a.cache[c]};a.hasData=function(b){b=b[a.expando];return!(!b||a.isEmpty(a.cache[b]))};a.removeData=function(b){var c=
b[a.expando];if(c){delete a.cache[c];try{delete b[a.expando]}catch(d){b.removeAttribute?b.removeAttribute(a.expando):b[a.expando]=null}}};a.isEmpty=function(a){for(var c in a)if(null!==a[c])return!1;return!0};a.addClass=function(a,c){-1==(" "+a.className+" ").indexOf(" "+c+" ")&&(a.className=""===a.className?c:a.className+" "+c)};a.removeClass=function(a,c){if(-1!=a.className.indexOf(c)){for(var d=a.className.split(" "),e=d.length-1;0<=e;e--)d[e]===c&&d.splice(e,1);a.className=d.join(" ")}};a.TEST_VID=
a.createEl("video");a.USER_AGENT=navigator.userAgent;a.IS_IPHONE=!!a.USER_AGENT.match(/iPhone/i);a.IS_IPAD=!!a.USER_AGENT.match(/iPad/i);a.IS_IPOD=!!a.USER_AGENT.match(/iPod/i);a.IS_IOS=a.IS_IPHONE||a.IS_IPAD||a.IS_IPOD;a.IOS_VERSION=function(){var b=a.USER_AGENT.match(/OS (\d+)_/i);if(b&&b[1])return b[1]}();a.IS_ANDROID=!!a.USER_AGENT.match(/Android.*AppleWebKit/i);a.ANDROID_VERSION=function(){var b=a.USER_AGENT.match(/Android (\d+)\./i);return b&&b[1]?b[1]:null}();a.IS_FIREFOX=function(){return!!a.USER_AGENT.match("Firefox")};
a.getAttributeValues=function(a){var c={};if(a&&a.attributes&&0<a.attributes.length)for(var d=a.attributes,e,g,l=d.length-1;0<=l;l--){e=d[l].name;g=d[l].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+e+","))g=null!==g?!0:!1;c[e]=g}return c};a.getComputedDimension=function(a,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(c):a.currentStyle&&(d=a["client"+c.substr(0,1).toUpperCase()+
c.substr(1)]+"px");return d};a.insertFirst=function(a,c){c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)};a.support={};a.el=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};a.formatTime=function(a,c){c=c||a;var d=Math.floor(a%60),e=Math.floor(a/60%60),g=Math.floor(a/3600),l=Math.floor(c/60%60),m=Math.floor(c/3600),g=0<g||0<m?g+":":"";return g+(((g||10<=l)&&10>e?"0"+e:e)+":")+(10>d?"0"+d:d)};a.blockTextSelection=function(){document.body.focus();document.onselectstart=
function(){return!1}};a.unblockTextSelection=function(){document.onselectstart=function(){return!0}};a.trim=function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")};a.round=function(a,c){c||(c=0);return Math.round(a*Math.pow(10,c))/Math.pow(10,c)};a.createTimeRange=function(a,c){return{length:1,start:function(){return a},end:function(){return c}}};a.get=function(a,c,d){var e=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");"undefined"===typeof XMLHttpRequest&&
(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw Error("This browser does not support XMLHttpRequest.");});var g=new XMLHttpRequest;try{g.open("GET",a)}catch(l){d(l)}g.onreadystatechange=function(){4===g.readyState&&(200===g.status||e&&0===g.status?c(g.responseText):d&&d())};try{g.send()}catch(m){d&&d(m)}};a.setLocalStorage=
function(b,c){try{var d=window.localStorage||!1;d&&(d[b]=c)}catch(e){22==e.code||1014==e.code?a.log("LocalStorage Full (VideoJS)",e):18==e.code?a.log("LocalStorage not allowed (VideoJS)",e):a.log("LocalStorage Error (VideoJS)",e)}};a.getAbsoluteURL=function(b){b.match(/^https?:\/\//)||(b=a.createEl("div",{innerHTML:'<a href="'+b+'">x</a>'}).firstChild.href);return b};a.log=function(){a.log.history=a.log.history||[];a.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};
a.findPosition=function(a){var c,d;a.getBoundingClientRect&&a.parentNode&&(c=a.getBoundingClientRect());if(!c)return{left:0,top:0};a=document.documentElement;d=document.body;return{left:c.left+(window.pageXOffset||d.scrollLeft)-(a.clientLeft||d.clientLeft||0),top:c.top+(window.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0)}};a.Component=a.CoreObject.extend({init:function(b,c,d){this.player_=b;this.options_=a.obj.copy(this.options_);c=this.options(c);this.id_=c.id||(c.el&&c.el.id?c.el.id:
b.id()+"_component_"+a.guid++);this.name_=c.name||null;this.el_=c.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(d)}});a.Component.prototype.dispose=function(){if(this.children_)for(var b=this.children_.length-1;0<=b;b--)this.children_[b].dispose&&this.children_[b].dispose();this.childNameIndex_=this.childIndex_=this.children_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);a.removeData(this.el_);this.el_=
null};a.Component.prototype.player=function(){return this.player_};a.Component.prototype.options=function(b){return void 0===b?this.options_:this.options_=a.obj.deepMerge(this.options_,b)};a.Component.prototype.createEl=function(b,c){return a.createEl(b,c)};a.Component.prototype.el=function(){return this.el_};a.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};a.Component.prototype.id=function(){return this.id_};a.Component.prototype.name=function(){return this.name_};a.Component.prototype.children=
function(){return this.children_};a.Component.prototype.getChildById=function(a){return this.childIndex_[a]};a.Component.prototype.getChild=function(a){return this.childNameIndex_[a]};a.Component.prototype.addChild=function(b,c){var d,e;"string"===typeof b?(e=b,c=c||{},d=c.componentClass||a.capitalize(e),c.name=e,d=new a[d](this.player_||this,c)):d=b;this.children_.push(d);"function"===typeof d.id&&(this.childIndex_[d.id()]=d);(e=e||d.name&&d.name())&&(this.childNameIndex_[e]=d);"function"===typeof d.el&&
d.el()&&this.contentEl().appendChild(d.el());return d};a.Component.prototype.removeChild=function(a){"string"===typeof a&&(a=this.getChild(a));if(a&&this.children_){for(var c=!1,d=this.children_.length-1;0<=d;d--)if(this.children_[d]===a){c=!0;this.children_.splice(d,1);break}c&&(this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null,(c=a.el())&&c.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el()))}};a.Component.prototype.initChildren=function(){var b=this.options_;if(b&&b.children){var c=
this;a.obj.each(b.children,function(a,b){!1!==b&&(b.loadEvent||(c[a]=c.addChild(a,b)))})}};a.Component.prototype.buildCSSClass=function(){return""};a.Component.prototype.on=function(b,c){a.on(this.el_,b,a.bind(this,c));return this};a.Component.prototype.off=function(b,c){a.off(this.el_,b,c);return this};a.Component.prototype.one=function(b,c){a.one(this.el_,b,a.bind(this,c));return this};a.Component.prototype.trigger=function(b,c){a.trigger(this.el_,b,c);return this};a.Component.prototype.isReadyOnInitFinish_=
!0;a.Component.prototype.ready=function(a){a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a)));return this};a.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;if(a&&0<a.length){for(var c=0,d=a.length;c<d;c++)a[c].call(this);this.readyQueue_=[];this.trigger("ready")}};a.Component.prototype.addClass=function(b){a.addClass(this.el_,b);return this};a.Component.prototype.removeClass=function(b){a.removeClass(this.el_,
b);return this};a.Component.prototype.show=function(){this.el_.style.display="block";return this};a.Component.prototype.hide=function(){this.el_.style.display="none";return this};a.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in");return this};a.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};a.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};
a.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};a.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};a.Component.prototype.width=function(a,c){return this.dimension("width",a,c)};a.Component.prototype.height=function(a,c){return this.dimension("height",a,c)};a.Component.prototype.dimensions=function(a,c){return this.width(a,!0).height(c)};a.Component.prototype.dimension=function(b,c,d){if(void 0!==c)return-1!==
(""+c).indexOf("%")||-1!==(""+c).indexOf("px")?this.el_.style[b]=c:this.el_.style[b]="auto"===c?"":c+"px",d||this.trigger("resize"),this;if(!this.el_)return 0;c=this.el_.style[b];d=c.indexOf("px");return-1!==d?parseInt(c.slice(0,d),10):parseInt(this.el_["offset"+a.capitalize(b)],10)};a.Button=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);var d=!1;this.on("touchstart",function(){d=!0});this.on("touchmove",function(){d=!1});var e=this;this.on("touchend",function(a){if(d)e.onClick(a);
a.preventDefault();a.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});a.Button.prototype.createEl=function(b,c){c=a.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},c);return a.Component.prototype.createEl.call(this,b,c)};a.Button.prototype.buildCSSClass=function(){return"vjs-control "+
a.Component.prototype.buildCSSClass.call(this)};a.Button.prototype.onClick=function(){};a.Button.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Button.prototype.onKeyPress=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.onClick()};a.Button.prototype.onBlur=function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);this.bar=this.getChild(this.options_.barName);this.handle=
this.getChild(this.options_.handleName);b.on(this.playerEvent,a.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",a.bind(this,this.update));b.ready(a.bind(this,this.update));this.boundEvents={}}});a.Slider.prototype.createEl=function(b,c){c=c||{};c.className+=" vjs-slider";c=a.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,
"aria-valuemax":100,tabIndex:0},c);return a.Component.prototype.createEl.call(this,b,c)};a.Slider.prototype.onMouseDown=function(b){b.preventDefault();a.blockTextSelection();this.boundEvents.move=a.bind(this,this.onMouseMove);this.boundEvents.end=a.bind(this,this.onMouseUp);a.on(document,"mousemove",this.boundEvents.move);a.on(document,"mouseup",this.boundEvents.end);a.on(document,"touchmove",this.boundEvents.move);a.on(document,"touchend",this.boundEvents.end);this.onMouseMove(b)};a.Slider.prototype.onMouseUp=
function(){a.unblockTextSelection();a.off(document,"mousemove",this.boundEvents.move,!1);a.off(document,"mouseup",this.boundEvents.end,!1);a.off(document,"touchmove",this.boundEvents.move,!1);a.off(document,"touchend",this.boundEvents.end,!1);this.update()};a.Slider.prototype.update=function(){if(this.el_){var b,c=this.getPercent(),d=this.handle,e=this.bar;isNaN(c)&&(c=0);b=c;if(d){b=this.el_.offsetWidth;var g=d.el().offsetWidth;b=g?g/b:0;c*=1-b;b=c+b/2;d.el().style.left=a.round(100*c,2)+"%"}e.el().style.width=
a.round(100*b,2)+"%"}};a.Slider.prototype.calculateDistance=function(b){var c,d,e,g;c=this.el_;d=a.findPosition(c);g=e=c.offsetWidth;c=this.handle;if(this.options_.vertical)return g=d.top,b=b.changedTouches?b.changedTouches[0].pageY:b.pageY,c&&(c=c.el().offsetHeight,g+=c/2,e-=c),Math.max(0,Math.min(1,(g-b+e)/e));e=d.left;b=b.changedTouches?b.changedTouches[0].pageX:b.pageX;c&&(c=c.el().offsetWidth,e+=c/2,g-=c);return Math.max(0,Math.min(1,(b-e)/g))};a.Slider.prototype.onFocus=function(){a.on(document,
"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())};a.Slider.prototype.onBlur=function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onClick=function(a){a.stopImmediatePropagation();a.preventDefault()};a.SliderHandle=a.Component.extend();a.SliderHandle.prototype.defaultValue=0;a.SliderHandle.prototype.createEl=function(b,c){c=c||{};c.className+=
" vjs-slider-handle";c=a.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},c);return a.Component.prototype.createEl.call(this,"div",c)};a.Menu=a.Component.extend();a.Menu.prototype.addItem=function(b){this.addChild(b);b.on("click",a.bind(this,function(){this.unlockShowing()}))};a.Menu.prototype.createEl=function(){var b=this.options().contentElType||"ul";this.contentEl_=a.createEl(b,{className:"vjs-menu-content"});b=a.Component.prototype.createEl.call(this,"div",
{append:this.contentEl_,className:"vjs-menu"});b.appendChild(this.contentEl_);a.on(b,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return b};a.MenuItem=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);this.selected(c.selected)}});a.MenuItem.prototype.createEl=function(b,c){return a.Button.prototype.createEl.call(this,"li",a.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},c))};a.MenuItem.prototype.onClick=function(){this.selected(!0)};a.MenuItem.prototype.selected=
function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))};a.MenuButton=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);this.menu=this.createMenu();this.addChild(this.menu);this.items&&0===this.items.length&&this.hide();this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","button")}});a.MenuButton.prototype.buttonPressed_=!1;a.MenuButton.prototype.createMenu=
function(){var b=new a.Menu(this.player_);this.options().title&&b.el().appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(this.items=this.createItems())for(var c=0;c<this.items.length;c++)b.addItem(this.items[c]);return b};a.MenuButton.prototype.createItems=function(){};a.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+a.Button.prototype.buildCSSClass.call(this)};a.MenuButton.prototype.onFocus=function(){};
a.MenuButton.prototype.onBlur=function(){};a.MenuButton.prototype.onClick=function(){this.one("mouseout",a.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()};a.MenuButton.prototype.onKeyPress=function(a){a.preventDefault();32==a.which||13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()};a.MenuButton.prototype.pressButton=function(){this.buttonPressed_=
!0;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",!0);this.items&&0<this.items.length&&this.items[0].el().focus()};a.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",!1)};a.Player=a.Component.extend({init:function(b,c,d){this.tag=b;c=a.obj.merge(this.getTagSettings(b),c);this.cache_={};this.poster_=c.poster;this.controls_=c.controls;!0!==c.customControlsOnMobile&&(a.IS_IOS||a.IS_ANDROID)?(b.controls=c.controls,
this.controls_=!1):b.controls=!1;a.Component.call(this,this,c,d);this.one("play",function(b){a.trigger(this.el_,{type:"firstplay",target:this.el_})||(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation())});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);
a.players[this.id_]=this;c.plugins&&a.obj.each(c.plugins,function(a,b){this[a](b)},this)}});a.Player.prototype.options_=a.options;a.Player.prototype.dispose=function(){a.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.stopTrackingProgress();this.stopTrackingCurrentTime();this.tech&&this.tech.dispose();a.Component.prototype.dispose.call(this)};a.Player.prototype.getTagSettings=function(b){var c={sources:[],tracks:[]};a.obj.merge(c,
a.getAttributeValues(b));if(b.hasChildNodes())for(var d,e=b.childNodes,g=0,l=e.length;g<l;g++)b=e[g],d=b.nodeName.toLowerCase(),"source"===d?c.sources.push(a.getAttributeValues(b)):"track"===d&&c.tracks.push(a.getAttributeValues(b));return c};a.Player.prototype.createEl=function(){var b=this.el_=a.Component.prototype.createEl.call(this,"div"),c=this.tag;c.removeAttribute("width");c.removeAttribute("height");if(c.hasChildNodes())for(var d=c.childNodes.length,e=0,g=c.childNodes;e<d;e++)"source"!=g[0].nodeName.toLowerCase()&&
"track"!=g[0].nodeName.toLowerCase()||c.removeChild(g[0]);c.id=c.id||"vjs_video_"+a.guid++;b.id=c.id;b.className=c.className;c.id+="_html5_api";c.className="vjs-tech";c.player=b.player=this;this.addClass("vjs-paused");this.width(this.options_.width,!0);this.height(this.options_.height,!0);c.parentNode&&c.parentNode.insertBefore(b,c);a.insertFirst(c,b);return b};a.Player.prototype.loadTech=function(b,c){this.tech?this.unloadTech():"Html5"!==b&&this.tag&&(this.el_.removeChild(this.tag),this.tag=this.tag.player=
null);this.techName=b;this.isReady_=!1;var d=a.obj.merge({source:c,parentEl:this.el_},this.options_[b.toLowerCase()]);c&&(c.src==this.cache_.src&&0<this.cache_.currentTime&&(d.startTime=this.cache_.currentTime),this.cache_.src=c.src);this.tech=new a[b](this,d);this.tech.ready(function(){this.player_.triggerReady();this.features.progressEvents||this.player_.manualProgressOn();this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()})};a.Player.prototype.unloadTech=function(){this.isReady_=
!1;this.tech.dispose();this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();this.tech=!1};a.Player.prototype.manualProgressOn=function(){this.manualProgress=!0;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=!0;this.player_.manualProgressOff()})};a.Player.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress()};a.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(a.bind(this,
function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)};a.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};a.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0;this.player_.manualTimeUpdatesOff()})};
a.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};a.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=setInterval(a.bind(this,function(){this.trigger("timeupdate")}),250)};a.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};a.Player.prototype.onEnded=
function(){this.options_.loop&&(this.currentTime(0),this.play())};a.Player.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing")};a.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime)};a.Player.prototype.onPause=function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused")};a.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")};a.Player.prototype.onDurationChange=
function(){this.duration(this.techGet("duration"))};a.Player.prototype.onError=function(b){a.log("Video Error",b)};a.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")};a.Player.prototype.getCache=function(){return this.cache_};a.Player.prototype.techCall=function(b,c){if(this.tech&&this.tech.isReady_)this.tech.ready(function(){this[b](c)});else try{this.tech[b](c)}catch(d){throw a.log(d),d;}};a.Player.prototype.techGet=
function(b){if(this.tech&&this.tech.isReady_)try{return this.tech[b]()}catch(c){throw void 0===this.tech[b]?a.log("Video.js: "+b+" method not defined for "+this.techName+" playback technology.",c):"TypeError"==c.name?(a.log("Video.js: "+b+" unavailable on "+this.techName+" playback technology element.",c),this.tech.isReady_=!1):a.log(c),c;}};a.Player.prototype.play=function(){this.techCall("play");return this};a.Player.prototype.pause=function(){this.techCall("pause");return this};a.Player.prototype.paused=
function(){return!1===this.techGet("paused")?!1:!0};a.Player.prototype.currentTime=function(a){return void 0!==a?(this.cache_.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0};a.Player.prototype.duration=function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):this.cache_.duration};a.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};
a.Player.prototype.buffered=function(){var b=this.techGet("buffered"),c=this.cache_.bufferEnd=this.cache_.bufferEnd||0;b&&(0<b.length&&b.end(0)!==c)&&(c=b.end(0),this.cache_.bufferEnd=c);return a.createTimeRange(0,c)};a.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0};a.Player.prototype.volume=function(b){if(void 0!==b)return b=Math.max(0,Math.min(1,parseFloat(b))),this.cache_.volume=b,this.techCall("setVolume",b),a.setLocalStorage("volume",
b),this;b=parseFloat(this.techGet("volume"));return isNaN(b)?1:b};a.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1};a.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1};a.Player.prototype.requestFullScreen=function(){var b=a.support.requestFullScreen;this.isFullScreen=!0;b?(a.on(document,b.eventName,a.bind(this,function(c){this.isFullScreen=document[b.isFullScreen];!1===this.isFullScreen&&
a.off(document,b.eventName,arguments.callee);this.trigger("fullscreenchange")})),this.el_[b.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.cancelFullScreen=function(){var b=a.support.requestFullScreen;this.isFullScreen=!1;if(b)document[b.cancelFn]();else this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"));return this};
a.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=document.documentElement.style.overflow;a.on(document,"keydown",a.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";a.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};a.Player.prototype.fullWindowOnEscKey=function(a){27===a.keyCode&&(!0===this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())};a.Player.prototype.exitFullWindow=function(){this.isFullWindow=
!1;a.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;a.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};a.Player.prototype.selectSource=function(b){for(var c=0,d=this.options_.techOrder;c<d.length;c++){var e=a.capitalize(d[c]),g=a[e];if(g.isSupported())for(var l=0,m=b;l<m.length;l++){var n=m[l];if(g.canPlaySource(n))return{source:n,tech:e}}}return!1};a.Player.prototype.src=function(b){if(b instanceof Array){var c=
this.selectSource(b);c?(b=c.source,c=c.tech,c==this.techName?this.src(b):this.loadTech(c,b)):this.el_.appendChild(a.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else b instanceof Object?a[this.techName].canPlaySource(b)?this.src(b.src):this.src([b]):(this.cache_.src=b,this.isReady_?(this.techCall("src",
b),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(b)}));return this};a.Player.prototype.load=function(){this.techCall("load");return this};a.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};a.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",a),this.options_.preload=a,this):this.techGet("preload")};a.Player.prototype.autoplay=function(a){return void 0!==a?
(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)};a.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")};a.Player.prototype.poster=function(a){void 0!==a&&(this.poster_=a);return this.poster_};a.Player.prototype.controls=function(a){void 0!==a&&this.controls_!==a&&(this.controls_=!!a,this.trigger("controlschange"));return this.controls_};a.Player.prototype.error=function(){return this.techGet("error")};
a.Player.prototype.ended=function(){return this.techGet("ended")};(function(){var b,c,d;d=document.createElement("div");c={};void 0!==d.cancelFullscreen?(c.requestFn="requestFullscreen",c.cancelFn="exitFullscreen",c.eventName="fullscreenchange",c.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(b="moz",c.isFullScreen=b+"FullScreen"):(b="webkit",c.isFullScreen=b+"IsFullScreen"),d[b+"RequestFullScreen"]&&(c.requestFn=b+"RequestFullScreen",c.cancelFn=b+"CancelFullScreen"),c.eventName=b+"fullscreenchange");
document[c.cancelFn]&&(a.support.requestFullScreen=c)})();a.ControlBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.controls()||this.disable();b.one("play",a.bind(this,function(){var b,c=a.bind(this,this.fadeIn),d=a.bind(this,this.fadeOut);this.fadeOut();"ontouchstart"in window||(this.player_.on("mouseover",c),this.player_.on("mouseout",d),this.player_.on("pause",a.bind(this,this.lockShowing)),this.player_.on("play",a.bind(this,this.unlockShowing)));b=!1;this.player_.on("touchstart",
function(){b=!0});this.player_.on("touchmove",function(){b=!1});this.player_.on("touchend",a.bind(this,function(a){var c;b&&(c=this.el().className.search("fade-in"),-1!==c?this.fadeOut():this.fadeIn());b=!1;this.player_.paused()||a.preventDefault()}))}))}});a.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};a.ControlBar.prototype.createEl=
function(){return a.createEl("div",{className:"vjs-control-bar"})};a.ControlBar.prototype.fadeIn=function(){a.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};a.ControlBar.prototype.fadeOut=function(){a.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};a.PlayToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.on("play",a.bind(this,this.onPlay));b.on("pause",a.bind(this,this.onPause))}});a.PlayToggle.prototype.buttonText="Play";
a.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+a.Button.prototype.buildCSSClass.call(this)};a.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()};a.PlayToggle.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML="Pause"};a.PlayToggle.prototype.onPause=function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused");
this.el_.children[0].children[0].innerHTML="Play"};a.CurrentTimeDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.CurrentTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});
b.appendChild(a.createEl("div").appendChild(this.content));return b};a.CurrentTimeDisplay.prototype.updateContent=function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+a.formatTime(b,this.player_.duration())};a.DurationDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.DurationDisplay.prototype.createEl=
function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.DurationDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+
a.formatTime(this.player_.duration()))};a.TimeDivider=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.TimeDivider.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};a.RemainingTimeDisplay=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateContent))}});a.RemainingTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,
"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+a.formatTime(this.player_.remainingTime()))};
a.FullscreenToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c)}});a.FullscreenToggle.prototype.buttonText="Fullscreen";a.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+a.Button.prototype.buildCSSClass.call(this)};a.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML=
"Non-Fullscreen")};a.ProgressControl=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.ProgressControl.prototype.options_={children:{seekBar:{}}};a.ProgressControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};a.SeekBar=a.Slider.extend({init:function(b,c){a.Slider.call(this,b,c);b.on("timeupdate",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes))}});a.SeekBar.prototype.options_=
{children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};a.SeekBar.prototype.playerEvent="timeupdate";a.SeekBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};a.SeekBar.prototype.updateARIAAttributes=function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",
a.round(100*this.getPercent(),2));this.el_.setAttribute("aria-valuetext",a.formatTime(b,this.player_.duration()))};a.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};a.SeekBar.prototype.onMouseDown=function(b){a.Slider.prototype.onMouseDown.call(this,b);this.player_.scrubbing=!0;this.videoWasPlaying=!this.player_.paused();this.player_.pause()};a.SeekBar.prototype.onMouseMove=function(a){a=this.calculateDistance(a)*this.player_.duration();a==this.player_.duration()&&
(a-=0.1);this.player_.currentTime(a)};a.SeekBar.prototype.onMouseUp=function(b){a.Slider.prototype.onMouseUp.call(this,b);this.player_.scrubbing=!1;this.videoWasPlaying&&this.player_.play()};a.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};a.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)};a.LoadProgressBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("progress",a.bind(this,this.update))}});
a.LoadProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};a.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=a.round(100*this.player_.bufferedPercent(),2)+"%")};a.PlayProgressBar=a.Component.extend({init:function(b,c){a.Component.call(this,b,c)}});a.PlayProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,
"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};a.SeekHandle=a.SliderHandle.extend();a.SeekHandle.prototype.defaultValue="00:00";a.SeekHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};a.VolumeControl=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",
a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.VolumeControl.prototype.options_={children:{volumeBar:{}}};a.VolumeControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};a.VolumeBar=a.Slider.extend({init:function(b,c){a.Slider.call(this,b,c);b.on("volumechange",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes));
setTimeout(a.bind(this,this.update),0)}});a.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",a.round(100*this.player_.volume(),2));this.el_.setAttribute("aria-valuetext",a.round(100*this.player_.volume(),2)+"%")};a.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};a.VolumeBar.prototype.playerEvent="volumechange";a.VolumeBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,
"div",{className:"vjs-volume-bar","aria-label":"volume level"})};a.VolumeBar.prototype.onMouseMove=function(a){this.player_.volume(this.calculateDistance(a))};a.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()};a.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};a.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-0.1)};a.VolumeLevel=a.Component.extend({init:function(b,c){a.Component.call(this,
b,c)}});a.VolumeLevel.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};a.VolumeHandle=a.SliderHandle.extend();a.VolumeHandle.prototype.defaultValue="00:00";a.VolumeHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})};a.MuteToggle=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.on("volumechange",
a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.MuteToggle.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.MuteToggle.prototype.onClick=
function(){this.player_.muted(this.player_.muted()?!1:!0)};a.MuteToggle.prototype.update=function(){var b=this.player_.volume(),c=3;0===b||this.player_.muted()?c=0:0.33>b?c=1:0.67>b&&(c=2);this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Mute");for(b=0;4>b;b++)a.removeClass(this.el_,"vjs-vol-"+b);a.addClass(this.el_,"vjs-vol-"+
c)};a.VolumeMenuButton=a.MenuButton.extend({init:function(b,c){a.MenuButton.call(this,b,c);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}));this.addClass("vjs-menu-button")}});a.VolumeMenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_,{contentElType:"div"}),
c=new a.VolumeBar(this.player_,a.obj.merge({vertical:!0},this.options_.volumeBar));b.addChild(c);return b};a.VolumeMenuButton.prototype.onClick=function(){a.MuteToggle.prototype.onClick.call(this);a.MenuButton.prototype.onClick.call(this)};a.VolumeMenuButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.VolumeMenuButton.prototype.update=
a.MuteToggle.prototype.update;a.PosterImage=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.poster()&&b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.PosterImage.prototype.createEl=function(){var b=a.createEl("div",{className:"vjs-poster",tabIndex:-1}),c=this.player_.poster();c&&("backgroundSize"in b.style?b.style.backgroundImage='url("'+c+'")':b.appendChild(a.createEl("img",{src:c})));return b};a.PosterImage.prototype.onClick=function(){this.player_.play()};a.LoadingSpinner=
a.Component.extend({init:function(b,c){a.Component.call(this,b,c);b.on("canplay",a.bind(this,this.hide));b.on("canplaythrough",a.bind(this,this.hide));b.on("playing",a.bind(this,this.hide));b.on("seeked",a.bind(this,this.hide));b.on("seeking",a.bind(this,this.show));b.on("seeked",a.bind(this,this.hide));b.on("error",a.bind(this,this.show));b.on("waiting",a.bind(this,this.show))}});a.LoadingSpinner.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};
a.BigPlayButton=a.Button.extend({init:function(b,c){a.Button.call(this,b,c);b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.BigPlayButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};a.BigPlayButton.prototype.onClick=function(){this.player_.play()};a.MediaTechController=a.Component.extend({init:function(b,c,d){a.Component.call(this,b,c,d)}});a.MediaTechController.prototype.onClick=
function(){return a.IS_ANDROID?function(){}:function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())}}();a.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1};a.media={};a.media.ApiMethods="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
for(var e=a.media.ApiMethods.length-1;0<=e;e--)a.MediaTechController.prototype[a.media.ApiMethods[e]]=d(a.media.ApiMethods[e]);a.Html5=a.MediaTechController.extend({init:function(b,c,d){this.features.volumeControl=a.Html5.canControlVolume();this.features.movingMediaElementInDOM=!a.IS_IOS;this.features.fullscreenResize=!0;a.MediaTechController.call(this,b,c,d);(c=c.source)&&this.el_.currentSrc==c.src?b.trigger("loadstart"):c&&(this.el_.src=c.src);b.ready(function(){this.options_.autoplay&&this.paused()&&
(this.tag.poster=null,this.play())});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});a.Html5.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Html5.prototype.createEl=function(){var b=this.player_,c=b.tag;c&&!1!==this.features.movingMediaElementInDOM||(c?(b.el().removeChild(c),c=c.cloneNode(!1)):c=a.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),c.player=b,a.insertFirst(c,b.el()));for(var d=["autoplay","preload","loop","muted"],
e=d.length-1;0<=e;e--){var g=d[e];null!==b.options_[g]&&(c[g]=b.options_[g])}return c};a.Html5.prototype.setupTriggers=function(){for(var b=a.Html5.Events.length-1;0<=b;b--)a.on(this.el_,a.Html5.Events[b],a.bind(this.player_,this.eventHandler))};a.Html5.prototype.eventHandler=function(a){this.trigger(a);a.stopPropagation()};a.Html5.prototype.play=function(){this.el_.play()};a.Html5.prototype.pause=function(){this.el_.pause()};a.Html5.prototype.paused=function(){return this.el_.paused};a.Html5.prototype.currentTime=
function(){return this.el_.currentTime};a.Html5.prototype.setCurrentTime=function(b){try{this.el_.currentTime=b}catch(c){a.log(c,"Video is not ready. (Video.js)")}};a.Html5.prototype.duration=function(){return this.el_.duration||0};a.Html5.prototype.buffered=function(){return this.el_.buffered};a.Html5.prototype.volume=function(){return this.el_.volume};a.Html5.prototype.setVolume=function(a){this.el_.volume=a};a.Html5.prototype.muted=function(){return this.el_.muted};a.Html5.prototype.setMuted=function(a){this.el_.muted=
a};a.Html5.prototype.width=function(){return this.el_.offsetWidth};a.Html5.prototype.height=function(){return this.el_.offsetHeight};a.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(a.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(a.USER_AGENT)?!1:!0};a.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};
a.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};a.Html5.prototype.src=function(a){this.el_.src=a};a.Html5.prototype.load=function(){this.el_.load()};a.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};a.Html5.prototype.preload=function(){return this.el_.preload};a.Html5.prototype.setPreload=function(a){this.el_.preload=a};a.Html5.prototype.autoplay=function(){return this.el_.autoplay};a.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a};a.Html5.prototype.loop=
function(){return this.el_.loop};a.Html5.prototype.setLoop=function(a){this.el_.loop=a};a.Html5.prototype.error=function(){return this.el_.error};a.Html5.prototype.seeking=function(){return this.el_.seeking};a.Html5.prototype.ended=function(){return this.el_.ended};a.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};a.Html5.isSupported=function(){return!!document.createElement("video").canPlayType};a.Html5.canPlaySource=function(a){return!!document.createElement("video").canPlayType(a.type)};
a.Html5.canControlVolume=function(){var b=a.TEST_VID.volume;a.TEST_VID.volume=b/2+0.1;return b!==a.TEST_VID.volume};a.Html5.Events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");a.IS_ANDROID&&3>a.ANDROID_VERSION&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?
"maybe":""});a.Flash=a.MediaTechController.extend({init:function(b,c,d){a.MediaTechController.call(this,b,c,d);d=c.source;var e=c.parentEl,g=this.el_=a.createEl("div",{id:b.id()+"_temp_flash"}),l=b.id()+"_flash_api";b=b.options_;var m=a.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:b.autoplay,preload:b.preload,loop:b.loop,muted:b.muted},c.flashVars),n=a.obj.merge({wmode:"opaque",bgcolor:"#000000"},
c.params),q=a.obj.merge({id:l,name:l,"class":"vjs-tech"},c.attributes);d&&(m.src=encodeURIComponent(a.getAbsoluteURL(d.src)));a.insertFirst(g,e);c.startTime&&this.ready(function(){this.load();this.play();this.currentTime(c.startTime)});if(!0!==c.iFrameMode||a.IS_FIREFOX)a.Flash.embed(c.swf,g,m,n,q);else{var r=a.createEl("iframe",{id:l+"_iframe",name:l+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});m.readyFunction="ready";m.eventProxyFunction="events";m.errorEventProxyFunction=
"errors";a.on(r,"load",a.bind(this,function(){var b,d=r.contentWindow;b=r.contentDocument?r.contentDocument:r.contentWindow.document;b.write(a.Flash.getEmbedCode(c.swf,m,n,q));d.player=this.player_;d.ready=a.bind(this.player_,function(c){c=b.getElementById(c);var d=this.tech;d.el_=c;a.on(c,"click",d.bind(d.onClick));a.Flash.checkReady(d)});d.events=a.bind(this.player_,function(a,b){this&&"flash"===this.techName&&this.trigger(b)});d.errors=a.bind(this.player_,function(b,c){a.log("Flash Error",c)})}));
g.parentNode.replaceChild(r,g)}}});a.Flash.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Flash.prototype.play=function(){this.el_.vjs_play()};a.Flash.prototype.pause=function(){this.el_.vjs_pause()};a.Flash.prototype.src=function(b){b=a.getAbsoluteURL(b);this.el_.vjs_src(b);if(this.player_.autoplay()){var c=this;setTimeout(function(){c.play()},0)}};a.Flash.prototype.load=function(){this.el_.vjs_load()};a.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};
a.Flash.prototype.buffered=function(){return a.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};a.Flash.prototype.supportsFullScreen=function(){return!1};a.Flash.prototype.enterFullScreen=function(){return!1};var m=a.Flash.prototype,y="preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),r="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),
n=function(a){var c=a.charAt(0).toUpperCase()+a.slice(1);m["set"+c]=function(c){return this.el_.vjs_setProperty(a,c)}},z=function(a){m[a]=function(){return this.el_.vjs_getProperty(a)}};(function(){var a;for(a=0;a<y.length;a++)z(y[a]),n(y[a]);for(a=0;a<r.length;a++)z(r[a])})();a.Flash.isSupported=function(){return 10<=a.Flash.version()[0]};a.Flash.canPlaySource=function(b){if(b.type in a.Flash.formats)return"maybe"};a.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};
a.Flash.onReady=function(b){b=a.el(b);var c=b.player||b.parentNode.player,d=c.tech;b.player=c;d.el_=b;d.on("click",d.onClick);a.Flash.checkReady(d)};a.Flash.checkReady=function(b){b.el().vjs_getProperty?b.triggerReady():setTimeout(function(){a.Flash.checkReady(b)},50)};a.Flash.onEvent=function(b,c){a.el(b).player.trigger(c)};a.Flash.onError=function(b,c){a.el(b).player.trigger("error");a.log("Flash Error",c,b)};a.Flash.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,
",").match(/^,?(.+),?$/)[1]}catch(c){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(d){}}return a.split(",")};a.Flash.embed=function(b,c,d,e,g){b=a.Flash.getEmbedCode(b,d,e,g);b=a.createEl("div",{innerHTML:b}).childNodes[0];d=c.parentNode;c.parentNode.replaceChild(b,c);var l=d.childNodes[0];setTimeout(function(){l.style.display=
"block"},1E3);return b};a.Flash.getEmbedCode=function(b,c,d,e){var g="",l="",m="";c&&a.obj.each(c,function(a,b){g+=a+"="+b+"&amp;"});d=a.obj.merge({movie:b,flashvars:g,allowScriptAccess:"always",allowNetworking:"all"},d);a.obj.each(d,function(a,b){l+='<param name="'+a+'" value="'+b+'" />'});e=a.obj.merge({data:b,width:"100%",height:"100%"},e);a.obj.each(e,function(a,b){m+=a+'="'+b+'" '});return'<object type="application/x-shockwave-flash"'+m+">"+l+"</object>"};a.MediaLoader=a.Component.extend({init:function(b,
c,d){a.Component.call(this,b,c,d);if(b.options_.sources&&0!==b.options_.sources.length)b.src(b.options_.sources);else for(c=0,d=b.options_.techOrder;c<d.length;c++){var e=a.capitalize(d[c]),g=a[e];if(g&&g.isSupported()){b.loadTech(e);break}}}});a.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[]};a.Player.prototype.addTextTrack=function(b,c,d,e){var g=this.textTracks_=this.textTracks_||[];e=e||{};e.kind=b;e.label=c;e.language=d;b=a.capitalize(b||"subtitles");e=new a[b+
"Track"](this,e);g.push(e);return e};a.Player.prototype.addTextTracks=function(a){for(var c,d=0;d<a.length;d++)c=a[d],this.addTextTrack(c.kind,c.label,c.language,c);return this};a.Player.prototype.showTextTrack=function(a,c){for(var d=this.textTracks_,e=0,g=d.length,l,m;e<g;e++)l=d[e],l.id()===a?(l.show(),m=l):c&&(l.kind()==c&&0<l.mode())&&l.disable();(d=m?m.kind():c?c:!1)&&this.trigger(d+"trackchange");return this};a.TextTrack=a.Component.extend({init:function(b,c){a.Component.call(this,b,c);this.id_=
c.id||"vjs_"+c.kind+"_"+c.language+"_"+a.guid++;this.src_=c.src;this.dflt_=c["default"]||c.dflt;this.title_=c.title;this.language_=c.srclang;this.label_=c.label;this.cues_=[];this.activeCues_=[];this.mode_=this.readyState_=0;this.player_.on("fullscreenchange",a.bind(this,this.adjustFontSize))}});a.TextTrack.prototype.kind=function(){return this.kind_};a.TextTrack.prototype.src=function(){return this.src_};a.TextTrack.prototype.dflt=function(){return this.dflt_};a.TextTrack.prototype.title=function(){return this.title_};
a.TextTrack.prototype.language=function(){return this.language_};a.TextTrack.prototype.label=function(){return this.label_};a.TextTrack.prototype.cues=function(){return this.cues_};a.TextTrack.prototype.activeCues=function(){return this.activeCues_};a.TextTrack.prototype.readyState=function(){return this.readyState_};a.TextTrack.prototype.mode=function(){return this.mode_};a.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?140*(screen.width/this.player_.width())+
"%":""};a.TextTrack.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};a.TextTrack.prototype.show=function(){this.activate();this.mode_=2;a.Component.prototype.show.call(this)};a.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;a.Component.prototype.hide.call(this)};a.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide();this.deactivate();this.mode_=0};a.TextTrack.prototype.activate=function(){0===
this.readyState_&&this.load();0===this.mode_&&(this.player_.on("timeupdate",a.bind(this,this.update,this.id_)),this.player_.on("ended",a.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))};a.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",a.bind(this,this.update,this.id_));this.player_.off("ended",a.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};
a.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,a.get(this.src_,a.bind(this,this.parseCues),a.bind(this,this.onError)))};a.TextTrack.prototype.onError=function(a){this.error=a;this.readyState_=3;this.trigger("error")};a.TextTrack.prototype.parseCues=function(b){var c,d;b=b.split("\n");for(var e="",g=1,l=b.length;g<l;g++)if(e=a.trim(b[g])){-1==e.indexOf("--\x3e")?(c=e,e=a.trim(b[++g])):c=this.cues_.length;c={id:c,index:this.cues_.length};d=e.split(" --\x3e ");c.startTime=
this.parseCueTime(d[0]);c.endTime=this.parseCueTime(d[1]);for(d=[];b[++g]&&(e=a.trim(b[g]));)d.push(e);c.text=d.join("<br/>");this.cues_.push(c)}this.readyState_=2;this.trigger("loaded")};a.TextTrack.prototype.parseCueTime=function(a){var c=a.split(":");a=0;var d,e,g;3==c.length?(d=c[0],e=c[1],c=c[2]):(d=0,e=c[0],c=c[1]);c=c.split(/\s+/);c=c.splice(0,1)[0];c=c.split(/\.|,/);g=parseFloat(c[1]);c=c[0];a+=3600*parseFloat(d);a+=60*parseFloat(e);a+=parseFloat(c);g&&(a+=g/1E3);return a};a.TextTrack.prototype.update=
function(){if(0<this.cues_.length){var a=this.player_.currentTime();if(void 0===this.prevChange||a<this.prevChange||this.nextChange<=a){var c=this.cues_,d=this.player_.duration(),e=0,g=!1,l=[],m,n,q,r;a>=this.nextChange||void 0===this.nextChange?r=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(g=!0,r=void 0!==this.lastActiveIndex?this.lastActiveIndex:c.length-1);for(;;){q=c[r];if(q.endTime<=a)e=Math.max(e,q.endTime),q.active&&(q.active=!1);else if(a<q.startTime){if(d=Math.min(d,q.startTime),
q.active&&(q.active=!1),!g)break}else g?(l.splice(0,0,q),void 0===n&&(n=r),m=r):(l.push(q),void 0===m&&(m=r),n=r),d=Math.min(d,q.endTime),e=Math.max(e,q.startTime),q.active=!0;if(g)if(0===r)break;else r--;else if(r===c.length-1)break;else r++}this.activeCues_=l;this.nextChange=d;this.prevChange=e;this.firstActiveIndex=m;this.lastActiveIndex=n;this.updateDisplay();this.trigger("cuechange")}}};a.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,c="",d=0,e=a.length;d<e;d++)c+='<span class="vjs-tt-cue">'+
a[d].text+"</span>";this.el_.innerHTML=c};a.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.lastActiveIndex=this.firstActiveIndex=0};a.CaptionsTrack=a.TextTrack.extend();a.CaptionsTrack.prototype.kind_="captions";a.SubtitlesTrack=a.TextTrack.extend();a.SubtitlesTrack.prototype.kind_="subtitles";a.ChaptersTrack=a.TextTrack.extend();a.ChaptersTrack.prototype.kind_="chapters";a.TextTrackDisplay=a.Component.extend({init:function(b,c,d){a.Component.call(this,
b,c,d);b.options_.tracks&&0<b.options_.tracks.length&&this.player_.addTextTracks(b.options_.tracks)}});a.TextTrackDisplay.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};a.TextTrackMenuItem=a.MenuItem.extend({init:function(b,c){var d=this.track=c.track;c.label=d.label();c.selected=d.dflt();a.MenuItem.call(this,b,c);this.player_.on(d.kind()+"trackchange",a.bind(this,this.update))}});a.TextTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.TextTrackMenuItem.prototype.update=function(){2==this.track.mode()?this.selected(!0):this.selected(!1)};a.OffTextTrackMenuItem=a.TextTrackMenuItem.extend({init:function(b,c){c.track={kind:function(){return c.kind},player:b,label:function(){return c.kind+" off"},dflt:function(){return!1},mode:function(){return!1}};a.TextTrackMenuItem.call(this,b,c);this.selected(!0)}});a.OffTextTrackMenuItem.prototype.onClick=function(){a.TextTrackMenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.OffTextTrackMenuItem.prototype.update=function(){for(var a=this.player_.textTracks(),c=0,d=a.length,e,g=!0;c<d;c++)e=a[c],e.kind()==this.track.kind()&&2==e.mode()&&(g=!1);g?this.selected(!0):this.selected(!1)};a.TextTrackButton=a.MenuButton.extend({init:function(b,c){a.MenuButton.call(this,b,c);1>=this.items.length&&this.hide()}});a.TextTrackButton.prototype.createItems=function(){var b=[],c;b.push(new a.OffTextTrackMenuItem(this.player_,
{kind:this.kind_}));for(var d=0;d<this.player_.textTracks().length;d++)c=this.player_.textTracks()[d],c.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:c}));return b};a.CaptionsButton=a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Captions Menu")}});a.CaptionsButton.prototype.kind_="captions";a.CaptionsButton.prototype.buttonText="Captions";a.CaptionsButton.prototype.className="vjs-captions-button";a.SubtitlesButton=
a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Subtitles Menu")}});a.SubtitlesButton.prototype.kind_="subtitles";a.SubtitlesButton.prototype.buttonText="Subtitles";a.SubtitlesButton.prototype.className="vjs-subtitles-button";a.ChaptersButton=a.TextTrackButton.extend({init:function(b,c,d){a.TextTrackButton.call(this,b,c,d);this.el_.setAttribute("aria-label","Chapters Menu")}});a.ChaptersButton.prototype.kind_="chapters";a.ChaptersButton.prototype.buttonText=
"Chapters";a.ChaptersButton.prototype.className="vjs-chapters-button";a.ChaptersButton.prototype.createItems=function(){for(var b=[],c,d=0;d<this.player_.textTracks().length;d++)c=this.player_.textTracks()[d],c.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:c}));return b};a.ChaptersButton.prototype.createMenu=function(){for(var b=this.player_.textTracks(),c=0,d=b.length,e,g,l=this.items=[];c<d;c++)if(e=b[c],e.kind()==this.kind_&&e.dflt()){if(2>e.readyState()){this.chaptersTrack=
e;e.on("loaded",a.bind(this,this.createMenu));return}g=e;break}b=this.menu=new a.Menu(this.player_);b.el_.appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(g){e=g.cues_;for(var m,c=0,d=e.length;c<d;c++)m=e[c],m=new a.ChaptersTrackMenuItem(this.player_,{track:g,cue:m}),l.push(m),b.addChild(m)}0<this.items.length&&this.show();return b};a.ChaptersTrackMenuItem=a.MenuItem.extend({init:function(b,c){var d=this.track=c.track,e=this.cue=c.cue,g=
b.currentTime();c.label=e.text;c.selected=e.startTime<=g&&g<e.endTime;a.MenuItem.call(this,b,c);d.on("cuechange",a.bind(this,this.update))}});a.ChaptersTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};a.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,c=this.player_.currentTime();a.startTime<=c&&c<a.endTime?this.selected(!0):this.selected(!1)};a.obj.merge(a.ControlBar.prototype.options_.children,
{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)a.JSON=window.JSON;else{a.JSON={};var x=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a.JSON.parse=function(a,c){function d(a,b){var e,g,k=a[b];if(k&&"object"===typeof k)for(e in k)Object.prototype.hasOwnProperty.call(k,e)&&(g=d(k,e),void 0!==g?k[e]=g:delete k[e]);return c.call(a,b,k)}var e;a=String(a);x.lastIndex=
0;x.test(a)&&(a=a.replace(x,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}a.autoSetup=function(){var b,c,d=document.getElementsByTagName("video");
if(d&&0<d.length)for(var e=0,g=d.length;e<g;e++)if((c=d[e])&&c.getAttribute)void 0===c.player&&(b=c.getAttribute("data-setup"),null!==b&&(b=a.JSON.parse(b||"{}"),l(c,b)));else{a.autoSetupTimeout(1);break}else a.windowLoaded||a.autoSetupTimeout(1)};a.autoSetupTimeout=function(b){setTimeout(a.autoSetup,b)};a.one(window,"load",function(){a.windowLoaded=!0});a.autoSetupTimeout(1);a.plugin=function(b,c){a.Player.prototype[b]=c};w.exports=a})()})()},{}],65:[function(l,w,x){l=l("handlebars-runtime");w.exports=
l.template(function(d,a,l,g,e){function m(a,d){var b,c;b='\n          <p class="absfix">\n            <a href="';(c=l.editHref)?c=c.call(a,{hash:{},data:d}):(c=a.editHref,c=typeof c===w?c.apply(a):c);return b+=r(c)+'" class="app btn btn-mini btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};var w="function",r=this.escapeExpression,n=this;d='<ul class="reelgrid">\n';if((a=l.each.call(a,a.media,{hash:{},inverse:n.noop,fn:n.program(1,function(a,
d){var b,c;b='\n  <li>\n    <div class="relfix">\n      <a href="';(c=l.playerUrl)?c=c.call(a,{hash:{},data:d}):(c=a.playerUrl,c=typeof c===w?c.apply(a):c);b+=r(c)+'" class="app">\n        <img src="';(c=l.thumbnailUrl)?c=c.call(a,{hash:{},data:d}):(c=a.thumbnailUrl,c=typeof c===w?c.apply(a):c);b+=r(c)+'" alt="';(c=l.name)?c=c.call(a,{hash:{},data:d}):(c=a.name,c=typeof c===w?c.apply(a):c);b+=r(c)+'" />\n        ';if((c=l["if"].call(a,a.editHref,{hash:{},inverse:n.noop,fn:n.program(2,m,d),data:d}))||
0===c)b+=c;b+='\n        <div class="captions centered">\n          <h2>';(c=l.name)?c=c.call(a,{hash:{},data:d}):(c=a.name,c=typeof c===w?c.apply(a):c);return b+=r(c)+"</h2>\n        </div>\n      </a>\n    </div>\n  </li>\n"},e),data:e}))||0===a)d+=a;return d+"\n</ul>\n"})},{"handlebars-runtime":76}],67:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};d="";var m=this.escapeExpression;if((a=l["if"].call(a,
a.thumberUrl,{hash:{},inverse:this.noop,fn:this.program(1,function(a,d){var e,g;e='\n  <iframe src="';(g=l.thumberUrl)?g=g.call(a,{hash:{},data:d}):(g=a.thumberUrl,g="function"===typeof g?g.apply(a):g);return e+=m(g)+'" frameborder="0" width="100%"></iframe>\n'},e),data:e}))||0===a)d+=a;return d+"\n"})},{"handlebars-runtime":76}],77:[function(l,w,x){l=l("handlebars-runtime");w.exports=l.template(function(d,a,l,g,e){function m(a,d){var b,c;b='\n          <p class="absfix">\n            <a href="';
(c=l.editHref)?c=c.call(a,{hash:{},data:d}):(c=a.editHref,c=typeof c===w?c.apply(a):c);return b+=r(c)+'" class="app btn btn-micro btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"];l=this.merge(l,d.helpers);e=e||{};var w="function",r=this.escapeExpression,n=this;d='<div class="sliderWrap">\n  <ul class="carousel elastislide-list">\n  ';if((a=l.each.call(a,a.media,{hash:{},inverse:n.noop,fn:n.program(1,function(a,d){var b,c;b='\n    <li>\n      <div class="relfix">\n        <a href="';
(c=l.playerUrl)?c=c.call(a,{hash:{},data:d}):(c=a.playerUrl,c=typeof c===w?c.apply(a):c);b+=r(c)+'" class="app">\n          <img src="';(c=l.thumbnailUrl)?c=c.call(a,{hash:{},data:d}):(c=a.thumbnailUrl,c=typeof c===w?c.apply(a):c);b+=r(c)+'" alt="';(c=l.name)?c=c.call(a,{hash:{},data:d}):(c=a.name,c=typeof c===w?c.apply(a):c);b+=r(c)+'" />\n        </a>\n        ';if((c=l["if"].call(a,a.editHref,{hash:{},inverse:n.noop,fn:n.program(2,m,d),data:d}))||0===c)b+=c;return b+"\n      </div>\n    </li>\n  "},
e),data:e}))||0===a)d+=a;return d+'\n  </ul>\n</div>\n<div class="controls clearfix centered">\n  <div class="control-fix centered">\n    <a href="#" class="carouselControl goLeft hidden">&lt;</a>\n    <a href="#" class="carouselControl reelToggle"><span class="symbol">&and;</span><br /><small>Reel</small></a>\n    <a href="#" class="carouselControl goRight hidden">&gt;</a>\n  </div>\n  <a href="#" class="carouselControl bigClose pull-right">&times;</a>\n</div>\n'})},{"handlebars-runtime":76}]},{},
[1]);
/*
//@ sourceMappingURL=/js/source.map
*/