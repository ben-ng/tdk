/*

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>

 Lo-Dash 1.2.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
require=function(m,s,v){function c(f,g){if(!s[f]){if(!m[f]){var e="function"==typeof require&&require;if(!g&&e)return e(f,!0);if(a)return a(f,!0);throw Error("Cannot find module '"+f+"'");}e=s[f]={exports:{}};m[f][0].call(e.exports,function(a){var e=m[f][1][a];return c(e?e:a)},e,e.exports)}return s[f].exports}for(var a="function"==typeof require&&require,f=0;f<v.length;f++)c(v[f]);return c}({"jquery-browserify":[function(m,s,v){s.exports=m("Gb3VIQ")},{}],Gb3VIQ:[function(m,s,v){(function(c,a){"object"===
typeof v?s.exports=a():"function"===typeof define&&define.amd?define([],a):c.returnExports=a()})(this,function(){return function(c,a){function f(a){var b=Sb[a]={};h.each(a.split(sa),function(a,J){b[J]=!0});return b}function l(J,b,d){if(d===a&&1===J.nodeType)if(d="data-"+b.replace(pb,"-$1").toLowerCase(),d=J.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:ba.test(d)?h.parseJSON(d):d}catch(c){}h.data(J,b,d)}else d=a;return d}function g(a){for(var b in a)if(("data"!==
b||!h.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function e(){return!1}function k(){return!0}function q(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function n(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function A(a,b,d){b=b||0;if(h.isFunction(b))return h.grep(a,function(a,J){return!!b.call(a,J,a)===d});if(b.nodeType)return h.grep(a,function(a,J){return a===b===d});if("string"===typeof b){var c=h.grep(a,function(a){return 1===a.nodeType});if(kb.test(b))return h.filter(b,
c,!d);b=h.filter(b,c)}return h.grep(a,function(a,J){return 0<=h.inArray(a,b)===d})}function m(a){var b=ya.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function b(a,b){if(1===b.nodeType&&h.hasData(a)){var d,c,e;c=h._data(a);var g=h._data(b,c),k=c.events;if(k)for(d in delete g.handle,g.events={},k)for(c=0,e=k[d].length;c<e;c++)h.event.add(b,d,k[d][c]);g.data&&(g.data=h.extend({},g.data))}}function d(a,b){var d;1===b.nodeType&&(b.clearAttributes&&
b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),d=b.nodeName.toLowerCase(),"object"===d?(b.parentNode&&(b.outerHTML=a.outerHTML),h.support.html5Clone&&(a.innerHTML&&!h.trim(b.innerHTML))&&(b.innerHTML=a.innerHTML)):"input"===d&&Ya.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===d?b.selected=a.defaultSelected:"input"===d||"textarea"===d?b.defaultValue=a.defaultValue:"script"===d&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(h.expando))}
function t(a){return"undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function x(a){Ya.test(a.type)&&(a.defaultChecked=a.checked)}function B(a,b){if(b in a)return b;for(var d=b.charAt(0).toUpperCase()+b.slice(1),h=b,c=la.length;c--;)if(b=la[c]+d,b in a)return b;return h}function D(a,b){a=b||a;return"none"===h.css(a,"display")||!h.contains(a.ownerDocument,a)}function y(a,b){for(var d,c,e=[],g=0,k=a.length;g<k;g++)d=
a[g],d.style&&(e[g]=h._data(d,"olddisplay"),b?(e[g]||"none"!==d.style.display||(d.style.display=""),""===d.style.display&&D(d)&&(e[g]=h._data(d,"olddisplay",p(d.nodeName)))):(c=R(d,"display"),e[g]||"none"===c||h._data(d,"olddisplay",c)));for(g=0;g<k;g++)d=a[g],!d.style||b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?e[g]||"":"none");return a}function F(a,b,d){return(a=va.exec(b))?Math.max(0,a[1]-(d||0))+(a[2]||"px"):b}function C(a,b,d,c){b=d===(c?"border":"content")?4:"width"===
b?1:0;for(var e=0;4>b;b+=2)"margin"===d&&(e+=h.css(a,d+Da[b],!0)),c?("content"===d&&(e-=parseFloat(R(a,"padding"+Da[b]))||0),"margin"!==d&&(e-=parseFloat(R(a,"border"+Da[b]+"Width"))||0)):(e+=parseFloat(R(a,"padding"+Da[b]))||0,"padding"!==d&&(e+=parseFloat(R(a,"border"+Da[b]+"Width"))||0));return e}function X(a,b,d){var c="width"===b?a.offsetWidth:a.offsetHeight,e=!0,g=h.support.boxSizing&&"border-box"===h.css(a,"boxSizing");if(0>=c||null==c){c=R(a,b);if(0>c||null==c)c=a.style[b];if(Ua.test(c))return c;
e=g&&(h.support.boxSizingReliable||c===a.style[b]);c=parseFloat(c)||0}return c+C(a,b,d||(g?"border":"content"),e)+"px"}function p(a){if(Pa[a])return Pa[a];var b=h("<"+a+">").appendTo(r.body),d=b.css("display");b.remove();if("none"===d||""===d)La=r.body.appendChild(La||h.extend(r.createElement("iframe"),{frameBorder:0,width:0,height:0})),M&&La.createElement||(M=(La.contentWindow||La.contentDocument).document,M.write("<!doctype html><html><body>"),M.close()),b=M.body.appendChild(M.createElement(a)),
d=R(b,"display"),r.body.removeChild(La);return Pa[a]=d}function E(a,b,d,c){var e;if(h.isArray(b))h.each(b,function(b,xa){d||qb.test(a)?c(a,xa):E(a+"["+("object"===typeof xa?b:"")+"]",xa,d,c)});else if(d||"object"!==h.type(b))c(a,b);else for(e in b)E(a+"["+e+"]",b[e],d,c)}function s(a){return function(b,d){"string"!==typeof b&&(d=b,b="*");var c,e,g=b.toLowerCase().split(sa),k=0,f=g.length;if(h.isFunction(d))for(;k<f;k++)c=g[k],(e=/^\+/.test(c))&&(c=c.substr(1)||"*"),c=a[c]=a[c]||[],c[e?"unshift":"push"](d)}}
function v(b,d,h,c,e,g){e=e||d.dataTypes[0];g=g||{};g[e]=!0;var k;e=b[e];for(var f=0,n=e?e.length:0,l=b===Tb;f<n&&(l||!k);f++)k=e[f](d,h,c),"string"===typeof k&&(!l||g[k]?k=a:(d.dataTypes.unshift(k),k=v(b,d,h,c,k,g)));!l&&k||g["*"]||(k=v(b,d,h,c,"*",g));return k}function K(b,d){var c,e,g=h.ajaxSettings.flatOptions||{};for(c in d)d[c]!==a&&((g[c]?b:e||(e={}))[c]=d[c]);e&&h.extend(!0,b,e)}function na(){try{return new c.XMLHttpRequest}catch(a){}}function oa(){setTimeout(function(){lb=a},0);return lb=
h.now()}function T(a,b){h.each(b,function(b,d){for(var xa=(Ub[b]||[]).concat(Ub["*"]),h=0,c=xa.length;h<c&&!xa[h].call(a,b,d);h++);})}function I(a,b,d){var c=0,e=Zb.length,g=h.Deferred().always(function(){delete k.elem}),k=function(){for(var b=lb||oa(),b=Math.max(0,f.startTime+f.duration-b),d=1-(b/f.duration||0),xa=0,h=f.tweens.length;xa<h;xa++)f.tweens[xa].run(d);g.notifyWith(a,[f,d,b]);if(1>d&&h)return b;g.resolveWith(a,[f]);return!1},f=g.promise({elem:a,props:h.extend({},b),opts:h.extend(!0,{specialEasing:{}},
d),originalProperties:b,originalOptions:d,startTime:lb||oa(),duration:d.duration,tweens:[],createTween:function(b,d,xa){b=h.Tween(a,f.opts,b,d,f.opts.specialEasing[b]||f.opts.easing);f.tweens.push(b);return b},stop:function(b){for(var d=0,xa=b?f.tweens.length:0;d<xa;d++)f.tweens[d].run(1);b?g.resolveWith(a,[f,b]):g.rejectWith(a,[f,b]);return this}});d=f.props;for(ja(d,f.opts.specialEasing);c<e;c++)if(b=Zb[c].call(f,a,d,f.opts))return b;T(f,d);h.isFunction(f.opts.start)&&f.opts.start.call(a,f);h.fx.timer(h.extend(k,
{anim:f,queue:f.opts.queue,elem:a}));return f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function ja(a,b){var d,c,e,g,f;for(d in a)if(c=h.camelCase(d),e=b[c],g=a[d],h.isArray(g)&&(e=g[1],g=a[d]=g[0]),d!==c&&(a[c]=g,delete a[d]),(f=h.cssHooks[c])&&"expand"in f)for(d in g=f.expand(g),delete a[c],g)d in a||(a[d]=g[d],b[d]=e);else b[c]=e}function S(a,b,d,c,h){return new S.prototype.init(a,b,d,c,h)}function L(a,b){var d,c={height:a},h=0;for(b=b?
1:0;4>h;h+=2-b)d=Da[h],c["margin"+d]=c["padding"+d]=a;b&&(c.opacity=c.width=a);return c}function fa(a){return h.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ca,u,r=c.document,U=c.location,H=c.navigator,Ha=c.jQuery,zb=c.$,Za=Array.prototype.push,za=Array.prototype.slice,$a=Array.prototype.indexOf,Qa=Object.prototype.toString,Ea=Object.prototype.hasOwnProperty,Ia=String.prototype.trim,h=function(a,b){return new h.fn.init(a,b,ca)},Y=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,
mb=/\S/,sa=/\s+/,ab=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ma=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ta=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bb=/^[\],:{}\s]*$/,cb=/(?:^|:|,)(?:\s*\[)+/g,$b=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Ab=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ac=/^-ms-/,Vb=/-([\da-z])/gi,bc=function(a,b){return(b+"").toUpperCase()},Bb=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",Bb,!1),h.ready()):"complete"===r.readyState&&(r.detachEvent("onreadystatechange",
Bb),h.ready())},Cb={};h.fn=h.prototype={constructor:h,init:function(b,d,c){var e;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("string"===typeof b){e="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:Ma.exec(b);if(!e||!e[1]&&d)return!d||d.jquery?(d||c).find(b):this.constructor(d).find(b);if(e[1])return b=(d=d instanceof h?d[0]:d)&&d.nodeType?d.ownerDocument||d:r,b=h.parseHTML(e[1],b,!0),ta.test(e[1])&&h.isPlainObject(d)&&this.attr.call(b,
d,!0),h.merge(this,b);if((d=r.getElementById(e[2]))&&d.parentNode){if(d.id!==e[2])return c.find(b);this.length=1;this[0]=d}this.context=r;this.selector=b;return this}if(h.isFunction(b))return c.ready(b);b.selector!==a&&(this.selector=b.selector,this.context=b.context);return h.makeArray(b,this)},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return za.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,
b,d){a=h.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;"find"===b?a.selector=this.selector+(this.selector?" ":"")+d:b&&(a.selector=this.selector+"."+b+"("+d+")");return a},each:function(a,b){return h.each(this,a,b)},ready:function(a){h.ready.promise().done(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(za.apply(this,arguments),"slice",
za.call(arguments).join(","))},map:function(a){return this.pushStack(h.map(this,function(b,d){return a.call(b,d,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Za,sort:[].sort,splice:[].splice};h.fn.init.prototype=h.fn;h.extend=h.fn.extend=function(){var b,d,c,e,g,f=arguments[0]||{},k=1,n=arguments.length,l=!1;"boolean"===typeof f&&(l=f,f=arguments[1]||{},k=2);"object"===typeof f||h.isFunction(f)||(f={});n===k&&(f=this,--k);for(;k<n;k++)if(null!=(b=arguments[k]))for(d in b)c=
f[d],e=b[d],f!==e&&(l&&e&&(h.isPlainObject(e)||(g=h.isArray(e)))?(g?(g=!1,c=c&&h.isArray(c)?c:[]):c=c&&h.isPlainObject(c)?c:{},f[d]=h.extend(l,c,e)):e!==a&&(f[d]=e));return f};h.extend({noConflict:function(a){c.$===h&&(c.$=zb);a&&c.jQuery===h&&(c.jQuery=Ha);return h},isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){if(!0===a?!--h.readyWait:!h.isReady){if(!r.body)return setTimeout(h.ready,1);h.isReady=!0;!0!==a&&0<--h.readyWait||(u.resolveWith(r,[h]),h.fn.trigger&&
h(r).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):Cb[Qa.call(a)]||"object"},isPlainObject:function(b){if(!b||"object"!==h.type(b)||b.nodeType||h.isWindow(b))return!1;try{if(b.constructor&&!Ea.call(b,"constructor")&&!Ea.call(b.constructor.prototype,
"isPrototypeOf"))return!1}catch(d){return!1}for(var c in b);return c===a||Ea.call(b,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,d){var c;if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(d=b,b=0);b=b||r;if(c=ta.exec(a))return[b.createElement(c[1])];c=h.buildFragment([a],b,d?null:[]);return h.merge([],(c.cacheable?h.clone(c.fragment):c.fragment).childNodes)},parseJSON:function(a){if(!a||"string"!==typeof a)return null;
a=h.trim(a);if(c.JSON&&c.JSON.parse)return c.JSON.parse(a);if(bb.test(a.replace($b,"@").replace(Ab,"]").replace(cb,"")))return(new Function("return "+a))();h.error("Invalid JSON: "+a)},parseXML:function(b){var d,e;if(!b||"string"!==typeof b)return null;try{c.DOMParser?(e=new DOMParser,d=e.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(g){d=a}d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+b);
return d},noop:function(){},globalEval:function(a){a&&mb.test(a)&&(c.execScript||function(a){c.eval.call(c,a)})(a)},camelCase:function(a){return a.replace(ac,"ms-").replace(Vb,bc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(b,d,c){var e,g=0,f=b.length,k=f===a||h.isFunction(b);if(c)if(k)for(e in b){if(!1===d.apply(b[e],c))break}else for(;g<f&&!1!==d.apply(b[g++],c););else if(k)for(e in b){if(!1===d.call(b[e],e,b[e]))break}else for(;g<f&&!1!==
d.call(b[g],g,b[g++]););return b},trim:Ia&&!Ia.call("\ufeff\u00a0")?function(a){return null==a?"":Ia.call(a)}:function(a){return null==a?"":a.toString().replace(ab,"")},makeArray:function(a,b){var d,c=b||[];null!=a&&(d=h.type(a),null==a.length||"string"===d||"function"===d||"regexp"===d||h.isWindow(a)?Za.call(c,a):h.merge(c,a));return c},inArray:function(a,b,d){var c;if(b){if($a)return $a.call(b,a,d);c=b.length;for(d=d?0>d?Math.max(0,c+d):d:0;d<c;d++)if(d in b&&b[d]===a)return d}return-1},merge:function(b,
d){var c=d.length,h=b.length,e=0;if("number"===typeof c)for(;e<c;e++)b[h++]=d[e];else for(;d[e]!==a;)b[h++]=d[e++];b.length=h;return b},grep:function(a,b,d){var c,h=[],e=0,g=a.length;for(d=!!d;e<g;e++)c=!!b(a[e],e),d!==c&&h.push(a[e]);return h},map:function(b,d,c){var e,g,f=[],k=0,n=b.length;if(b instanceof h||n!==a&&"number"===typeof n&&(0<n&&b[0]&&b[n-1]||0===n||h.isArray(b)))for(;k<n;k++)e=d(b[k],k,c),null!=e&&(f[f.length]=e);else for(g in b)e=d(b[g],g,c),null!=e&&(f[f.length]=e);return f.concat.apply([],
f)},guid:1,proxy:function(b,d){var c,e;"string"===typeof d&&(c=b[d],d=b,b=c);if(!h.isFunction(b))return a;e=za.call(arguments,2);c=function(){return b.apply(d,e.concat(za.call(arguments)))};c.guid=b.guid=b.guid||c.guid||h.guid++;return c},access:function(b,d,c,e,g,f,k){var n,l=null==c,u=0,t=b.length;if(c&&"object"===typeof c){for(u in c)h.access(b,d,u,c[u],1,f,e);g=1}else if(e!==a){n=k===a&&h.isFunction(e);l&&(n?(n=d,d=function(a,b,d){return n.call(h(a),d)}):(d.call(b,e),d=null));if(d)for(;u<t;u++)d(b[u],
c,n?e.call(b[u],u,d(b[u],c)):e,k);g=1}return g?b:l?d.call(b):t?d(b[0],c):f},now:function(){return(new Date).getTime()}});h.ready.promise=function(a){if(!u)if(u=h.Deferred(),"complete"===r.readyState)setTimeout(h.ready,1);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",Bb,!1),c.addEventListener("load",h.ready,!1);else{r.attachEvent("onreadystatechange",Bb);c.attachEvent("onload",h.ready);var b=!1;try{b=null==c.frameElement&&r.documentElement}catch(d){}b&&b.doScroll&&function fc(){if(!h.isReady){try{b.doScroll("left")}catch(a){return setTimeout(fc,
50)}h.ready()}}()}return u.promise(a)};h.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){Cb["[object "+b+"]"]=b.toLowerCase()});ca=h(r);var Sb={};h.Callbacks=function(b){b="string"===typeof b?Sb[b]||f(b):h.extend({},b);var d,c,e,g,k,n,l=[],u=!b.once&&[],t=function(a){d=b.memory&&a;c=!0;n=g||0;g=0;k=l.length;for(e=!0;l&&n<k;n++)if(!1===l[n].apply(a[0],a[1])&&b.stopOnFalse){d=!1;break}e=!1;l&&(u?u.length&&t(u.shift()):d?l=[]:w.disable())},w={add:function(){if(l){var a=
l.length;(function gc(a){h.each(a,function(a,d){var c=h.type(d);"function"!==c||b.unique&&w.has(d)?d&&(d.length&&"string"!==c)&&gc(d):l.push(d)})})(arguments);e?k=l.length:d&&(g=a,t(d))}return this},remove:function(){l&&h.each(arguments,function(a,b){for(var d;-1<(d=h.inArray(b,l,d));)l.splice(d,1),e&&(d<=k&&k--,d<=n&&n--)});return this},has:function(a){return-1<h.inArray(a,l)},empty:function(){l=[];return this},disable:function(){l=u=d=a;return this},disabled:function(){return!l},lock:function(){u=
a;d||w.disable();return this},locked:function(){return!u},fireWith:function(a,b){b=b||[];b=[a,b.slice?b.slice():b];!l||c&&!u||(e?u.push(b):t(b));return this},fire:function(){w.fireWith(this,arguments);return this},fired:function(){return!!c}};return w};h.extend({Deferred:function(a){var b=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],d="pending",c={state:function(){return d},always:function(){e.done(arguments).fail(arguments);
return this},then:function(){var a=arguments;return h.Deferred(function(d){h.each(b,function(b,J){var c=J[0],xa=a[b];e[J[1]](h.isFunction(xa)?function(){var a=xa.apply(this,arguments);if(a&&h.isFunction(a.promise))a.promise().done(d.resolve).fail(d.reject).progress(d.notify);else d[c+"With"](this===e?d:this,[a])}:d[c])});a=null}).promise()},promise:function(a){return"object"===typeof a?h.extend(a,c):c}},e={};c.pipe=c.then;h.each(b,function(a,J){var h=J[2],g=J[3];c[J[1]]=h.add;g&&h.add(function(){d=
g},b[a^1][2].disable,b[2][2].lock);e[J[0]]=h.fire;e[J[0]+"With"]=h.fireWith});c.promise(e);a&&a.call(e,e);return e},when:function(a){var b=0,d=za.call(arguments),c=d.length,e=1!==c||a&&h.isFunction(a.promise)?c:0,g=1===e?a:h.Deferred(),f=function(a,b,d){return function(J){b[a]=this;d[a]=1<arguments.length?za.call(arguments):J;d===k?g.notifyWith(b,d):--e||g.resolveWith(b,d)}},k,n,l;if(1<c)for(k=Array(c),n=Array(c),l=Array(c);b<c;b++)d[b]&&h.isFunction(d[b].promise)?d[b].promise().done(f(b,l,d)).fail(g.reject).progress(f(b,
n,k)):--e;e||g.resolveWith(l,d);return g.promise()}});h.support=function(){var a,b,d,e,g,f,k,l=r.createElement("div");l.setAttribute("className","t");l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=l.getElementsByTagName("*");d=l.getElementsByTagName("a")[0];d.style.cssText="top:1px;float:left;opacity:.5";if(!b||!b.length||!d)return{};e=r.createElement("select");g=e.appendChild(r.createElement("option"));b=l.getElementsByTagName("input")[0];a={leadingWhitespace:3===
l.firstChild.nodeType,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===b.value,optSelected:g.selected,getSetAttribute:"t"!==l.className,enctype:!!r.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===r.compatMode,
submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;e.disabled=!0;a.optDisabled=!g.disabled;try{delete l.test}catch(n){a.deleteExpando=!1}!l.addEventListener&&(l.attachEvent&&l.fireEvent)&&(l.attachEvent("onclick",d=function(){a.noCloneEvent=!1}),l.cloneNode(!0).fireEvent("onclick"),l.detachEvent("onclick",
d));b=r.createElement("input");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked","checked");b.setAttribute("name","t");l.appendChild(b);d=r.createDocumentFragment();d.appendChild(l.lastChild);a.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;a.appendChecked=b.checked;d.removeChild(b);d.appendChild(l);if(l.attachEvent)for(f in{submit:!0,change:!0,focusin:!0})b="on"+f,k=b in l,k||(l.setAttribute(b,"return;"),k="function"===typeof l[b]),a[f+"Bubbles"]=
k;h(function(){var b,d,h,e=r.getElementsByTagName("body")[0];e&&(b=r.createElement("div"),b.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",e.insertBefore(b,e.firstChild),d=r.createElement("div"),b.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",h=d.getElementsByTagName("td"),h[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===h[0].offsetHeight,h[0].style.display="",h[1].style.display="none",a.reliableHiddenOffsets=
k&&0===h[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",a.boxSizing=4===d.offsetWidth,a.doesNotIncludeMarginInBodyOffset=1!==e.offsetTop,c.getComputedStyle&&(a.pixelPosition="1%"!==(c.getComputedStyle(d,null)||{}).top,a.boxSizingReliable="4px"===(c.getComputedStyle(d,null)||{width:"4px"}).width,h=r.createElement("div"),h.style.cssText=
d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",h.style.marginRight=h.style.width="0",d.style.width="1px",d.appendChild(h),a.reliableMarginRight=!parseFloat((c.getComputedStyle(h,null)||{}).marginRight)),"undefined"!==typeof d.style.zoom&&(d.innerHTML="",d.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML=
"<div></div>",d.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==d.offsetWidth,b.style.zoom=1),e.removeChild(b))});d.removeChild(l);b=d=e=g=b=d=l=null;return a}();var ba=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,pb=/([A-Z])/g;h.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(h.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?h.cache[a[h.expando]]:a[h.expando];return!!a&&!g(a)},data:function(b,
d,c,e){if(h.acceptData(b)){var g=h.expando,f="string"===typeof d,k=b.nodeType,l=k?h.cache:b,n=k?b[g]:b[g]&&g;if(n&&l[n]&&(e||l[n].data)||!f||c!==a){n||(k?b[g]=n=h.deletedIds.pop()||++h.uuid:n=g);l[n]||(l[n]={},k||(l[n].toJSON=h.noop));if("object"===typeof d||"function"===typeof d)e?l[n]=h.extend(l[n],d):l[n].data=h.extend(l[n].data,d);b=l[n];e||(b.data||(b.data={}),b=b.data);c!==a&&(b[h.camelCase(d)]=c);f?(c=b[d],null==c&&(c=b[h.camelCase(d)])):c=b;return c}}},removeData:function(a,b,d){if(h.acceptData(a)){var c,
e,f,k=a.nodeType,l=k?h.cache:a,n=k?a[h.expando]:h.expando;if(l[n]){if(b&&(c=d?l[n]:l[n].data)){h.isArray(b)||(b in c?b=[b]:(b=h.camelCase(b),b=b in c?[b]:b.split(" ")));e=0;for(f=b.length;e<f;e++)delete c[b[e]];if(!(d?g:h.isEmptyObject)(c))return}if(!d&&(delete l[n].data,!g(l[n])))return;k?h.cleanData([a],!0):h.support.deleteExpando||l!=l.window?delete l[n]:l[n]=null}}},_data:function(a,b,d){return h.data(a,b,d,!0)},acceptData:function(a){var b=a.nodeName&&h.noData[a.nodeName.toLowerCase()];return!b||
!0!==b&&a.getAttribute("classid")===b}});h.fn.extend({data:function(b,d){var c,e,g,f,k,n=this[0],u=0,t=null;if(b===a){if(this.length&&(t=h.data(n),1===n.nodeType&&!h._data(n,"parsedAttrs"))){g=n.attributes;for(k=g.length;u<k;u++)f=g[u].name,0===f.indexOf("data-")&&(f=h.camelCase(f.substring(5)),l(n,f,t[f]));h._data(n,"parsedAttrs",!0)}return t}if("object"===typeof b)return this.each(function(){h.data(this,b)});c=b.split(".",2);c[1]=c[1]?"."+c[1]:"";e=c[1]+"!";return h.access(this,function(d){if(d===
a)return t=this.triggerHandler("getData"+e,[c[0]]),t===a&&n&&(t=h.data(n,b),t=l(n,b,t)),t===a&&c[1]?this.data(c[0]):t;c[1]=d;this.each(function(){var a=h(this);a.triggerHandler("setData"+e,c);h.data(this,b,d);a.triggerHandler("changeData"+e,c)})},null,d,1<arguments.length,null,!1)},removeData:function(a){return this.each(function(){h.removeData(this,a)})}});h.extend({queue:function(a,b,d){var c;if(a)return b=(b||"fx")+"queue",c=h._data(a,b),d&&(!c||h.isArray(d)?c=h._data(a,b,h.makeArray(d)):c.push(d)),
c||[]},dequeue:function(a,b){b=b||"fx";var d=h.queue(a,b),c=d.length,e=d.shift(),g=h._queueHooks(a,b),f=function(){h.dequeue(a,b)};"inprogress"===e&&(e=d.shift(),c--);e&&("fx"===b&&d.unshift("inprogress"),delete g.stop,e.call(a,f,g));!c&&g&&g.empty.fire()},_queueHooks:function(a,b){var d=b+"queueHooks";return h._data(a,d)||h._data(a,d,{empty:h.Callbacks("once memory").add(function(){h.removeData(a,b+"queue",!0);h.removeData(a,d,!0)})})}});h.fn.extend({queue:function(b,d){var c=2;"string"!==typeof b&&
(d=b,b="fx",c--);return arguments.length<c?h.queue(this[0],b):d===a?this:this.each(function(){var a=h.queue(this,b,d);h._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&h.dequeue(this,b)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},delay:function(a,b){a=h.fx?h.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,d){var c=setTimeout(b,a);d.stop=function(){clearTimeout(c)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(b,d){var c,e=1,g=h.Deferred(),
f=this,k=this.length,l=function(){--e||g.resolveWith(f,[f])};"string"!==typeof b&&(d=b,b=a);for(b=b||"fx";k--;)(c=h._data(f[k],b+"queueHooks"))&&c.empty&&(e++,c.empty.add(l));l();return g.promise(d)}});var pa,Aa,wa,rb=/[\t\r\n]/g,db=/\r/g,Db=/^(?:button|input)$/i,nb=/^(?:button|input|object|select|textarea)$/i,Eb=/^a(?:rea|)$/i,Na=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Va=h.support.getSetAttribute;h.fn.extend({attr:function(a,
b){return h.access(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})},prop:function(a,b){return h.access(this,h.prop,a,b,1<arguments.length)},removeProp:function(b){b=h.propFix[b]||b;return this.each(function(){try{this[b]=a,delete this[b]}catch(d){}})},addClass:function(a){var b,d,c,e,g,f,k;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,this.className))});if(a&&"string"===typeof a)for(b=a.split(sa),d=0,c=
this.length;d<c;d++)if(e=this[d],1===e.nodeType)if(e.className||1!==b.length){g=" "+e.className+" ";f=0;for(k=b.length;f<k;f++)~g.indexOf(" "+b[f]+" ")||(g+=b[f]+" ");e.className=h.trim(g)}else e.className=a;return this},removeClass:function(b){var d,c,e,g,f,k,l;if(h.isFunction(b))return this.each(function(a){h(this).removeClass(b.call(this,a,this.className))});if(b&&"string"===typeof b||b===a)for(d=(b||"").split(sa),k=0,l=this.length;k<l;k++)if(e=this[k],1===e.nodeType&&e.className){c=(" "+e.className+
" ").replace(rb," ");g=0;for(f=d.length;g<f;g++)for(;-1<c.indexOf(" "+d[g]+" ");)c=c.replace(" "+d[g]+" "," ");e.className=b?h.trim(c):""}return this},toggleClass:function(a,b){var d=typeof a,c="boolean"===typeof b;return h.isFunction(a)?this.each(function(d){h(this).toggleClass(a.call(this,d,this.className,b),b)}):this.each(function(){if("string"===d)for(var e,g=0,f=h(this),k=b,l=a.split(sa);e=l[g++];)k=c?k:!f.hasClass(e),f[k?"addClass":"removeClass"](e);else if("undefined"===d||"boolean"===d)this.className&&
h._data(this,"__className__",this.className),this.className=this.className||!1===a?"":h._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(rb," ").indexOf(a))return!0;return!1},val:function(b){var d,c,e,g=this[0];if(arguments.length)return e=h.isFunction(b),this.each(function(c){var g=h(this);1===this.nodeType&&(c=e?b.call(this,c,g.val()):b,null==c?c="":"number"===typeof c?c+="":h.isArray(c)&&
(c=h.map(c,function(a){return null==a?"":a+""})),d=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,c,"value")!==a||(this.value=c))});if(g){if((d=h.valHooks[g.type]||h.valHooks[g.nodeName.toLowerCase()])&&"get"in d&&(c=d.get(g,"value"))!==a)return c;c=g.value;return"string"===typeof c?c.replace(db,""):null==c?"":c}}});h.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,d,c=
a.selectedIndex,e=[],g=a.options,f="select-one"===a.type;if(0>c)return null;a=f?c:0;for(d=f?c+1:g.length;a<d;a++)if(b=g[a],b.selected&&!((h.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&h.nodeName(b.parentNode,"optgroup"))){b=h(b).val();if(f)return b;e.push(b)}return f&&!e.length&&g.length?h(g[c]).val():e},set:function(a,b){var d=h.makeArray(b);h(a).find("option").each(function(){this.selected=0<=h.inArray(h(this).val(),d)});d.length||(a.selectedIndex=-1);
return d}}},attrFn:{},attr:function(b,d,c,e){var g,f,k=b.nodeType;if(b&&3!==k&&8!==k&&2!==k){if(e&&h.isFunction(h.fn[d]))return h(b)[d](c);if("undefined"===typeof b.getAttribute)return h.prop(b,d,c);if(e=1!==k||!h.isXMLDoc(b))d=d.toLowerCase(),f=h.attrHooks[d]||(Na.test(d)?Aa:pa);if(c!==a)if(null===c)h.removeAttr(b,d);else{if(f&&"set"in f&&e&&(g=f.set(b,c,d))!==a)return g;b.setAttribute(d,""+c);return c}else{if(f&&"get"in f&&e&&null!==(g=f.get(b,d)))return g;g=b.getAttribute(d);return null===g?a:
g}}},removeAttr:function(a,b){var d,c,e,g,f=0;if(b&&1===a.nodeType)for(c=b.split(sa);f<c.length;f++)if(e=c[f])d=h.propFix[e]||e,(g=Na.test(e))||h.attr(a,e,""),a.removeAttribute(Va?e:d),g&&d in a&&(a[d]=!1)},attrHooks:{type:{set:function(a,b){if(Db.test(a.nodeName)&&a.parentNode)h.error("type property can't be changed");else if(!h.support.radioValue&&"radio"===b&&h.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);d&&(a.value=d);return b}}},value:{get:function(a,b){return pa&&h.nodeName(a,
"button")?pa.get(a,b):b in a?a.value:null},set:function(a,b,d){if(pa&&h.nodeName(a,"button"))return pa.set(a,b,d);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,d,c){var e,g,f;f=b.nodeType;if(b&&3!==f&&8!==f&&2!==f){if(f=1!==f||!h.isXMLDoc(b))d=h.propFix[d]||
d,g=h.propHooks[d];return c!==a?g&&"set"in g&&(e=g.set(b,c,d))!==a?e:b[d]=c:g&&"get"in g&&null!==(e=g.get(b,d))?e:b[d]}},propHooks:{tabIndex:{get:function(b){var d=b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):nb.test(b.nodeName)||Eb.test(b.nodeName)&&b.href?0:a}}}});Aa={get:function(b,d){var c,e=h.prop(b,d);return!0===e||"boolean"!==typeof e&&(c=b.getAttributeNode(d))&&!1!==c.nodeValue?d.toLowerCase():a},set:function(a,b,d){!1===b?h.removeAttr(a,d):(b=h.propFix[d]||d,
b in a&&(a[b]=!0),a.setAttribute(d,d.toLowerCase()));return d}};Va||(wa={name:!0,id:!0,coords:!0},pa=h.valHooks.button={get:function(b,d){var c;return(c=b.getAttributeNode(d))&&(wa[d]?""!==c.value:c.specified)?c.value:a},set:function(a,b,d){var c=a.getAttributeNode(d);c||(c=r.createAttribute(d),a.setAttributeNode(c));return c.value=b+""}},h.each(["width","height"],function(a,b){h.attrHooks[b]=h.extend(h.attrHooks[b],{set:function(a,d){if(""===d)return a.setAttribute(b,"auto"),d}})}),h.attrHooks.contenteditable=
{get:pa.get,set:function(a,b,d){""===b&&(b="false");pa.set(a,b,d)}});h.support.hrefNormalized||h.each(["href","src","width","height"],function(b,d){h.attrHooks[d]=h.extend(h.attrHooks[d],{get:function(b){b=b.getAttribute(d,2);return null===b?a:b}})});h.support.style||(h.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||a},set:function(a,b){return a.style.cssText=""+b}});h.support.optSelected||(h.propHooks.selected=h.extend(h.propHooks.selected,{get:function(a){if(a=a.parentNode)a.selectedIndex,
a.parentNode&&a.parentNode.selectedIndex;return null}}));h.support.enctype||(h.propFix.enctype="encoding");h.support.checkOn||h.each(["radio","checkbox"],function(){h.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});h.each(["radio","checkbox"],function(){h.valHooks[this]=h.extend(h.valHooks[this],{set:function(a,b){if(h.isArray(b))return a.checked=0<=h.inArray(h(a).val(),b)}})});var eb=/^(?:textarea|input|select)$/i,Z=/^([^\.]*|)(?:\.(.+)|)$/,sb=/(?:^|\s)hover(\.\S+|)\b/,
tb=/^key/,ub=/^(?:mouse|contextmenu)|click/,fb=/^(?:focusinfocus|focusoutblur)$/,vb=function(a){return h.event.special.hover?a:a.replace(sb,"mouseenter$1 mouseleave$1")};h.event={add:function(b,d,c,e,g){var f,k,l,n,u,t,w,r,q;if(3!==b.nodeType&&8!==b.nodeType&&d&&c&&(f=h._data(b))){c.handler&&(w=c,c=w.handler,g=w.selector);c.guid||(c.guid=h.guid++);l=f.events;l||(f.events=l={});k=f.handle;k||(f.handle=k=function(b){return"undefined"===typeof h||b&&h.event.triggered===b.type?a:h.event.dispatch.apply(k.elem,
arguments)},k.elem=b);d=h.trim(vb(d)).split(" ");for(f=0;f<d.length;f++)n=Z.exec(d[f])||[],u=n[1],t=(n[2]||"").split(".").sort(),q=h.event.special[u]||{},u=(g?q.delegateType:q.bindType)||u,q=h.event.special[u]||{},n=h.extend({type:u,origType:n[1],data:e,handler:c,guid:c.guid,selector:g,namespace:t.join(".")},w),r=l[u],r||(r=l[u]=[],r.delegateCount=0,q.setup&&!1!==q.setup.call(b,e,t,k)||(b.addEventListener?b.addEventListener(u,k,!1):b.attachEvent&&b.attachEvent("on"+u,k))),q.add&&(q.add.call(b,n),
n.handler.guid||(n.handler.guid=c.guid)),g?r.splice(r.delegateCount++,0,n):r.push(n),h.event.global[u]=!0;b=null}},global:{},remove:function(a,b,d,c,e){var g,f,k,l,n,u,t,w,r,q,p=h.hasData(a)&&h._data(a);if(p&&(t=p.events)){b=h.trim(vb(b||"")).split(" ");for(g=0;g<b.length;g++)if(f=Z.exec(b[g])||[],k=l=f[1],f=f[2],k){w=h.event.special[k]||{};k=(c?w.delegateType:w.bindType)||k;r=t[k]||[];n=r.length;f=f?RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(u=0;u<r.length;u++)q=
r[u],!e&&l!==q.origType||(d&&d.guid!==q.guid||f&&!f.test(q.namespace)||c&&!(c===q.selector||"**"===c&&q.selector))||(r.splice(u--,1),q.selector&&r.delegateCount--,w.remove&&w.remove.call(a,q));0===r.length&&n!==r.length&&(w.teardown&&!1!==w.teardown.call(a,f,p.handle)||h.removeEvent(a,k,p.handle),delete t[k])}else for(k in t)h.event.remove(a,k+b[g],d,c,!0);h.isEmptyObject(t)&&(delete p.handle,h.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(b,d,e,g){if(!e||
3!==e.nodeType&&8!==e.nodeType){var f,k,l,n,u,t,w=b.type||b;l=[];if(!fb.test(w+h.event.triggered)&&(0<=w.indexOf("!")&&(w=w.slice(0,-1),f=!0),0<=w.indexOf(".")&&(l=w.split("."),w=l.shift(),l.sort()),e&&!h.event.customEvent[w]||h.event.global[w]))if(b="object"===typeof b?b[h.expando]?b:new h.Event(w,b):new h.Event(w),b.type=w,b.isTrigger=!0,b.exclusive=f,b.namespace=l.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0>w.indexOf(":")?"on"+w:"",e){if(b.result=
a,b.target||(b.target=e),d=null!=d?h.makeArray(d):[],d.unshift(b),n=h.event.special[w]||{},!n.trigger||!1!==n.trigger.apply(e,d)){t=[[e,n.bindType||w]];if(!g&&!n.noBubble&&!h.isWindow(e)){u=n.delegateType||w;f=fb.test(u+w)?e:e.parentNode;for(k=e;f;f=f.parentNode)t.push([f,u]),k=f;k===(e.ownerDocument||r)&&t.push([k.defaultView||k.parentWindow||c,u])}for(k=0;k<t.length&&!b.isPropagationStopped();k++)f=t[k][0],b.type=t[k][1],(u=(h._data(f,"events")||{})[b.type]&&h._data(f,"handle"))&&u.apply(f,d),(u=
l&&f[l])&&(h.acceptData(f)&&!1===u.apply(f,d))&&b.preventDefault();b.type=w;g||b.isDefaultPrevented()||(n._default&&!1!==n._default.apply(e.ownerDocument,d)||"click"===w&&h.nodeName(e,"a")||!h.acceptData(e)||!l||!e[w]||("focus"===w||"blur"===w)&&0===b.target.offsetWidth||h.isWindow(e))||((k=e[l])&&(e[l]=null),h.event.triggered=w,e[w](),h.event.triggered=a,k&&(e[l]=k));return b.result}}else for(k in e=h.cache,e)e[k].events&&e[k].events[w]&&h.event.trigger(b,d,e[k].handle.elem,!0)}},dispatch:function(b){b=
h.event.fix(b||c.event);var d,e,g,f,k,l,n=(h._data(this,"events")||{})[b.type]||[],u=n.delegateCount,t=[].slice.call(arguments),w=!b.exclusive&&!b.namespace,r=h.event.special[b.type]||{},q=[];t[0]=b;b.delegateTarget=this;if(!r.preDispatch||!1!==r.preDispatch.call(this,b)){if(u&&(!b.button||"click"!==b.type))for(e=b.target;e!=this;e=e.parentNode||this)if(!0!==e.disabled||"click"!==b.type){f={};k=[];for(d=0;d<u;d++)g=n[d],l=g.selector,f[l]===a&&(f[l]=0<=h(l,this).index(e)),f[l]&&k.push(g);k.length&&
q.push({elem:e,matches:k})}n.length>u&&q.push({elem:this,matches:n.slice(u)});for(d=0;d<q.length&&!b.isPropagationStopped();d++)for(f=q[d],b.currentTarget=f.elem,e=0;e<f.matches.length&&!b.isImmediatePropagationStopped();e++)if(g=f.matches[e],w||!b.namespace&&!g.namespace||b.namespace_re&&b.namespace_re.test(g.namespace))b.data=g.data,b.handleObj=g,g=((h.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,t),g!==a&&(b.result=g,!1===g&&(b.preventDefault(),b.stopPropagation()));r.postDispatch&&
r.postDispatch.call(this,b);return b.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(b,d){var c,e,h=d.button,g=d.fromElement;null==b.pageX&&null!=d.clientX&&(c=b.target.ownerDocument||r,e=c.documentElement,c=c.body,b.pageX=d.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),b.pageY=d.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0));!b.relatedTarget&&g&&(b.relatedTarget=g===b.target?d.toElement:g);b.which||h===a||(b.which=h&1?1:h&2?3:h&4?2:0);return b}},fix:function(a){if(a[h.expando])return a;var b,
d,c=a,e=h.event.fixHooks[a.type]||{},g=e.props?this.props.concat(e.props):this.props;a=h.Event(c);for(b=g.length;b;)d=g[--b],a[d]=c[d];a.target||(a.target=c.srcElement||r);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return e.filter?e.filter(a,c):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,d){h.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=
null)}}},simulate:function(a,b,d,c){a=h.extend(new h.Event,d,{type:a,isSimulated:!0,originalEvent:{}});c?h.event.trigger(a,null,b):h.event.dispatch.call(b,a);a.isDefaultPrevented()&&d.preventDefault()}};h.event.handle=h.event.dispatch;h.removeEvent=r.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,!1)}:function(a,b,d){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,d))};h.Event=function(a,b){if(!(this instanceof h.Event))return new h.Event(a,
b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?k:e):this.type=a;b&&h.extend(this,b);this.timeStamp=a&&a.timeStamp||h.now();this[h.expando]=!0};h.Event.prototype={preventDefault:function(){this.isDefaultPrevented=k;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=k;var a=this.originalEvent;a&&(a.stopPropagation&&
a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()},isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var d,c=a.relatedTarget,e=a.handleObj;if(!c||c!==this&&!h.contains(this,c))a.type=e.origType,d=e.handler.apply(this,arguments),a.type=b;return d}}});h.support.submitBubbles||
(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=h.nodeName(b,"input")||h.nodeName(b,"button")?b.form:a)&&!h._data(b,"_submit_attached")&&(h.event.add(b,"submit._submit",function(a){a._submit_bubble=!0}),h._data(b,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&h.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(h.nodeName(this,
"form"))return!1;h.event.remove(this,"._submit")}});h.support.changeBubbles||(h.event.special.change={setup:function(){if(eb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)h.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);h.event.simulate("change",this,a,!0)});return!1}h.event.add(this,"beforeactivate._change",
function(a){a=a.target;eb.test(a.nodeName)&&!h._data(a,"_change_attached")&&(h.event.add(a,"change._change",function(a){!this.parentNode||(a.isSimulated||a.isTrigger)||h.event.simulate("change",this.parentNode,a,!0)}),h._data(a,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){h.event.remove(this,"._change");return!eb.test(this.nodeName)}});
h.support.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,c=function(a){h.event.simulate(b,a.target,h.event.fix(a),!0)};h.event.special[b]={setup:function(){0===d++&&r.addEventListener(a,c,!0)},teardown:function(){0===--d&&r.removeEventListener(a,c,!0)}}});h.fn.extend({on:function(b,d,c,g,f){var k,l;if("object"===typeof b){"string"!==typeof d&&(c=c||d,d=a);for(l in b)this.on(l,d,c,b[l],f);return this}null==c&&null==g?(g=d,c=d=a):null==g&&("string"===typeof d?(g=c,c=
a):(g=c,c=d,d=a));if(!1===g)g=e;else if(!g)return this;1===f&&(k=g,g=function(a){h().off(a);return k.apply(this,arguments)},g.guid=k.guid||(k.guid=h.guid++));return this.each(function(){h.event.add(this,b,g,c,d)})},one:function(a,b,d,c){return this.on(a,b,d,c,1)},off:function(b,d,c){var g;if(b&&b.preventDefault&&b.handleObj)return g=b.handleObj,h(b.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"===typeof b){for(g in b)this.off(g,d,b[g]);
return this}if(!1===d||"function"===typeof d)c=d,d=a;!1===c&&(c=e);return this.each(function(){h.event.remove(this,b,c,d)})},bind:function(a,b,d){return this.on(a,null,b,d)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,d){h(this.context).on(a,this.selector,b,d);return this},die:function(a,b){h(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,d,c){return this.on(b,a,d,c)},undelegate:function(a,b,d){return 1==arguments.length?this.off(a,"**"):this.off(b,
a||"**",d)},trigger:function(a,b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return h.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,d=a.guid||h.guid++,c=0,e=function(d){var e=(h._data(this,"lastToggle"+a.guid)||0)%c;h._data(this,"lastToggle"+a.guid,e+1);d.preventDefault();return b[e].apply(this,arguments)||!1};for(e.guid=d;c<b.length;)b[c++].guid=d;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||
a)}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){h.fn[b]=function(a,d){null==d&&(d=a,a=null);return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)};tb.test(b)&&(h.event.fixHooks[b]=h.event.keyHooks);ub.test(b)&&(h.event.fixHooks[b]=h.event.mouseHooks)});(function(a,b){function d(a,b,c,e){c=c||[];b=b||
U;var h,g,f,k,l=b.nodeType;if(1!==l&&9!==l)return[];if(!a||"string"!==typeof a)return c;f=H(b);if(!f&&!e&&(h=E.exec(a)))if(k=h[1])if(9===l)if((g=b.getElementById(k))&&g.parentNode){if(g.id===k)return c.push(g),c}else return c;else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(k))&&y(b,g)&&g.id===k)return c.push(g),c}else{if(h[2])return B.apply(c,F.call(b.getElementsByTagName(a),0)),c;if((k=h[3])&&T&&b.getElementsByClassName)return B.apply(c,F.call(b.getElementsByClassName(k),0)),c}return r(a,
b,c,e,f)}function c(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function e(a){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}}function g(a,b,d){if(a===b)return d;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}function f(a,b,c,e){var h,g,k,l,n,u,t,J,w,r=!c&&b!==U,q=(r?"<s>":"")+a.replace(Qb,"$1<s>");if(n=fa[C][q])return e?0:F.call(n,0);n=a;u=[];J=x.preFilter;for(w=x.filter;n;){if(!h||(g=Ja.exec(n)))g&&
(n=n.slice(g[0].length),k.selector=t),u.push(k=[]),t="",r&&(n=" "+n);h=!1;if(g=ca.exec(n))t+=g[0],n=n.slice(g[0].length),h=k.push({part:g.pop().replace(Qb," "),string:g[0],captures:g});for(l in w)!(g=ia[l].exec(n))||J[l]&&!(g=J[l](g,b,c))||(t+=g[0],n=n.slice(g[0].length),h=k.push({part:l,string:g.shift(),captures:g}));if(!h)break}t&&(k.selector=t);return e?n.length:n?d.error(a):F.call(fa(q,u),0)}function k(a,b,d,c){var e=b.dir,h=z++;a||(a=function(a){return a===d});return b.first?function(b){for(;b=
b[e];)if(1===b.nodeType)return a(b)&&b}:c?function(b){for(;b=b[e];)if(1===b.nodeType&&a(b))return b}:function(b){for(var d,c=h+"."+q,g=c+"."+p;b=b[e];)if(1===b.nodeType){if((d=b[C])===g)return b.sizset;if("string"===typeof d&&0===d.indexOf(c)){if(b.sizset)return b}else{b[C]=g;if(a(b))return b.sizset=!0,b;b.sizset=!1}}}}function l(a,b){return a?function(d){var c=b(d);return c&&a(!0===c?d:c)}:b}function n(a){return function(b){for(var d,c=0;d=a[c];c++)if(d(b))return!0;return!1}}function u(a,b,c,e){for(var h=
0,g=b.length;h<g;h++)d(a,b[h],c,e)}function t(a,b,c,e,h,g){var f,k=x.setFilters[b.toLowerCase()];k||d.error(b);!a&&(f=h)||u(a||"*",e,f=[],h);return 0<f.length?k(f,c,g):[]}function w(a,c,e,h){for(var g,f,k,l,n,J,r,q,p,x,ua,A=0,H=a.length,y=ia.POS,L=RegExp("^"+y.source+"(?!"+I+")","i"),C=function(){for(var a=1,d=arguments.length-2;a<d;a++)arguments[a]===b&&(q[a]=b)};A<H;A++){g=a[A];f="";r=h;k=0;for(l=g.length;k<l;k++){n=g[k];J=n.string;if("PSEUDO"===n.part)for(y.exec(""),n=0;q=y.exec(J);){p=!0;x=y.lastIndex=
q.index+q[0].length;if(x>n){f+=J.slice(n,q.index);n=x;x=[c];ca.test(f)&&(r&&(x=r),r=h);if(ua=Rb.test(f))f=f.slice(0,-5).replace(ca,"$&*"),n++;1<q.length&&q[0].replace(L,C);r=t(f,q[1],q[2],x,r,ua)}f=""}p||(f+=J);p=!1}f?ca.test(f)?u(f,r||[c],e,h):d(f,c,e,h?h.concat(r):r):B.apply(e,r)}return 1===H?e:d.uniqueSort(e)}function r(a,b,d,c,e){a=a.replace(Qb,"$1");var h,g,k,l,n,u;g=f(a,b,e);n=b.nodeType;if(ia.POS.test(a))return w(g,b,d,c);if(c)h=F.call(c,0);else if(1===g.length){if(2<(k=F.call(g[0],0)).length&&
"ID"===(l=k[0]).part&&9===n&&!e&&x.relative[k[1].part]){b=x.find.ID(l.captures[0].replace(Ha,""),b,e)[0];if(!b)return d;a=a.slice(k.shift().string.length)}c=(g=s.exec(k[0].string))&&!g.index&&b.parentNode||b;n="";for(g=k.length-1;0<=g;g--){l=k[g];u=l.part;n=l.string+n;if(x.relative[u])break;if(x.order.test(u)&&(h=x.find[u](l.captures[0].replace(Ha,""),c,e),null!=h)){(a=a.slice(0,a.length-n.length)+n.replace(ia[u],""))||B.apply(d,F.call(h,0));break}}}if(a)for(e=L(a,b,e),q=e.dirruns++,null==h&&(h=x.find.TAG("*",
s.test(a)&&b.parentNode||b)),g=0;a=h[g];g++)p=e.runs++,e(a)&&d.push(a);return d}var q,p,ua,x,A,H,y,L,m,O,D=!0,C=("sizcache"+Math.random()).replace(".",""),U=a.document,ma=U.documentElement,z=0,F=[].slice,B=[].push,aa=function(a,b){a[C]=b||!0;return a},P=function(){var a={},b=[];return aa(function(d,c){b.push(d)>x.cacheLength&&delete a[b.shift()];return a[d]=c},a)},X=P(),fa=P(),cc=P(),I="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#"),P="\\["+I+"*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)"+
I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+P+")|)|)"+I+"*\\]",lb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",Qb=RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),Ja=RegExp("^"+I+"*,"+I+"*"),ca=RegExp("^"+I+"*([\\x20\\t\\r\\n\\f>+~])"+I+"*"),cb=RegExp(lb),E=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,s=/[\x20\t\r\n\f]*[+~]/,Rb=/:not\($/,Nb=/h\d/i,dc=/input|select|textarea|button/i,Ha=/\\(?!\\)/g,ia=
{ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+lb),CHILD:RegExp("^:(only|nth|last|first)-child(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),POS:RegExp(":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)","ig"),needsContext:RegExp("^"+I+"*[>+~]|:(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",
"i")},N=function(a){var b=U.createElement("div");try{return a(b)}catch(d){return!1}finally{}},P=N(function(a){a.appendChild(U.createComment(""));return!a.getElementsByTagName("*").length}),lb=N(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),Za=N(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),T=N(function(a){a.innerHTML=
"<div class='hidden e'></div><div class='hidden'></div>";if(!a.getElementsByClassName||!a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 2===a.getElementsByClassName("e").length}),v=N(function(a){a.id=C+0;a.innerHTML="<a name='"+C+"'></a><div name='"+C+"'></div>";ma.insertBefore(a,ma.firstChild);var b=U.getElementsByName&&U.getElementsByName(C).length===2+U.getElementsByName(C+0).length;ua=!U.getElementById(C);ma.removeChild(a);return b});try{F.call(ma.childNodes,0)[0].nodeType}catch(na){F=
function(a){for(var b,d=[];b=this[a];a++)d.push(b);return d}}d.matches=function(a,b){return d(a,null,null,b)};d.matchesSelector=function(a,b){return 0<d(b,null,null,[a]).length};A=d.getText=function(a){var b,d="",c=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=A(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[c];c++)d+=A(b);return d};H=d.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?
"HTML"!==a.nodeName:!1};y=d.contains=ma.contains?function(a,b){var d=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!!(c&&1===c.nodeType&&d.contains&&d.contains(c))}:ma.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};d.attr=function(a,b){var d;(d=H(a))||(b=b.toLowerCase());return x.attrHandle[b]?x.attrHandle[b](a):Za||d?a.getAttribute(b):(d=a.getAttributeNode(b))?"boolean"===typeof a[b]?
a[b]?b:null:d.specified?d.value:null:null};x=d.selectors={cacheLength:50,createPseudo:aa,match:ia,order:RegExp("ID|TAG"+(v?"|NAME":"")+(T?"|CLASS":"")),attrHandle:lb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:ua?function(a,b,d){if("undefined"!==typeof b.getElementById&&!d)return(a=b.getElementById(a))&&a.parentNode?[a]:[]}:function(a,d,c){if("undefined"!==typeof d.getElementById&&!c)return(d=d.getElementById(a))?d.id===a||"undefined"!==
typeof d.getAttributeNode&&d.getAttributeNode("id").value===a?[d]:b:[]},TAG:P?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var d=b.getElementsByTagName(a);if("*"===a){for(var c,e=[],h=0;c=d[h];h++)1===c.nodeType&&e.push(c);return e}return d},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},CLASS:function(a,b,d){if("undefined"!==typeof b.getElementsByClassName&&!d)return b.getElementsByClassName(a)}},
relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Ha,"");a[3]=(a[4]||a[5]||"").replace(Ha,"");"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1]?(a[2]||d.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&d.error(a[0]);return a},PSEUDO:function(a,b,d){var c,
e;if(ia.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(c=a[4])cb.test(c)&&((e=f(c,b,d,!0))&&(e=c.indexOf(")",c.length-e)-c.length))&&(c=c.slice(0,e),a[0]=a[0].slice(0,e)),a[2]=c;return a.slice(0,3)}},filter:{ID:ua?function(a){a=a.replace(Ha,"");return function(b){return b.getAttribute("id")===a}}:function(a){a=a.replace(Ha,"");return function(b){return(b="undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){if("*"===a)return function(){return!0};
a=a.replace(Ha,"").toLowerCase();return function(b){return b.nodeName&&b.nodeName.toLowerCase()===a}},CLASS:function(a){var b=X[C][a];b||(b=X(a,RegExp("(^|"+I+")"+a+"("+I+"|$)")));return function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return b?function(e){e=d.attr(e,a);var h=e+"";if(null==e)return"!="===b;switch(b){case "=":return h===c;case "!=":return h!==c;case "^=":return c&&0===h.indexOf(c);case "*=":return c&&-1<
h.indexOf(c);case "$=":return c&&h.substr(h.length-c.length)===c;case "~=":return-1<(" "+h+" ").indexOf(c);case "|=":return h===c||h.substr(0,c.length+1)===c+"-"}}:function(b){return null!=d.attr(b,a)}},CHILD:function(a,b,d,c){if("nth"===a){var e=z++;return function(a){var b,h=0,g=a;if(1===d&&0===c)return!0;if((b=a.parentNode)&&(b[C]!==e||!a.sizset)){for(g=b.firstChild;g&&(1!==g.nodeType||(g.sizset=++h,g!==a));g=g.nextSibling);b[C]=e}a=a.sizset-c;return 0===d?0===a:0===a%d&&0<=a/d}}return function(b){var d=
b;switch(a){case "only":case "first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===a)return!0;d=b;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0}}},PSEUDO:function(a,b,c,e){var h,g=x.pseudos[a]||x.pseudos[a.toLowerCase()];g||d.error("unsupported pseudo: "+a);return g[C]?g(b,c,e):1<g.length?(h=[a,a,"",b],function(a){return g(a,0,h)}):g}},pseudos:{not:aa(function(a,b,d){var c=L(a.replace(Qb,"$1"),b,d);return function(a){return!c(a)}}),enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!x.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},contains:aa(function(a){return function(b){return-1<(b.textContent||b.innerText||
A(b)).indexOf(a)}}),has:aa(function(a){return function(b){return 0<d(a,b).length}}),header:function(a){return Nb.test(a.nodeName)},text:function(a){var b,d;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(d=a.getAttribute("type"))||d.toLowerCase()===b)},radio:c("radio"),checkbox:c("checkbox"),file:c("file"),password:c("password"),image:c("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===
b},input:function(a){return dc.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b,d){return d?a.slice(1):[a[0]]},last:function(a,b,d){b=a.pop();return d?a:[b]},even:function(a,b,d){b=[];d=d?1:0;for(var c=a.length;d<c;d+=2)b.push(a[d]);return b},odd:function(a,b,d){b=[];d=d?0:1;for(var c=a.length;d<c;d+=2)b.push(a[d]);return b},
lt:function(a,b,d){return d?a.slice(+b):a.slice(0,+b)},gt:function(a,b,d){return d?a.slice(0,+b+1):a.slice(+b+1)},eq:function(a,b,d){b=a.splice(+b,1);return d?a:b}}};m=ma.compareDocumentPosition?function(a,b){return a===b?(O=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?a.compareDocumentPosition(b)&4:a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return O=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var d,c,e=[],h=[];d=a.parentNode;c=b.parentNode;
var f=d;if(d===c)return g(a,b);if(!d)return-1;if(!c)return 1;for(;f;)e.unshift(f),f=f.parentNode;for(f=c;f;)h.unshift(f),f=f.parentNode;d=e.length;c=h.length;for(f=0;f<d&&f<c;f++)if(e[f]!==h[f])return g(e[f],h[f]);return f===d?g(a,h[f],-1):g(e[f],b,1)};[0,0].sort(m);D=!O;d.uniqueSort=function(a){var b,d=1;O=D;a.sort(m);if(O)for(;b=a[d];d++)b===a[d-1]&&a.splice(d--,1);return a};d.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};L=d.compile=function(a,b,d){var c,e,h;if((c=
cc[C][a])&&c.context===b)return c;c=f(a,b,d);e=0;for(h=c.length;e<h;e++){for(var g=c,u=e,t=c[e],J=b,w=d,r=void 0,q=void 0,p=0;r=t[p];p++)q=x.relative[r.part]?k(q,x.relative[r.part],J,w):l(q,x.filter[r.part].apply(null,r.captures.concat(J,w)));g[u]=q}c=cc(a,n(c));c.context=b;c.runs=c.dirruns=0;return c};U.querySelectorAll&&function(){var a,b=r,c=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,h=[],g=[":active"],k=ma.matchesSelector||ma.mozMatchesSelector||ma.webkitMatchesSelector||ma.oMatchesSelector||
ma.msMatchesSelector;N(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||h.push("\\["+I+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||h.push(":checked")});N(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&h.push("[*^$]="+I+"*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||h.push(":enabled",":disabled")});
h=h.length&&RegExp(h.join("|"));r=function(a,d,e,g,k){if(!(g||k||h&&h.test(a)))if(9===d.nodeType)try{return B.apply(e,F.call(d.querySelectorAll(a),0)),e}catch(l){}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var n,u,t,J=d.getAttribute("id"),w=J||C,r=s.test(a)&&d.parentNode||d;J?w=w.replace(c,"\\$&"):d.setAttribute("id",w);n=f(a,d,k);w="[id='"+w+"']";u=0;for(t=n.length;u<t;u++)n[u]=w+n[u].selector;try{return B.apply(e,F.call(r.querySelectorAll(n.join(",")),0)),e}catch(q){}finally{J||
d.removeAttribute("id")}}return b(a,d,e,g,k)};k&&(N(function(b){a=k.call(b,"div");try{k.call(b,"[test!='']:sizzle"),g.push(ia.PSEUDO.source,ia.POS.source,"!=")}catch(d){}}),g=RegExp(g.join("|")),d.matchesSelector=function(b,c){c=c.replace(e,"='$1']");if(!(H(b)||g.test(c)||h&&h.test(c)))try{var f=k.call(b,c);if(f||a||b.document&&11!==b.document.nodeType)return f}catch(l){}return 0<d(c,null,null,[b]).length})}();x.setFilters.nth=x.setFilters.eq;x.filters=x.pseudos;d.attr=h.attr;h.find=d;h.expr=d.selectors;
h.expr[":"]=h.expr.pseudos;h.unique=d.uniqueSort;h.text=d.getText;h.isXMLDoc=d.isXML;h.contains=d.contains})(c);var Fb=/Until$/,ga=/^(?:parents|prev(?:Until|All))/,kb=/^.[^:#\[\.,]*$/,ob=h.expr.match.needsContext,Gb={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({find:function(a){var b,d,c,e,g,f,k=this;if("string"!==typeof a)return h(a).filter(function(){b=0;for(d=k.length;b<d;b++)if(h.contains(k[b],this))return!0});f=this.pushStack("","find",a);b=0;for(d=this.length;b<d;b++)if(c=f.length,
h.find(a,this[b],f),0<b)for(e=c;e<f.length;e++)for(g=0;g<c;g++)if(f[g]===f[e]){f.splice(e--,1);break}return f},has:function(a){var b,d=h(a,this),c=d.length;return this.filter(function(){for(b=0;b<c;b++)if(h.contains(this,d[b]))return!0})},not:function(a){return this.pushStack(A(this,a,!1),"not",a)},filter:function(a){return this.pushStack(A(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"===typeof a?ob.test(a)?0<=h(a,this.context).index(this[0]):0<h.filter(a,this).length:0<this.filter(a).length)},
closest:function(a,b){for(var d,c=0,e=this.length,g=[],f=ob.test(a)||"string"!==typeof a?h(a,b||this.context):0;c<e;c++)for(d=this[c];d&&d.ownerDocument&&d!==b&&11!==d.nodeType;){if(f?-1<f.index(d):h.find.matchesSelector(d,a)){g.push(d);break}d=d.parentNode}g=1<g.length?h.unique(g):g;return this.pushStack(g,"closest",a)},index:function(a){return a?"string"===typeof a?h.inArray(this[0],h(a)):h.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var d=
"string"===typeof a?h(a,b):h.makeArray(a&&a.nodeType?[a]:a),c=h.merge(this.get(),d);return this.pushStack(q(d[0])||q(c[0])?c:h.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});h.fn.andSelf=h.fn.addBack;h.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return h.dir(a,"parentNode")},parentsUntil:function(a,b,d){return h.dir(a,"parentNode",d)},next:function(a){return n(a,"nextSibling")},prev:function(a){return n(a,
"previousSibling")},nextAll:function(a){return h.dir(a,"nextSibling")},prevAll:function(a){return h.dir(a,"previousSibling")},nextUntil:function(a,b,d){return h.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return h.dir(a,"previousSibling",d)},siblings:function(a){return h.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return h.sibling(a.firstChild)},contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:h.merge([],a.childNodes)}},function(a,
b){h.fn[a]=function(d,c){var e=h.map(this,b,d);Fb.test(a)||(c=d);c&&"string"===typeof c&&(e=h.filter(c,e));e=1<this.length&&!Gb[a]?h.unique(e):e;1<this.length&&ga.test(a)&&(e=e.reverse());return this.pushStack(e,a,za.call(arguments).join(","))}});h.extend({filter:function(a,b,d){d&&(a=":not("+a+")");return 1===b.length?h.find.matchesSelector(b[0],a)?[b[0]]:[]:h.find.matches(a,b)},dir:function(b,d,c){var e=[];for(b=b[d];b&&9!==b.nodeType&&(c===a||1!==b.nodeType||!h(b).is(c));)1===b.nodeType&&e.push(b),
b=b[d];return e},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d}});var ya="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Kb=/ jQuery\d+="(?:null|\d+)"/g,Wa=/^\s+/,gb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fa=/<([\w:]+)/,Lb=/<tbody/i,qa=/<|&#?\w+;/,wb=/<(?:script|style|link)/i,Mb=/<(?:script|object|embed|option|style)/i,
da=RegExp("<(?:"+ya+")[\\s/>]","i"),Ya=/^(?:checkbox|radio)$/,hb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ra=/\/(java|ecma)script/i,Ga=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,ka={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",
""]},ea=m(r),Sa=ea.appendChild(r.createElement("div"));ka.optgroup=ka.option;ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead;ka.th=ka.td;h.support.htmlSerialize||(ka._default=[1,"X<div>","</div>"]);h.fn.extend({text:function(b){return h.access(this,function(b){return b===a?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(b))},null,b,arguments.length)},wrapAll:function(a){if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,b))});if(this[0]){var b=
h(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,b))}):this.each(function(){var b=h(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(d){h(this).wrapAll(b?a.call(this,d):
a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!q(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,
this)});if(arguments.length){var a=h.clean(arguments);return this.pushStack(h.merge(a,this),"before",this.selector)}},after:function(){if(!q(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=h.clean(arguments);return this.pushStack(h.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var d,c=0;null!=(d=this[c]);c++)if(!a||h.filter(a,[d]).length)b||1!==d.nodeType||(h.cleanData(d.getElementsByTagName("*")),
h.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&h.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return h.clone(this,a,b)})},html:function(b){return h.access(this,function(b){var d=this[0]||{},c=0,e=this.length;if(b===a)return 1===d.nodeType?d.innerHTML.replace(Kb,""):a;if("string"===
typeof b&&!(wb.test(b)||!h.support.htmlSerialize&&da.test(b)||!h.support.leadingWhitespace&&Wa.test(b)||ka[(Fa.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(gb,"<$1></$2>");try{for(;c<e;c++)d=this[c]||{},1===d.nodeType&&(h.cleanData(d.getElementsByTagName("*")),d.innerHTML=b);d=0}catch(g){}}d&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(a){if(!q(this[0])){if(h.isFunction(a))return this.each(function(b){var d=h(this),c=d.html();d.replaceWith(a.call(this,b,c))});"string"!==
typeof a&&(a=h(a).detach());return this.each(function(){var b=this.nextSibling,d=this.parentNode;h(this).remove();b?h(b).before(a):h(d).append(a)})}return this.length?this.pushStack(h(h.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(b,d,c){b=[].concat.apply([],b);var e,g,f,k=0,l=b[0],n=[],u=this.length;if(!h.support.checkClone&&1<u&&"string"===typeof l&&hb.test(l))return this.each(function(){h(this).domManip(b,d,c)});if(h.isFunction(l))return this.each(function(e){var g=
h(this);b[0]=l.call(this,e,d?g.html():a);g.domManip(b,d,c)});if(this[0]){e=h.buildFragment(b,this,n);f=e.fragment;g=f.firstChild;1===f.childNodes.length&&(f=g);if(g)for(d=d&&h.nodeName(g,"tr"),e=e.cacheable||u-1;k<u;k++)c.call(d&&h.nodeName(this[k],"table")?this[k].getElementsByTagName("tbody")[0]||this[k].appendChild(this[k].ownerDocument.createElement("tbody")):this[k],k===e?f:h.clone(f,!0,!0));f=g=null;n.length&&h.each(n,function(a,b){b.src?h.ajax?h.ajax({url:b.src,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0}):h.error("no ajax"):h.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Ga,""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});h.buildFragment=function(b,d,c){var e,g,f,k=b[0];d=d||r;d=!d.nodeType&&d[0]||d;d=d.ownerDocument||d;1===b.length&&("string"===typeof k&&512>k.length&&d===r&&"<"===k.charAt(0)&&!(Mb.test(k)||!h.support.checkClone&&hb.test(k)||!h.support.html5Clone&&da.test(k)))&&(g=!0,e=h.fragments[k],f=e!==a);e||(e=d.createDocumentFragment(),
h.clean(b,d,e,c),g&&(h.fragments[k]=f&&e));return{fragment:e,cacheable:g}};h.fragments={};h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){h.fn[a]=function(d){var c,e=0,g=[];d=h(d);var f=d.length;c=1===this.length&&this[0].parentNode;if((null==c||c&&11===c.nodeType&&1===c.childNodes.length)&&1===f)return d[b](this[0]),this;for(;e<f;e++)c=(0<e?this.clone(!0):this).get(),h(d[e])[b](c),g=g.concat(c);return this.pushStack(g,
a,d.selector)}});h.extend({clone:function(a,c,e){var g,f,k,l;h.support.html5Clone||h.isXMLDoc(a)||!da.test("<"+a.nodeName+">")?l=a.cloneNode(!0):(Sa.innerHTML=a.outerHTML,Sa.removeChild(l=Sa.firstChild));if(!(h.support.noCloneEvent&&h.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||h.isXMLDoc(a)))for(d(a,l),g=t(a),f=t(l),k=0;g[k];++k)f[k]&&d(g[k],f[k]);if(c&&(b(a,l),e))for(g=t(a),f=t(l),k=0;g[k];++k)b(g[k],f[k]);return l},clean:function(a,b,d,c){var e,g,f,k,l,n,u=b===r&&ea,t=[];b&&"undefined"!==
typeof b.createDocumentFragment||(b=r);for(e=0;null!=(f=a[e]);e++)if("number"===typeof f&&(f+=""),f){if("string"===typeof f)if(qa.test(f)){u=u||m(b);n=b.createElement("div");u.appendChild(n);f=f.replace(gb,"<$1></$2>");g=(Fa.exec(f)||["",""])[1].toLowerCase();k=ka[g]||ka._default;l=k[0];for(n.innerHTML=k[1]+f+k[2];l--;)n=n.lastChild;if(!h.support.tbody)for(l=Lb.test(f),k="table"!==g||l?"<table>"!==k[1]||l?[]:n.childNodes:n.firstChild&&n.firstChild.childNodes,g=k.length-1;0<=g;--g)h.nodeName(k[g],
"tbody")&&!k[g].childNodes.length&&k[g].parentNode.removeChild(k[g]);!h.support.leadingWhitespace&&Wa.test(f)&&n.insertBefore(b.createTextNode(Wa.exec(f)[0]),n.firstChild);f=n.childNodes;n.parentNode.removeChild(n)}else f=b.createTextNode(f);f.nodeType?t.push(f):h.merge(t,f)}n&&(f=n=u=null);if(!h.support.appendChecked)for(e=0;null!=(f=t[e]);e++)h.nodeName(f,"input")?x(f):"undefined"!==typeof f.getElementsByTagName&&h.grep(f.getElementsByTagName("input"),x);if(d)for(a=function(a){if(!a.type||Ra.test(a.type))return c?
c.push(a.parentNode?a.parentNode.removeChild(a):a):d.appendChild(a)},e=0;null!=(f=t[e]);e++)h.nodeName(f,"script")&&a(f)||(d.appendChild(f),"undefined"!==typeof f.getElementsByTagName&&(f=h.grep(h.merge([],f.getElementsByTagName("script")),a),t.splice.apply(t,[e+1,0].concat(f)),e+=f.length));return t},cleanData:function(a,b){for(var d,c,e,g,f=0,k=h.expando,l=h.cache,n=h.support.deleteExpando,u=h.event.special;null!=(e=a[f]);f++)if(b||h.acceptData(e))if(d=(c=e[k])&&l[c]){if(d.events)for(g in d.events)u[g]?
h.event.remove(e,g):h.removeEvent(e,g,d.handle);l[c]&&(delete l[c],n?delete e[k]:e.removeAttribute?e.removeAttribute(k):e[k]=null,h.deletedIds.push(c))}}});(function(){var a,b;h.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=h.uaMatch(H.userAgent);b={};
a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);h.browser=b;h.sub=function(){function a(b,d){return new a.fn.init(b,d)}h.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(d,c){c&&(c instanceof h&&!(c instanceof a))&&(c=a(c));return h.fn.init.call(this,d,c,b)};a.fn.init.prototype=a.fn;var b=a(r);return a}})();var R,La,M,Ba=/alpha\([^)]*\)/i,Hb=/opacity=([^)]*)/,ib=/^(top|right|bottom|left)$/,
Wb=/^(none|table(?!-c[ea]).+)/,Ta=/^margin/,va=RegExp("^("+Y+")(.*)$","i"),Ua=RegExp("^("+Y+")(?!px)[a-z%]+$","i"),Ib=RegExp("^([-+])=("+Y+")","i"),Pa={},Q={position:"absolute",visibility:"hidden",display:"block"},Ca={letterSpacing:0,fontWeight:400},Da=["Top","Right","Bottom","Left"],la=["Webkit","O","Moz","ms"],W=h.fn.toggle;h.fn.extend({css:function(b,d){return h.access(this,function(b,d,c){return c!==a?h.style(b,d,c):h.css(b,d)},b,d,1<arguments.length)},show:function(){return y(this,!0)},hide:function(){return y(this)},
toggle:function(a,b){var d="boolean"===typeof a;return h.isFunction(a)&&h.isFunction(b)?W.apply(this,arguments):this.each(function(){(d?a:D(this))?h(this).show():h(this).hide()})}});h.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=R(a,"opacity");return""===d?"1":d}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":h.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,d,c,e){if(b&&3!==b.nodeType&&8!==b.nodeType&&
b.style){var g,f,k,l=h.camelCase(d),n=b.style;d=h.cssProps[l]||(h.cssProps[l]=B(n,l));k=h.cssHooks[d]||h.cssHooks[l];if(c!==a){if(f=typeof c,"string"===f&&(g=Ib.exec(c))&&(c=(g[1]+1)*g[2]+parseFloat(h.css(b,d)),f="number"),!(null==c||"number"===f&&isNaN(c)||("number"!==f||h.cssNumber[l]||(c+="px"),k&&"set"in k&&(c=k.set(b,c,e))===a)))try{n[d]=c}catch(u){}}else return k&&"get"in k&&(g=k.get(b,!1,e))!==a?g:n[d]}},css:function(b,d,c,e){var g,f;f=h.camelCase(d);d=h.cssProps[f]||(h.cssProps[f]=B(b.style,
f));(f=h.cssHooks[d]||h.cssHooks[f])&&"get"in f&&(g=f.get(b,!0,e));g===a&&(g=R(b,d));"normal"===g&&d in Ca&&(g=Ca[d]);return c||e!==a?(b=parseFloat(g),c||h.isNumeric(b)?b||0:g):g},swap:function(a,b,d){var c,e={};for(c in b)e[c]=a.style[c],a.style[c]=b[c];d=d.call(a);for(c in b)a.style[c]=e[c];return d}});c.getComputedStyle?R=function(a,b){var d,e,g,f,k=c.getComputedStyle(a,null),l=a.style;k&&(d=k[b],""!==d||h.contains(a.ownerDocument,a)||(d=h.style(a,b)),Ua.test(d)&&Ta.test(b)&&(e=l.width,g=l.minWidth,
f=l.maxWidth,l.minWidth=l.maxWidth=l.width=d,d=k.width,l.width=e,l.minWidth=g,l.maxWidth=f));return d}:r.documentElement.currentStyle&&(R=function(a,b){var d,c,e=a.currentStyle&&a.currentStyle[b],g=a.style;null==e&&(g&&g[b])&&(e=g[b]);if(Ua.test(e)&&!ib.test(b)){d=g.left;if(c=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left="fontSize"===b?"1em":e;e=g.pixelLeft+"px";g.left=d;c&&(a.runtimeStyle.left=c)}return""===e?"auto":e});h.each(["height","width"],function(a,b){h.cssHooks[b]=
{get:function(a,d,c){if(d)return 0===a.offsetWidth&&Wb.test(R(a,"display"))?h.swap(a,Q,function(){return X(a,b,c)}):X(a,b,c)},set:function(a,d,c){return F(a,d,c?C(a,b,c,h.support.boxSizing&&"border-box"===h.css(a,"boxSizing")):0)}}});h.support.opacity||(h.cssHooks.opacity={get:function(a,b){return Hb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var d=a.style,c=a.currentStyle,e=h.isNumeric(b)?"alpha(opacity="+100*b+")":
"",g=c&&c.filter||d.filter||"";d.zoom=1;if(1<=b&&(""===h.trim(g.replace(Ba,""))&&d.removeAttribute)&&(d.removeAttribute("filter"),c&&!c.filter))return;d.filter=Ba.test(g)?g.replace(Ba,e):g+" "+e}});h(function(){h.support.reliableMarginRight||(h.cssHooks.marginRight={get:function(a,b){return h.swap(a,{display:"inline-block"},function(){if(b)return R(a,"marginRight")})}});!h.support.pixelPosition&&h.fn.position&&h.each(["top","left"],function(a,b){h.cssHooks[b]={get:function(a,d){if(d){var c=R(a,b);
return Ua.test(c)?h(a).position()[b]+"px":c}}}})});h.expr&&h.expr.filters&&(h.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!h.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||R(a,"display"))},h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)});h.each({margin:"",padding:"",border:"Width"},function(a,b){h.cssHooks[a+b]={expand:function(d){var c="string"===typeof d?d.split(" "):[d],e={};for(d=0;4>d;d++)e[a+Da[d]+b]=c[d]||c[d-2]||c[0];
return e}};Ta.test(a)||(h.cssHooks[a+b].set=F)});var Oa=/%20/g,qb=/\[\]$/,jb=/\r?\n/g,Jb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Xa=/^(?:select|textarea)/i;h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?h.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Xa.test(this.nodeName)||
Jb.test(this.type))}).map(function(a,b){var d=h(this).val();return null==d?null:h.isArray(d)?h.map(d,function(a,d){return{name:b.name,value:a.replace(jb,"\r\n")}}):{name:b.name,value:d.replace(jb,"\r\n")}}).get()}});h.param=function(b,d){var c,e=[],g=function(a,b){b=h.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};d===a&&(d=h.ajaxSettings&&h.ajaxSettings.traditional);if(h.isArray(b)||b.jquery&&!h.isPlainObject(b))h.each(b,function(){g(this.name,this.value)});
else for(c in b)E(c,b[c],d,g);return e.join("&").replace(Oa,"+")};var V,ha,w=/#.*$/,O=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,aa=/^(?:GET|HEAD)$/,P=/^\/\//,Ja=/\?/,Nb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ia=/([?&])_=[^&]*/,Ka=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Xb=h.fn.load,Tb={},Ob={},Pb=["*/"]+["*"];try{V=U.href}catch(xb){V=r.createElement("a"),V.href="",V=V.href}ha=Ka.exec(V.toLowerCase())||[];h.fn.load=function(b,d,c){if("string"!==typeof b&&Xb)return Xb.apply(this,arguments);
if(!this.length)return this;var e,g,f,k=this,l=b.indexOf(" ");0<=l&&(e=b.slice(l,b.length),b=b.slice(0,l));h.isFunction(d)?(c=d,d=a):d&&"object"===typeof d&&(g="POST");h.ajax({url:b,type:g,dataType:"html",data:d,complete:function(a,b){c&&k.each(c,f||[a.responseText,b,a])}}).done(function(a){f=arguments;k.html(e?h("<div>").append(a.replace(Nb,"")).find(e):a)});return this};h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){h.fn[b]=function(a){return this.on(b,
a)}});h.each(["get","post"],function(b,d){h[d]=function(b,c,e,g){h.isFunction(c)&&(g=g||e,e=c,c=a);return h.ajax({type:d,url:b,data:c,success:e,dataType:g})}});h.extend({getScript:function(b,d){return h.get(b,a,d,"script")},getJSON:function(a,b,d){return h.get(a,b,d,"json")},ajaxSetup:function(a,b){b?K(a,h.ajaxSettings):(b=a,a=h.ajaxSettings);K(a,b);return a},ajaxSettings:{url:V,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ha[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Pb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":c.String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:s(Tb),ajaxTransport:s(Ob),ajax:function(b,d){function c(b,d,f,n){var t,w,H,y,C=d;if(2!==L){L=2;l&&clearTimeout(l);
k=a;g=n||"";m.readyState=0<b?4:0;if(f){y=r;n=m;var U,O,D,ma,z=y.contents,F=y.dataTypes,B=y.responseFields;for(O in B)O in f&&(n[B[O]]=f[O]);for(;"*"===F[0];)F.shift(),U===a&&(U=y.mimeType||n.getResponseHeader("content-type"));if(U)for(O in z)if(z[O]&&z[O].test(U)){F.unshift(O);break}if(F[0]in f)D=F[0];else{for(O in f){if(!F[0]||y.converters[O+" "+F[0]]){D=O;break}ma||(ma=O)}D=D||ma}D?(D!==F[0]&&F.unshift(D),y=f[D]):y=void 0}if(200<=b&&300>b||304===b)if(r.ifModified&&((f=m.getResponseHeader("Last-Modified"))&&
(h.lastModified[e]=f),(f=m.getResponseHeader("Etag"))&&(h.etag[e]=f)),304===b)C="notmodified",t=!0;else{a:{w=r;H=y;var aa,P,C=w.dataTypes.slice();U=C[0];O={};D=0;w.dataFilter&&(H=w.dataFilter(H,w.dataType));if(C[1])for(aa in w.converters)O[aa.toLowerCase()]=w.converters[aa];for(;f=C[++D];)if("*"!==f){if("*"!==U&&U!==f){aa=O[U+" "+f]||O["* "+f];if(!aa)for(P in O)if(t=P.split(" "),t[1]===f&&(aa=O[U+" "+t[0]]||O["* "+t[0]])){!0===aa?aa=O[P]:!0!==O[P]&&(f=t[0],C.splice(D--,0,f));break}if(!0!==aa)if(aa&&
w["throws"])H=aa(H);else try{H=aa(H)}catch(I){t={state:"parsererror",error:aa?I:"No conversion from "+U+" to "+f};break a}}U=f}t={state:"success",data:H}}C=t.state;w=t.data;H=t.error;t=!H}else if(H=C,!C||b)C="error",0>b&&(b=0);m.status=b;m.statusText=""+(d||C);t?x.resolveWith(q,[w,C,m]):x.rejectWith(q,[m,C,H]);m.statusCode(A);A=a;u&&p.trigger("ajax"+(t?"Success":"Error"),[m,r,t?w:H]);ua.fireWith(q,[m,C]);u&&(p.trigger("ajaxComplete",[m,r]),--h.active||h.event.trigger("ajaxStop"))}}"object"===typeof b&&
(d=b,b=a);d=d||{};var e,g,f,k,l,n,u,t,r=h.ajaxSetup({},d),q=r.context||r,p=q!==r&&(q.nodeType||q instanceof h)?h(q):h.event,x=h.Deferred(),ua=h.Callbacks("once memory"),A=r.statusCode||{},H={},y={},L=0,C="canceled",m={readyState:0,setRequestHeader:function(a,b){if(!L){var d=a.toLowerCase();a=y[d]=y[d]||a;H[a]=b}return this},getAllResponseHeaders:function(){return 2===L?g:null},getResponseHeader:function(b){var d;if(2===L){if(!f)for(f={};d=O.exec(g);)f[d[1].toLowerCase()]=d[2];d=f[b.toLowerCase()]}return d===
a?null:d},overrideMimeType:function(a){L||(r.mimeType=a);return this},abort:function(a){a=a||C;k&&k.abort(a);c(0,a);return this}};x.promise(m);m.success=m.done;m.error=m.fail;m.complete=ua.add;m.statusCode=function(a){if(a){var b;if(2>L)for(b in a)A[b]=[A[b],a[b]];else b=a[m.status],m.always(b)}return this};r.url=((b||r.url)+"").replace(w,"").replace(P,ha[1]+"//");r.dataTypes=h.trim(r.dataType||"*").toLowerCase().split(sa);null==r.crossDomain&&(n=Ka.exec(r.url.toLowerCase()),r.crossDomain=!(!n||n[1]==
ha[1]&&n[2]==ha[2]&&(n[3]||("http:"===n[1]?80:443))==(ha[3]||("http:"===ha[1]?80:443))));r.data&&(r.processData&&"string"!==typeof r.data)&&(r.data=h.param(r.data,r.traditional));v(Tb,r,d,m);if(2===L)return m;u=r.global;r.type=r.type.toUpperCase();r.hasContent=!aa.test(r.type);u&&0===h.active++&&h.event.trigger("ajaxStart");if(!r.hasContent&&(r.data&&(r.url+=(Ja.test(r.url)?"&":"?")+r.data,delete r.data),e=r.url,!1===r.cache)){n=h.now();var U=r.url.replace(ia,"$1_="+n);r.url=U+(U===r.url?(Ja.test(r.url)?
"&":"?")+"_="+n:"")}(r.data&&r.hasContent&&!1!==r.contentType||d.contentType)&&m.setRequestHeader("Content-Type",r.contentType);r.ifModified&&(e=e||r.url,h.lastModified[e]&&m.setRequestHeader("If-Modified-Since",h.lastModified[e]),h.etag[e]&&m.setRequestHeader("If-None-Match",h.etag[e]));m.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+Pb+"; q=0.01":""):r.accepts["*"]);for(t in r.headers)m.setRequestHeader(t,r.headers[t]);if(r.beforeSend&&
(!1===r.beforeSend.call(q,m,r)||2===L))return m.abort();C="abort";for(t in{success:1,error:1,complete:1})m[t](r[t]);if(k=v(Ob,r,d,m)){m.readyState=1;u&&p.trigger("ajaxSend",[m,r]);r.async&&0<r.timeout&&(l=setTimeout(function(){m.abort("timeout")},r.timeout));try{L=1,k.send(H,c)}catch(D){if(2>L)c(-1,D);else throw D;}}else c(-1,"No Transport");return m},active:0,lastModified:{},etag:{}});var ra=[],Yb=/\?/,yb=/(=)\?(?=&|$)|\?\?/,Qb=h.now();h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=
ra.pop()||h.expando+"_"+Qb++;this[a]=!0;return a}});h.ajaxPrefilter("json jsonp",function(b,d,e){var g,f,k,l=b.data,n=b.url,u=!1!==b.jsonp,t=u&&yb.test(n),r=u&&!t&&"string"===typeof l&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&yb.test(l);if("jsonp"===b.dataTypes[0]||t||r)return g=b.jsonpCallback=h.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,f=c[g],t?b.url=n.replace(yb,"$1"+g):r?b.data=l.replace(yb,"$1"+g):u&&(b.url+=(Yb.test(n)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=
function(){k||h.error(g+" was not called");return k[0]},b.dataTypes[0]="json",c[g]=function(){k=arguments},e.always(function(){c[g]=f;b[g]&&(b.jsonpCallback=d.jsonpCallback,ra.push(g));k&&h.isFunction(f)&&f(k[0]);k=f=a}),"script"});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){h.globalEval(a);return a}}});h.ajaxPrefilter("script",function(b){b.cache===
a&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});h.ajaxTransport("script",function(b){if(b.crossDomain){var d,c=r.head||r.getElementsByTagName("head")[0]||r.documentElement;return{send:function(e,g){d=r.createElement("script");d.async="async";b.scriptCharset&&(d.charset=b.scriptCharset);d.src=b.url;d.onload=d.onreadystatechange=function(b,e){if(e||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,c&&d.parentNode&&c.removeChild(d),d=a,e||g(200,"success")};
c.insertBefore(d,c.firstChild)},abort:function(){if(d)d.onload(0,1)}}}});var ua,ma=c.ActiveXObject?function(){for(var a in ua)ua[a](0,1)}:!1,cc=0;h.ajaxSettings.xhr=c.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&na()))a:{try{a=new c.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:na;(function(a){h.extend(h.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(h.ajaxSettings.xhr());h.support.ajax&&h.ajaxTransport(function(b){if(!b.crossDomain||h.support.cors){var d;
return{send:function(e,g){var f,k,l=b.xhr();b.username?l.open(b.type,b.url,b.async,b.username,b.password):l.open(b.type,b.url,b.async);if(b.xhrFields)for(k in b.xhrFields)l[k]=b.xhrFields[k];b.mimeType&&l.overrideMimeType&&l.overrideMimeType(b.mimeType);b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(k in e)l.setRequestHeader(k,e[k])}catch(n){}l.send(b.hasContent&&b.data||null);d=function(c,e){var k,n,u,t,r;try{if(d&&(e||4===l.readyState))if(d=a,f&&(l.onreadystatechange=
h.noop,ma&&delete ua[f]),e)4!==l.readyState&&l.abort();else{k=l.status;u=l.getAllResponseHeaders();t={};(r=l.responseXML)&&r.documentElement&&(t.xml=r);try{t.text=l.responseText}catch(w){}try{n=l.statusText}catch(q){n=""}k||!b.isLocal||b.crossDomain?1223===k&&(k=204):k=t.text?200:404}}catch(p){e||g(-1,p)}t&&g(k,n,t,u)};b.async?4===l.readyState?setTimeout(d,0):(f=++cc,ma&&(ua||(ua={},h(c).unload(ma)),ua[f]=d),l.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var lb,Rb,dc=/^(?:toggle|show|hide)$/,
hc=RegExp("^(?:([-+])=|)("+Y+")([a-z%]*)$","i"),ic=/queueHooks$/,Zb=[function(a,b,d){var c,e,g,f,k,l,n=this,u=a.style,t={},r=[],w=a.nodeType&&D(a);d.queue||(k=h._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,n.always(function(){n.always(function(){k.unqueued--;h.queue(a,"fx").length||k.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(d.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===h.css(a,"display")&&
"none"===h.css(a,"float")&&(h.support.inlineBlockNeedsLayout&&"inline"!==p(a.nodeName)?u.zoom=1:u.display="inline-block"));d.overflow&&(u.overflow="hidden",h.support.shrinkWrapBlocks||n.done(function(){u.overflow=d.overflow[0];u.overflowX=d.overflow[1];u.overflowY=d.overflow[2]}));for(c in b)e=b[c],dc.exec(e)&&(delete b[c],e!==(w?"hide":"show")&&r.push(c));if(e=r.length)for(g=h._data(a,"fxshow")||h._data(a,"fxshow",{}),w?h(a).show():n.done(function(){h(a).hide()}),n.done(function(){var b;h.removeData(a,
"fxshow",!0);for(b in t)h.style(a,b,t[b])}),c=0;c<e;c++)b=r[c],f=n.createTween(b,w?g[b]:0),t[b]=g[b]||h.style(a,b),b in g||(g[b]=f.start,w&&(f.end=f.start,f.start="width"===b||"height"===b?1:0))}],Ub={"*":[function(a,b){var d,c,e,g=this.createTween(a,b),f=hc.exec(b),k=g.cur(),l=+k||0,n=1;if(f){d=+f[2];c=f[3]||(h.cssNumber[a]?"":"px");if("px"!==c&&l){l=h.css(g.elem,a,!0)||d||1;do e=n=n||".5",l/=n,h.style(g.elem,a,l+c),n=g.cur()/k;while(1!==n&&n!==e)}g.unit=c;g.start=l;g.end=f[1]?l+(f[1]+1)*d:d}return g}]};
h.Animation=h.extend(I,{tweener:function(a,b){h.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var d,c=0,e=a.length;c<e;c++)d=a[c],Ub[d]=Ub[d]||[],Ub[d].unshift(b)},prefilter:function(a,b){b?Zb.unshift(a):Zb.push(a)}});h.Tween=S;S.prototype={constructor:S,init:function(a,b,d,c,e,g){this.elem=a;this.prop=d;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=g||(h.cssNumber[d]?"":"px")},cur:function(){var a=S.propHooks[this.prop];return a&&a.get?a.get(this):S.propHooks._default.get(this)},
run:function(a){var b,d=S.propHooks[this.prop];this.pos=this.options.duration?b=h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);d&&d.set?d.set(this):S.propHooks._default.set(this);return this}};S.prototype.init.prototype=S.prototype;S.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=h.css(a.elem,a.prop,
!1,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(h.fx.step[a.prop])h.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[h.cssProps[a.prop]]||h.cssHooks[a.prop])?h.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};h.each(["toggle","show","hide"],function(a,b){var d=h.fn[b];h.fn[b]=function(c,e,g){return null==c||"boolean"===typeof c||!a&&h.isFunction(c)&&
h.isFunction(e)?d.apply(this,arguments):this.animate(L(b,!0),c,e,g)}});h.fn.extend({fadeTo:function(a,b,d,c){return this.filter(D).css("opacity",0).show().end().animate({opacity:b},a,d,c)},animate:function(a,b,d,c){var e=h.isEmptyObject(a),g=h.speed(b,d,c);b=function(){var b=I(this,h.extend({},a),g);e&&b.stop(!0)};return e||!1===g.queue?this.each(b):this.queue(g.queue,b)},stop:function(b,d,c){var e=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof b&&(c=d,d=b,b=a);d&&!1!==b&&this.queue(b||
"fx",[]);return this.each(function(){var a=!0,d=null!=b&&b+"queueHooks",g=h.timers,f=h._data(this);if(d)f[d]&&f[d].stop&&e(f[d]);else for(d in f)f[d]&&(f[d].stop&&ic.test(d))&&e(f[d]);for(d=g.length;d--;)g[d].elem!==this||null!=b&&g[d].queue!==b||(g[d].anim.stop(c),a=!1,g.splice(d,1));!a&&c||h.dequeue(this,b)})}});h.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,d,
c){return this.animate(b,a,d,c)}});h.speed=function(a,b,d){var c=a&&"object"===typeof a?h.extend({},a):{complete:d||!d&&b||h.isFunction(a)&&a,duration:a,easing:d&&b||b&&!h.isFunction(b)&&b};c.duration=h.fx.off?0:"number"===typeof c.duration?c.duration:c.duration in h.fx.speeds?h.fx.speeds[c.duration]:h.fx.speeds._default;if(null==c.queue||!0===c.queue)c.queue="fx";c.old=c.complete;c.complete=function(){h.isFunction(c.old)&&c.old.call(this);c.queue&&h.dequeue(this,c.queue)};return c};h.easing={linear:function(a){return a},
swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};h.timers=[];h.fx=S.prototype.init;h.fx.tick=function(){for(var a,b=h.timers,d=0;d<b.length;d++)a=b[d],a()||b[d]!==a||b.splice(d--,1);b.length||h.fx.stop()};h.fx.timer=function(a){a()&&(h.timers.push(a)&&!Rb)&&(Rb=setInterval(h.fx.tick,h.fx.interval))};h.fx.interval=13;h.fx.stop=function(){clearInterval(Rb);Rb=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fx.step={};h.expr&&h.expr.filters&&(h.expr.filters.animated=function(a){return h.grep(h.timers,
function(b){return a===b.elem}).length});var ec=/^(?:body|html)$/i;h.fn.offset=function(b){if(arguments.length)return b===a?this:this.each(function(a){h.offset.setOffset(this,b,a)});var d,c,e,g,f,k;if(f=(d=this[0])&&d.ownerDocument){if((e=f.body)===d)return h.offset.bodyOffset(d);c=f.documentElement;if(!h.contains(c,d))return{top:0,left:0};d=d.getBoundingClientRect();g=fa(f);f=c.clientTop||e.clientTop||0;e=c.clientLeft||e.clientLeft||0;k=g.pageYOffset||c.scrollTop;c=g.pageXOffset||c.scrollLeft;f=
d.top+k-f;d=d.left+c-e;return{top:f,left:d}}};h.offset={bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;h.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(h.css(a,"marginTop"))||0,d+=parseFloat(h.css(a,"marginLeft"))||0);return{top:b,left:d}},setOffset:function(a,b,d){var c=h.css(a,"position");"static"===c&&(a.style.position="relative");var e=h(a),g=e.offset(),f=h.css(a,"top"),k=h.css(a,"left"),l={},n={};("absolute"===c||"fixed"===c)&&-1<h.inArray("auto",[f,k])?(n=e.position(),c=n.top,
k=n.left):(c=parseFloat(f)||0,k=parseFloat(k)||0);h.isFunction(b)&&(b=b.call(a,d,g));null!=b.top&&(l.top=b.top-g.top+c);null!=b.left&&(l.left=b.left-g.left+k);"using"in b?b.using.call(a,l):e.css(l)}};h.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),d=this.offset(),c=ec.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(h.css(a,"marginTop"))||0;d.left-=parseFloat(h.css(a,"marginLeft"))||0;c.top+=parseFloat(h.css(b[0],"borderTopWidth"))||0;c.left+=parseFloat(h.css(b[0],
"borderLeftWidth"))||0;return{top:d.top-c.top,left:d.left-c.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||r.body;a&&!ec.test(a.nodeName)&&"static"===h.css(a,"position");)a=a.offsetParent;return a||r.body})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,d){var c=/Y/.test(d);h.fn[b]=function(e){return h.access(this,function(b,e,g){var f=fa(b);if(g===a)return f?d in f?f[d]:f.document.documentElement[e]:b[e];f?f.scrollTo(c?h(f).scrollLeft():
g,c?g:h(f).scrollTop()):b[e]=g},b,e,arguments.length,null)}});h.each({Height:"height",Width:"width"},function(b,d){h.each({padding:"inner"+b,content:d,"":"outer"+b},function(c,e){h.fn[e]=function(e,g){var f=arguments.length&&(c||"boolean"!==typeof e),k=c||(!0===e||!0===g?"margin":"border");return h.access(this,function(d,c,e){return h.isWindow(d)?d.document.documentElement["client"+b]:9===d.nodeType?(c=d.documentElement,Math.max(d.body["scroll"+b],c["scroll"+b],d.body["offset"+b],c["offset"+b],c["client"+
b])):e===a?h.css(d,c,e,k):h.style(d,c,e,k)},d,f?e:a,f,null)}})});c.jQuery=c.$=h;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return h});return h}(window)})},{}],1:[function(m,s,v){window.onload=function(){var c=m("./app");window.app=new c(document.getElementById("app"));window.app.start(window.bootstrap)}},{"./app":2}],3:[function(m,s,v){m=s.exports={};m.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};
if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var c=[];window.addEventListener("message",function(a){a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),0<c.length&&c.shift()())},!0);return function(a){c.push(a);window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}();m.title="browser";m.browser=!0;m.env={};m.argv=[];m.binding=function(c){throw Error("process.binding is not supported");};m.cwd=function(){return"/"};m.chdir=function(c){throw Error("process.chdir is not supported");
}},{}],4:[function(m,s,v){function c(a,c){for(var f=[],l=0;l<a.length;l++)c(a[l],l,a)&&f.push(a[l]);return f}function a(a,c){for(var f=0,l=a.length;0<=l;l--){var n=a[l];"."==n?a.splice(l,1):".."===n?(a.splice(l,1),f++):f&&(a.splice(l,1),f--)}if(c)for(;f--;f)a.unshift("..");return a}var f=m("__browserify_process"),l=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;v.resolve=function(){for(var g="",e=!1,k=arguments.length;-1<=k&&!e;k--){var l=0<=k?arguments[k]:f.cwd();"string"===typeof l&&l&&(g=l+"/"+g,e="/"===
l.charAt(0))}g=a(c(g.split("/"),function(a){return!!a}),!e).join("/");return(e?"/":"")+g||"."};v.normalize=function(g){var e="/"===g.charAt(0),f="/"===g.slice(-1);(g=a(c(g.split("/"),function(a){return!!a}),!e).join("/"))||e||(g=".");g&&f&&(g+="/");return(e?"/":"")+g};v.join=function(){var a=Array.prototype.slice.call(arguments,0);return v.normalize(c(a,function(a,c){return a&&"string"===typeof a}).join("/"))};v.dirname=function(a){return(a=l.exec(a)[1]||"")?1===a.length?a:a.substring(0,a.length-
1):"."};v.basename=function(a,c){var f=l.exec(a)[2]||"";c&&f.substr(-1*c.length)===c&&(f=f.substr(0,f.length-c.length));return f};v.extname=function(a){return l.exec(a)[3]||""};v.relative=function(a,c){function f(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;0<=c&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=v.resolve(a).substr(1);c=v.resolve(c).substr(1);for(var l=f(a.split("/")),n=f(c.split("/")),A=Math.min(l.length,n.length),m=A,b=0;b<A;b++)if(l[b]!==n[b]){m=b;break}A=[];for(b=
m;b<l.length;b++)A.push("..");A=A.concat(n.slice(m));return A.join("/")}},{__browserify_process:3}],5:[function(m,s,v){(function(){function c(a,c,l){this.init(a,c,l)}c.prototype={init:function(a,c,l){this.targetFrame=a;this.targetDomain=c;this.prefix=l;this.replies={};this.nextTicket=0;this.ready=!1;this.queue=[];var g=this;window.addEventListener("message",function(a){g.receive(a)},!1)},send:function(a,c,l){var g="ticket_"+this.prefix+"_"+this.nextTicket++;a=JSON.stringify({"function":a,args:c,ticket:g});
l&&(this.replies[g]=l);this.sendInternal(a)},receive:function(a){if(a.origin.replace(/https?:\/\//,"")===this.targetDomain.replace(/\/$/,"").replace(/https?:\/\//,"")){var c;try{c=JSON.parse(a.data)}catch(l){alert("Syntax error in response from "+a.origin+": "+a.data);return}if("ready"===c.event)this.ready=!0,this.sendQueuedEvents();else if(c.ticket in this.replies){a=this.replies[c.ticket];delete this.replies[c.ticket];var g=[];"args"in c&&(g=c.args);a.apply(void 0,g)}}},sendInternal:function(a){this.ready?
this.targetFrame.contentWindow.postMessage(a,this.targetDomain):this.queue.push(a)},sendQueuedEvents:function(){for(var a=0;a<this.queue.length;a++)this.targetFrame.contentWindow.postMessage(this.queue[a],this.targetDomain);this.queue.length=0}};s.exports=c})()},{}],6:[function(m,s,v){s.exports={baseUrl:"http://www.toolkitt.com",videoExts:".mp4 .m4v .f4v .webm .ogv .flv .mov".split(" "),imageExts:[".gif",".png",".jpeg",".jpg",".bmp"],thumbnailDims:{width:340,height:192},flashMessage:null,s3prefix:"https://toolkitt.s3.amazonaws.com/",
thumberUrl:"https://toolkitt.s3.amazonaws.com/thumber.html",videoPlayerId:"media_video",imageViewerId:"media_image",placeholders:{addMedia:{full:"http://toolkitt.s3.amazonaws.com/addmedia.png",half:"http://toolkitt.s3.amazonaws.com/addmedia-half.png"},encoding:{full:"http://toolkitt.s3.amazonaws.com/encoding.gif",half:"http://toolkitt.s3.amazonaws.com/encoding-half.gif"}}}},{}],7:[function(m,s,v){s.exports=function(c){return{placeholderThumbnail:function(a){var f=c.thumbnailDims.width,l=c.thumbnailDims.height;
a&&(f=Math.round(f/2),l=Math.round(l/2));return"http://holder.js/"+f+"x"+l+"/text:No Thumbnail"},isVideo:function(a){a="."+a.split(".").pop().toLowerCase();return 0<=c.videoExts.indexOf(a)},isImage:function(a){a="."+a.split(".").pop().toLowerCase();return 0<=c.imageExts.indexOf(a)},ucfirst:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uuid:function(a){a=a||10;var c=[];for(i=0;i<a;i++)c.push("abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(26*Math.random())));return c.join("")},mime:function(a){return"video/quicktime"===
a?"video/mp4":a}}}},{}],8:[function(m,s,v){(function(){s.exports=function(){var c=this;c.getUser().save({id:"logout",token:null},{success:function(){c.db.fetchCollection("pages").fetch();c.getCustomization()&&c.getCustomization().fetch();c.navigate("",{trigger:!0})}})}})()},{}],9:[function(m,s,v){(function(){s.exports=function(c,a,f){var l=this,g,e=this.db.fetchCollection("pages");f=decodeURIComponent(f);e.once("ready",function(){var k=e.find(function(a){return a.attributes.name.toLowerCase()===f.toLowerCase()});
k?(g=l.db.fetchModel(c,a),g.once("ready",function(){confirm("Are you sure you want to remove "+g.attributes.name+" from "+k.attributes.name+"?")?k.removeMedia(g.id,function(a){l.navigate("page/"+f,{trigger:!0});a&&l.error(a)}):l.navigate("page/"+f,{trigger:!0})})):(l.navigate("page/"+f,{trigger:!0}),l.error("Error 404: The page could not be found"))})}})()},{}],10:[function(m,s,v){v=m("jquery-browserify");m("./lib/elastislide")(v,window);m("./lib/switch")(v,window);m("./lib/sortable")(v,window);m("./lib/tags")(v,
window);m("./lib/bootstrap-button")(v,window);m("./lib/bootstrap-tooltip")(v,window);m("./lib/bootstrap-popover")(v,window);m("./lib/bootstrap-alert")(v,window);s.exports=v},{"./lib/bootstrap-alert":18,"./lib/bootstrap-button":15,"./lib/bootstrap-popover":17,"./lib/bootstrap-tooltip":16,"./lib/elastislide":11,"./lib/sortable":13,"./lib/switch":12,"./lib/tags":14,"jquery-browserify":"Gb3VIQ"}],19:[function(m,s,v){var c=m("__browserify_process");(function(){m("../views/routes/index");var a=m("../views/errors/no_pages");
s.exports=function(){var f=this,l=this.db.fetchCollection("pages"),g=this.getUser(),e=2,k=function(){e--;if(0===e){var g=new a({app:f}),k;c.env.tests||((k=f.isLoggedIn()?l.sort().at(0):l.sort().findWhere({isPublished:!0}))?f.navigate("page/"+encodeURIComponent(k.attributes.name),{trigger:!0}):f.isLoggedIn()?f.navigate("createPage",{trigger:!0}):f.show(g))}};l.once("ready",k);g.once("ready",k)}})()},{"../views/errors/no_pages":21,"../views/routes/index":20,__browserify_process:3}],22:[function(m,s,
v){(function(){var c=m("../views/routes/login");s.exports=function(){var a=new c({app:this});this.show(a)}})()},{"../views/routes/login":23}],24:[function(m,s,v){(function(){var c=m("../views/routes/review");s.exports=function(){var a=new c({app:this});this.show(a)}})()},{"../views/routes/review":25}],26:[function(m,s,v){(function(){var c=m("../views/routes/contact");s.exports=function(){var a=new c({app:this});this.show(a)}})()},{"../views/routes/contact":27}],28:[function(m,s,v){(function(){var c=
m("../../views/routes/pages/create");s.exports=function(){var a=new c({app:this});this.show(a)}})()},{"../../views/routes/pages/create":29}],30:[function(m,s,v){(function(){var c=m("../../views/routes/pages/show");s.exports=function(a){a=new c({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/pages/show":31}],32:[function(m,s,v){(function(){var c=m("../../views/routes/pages/edit");s.exports=function(a){a=new c({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/pages/edit":33}],
34:[function(m,s,v){(function(){var c=m("../../views/routes/pages/reorder");s.exports=function(){var a=new c({app:this});this.show(a)}})()},{"../../views/routes/pages/reorder":35}],36:[function(m,s,v){(function(){var c=m("../../views/routes/media/add");s.exports=function(a){a=new c({app:this,pageName:a});this.show(a)}})()},{"../../views/routes/media/add":37}],38:[function(m,s,v){(function(){var c=m("../../views/routes/media/pick");s.exports=function(a){a=new c({app:this,pageName:a});this.show(a)}})()},
{"../../views/routes/media/pick":39}],40:[function(m,s,v){(function(){var c=m("../../views/routes/media/show");s.exports=function(a,f,l){a=new c({app:this,mediaType:f,mediaId:l,pageName:a});this.show(a)}})()},{"../../views/routes/media/show":41}],42:[function(m,s,v){(function(){var c=m("../../views/routes/media/edit");s.exports=function(a,f){var l=new c({app:this,mediaType:a,mediaId:f});this.show(l)}})()},{"../../views/routes/media/edit":43}],2:[function(m,s,v){(function(){var c=m("lodash"),a=m("./helpers/JqueryLoader"),
f=m("js-thumb");m("path");var l=m("./helpers/BackboneLoader.js"),g=m("./helpers/lib/messenger.js"),e=m("./helpers/db"),k={"":m("./routes/index"),login:m("./routes/login"),logout:m("./routes/logout"),createPage:m("./routes/pages/create"),"page/:name":m("./routes/pages/show"),"page/:name/edit":m("./routes/pages/edit"),reorder:m("./routes/pages/reorder"),"page/:name/addMedia":m("./routes/media/add"),"page/:name/pickMedia":m("./routes/media/pick"),review:m("./routes/review"),"page/:name/:type/:id":m("./routes/media/show"),
"media/:type/:id/edit":m("./routes/media/edit"),"media/:type/:id/remove/:page":m("./routes/media/remove"),contact:m("./routes/contact")},q=l.Router.extend({initialize:function(l,q){var z,b;c.each(k,function(a,b){this.route(b,c.bind(a,this))},this);this.el=l=l||document.body;this.$el=a(l);this.db=new e(this);this.config=c.clone(m("./config/config.js"));this.util=m("./helpers/util.js")(this.config);this.messenger=new g(null,this.config.s3prefix,"thumbnailer");this.listenTo(this.getUser(),"change",function(){this.bootstrap.userId&&
(this.getUser().attributes.token&&this.getUser().id!==this.bootstrap.userId)&&(this.navigate("logout",{trigger:!0}),this.setFlash("info","You have been logged out because this is not your portfolio."))},this);z=this.db.fetchCollection("unprocessedUploads");this.listenTo(z,"ready add change remove sync reset",function(){0<z.length?b=setTimeout(function(){clearTimeout(b);z.fetch()},3E3):clearTimeout(b)});this.error=c.bind(this.error,this);this.setFlash=c.bind(this.setFlash,this);this.clearFlash=c.bind(this.clearFlash,
this);window.onresize=f.resizeVideos;return this},start:function(a){this.bootstrap=a||{};l.history.start();return this},handleAppLink:function(a){a.preventDefault();a.stopPropagation();for(a=a.target;null==a.pathname;)a=a.parentElement;this.navigate(a.pathname,{trigger:!0});return this},isLoggedIn:function(){return this.getUser().attributes&&this.getUser().attributes.token},show:function(a){this.currentView&&(this.currentView.close(),this.currentView=null);this.currentView=a;a.render();this.$el.append(a.$el);
return this},flash:null,setFlash:function(a,c){a||(a="info");this.flash={message:c,type:a};this.trigger("flash");this.listenToOnce(this,"route",function(a,b,d){this.clearFlash()});return this},clearFlash:function(){this.flash=null;this.trigger("flash");return this},error:function(a,c){c?"timeout"===c.statusText?c="The request timed out":a.responseText?c=a.responseText:c.responseText&&(c=c.responseText):c=a;var e=c,b="";if("string"==typeof e)try{e=JSON.parse(e)}catch(d){}e.message&&(e=e.message);null==
e&&(e="Unknown (Null) Error");if(403===parseInt(e,10))this.logoutFromInactivity();else if("object"===typeof e){b=[];if(e instanceof Array)for(var g=0,f=e.length;g<f;g++)b.push(this.util.ucfirst(e[g].attr)+": "+this.util.ucfirst(e[g].message));else if(e.toString)b=[e.toString()];else for(g in e)b.push(this.util.ucfirst(g)+": "+this.util.ucfirst(e[g]));b=b.join(",")}else b+=e;this.setFlash("error",b)},getUser:function(){return this.db.fetchModel("user")},getCustomization:function(){var a,c;this.bootstrap&&
this.bootstrap.customizationId?(a=this.bootstrap.customizationId,c=this.db.fetchModel("customization",a)):this.isLoggedIn()&&(a=this.getUser().attributes.customization.id,c=this.db.fetchModel("customization",a),c.set(this.getUser().attributes.customization));return a?c:!1},getUserVars:function(){var a=this.getCustomization();return a?a.attributes.config:this.bootstrap.userVars},logoutFromInactivity:function(){var a=this;this.navigate("logout",{trigger:!0});setTimeout(function(){a.setFlash("info",
"You were logged out due to inactivity")},1E3)}});s.exports=q})()},{"./config/config.js":6,"./helpers/BackboneLoader.js":44,"./helpers/JqueryLoader":10,"./helpers/db":45,"./helpers/lib/messenger.js":5,"./helpers/util.js":7,"./routes/contact":26,"./routes/index":19,"./routes/login":22,"./routes/logout":8,"./routes/media/add":36,"./routes/media/edit":42,"./routes/media/pick":38,"./routes/media/remove":9,"./routes/media/show":40,"./routes/pages/create":28,"./routes/pages/edit":32,"./routes/pages/reorder":34,
"./routes/pages/show":30,"./routes/review":24,"js-thumb":47,lodash:46,path:4}],12:[function(m,s,v){s.exports=function(c){c.fn.bootstrapSwitch=function(a){var f={init:function(){return this.each(function(){var a=c(this),g,e,f,q,n="",m=a.attr("class"),z;e="ON";q="OFF";g=!1;c.each(["switch-mini","switch-small","switch-large"],function(a,b){0<=m.indexOf(b)&&(n=b)});a.addClass("has-switch");void 0!==a.data("on")&&(f="switch-"+a.data("on"));void 0!==a.data("on-label")&&(e=a.data("on-label"));void 0!==a.data("off-label")&&
(q=a.data("off-label"));void 0!==a.data("icon")&&(g=a.data("icon"));e=c("<span>").addClass("switch-left").addClass(n).addClass(f).html(e);f="";void 0!==a.data("off")&&(f="switch-"+a.data("off"));f=c("<span>").addClass("switch-right").addClass(n).addClass(f).html(q);q=c("<label>").html("&nbsp;").addClass(n).attr("for",a.find("input").attr("id"));g&&q.html('<i class="'+g+'"></i>');g=a.find(":checkbox").wrap(c("<div>")).parent().data("animated",!1);!1!==a.data("animated")&&g.addClass("switch-animate").data("animated",
!0);g.append(e).append(q).append(f);a.find(">div").addClass(a.find("input").is(":checked")?"switch-on":"switch-off");a.find("input").is(":disabled")&&c(this).addClass("deactivate");var b=function(a){a.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};a.on("keydown",function(a){32===a.keyCode&&(a.stopImmediatePropagation(),a.preventDefault(),b(c(a.target).find("span:first")))});e.on("click",function(a){b(c(this))});f.on("click",function(a){b(c(this))});a.find("input").on("change",
function(a){var b=c(this),e=b.parent(),g=b.is(":checked"),f=e.is(".switch-off");a.preventDefault();e.css("left","");f===g&&(g?e.removeClass("switch-off").addClass("switch-on"):e.removeClass("switch-on").addClass("switch-off"),!1!==e.data("animated")&&e.addClass("switch-animate"),e.parent().trigger("switch-change",{el:b,value:g}))});a.find("label").on("mousedown touchstart",function(a){var b=c(this);z=!1;a.preventDefault();a.stopImmediatePropagation();b.closest("div").removeClass("switch-animate");
b.closest(".has-switch").is(".deactivate")?b.unbind("click"):(b.on("mousemove touchmove",function(a){var b=c(this).closest(".switch");a=100*(((a.pageX||a.originalEvent.targetTouches[0].pageX)-b.offset().left)/b.width());z=!0;25>a?a=25:75<a&&(a=75);b.find(">div").css("left",a-75+"%")}),b.on("click touchend",function(a){var b=c(this),d=c(a.target).siblings("input");a.stopImmediatePropagation();a.preventDefault();b.unbind("mouseleave");z?d.prop("checked",!(-25>parseInt(b.parent().css("left")))):d.prop("checked",
!d.is(":checked"));z=!1;d.trigger("change")}),b.on("mouseleave",function(a){var b=c(this),d=b.siblings("input");a.preventDefault();a.stopImmediatePropagation();b.unbind("mouseleave");b.trigger("mouseup");d.prop("checked",!(-25>parseInt(b.parent().css("left")))).trigger("change")}),b.on("mouseup",function(a){a.stopImmediatePropagation();a.preventDefault();c(this).unbind("mousemove")}))})})},toggleActivation:function(){c(this).toggleClass("deactivate")},isActive:function(){return!c(this).hasClass("deactivate")},
setActive:function(a){a?c(this).removeClass("deactivate"):c(this).addClass("deactivate")},toggleState:function(a){var g=c(this).find("input:checkbox");g.prop("checked",!g.is(":checked")).trigger("change",a)},setState:function(a,g){c(this).find("input:checkbox").prop("checked",a).trigger("change",g)},status:function(){return c(this).find("input:checkbox").is(":checked")},destroy:function(){var a=c(this).find("div");a.find(":not(input:checkbox)").remove();a=a.children();a.unwrap().unwrap();a.unbind("change");
return a}};if(f[a])return f[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)c.error("Method "+a+" does not exist!");else return f.init.apply(this,arguments)}}},{}],13:[function(m,s,v){s.exports=function(c){var a,f=c();c.fn.sortable=function(l){var g=String(l);l=c.extend({connectWith:!1},l);return this.each(function(){if(/^enable|disable|destroy$/.test(g)){var e=c(this).children(c(this).data("items")),k=c(this).children(c(this).data("handles")).attr("draggable","enable"==
g);"destroy"==g&&(e.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s dragover.h5s dragenter.h5s drop.h5s"),k.off("selectstart.h5s"))}else{var q,e=c(this).children(l.items),k=l.handle?e.find(l.handle):e,n,m=c("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');c(this).data("items",l.items);c(this).data("handles",l.handle?l.handle:l.items);f=f.add(m);l.connectWith&&c(l.connectWith).add(this).data("connectWith",l.connectWith);k.attr("draggable","true").not("a[href], img").on("selectstart.h5s",
function(){this.dragDrop&&this.dragDrop();return!1}).end();e.on("dragstart.h5s",function(e){var b=e.originalEvent.dataTransfer;b.effectAllowed="move";b.setData("Text","dummy");q=(a=c(this)).addClass("sortable-dragging").index();n=a.parent();e.stopPropagation()}).on("dragend.h5s",function(){a&&(a.removeClass("sortable-dragging").show(),f.detach(),q==a.index()&&n.is(a.parent())||a.parent().trigger("sortupdate",{item:a}),n=a=null)}).add([this,m]).on("dragover.h5s dragenter.h5s drop.h5s",function(g){if(!e.is(a)&&
l.connectWith!==c(a).parent().data("connectWith"))return!0;if("drop"==g.type)return g.stopPropagation(),f.filter(":visible").after(a),a.trigger("dragend.h5s"),!1;g.preventDefault();g.originalEvent.dataTransfer.dropEffect="move";e.is(this)?(l.forcePlaceholderSize&&m.height(a.outerHeight()),a.hide(),c(this)[m.index()<c(this).index()?"after":"before"](m),f.not(m).detach()):f.is(this)||c(this).children(l.items).length||(f.detach(),c(this).append(m));return!1})}})}}},{}],14:[function(m,s,v){s.exports=
function(c){var a=[],f=[];c.fn.doAutosize=function(a){var g=c(this).data("minwidth"),e=c(this).data("maxwidth"),f="",q=c(this),n=c("#"+c(this).data("tester_id"));f!==(f=q.val())&&(f=f.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n.html(f),n=n.width(),a=n+a.comfortZone>=g?n+a.comfortZone:g,n=q.width(),(a<n&&a>=g||a>g&&a<e)&&q.width(a))};c.fn.resetAutosize=function(a){var g=c(this).data("minwidth")||a.minInputWidth||c(this).width();a=c(this).data("maxwidth")||a.maxInputWidth||
c(this).closest(".tagsinput").width()-a.inputPadding;var e=c(this),f=c("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),fontWeight:e.css("fontWeight"),letterSpacing:e.css("letterSpacing"),whiteSpace:"nowrap"}),q=c(this).attr("id")+"_autosize_tester";0<!c("#"+q).length&&(f.attr("id",q),f.appendTo("body"));e.data("minwidth",g);e.data("maxwidth",a);e.data("tester_id",q);e.css("width",g)};c.fn.addTag=function(l,g){g=jQuery.extend({focus:!1,
callback:!0},g);this.each(function(){var e=c(this).attr("id"),k=c(this).val().split(a[e]);""==k[0]&&(k=[]);l=jQuery.trim(l);if(g.unique){var q=c(this).tagExist(l);!0==q&&c("#"+e+"_tag").addClass("not_valid")}else q=!1;if(""!=l&&!0!=q&&(c("<span>").addClass("tag").append(c("<span>").text(l).append("&nbsp;&nbsp;"),c('<a class="tagsinput-remove-link">',{href:"#",title:"Remove tag",text:""}).click(function(){return c("#"+e).removeTag(escape(l))})).insertBefore("#"+e+"_addTag"),k.push(l),c("#"+e+"_tag").val(""),
g.focus?c("#"+e+"_tag").focus():c("#"+e+"_tag").blur(),c.fn.tagsInput.updateTagsField(this,k),g.callback&&(f[e]&&f[e].onAddTag)&&(q=f[e].onAddTag,q.call(this,l)),f[e]&&f[e].onChange)){var n=k.length,q=f[e].onChange;q.call(this,c(this),k[n-1])}});return!1};c.fn.removeTag=function(l){l=unescape(l);this.each(function(){var g=c(this).attr("id"),e=c(this).val().split(a[g]);c("#"+g+"_tagsinput .tag").remove();str="";for(i=0;i<e.length;i++)e[i]!=l&&(str=str+a[g]+e[i]);c.fn.tagsInput.importTags(this,str);
f[g]&&f[g].onRemoveTag&&f[g].onRemoveTag.call(this,l)});return!1};c.fn.tagExist=function(f){var g=c(this).attr("id"),g=c(this).val().split(a[g]);return 0<=jQuery.inArray(f,g)};c.fn.importTags=function(a){id=c(this).attr("id");c("#"+id+"_tagsinput .tag").remove();c.fn.tagsInput.importTags(this,a)};c.fn.tagsInput=function(l){var g=jQuery.extend({interactive:!0,defaultText:"",minChars:0,width:"",height:"",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",
autosize:!0,comfortZone:20,inputPadding:12},l);this.each(function(){g.hide&&c(this).hide();var e=c(this).attr("id");if(!e||a[c(this).attr("id")])e=c(this).attr("id","tags"+(new Date).getTime()).attr("id");var k=jQuery.extend({pid:e,real_input:"#"+e,holder:"#"+e+"_tagsinput",input_wrapper:"#"+e+"_addTag",fake_input:"#"+e+"_tag"},g);a[e]=k.delimiter;if(g.onAddTag||g.onRemoveTag||g.onChange)f[e]=[],f[e].onAddTag=g.onAddTag,f[e].onRemoveTag=g.onRemoveTag,f[e].onChange=g.onChange;var l=c("#"+e).attr("class").replace("tagsinput",
""),l='<div id="'+e+'_tagsinput" class="tagsinput '+l+'"><div class="tagsinput-add-container" id="'+e+'_addTag"><div class="tagsinput-add"></div>';g.interactive&&(l=l+'<input id="'+e+'_tag" value="" data-default="'+g.defaultText+'" />');c(l+"</div></div>").insertAfter(this);c(k.holder).css("width",g.width);c(k.holder).css("min-height",g.height);c(k.holder).css("height","100%");""!=c(k.real_input).val()&&c.fn.tagsInput.importTags(c(k.real_input),c(k.real_input).val());if(g.interactive){c(k.fake_input).val(c(k.fake_input).attr("data-default"));
c(k.fake_input).css("color",g.placeholderColor);c(k.fake_input).resetAutosize(g);c(k.holder).bind("click",k,function(a){c(a.data.fake_input).focus()});c(k.fake_input).bind("focus",k,function(a){c(a.data.fake_input).val()==c(a.data.fake_input).attr("data-default")&&c(a.data.fake_input).val("");c(a.data.fake_input).css("color","#000000")});if(void 0!=g.autocomplete_url){autocomplete_options={source:g.autocomplete_url};for(attrname in g.autocomplete)autocomplete_options[attrname]=g.autocomplete[attrname];
void 0!==jQuery.Autocompleter?(c(k.fake_input).autocomplete(g.autocomplete_url,g.autocomplete),c(k.fake_input).bind("result",k,function(a,f,k){f&&c("#"+e).addTag(f[0]+"",{focus:!0,unique:g.unique})})):void 0!==jQuery.ui.autocomplete&&(c(k.fake_input).autocomplete(autocomplete_options),c(k.fake_input).bind("autocompleteselect",k,function(a,e){c(a.data.real_input).addTag(e.item.value,{focus:!0,unique:g.unique});return!1}))}else c(k.fake_input).bind("blur",k,function(a){var e=c(this).attr("data-default");
""!=c(a.data.fake_input).val()&&c(a.data.fake_input).val()!=e?a.data.minChars<=c(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=c(a.data.fake_input).val().length)&&c(a.data.real_input).addTag(c(a.data.fake_input).val(),{focus:!0,unique:g.unique}):(c(a.data.fake_input).val(c(a.data.fake_input).attr("data-default")),c(a.data.fake_input).css("color",g.placeholderColor));return!1});c(k.fake_input).bind("keypress",k,function(a){if(a.which==a.data.delimiter.charCodeAt(0)||13==a.which)return a.preventDefault(),
a.data.minChars<=c(a.data.fake_input).val().length&&(!a.data.maxChars||a.data.maxChars>=c(a.data.fake_input).val().length)&&c(a.data.real_input).addTag(c(a.data.fake_input).val(),{focus:!0,unique:g.unique}),c(a.data.fake_input).resetAutosize(g),!1;a.data.autosize&&c(a.data.fake_input).doAutosize(g)});k.removeWithBackspace&&c(k.fake_input).bind("keydown",function(a){if(8==a.keyCode&&""==c(this).val()){a.preventDefault();a=c(this).closest(".tagsinput").find(".tag:last").text();var e=c(this).attr("id").replace(/_tag$/,
"");a=a.replace(/[\s\u00a0]+x$/,"");c("#"+e).removeTag(escape(a));c(this).trigger("focus")}});c(k.fake_input).blur();k.unique&&c(k.fake_input).keydown(function(a){(8==a.keyCode||String.fromCharCode(a.which).match(/\w+|[\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00f1\u00d1,/]+/))&&c(this).removeClass("not_valid")})}});return this};c.fn.tagsInput.updateTagsField=function(f,g){var e=c(f).attr("id");c(f).val(g.join(a[e]))};c.fn.tagsInput.importTags=function(l,g){c(l).val("");var e=
c(l).attr("id"),k=g.split(a[e]);for(i=0;i<k.length;i++)c(l).addTag(k[i],{focus:!1,callback:!1});f[e]&&f[e].onChange&&f[e].onChange.call(l,l,k[i])}}},{}],15:[function(m,s,v){s.exports=function(c){var a=function(a,g){this.$element=c(a);this.options=c.extend({},c.fn.button.defaults,g)};a.prototype.setState=function(a){var c=this.$element,e=c.data(),f=c.is("input")?"val":"html";a+="Text";e.resetText||c.data("resetText",c[f]());c[f](e[a]||this.options[a]);setTimeout(function(){"loadingText"==a?c.addClass("disabled").attr("disabled",
"disabled"):c.removeClass("disabled").removeAttr("disabled")},0)};a.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var f=c.fn.button;c.fn.button=function(f){return this.each(function(){var g=c(this),e=g.data("button"),k="object"==typeof f&&f;e||g.data("button",e=new a(this,k));"toggle"==f?e.toggle():f&&e.setState(f)})};c.fn.button.defaults={loadingText:"loading..."};c.fn.button.Constructor=
a;c.fn.button.noConflict=function(){c.fn.button=f;return this};c(document).on("click.button.data-api","[data-toggle^=button]",function(a){a=c(a.target);a.hasClass("btn")||(a=a.closest(".btn"));a.button("toggle")})}},{}],16:[function(m,s,v){s.exports=function(c){var a=function(a,c){this.init("tooltip",a,c)};a.prototype={constructor:a,init:function(a,f,e){var k;this.type=a;this.$element=c(f);this.options=this.getOptions(e);this.enabled=!0;f=this.options.trigger.split(" ");for(e=f.length;e--;)if(k=f[e],
"click"==k)this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this));else"manual"!=k&&(a="hover"==k?"mouseenter":"focus",k="hover"==k?"mouseleave":"blur",this.$element.on(a+"."+this.type,this.options.selector,c.proxy(this.enter,this)),this.$element.on(k+"."+this.type,this.options.selector,c.proxy(this.leave,this)));this.options.selector?this._options=c.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=c.extend({},c.fn[this.type].defaults,
this.$element.data(),a);a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});return a},enter:function(a){var f=c.fn[this.type].defaults,e={},k;this._options&&c.each(this._options,function(a,c){f[a]!=c&&(e[a]=c)},this);k=c(a.currentTarget)[this.type](e).data(this.type);if(!k.options.delay||!k.options.delay.show)return k.show();clearTimeout(this.timeout);k.hoverState="in";this.timeout=setTimeout(function(){"in"==k.hoverState&&k.show()},k.options.delay.show)},leave:function(a){var f=
c(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!f.options.delay||!f.options.delay.hide)return f.hide();f.hoverState="out";this.timeout=setTimeout(function(){"out"==f.hoverState&&f.hide()},f.options.delay.hide)},show:function(){var a,f,e,k,q;f=c.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(f),!f.isDefaultPrevented())){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");k="function"==typeof this.options.placement?
this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;a.detach().css({top:0,left:0,display:"block"});this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);f=this.getPosition();e=a[0].offsetWidth;a=a[0].offsetHeight;switch(k){case "bottom":q={top:f.top+f.height,left:f.left+f.width/2-e/2};break;case "top":q={top:f.top-a,left:f.left+f.width/2-e/2};break;case "left":q={top:f.top+f.height/2-a/2,left:f.left-e};break;case "right":q={top:f.top+f.height/
2-a/2,left:f.left+f.width}}this.applyPlacement(q,k);this.$element.trigger("shown")}},applyPlacement:function(a,c){var e=this.tip(),f=e[0].offsetWidth,q=e[0].offsetHeight,n,m,z;e.offset(a).addClass(c).addClass("in");n=e[0].offsetWidth;m=e[0].offsetHeight;"top"==c&&m!=q&&(a.top=a.top+q-m,z=!0);"bottom"==c||"top"==c?(q=0,0>a.left&&(q=-2*a.left,a.left=0,e.offset(a),n=e[0].offsetWidth),this.replaceArrow(q-f+n,n,"left")):this.replaceArrow(m-q,m,"top");z&&e.offset(a)},replaceArrow:function(a,c,e){this.arrow().css(e,
a?50*(1-a/c)+"%":"")},setContent:function(){var a=this.tip(),c=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](c);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var e=setTimeout(function(){f.off(c.support.transition.end).detach()},500);f.one(c.support.transition.end,function(){clearTimeout(e);f.detach()})}var f=this.tip(),e=c.Event("hide");this.$element.trigger(e);if(!e.isDefaultPrevented())return f.removeClass("in"),c.support.transition&&this.$tip.hasClass("fade")?
a():f.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var a=this.$element[0];return c.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},getTitle:function(){var a=
this.$element,c=this.options;return a.attr("data-original-title")||("function"==typeof c.title?c.title.call(a[0]):c.title)},tip:function(){return this.$tip=this.$tip||c(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=
a?c(a.currentTarget)[this.type](this._options).data(this.type):this;a.tip().hasClass("in")?a.hide():a.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var f=c.fn.tooltip;c.fn.tooltip=function(f){return this.each(function(){var g=c(this),e=g.data("tooltip"),k="object"==typeof f&&f;e||g.data("tooltip",e=new a(this,k));if("string"==typeof f)e[f]()})};c.fn.tooltip.Constructor=a;c.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
trigger:"hover focus",title:"",delay:0,html:!1,container:!1};c.fn.tooltip.noConflict=function(){c.fn.tooltip=f;return this}}},{}],17:[function(m,s,v){s.exports=function(c){var a=function(a,c){this.init("popover",a,c)};a.prototype=c.extend({},c.fn.tooltip.Constructor.prototype,{constructor:a,setContent:function(){var a=this.tip(),c=this.getTitle(),e=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](c);a.find(".popover-content")[this.options.html?"html":"text"](e);a.removeClass("fade top bottom left right in")},
hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,c=this.options;return("function"==typeof c.content?c.content.call(a[0]):c.content)||a.attr("data-content")},tip:function(){this.$tip||(this.$tip=c(this.options.template));return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var f=c.fn.popover;c.fn.popover=function(f){return this.each(function(){var g=c(this),e=g.data("popover"),k="object"==typeof f&&
f;e||g.data("popover",e=new a(this,k));if("string"==typeof f)e[f]()})};c.fn.popover.Constructor=a;c.fn.popover.defaults=c.extend({},c.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.fn.popover.noConflict=function(){c.fn.popover=f;return this}}},{}],18:[function(m,s,v){s.exports=function(c){var a=function(a){c(a).on("click",'[data-dismiss="alert"]',
this.close)};a.prototype.close=function(a){function f(){q.trigger("closed").remove()}var e=c(this),k=e.attr("data-target"),q;k||(k=(k=e.attr("href"))&&k.replace(/.*(?=#[^\s]*$)/,""));q=c(k);a&&a.preventDefault();q.length||(q=e.hasClass("alert")?e:e.parent());q.trigger(a=c.Event("close"));a.isDefaultPrevented()||(q.removeClass("in"),c.support.transition&&q.hasClass("fade")?q.on(c.support.transition.end,f):f())};var f=c.fn.alert;c.fn.alert=function(f){return this.each(function(){var g=c(this),e=g.data("alert");
e||g.data("alert",e=new a(this));"string"==typeof f&&e[f].call(g)})};c.fn.alert.Constructor=a;c.fn.alert.noConflict=function(){c.fn.alert=f;return this};c(document).on("click.alert.data-api",'[data-dismiss="alert"]',a.prototype.close)}},{}],46:[function(m,s,v){var c=self;(function(a){function f(a,b,d){d=(d||0)-1;for(var c=a.length;++d<c;)if(a[d]===b)return d;return-1}function l(a,b){var d=typeof b;a=a.cache;if("boolean"==d||null==b)return a[b];"number"!=d&&"string"!=d&&(d="object");var c="number"==
d?b:X+b;a=a[d]||(a[d]={});return"object"==d?a[c]&&-1<f(a[c],b)?0:-1:a[c]?0:-1}function g(a){var b=this.cache,d=typeof a;if("boolean"==d||null==a)b[a]=!0;else{"number"!=d&&"string"!=d&&(d="object");var c="number"==d?a:X+a,e=b[d]||(b[d]={});"object"==d?(e[c]||(e[c]=[])).push(a)==this.array.length&&(b[d]=!1):e[c]=!0}}function e(a){return a.charCodeAt(0)}function k(a,b){var d=a.index,c=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return d<
c?-1:1}function q(a){var b=-1,c=a.length,e=z();e["false"]=e["null"]=e["true"]=e.undefined=!1;var f=z();f.array=a;f.cache=e;for(f.push=g;++b<c;)f.push(a[b]);return!1===e.object?(d(f),null):f}function n(a){return"\\"+mb[a]}function m(){return D.pop()||[]}function z(){return y.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function b(a){a.length=0;D.length<E&&D.push(a)}
function d(a){var b=a.cache;b&&d(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;y.length<E&&y.push(a)}function t(a,b,d){b||(b=0);"undefined"==typeof d&&(d=a?a.length:0);var c=-1;d=d-b||0;for(var e=Array(0>d?0:d);++c<d;)e[c]=a[b+c];return e}function x(c){function g(a){return a&&"object"==typeof a&&!ia(a)&&Q.call(a,"__wrapped__")?a:new y(a)}function y(a){this.__wrapped__=a}function D(a,b,d,c){function e(){var c=arguments,n=f?this:b;g||(a=b[h]);d.length&&(c=c.length?(c=P.call(c),
k?c.concat(d):d.concat(c)):d);return this instanceof e?(n=wa(a.prototype)?qb(a.prototype):{},c=a.apply(n,c),wa(c)?c:n):a.apply(n,c)}var g=Aa(a),f=!d,h=b;if(f){var k=c;d=b}else if(!g){if(!c)throw new La;b=a}return e}function s(a){return Xb[a]}function E(a,b,d){var c=(c=g.indexOf)===ob?f:c;return c}function v(a){return function(b,d,c,e){"boolean"!=typeof d&&null!=d&&(c=(e=c)&&e[d]===b?B:d,d=!1);null!=c&&(c=g.createCallback(c,e));return a(b,d,c,e)}}function sa(a){var b,d;if(!a||W.call(a)!=Qa||(b=a.constructor,
Aa(b)&&!(b instanceof b)))return!1;xb(a,function(a,b){d=b});return d===B||Q.call(a,d)}function Ma(a){return Tb[a]}function mb(a,d,c,e,f,k){var n=a;"boolean"!=typeof d&&null!=d&&(e=c,c=d,d=!1);if("function"==typeof c){c="undefined"==typeof e?c:g.createCallback(c,e,1);n=c(n);if("undefined"!=typeof n)return n;n=a}if(e=wa(n)){var u=W.call(n);if(!h[u])return n;var l=ia(n)}if(!e||!d)return e?l?t(n):Ob({},n):n;e=Ja[u];switch(u){case zb:case Za:return new e(+n);case $a:case Ia:return new e(n);case Ea:return e(n.source,
T.exec(n))}u=!f;f||(f=m());k||(k=m());for(var r=f.length;r--;)if(f[r]==a)return k[r];n=l?e(n.length):{};l&&(Q.call(a,"index")&&(n.index=a.index),Q.call(a,"input")&&(n.input=a.input));f.push(a);k.push(n);(l?Z:ra)(a,function(a,b){n[b]=mb(a,d,c,B,f,k)});u&&(b(f),b(k));return n}function ba(a){var b=[];xb(a,function(a,d){Aa(a)&&b.push(d)});return b.sort()}function pb(a){for(var b=-1,d=Ka(a),c=d.length,e={};++b<c;){var g=d[b];e[a[g]]=g}return e}function pa(a,d,c,e,f,h){var k=c===C;if("function"==typeof c&&
!k){c=g.createCallback(c,e,2);var n=c(a,d);if("undefined"!=typeof n)return!!n}if(a===d)return 0!==a||1/a==1/d;var u=typeof a,l=typeof d;if(a===a&&(!a||"function"!=u&&"object"!=u)&&(!d||"function"!=l&&"object"!=l))return!1;if(null==a||null==d)return a===d;l=W.call(a);u=W.call(d);l==H&&(l=Qa);u==H&&(u=Qa);if(l!=u)return!1;switch(l){case zb:case Za:return+a==+d;case $a:return a!=+a?d!=+d:0==a?1/a==1/d:a==+d;case Ea:case Ia:return a==R(d)}u=l==Ha;if(!u){if(Q.call(a,"__wrapped__ ")||Q.call(d,"__wrapped__"))return pa(a.__wrapped__||
a,d.__wrapped__||d,c,e,f,h);if(l!=Qa)return!1;var l=a.constructor,r=d.constructor;if(l!=r&&!(Aa(l)&&l instanceof l&&Aa(r)&&r instanceof r))return!1}r=!f;f||(f=m());h||(h=m());for(l=f.length;l--;)if(f[l]==a)return h[l]==d;var t=0,n=!0;f.push(a);h.push(d);if(u){l=a.length;t=d.length;n=t==a.length;if(!n&&!k)return n;for(;t--;)if(u=l,r=d[t],k)for(;u--&&!(n=pa(a[u],r,c,e,f,h)););else if(!(n=pa(a[t],r,c,e,f,h)))break;return n}xb(d,function(b,d,g){if(Q.call(g,d))return t++,n=Q.call(a,d)&&pa(a[d],b,c,e,f,
h)});n&&!k&&xb(a,function(a,b,d){if(Q.call(d,b))return n=-1<--t});r&&(b(f),b(h));return n}function Aa(a){return"function"==typeof a}function wa(a){return!(!a||!Y[typeof a])}function rb(a){return"number"==typeof a||W.call(a)==$a}function db(a){return"string"==typeof a||W.call(a)==Ia}function Db(a,d,c){var e=arguments,f=0,h=2;if(!wa(a))return a;if(c===C)var k=e[3],n=e[4],l=e[5];else{var u=!0,n=m(),l=m();"number"!=typeof c&&(h=e.length);3<h&&"function"==typeof e[h-2]?k=g.createCallback(e[--h-1],e[h--],
2):2<h&&"function"==typeof e[h-1]&&(k=e[--h])}for(;++f<h;)(ia(e[f])?Z:ra)(e[f],function(b,d){var c,e,g=b,f=a[d];if(b&&((e=ia(b))||Yb(b))){for(g=n.length;g--;)if(c=n[g]==b){f=l[g];break}if(!c){var h;k&&(g=k(f,b),h="undefined"!=typeof g)&&(f=g);h||(f=e?ia(f)?f:[]:Yb(f)?f:{});n.push(b);l.push(f);h||(f=Db(f,b,C,k,n,l))}}else k&&(g=k(f,b),"undefined"==typeof g&&(g=b)),"undefined"!=typeof g&&(f=g);a[d]=f});u&&(b(n),b(l));return a}function nb(a){for(var b=-1,d=Ka(a),c=d.length,e=da(c);++b<c;)e[b]=a[d[b]];
return e}function Eb(a,b,d){var c=-1,e=E(),g=a?a.length:0,f=!1;d=(0>d?ha(0,g+d):d)||0;g&&"number"==typeof g?f=-1<(db(a)?a.indexOf(b,d):e(a,b,d)):ra(a,function(a){if(++c>=d)return!(f=a===b)});return f}function Na(a,b,d){var c=!0;b=g.createCallback(b,d);d=-1;var e=a?a.length:0;if("number"==typeof e)for(;++d<e&&(c=!!b(a[d],d,a)););else ra(a,function(a,d,e){return c=!!b(a,d,e)});return c}function Va(a,b,d){var c=[];b=g.createCallback(b,d);d=-1;var e=a?a.length:0;if("number"==typeof e)for(;++d<e;){var f=
a[d];b(f,d,a)&&c.push(f)}else ra(a,function(a,d,e){b(a,d,e)&&c.push(a)});return c}function eb(a,b,d){b=g.createCallback(b,d);d=-1;var c=a?a.length:0;if("number"==typeof c)for(;++d<c;){var e=a[d];if(b(e,d,a))return e}else{var f;ra(a,function(a,d,c){if(b(a,d,c))return f=a,!1});return f}}function Z(a,b,d){var c=-1,e=a?a.length:0;b=b&&"undefined"==typeof d?b:g.createCallback(b,d);if("number"==typeof e)for(;++c<e&&!1!==b(a[c],c,a););else ra(a,b);return a}function sb(a,b,d){var c=-1,e=a?a.length:0;b=g.createCallback(b,
d);if("number"==typeof e)for(var f=da(e);++c<e;)f[c]=b(a[c],c,a);else f=[],ra(a,function(a,d,e){f[++c]=b(a,d,e)});return f}function tb(a,b,d){var c=-Infinity,f=c;if(!b&&ia(a)){d=-1;for(var h=a.length;++d<h;){var k=a[d];k>f&&(f=k)}}else b=!b&&db(a)?e:g.createCallback(b,d),Z(a,function(a,d,e){d=b(a,d,e);d>c&&(c=d,f=a)});return f}function ub(a,b){var d=-1,c=a?a.length:0;if("number"==typeof c)for(var e=da(c);++d<c;)e[d]=a[d][b];return e||sb(a,b)}function fb(a,b,d,c){if(!a)return d;var e=3>arguments.length;
b=g.createCallback(b,c,4);var f=-1,h=a.length;if("number"==typeof h)for(e&&(d=a[++f]);++f<h;)d=b(d,a[f],f,a);else ra(a,function(a,c,g){d=e?(e=!1,a):b(d,a,c,g)});return d}function vb(a,b,d,c){var e=a?a.length:0,f=3>arguments.length;if("number"!=typeof e)var h=Ka(a),e=h.length;b=g.createCallback(b,c,4);Z(a,function(c,g,k){g=h?h[--e]:--e;d=f?(f=!1,a[g]):b(d,a[g],g,k)});return d}function Fb(a,b,d){var c;b=g.createCallback(b,d);d=-1;var e=a?a.length:0;if("number"==typeof e)for(;++d<e&&!(c=b(a[d],d,a)););
else ra(a,function(a,d,e){return!(c=b(a,d,e))});return!!c}function ga(a){var b=-1,c=E(),e=a?a.length:0,g=va.apply(M,P.call(arguments,1)),h=[],k=e>=p&&c===f;if(k){var n=q(g);n?(c=l,g=n):k=!1}for(;++b<e;)n=a[b],0>c(g,n)&&h.push(n);k&&d(g);return h}function kb(a,b,d){if(a){var c=0,e=a.length;if("number"!=typeof b&&null!=b){var f=-1;for(b=g.createCallback(b,d);++f<e&&b(a[f],f,a);)c++}else if(c=b,null==c||d)return a[0];return t(a,0,w(ha(0,c),e))}}function ob(a,b,d){if("number"==typeof d){var c=a?a.length:
0;d=0>d?ha(0,c+d):d||0}else if(d)return d=ya(a,b),a[d]===b?d:-1;return a?f(a,b,d):-1}function Gb(a,b,d){if("number"!=typeof b&&null!=b){var c=0,e=-1,f=a?a.length:0;for(b=g.createCallback(b,d);++e<f&&b(a[e],e,a);)c++}else c=null==b||d?1:ha(0,b);return t(a,c)}function ya(a,b,d,c){var e=0,f=a?a.length:e;d=d?g.createCallback(d,c,1):qa;for(b=d(b);e<f;)c=e+f>>>1,d(a[c])<b?e=c+1:f=c;return e}function Kb(a){for(var b=-1,d=a?tb(ub(a,"length")):0,c=da(0>d?0:d);++b<d;)c[b]=ub(a,b);return c}function Wa(a,b){for(var d=
-1,c=a?a.length:0,e={};++d<c;){var g=a[d];b?e[g]=b[d]:e[g[0]]=g[1]}return e}function gb(a,b){return Nb.fastBind||Oa&&2<arguments.length?Oa.call.apply(Oa,arguments):D(a,b,P.call(arguments,2))}function Fa(a,b,d){function c(){Ta(r);Ta(t);n=0;r=t=null}function e(){var b=w&&(!q||1<n);c();b&&(!1!==u&&(l=new hb),h=a.apply(k,f))}function g(){c();if(w||u!==b)l=new hb,h=a.apply(k,f)}var f,h,k,n=0,l=0,u=!1,r=null,t=null,w=!0;b=ha(0,b||0);if(!0===d)var q=!0,w=!1;else wa(d)&&(q=d.leading,u="maxWait"in d&&ha(b,
d.maxWait||0),w="trailing"in d?d.trailing:w);return function(){f=arguments;k=this;n++;Ta(t);if(!1===u)q&&2>n&&(h=a.apply(k,f));else{var d=new hb;r||q||(l=d);var c=u-(d-l);0>=c?(Ta(r),r=null,l=d,h=a.apply(k,f)):r||(r=la(g,c))}b!==u&&(t=la(e,b));return h}}function Lb(a){var b=P.call(arguments,1);return la(function(){a.apply(B,b)},1)}function qa(a){return a}function wb(a){Z(ba(a),function(b){var d=g[b]=a[b];g.prototype[b]=function(){var a=this.__wrapped__,b=[a];Ca.apply(b,arguments);b=d.apply(g,b);return a&&
"object"==typeof a&&a===b?this:new y(b)}})}function Mb(){return this.__wrapped__}c=c?ta.defaults(a.Object(),c,ta.pick(a,r)):a;var da=c.Array,Ya=c.Boolean,hb=c.Date,Ra=c.Function,Ga=c.Math,ka=c.Number,ea=c.Object,Sa=c.RegExp,R=c.String,La=c.TypeError,M=[],Ba=ea.prototype,Hb=c._,ib=Sa("^"+R(Ba.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Wb=Ga.ceil,Ta=c.clearTimeout,va=M.concat,Ua=Ga.floor,Ib=Ra.prototype.toString,Pa=ib.test(Pa=ea.getPrototypeOf)&&Pa,Q=Ba.hasOwnProperty,
Ca=M.push,Da=c.setImmediate,la=c.setTimeout,W=Ba.toString,Oa=ib.test(Oa=W.bind)&&Oa,qb=ib.test(qb=ea.create)&&qb,jb=ib.test(jb=da.isArray)&&jb,Jb=c.isFinite,Xa=c.isNaN,V=ib.test(V=ea.keys)&&V,ha=Ga.max,w=Ga.min,O=c.parseInt,aa=Ga.random,P=M.slice,Ga=ib.test(c.attachEvent),Ga=Oa&&!/\n|true/.test(Oa+Ga),Ja={};Ja[Ha]=da;Ja[zb]=Ya;Ja[Za]=hb;Ja[za]=Ra;Ja[Qa]=ea;Ja[$a]=ka;Ja[Ea]=Sa;Ja[Ia]=R;y.prototype=g.prototype;var Nb=g.support={};Nb.fastBind=Oa&&!Ga;g.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,
interpolate:I,variable:"",imports:{_:g}};var ia=jb,Ya=function(a){var b,d=[];if(!a||!Y[typeof a])return d;for(b in a)Q.call(a,b)&&d.push(b);return d},Ka=V?function(a){return wa(a)?V(a):[]}:Ya,Xb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tb=pb(Xb),Ob=function(a,b,d){var c,e=a,f=e;if(!e)return f;var h=arguments,k=0,n="number"==typeof d?2:h.length;if(3<n&&"function"==typeof h[n-2])var l=g.createCallback(h[--n-1],h[n--],2);else 2<n&&"function"==typeof h[n-1]&&(l=h[--n]);for(;++k<n;)if((e=
h[k])&&Y[typeof e])for(var u=-1,r=Y[typeof e]&&Ka(e),t=r?r.length:0;++u<t;)c=r[u],f[c]=l?l(f[c],e[c]):e[c];return f},Pb=function(a,b,d){var c,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,k="number"==typeof d?2:g.length;++h<k;)if((e=g[h])&&Y[typeof e])for(var n=-1,l=Y[typeof e]&&Ka(e),u=l?l.length:0;++n<u;)c=l[n],"undefined"==typeof f[c]&&(f[c]=e[c]);return f},xb=function(a,b,d){var c;if(!a||!Y[typeof a])return a;b=b&&"undefined"==typeof d?b:g.createCallback(b,d);for(c in a)if(!1===b(a[c],c,a))break;
return a},ra=function(a,b,d){if(!a||!Y[typeof a])return a;b=b&&"undefined"==typeof d?b:g.createCallback(b,d);for(var c=-1,e=Y[typeof a]&&Ka(a),f=e?e.length:0;++c<f&&(d=e[c],!1!==b(a[d],d,a)););return a},Yb=function(a){if(!a||W.call(a)!=Qa)return!1;var b=a.valueOf,d="function"==typeof b&&(d=Pa(b))&&Pa(d);return d?a==d||Pa(a)==d:sa(a)},Ya=v(function ua(a,b,d){for(var c=-1,e=a?a.length:0,f=[];++c<e;){var g=a[c];d&&(g=d(g,c,a));ia(g)?Ca.apply(f,b?g:ua(g)):f.push(g)}return f}),yb=v(function(a,c,e){var g=
-1,h=E(),k=a?a.length:0,n=[],u=!c&&k>=p&&h===f,r=e||u?m():n;if(u){var t=q(r);t?(h=l,r=t):(u=!1,r=e?r:(b(r),n))}for(;++g<k;){var t=a[g],w=e?e(t,g,a):t;if(c?!g||r[r.length-1]!==w:0>h(r,w))(e||u)&&r.push(w),n.push(t)}u?(b(r.array),d(r)):e&&b(r);return n});Ga&&(ab&&"function"==typeof Da)&&(Lb=gb(Da,c));Da=8==O(S+"08")?O:function(a,b){return O(db(a)?a.replace(L,""):a,b||0)};g.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};g.assign=Ob;g.at=function(a){for(var b=
-1,d=va.apply(M,P.call(arguments,1)),c=d.length,e=da(c);++b<c;)e[b]=a[d[b]];return e};g.bind=gb;g.bindAll=function(a){for(var b=1<arguments.length?va.apply(M,P.call(arguments,1)):ba(a),d=-1,c=b.length;++d<c;){var e=b[d];a[e]=gb(a[e],a)}return a};g.bindKey=function(a,b){return D(a,b,P.call(arguments,2),C)};g.compact=function(a){for(var b=-1,d=a?a.length:0,c=[];++b<d;){var e=a[b];e&&c.push(e)}return c};g.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length;d--;)b=[a[d].apply(this,
b)];return b[0]}};g.countBy=function(a,b,d){var c={};b=g.createCallback(b,d);Z(a,function(a,d,e){d=R(b(a,d,e));Q.call(c,d)?c[d]++:c[d]=1});return c};g.createCallback=function(a,b,d){if(null==a)return qa;var c=typeof a;if("function"!=c){if("object"!=c)return function(b){return b[a]};var e=Ka(a);return function(b){for(var d=e.length,c=!1;d--&&(c=pa(b[e[d]],a[e[d]],C)););return c}}return"undefined"==typeof b||ja&&!ja.test(Ib.call(a))?a:1===d?function(d){return a.call(b,d)}:2===d?function(d,c){return a.call(b,
d,c)}:4===d?function(d,c,e,g){return a.call(b,d,c,e,g)}:function(d,c,e){return a.call(b,d,c,e)}};g.debounce=Fa;g.defaults=Pb;g.defer=Lb;g.delay=function(a,b){var d=P.call(arguments,2);return la(function(){a.apply(B,d)},b)};g.difference=ga;g.filter=Va;g.flatten=Ya;g.forEach=Z;g.forIn=xb;g.forOwn=ra;g.functions=ba;g.groupBy=function(a,b,d){var c={};b=g.createCallback(b,d);Z(a,function(a,d,e){d=R(b(a,d,e));(Q.call(c,d)?c[d]:c[d]=[]).push(a)});return c};g.initial=function(a,b,d){if(!a)return[];var c=
0,e=a.length;if("number"!=typeof b&&null!=b){var f=e;for(b=g.createCallback(b,d);f--&&b(a[f],f,a);)c++}else c=null==b||d?1:b||c;return t(a,0,w(ha(0,e-c),e))};g.intersection=function(a){for(var c=arguments,e=c.length,g=-1,h=m(),k=-1,n=E(),u=a?a.length:0,r=[],t=m();++g<e;){var w=c[g];h[g]=n===f&&(w?w.length:0)>=p&&q(g?c[g]:t)}a:for(;++k<u;){var H=h[0],w=a[k];if(0>(H?l(H,w):n(t,w))){g=e;for((H||t).push(w);--g;)if(H=h[g],0>(H?l(H,w):n(c[g],w)))continue a;r.push(w)}}for(;e--;)(H=h[e])&&d(H);b(h);b(t);
return r};g.invert=pb;g.invoke=function(a,b){var d=P.call(arguments,2),c=-1,e="function"==typeof b,g=a?a.length:0,f=da("number"==typeof g?g:0);Z(a,function(a){f[++c]=(e?b:a[b]).apply(a,d)});return f};g.keys=Ka;g.map=sb;g.max=tb;g.memoize=function(a,b){function d(){var c=d.cache,e=X+(b?b.apply(this,arguments):arguments[0]);return Q.call(c,e)?c[e]:c[e]=a.apply(this,arguments)}d.cache={};return d};g.merge=Db;g.min=function(a,b,d){var c=Infinity,f=c;if(!b&&ia(a)){d=-1;for(var h=a.length;++d<h;){var k=
a[d];k<f&&(f=k)}}else b=!b&&db(a)?e:g.createCallback(b,d),Z(a,function(a,d,e){d=b(a,d,e);d<c&&(c=d,f=a)});return f};g.omit=function(a,b,d){var c=E(),e="function"==typeof b,f={};if(e)b=g.createCallback(b,d);else var h=va.apply(M,P.call(arguments,1));xb(a,function(a,d,g){if(e?!b(a,d,g):0>c(h,d))f[d]=a});return f};g.once=function(a){var b,d;return function(){if(b)return d;b=!0;d=a.apply(this,arguments);a=null;return d}};g.pairs=function(a){for(var b=-1,d=Ka(a),c=d.length,e=da(c);++b<c;){var g=d[b];e[b]=
[g,a[g]]}return e};g.partial=function(a){return D(a,P.call(arguments,1))};g.partialRight=function(a){return D(a,P.call(arguments,1),null,C)};g.pick=function(a,b,d){var c={};if("function"!=typeof b)for(var e=-1,f=va.apply(M,P.call(arguments,1)),h=wa(a)?f.length:0;++e<h;){var k=f[e];k in a&&(c[k]=a[k])}else b=g.createCallback(b,d),xb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)});return c};g.pluck=ub;g.range=function(a,b,d){a=+a||0;d=+d||1;null==b&&(b=a,a=0);var c=-1;b=ha(0,Wb((b-a)/d));for(var e=da(b);++c<
b;)e[c]=a,a+=d;return e};g.reject=function(a,b,d){b=g.createCallback(b,d);return Va(a,function(a,d,c){return!b(a,d,c)})};g.rest=Gb;g.shuffle=function(a){var b=-1,d=a?a.length:0,c=da("number"==typeof d?d:0);Z(a,function(a){var d=Ua(aa()*(++b+1));c[b]=c[d];c[d]=a});return c};g.sortBy=function(a,b,c){var e=-1,f=a?a.length:0,h=da("number"==typeof f?f:0);b=g.createCallback(b,c);Z(a,function(a,d,c){var f=h[++e]=z();f.criteria=b(a,d,c);f.index=e;f.value=a});f=h.length;for(h.sort(k);f--;)a=h[f],h[f]=a.value,
d(a);return h};g.tap=function(a,b){b(a);return a};g.throttle=function(a,b,c){var e=!0,f=!0;!1===c?e=!1:wa(c)&&(e="leading"in c?c.leading:e,f="trailing"in c?c.trailing:f);c=z();c.leading=e;c.maxWait=b;c.trailing=f;a=Fa(a,b,c);d(c);return a};g.times=function(a,b,d){a=-1<(a=+a)?a:0;var c=-1,e=da(a);for(b=g.createCallback(b,d,1);++c<a;)e[c]=b(c);return e};g.toArray=function(a){return a&&"number"==typeof a.length?t(a):nb(a)};g.transform=function(a,b,d,c){var e=ia(a);b=g.createCallback(b,c,4);null==d&&
(e?d=[]:(c=(c=a&&a.constructor)&&c.prototype,d=wa(c)?qb(c):{}));(e?Z:ra)(a,function(a,c,e){return b(d,a,c,e)});return d};g.union=function(a){ia(a)||(arguments[0]=a?P.call(a):M);return yb(va.apply(M,arguments))};g.uniq=yb;g.unzip=Kb;g.values=nb;g.where=Va;g.without=function(a){return ga(a,P.call(arguments,1))};g.wrap=function(a,b){return function(){var d=[a];Ca.apply(d,arguments);return b.apply(this,d)}};g.zip=function(a){return a?Kb(arguments):[]};g.zipObject=Wa;g.collect=sb;g.drop=Gb;g.each=Z;g.extend=
Ob;g.methods=ba;g.object=Wa;g.select=Va;g.tail=Gb;g.unique=yb;wb(g);g.chain=g;g.prototype.chain=function(){return this};g.clone=mb;g.cloneDeep=function(a,b,d){return mb(a,!0,b,d)};g.contains=Eb;g.escape=function(a){return null==a?"":R(a).replace(ca,s)};g.every=Na;g.find=eb;g.findIndex=function(a,b,d){var c=-1,e=a?a.length:0;for(b=g.createCallback(b,d);++c<e;)if(b(a[c],c,a))return c;return-1};g.findKey=function(a,b,d){var c;b=g.createCallback(b,d);ra(a,function(a,d,e){if(b(a,d,e))return c=d,!1});return c};
g.has=function(a,b){return a?Q.call(a,b):!1};g.identity=qa;g.indexOf=ob;g.isArguments=function(a){return W.call(a)==H};g.isArray=ia;g.isBoolean=function(a){return!0===a||!1===a||W.call(a)==zb};g.isDate=function(a){return a?"object"==typeof a&&W.call(a)==Za:!1};g.isElement=function(a){return a?1===a.nodeType:!1};g.isEmpty=function(a){var b=!0;if(!a)return b;var d=W.call(a),c=a.length;if(d==Ha||(d==Ia||d==H)||d==Qa&&"number"==typeof c&&Aa(a.splice))return!c;ra(a,function(){return b=!1});return b};g.isEqual=
pa;g.isFinite=function(a){return Jb(a)&&!Xa(parseFloat(a))};g.isFunction=Aa;g.isNaN=function(a){return rb(a)&&a!=+a};g.isNull=function(a){return null===a};g.isNumber=rb;g.isObject=wa;g.isPlainObject=Yb;g.isRegExp=function(a){return a?"object"==typeof a&&W.call(a)==Ea:!1};g.isString=db;g.isUndefined=function(a){return"undefined"==typeof a};g.lastIndexOf=function(a,b,d){var c=a?a.length:0;for("number"==typeof d&&(c=(0>d?ha(0,c+d):w(d,c-1))+1);c--;)if(a[c]===b)return c;return-1};g.mixin=wb;g.noConflict=
function(){c._=Hb;return this};g.parseInt=Da;g.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b?(b=a,a=0):b=+b||0;var d=aa();return a%1||b%1?a+w(d*(b-a+parseFloat("1e-"+((d+"").length-1))),b):a+Ua(d*(b-a+1))};g.reduce=fb;g.reduceRight=vb;g.result=function(a,b){var d=a?a[b]:B;return Aa(d)?a[b]():d};g.runInContext=x;g.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:Ka(a).length};g.some=Fb;g.sortedIndex=ya;g.template=function(a,b,d){var c=g.templateSettings;a||(a="");d=Pb({},
d,c);var e=Pb({},d.imports,c.imports),c=Ka(e),e=nb(e),f,h=0,k=d.interpolate||fa,l="__p += '",k=Sa((d.escape||fa).source+"|"+k.source+"|"+(k===I?oa:fa).source+"|"+(d.evaluate||fa).source+"|$","g");a.replace(k,function(b,d,c,e,g,k){c||(c=e);l+=a.slice(h,k).replace(u,n);d&&(l+="' +\n__e("+d+") +\n'");g&&(f=!0,l+="';\n"+g+";\n__p += '");c&&(l+="' +\n((__t = ("+c+")) == null ? '' : __t) +\n'");h=k+b.length;return b});var l=l+"';\n",r=k=d.variable;r||(k="obj",l="with ("+k+") {\n"+l+"\n}\n");l=(f?l.replace(N,
""):l).replace(G,"$1").replace(K,"$1;");l="function("+k+") {\n"+(r?"":k+" || ("+k+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";d="\n/*\n//@ sourceURL="+(d.sourceURL||"/lodash/template/source["+U++ +"]")+"\n*/";try{var t=Ra(c,"return "+l+d).apply(B,e)}catch(w){throw w.source=l,w;}if(b)return t(b);t.source=l;return t};g.unescape=function(a){return null==a?"":R(a).replace(na,Ma)};g.uniqueId=
function(a){var b=++F;return R(null==a?"":a)+b};g.all=Na;g.any=Fb;g.detect=eb;g.findWhere=eb;g.foldl=fb;g.foldr=vb;g.include=Eb;g.inject=fb;ra(g,function(a,b){g.prototype[b]||(g.prototype[b]=function(){var b=[this.__wrapped__];Ca.apply(b,arguments);return a.apply(g,b)})});g.first=kb;g.last=function(a,b,d){if(a){var c=0,e=a.length;if("number"!=typeof b&&null!=b){var f=e;for(b=g.createCallback(b,d);f--&&b(a[f],f,a);)c++}else if(c=b,null==c||d)return a[e-1];return t(a,ha(0,e-c))}};g.take=kb;g.head=kb;
ra(g,function(a,b){g.prototype[b]||(g.prototype[b]=function(b,d){var c=a(this.__wrapped__,b,d);return null==b||d&&"function"!=typeof b?c:new y(c)})});g.VERSION="1.3.1";g.prototype.toString=function(){return R(this.__wrapped__)};g.prototype.value=Mb;g.prototype.valueOf=Mb;Z(["join","pop","shift"],function(a){var b=M[a];g.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});Z(["push","reverse","sort","unshift"],function(a){var b=M[a];g.prototype[a]=function(){b.apply(this.__wrapped__,
arguments);return this}});Z(["concat","slice","splice"],function(a){var b=M[a];g.prototype[a]=function(){return new y(b.apply(this.__wrapped__,arguments))}});return g}var B,D=[],y=[],F=0,C={},X=+new Date+"",p=75,E=40,N=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,na=/&(?:amp|lt|gt|quot|#39);/g,oa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,I=/<%=([\s\S]+?)%>/g,ja=(ja=/\bthis\b/)&&ja.test(x)&&ja,S=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
L=RegExp("^["+S+"]*0+(?=.$)"),fa=/($^)/,ca=/[&<>"']/g,u=/['\n\r\t\u2028\u2029\\]/g,r="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),U=0,H="[object Arguments]",Ha="[object Array]",zb="[object Boolean]",Za="[object Date]",za="[object Function]",$a="[object Number]",Qa="[object Object]",Ea="[object RegExp]",Ia="[object String]",h={};h[za]=!1;h[H]=h[Ha]=h[zb]=h[Za]=h[$a]=h[Qa]=h[Ea]=h[Ia]=!0;var Y={"boolean":!1,
"function":!0,object:!0,number:!1,string:!1,undefined:!1},mb={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},sa=Y[typeof v]&&v,ab=Y[typeof s]&&s&&s.exports==sa&&s,Ma=Y[typeof c]&&c;!Ma||Ma.global!==Ma&&Ma.window!==Ma||(a=Ma);var ta=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=ta,define(function(){return ta})):sa&&!sa.nodeType?ab?(ab.exports=ta)._=ta:sa._=ta:a._=ta})(this)},{}],48:[function(m,s,v){(function(){var c=m("./media").extend({name:"image",
urlRoot:function(){return this.app.config.baseUrl+"/images"}});s.exports=c})()},{"./media":49}],50:[function(m,s,v){(function(){var c=m("./media").extend({name:"video",urlRoot:function(){return this.app.config.baseUrl+"/videos"}});s.exports=c})()},{"./media":49}],11:[function(m,s,v){s.exports=function(c,a,f){var l=c.event,g,e;g=l.special.debouncedresize={setup:function(){c(this).on("resize",g.handler)},teardown:function(){c(this).off("resize",g.handler)},handler:function(a,c){var f=this,b=arguments,
d=function(){a.type="debouncedresize";l.dispatch.apply(f,b)};e&&clearTimeout(e);c?d():e=setTimeout(d,g.threshold)},threshold:150};var k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(a){function e(){var f=c(D),g=c(y);d&&(y.length?d.reject(q,f,g):d.resolve(q));c.isFunction(a)&&a.call(b,q,f,g)}function g(a,b){a.src!==k&&-1===c.inArray(a,m)&&(m.push(a),b?y.push(a):D.push(a),c.data(a,"imagesLoaded",{isBroken:b,src:a.src}),l&&d.notifyWith(c(a),[b,q,
c(D),c(y)]),q.length===m.length&&(setTimeout(e),q.unbind(".imagesLoaded")))}var b=this,d=c.isFunction(c.Deferred)?c.Deferred():0,l=c.isFunction(d.notify),q=b.find("img").add(b.filter("img")),m=[],D=[],y=[];c.isPlainObject(a)&&c.each(a,function(b,c){if("callback"===b)a=c;else if(d)d[b](c)});q.length?q.bind("load.imagesLoaded error.imagesLoaded",function(a){g(a.target,"error"===a.type)}).each(function(a,b){var d=b.src,e=c.data(b,"imagesLoaded");if(e&&e.src===d)g(b,e.isBroken);else if(b.complete&&b.naturalWidth!==
f)g(b,0===b.naturalWidth||0===b.naturalHeight);else if(b.readyState||b.complete)b.src=k,b.src=d}):e();return d?d.promise(b):b};var q=c(a);c.Elastislide=function(a,e){this.$el=c(e);this._init(a)};c.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(a,c,e){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}};c.Elastislide.prototype={_init:function(a){var e=m("./modernizr");this.options=
c.extend(!0,{},c.Elastislide.defaults,a);var f=this;this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[e.prefixed("transition")];this.support=e.csstransitions&&e.csstransforms;this.current=this.options.start;this.isSliding=!1;this.$items=this.$el.children("li");this.itemsCount=this.$items.length;if(0===this.itemsCount)return!1;this._validate();this.$items.detach();this.$el.empty();
this.$el.append(this.$items);this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>');this.hasTransition=!1;this.hasTransitionTimeout=setTimeout(function(){f._addTransition()},100);this.$el.imagesLoaded(function(){f.$el.show();f._layout();f._configure();f.hasTransition?(f._removeTransition(),f._slideToItem(f.current),f.$el.on(f.transEndEventName,function(){f.$el.off(f.transEndEventName);f._setWrapperSize();f._addTransition();f._initEvents()})):
(clearTimeout(f.hasTransitionTimeout),f._setWrapperSize(),f._initEvents(),f._slideToItem(f.current),setTimeout(function(){f._addTransition()},25));f.options.onReady()})},_validate:function(){0>this.options.speed&&(this.options.speed=500);if(1>this.options.minItems||this.options.minItems>this.itemsCount)this.options.minItems=1;if(0>this.options.start||this.options.start>this.itemsCount-1)this.options.start=0;"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation=
"horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>');this.$carousel=this.$el.parent();this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var a=this.$items.find("img:first");this.imgSize={width:a.outerWidth(!0),height:a.outerHeight(!0)};this._setItemsSize();"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height);this._addControls()},_addTransition:function(){this.support&&
this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing);this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s");this.hasTransition=!1},_addControls:function(){var a=this;this.$navigation=c('<nav><span class="elastislide-prev">Previous</span><span class="elastislide-next">Next</span></nav>').appendTo(this.$wrapper);this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(c){a._slide("prev");
return!1});this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(c){a._slide("next");return!1})},_setItemsSize:function(){var a="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:a+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height});"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+
parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<
this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var a=this;q.on("debouncedresize.elastislide",function(){a._setItemsSize();a._configure();a._slideToItem(a.current)});this.$el.on(this.transEndEventName,function(){a._onEndTransition()});if("horizontal"===this.options.orientation)this.$el.on({swipeleft:function(){a._slide("next")},swiperight:function(){a._slide("prev")}});else this.$el.on({swipeup:function(){a._slide("next")},
swipedown:function(){a._slide("prev")}});this.$el.on("click.elastislide","li",function(e){var f=c(this);a.options.onClick(f,f.index(),e)})},_destroy:function(a){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide");q.off(".elastislide");this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper);this.$items.css({width:"auto","max-width":"none","max-height":"none"});this.$navigation.remove();this.$wrapper.remove();a&&
a.call()},_toggleControls:function(a,c){c?"next"===a?this.$navNext.show():this.$navPrev.show():"next"===a?this.$navNext.hide():this.$navPrev.hide()},_slide:function(a,e){if(this.isSliding)return!1;this.options.onBeforeSlide();this.isSliding=!0;var g=this,b=this.translation||0,d="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),k=this.itemsCount*d,l="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(e===f){d*=this.fitCount;
if(0>d)return!1;if("next"===a&&k-(Math.abs(b)+d)<l)d=k-(Math.abs(b)+l),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===a&&0>Math.abs(b)-d)d=Math.abs(b),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var q="next"===a?Math.abs(b)+Math.abs(d):Math.abs(b)-Math.abs(d);0<q?this._toggleControls("prev",!0):this._toggleControls("prev",!1);q<k-l?this._toggleControls("next",!0):this._toggleControls("next",!1)}e="next"===a?b-d:b+d}else d=Math.abs(e),Math.max(k,
l)-d<l&&(e=-(Math.max(k,l)-l)),0<d?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(k,l)-l>d?this._toggleControls("next",!0):this._toggleControls("next",!1);this.translation=e;if(b===e)return this._onEndTransition(),!1;this.support?"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+e+"px)"):this.$el.css("transform","translateY("+e+"px)"):(c.fn.applyStyle=this.hasTransition?c.fn.animate:c.fn.css,b="horizontal"===this.options.orientation?{left:e}:
{top:e},this.$el.stop().applyStyle(b,c.extend(!0,[],{duration:this.options.speed,complete:function(){g._onEndTransition()}})));this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1;this.options.onAfterSlide()},_slideTo:function(a){a=a||this.current;var c=Math.abs(this.translation)||0,e="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),b=c+this.$carousel.width(),d=Math.abs(a*e);(d+e>b||d<c)&&this._slideToItem(a)},_slideToItem:function(a){a=
"horizontal"===this.options.orientation?a*this.$items.outerWidth(!0):a*this.$items.outerHeight(!0);this._slide("",-a)},add:function(a){var c=this,e=this.current,b=this.$items.eq(this.current);this.$items=this.$el.children("li");this.itemsCount=this.$items.length;this.current=b.index();this._setItemsSize();this._configure();this._removeTransition();e<this.current?this._slideToItem(this.current):this._slide("next",this.translation);setTimeout(function(){c._addTransition()},25);a&&a.call()},setCurrent:function(a,
c){this.current=a;this._slideTo();c&&c.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(a){this._destroy(a)}};c.fn.elastislide=function(e){var f=c.data(this,"elastislide");if("string"===typeof e){var g=Array.prototype.slice.call(arguments,1);this.each(function(){f?c.isFunction(f[e])&&"_"!==e.charAt(0)?f[e].apply(f,g):a.console&&a.console.error("no such method '"+
e+"' for elastislide self"):a.console&&a.console.error("cannot call methods on elastislide prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){f?f._init():f=c.data(this,"elastislide",new c.Elastislide(e,this))});return f}}},{"./modernizr":51}],20:[function(m,s,v){(function(){var c=m("../base"),a=m("../layout/navbar.js"),f=m("../layout/footer.js"),c=c.extend({template:m("../../templates/routes/index.hbs"),initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),
"change",this.render,this)},afterRender:function(){var c=new a({app:this.app}),g=new f({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(g,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});s.exports=c})()},{"../../templates/routes/index.hbs":54,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],21:[function(m,s,v){(function(){var c=m("../base"),a=m("../layout/navbar.js"),f=m("../layout/footer.js"),c=
c.extend({template:m("../../templates/errors/no_pages.hbs"),initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),"change",this.render,this)},afterRender:function(){var c=new a({app:this.app}),g=new f({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(g,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});s.exports=c})()},{"../../templates/errors/no_pages.hbs":56,"../base":55,"../layout/footer.js":53,
"../layout/navbar.js":52}],23:[function(m,s,v){(function(){var c=m("../base"),a=m("../layout/navbar.js"),f=m("../layout/footer.js"),c=c.extend({template:m("../../templates/routes/login.hbs"),initialize:function(a){this.app=a.app;this.user=this.app.getUser();this.listenTo(this.user,"change",this.render,this);this.renderOnReady(this.user)},afterRender:function(){var c=new a({app:this.app}),g=new f({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(g,this.$("#footer"));this.eachSubview(function(a){a.render()})},
context:function(){return this.getContext({user:this.user.attributes})},events:{submit:"login","click a.app":"handleAppLink","click a.provisionTestAccount":"provisionTestAccount"},login:function(a){a.preventDefault();a.stopPropagation();a=this.$("input[name=username]").val();var c=this.$("input[name=password]").val();this.user.set({username:a,password:c,id:null,path:null,policy:null,token:null}).save()},provisionTestAccount:function(a){a.preventDefault();a.stopPropagation();this.user.set({id:"test"}).save()}});
s.exports=c})()},{"../../templates/routes/login.hbs":57,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],25:[function(m,s,v){(function(){var c=m("../base"),a=m("../layout/navbar.js"),f=m("../layout/footer.js"),c=c.extend({template:m("../../templates/routes/review.hbs"),initialize:function(a){this.app=a.app;this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.unprocessed,"add change remove sort",
this.render,this)},afterRender:function(){var c=new a({app:this.app}),g=new f({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(g,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){var a=[];this.unprocessed.forEach(function(c){a.push(c.templateVars())});return this.getContext({unprocessed:a,nothingToReview:0===a.length})}});s.exports=c})()},{"../../templates/routes/review.hbs":58,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],
27:[function(m,s,v){(function(){var c=m("../base"),a=m("../../helpers/JqueryLoader"),f=m("../layout/navbar.js"),l=m("../layout/footer.js"),c=c.extend({template:m("../../templates/routes/contact.hbs"),initialize:function(a){this.app=a.app},events:{submit:"send","click a.app":"handleAppLink"},afterRender:function(){var a=new f({app:this.app}),c=new l({app:this.app});this.appendSubview(a,this.$("#header"));this.appendSubview(c,this.$("#footer"));this.eachSubview(function(a){a.render()})},nameVal:"",
emailVal:"",messageVal:"",context:function(){return this.getContext({nameVal:this.nameVal,emailVal:this.emailVal,messageVal:this.messageVal})},send:function(c){c.preventDefault();c.stopPropagation();var e=this;e.nameVal=e.$('form input[name="name"]').val();e.emailVal=e.$('form input[name="email"]').val();e.messageVal=e.$("form textarea").val();e.app.clearFlash();e.app.setFlash("info","Sending message...");e.$("form button").button("loading");a.ajax({url:e.app.config.baseUrl+"/users/contact.json",
success:function(a){a.error?e.app.error(a.error):e.app.setFlash("success","Message sent!")},error:function(a,c,f){e.app.error(f)},complete:function(){e.$("form button").button("reset");e.render()},data:{name:e.nameVal,email:e.emailVal,message:e.messageVal,id:e.app.bootstrap.userId},dataType:"json",timeout:2E4,type:"POST"})}});s.exports=c})()},{"../../helpers/JqueryLoader":10,"../../templates/routes/contact.hbs":59,"../base":55,"../layout/footer.js":53,"../layout/navbar.js":52}],31:[function(m,s,v){(function(){var c=
m("../../base"),a=m("../../layout/navbar.js"),f=m("../../layout/footer.js"),l=m("../../routes/media/grid.js"),c=c.extend({template:m("../../../templates/routes/pages/show.hbs"),initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});this.pageName=a.pageName;var c=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);c.once("ready",function(){var f=c.find(function(c){return c.attributes.name.toLowerCase()===
a.pageName.toLowerCase()});f?(this.page=f,this.listenTo(this.page,"change",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.render()},this)},afterRender:function(){var c=new a({app:this.app}),e=new l({app:this.app,pageName:this.pageName}),k=new f({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(e,this.$("#content"));this.appendSubview(k,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){return this.getContext()}});
s.exports=c})()},{"../../../templates/routes/pages/show.hbs":61,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,"../../routes/media/grid.js":60}],33:[function(m,s,v){(function(){var c=m("../../base"),a=m("../../../helpers/lib/holder.js"),f=m("../../layout/navbar.js"),l=m("../../layout/footer.js"),c=c.extend({template:m("../../../templates/routes/pages/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.app":"handleAppLink"},initialize:function(a){this.app=
a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var c=this.app.db.fetchCollection("pages");this.listenTo(this.page,"invalid",function(){this.app.error(this.page.validationError)},this);c.once("ready",function(){var f=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});f?(this.page=f,this.listenTo(this.page,"change",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();
this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this);this.render()},this)},context:function(){var a=[],c=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(f){a.push(f.templateVars(c))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){var c=this,e=new f({app:c.app}),k=new l({app:c.app});c.appendSubview(e,c.$("#header"));c.appendSubview(k,c.$("#footer"));c.eachSubview(function(a){a.render()});
c.$(".sortable").sortable().bind("sortupdate",function(){c.readSortOrder.apply(c,arguments)});c.$(".switch").bootstrapSwitch();a.run()},performSave:function(a){var c=this;a.preventDefault();a=this.$("input[name=name]").val();var f=this.$("input[name=isPublished]").parent().hasClass("switch-on");this.app.clearFlash();this.page.save({userId:c.app.getUser().attributes.id,name:a,isPublished:f},{success:function(){c.app.db.fetchCollection("pages").fetch();c.app.setFlash("success","Page Saved!")},error:c.app.error})},
performDelete:function(a){a.preventDefault();a.stopPropagation();var c=this;if(confirm("Are you sure you want to delete "+c.page.attributes.name+"?"))c.page.destroy({success:function(){c.app.db.fetchCollection("pages").remove(c.page);c.app.navigate("",{trigger:!0})},error:c.app.error});else return!1},readSortOrder:function(a){a.preventDefault();a.stopPropagation();var c=this,f=[],l=[];c.$(".sortable").children().each(function(a,g){var m=c.page.getMedia().get($(g).attr("data-uuid"));f.push(m);l.push({ID:m.attributes.id,
NAME:m.attributes.name,TYPE:m.attributes.type.toLowerCase(),THUMB:m.attributes.thumbnailS3key})});c.page.getMedia().reset(f);c.page.set("items",l);c.page.save({},{success:function(){c.app.setFlash("success","Page Saved!")},error:c.app.error})}});s.exports=c})()},{"../../../helpers/lib/holder.js":62,"../../../templates/routes/pages/edit.hbs":63,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52}],37:[function(m,s,v){(function(){var c=m("../../base"),a=m("../../layout/navbar.js"),
f=m("../../layout/footer.js"),c=c.extend({template:m("../../../templates/routes/media/add.hbs"),events:{"click a.filepicker":"startFilepicker","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var c=this.app.db.fetchCollection("pages");this.listenTo(this.app.getUser(),"change",this.render,this);c.once("ready",function(){var e=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});
e?(this.page=e,this.listenTo(this.page,"change",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.render()},this)},afterRender:function(){var c=new a({app:this.app}),g=new f({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(g,this.$("#footer"));this.eachSubview(function(a){a.render()})},context:function(){var a=encodeURIComponent(this.page.attributes.name);return this.getContext({page:this.page.attributes,pickMediaUrl:"page/"+
a+"/pickMedia"})},startFilepicker:function(a,c){var e=this,f=encodeURIComponent(this.page.attributes.name);a&&(a.preventDefault(),a.stopPropagation());this.page.id?this.page.addMedia(function(a,c){a?304===a.code?e.app.logoutFromInactivity():101!==a.code&&e.app.error(a):c&&e.app.navigate("page/"+f,{trigger:!0})},c):e.app.error("The page hasn't loaded yet, try again in a few seconds")}});s.exports=c})()},{"../../../templates/routes/media/add.hbs":64,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52}],
51:[function(m,s,v){(function(){var c=function(a,c,l){function g(a,b){for(var d in a){var c=a[d];if(!~(""+c).indexOf("-")&&m[c]!==l)return"pfx"==b?c:!0}return!1}function e(a,c,e){var f=a.charAt(0).toUpperCase()+a.slice(1),k=(a+" "+b.join(f+" ")+f).split(" ");if("string"===typeof c||"undefined"===typeof c)return g(k,c);k=(a+" "+d.join(f+" ")+f).split(" ");a:{a=k;for(var n in a)if(f=c[a[n]],f!==l){c=!1===e?a[n]:"function"===typeof f?f.bind(e||c):f;break a}c=!1}return c}var k={},q=c.documentElement,
n=c.createElement("modernizr"),m=n.style,z=" -webkit- -moz- -o- -ms- ".split(" "),b=["Webkit","Moz","O","ms"],d=["webkit","moz","o","ms"],n={},t=[],x=t.slice,B,D=function(a,b,d,e){var g,k,l=c.createElement("div"),n=c.body,t=n||c.createElement("body");if(parseInt(d,10))for(;d--;)g=c.createElement("div"),g.id=e?e[d]:"modernizr"+(d+1),l.appendChild(g);d=['&#173;<style id="smodernizr">',a,"</style>"].join("");l.id="modernizr";(n?l:t).innerHTML+=d;t.appendChild(l);n||(t.style.background="",t.style.overflow=
"hidden",k=q.style.overflow,q.style.overflow="hidden",q.appendChild(t));a=b(l,a);n?l.parentNode.removeChild(l):(t.parentNode.removeChild(t),q.style.overflow=k);return!!a},y={}.hasOwnProperty,F;F="undefined"!==typeof y&&"undefined"!==typeof y.call?function(a,b){return y.call(a,b)}:function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var d=x.call(arguments,1),
c=function(){if(this instanceof c){var e=function(){};e.prototype=b.prototype;var e=new e,f=b.apply(e,d.concat(x.call(arguments)));return Object(f)===f?f:e}return b.apply(a,d.concat(x.call(arguments)))};return c});n.touch=function(){var b;"ontouchstart"in a||a.DocumentTouch&&c instanceof DocumentTouch?b=!0:D(["@media (",z.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){b=9===a.offsetTop});return b};n.csstransforms=function(){return!!e("transform")};
n.csstransitions=function(){return e("transition")};for(var C in n)F(n,C)&&(B=C.toLowerCase(),k[B]=n[C](),t.push((k[B]?"":"no-")+B));k.addTest=function(a,b){if("object"==typeof a)for(var d in a)F(a,d)&&k.addTest(d,a[d]);else{a=a.toLowerCase();if(k[a]!==l)return k;b="function"==typeof b?b():b;q.className+=" "+(b?"":"no-")+a;k[a]=b}return k};m.cssText="";n=null;(function(a,b){function d(){var a=u.elements;return"string"==typeof a?a.split(" "):a}function c(a){var b=y[a[q]];b||(b={},m++,a[q]=m,y[m]=b);
return b}function e(a,d,f){d||(d=b);if(x)return d.createElement(a);f||(f=c(d));d=f.cache[a]?f.cache[a].cloneNode():n.test(a)?(f.cache[a]=f.createElem(a)).cloneNode():f.createElem(a);return d.canHaveChildren&&!l.test(a)?f.frag.appendChild(d):d}function f(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag());a.createElement=function(d){return u.shivMethods?e(d,a,b):b.createElem(d)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+
d().join().replace(/\w+/g,function(a){b.createElem(a);b.frag.createElement(a);return'c("'+a+'")'})+");return n}")(u,b.frag)}function g(a){a||(a=b);var d=c(a);if(u.shivCSS&&!t&&!d.hasCSS){var e,k=a;e=k.createElement("p");k=k.getElementsByTagName("head")[0]||k.documentElement;e.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>";e=k.insertBefore(e.lastChild,k.firstChild);d.hasCSS=!!e}x||f(a,d);return a}var k=a.html5||
{},l=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,n=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,t,q="_html5shiv",m=0,y={},x;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";t="hidden"in a;var d;if(!(d=1==a.childNodes.length)){b.createElement("a");var c=b.createDocumentFragment();d="undefined"==typeof c.cloneNode||"undefined"==typeof c.createDocumentFragment||"undefined"==typeof c.createElement}x=
d}catch(e){x=t=!0}})();var u={elements:k.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==k.shivCSS,supportsUnknownElements:x,shivMethods:!1!==k.shivMethods,type:"default",shivDocument:g,createElement:e,createDocumentFragment:function(a,e){a||(a=b);if(x)return a.createDocumentFragment();e=e||c(a);for(var f=e.frag.cloneNode(),g=0,k=d(),l=k.length;g<l;g++)f.createElement(k[g]);
return f}};a.html5=u;g(b)})(this,c);k._version="2.6.2";k._prefixes=z;k._domPrefixes=d;k._cssomPrefixes=b;k.testProp=function(a){return g([a])};k.testAllProps=e;k.testStyles=D;k.prefixed=function(a,b,d){return b?e(a,b,d):e(a,"pfx")};q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+t.join(" "));return k}(this,this.document);(function(a,c,l){function g(a){return"[object Function]"==B.call(a)}function e(a){return"string"==typeof a}function k(){}function q(a){return!a||"loaded"==a||
"complete"==a||"uninitialized"==a}function n(){var a=D.shift();y=1;a?a.t?t(function(){("c"==a.t?T.injectCss:T.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),n()):y=0}function m(a,b,d,e,g,k,l){function r(d){if(!H&&q(p.readyState)&&(A.r=H=1,!y&&n(),p.onload=p.onreadystatechange=null,d)){"img"!=a&&t(function(){X.removeChild(p)},50);for(var c in K[b])K[b].hasOwnProperty(c)&&K[b][c].onload()}}l=l||T.errorTimeout;var p=c.createElement(a),H=0,F=0,A={t:d,s:b,e:g,a:k,x:l};1===K[b]&&(F=1,K[b]=[]);"object"==a?p.data=
b:(p.src=b,p.type=a);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){r.call(this,F)};D.splice(e,0,A);"img"!=a&&(F||2===K[b]?(X.insertBefore(p,C?null:x),t(r,l)):K[b].push(p))}function z(a,b,d,c,f){return y=0,b=b||"j",e(a)?m("c"==b?s:p,a,b,this.i++,d,c,f):(D.splice(this.i++,0,a),1==D.length&&n()),this}function b(){var a=T;return a.loader={load:z,i:0},a}var d=c.documentElement,t=a.setTimeout,x=c.getElementsByTagName("script")[0],B={}.toString,D=[],y=0,F="MozAppearance"in d.style,
C=F&&!!c.createRange().compareNode,X=C?d:x.parentNode,d=a.opera&&"[object Opera]"==B.call(a.opera),d=!!c.attachEvent&&!d,p=F?"object":d?"script":"img",s=d?"script":p,v=Array.isArray||function(a){return"[object Array]"==B.call(a)},G=[],K={},na={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},oa,T;T=function(a){function d(a){a=a.split("!");var b=G.length,c=a.pop(),e=a.length,c={url:c,origUrl:c,prefixes:a},f,g,k;for(g=0;g<e;g++)k=a[g].split("="),(f=na[k.shift()])&&(c=f(c,k));for(g=0;g<b;g++)c=
G[g](c);return c}function c(a,e,f,k,n){var u=d(a),t=u.autoCallback;u.url.split(".").pop().split("?").shift();u.bypass||(e&&(e=g(e)?e:e[a]||e[k]||e[a.split("/").pop().split("?")[0]]),u.instead?u.instead(a,e,f,k,n):(K[u.url]?u.noexec=!0:K[u.url]=1,f.load(u.url,u.forceCSS||!u.forceJS&&"css"==u.url.split(".").pop().split("?").shift()?"c":l,u.noexec,u.attrs,u.timeout),(g(e)||g(t))&&f.load(function(){b();e&&e(u.origUrl,n,k);t&&t(u.origUrl,n,k);K[u.url]=2})))}function f(a,b){function d(a,f){if(a)if(e(a))f||
(n=function(){var a=[].slice.call(arguments);t.apply(this,a);q()}),c(a,n,b,0,l);else{if(Object(a)===a)for(p in m=function(){var b=0,d;for(d in a)a.hasOwnProperty(d)&&b++;return b}(),a)a.hasOwnProperty(p)&&(!f&&!--m&&(g(n)?n=function(){var a=[].slice.call(arguments);t.apply(this,a);q()}:n[p]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b);q()}}(t[p])),c(a[p],n,b,p,l))}else!f&&q()}var l=!!a.test,u=a.load||a.both,n=a.callback||k,t=n,q=a.complete||k,m,p;d(l?a.yep:a.nope,
!!u);u&&d(u)}var n,t,u=this.yepnope.loader;if(e(a))c(a,0,u,0);else if(v(a))for(n=0;n<a.length;n++)t=a[n],e(t)?c(t,0,u,0):v(t)?T(t):Object(t)===t&&f(t,u);else Object(a)===a&&f(a,u)};T.addPrefix=function(a,b){na[a]=b};T.addFilter=function(a){G.push(a)};T.errorTimeout=1E4;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",oa=function(){c.removeEventListener("DOMContentLoaded",oa,0);c.readyState="complete"},0));a.yepnope=b();a.yepnope.executeStack=n;
a.yepnope.injectJs=function(a,b,d,e,g,l){var u=c.createElement("script"),r,m;e=e||T.errorTimeout;u.src=a;for(m in d)u.setAttribute(m,d[m]);b=l?n:b||k;u.onreadystatechange=u.onload=function(){!r&&q(u.readyState)&&(r=1,b(),u.onload=u.onreadystatechange=null)};t(function(){r||(r=1,b(1))},e);g?u.onload():x.parentNode.insertBefore(u,x)};a.yepnope.injectCss=function(a,b,d,e,g,l){e=c.createElement("link");var u;b=l?n:b||k;e.href=a;e.rel="stylesheet";e.type="text/css";for(u in d)e.setAttribute(u,d[u]);g||
(x.parentNode.insertBefore(e,x),t(b,0))}})(this,document);c.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};s.exports=c})()},{}],44:[function(m,s,v){(function(){var c=m("backbone"),a=m("lodash"),f=m("./JqueryLoader.js"),l=c.sync;c.$=f;c.sync=function(c,e,f){f=f||{};f.attrs=f.attrs||a.clone(e.toJSON());f.timeout=f.timeout||2E4;f.parse=f.parse||!0;e.urlRoot&&e.methodUrl?f.url=e.methodUrl(c.toLowerCase()):"function"===typeof e.url?f.url=e.url():e.url&&(f.url=e.url);f.crossDomain||(f.crossDomain=
!0);f.xhrFields||(f.xhrFields={withCredentials:!0});if(f.success){var q=f.success;f.success=function(a,l,m){var b;a[e.name]&&a[e.name].errors?b=a[e.name].errors:a.error?b=a.error:a.errors&&(b=a.errors);if(b)if(f.error){var d=function(){f.error({responseText:JSON.stringify({errors:b})})};"read"!==c?e.fetch({success:function(){d()},error:function(){d()}}):d()}else return q(a,l,m);else return q(a,l,m)}}return l(c,e,f)};s.exports=c})()},{"./JqueryLoader.js":10,backbone:65,lodash:46}],45:[function(m,s,
v){(function(){m("path");var c=m("lodash"),a={user:m("../models/user"),image:m("../models/image"),video:m("../models/video"),page:m("../models/page"),customization:m("../models/customization")},f={pagemedia:m("../collections/pageMedia"),pages:m("../collections/pages"),unprocesseduploads:m("../collections/unprocessedUploads"),images:m("../collections/images"),videos:m("../collections/videos")};s.exports=function(l){var g=this;this.cache={};this.createModel=function(e,f){e=e.toLowerCase();f=f||{};if(c.find(a,
function(a,c){return c===e}))return new a[e](f,{app:l});throw Error('Cannot find Model "'+e+'"');};this.createCollection=function(a,g){a=a.toLowerCase();g=g||{};g=c.clone(g);g.app=l;if(c.find(f,function(c,f){return f===a}))return new f[a]([],g);throw Error('Cannot find Collection "'+a+'"');};this.fetchModel=function(a,c,f){a=a.toLowerCase();var n="uuid://models/"+a+(c?"/"+c:""),m;g.cache[n]?(m=g.cache[n],setTimeout(function(){m.isFetched&&m.trigger("ready")},1)):(m=this.createModel(a),g.cache[n]=
m,f&&m.set(f),c&&m.set({id:c}),setTimeout(function(){f?(m.isFetched=!0,m.trigger("ready")):m.fetch({success:function(){m.isFetched=!0;m.trigger("ready")},error:function(){m.isFetched=!0;m.trigger("ready");l.error.apply(l,arguments)}})},1));return m};this.fetchCollection=function(a,f){a=a.toLowerCase();var l=c.filter(f,function(a,c){return"app"!=c}),l="uuid://collections/"+a+"/"+JSON.stringify(l),n;g.cache[l]?(n=g.cache[l],setTimeout(function(){n.isFetched&&n.trigger("ready")},1)):(n=this.createCollection(a,
f),g.cache[l]=n,setTimeout(function(){n.fetch({success:function(){n.isFetched=!0;n.trigger("ready")}})},1));return n}}})()},{"../collections/images":72,"../collections/pageMedia":69,"../collections/pages":70,"../collections/unprocessedUploads":71,"../collections/videos":73,"../models/customization":68,"../models/image":48,"../models/page":67,"../models/user":66,"../models/video":50,lodash:46,path:4}],62:[function(m,s,v){(function(){var c=c||{};(function(a,c){function l(a){a=a.match(/^(\W)?(.*)/);
a=document["getElement"+(a[1]?"#"==a[1]?"ById":"sByClassName":"sByTagName")](a[2]);var b=[];null!=a&&(a.length?b=a:0==a.length?b=a:b=[a]);return b}function g(a,b){var d={},c;for(c in a)d[c]=a[c];for(var e in b)d[e]=b[e];return d}function e(a,b,c,e){var f=[b.height,b.width].sort(),g=Math.round(f[1]/16);Math.round(f[0]/16);var f=Math.max(c.size,g),g=b.width*e,k=b.height*e,l=c.font?c.font:"sans-serif";d.width=g;d.height=k;a.textAlign="center";a.textBaseline="middle";a.fillStyle=c.background;a.fillRect(0,
0,g,k);a.fillStyle=c.foreground;a.font="bold "+f+"px "+l;b=c.text?c.text:b.width+"x"+b.height;1<a.measureText(b).width/g&&(f=c.size/(a.measureText(b).width/g));a.font="bold "+f*e+"px "+l;a.fillText(b,g/2,k/2,g);return d.toDataURL("image/png")}function k(a,d,c,f){var k=c.dimensions,l=c.theme,n=c.text?decodeURIComponent(c.text):c.text,q=k.width+"x"+k.height,l=n?g(l,{text:n}):l,l=c.font?g(l,{font:c.font}):l,m=1;window.devicePixelRatio&&1<window.devicePixelRatio&&(m=window.devicePixelRatio);if("image"==
a){d.setAttribute("data-src",f);d.setAttribute("alt",n?n:l.text?l.text+" ["+q+"]":q);if(b||!c.auto)d.style.width=k.width+"px",d.style.height=k.height+"px";b?d.style.backgroundColor=l.background:d.setAttribute("src",e(t,k,l,m))}else b||(d.style.backgroundImage="url("+e(t,k,l,m)+")",d.style.backgroundSize=k.width+"px "+k.height+"px")}function q(a,b,d){var c=b.dimensions;d=b.theme;var e=b.text,c=c.width+"x"+c.height;d=e?g(d,{text:e}):d;var f=document.createElement("div");f.style.backgroundColor=d.background;
f.style.color=d.foreground;f.className=a.className+" holderjs-fluid";f.style.width=b.dimensions.width+(0<b.dimensions.width.indexOf("%")?"":"px");f.style.height=b.dimensions.height+(0<b.dimensions.height.indexOf("%")?"":"px");f.id=a.id;a.style.width=0;a.style.height=0;d.text?f.appendChild(document.createTextNode(d.text)):(f.appendChild(document.createTextNode(c)),x.push(f),setTimeout(n,0));a.parentNode.insertBefore(f,a.nextSibling);window.jQuery&&jQuery(function(b){b(a).on("load",function(){a.style.width=
f.style.width;a.style.height=f.style.height;b(a).show();b(f).remove()})})}function n(){for(i in x)if(x.hasOwnProperty(i)){var a=x[i],b=a.firstChild;a.style.lineHeight=a.offsetHeight+"px";b.data=a.offsetWidth+"x"+a.offsetHeight}}function m(b,d){var c={theme:B.themes.gray},e=!1;sl=b.length;for(j=0;j<sl;j++){var f=b[j];a.flags.dimensions.match(f)?(e=!0,c.dimensions=a.flags.dimensions.output(f)):a.flags.fluid.match(f)?(e=!0,c.dimensions=a.flags.fluid.output(f),c.fluid=!0):a.flags.colors.match(f)?c.theme=
a.flags.colors.output(f):d.themes[f]?c.theme=d.themes[f]:a.flags.text.match(f)?c.text=a.flags.text.output(f):a.flags.font.match(f)?c.font=a.flags.font.output(f):a.flags.auto.match(f)&&(c.auto=!0)}return e?c:!1}var z=!1,b=!1,d=document.createElement("canvas");document.getElementsByClassName||(document.getElementsByClassName=function(a){var b=document,d,c=[];if(b.querySelectorAll)return b.querySelectorAll("."+a);if(b.evaluate)for(b=b.evaluate(".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",b,
null,0,null);d=b.iterateNext();)c.push(d);else for(b=b.getElementsByTagName("*"),a=RegExp("(^|\\s)"+a+"(\\s|$)"),d=0;d<b.length;d++)a.test(b[d].className)&&c.push(b[d]);return c});window.getComputedStyle||(window.getComputedStyle=function(a,b){return this.el=a,this.getPropertyValue=function(b){var d=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),d.test(b)&&(b=b.replace(d,function(a,b,d){return d.toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this});Object.prototype.hasOwnProperty||
(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])});if(d.getContext)if(0>d.toDataURL("image/png").indexOf("data:image/png"))b=!0;else var t=d.getContext("2d");else b=!0;var x=[],B={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},
stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};a.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(a){a=this.regex.exec(a);return{width:+a[1],height:+a[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(a){a=this.regex.exec(a);return{width:a[1],height:a[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(a){a=this.regex.exec(a);return{size:B.themes.gray.size,foreground:"#"+a[2],background:"#"+a[1]}}},
text:{regex:/text\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},font:{regex:/font\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},auto:{regex:/^auto$/}};for(var D in a.flags)a.flags.hasOwnProperty(D)&&(a.flags[D].match=function(a){return a.match(this.regex)});a.add_theme=function(b,d){null!=b&&null!=d&&(B.themes[b]=d);return a};a.add_image=function(b,d){var c=l(d);if(c.length)for(var e=0,f=c.length;e<f;e++){var g=document.createElement("img");g.setAttribute("data-src",b);c[e].appendChild(g)}return a};
a.run=function(b){b=g(B,b);var d=[];imageNodes=b.images instanceof window.NodeList?b.images:b.images instanceof window.Node?[b.images]:l(b.images);bgnodes=b.elements instanceof window.NodeList?b.bgnodes:b.bgnodes instanceof window.Node?[b.bgnodes]:l(b.bgnodes);z=!0;f=0;for(e=imageNodes.length;f<e;f++)d.push(imageNodes[f]);var c=document.getElementById("holderjs-style");c||(c=document.createElement("style"),c.setAttribute("id","holderjs-style"),c.type="text/css",document.getElementsByTagName("head")[0].appendChild(c));
c.styleSheet?c.styleSheet+=b.stylesheet:c.textContent+=b.stylesheet;for(var c=RegExp(b.domain+'/(.*?)"?\\)'),e=bgnodes.length,f=0;f<e;f++){var n=window.getComputedStyle(bgnodes[f],null).getPropertyValue("background-image"),t=n.match(c);t&&(t=m(t[1].split("/"),b))&&k("background",bgnodes[f],t,n)}e=d.length;for(f=0;f<e;f++)n=d[f].getAttribute("src")||d[f].getAttribute("data-src"),null!=n&&0<=n.indexOf(b.domain)&&(t=m(n.substr(n.lastIndexOf(b.domain)+b.domain.length+1).split("/"),b))&&(t.fluid?q(d[f],
t,n):k("image",d[f],t,n));return a};(function(a,b){var d=!1,c=!0,e=a.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",k=e.addEventListener?"removeEventListener":"detachEvent",l=e.addEventListener?"":"on",n=function(c){"readystatechange"==c.type&&"complete"!=e.readyState||(("load"==c.type?a:e)[k](l+c.type,n,!1),d||!(d=!0)||b.call(a,null))},t=function(){try{f.doScroll("left")}catch(a){setTimeout(t,50);return}n("poll")};if("complete"==e.readyState)b.call(a,"lazy");else{if(e.createEventObject&&
f.doScroll){try{c=!a.frameElement}catch(q){}c&&t()}e[g](l+"DOMContentLoaded",n,!1);e[g](l+"readystatechange",n,!1);a[g](l+"load",n,!1)}})(c,function(){window.addEventListener?(window.addEventListener("resize",n,!1),window.addEventListener("orientationchange",n,!1)):window.attachEvent("onresize",n);z||a.run()});"function"===typeof define&&define.amd&&define("Holder",[],function(){return a})})(c,window);s.exports=c})()},{}],74:[function(m,s,v){(function(){var c=m("../helpers/BackboneLoader.js").Model.extend({initialize:function(a,
c){this.set(a);this.app=c.app||{}},methodUrl:function(a){var c;"function"===typeof this.urlRoot?c=this.urlRoot():this.urlRoot&&(c=this.urlRoot);return"delete"==a||"update"==a||"read"==a?c+"/"+this.attributes.id+".json":"create"==a?c+".json":!1}});s.exports=c})()},{"../helpers/BackboneLoader.js":44}],75:[function(m,s,v){(function(){var c=m("../helpers/BackboneLoader.js").Collection.extend({initialize:function(a,c){this.set(a);this.app=c.app||{}}});s.exports=c})()},{"../helpers/BackboneLoader.js":44}],
47:[function(m,s,v){(function(){var c=new function(){var a,c=[],l={},g=function(a,c,e){if(null!=a)if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(c,e);else if(a.length===+a.length)for(var f=0,b=a.length;f<b&&c.call(e,a[f],f,a)!==l;f++);else for(f in a)if(hasOwnProperty.call(a,f)&&c.call(e,a[f],f,a)===l)break},e=function(a){g(Array.prototype.slice.call(arguments,1),function(c){if(c)for(var e in c)a[e]=c[e]});return a};g(["videojs","vjs","_V_"],function(c){if(void 0!==window[c])return a=
window[c],!1});try{a=m("videojs")}catch(k){}this.resizeVideos=function(e){e&&(e.preventDefault(),e.stopPropagation());g(c,function(c){var e=document.getElementById(c.id);if(!e||!e.parentNode||!e.parentNode.parentNode)return!1;var f=a(c.id),b;b=e.parentNode.parentNode;e&&(null==e.id.match(/^.*html5_api/)&&e.parentNode)&&(b=c.maxWidth&&c.maxWidth<b.offsetWidth?c.maxWidth:b.offsetWidth,!c.upscale&&b>c.width&&(b=c.width),c=c.height*(b/c.width),f.width(b),f.height(c),e.style.width=b+"px",e.style.height=
c+"px",e.parentNode.style.width=b+"px",e.parentNode.style.height=c+"px")})};this.loadVideo=function(k,l,m){var z=this,b,d,t,x=!1,B={},D,y=!1;l.sources=l.sources||[];l.attributes=l.attributes||{};t={id:"js_thumb_video","class":"video-js vjs-default-skin",controls:"controls",preload:"auto",resize:!1,center:!1,width:960,height:540,timeout:5E3};a?l.sources.length?(l.sources=e([],l.sources),l.attributes=e({},t,l.attributes),l.vjs=l.vjs||{},g(a.players,function(a,b){if(b===l.attributes.id)return a.dispose(),
!1}),videoDims={},b=document.createElement("video"),g(l.attributes,function(a,d){b.setAttribute(d,a)}),g(l.sources,function(a){var d=document.createElement("source");d.setAttribute("src",a.src);d.setAttribute("type",a.type);b.appendChild(d)}),d=document.createElement("div"),d.appendChild(b),l.attributes.center&&(d.style.margin="0 auto"),k.appendChild(d),a(b,l.vjs,function(){g(d.childNodes,function(a){if(a.attributes&&a.attributes.id&&a.attributes.id.value===l.attributes.id)return element=a,!1});g(element.childNodes,
function(a){if("object"===a.tagName.toLowerCase())return x=!0,!1});onReady=function(a,b){y||(y=!0,clearTimeout(D),a&&(B.width=a.target.videoWidth,B.height=a.target.videoHeight,z.resizeVideos()),m(null,element,this,void 0===b))};l.attributes.resize&&(B={id:element.attributes.id.value,parent:k,width:this.width(),height:this.height(),upscale:!0===l.attributes.resize.upscale},"object"===typeof l.attributes.resize&&(B.maxWidth=l.attributes.resize.maxWidth),c.push(B));z.resizeVideos();x?onReady(null,!0):
(D=setTimeout(function(){onReady(null,!0)},l.attributes.timeout),a(l.attributes.id).on("loadedmetadata",onReady))})):m("Videos require at least one source"):m("Please include Video.js to use this function")};this.screenshot=function(a,c){var e=document.createElement("canvas");c=c||{};var f=c.origWidth||a.videoWidth,b=c.origHeight||a.videoHeight;if(!f||!b)return window.console&&console.log("Video has invalid dimensions or metadata has not yet loaded."),!1;e.width=f;e.height=b;e.getContext("2d").drawImage(a,
0,0,f,b);return e.toDataURL("image/png")};this.resize=function(a,c){var e=c.maxWidth||50,f=c.maxHeight||50,b=document.createElement("canvas"),d=document.createElement("canvas"),g=b.getContext("2d"),k=d.getContext("2d"),l=a.width||c.origWidth,m=a.height||c.origHeight,y,F;y=c.maxWidth/l;var C=m*y;F=c.maxHeight/m;d.width=l;d.height=m;k.drawImage(a,0,0);b.width=e;b.height=f;C<f?(y=(e-d.width*F)/2,g.drawImage(d,0,0,d.width,d.height,y,0,d.width*F,d.height*F)):(F=(f-d.height*y)/2,g.drawImage(d,0,0,d.width,
d.height,0,F,d.width*y,d.height*y));return b.toDataURL()};this.resizeData=function(a,c,e){c=c||{};var f=this,b=new Image;b.onload=function(){e(null,f.resize(b,c))};b.src=a}};"undefined"!=typeof window&&"undefined"==typeof s?(window.jsthumb=c,window.onresize=c.resizeVideos):s.exports=c})()},{videojs:76}],53:[function(m,s,v){(function(){var c=m("../base").extend({template:m("../../templates/layout/footer.hbs"),initialize:function(a){this.app=a.app;this.listenTo(this.app.getUser(),"change",this.render,
this);this.renderOnReady(this.app.getUser())},context:function(){return this.getContext({copyrightYear:(new Date).getFullYear()})}});s.exports=c})()},{"../../templates/layout/footer.hbs":77,"../base":55}],60:[function(m,s,v){(function(){var c=m("../../base"),a=m("../../../helpers/lib/holder.js"),c=c.extend({template:m("../../../templates/routes/media/grid.hbs"),initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var c=this.app.db.fetchCollection("pages"),
g=this.app.db.fetchCollection("unprocessedUploads");c.once("ready",function(){var e=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});e?(this.page=e,this.listenTo(this.page,"change",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.media.fetch();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this);this.listenTo(g,
"add change remove reset sync",function(){this.media.fetch()},this);this.render()},this)},context:function(){var a=[],c=encodeURIComponent(this.page.attributes.name);this.media&&this.media.forEach(function(g){a.push(g.templateVars(c))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){a.run()}});s.exports=c})()},{"../../../helpers/lib/holder.js":62,"../../../templates/routes/media/grid.hbs":78,"../../base":55}],79:[function(m,s,v){(function(){var c=m("../../base").extend({template:m("../../../templates/routes/media/thumb.hbs"),
initialize:function(a){this.app=a.app;this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.app,"iframeResize",this.resizeIframe,this);this.listenTo(this.app,"thumbnailCaptured",this.saveThumbnail,this);this.listenTo(this.app,"captureThumbnail",this.captureThumbnail,this);this.renderOnReady(this.media)},context:function(){var a=this.media.templateVars(),c={media:{sources:[],attributes:{id:"media_"+this.app.util.uuid(10),resize:{upscale:!1},
width:this.media.attributes.width||960,height:this.media.attributes.height||540}},dimensions:this.app.config.thumbnailDims,domain:document.domain+(80===window.location.port?"":":"+window.location.port)};"video"===this.media.attributes.type.toLowerCase()?c.media.sources=[{src:a.hdUrl,type:this.app.util.mime("video/mp4")}]:c.media.sources=[{src:a.url,type:this.app.util.mime(a.mimeType)}];return this.getContext({media:a,thumberUrl:a.s3key?this.app.config.thumberUrl+"#"+encodeURIComponent(JSON.stringify(c)):
null})},afterRender:function(){this.app.messenger.targetFrame=this.$el.find("iframe")[0]},resizeIframe:function(a){this.$el.find("iframe").attr("height",parseInt(a)+60)},saveThumbnail:function(a){this.app.setFlash("info","Please Wait, Saving Image...")},captureThumbnail:function(a,c,l){var g=this;g.app.messenger.send("capture",[c],function(e,k){if(e===c){var m=g.app.db.fetchModel(a,c);m.once("ready",function(){m.set(l);m.useThumbnail(k.substring(k.indexOf(",")+1))})}})}});s.exports=c})()},{"../../../templates/routes/media/thumb.hbs":80,
"../../base":55}],76:[function(m,s,v){(function(){function c(a){return function(){throw Error('The "'+a+"\" method is not available on the playback technology's API");}}document.createElement("video");document.createElement("audio");var a=function(b,d,c){if("string"===typeof b){0===b.indexOf("#")&&(b=b.slice(1));if(a.players[b])return a.players[b];b=a.el(b)}if(!b||!b.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return b.player||new a.Player(b,d,c)},f=a;a.CDN_VERSION=
"4.0";a.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://";a.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};"GENERATED_CDN_VSN"!==a.CDN_VERSION&&(f.options.flash.swf=a.ACCESS_PROTOCOL+"vjs.zencdn.net/"+a.CDN_VERSION+"/video-js.swf");a.players={};a.CoreObject=a.CoreObject=function(){};a.CoreObject.extend=function(b){var d,
c;b=b||{};d=b.init||b.init||this.prototype.init||this.prototype.init||function(){};c=function(){d.apply(this,arguments)};c.prototype=a.obj.create(this.prototype);c.prototype.constructor=c;c.extend=a.CoreObject.extend;c.create=a.CoreObject.create;for(var e in b)b.hasOwnProperty(e)&&(c.prototype[e]=b[e]);return c};a.CoreObject.create=function(){var b=a.obj.create(this.prototype);this.apply(b,arguments);return b};a.on=function(b,d,c){var e=a.getData(b);e.handlers||(e.handlers={});e.handlers[d]||(e.handlers[d]=
[]);c.guid||(c.guid=a.guid++);e.handlers[d].push(c);e.dispatcher||(e.disabled=!1,e.dispatcher=function(d){if(!e.disabled){d=a.fixEvent(d);var c=e.handlers[d.type];if(c)for(var c=c.slice(0),f=0,g=c.length;f<g&&!d.isImmediatePropagationStopped();f++)c[f].call(b,d)}});1==e.handlers[d].length&&(document.addEventListener?b.addEventListener(d,e.dispatcher,!1):document.attachEvent&&b.attachEvent("on"+d,e.dispatcher))};a.off=function(b,d,c){if(a.hasData(b)){var e=a.getData(b);if(e.handlers)if(d){var f=e.handlers[d];
if(f){if(!c)e.handlers[d]=[];else if(c.guid)for(e=0;e<f.length;e++)f[e].guid===c.guid&&f.splice(e--,1);a.cleanUpEvents(b,d)}}else for(f in e.handlers)d=f,e.handlers[d]=[],a.cleanUpEvents(b,d)}};a.cleanUpEvents=function(b,d){var c=a.getData(b);0===c.handlers[d].length&&(delete c.handlers[d],document.removeEventListener?b.removeEventListener(d,c.dispatcher,!1):document.detachEvent&&b.detachEvent("on"+d,c.dispatcher));a.isEmpty(c.handlers)&&(delete c.handlers,delete c.dispatcher,delete c.disabled);a.isEmpty(c)&&
a.removeData(b)};a.fixEvent=function(a){function d(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var e=a||window.event;a={};for(var f in e)"layerX"!==f&&"layerY"!==f&&(a[f]=e[f]);a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){e.preventDefault&&e.preventDefault();a.returnValue=!1;a.isDefaultPrevented=d};a.isDefaultPrevented=c;a.stopPropagation=function(){e.stopPropagation&&e.stopPropagation();
a.cancelBubble=!0;a.isPropagationStopped=d};a.isPropagationStopped=c;a.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation();a.isImmediatePropagationStopped=d;a.stopPropagation()};a.isImmediatePropagationStopped=c;if(null!=a.clientX){f=document.documentElement;var g=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0);a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||
0)}a.which=a.charCode||a.keyCode;null!=a.button&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a};a.trigger=function(b,d){var c=a.hasData(b)?a.getData(b):{},e=b.parentNode||b.ownerDocument;"string"===typeof d&&(d={type:d,target:b});d=a.fixEvent(d);c.dispatcher&&c.dispatcher.call(b,d);if(e&&!d.isPropagationStopped())a.trigger(e,d);else if(!e&&!d.isDefaultPrevented()&&(c=a.getData(d.target),d.target[d.type])){c.disabled=!0;if("function"===typeof d.target[d.type])d.target[d.type]();c.disabled=
!1}return!d.isDefaultPrevented()};a.one=function(b,d,c){a.on(b,d,function(){a.off(b,d,arguments.callee);c.apply(this,arguments)})};var l=Object.prototype.hasOwnProperty;a.createEl=function(a,d){var c=document.createElement(a||"div"),e;for(e in d)l.call(d,e)&&(-1!==e.indexOf("aria-")||"role"==e?c.setAttribute(e,d[e]):c[e]=d[e]);return c};a.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};a.obj={};a.obj.create=Object.create||function(a){function d(){}d.prototype=a;return new d};a.obj.each=
function(a,d,c){for(var e in a)l.call(a,e)&&d.call(c||this,e,a[e])};a.obj.merge=function(a,d){if(!d)return a;for(var c in d)l.call(d,c)&&(a[c]=d[c]);return a};a.obj.deepMerge=function(b,d){var c,e,f;b=a.obj.copy(b);for(c in d)l.call(d,c)&&(e=b[c],f=d[c],a.obj.isPlain(e)&&a.obj.isPlain(f)?b[c]=a.obj.deepMerge(e,f):b[c]=d[c]);return b};a.obj.copy=function(b){return a.obj.merge({},b)};a.obj.isPlain=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};
a.bind=function(b,d,c){d.guid||(d.guid=a.guid++);var e=function(){return d.apply(b,arguments)};e.guid=c?c+"_"+d.guid:d.guid;return e};a.cache={};a.guid=1;a.expando="vdata"+(new Date).getTime();a.getData=function(b){var d=b[a.expando];d||(d=b[a.expando]=a.guid++,a.cache[d]={});return a.cache[d]};a.hasData=function(b){b=b[a.expando];return!(!b||a.isEmpty(a.cache[b]))};a.removeData=function(b){var d=b[a.expando];if(d){delete a.cache[d];try{delete b[a.expando]}catch(c){b.removeAttribute?b.removeAttribute(a.expando):
b[a.expando]=null}}};a.isEmpty=function(a){for(var d in a)if(null!==a[d])return!1;return!0};a.addClass=function(a,d){-1==(" "+a.className+" ").indexOf(" "+d+" ")&&(a.className=""===a.className?d:a.className+" "+d)};a.removeClass=function(a,d){if(-1!=a.className.indexOf(d)){for(var c=a.className.split(" "),e=c.length-1;0<=e;e--)c[e]===d&&c.splice(e,1);a.className=c.join(" ")}};a.TEST_VID=a.createEl("video");a.USER_AGENT=navigator.userAgent;a.IS_IPHONE=!!a.USER_AGENT.match(/iPhone/i);a.IS_IPAD=!!a.USER_AGENT.match(/iPad/i);
a.IS_IPOD=!!a.USER_AGENT.match(/iPod/i);a.IS_IOS=a.IS_IPHONE||a.IS_IPAD||a.IS_IPOD;a.IOS_VERSION=function(){var b=a.USER_AGENT.match(/OS (\d+)_/i);if(b&&b[1])return b[1]}();a.IS_ANDROID=!!a.USER_AGENT.match(/Android.*AppleWebKit/i);a.ANDROID_VERSION=function(){var b=a.USER_AGENT.match(/Android (\d+)\./i);return b&&b[1]?b[1]:null}();a.IS_FIREFOX=function(){return!!a.USER_AGENT.match("Firefox")};a.getAttributeValues=function(a){var d={};if(a&&a.attributes&&0<a.attributes.length)for(var c=a.attributes,
e,f,g=c.length-1;0<=g;g--){e=c[g].name;f=c[g].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+e+","))f=null!==f?!0:!1;d[e]=f}return d};a.getComputedDimension=function(a,d){var c="";document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(d):a.currentStyle&&(c=a["client"+d.substr(0,1).toUpperCase()+d.substr(1)]+"px");return c};a.insertFirst=function(a,d){d.firstChild?d.insertBefore(a,d.firstChild):
d.appendChild(a)};a.support={};a.el=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};a.formatTime=function(a,d){d=d||a;var c=Math.floor(a%60),e=Math.floor(a/60%60),f=Math.floor(a/3600),g=Math.floor(d/60%60),k=Math.floor(d/3600),f=0<f||0<k?f+":":"";return f+(((f||10<=g)&&10>e?"0"+e:e)+":")+(10>c?"0"+c:c)};a.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return!1}};a.unblockTextSelection=function(){document.onselectstart=function(){return!0}};
a.trim=function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")};a.round=function(a,d){d||(d=0);return Math.round(a*Math.pow(10,d))/Math.pow(10,d)};a.createTimeRange=function(a,d){return{length:1,start:function(){return a},end:function(){return d}}};a.get=function(a,d,c){var e=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(d){}throw Error("This browser does not support XMLHttpRequest.");
});var f=new XMLHttpRequest;try{f.open("GET",a)}catch(g){c(g)}f.onreadystatechange=function(){4===f.readyState&&(200===f.status||e&&0===f.status?d(f.responseText):c&&c())};try{f.send()}catch(k){c&&c(k)}};a.setLocalStorage=function(b,d){try{var c=window.localStorage||!1;c&&(c[b]=d)}catch(e){22==e.code||1014==e.code?a.log("LocalStorage Full (VideoJS)",e):18==e.code?a.log("LocalStorage not allowed (VideoJS)",e):a.log("LocalStorage Error (VideoJS)",e)}};a.getAbsoluteURL=function(b){b.match(/^https?:\/\//)||
(b=a.createEl("div",{innerHTML:'<a href="'+b+'">x</a>'}).firstChild.href);return b};a.log=function(){a.log.history=a.log.history||[];a.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};a.findPosition=function(a){var d,c;a.getBoundingClientRect&&a.parentNode&&(d=a.getBoundingClientRect());if(!d)return{left:0,top:0};a=document.documentElement;c=document.body;return{left:d.left+(window.pageXOffset||c.scrollLeft)-(a.clientLeft||c.clientLeft||0),top:d.top+
(window.pageYOffset||c.scrollTop)-(a.clientTop||c.clientTop||0)}};a.Component=a.CoreObject.extend({init:function(b,d,c){this.player_=b;this.options_=a.obj.copy(this.options_);d=this.options(d);this.id_=d.id||(d.el&&d.el.id?d.el.id:b.id()+"_component_"+a.guid++);this.name_=d.name||null;this.el_=d.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(c)}});a.Component.prototype.dispose=function(){if(this.children_)for(var b=this.children_.length-
1;0<=b;b--)this.children_[b].dispose&&this.children_[b].dispose();this.childNameIndex_=this.childIndex_=this.children_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);a.removeData(this.el_);this.el_=null};a.Component.prototype.player=function(){return this.player_};a.Component.prototype.options=function(b){return void 0===b?this.options_:this.options_=a.obj.deepMerge(this.options_,b)};a.Component.prototype.createEl=function(b,d){return a.createEl(b,d)};a.Component.prototype.el=
function(){return this.el_};a.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};a.Component.prototype.id=function(){return this.id_};a.Component.prototype.name=function(){return this.name_};a.Component.prototype.children=function(){return this.children_};a.Component.prototype.getChildById=function(a){return this.childIndex_[a]};a.Component.prototype.getChild=function(a){return this.childNameIndex_[a]};a.Component.prototype.addChild=function(b,d){var c,e;"string"===typeof b?
(e=b,d=d||{},c=d.componentClass||a.capitalize(e),d.name=e,c=new a[c](this.player_||this,d)):c=b;this.children_.push(c);"function"===typeof c.id&&(this.childIndex_[c.id()]=c);(e=e||c.name&&c.name())&&(this.childNameIndex_[e]=c);"function"===typeof c.el&&c.el()&&this.contentEl().appendChild(c.el());return c};a.Component.prototype.removeChild=function(a){"string"===typeof a&&(a=this.getChild(a));if(a&&this.children_){for(var d=!1,c=this.children_.length-1;0<=c;c--)if(this.children_[c]===a){d=!0;this.children_.splice(c,
1);break}d&&(this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null,(d=a.el())&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el()))}};a.Component.prototype.initChildren=function(){var b=this.options_;if(b&&b.children){var d=this;a.obj.each(b.children,function(a,b){!1!==b&&(b.loadEvent||(d[a]=d.addChild(a,b)))})}};a.Component.prototype.buildCSSClass=function(){return""};a.Component.prototype.on=function(b,d){a.on(this.el_,b,a.bind(this,d));return this};a.Component.prototype.off=
function(b,d){a.off(this.el_,b,d);return this};a.Component.prototype.one=function(b,d){a.one(this.el_,b,a.bind(this,d));return this};a.Component.prototype.trigger=function(b,d){a.trigger(this.el_,b,d);return this};a.Component.prototype.isReadyOnInitFinish_=!0;a.Component.prototype.ready=function(a){a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a)));return this};a.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;
if(a&&0<a.length){for(var d=0,c=a.length;d<c;d++)a[d].call(this);this.readyQueue_=[];this.trigger("ready")}};a.Component.prototype.addClass=function(b){a.addClass(this.el_,b);return this};a.Component.prototype.removeClass=function(b){a.removeClass(this.el_,b);return this};a.Component.prototype.show=function(){this.el_.style.display="block";return this};a.Component.prototype.hide=function(){this.el_.style.display="none";return this};a.Component.prototype.fadeIn=function(){this.removeClass("vjs-fade-out");
this.addClass("vjs-fade-in");return this};a.Component.prototype.fadeOut=function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out");return this};a.Component.prototype.lockShowing=function(){this.addClass("vjs-lock-showing");return this};a.Component.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing");return this};a.Component.prototype.disable=function(){this.hide();this.show=function(){};this.fadeIn=function(){}};a.Component.prototype.width=function(a,d){return this.dimension("width",
a,d)};a.Component.prototype.height=function(a,d){return this.dimension("height",a,d)};a.Component.prototype.dimensions=function(a,d){return this.width(a,!0).height(d)};a.Component.prototype.dimension=function(b,d,c){if(void 0!==d)return-1!==(""+d).indexOf("%")||-1!==(""+d).indexOf("px")?this.el_.style[b]=d:this.el_.style[b]="auto"===d?"":d+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;d=this.el_.style[b];c=d.indexOf("px");return-1!==c?parseInt(d.slice(0,c),10):parseInt(this.el_["offset"+
a.capitalize(b)],10)};a.Button=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);var c=!1;this.on("touchstart",function(){c=!0});this.on("touchmove",function(){c=!1});var e=this;this.on("touchend",function(a){if(c)e.onClick(a);a.preventDefault();a.stopPropagation()});this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}});a.Button.prototype.createEl=function(b,d){d=a.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+
(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},d);return a.Component.prototype.createEl.call(this,b,d)};a.Button.prototype.buildCSSClass=function(){return"vjs-control "+a.Component.prototype.buildCSSClass.call(this)};a.Button.prototype.onClick=function(){};a.Button.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Button.prototype.onKeyPress=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.onClick()};a.Button.prototype.onBlur=
function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);b.on(this.playerEvent,a.bind(this,this.update));this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.player_.on("controlsvisible",a.bind(this,this.update));
b.ready(a.bind(this,this.update));this.boundEvents={}}});a.Slider.prototype.createEl=function(b,d){d=d||{};d.className+=" vjs-slider";d=a.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},d);return a.Component.prototype.createEl.call(this,b,d)};a.Slider.prototype.onMouseDown=function(b){b.preventDefault();a.blockTextSelection();this.boundEvents.move=a.bind(this,this.onMouseMove);this.boundEvents.end=a.bind(this,this.onMouseUp);a.on(document,"mousemove",this.boundEvents.move);
a.on(document,"mouseup",this.boundEvents.end);a.on(document,"touchmove",this.boundEvents.move);a.on(document,"touchend",this.boundEvents.end);this.onMouseMove(b)};a.Slider.prototype.onMouseUp=function(){a.unblockTextSelection();a.off(document,"mousemove",this.boundEvents.move,!1);a.off(document,"mouseup",this.boundEvents.end,!1);a.off(document,"touchmove",this.boundEvents.move,!1);a.off(document,"touchend",this.boundEvents.end,!1);this.update()};a.Slider.prototype.update=function(){if(this.el_){var b,
d=this.getPercent(),c=this.handle,e=this.bar;isNaN(d)&&(d=0);b=d;if(c){b=this.el_.offsetWidth;var f=c.el().offsetWidth;b=f?f/b:0;d*=1-b;b=d+b/2;c.el().style.left=a.round(100*d,2)+"%"}e.el().style.width=a.round(100*b,2)+"%"}};a.Slider.prototype.calculateDistance=function(b){var d,c,e,f;d=this.el_;c=a.findPosition(d);f=e=d.offsetWidth;d=this.handle;if(this.options_.vertical)return f=c.top,b=b.changedTouches?b.changedTouches[0].pageY:b.pageY,d&&(d=d.el().offsetHeight,f+=d/2,e-=d),Math.max(0,Math.min(1,
(f-b+e)/e));e=c.left;b=b.changedTouches?b.changedTouches[0].pageX:b.pageX;d&&(d=d.el().offsetWidth,e+=d/2,f-=d);return Math.max(0,Math.min(1,(b-e)/f))};a.Slider.prototype.onFocus=function(){a.on(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())};a.Slider.prototype.onBlur=function(){a.off(document,"keyup",a.bind(this,this.onKeyPress))};a.Slider.prototype.onClick=
function(a){a.stopImmediatePropagation();a.preventDefault()};a.SliderHandle=a.Component.extend();a.SliderHandle.prototype.defaultValue=0;a.SliderHandle.prototype.createEl=function(b,d){d=d||{};d.className+=" vjs-slider-handle";d=a.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},d);return a.Component.prototype.createEl.call(this,"div",d)};a.Menu=a.Component.extend();a.Menu.prototype.addItem=function(b){this.addChild(b);b.on("click",a.bind(this,function(){this.unlockShowing()}))};
a.Menu.prototype.createEl=function(){var b=this.options().contentElType||"ul";this.contentEl_=a.createEl(b,{className:"vjs-menu-content"});b=a.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});b.appendChild(this.contentEl_);a.on(b,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return b};a.MenuItem=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);this.selected(d.selected)}});a.MenuItem.prototype.createEl=function(b,d){return a.Button.prototype.createEl.call(this,
"li",a.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},d))};a.MenuItem.prototype.onClick=function(){this.selected(!0)};a.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))};a.MenuButton=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);this.menu=this.createMenu();this.addChild(this.menu);this.items&&0===this.items.length&&this.hide();
this.on("keyup",this.onKeyPress);this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","button")}});a.MenuButton.prototype.buttonPressed_=!1;a.MenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_);this.options().title&&b.el().appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(this.items=this.createItems())for(var d=0;d<this.items.length;d++)b.addItem(this.items[d]);return b};a.MenuButton.prototype.createItems=
function(){};a.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+a.Button.prototype.buildCSSClass.call(this)};a.MenuButton.prototype.onFocus=function(){};a.MenuButton.prototype.onBlur=function(){};a.MenuButton.prototype.onClick=function(){this.one("mouseout",a.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()};a.MenuButton.prototype.onKeyPress=function(a){a.preventDefault();32==a.which||
13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()};a.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",!0);this.items&&0<this.items.length&&this.items[0].el().focus()};a.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.el_.setAttribute("aria-pressed",!1)};a.Player=a.Component.extend({init:function(b,
d,c){this.tag=b;d=a.obj.merge(this.getTagSettings(b),d);this.cache_={};this.poster_=d.poster;this.controls_=d.controls;!0!==d.customControlsOnMobile&&(a.IS_IOS||a.IS_ANDROID)?(b.controls=d.controls,this.controls_=!1):b.controls=!1;a.Component.call(this,this,d,c);this.one("play",function(b){a.trigger(this.el_,{type:"firstplay",target:this.el_})||(b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation())});this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);
this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("error",this.onError);this.on("fullscreenchange",this.onFullscreenChange);a.players[this.id_]=this;d.plugins&&a.obj.each(d.plugins,function(a,b){this[a](b)},this)}});a.Player.prototype.options_=a.options;a.Player.prototype.dispose=function(){a.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.stopTrackingProgress();
this.stopTrackingCurrentTime();this.tech&&this.tech.dispose();a.Component.prototype.dispose.call(this)};a.Player.prototype.getTagSettings=function(b){var d={sources:[],tracks:[]};a.obj.merge(d,a.getAttributeValues(b));if(b.hasChildNodes())for(var c,e=b.childNodes,f=0,g=e.length;f<g;f++)b=e[f],c=b.nodeName.toLowerCase(),"source"===c?d.sources.push(a.getAttributeValues(b)):"track"===c&&d.tracks.push(a.getAttributeValues(b));return d};a.Player.prototype.createEl=function(){var b=this.el_=a.Component.prototype.createEl.call(this,
"div"),d=this.tag;d.removeAttribute("width");d.removeAttribute("height");if(d.hasChildNodes())for(var c=d.childNodes.length,e=0,f=d.childNodes;e<c;e++)"source"!=f[0].nodeName.toLowerCase()&&"track"!=f[0].nodeName.toLowerCase()||d.removeChild(f[0]);d.id=d.id||"vjs_video_"+a.guid++;b.id=d.id;b.className=d.className;d.id+="_html5_api";d.className="vjs-tech";d.player=b.player=this;this.addClass("vjs-paused");this.width(this.options_.width,!0);this.height(this.options_.height,!0);d.parentNode&&d.parentNode.insertBefore(b,
d);a.insertFirst(d,b);return b};a.Player.prototype.loadTech=function(b,d){this.tech?this.unloadTech():"Html5"!==b&&this.tag&&(this.el_.removeChild(this.tag),this.tag=this.tag.player=null);this.techName=b;this.isReady_=!1;var c=a.obj.merge({source:d,parentEl:this.el_},this.options_[b.toLowerCase()]);d&&(d.src==this.cache_.src&&0<this.cache_.currentTime&&(c.startTime=this.cache_.currentTime),this.cache_.src=d.src);this.tech=new a[b](this,c);this.tech.ready(function(){this.player_.triggerReady();this.features.progressEvents||
this.player_.manualProgressOn();this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()})};a.Player.prototype.unloadTech=function(){this.isReady_=!1;this.tech.dispose();this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();this.tech=!1};a.Player.prototype.manualProgressOn=function(){this.manualProgress=!0;this.trackProgress();this.tech.one("progress",function(){this.features.progressEvents=!0;this.player_.manualProgressOff()})};a.Player.prototype.manualProgressOff=
function(){this.manualProgress=!1;this.stopTrackingProgress()};a.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(a.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)};a.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)};a.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",
this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime);this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0;this.player_.manualTimeUpdatesOff()})};a.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};a.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=
setInterval(a.bind(this,function(){this.trigger("timeupdate")}),250)};a.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)};a.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())};a.Player.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing")};a.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime)};a.Player.prototype.onPause=
function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused")};a.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")};a.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))};a.Player.prototype.onError=function(b){a.log("Video Error",b)};a.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")};a.Player.prototype.getCache=function(){return this.cache_};
a.Player.prototype.techCall=function(b,d){if(this.tech&&this.tech.isReady_)this.tech.ready(function(){this[b](d)});else try{this.tech[b](d)}catch(c){throw a.log(c),c;}};a.Player.prototype.techGet=function(b){if(this.tech&&this.tech.isReady_)try{return this.tech[b]()}catch(d){throw void 0===this.tech[b]?a.log("Video.js: "+b+" method not defined for "+this.techName+" playback technology.",d):"TypeError"==d.name?(a.log("Video.js: "+b+" unavailable on "+this.techName+" playback technology element.",d),
this.tech.isReady_=!1):a.log(d),d;}};a.Player.prototype.play=function(){this.techCall("play");return this};a.Player.prototype.pause=function(){this.techCall("pause");return this};a.Player.prototype.paused=function(){return!1===this.techGet("paused")?!1:!0};a.Player.prototype.currentTime=function(a){return void 0!==a?(this.cache_.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0};a.Player.prototype.duration=
function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):this.cache_.duration};a.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};a.Player.prototype.buffered=function(){var b=this.techGet("buffered"),d=this.cache_.bufferEnd=this.cache_.bufferEnd||0;b&&(0<b.length&&b.end(0)!==d)&&(d=b.end(0),this.cache_.bufferEnd=d);return a.createTimeRange(0,d)};a.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():
0};a.Player.prototype.volume=function(b){if(void 0!==b)return b=Math.max(0,Math.min(1,parseFloat(b))),this.cache_.volume=b,this.techCall("setVolume",b),a.setLocalStorage("volume",b),this;b=parseFloat(this.techGet("volume"));return isNaN(b)?1:b};a.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1};a.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1};a.Player.prototype.requestFullScreen=function(){var b=
a.support.requestFullScreen;this.isFullScreen=!0;b?(a.on(document,b.eventName,a.bind(this,function(d){this.isFullScreen=document[b.isFullScreen];!1===this.isFullScreen&&a.off(document,b.eventName,arguments.callee);this.trigger("fullscreenchange")})),this.el_[b.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.cancelFullScreen=function(){var b=a.support.requestFullScreen;this.isFullScreen=
!1;if(b)document[b.cancelFn]();else this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"));return this};a.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=document.documentElement.style.overflow;a.on(document,"keydown",a.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";a.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")};a.Player.prototype.fullWindowOnEscKey=
function(a){27===a.keyCode&&(!0===this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())};a.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1;a.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;a.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")};a.Player.prototype.selectSource=function(b){for(var d=0,c=this.options_.techOrder;d<c.length;d++){var e=a.capitalize(c[d]),f=a[e];if(f.isSupported())for(var g=
0,k=b;g<k.length;g++){var l=k[g];if(f.canPlaySource(l))return{source:l,tech:e}}}return!1};a.Player.prototype.src=function(b){if(b instanceof Array){var d=this.selectSource(b);d?(b=d.source,d=d.tech,d==this.techName?this.src(b):this.loadTech(d,b)):this.el_.appendChild(a.createEl("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else b instanceof
Object?a[this.techName].canPlaySource(b)?this.src(b.src):this.src([b]):(this.cache_.src=b,this.isReady_?(this.techCall("src",b),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(b)}));return this};a.Player.prototype.load=function(){this.techCall("load");return this};a.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""};a.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",
a),this.options_.preload=a,this):this.techGet("preload")};a.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)};a.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")};a.Player.prototype.poster=function(a){void 0!==a&&(this.poster_=a);return this.poster_};a.Player.prototype.controls=function(a){void 0!==a&&this.controls_!==a&&(this.controls_=
!!a,this.trigger("controlschange"));return this.controls_};a.Player.prototype.error=function(){return this.techGet("error")};a.Player.prototype.ended=function(){return this.techGet("ended")};(function(){var b,d,c;c=document.createElement("div");d={};void 0!==c.cancelFullscreen?(d.requestFn="requestFullscreen",d.cancelFn="exitFullscreen",d.eventName="fullscreenchange",d.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(b="moz",d.isFullScreen=b+"FullScreen"):(b="webkit",d.isFullScreen=b+"IsFullScreen"),
c[b+"RequestFullScreen"]&&(d.requestFn=b+"RequestFullScreen",d.cancelFn=b+"CancelFullScreen"),d.eventName=b+"fullscreenchange");document[d.cancelFn]&&(a.support.requestFullScreen=d)})();a.ControlBar=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.controls()||this.disable();b.one("play",a.bind(this,function(){var b,d=a.bind(this,this.fadeIn),c=a.bind(this,this.fadeOut);this.fadeOut();"ontouchstart"in window||(this.player_.on("mouseover",d),this.player_.on("mouseout",c),this.player_.on("pause",
a.bind(this,this.lockShowing)),this.player_.on("play",a.bind(this,this.unlockShowing)));b=!1;this.player_.on("touchstart",function(){b=!0});this.player_.on("touchmove",function(){b=!1});this.player_.on("touchend",a.bind(this,function(a){var d;b&&(d=this.el().className.search("fade-in"),-1!==d?this.fadeOut():this.fadeIn());b=!1;this.player_.paused()||a.preventDefault()}))}))}});a.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},
remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};a.ControlBar.prototype.createEl=function(){return a.createEl("div",{className:"vjs-control-bar"})};a.ControlBar.prototype.fadeIn=function(){a.Component.prototype.fadeIn.call(this);this.player_.trigger("controlsvisible")};a.ControlBar.prototype.fadeOut=function(){a.Component.prototype.fadeOut.call(this);this.player_.trigger("controlshidden")};a.PlayToggle=a.Button.extend({init:function(b,d){a.Button.call(this,
b,d);b.on("play",a.bind(this,this.onPlay));b.on("pause",a.bind(this,this.onPause))}});a.PlayToggle.prototype.buttonText="Play";a.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+a.Button.prototype.buildCSSClass.call(this)};a.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()};a.PlayToggle.prototype.onPlay=function(){a.removeClass(this.el_,"vjs-paused");a.addClass(this.el_,"vjs-playing");this.el_.children[0].children[0].innerHTML=
"Pause"};a.PlayToggle.prototype.onPause=function(){a.removeClass(this.el_,"vjs-playing");a.addClass(this.el_,"vjs-paused");this.el_.children[0].children[0].innerHTML="Play"};a.CurrentTimeDisplay=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.on("timeupdate",a.bind(this,this.updateContent))}});a.CurrentTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=a.createEl("div",
{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.CurrentTimeDisplay.prototype.updateContent=function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+a.formatTime(b,this.player_.duration())};a.DurationDisplay=a.Component.extend({init:function(b,
d){a.Component.call(this,b,d);b.on("timeupdate",a.bind(this,this.updateContent))}});a.DurationDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.DurationDisplay.prototype.updateContent=
function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+a.formatTime(this.player_.duration()))};a.TimeDivider=a.Component.extend({init:function(b,d){a.Component.call(this,b,d)}});a.TimeDivider.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};a.RemainingTimeDisplay=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.on("timeupdate",
a.bind(this,this.updateContent))}});a.RemainingTimeDisplay.prototype.createEl=function(){var b=a.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=a.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});b.appendChild(a.createEl("div").appendChild(this.content));return b};a.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&
this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+a.formatTime(this.player_.remainingTime()))};a.FullscreenToggle=a.Button.extend({init:function(b,d){a.Button.call(this,b,d)}});a.FullscreenToggle.prototype.buttonText="Fullscreen";a.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+a.Button.prototype.buildCSSClass.call(this)};a.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),
this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")};a.ProgressControl=a.Component.extend({init:function(b,d){a.Component.call(this,b,d)}});a.ProgressControl.prototype.options_={children:{seekBar:{}}};a.ProgressControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};a.SeekBar=a.Slider.extend({init:function(b,d){a.Slider.call(this,
b,d);b.on("timeupdate",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes))}});a.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};a.SeekBar.prototype.playerEvent="timeupdate";a.SeekBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};a.SeekBar.prototype.updateARIAAttributes=
function(){var b=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",a.round(100*this.getPercent(),2));this.el_.setAttribute("aria-valuetext",a.formatTime(b,this.player_.duration()))};a.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};a.SeekBar.prototype.onMouseDown=function(b){a.Slider.prototype.onMouseDown.call(this,b);this.player_.scrubbing=!0;this.videoWasPlaying=!this.player_.paused();
this.player_.pause()};a.SeekBar.prototype.onMouseMove=function(a){a=this.calculateDistance(a)*this.player_.duration();a==this.player_.duration()&&(a-=0.1);this.player_.currentTime(a)};a.SeekBar.prototype.onMouseUp=function(b){a.Slider.prototype.onMouseUp.call(this,b);this.player_.scrubbing=!1;this.videoWasPlaying&&this.player_.play()};a.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};a.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-
5)};a.LoadProgressBar=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.on("progress",a.bind(this,this.update))}});a.LoadProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};a.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=a.round(100*this.player_.bufferedPercent(),2)+"%")};a.PlayProgressBar=a.Component.extend({init:function(b,
d){a.Component.call(this,b,d)}});a.PlayProgressBar.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};a.SeekHandle=a.SliderHandle.extend();a.SeekHandle.prototype.defaultValue="00:00";a.SeekHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})};a.VolumeControl=a.Component.extend({init:function(b,d){a.Component.call(this,
b,d);b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.VolumeControl.prototype.options_={children:{volumeBar:{}}};a.VolumeControl.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};a.VolumeBar=a.Slider.extend({init:function(b,
d){a.Slider.call(this,b,d);b.on("volumechange",a.bind(this,this.updateARIAAttributes));b.ready(a.bind(this,this.updateARIAAttributes));setTimeout(a.bind(this,this.update),0)}});a.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",a.round(100*this.player_.volume(),2));this.el_.setAttribute("aria-valuetext",a.round(100*this.player_.volume(),2)+"%")};a.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};
a.VolumeBar.prototype.playerEvent="volumechange";a.VolumeBar.prototype.createEl=function(){return a.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};a.VolumeBar.prototype.onMouseMove=function(a){this.player_.volume(this.calculateDistance(a))};a.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()};a.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};a.VolumeBar.prototype.stepBack=
function(){this.player_.volume(this.player_.volume()-0.1)};a.VolumeLevel=a.Component.extend({init:function(b,d){a.Component.call(this,b,d)}});a.VolumeLevel.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};a.VolumeHandle=a.SliderHandle.extend();a.VolumeHandle.prototype.defaultValue="00:00";a.VolumeHandle.prototype.createEl=function(){return a.SliderHandle.prototype.createEl.call(this,
"div",{className:"vjs-volume-handle"})};a.MuteToggle=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}});a.MuteToggle.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",
{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)};a.MuteToggle.prototype.update=function(){var b=this.player_.volume(),d=3;0===b||this.player_.muted()?d=0:0.33>b?d=1:0.67>b&&(d=2);this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&
(this.el_.children[0].children[0].innerHTML="Mute");for(b=0;4>b;b++)a.removeClass(this.el_,"vjs-vol-"+b);a.addClass(this.el_,"vjs-vol-"+d)};a.VolumeMenuButton=a.MenuButton.extend({init:function(b,d){a.MenuButton.call(this,b,d);b.on("volumechange",a.bind(this,this.update));b.tech&&(b.tech.features&&!1===b.tech.features.volumeControl)&&this.addClass("vjs-hidden");b.on("loadstart",a.bind(this,function(){b.tech.features&&!1===b.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}));
this.addClass("vjs-menu-button")}});a.VolumeMenuButton.prototype.createMenu=function(){var b=new a.Menu(this.player_,{contentElType:"div"}),d=new a.VolumeBar(this.player_,a.obj.merge({vertical:!0},this.options_.volumeBar));b.addChild(d);return b};a.VolumeMenuButton.prototype.onClick=function(){a.MuteToggle.prototype.onClick.call(this);a.MenuButton.prototype.onClick.call(this)};a.VolumeMenuButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",
innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};a.VolumeMenuButton.prototype.update=a.MuteToggle.prototype.update;a.PosterImage=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);b.poster()&&b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.PosterImage.prototype.createEl=function(){var b=a.createEl("div",{className:"vjs-poster",tabIndex:-1}),d=this.player_.poster();d&&("backgroundSize"in b.style?b.style.backgroundImage='url("'+d+'")':b.appendChild(a.createEl("img",
{src:d})));return b};a.PosterImage.prototype.onClick=function(){this.player_.play()};a.LoadingSpinner=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);b.on("canplay",a.bind(this,this.hide));b.on("canplaythrough",a.bind(this,this.hide));b.on("playing",a.bind(this,this.hide));b.on("seeked",a.bind(this,this.hide));b.on("seeking",a.bind(this,this.show));b.on("seeked",a.bind(this,this.hide));b.on("error",a.bind(this,this.show));b.on("waiting",a.bind(this,this.show))}});a.LoadingSpinner.prototype.createEl=
function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})};a.BigPlayButton=a.Button.extend({init:function(b,d){a.Button.call(this,b,d);b.controls()||this.hide();b.on("play",a.bind(this,this.hide))}});a.BigPlayButton.prototype.createEl=function(){return a.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};a.BigPlayButton.prototype.onClick=function(){this.player_.play()};a.MediaTechController=
a.Component.extend({init:function(b,d,c){a.Component.call(this,b,d,c)}});a.MediaTechController.prototype.onClick=function(){return a.IS_ANDROID?function(){}:function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())}}();a.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1};a.media={};a.media.ApiMethods="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
for(var g=a.media.ApiMethods.length-1;0<=g;g--)a.MediaTechController.prototype[a.media.ApiMethods[g]]=c(a.media.ApiMethods[g]);a.Html5=a.MediaTechController.extend({init:function(b,d,c){this.features.volumeControl=a.Html5.canControlVolume();this.features.movingMediaElementInDOM=!a.IS_IOS;this.features.fullscreenResize=!0;a.MediaTechController.call(this,b,d,c);(d=d.source)&&this.el_.currentSrc==d.src?b.trigger("loadstart"):d&&(this.el_.src=d.src);b.ready(function(){this.options_.autoplay&&this.paused()&&
(this.tag.poster=null,this.play())});this.on("click",this.onClick);this.setupTriggers();this.triggerReady()}});a.Html5.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Html5.prototype.createEl=function(){var b=this.player_,d=b.tag;d&&!1!==this.features.movingMediaElementInDOM||(d?(b.el().removeChild(d),d=d.cloneNode(!1)):d=a.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),d.player=b,a.insertFirst(d,b.el()));for(var c=["autoplay","preload","loop","muted"],
e=c.length-1;0<=e;e--){var f=c[e];null!==b.options_[f]&&(d[f]=b.options_[f])}return d};a.Html5.prototype.setupTriggers=function(){for(var b=a.Html5.Events.length-1;0<=b;b--)a.on(this.el_,a.Html5.Events[b],a.bind(this.player_,this.eventHandler))};a.Html5.prototype.eventHandler=function(a){this.trigger(a);a.stopPropagation()};a.Html5.prototype.play=function(){this.el_.play()};a.Html5.prototype.pause=function(){this.el_.pause()};a.Html5.prototype.paused=function(){return this.el_.paused};a.Html5.prototype.currentTime=
function(){return this.el_.currentTime};a.Html5.prototype.setCurrentTime=function(b){try{this.el_.currentTime=b}catch(d){a.log(d,"Video is not ready. (Video.js)")}};a.Html5.prototype.duration=function(){return this.el_.duration||0};a.Html5.prototype.buffered=function(){return this.el_.buffered};a.Html5.prototype.volume=function(){return this.el_.volume};a.Html5.prototype.setVolume=function(a){this.el_.volume=a};a.Html5.prototype.muted=function(){return this.el_.muted};a.Html5.prototype.setMuted=function(a){this.el_.muted=
a};a.Html5.prototype.width=function(){return this.el_.offsetWidth};a.Html5.prototype.height=function(){return this.el_.offsetHeight};a.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(a.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(a.USER_AGENT)?!1:!0};a.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};
a.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};a.Html5.prototype.src=function(a){this.el_.src=a};a.Html5.prototype.load=function(){this.el_.load()};a.Html5.prototype.currentSrc=function(){return this.el_.currentSrc};a.Html5.prototype.preload=function(){return this.el_.preload};a.Html5.prototype.setPreload=function(a){this.el_.preload=a};a.Html5.prototype.autoplay=function(){return this.el_.autoplay};a.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a};a.Html5.prototype.loop=
function(){return this.el_.loop};a.Html5.prototype.setLoop=function(a){this.el_.loop=a};a.Html5.prototype.error=function(){return this.el_.error};a.Html5.prototype.seeking=function(){return this.el_.seeking};a.Html5.prototype.ended=function(){return this.el_.ended};a.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};a.Html5.isSupported=function(){return!!document.createElement("video").canPlayType};a.Html5.canPlaySource=function(a){return!!document.createElement("video").canPlayType(a.type)};
a.Html5.canControlVolume=function(){var b=a.TEST_VID.volume;a.TEST_VID.volume=b/2+0.1;return b!==a.TEST_VID.volume};a.Html5.Events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");a.IS_ANDROID&&3>a.ANDROID_VERSION&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?
"maybe":""});a.Flash=a.MediaTechController.extend({init:function(b,d,c){a.MediaTechController.call(this,b,d,c);c=d.source;var e=d.parentEl,f=this.el_=a.createEl("div",{id:b.id()+"_temp_flash"}),g=b.id()+"_flash_api";b=b.options_;var k=a.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:b.autoplay,preload:b.preload,loop:b.loop,muted:b.muted},d.flashVars),l=a.obj.merge({wmode:"opaque",bgcolor:"#000000"},
d.params),n=a.obj.merge({id:g,name:g,"class":"vjs-tech"},d.attributes);c&&(k.src=encodeURIComponent(a.getAbsoluteURL(c.src)));a.insertFirst(f,e);d.startTime&&this.ready(function(){this.load();this.play();this.currentTime(d.startTime)});if(!0!==d.iFrameMode||a.IS_FIREFOX)a.Flash.embed(d.swf,f,k,l,n);else{var m=a.createEl("iframe",{id:g+"_iframe",name:g+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});k.readyFunction="ready";k.eventProxyFunction="events";k.errorEventProxyFunction=
"errors";a.on(m,"load",a.bind(this,function(){var b,c=m.contentWindow;b=m.contentDocument?m.contentDocument:m.contentWindow.document;b.write(a.Flash.getEmbedCode(d.swf,k,l,n));c.player=this.player_;c.ready=a.bind(this.player_,function(d){d=b.getElementById(d);var c=this.tech;c.el_=d;a.on(d,"click",c.bind(c.onClick));a.Flash.checkReady(c)});c.events=a.bind(this.player_,function(a,b){this&&"flash"===this.techName&&this.trigger(b)});c.errors=a.bind(this.player_,function(b,d){a.log("Flash Error",d)})}));
f.parentNode.replaceChild(m,f)}}});a.Flash.prototype.dispose=function(){a.MediaTechController.prototype.dispose.call(this)};a.Flash.prototype.play=function(){this.el_.vjs_play()};a.Flash.prototype.pause=function(){this.el_.vjs_pause()};a.Flash.prototype.src=function(b){b=a.getAbsoluteURL(b);this.el_.vjs_src(b);if(this.player_.autoplay()){var d=this;setTimeout(function(){d.play()},0)}};a.Flash.prototype.load=function(){this.el_.vjs_load()};a.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")};
a.Flash.prototype.buffered=function(){return a.createTimeRange(0,this.el_.vjs_getProperty("buffered"))};a.Flash.prototype.supportsFullScreen=function(){return!1};a.Flash.prototype.enterFullScreen=function(){return!1};var e=a.Flash.prototype,k="preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),m="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),
n=function(a){var d=a.charAt(0).toUpperCase()+a.slice(1);e["set"+d]=function(d){return this.el_.vjs_setProperty(a,d)}},A=function(a){e[a]=function(){return this.el_.vjs_getProperty(a)}};(function(){var a;for(a=0;a<k.length;a++)A(k[a]),n(k[a]);for(a=0;a<m.length;a++)A(m[a])})();a.Flash.isSupported=function(){return 10<=a.Flash.version()[0]};a.Flash.canPlaySource=function(b){if(b.type in a.Flash.formats)return"maybe"};a.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};
a.Flash.onReady=function(b){b=a.el(b);var d=b.player||b.parentNode.player,c=d.tech;b.player=d;c.el_=b;c.on("click",c.onClick);a.Flash.checkReady(c)};a.Flash.checkReady=function(b){b.el().vjs_getProperty?b.triggerReady():setTimeout(function(){a.Flash.checkReady(b)},50)};a.Flash.onEvent=function(b,d){a.el(b).player.trigger(d)};a.Flash.onError=function(b,d){a.el(b).player.trigger("error");a.log("Flash Error",d,b)};a.Flash.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,
",").match(/^,?(.+),?$/)[1]}catch(d){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(c){}}return a.split(",")};a.Flash.embed=function(b,d,c,e,f){b=a.Flash.getEmbedCode(b,c,e,f);b=a.createEl("div",{innerHTML:b}).childNodes[0];c=d.parentNode;d.parentNode.replaceChild(b,d);var g=c.childNodes[0];setTimeout(function(){g.style.display=
"block"},1E3);return b};a.Flash.getEmbedCode=function(b,d,c,e){var f="",g="",k="";d&&a.obj.each(d,function(a,b){f+=a+"="+b+"&amp;"});c=a.obj.merge({movie:b,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},c);a.obj.each(c,function(a,b){g+='<param name="'+a+'" value="'+b+'" />'});e=a.obj.merge({data:b,width:"100%",height:"100%"},e);a.obj.each(e,function(a,b){k+=a+'="'+b+'" '});return'<object type="application/x-shockwave-flash"'+k+">"+g+"</object>"};a.MediaLoader=a.Component.extend({init:function(b,
d,c){a.Component.call(this,b,d,c);if(b.options_.sources&&0!==b.options_.sources.length)b.src(b.options_.sources);else for(d=0,c=b.options_.techOrder;d<c.length;d++){var e=a.capitalize(c[d]),f=a[e];if(f&&f.isSupported()){b.loadTech(e);break}}}});a.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[]};a.Player.prototype.addTextTrack=function(b,d,c,e){var f=this.textTracks_=this.textTracks_||[];e=e||{};e.kind=b;e.label=d;e.language=c;b=a.capitalize(b||"subtitles");e=new a[b+
"Track"](this,e);f.push(e);return e};a.Player.prototype.addTextTracks=function(a){for(var d,c=0;c<a.length;c++)d=a[c],this.addTextTrack(d.kind,d.label,d.language,d);return this};a.Player.prototype.showTextTrack=function(a,d){for(var c=this.textTracks_,e=0,f=c.length,g,k;e<f;e++)g=c[e],g.id()===a?(g.show(),k=g):d&&(g.kind()==d&&0<g.mode())&&g.disable();(c=k?k.kind():d?d:!1)&&this.trigger(c+"trackchange");return this};a.TextTrack=a.Component.extend({init:function(b,d){a.Component.call(this,b,d);this.id_=
d.id||"vjs_"+d.kind+"_"+d.language+"_"+a.guid++;this.src_=d.src;this.dflt_=d["default"]||d.dflt;this.title_=d.title;this.language_=d.srclang;this.label_=d.label;this.cues_=[];this.activeCues_=[];this.mode_=this.readyState_=0;this.player_.on("fullscreenchange",a.bind(this,this.adjustFontSize))}});a.TextTrack.prototype.kind=function(){return this.kind_};a.TextTrack.prototype.src=function(){return this.src_};a.TextTrack.prototype.dflt=function(){return this.dflt_};a.TextTrack.prototype.title=function(){return this.title_};
a.TextTrack.prototype.language=function(){return this.language_};a.TextTrack.prototype.label=function(){return this.label_};a.TextTrack.prototype.cues=function(){return this.cues_};a.TextTrack.prototype.activeCues=function(){return this.activeCues_};a.TextTrack.prototype.readyState=function(){return this.readyState_};a.TextTrack.prototype.mode=function(){return this.mode_};a.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?140*(screen.width/this.player_.width())+
"%":""};a.TextTrack.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})};a.TextTrack.prototype.show=function(){this.activate();this.mode_=2;a.Component.prototype.show.call(this)};a.TextTrack.prototype.hide=function(){this.activate();this.mode_=1;a.Component.prototype.hide.call(this)};a.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide();this.deactivate();this.mode_=0};a.TextTrack.prototype.activate=function(){0===
this.readyState_&&this.load();0===this.mode_&&(this.player_.on("timeupdate",a.bind(this,this.update,this.id_)),this.player_.on("ended",a.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))};a.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",a.bind(this,this.update,this.id_));this.player_.off("ended",a.bind(this,this.reset,this.id_));this.reset();this.player_.getChild("textTrackDisplay").removeChild(this)};
a.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,a.get(this.src_,a.bind(this,this.parseCues),a.bind(this,this.onError)))};a.TextTrack.prototype.onError=function(a){this.error=a;this.readyState_=3;this.trigger("error")};a.TextTrack.prototype.parseCues=function(b){var d,c;b=b.split("\n");for(var e="",f=1,g=b.length;f<g;f++)if(e=a.trim(b[f])){-1==e.indexOf("--\x3e")?(d=e,e=a.trim(b[++f])):d=this.cues_.length;d={id:d,index:this.cues_.length};c=e.split(" --\x3e ");d.startTime=
this.parseCueTime(c[0]);d.endTime=this.parseCueTime(c[1]);for(c=[];b[++f]&&(e=a.trim(b[f]));)c.push(e);d.text=c.join("<br/>");this.cues_.push(d)}this.readyState_=2;this.trigger("loaded")};a.TextTrack.prototype.parseCueTime=function(a){var d=a.split(":");a=0;var c,e,f;3==d.length?(c=d[0],e=d[1],d=d[2]):(c=0,e=d[0],d=d[1]);d=d.split(/\s+/);d=d.splice(0,1)[0];d=d.split(/\.|,/);f=parseFloat(d[1]);d=d[0];a+=3600*parseFloat(c);a+=60*parseFloat(e);a+=parseFloat(d);f&&(a+=f/1E3);return a};a.TextTrack.prototype.update=
function(){if(0<this.cues_.length){var a=this.player_.currentTime();if(void 0===this.prevChange||a<this.prevChange||this.nextChange<=a){var d=this.cues_,c=this.player_.duration(),e=0,f=!1,g=[],k,l,n,m;a>=this.nextChange||void 0===this.nextChange?m=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(f=!0,m=void 0!==this.lastActiveIndex?this.lastActiveIndex:d.length-1);for(;;){n=d[m];if(n.endTime<=a)e=Math.max(e,n.endTime),n.active&&(n.active=!1);else if(a<n.startTime){if(c=Math.min(c,n.startTime),
n.active&&(n.active=!1),!f)break}else f?(g.splice(0,0,n),void 0===l&&(l=m),k=m):(g.push(n),void 0===k&&(k=m),l=m),c=Math.min(c,n.endTime),e=Math.max(e,n.startTime),n.active=!0;if(f)if(0===m)break;else m--;else if(m===d.length-1)break;else m++}this.activeCues_=g;this.nextChange=c;this.prevChange=e;this.firstActiveIndex=k;this.lastActiveIndex=l;this.updateDisplay();this.trigger("cuechange")}}};a.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,d="",c=0,e=a.length;c<e;c++)d+='<span class="vjs-tt-cue">'+
a[c].text+"</span>";this.el_.innerHTML=d};a.TextTrack.prototype.reset=function(){this.nextChange=0;this.prevChange=this.player_.duration();this.lastActiveIndex=this.firstActiveIndex=0};a.CaptionsTrack=a.TextTrack.extend();a.CaptionsTrack.prototype.kind_="captions";a.SubtitlesTrack=a.TextTrack.extend();a.SubtitlesTrack.prototype.kind_="subtitles";a.ChaptersTrack=a.TextTrack.extend();a.ChaptersTrack.prototype.kind_="chapters";a.TextTrackDisplay=a.Component.extend({init:function(b,d,c){a.Component.call(this,
b,d,c);b.options_.tracks&&0<b.options_.tracks.length&&this.player_.addTextTracks(b.options_.tracks)}});a.TextTrackDisplay.prototype.createEl=function(){return a.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};a.TextTrackMenuItem=a.MenuItem.extend({init:function(b,d){var c=this.track=d.track;d.label=c.label();d.selected=c.dflt();a.MenuItem.call(this,b,d);this.player_.on(c.kind()+"trackchange",a.bind(this,this.update))}});a.TextTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.TextTrackMenuItem.prototype.update=function(){2==this.track.mode()?this.selected(!0):this.selected(!1)};a.OffTextTrackMenuItem=a.TextTrackMenuItem.extend({init:function(b,d){d.track={kind:function(){return d.kind},player:b,label:function(){return d.kind+" off"},dflt:function(){return!1},mode:function(){return!1}};a.TextTrackMenuItem.call(this,b,d);this.selected(!0)}});a.OffTextTrackMenuItem.prototype.onClick=function(){a.TextTrackMenuItem.prototype.onClick.call(this);
this.player_.showTextTrack(this.track.id_,this.track.kind())};a.OffTextTrackMenuItem.prototype.update=function(){for(var a=this.player_.textTracks(),d=0,c=a.length,e,f=!0;d<c;d++)e=a[d],e.kind()==this.track.kind()&&2==e.mode()&&(f=!1);f?this.selected(!0):this.selected(!1)};a.TextTrackButton=a.MenuButton.extend({init:function(b,d){a.MenuButton.call(this,b,d);1>=this.items.length&&this.hide()}});a.TextTrackButton.prototype.createItems=function(){var b=[],d;b.push(new a.OffTextTrackMenuItem(this.player_,
{kind:this.kind_}));for(var c=0;c<this.player_.textTracks().length;c++)d=this.player_.textTracks()[c],d.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:d}));return b};a.CaptionsButton=a.TextTrackButton.extend({init:function(b,d,c){a.TextTrackButton.call(this,b,d,c);this.el_.setAttribute("aria-label","Captions Menu")}});a.CaptionsButton.prototype.kind_="captions";a.CaptionsButton.prototype.buttonText="Captions";a.CaptionsButton.prototype.className="vjs-captions-button";a.SubtitlesButton=
a.TextTrackButton.extend({init:function(b,d,c){a.TextTrackButton.call(this,b,d,c);this.el_.setAttribute("aria-label","Subtitles Menu")}});a.SubtitlesButton.prototype.kind_="subtitles";a.SubtitlesButton.prototype.buttonText="Subtitles";a.SubtitlesButton.prototype.className="vjs-subtitles-button";a.ChaptersButton=a.TextTrackButton.extend({init:function(b,d,c){a.TextTrackButton.call(this,b,d,c);this.el_.setAttribute("aria-label","Chapters Menu")}});a.ChaptersButton.prototype.kind_="chapters";a.ChaptersButton.prototype.buttonText=
"Chapters";a.ChaptersButton.prototype.className="vjs-chapters-button";a.ChaptersButton.prototype.createItems=function(){for(var b=[],d,c=0;c<this.player_.textTracks().length;c++)d=this.player_.textTracks()[c],d.kind()===this.kind_&&b.push(new a.TextTrackMenuItem(this.player_,{track:d}));return b};a.ChaptersButton.prototype.createMenu=function(){for(var b=this.player_.textTracks(),d=0,c=b.length,e,f,g=this.items=[];d<c;d++)if(e=b[d],e.kind()==this.kind_&&e.dflt()){if(2>e.readyState()){this.chaptersTrack=
e;e.on("loaded",a.bind(this,this.createMenu));return}f=e;break}b=this.menu=new a.Menu(this.player_);b.el_.appendChild(a.createEl("li",{className:"vjs-menu-title",innerHTML:a.capitalize(this.kind_),tabindex:-1}));if(f){e=f.cues_;for(var k,d=0,c=e.length;d<c;d++)k=e[d],k=new a.ChaptersTrackMenuItem(this.player_,{track:f,cue:k}),g.push(k),b.addChild(k)}0<this.items.length&&this.show();return b};a.ChaptersTrackMenuItem=a.MenuItem.extend({init:function(b,d){var c=this.track=d.track,e=this.cue=d.cue,f=
b.currentTime();d.label=e.text;d.selected=e.startTime<=f&&f<e.endTime;a.MenuItem.call(this,b,d);c.on("cuechange",a.bind(this,this.update))}});a.ChaptersTrackMenuItem.prototype.onClick=function(){a.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};a.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,d=this.player_.currentTime();a.startTime<=d&&d<a.endTime?this.selected(!0):this.selected(!1)};a.obj.merge(a.ControlBar.prototype.options_.children,
{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)a.JSON=window.JSON;else{a.JSON={};var z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a.JSON.parse=function(a,d){function c(a,b){var e,f,g=a[b];if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return d.call(a,b,g)}var e;a=String(a);z.lastIndex=
0;z.test(a)&&(a=a.replace(z,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof d?c({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}a.autoSetup=function(){var b,d,c=document.getElementsByTagName("video");
if(c&&0<c.length)for(var e=0,g=c.length;e<g;e++)if((d=c[e])&&d.getAttribute)void 0===d.player&&(b=d.getAttribute("data-setup"),null!==b&&(b=a.JSON.parse(b||"{}"),f(d,b)));else{a.autoSetupTimeout(1);break}else a.windowLoaded||a.autoSetupTimeout(1)};a.autoSetupTimeout=function(b){setTimeout(a.autoSetup,b)};a.one(window,"load",function(){a.windowLoaded=!0});a.autoSetupTimeout(1);a.plugin=function(b,d){a.Player.prototype[b]=d};s.exports=a})()},{}],81:[function(m,s,v){(function(){var c=m("../../base"),
a=m("../../../helpers/BackboneLoader.js"),f=m("../../../helpers/lib/holder.js"),c=c.extend({template:m("../../../templates/routes/media/carousel.hbs"),events:{"click a.bigClose":"exitPlayer","click a.reelToggle":"toggleReel","click a.app":"handleAppLink","click a.goLeft":"handleLeftButton","click a.goRight":"handleRightButton"},reelOpen:null,initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});var c=this.app.db.fetchCollection("pages");this.listenTo(this.app,
"videoEnded",this.advance,this);c.once("ready",function(){var e=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});e?(this.page=e,this.listenTo(this.page,"change",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.media=this.page.getMedia();this.listenTo(this.media,"change add remove sort",this.render,this);this.media.once("ready",this.render,this);this.render()},this)},context:function(){var a=[],c=encodeURIComponent(this.page.attributes.name);
this.media&&this.media.forEach(function(e){a.push(e.templateVars(c,!0))});return this.getContext({media:a,page:this.page.attributes})},afterRender:function(){var a=this.currentMedia();this.$(".carousel").elastislide();null===this.reelOpen&&this.toggleReel(null,!1,0);f.run();a&&(this.advance(a,!0)&&this.$("a.goRight").removeClass("hidden"),this.reverse(a,!0)&&this.$("a.goLeft").removeClass("hidden"))},advance:function(a,c,e){var f=this,m=!1,n=null,A,z=encodeURIComponent(f.page.attributes.name),b,d,
t,s=this.page.getMedia();null==e&&(e=1E3);if(this.page&&s){b=0;for(d=s.models.length;b<d;b++)if(t=s.models[b],a.id===t.id)m=!0;else if(m){n=t;break}if(n){A=n.templateVars(z).playerUrl;if(c)return!0;setTimeout(function(){f.app.navigate(A,{trigger:!0})},e)}}return!1},reverse:function(a,c,e){var f=this,m=!1,n=null,A,z=encodeURIComponent(f.page.attributes.name),b,d,t=this.page.getMedia();null==e&&(e=1E3);if(this.page&&t){for(b=t.models.length-1;0<=b;b--)if(d=t.models[b],a.id===d.id)m=!0;else if(m){n=
d;break}if(n){A=n.templateVars(z).playerUrl;if(c)return!0;setTimeout(function(){f.app.navigate(A,{trigger:!0})},e)}}return!1},handleLeftButton:function(a){a&&(a.preventDefault(),a.stopPropagation());this.reverse(this.currentMedia(),!1,0)},handleRightButton:function(a){a&&(a.preventDefault(),a.stopPropagation());this.advance(this.currentMedia(),!1,0)},currentMedia:function(){return this.media?this.media.findWhere({id:a.history.fragment.split("/").pop()}):!1},toggleReel:function(a,c,e){null==e&&(e=
400);a&&(a.preventDefault(),a.stopPropagation());!1!==c&&(this.reelOpen=!this.reelOpen);this.reelOpen?(this.$(".sliderWrap").slideDown(e),this.$(".symbol").html("&and;")):(this.$(".sliderWrap").slideUp(e),this.$(".symbol").html("&or;"))},exitPlayer:function(a){a.preventDefault();a.stopPropagation();this.app.navigate("page/"+this.page.attributes.name,{trigger:!0})}});s.exports=c})()},{"../../../helpers/BackboneLoader.js":44,"../../../helpers/lib/holder.js":62,"../../../templates/routes/media/carousel.hbs":82,
"../../base":55}],66:[function(m,s,v){(function(){var c=m("./base"),a=m("lodash"),f=m("./customization"),c=c.extend({name:"user",url:function(){return this.app.config.baseUrl+"/users/auth.json"},parse:function(c,g){var e=a.clone(c);try{e=e.user,e.customization=(new f({},{app:this.app})).parse({customization:e.customization}),c=e}catch(k){c={error:c.error}}return c},defaults:{username:"",password:"",token:!1,policy:"",signature:"",path:"",customization:{},error:null}});s.exports=c})()},{"./base":74,
"./customization":68,lodash:46}],67:[function(m,s,v){(function(){var c=m("./base"),a=m("./video"),f=m("./image");m("../helpers/BackboneLoader");var l=m("lodash"),g=m("utilities/lib/string"),c=c.extend({name:"page",urlRoot:function(){return this.app.config.baseUrl+"/pages"},defaults:{name:"Untitled",items:[],userId:"",isPublished:!1,errors:null},initialize:function(a,c){this.set(a);this.app=c.app||{}},validate:function(a,c){var f=[];a.name&&0!=a.name.length||f.push({attr:"name",message:"Page title cannot be empty"});
if(!a.id){var g=this.app.db.fetchCollection("pages").filter(function(c){return c.attributes.name.toLowerCase()===a.name.toLowerCase()});g&&0<g.length&&f.push({attr:"name",message:"Another page already exists with this name"})}if(f.length)return f},toJSON:function(){incoming=l.clone(this.attributes);incoming.items&&(incoming.itemList=JSON.stringify(incoming.items));return incoming},parse:function(a,c){try{a.items=JSON.parse(a.itemList),delete a.itemList}catch(f){a={errors:"Bad response from server: "+
f}}return a},getMedia:function(){return this.app.db.fetchCollection("pageMedia",{app:this.app,pageId:this.id})},removeMedia:function(a,c){var f=this,g=l.clone(f.attributes.items),g=l.reject(g,function(c){return c.ID===a});f.set("items",g);f.save(null,{success:function(){f.app.db.fetchCollection("unprocessedUploads").fetch();f.app.db.fetchCollection("pages").fetch();c(null)},error:function(a,e){c(e.responseText)}})},addMedia:function(c){var k=this;filepicker.pickAndStore({extensions:k.app.config.videoExts.concat(k.app.config.imageExts),
multiple:!1,signature:k.app.getUser().attributes.signature,policy:k.app.getUser().attributes.policy,services:["COMPUTER","DROPBOX","FLICKR","GOOGLE_DRIVE","FTP"]},{location:"s3",path:k.app.getUser().attributes.path+g.uuid(10),access:"public"},function(g){k.app.setFlash("info","Just a second while we process your uploads...");"[object Array]"!==Object.prototype.toString.call(g)&&(g=[g]);for(var n=l.clone(k.attributes.items),m=g.length,z=function(a){var b=a.id,d=a.attributes.name,f=a.attributes.type.toLowerCase();
n.push({ID:b,NAME:d,TYPE:f,THUMB:a.templateVars().thumbnailUrl});m--;0===m&&(k.set("items",n),k.save(null,{success:function(){k.app.db.fetchCollection("unprocessedUploads").fetch();k.app.db.fetchCollection("pages").fetch();c(null,g)},error:k.app.error}))},b=0,d=g.length;b<d;b++)(function(b){var d,c,e={name:b.filename,fpkey:b.url,mimeType:b.mimetype,originalFilesize:b.size,userId:k.attributes.userId,attribs:[],status:0};k.app.util.isVideo(b.filename)?(d=new a({},{app:k.app}),c="video"):k.app.util.isImage(b.filename)&&
(d=new f({},{app:k.app}),c="image");d.set(e);"image"===c?d.cropThumbnail(null,function(a){a?k.app.error(a):z(d)}):d.save(null,{success:function(a,b){z(a)},error:k.app.error})})(g[b])},function(a){c(a)})}});s.exports=c})()},{"../helpers/BackboneLoader":44,"./base":74,"./image":48,"./video":50,lodash:46,"utilities/lib/string":83}],68:[function(m,s,v){(function(){var c=m("./base"),a=m("lodash");m("../helpers/BackboneLoader");c=c.extend({name:"customization",urlRoot:function(){return this.app.config.baseUrl+
"/customizations"},toJSON:function(){incoming=a.clone(this.attributes);incoming.config&&(incoming.config=JSON.stringify(incoming.config));incoming.diffs&&(incoming.diffs=JSON.stringify(incoming.diffs));return incoming},parse:function(a,c){a=a.customization;delete a.customization;try{a.config=JSON.parse(a.config),a.diffs=JSON.parse(a.diffs)}catch(g){a.config={},a.diffs={}}return a}});s.exports=c})()},{"../helpers/BackboneLoader":44,"./base":74,lodash:46}],69:[function(m,s,v){(function(){var c=m("./base");
m("lodash");c=c.extend({name:"media",initialize:function(a,c){this.set(a);this.app=c.app||{};this.pageId=c.pageId||null;this.model=function(a,g){return"image"===a.type.toLowerCase()?c.app.db.createModel("image",a):c.app.db.createModel("video",a)}},url:function(){return this.app.config.baseUrl+"/pages/"+this.pageId+"/media.json"}});s.exports=c})()},{"./base":75,lodash:46}],70:[function(m,s,v){(function(){var c=m("./base");m("../models/page");m("lodash");c=c.extend({name:"page",url:function(){return this.app.config.baseUrl+
"/pages.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:"")},initialize:function(a,c){this.set(a);this.app=c.app||{};this.model=function(a,g){var e=c.app.db.createModel("page").parse(a);return c.app.db.fetchModel("page",e.id,e)}},comparator:function(a){return a.get("priority")}});s.exports=c})()},{"../models/page":67,"./base":75,lodash:46}],71:[function(m,s,v){(function(){var c=m("./base");m("../models/image.js");m("../models/video.js");m("lodash");c=c.extend({name:"media",url:function(){return this.app.config.baseUrl+
"/unprocessed.json"},initialize:function(a,c){this.set(a);this.app=c.app||{};this.model=function(a,g){return"image"===a.type.toLowerCase()?c.app.db.createModel("image").set(a):c.app.db.createModel("video").set(a)}}});s.exports=c})()},{"../models/image.js":48,"../models/video.js":50,"./base":75,lodash:46}],72:[function(m,s,v){(function(){var c=m("./base");m("../models/image");m("lodash");c=c.extend({name:"image",url:function(){return this.app.config.baseUrl+"/images.json"+(this.app.bootstrap.userId?
"?userId="+this.app.bootstrap.userId:"")},initialize:function(a,c){this.set(a);this.app=c.app||{};this.model=function(a,g){var e=c.app.db.createModel("image");return c.app.db.createModel("image",e.parse(a))}}});s.exports=c})()},{"../models/image":48,"./base":75,lodash:46}],73:[function(m,s,v){(function(){var c=m("./base");m("../models/video");m("lodash");c=c.extend({name:"video",url:function(){return this.app.config.baseUrl+"/videos.json"+(this.app.bootstrap.userId?"?userId="+this.app.bootstrap.userId:
"")},initialize:function(a,c){this.set(a);this.app=c.app||{};this.model=function(a,g){var e=c.app.db.createModel("video");return c.app.db.createModel("video",e.parse(a))}}});s.exports=c})()},{"../models/video":50,"./base":75,lodash:46}],65:[function(m,s,v){(function(){var c=this,a=c.Backbone,f=[],l=f.push,g=f.slice,e=f.splice,k;k="undefined"!==typeof v?v:c.Backbone={};k.VERSION="1.0.0";var q=c._;q||"undefined"===typeof m||(q=m("underscore"));k.$=c.jQuery||c.Zepto||c.ender||c.$;k.noConflict=function(){c.Backbone=
a;return this};k.emulateHTTP=!1;k.emulateJSON=!1;var n=k.Events={on:function(a,b,d){if(!z(this,"on",a,[b,d])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:d,ctx:d||this});return this},once:function(a,b,d){if(!z(this,"once",a,[b,d])||!b)return this;var c=this,e=q.once(function(){c.off(a,e);b.apply(this,arguments)});e._callback=b;return this.on(a,e,d)},off:function(a,b,d){var c,e,f,g,k,l,n,m;if(!this._events||!z(this,"off",a,[b,d]))return this;
if(!a&&!b&&!d)return this._events={},this;g=a?[a]:q.keys(this._events);k=0;for(l=g.length;k<l;k++)if(a=g[k],f=this._events[a]){this._events[a]=c=[];if(b||d)for(n=0,m=f.length;n<m;n++)e=f[n],(b&&b!==e.callback&&b!==e.callback._callback||d&&d!==e.context)&&c.push(e);c.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var d=g.call(arguments,1);if(!z(this,"trigger",a,d))return this;var c=this._events[a],e=this._events.all;c&&b(c,d);e&&b(e,arguments);return this},
stopListening:function(a,b,d){var c=this._listeners;if(!c)return this;var e=!b&&!d;"object"===typeof b&&(d=this);a&&((c={})[a._listenerId]=a);for(var f in c)c[f].off(b,d,this),e&&delete this._listeners[f];return this}},A=/\s+/,z=function(a,b,d,c){if(!d)return!0;if("object"===typeof d){for(var e in d)a[b].apply(a,[e,d[e]].concat(c));return!1}if(A.test(d)){d=d.split(A);e=0;for(var f=d.length;e<f;e++)a[b].apply(a,[d[e]].concat(c));return!1}return!0},b=function(a,b){var d,c=-1,e=a.length,f=b[0],g=b[1],
k=b[2];switch(b.length){case 0:for(;++c<e;)(d=a[c]).callback.call(d.ctx);break;case 1:for(;++c<e;)(d=a[c]).callback.call(d.ctx,f);break;case 2:for(;++c<e;)(d=a[c]).callback.call(d.ctx,f,g);break;case 3:for(;++c<e;)(d=a[c]).callback.call(d.ctx,f,g,k);break;default:for(;++c<e;)(d=a[c]).callback.apply(d.ctx,b)}};q.each({listenTo:"on",listenToOnce:"once"},function(a,b){n[b]=function(b,d,c){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=q.uniqueId("l"));e[f]=b;"object"===typeof d&&
(c=this);b[a](d,c,this);return this}});n.bind=n.on;n.unbind=n.off;q.extend(k,n);var d=k.Model=function(a,b){var d,c=a||{};b||(b={});this.cid=q.uniqueId("c");this.attributes={};q.extend(this,q.pick(b,t));b.parse&&(c=this.parse(c,b)||{});if(d=q.result(this,"defaults"))c=q.defaults({},c,d);this.set(c,b);this.changed={};this.initialize.apply(this,arguments)},t=["url","urlRoot","collection"];q.extend(d.prototype,n,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return q.clone(this.attributes)},
sync:function(){return k.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return q.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var c,e,f,g,k,l,n;if(null==a)return this;"object"===typeof a?(e=a,d=b):(e={})[a]=b;d||(d={});if(!this._validate(e,d))return!1;f=d.unset;g=d.silent;a=[];k=this._changing;this._changing=!0;k||(this._previousAttributes=q.clone(this.attributes),this.changed={});n=this.attributes;l=this._previousAttributes;
this.idAttribute in e&&(this.id=e[this.idAttribute]);for(c in e)b=e[c],q.isEqual(n[c],b)||a.push(c),q.isEqual(l[c],b)?delete this.changed[c]:this.changed[c]=b,f?delete n[c]:n[c]=b;if(!g)for(a.length&&(this._pending=!0),b=0,c=a.length;b<c;b++)this.trigger("change:"+a[b],this,n[a[b]],d);if(k)return this;if(!g)for(;this._pending;)this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,q.extend({},b,{unset:!0}))},clear:function(a){var b=
{},d;for(d in this.attributes)b[d]=void 0;return this.set(b,q.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!q.isEmpty(this.changed):q.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?q.clone(this.changed):!1;var b,d=!1,c=this._changing?this._previousAttributes:this.attributes,e;for(e in a)q.isEqual(c[e],b=a[e])||((d||(d={}))[e]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return q.clone(this._previousAttributes)},
fetch:function(a){a=a?q.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;a.success=function(c){if(!b.set(b.parse(c,a),a))return!1;d&&d(b,c,a);b.trigger("sync",b,c,a)};S(this,a);return this.sync("read",this,a)},save:function(a,b,d){var c,e=this.attributes;null==a||"object"===typeof a?(c=a,d=b):(c={})[a]=b;if(c&&!(d&&d.wait||this.set(c,d)))return!1;d=q.extend({validate:!0},d);if(!this._validate(c,d))return!1;c&&d.wait&&(this.attributes=q.extend({},e,c));void 0===d.parse&&(d.parse=!0);
var f=this,g=d.success;d.success=function(a){f.attributes=e;var b=f.parse(a,d);d.wait&&(b=q.extend(c||{},b));if(q.isObject(b)&&!f.set(b,d))return!1;g&&g(f,a,d);f.trigger("sync",f,a,d)};S(this,d);a=this.isNew()?"create":d.patch?"patch":"update";"patch"===a&&(d.attrs=c);a=this.sync(a,this,d);c&&d.wait&&(this.attributes=e);return a},destroy:function(a){a=a?q.clone(a):{};var b=this,d=a.success,c=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&c();d&&d(b,e,
a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;S(this,a);var e=this.sync("delete",this,a);a.wait||c();return e},url:function(){var a=q.result(this,"urlRoot")||q.result(this.collection,"url")||ja();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},q.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=q.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;if(!d)return!0;this.trigger("invalid",this,d,q.extend(b||{},{validationError:d}));return!1}});q.each("keys values pairs invert pick omit".split(" "),function(a){d.prototype[a]=function(){var b=g.call(arguments);b.unshift(this.attributes);return q[a].apply(q,b)}});var s=k.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&
(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,q.extend({silent:!0},b))},B={add:!0,remove:!0,merge:!0},D={add:!0,merge:!1,remove:!1};q.extend(s.prototype,n,{model:d,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return k.sync.apply(this,arguments)},add:function(a,b){return this.set(a,q.defaults(b||{},D))},remove:function(a,b){a=q.isArray(a)?
a.slice():[a];b||(b={});var d,c,e,f;d=0;for(c=a.length;d<c;d++)if(f=this.get(a[d]))delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f);return this},set:function(a,b){b=q.defaults(b||{},B);b.parse&&(a=this.parse(a,b));q.isArray(a)||(a=a?[a]:[]);var d,c,f,g,k,n=b.at,m=this.comparator&&null==n&&!1!==b.sort,t=q.isString(this.comparator)?this.comparator:null,p=[],D=[],A={};d=
0;for(c=a.length;d<c;d++)if(f=this._prepareModel(a[d],b))(g=this.get(f))?(b.remove&&(A[g.cid]=!0),b.merge&&(g.set(f.attributes,b),m&&(!k&&g.hasChanged(t))&&(k=!0))):b.add&&(p.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f));if(b.remove){d=0;for(c=this.length;d<c;++d)A[(f=this.models[d]).cid]||D.push(f);D.length&&this.remove(D,b)}p.length&&(m&&(k=!0),this.length+=p.length,null!=n?e.apply(this.models,[n,0].concat(p)):l.apply(this.models,p));k&&this.sort({silent:!0});
if(b.silent)return this;d=0;for(c=p.length;d<c;d++)(f=p[d]).trigger("add",f,this,b);k&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var d=0,c=this.models.length;d<c;d++)this._removeReference(this.models[d]);b.previousModels=this.models;this._reset();this.add(a,q.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,q.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-
1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,q.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return q.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var d in a)if(a[d]!==b.get(d))return!1;return!0})},findWhere:function(a){return this.where(a,
!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});q.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(q.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,d){b||(b=this.comparator);var c=q.isFunction(b)?b:function(a){return a.get(b)};return q.sortedIndex(this.models,a,c,d)},pluck:function(a){return q.invoke(this.models,"get",
a)},fetch:function(a){a=a?q.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;a.success=function(c){d[a.reset?"reset":"set"](c,a);b&&b(d,c,a);d.trigger("sync",d,c,a)};S(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?q.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,c=b.success;b.success=function(e){b.wait&&d.add(a,b);c&&c(a,e,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},
_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof d)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,d,c){if("add"!==a&&"remove"!==a||d===this)"destroy"===a&&this.remove(b,c),b&&a==="change:"+b.idAttribute&&
(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});q.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){s.prototype[a]=function(){var b=g.call(arguments);b.unshift(this.models);return q[a].apply(q,b)}});
q.each(["groupBy","countBy","sortBy"],function(a){s.prototype[a]=function(b,d){var c=q.isFunction(b)?b:function(a){return a.get(b)};return q[a](this.models,c,d)}});var f=k.View=function(a){this.cid=q.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},y=/^(\S+)\s*(.*)$/,F="model collection el id attributes className tagName events".split(" ");q.extend(f.prototype,n,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof k.$?a:k.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=q.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];q.isFunction(d)||(d=this[a[b]]);if(d){var c=b.match(y),e=c[1],c=c[2],d=q.bind(d,this),e=e+(".delegateEvents"+this.cid);
if(""===c)this.$el.on(e,d);else this.$el.on(e,c,d)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=q.extend({},q.result(this,"options"),a));q.extend(this,q.pick(a,F));this.options=a},_ensureElement:function(){if(this.el)this.setElement(q.result(this,"el"),!1);else{var a=q.extend({},q.result(this,"attributes"));this.id&&(a.id=q.result(this,"id"));this.className&&(a["class"]=q.result(this,"className"));a=k.$("<"+
q.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});k.sync=function(a,b,d){var c=C[a];q.defaults(d||(d={}),{emulateHTTP:k.emulateHTTP,emulateJSON:k.emulateJSON});var e={type:c,dataType:"json"};d.url||(e.url=q.result(b,"url")||ja());null!=d.data||(!b||"create"!==a&&"update"!==a&&"patch"!==a)||(e.contentType="application/json",e.data=JSON.stringify(d.attrs||b.toJSON(d)));d.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{});if(d.emulateHTTP&&
("PUT"===c||"DELETE"===c||"PATCH"===c)){e.type="POST";d.emulateJSON&&(e.data._method=c);var f=d.beforeSend;d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",c);if(f)return f.apply(this,arguments)}}"GET"===e.type||d.emulateJSON||(e.processData=!1);"PATCH"!==e.type||(!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled)||(e.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=d.xhr=k.ajax(q.extend(e,d));b.trigger("request",b,a,d);return a};
var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};k.ajax=function(){return k.$.ajax.apply(k.$,arguments)};var X=k.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},p=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,N=/\*\w+/g,G=/[\-{}\[\]+?.,\\\^$|#\s]/g;q.extend(X.prototype,n,{initialize:function(){},route:function(a,b,d){q.isRegExp(a)||(a=this._routeToRegExp(a));q.isFunction(b)&&(d=b,b="");d||(d=this[b]);var c=this;k.history.route(a,
function(e){e=c._extractParameters(a,e);d&&d.apply(c,e);c.trigger.apply(c,["route:"+b].concat(e));c.trigger("route",b,e);k.history.trigger("route",c,b,e)});return this},navigate:function(a,b){k.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=q.result(this,"routes");for(var a,b=q.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(G,"\\$&").replace(p,"(?:$1)?").replace(E,function(a,b){return b?a:"([^/]+)"}).replace(N,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return q.map(d,function(a){return a?decodeURIComponent(a):null})}});var K=k.History=function(){this.handlers=[];q.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},na=/^[#\/]|\s+$/g,oa=/^\/+|\/+$/g,T=/msie [\w.]+/,I=/\/$/;K.started=!1;q.extend(K.prototype,n,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:
""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var d=this.root.replace(I,"");a.indexOf(d)||(a=a.substr(d.length))}else a=this.getHash();return a.replace(na,"")},start:function(a){if(K.started)throw Error("Backbone.history has already been started");K.started=!0;this.options=q.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;
this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=T.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(oa,"/");b&&this._wantsHashChange&&(this.iframe=k.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)k.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&
!b)k.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(na,
""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){k.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);K.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&
this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return q.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!K.started)return!1;b&&!0!==b||(b={trigger:b});a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var d=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(d);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,d){d?(d=a.href.replace(/(javascript:|#).*$/,""),a.replace(d+"#"+b)):a.hash="#"+b}});k.history=new K;d.extend=s.extend=X.extend=f.extend=K.extend=function(a,b){var d=this,c;c=a&&q.has(a,"constructor")?a.constructor:function(){return d.apply(this,
arguments)};q.extend(c,d,b);var e=function(){this.constructor=c};e.prototype=d.prototype;c.prototype=new e;a&&q.extend(c.prototype,a);c.__super__=d.prototype;return c};var ja=function(){throw Error('A "url" property or function must be specified');},S=function(a,b){var d=b.error;b.error=function(c){d&&d(a,c,b);a.trigger("error",a,c,b)}}}).call(this)},{underscore:84}],84:[function(m,s,v){(function(){var c=this,a=c._,f={},l=Array.prototype,g=Object.prototype,e=l.push,k=l.slice,m=l.concat,n=g.toString,
A=g.hasOwnProperty,z=l.forEach,b=l.map,d=l.reduce,t=l.reduceRight,x=l.filter,B=l.every,D=l.some,y=l.indexOf,F=l.lastIndexOf,g=Array.isArray,C=Object.keys,X=Function.prototype.bind,p=function(a){if(a instanceof p)return a;if(!(this instanceof p))return new p(a);this._wrapped=a};"undefined"!==typeof v?("undefined"!==typeof s&&s.exports&&(v=s.exports=p),v._=p):c._=p;p.VERSION="1.5.1";var E=p.each=p.forEach=function(a,b,d){if(null!=a)if(z&&a.forEach===z)a.forEach(b,d);else if(a.length===+a.length)for(var c=
0,e=a.length;c<e&&b.call(d,a[c],c,a)!==f;c++);else for(c in a)if(p.has(a,c)&&b.call(d,a[c],c,a)===f)break};p.map=p.collect=function(a,d,c){var e=[];if(null==a)return e;if(b&&a.map===b)return a.map(d,c);E(a,function(a,b,f){e.push(d.call(c,a,b,f))});return e};p.reduce=p.foldl=p.inject=function(a,b,c,e){var f=2<arguments.length;null==a&&(a=[]);if(d&&a.reduce===d)return e&&(b=p.bind(b,e)),f?a.reduce(b,c):a.reduce(b);E(a,function(a,d,g){f?c=b.call(e,c,a,d,g):(c=a,f=!0)});if(!f)throw new TypeError("Reduce of empty array with no initial value");
return c};p.reduceRight=p.foldr=function(a,b,d,c){var e=2<arguments.length;null==a&&(a=[]);if(t&&a.reduceRight===t)return c&&(b=p.bind(b,c)),e?a.reduceRight(b,d):a.reduceRight(b);var f=a.length;if(f!==+f)var g=p.keys(a),f=g.length;E(a,function(k,l,n){l=g?g[--f]:--f;e?d=b.call(c,d,a[l],l,n):(d=a[l],e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return d};p.find=p.detect=function(a,b,d){var c;N(a,function(a,e,f){if(b.call(d,a,e,f))return c=a,!0});return c};p.filter=
p.select=function(a,b,d){var c=[];if(null==a)return c;if(x&&a.filter===x)return a.filter(b,d);E(a,function(a,e,f){b.call(d,a,e,f)&&c.push(a)});return c};p.reject=function(a,b,d){return p.filter(a,function(a,c,e){return!b.call(d,a,c,e)},d)};p.every=p.all=function(a,b,d){b||(b=p.identity);var c=!0;if(null==a)return c;if(B&&a.every===B)return a.every(b,d);E(a,function(a,e,g){if(!(c=c&&b.call(d,a,e,g)))return f});return!!c};var N=p.some=p.any=function(a,b,d){b||(b=p.identity);var c=!1;if(null==a)return c;
if(D&&a.some===D)return a.some(b,d);E(a,function(a,e,g){if(c||(c=b.call(d,a,e,g)))return f});return!!c};p.contains=p.include=function(a,b){return null==a?!1:y&&a.indexOf===y?-1!=a.indexOf(b):N(a,function(a){return a===b})};p.invoke=function(a,b){var d=k.call(arguments,2),c=p.isFunction(b);return p.map(a,function(a){return(c?b:a[b]).apply(a,d)})};p.pluck=function(a,b){return p.map(a,function(a){return a[b]})};p.where=function(a,b,d){return p.isEmpty(b)?d?void 0:[]:p[d?"find":"filter"](a,function(a){for(var d in b)if(b[d]!==
a[d])return!1;return!0})};p.findWhere=function(a,b){return p.where(a,b,!0)};p.max=function(a,b,d){if(!b&&p.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&p.isEmpty(a))return-Infinity;var c={computed:-Infinity,value:-Infinity};E(a,function(a,e,f){e=b?b.call(d,a,e,f):a;e>c.computed&&(c={value:a,computed:e})});return c.value};p.min=function(a,b,d){if(!b&&p.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&p.isEmpty(a))return Infinity;var c={computed:Infinity,
value:Infinity};E(a,function(a,e,f){e=b?b.call(d,a,e,f):a;e<c.computed&&(c={value:a,computed:e})});return c.value};p.shuffle=function(a){var b,d=0,c=[];E(a,function(a){b=p.random(d++);c[d-1]=c[b];c[b]=a});return c};var G=function(a){return p.isFunction(a)?a:function(b){return b[a]}};p.sortBy=function(a,b,d){var c=G(b);return p.pluck(p.map(a,function(a,b,e){return{value:a,index:b,criteria:c.call(d,a,b,e)}}).sort(function(a,b){var d=a.criteria,c=b.criteria;if(d!==c){if(d>c||void 0===d)return 1;if(d<
c||void 0===c)return-1}return a.index<b.index?-1:1}),"value")};var K=function(a,b,d,c){var e={},f=G(null==b?p.identity:b);E(a,function(b,g){var k=f.call(d,b,g,a);c(e,k,b)});return e};p.groupBy=function(a,b,d){return K(a,b,d,function(a,b,d){(p.has(a,b)?a[b]:a[b]=[]).push(d)})};p.countBy=function(a,b,d){return K(a,b,d,function(a,b){p.has(a,b)||(a[b]=0);a[b]++})};p.sortedIndex=function(a,b,d,c){d=null==d?p.identity:G(d);b=d.call(c,b);for(var e=0,f=a.length;e<f;){var g=e+f>>>1;d.call(c,a[g])<b?e=g+1:
f=g}return e};p.toArray=function(a){return a?p.isArray(a)?k.call(a):a.length===+a.length?p.map(a,p.identity):p.values(a):[]};p.size=function(a){return null==a?0:a.length===+a.length?a.length:p.keys(a).length};p.first=p.head=p.take=function(a,b,d){return null==a?void 0:null==b||d?a[0]:k.call(a,0,b)};p.initial=function(a,b,d){return k.call(a,0,a.length-(null==b||d?1:b))};p.last=function(a,b,d){return null==a?void 0:null==b||d?a[a.length-1]:k.call(a,Math.max(a.length-b,0))};p.rest=p.tail=p.drop=function(a,
b,d){return k.call(a,null==b||d?1:b)};p.compact=function(a){return p.filter(a,p.identity)};var na=function(a,b,d){if(b&&p.every(a,p.isArray))return m.apply(d,a);E(a,function(a){p.isArray(a)||p.isArguments(a)?b?e.apply(d,a):na(a,b,d):d.push(a)});return d};p.flatten=function(a,b){return na(a,b,[])};p.without=function(a){return p.difference(a,k.call(arguments,1))};p.uniq=p.unique=function(a,b,d,c){p.isFunction(b)&&(c=d,d=b,b=!1);d=d?p.map(a,d,c):a;var e=[],f=[];E(d,function(d,c){(b?c&&f[f.length-1]===
d:p.contains(f,d))||(f.push(d),e.push(a[c]))});return e};p.union=function(){return p.uniq(p.flatten(arguments,!0))};p.intersection=function(a){var b=k.call(arguments,1);return p.filter(p.uniq(a),function(a){return p.every(b,function(b){return 0<=p.indexOf(b,a)})})};p.difference=function(a){var b=m.apply(l,k.call(arguments,1));return p.filter(a,function(a){return!p.contains(b,a)})};p.zip=function(){for(var a=p.max(p.pluck(arguments,"length").concat(0)),b=Array(a),d=0;d<a;d++)b[d]=p.pluck(arguments,
""+d);return b};p.object=function(a,b){if(null==a)return{};for(var d={},c=0,e=a.length;c<e;c++)b?d[a[c]]=b[c]:d[a[c][0]]=a[c][1];return d};p.indexOf=function(a,b,d){if(null==a)return-1;var c=0,e=a.length;if(d)if("number"==typeof d)c=0>d?Math.max(0,e+d):d;else return c=p.sortedIndex(a,b),a[c]===b?c:-1;if(y&&a.indexOf===y)return a.indexOf(b,d);for(;c<e;c++)if(a[c]===b)return c;return-1};p.lastIndexOf=function(a,b,d){if(null==a)return-1;var c=null!=d;if(F&&a.lastIndexOf===F)return c?a.lastIndexOf(b,
d):a.lastIndexOf(b);for(d=c?d:a.length;d--;)if(a[d]===b)return d;return-1};p.range=function(a,b,d){1>=arguments.length&&(b=a||0,a=0);d=arguments[2]||1;for(var c=Math.max(Math.ceil((b-a)/d),0),e=0,f=Array(c);e<c;)f[e++]=a,a+=d;return f};var oa=function(){};p.bind=function(a,b){var d,c;if(X&&a.bind===X)return X.apply(a,k.call(arguments,1));if(!p.isFunction(a))throw new TypeError;d=k.call(arguments,2);return c=function(){if(!(this instanceof c))return a.apply(b,d.concat(k.call(arguments)));oa.prototype=
a.prototype;var e=new oa;oa.prototype=null;var f=a.apply(e,d.concat(k.call(arguments)));return Object(f)===f?f:e}};p.partial=function(a){var b=k.call(arguments,1);return function(){return a.apply(this,b.concat(k.call(arguments)))}};p.bindAll=function(a){var b=k.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");E(b,function(b){a[b]=p.bind(a[b],a)});return a};p.memoize=function(a,b){var d={};b||(b=p.identity);return function(){var c=b.apply(this,arguments);return p.has(d,
c)?d[c]:d[c]=a.apply(this,arguments)}};p.delay=function(a,b){var d=k.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};p.defer=function(a){return p.delay.apply(p,[a,1].concat(k.call(arguments,1)))};p.throttle=function(a,b,d){var c,e,f,g=null,k=0;d||(d={});var l=function(){k=!1===d.leading?0:new Date;g=null;f=a.apply(c,e)};return function(){var n=new Date;k||!1!==d.leading||(k=n);var m=b-(n-k);c=this;e=arguments;0>=m?(clearTimeout(g),g=null,k=n,f=a.apply(c,e)):g||!1===d.trailing||
(g=setTimeout(l,m));return f}};p.debounce=function(a,b,d){var c,e=null;return function(){var f=this,g=arguments,k=d&&!e;clearTimeout(e);e=setTimeout(function(){e=null;d||(c=a.apply(f,g))},b);k&&(c=a.apply(f,g));return c}};p.once=function(a){var b=!1,d;return function(){if(b)return d;b=!0;d=a.apply(this,arguments);a=null;return d}};p.wrap=function(a,b){return function(){var d=[a];e.apply(d,arguments);return b.apply(this,d)}};p.compose=function(){var a=arguments;return function(){for(var b=arguments,
d=a.length-1;0<=d;d--)b=[a[d].apply(this,b)];return b[0]}};p.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};p.keys=C||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],d;for(d in a)p.has(a,d)&&b.push(d);return b};p.values=function(a){var b=[],d;for(d in a)p.has(a,d)&&b.push(a[d]);return b};p.pairs=function(a){var b=[],d;for(d in a)p.has(a,d)&&b.push([d,a[d]]);return b};p.invert=function(a){var b={},d;for(d in a)p.has(a,d)&&(b[a[d]]=d);return b};
p.functions=p.methods=function(a){var b=[],d;for(d in a)p.isFunction(a[d])&&b.push(d);return b.sort()};p.extend=function(a){E(k.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};p.pick=function(a){var b={},d=m.apply(l,k.call(arguments,1));E(d,function(d){d in a&&(b[d]=a[d])});return b};p.omit=function(a){var b={},d=m.apply(l,k.call(arguments,1)),c;for(c in a)p.contains(d,c)||(b[c]=a[c]);return b};p.defaults=function(a){E(k.call(arguments,1),function(b){if(b)for(var d in b)void 0===
a[d]&&(a[d]=b[d])});return a};p.clone=function(a){return p.isObject(a)?p.isArray(a)?a.slice():p.extend({},a):a};p.tap=function(a,b){b(a);return a};var T=function(a,b,d,c){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof p&&(a=a._wrapped);b instanceof p&&(b=b._wrapped);var e=n.call(a);if(e!=n.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==
+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=d.length;f--;)if(d[f]==a)return c[f]==b;var f=a.constructor,g=b.constructor;if(f!==g&&!(p.isFunction(f)&&f instanceof f&&p.isFunction(g)&&g instanceof g))return!1;d.push(a);c.push(b);f=0;g=!0;if("[object Array]"==e){if(f=a.length,g=f==b.length)for(;f--&&(g=T(a[f],b[f],d,c)););}else{for(var k in a)if(p.has(a,k)&&(f++,
!(g=p.has(b,k)&&T(a[k],b[k],d,c))))break;if(g){for(k in b)if(p.has(b,k)&&!f--)break;g=!f}}d.pop();c.pop();return g};p.isEqual=function(a,b){return T(a,b,[],[])};p.isEmpty=function(a){if(null==a)return!0;if(p.isArray(a)||p.isString(a))return 0===a.length;for(var b in a)if(p.has(a,b))return!1;return!0};p.isElement=function(a){return!(!a||1!==a.nodeType)};p.isArray=g||function(a){return"[object Array]"==n.call(a)};p.isObject=function(a){return a===Object(a)};E("Arguments Function String Number Date RegExp".split(" "),
function(a){p["is"+a]=function(b){return n.call(b)=="[object "+a+"]"}});p.isArguments(arguments)||(p.isArguments=function(a){return!(!a||!p.has(a,"callee"))});"function"!==typeof/./&&(p.isFunction=function(a){return"function"===typeof a});p.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};p.isNaN=function(a){return p.isNumber(a)&&a!=+a};p.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==n.call(a)};p.isNull=function(a){return null===a};p.isUndefined=function(a){return void 0===
a};p.has=function(a,b){return A.call(a,b)};p.noConflict=function(){c._=a;return this};p.identity=function(a){return a};p.times=function(a,b,d){for(var c=Array(Math.max(0,a)),e=0;e<a;e++)c[e]=b.call(d,e);return c};p.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=p.invert(I.escape);var ja={escape:RegExp("["+p.keys(I.escape).join("")+"]","g"),unescape:RegExp("("+p.keys(I.unescape).join("|")+
")","g")};p.each(["escape","unescape"],function(a){p[a]=function(b){return null==b?"":(""+b).replace(ja[a],function(b){return I[a][b]})}});p.result=function(a,b){if(null!=a){var d=a[b];return p.isFunction(d)?d.call(a):d}};p.mixin=function(a){E(p.functions(a),function(b){var d=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];e.apply(a,arguments);a=d.apply(p,a);return this._chain?p(a).chain():a}})};var S=0;p.uniqueId=function(a){var b=++S+"";return a?a+b:b};p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,fa={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},ca=/\\|'|\r|\n|\t|\u2028|\u2029/g;p.template=function(a,b,d){var c;d=p.defaults({},d,p.templateSettings);var e=RegExp([(d.escape||L).source,(d.interpolate||L).source,(d.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,d,c,e,h){g+=a.slice(f,h).replace(ca,function(a){return"\\"+fa[a]});d&&(g+="'+\n((__t=("+d+"))==null?'':_.escape(__t))+\n'");
c&&(g+="'+\n((__t=("+c+"))==null?'':__t)+\n'");e&&(g+="';\n"+e+"\n__p+='");f=h+b.length;return b});g+="';\n";d.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{c=new Function(d.variable||"obj","_",g)}catch(k){throw k.source=g,k;}if(b)return c(b,p);b=function(a){return c.call(this,a,p)};b.source="function("+(d.variable||"obj")+"){\n"+g+"}";return b};p.chain=function(a){return p(a).chain()};p.mixin(p);
E("pop push reverse shift sort splice unshift".split(" "),function(a){var b=l[a];p.prototype[a]=function(){var d=this._wrapped;b.apply(d,arguments);"shift"!=a&&"splice"!=a||0!==d.length||delete d[0];return this._chain?p(d).chain():d}});E(["concat","join","slice"],function(a){var b=l[a];p.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?p(a).chain():a}});p.extend(p.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this)},
{}],83:[function(m,s,v){var c=m("./core"),a=m("./inflection"),f;f=new function(){var l=/^\s+/,g=/\s+$/,e=/^\s+|\s+$/g,k=/\n|\r|\r\n/g,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),A,z;A=function(a){return function(d){if("undefined"===typeof d||null===d||!d&&isNaN(d))d="";d=d.toString();var c,e,f;for(f in m)c="to"==a?f:m[f],e="to"==a?m[f]:f,d=d.replace(RegExp(c,"gm"),e);return d}};z=function(a){return function(d){var c=
"",e;for(e in m)c+="to"==a?e:m[e],c+="|";c=c.substr(0,c.length-1);c=RegExp(c,"gm");return c.test(d)}};this.escapeXML=A("to");this.unescapeXML=A("from");this.needsEscape=z("to");this.needsUnescape=z("from");this.escapeRegExpChars=function(){sRE=RegExp("(\\^|\\$|\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return function(a){a=String(a||"");return a.replace(sRE,"\\$1")}}.call(this);this.toArray=function(a){var d=[],c=-1;for(a=String(a||"");++c<a.length;)d.push(a.substr(c,1));return d};
this.reverse=function(a){a=String(a||"");return this.toArray(a).reverse().join("")};this.ltrim=function(a,d){var c,e=d?RegExp("^"+d+"+"):l;c=String(a||"");return c.replace(e,"")};this.chomp=this.rtrim=function(a,d){var c,e=d?RegExp(d+"+$"):g;c=String(a||"");return c.replace(e,"")};this.trim=function(a,d){var c,f=d?RegExp("^"+d+"+|"+d+"+$","g"):e;c=String(a||"");return c.replace(f,"")};this.chop=function(a){var d;d=String(a||"");return d.length?(a=d.indexOf("\r\n"),a==d.length-2?d.substring(0,a):d.substring(0,
d.length-1)):""};this.lpad=function(a,d,c){a=String(a||"");c=parseInt(c,10)||a.length;for(d=d||" ";a.length<c;)a=d+a;return a};this.rpad=function(a,d,c){a=String(a||"");c=parseInt(c,10)||a.length;for(d=d||" ";a.length<c;)a+=d;return a};this.pad=function(a,d,c){a=String(a||"");c=parseInt(c,10)||a.length;for(d=d||" ";a.length<c;)a=d+a+d;return a};this.truncate=function(a,d,c){var e,f,g,k,l,n;a=String(a||"");e=a.length;d="number"===typeof d?{length:d}:d||{};d.length=d.length||e;d.omission=d.omission||
d.ellipsis||"...";f=d.length-d.omission.length;if(d.seperator){if(d.seperator instanceof RegExp){d.seperator.global?d.seperator=d.seperator:(g=d.seperator.ignoreCase?"i":"",k=d.seperator.multiLine?"m":"",d.seperator=RegExp(d.seperator.source,"g"+g+k));g=a.substring(0,f+1);k=-1;for(l=0;n=d.seperator.exec(g);)k=n.index,d.seperator.lastIndex=++l;g=k}else g=a.lastIndexOf(d.seperator,f);-1===g&&(g=f)}else g=f;if(e<d.length)return a;a=a.substring(0,g)+d.omission;return a+=c&&"function"===typeof c?c():""};
this.truncateHTML=function(a,d,c){var e,f="";e=String(a||"");"number"===typeof d?(a=d,d={},d.length=a):d=d||{};d.once=d.once||!1;var g=/(<[^>]*>)/;a=[];for(var k=!1,l=g.exec(e),n;l;)n=l.index,0!==n&&(a.push(e.substring(0,n)),e=e.slice(n)),a.push(l[0]),e=e.slice(l[0].length),l=g.exec(e);""!==e&&a.push(e);for(g=-1;++g<a.length;)switch(e=a[g],!0){case 0==e.indexOf("</"):f+=e;openTag=null;break;case 0==e.indexOf("<"):f+=e;openTag=e;break;default:d.once&&k?f+=e:(f+=this.truncate(e,d,c),k=!0)}return f};
this.nl2br=function(a){a=String(a||"");return a.replace(k,"<br />")};this.decamelize=this.underscoreize=this.underscorize=this.snakeize=function(){var a=/([A-Z]+)/g,d=/^_/g;return function(c,e){var f,g=e||"_",k=e?RegExp("^"+g,"g"):d;f=String(c||"");return f.replace(a,g+"$1").toLowerCase().replace(k,"")}}.call(this);this.camelize=function(){var a=/[-_](\w)/g;return function(d,e){var f,g,k={initialCap:!1,leadingUnderscore:!1};g=e||{};f=String(d||"");"boolean"==typeof g?k={initialCap:!0}:c.mixin(k,g);
g=f.replace(a,function(a,b){return b.toUpperCase()});k.leadingUnderscore&0===f.indexOf("_")&&(g="_"+this.decapitalize(g));return g=k.initialCap?this.capitalize(g):this.decapitalize(g)}}.call(this);this.decapitalize=function(a){a=String(a||"");return a.substr(0,1).toLowerCase()+a.substr(1)};this.capitalize=function(a){a=String(a||"");return a.substr(0,1).toUpperCase()+a.substr(1)};this.dasherize=function(a,d){return this.snakeize(a,d||"-")};this.include=function(a,d){var c=d;if(!c&&"string"!=typeof f)return!1;
c=String(c);return-1<a.indexOf(c)};this.getInflections=function(b){if(b){var d=this.snakeize(a.pluralize(b));b=a.singularize(d);d=a.pluralize(d);return{filename:{singular:b,plural:d},constructor:{singular:this.camelize(b,{initialCap:!0}),plural:this.camelize(d,{initialCap:!0})},property:{singular:this.camelize(b),plural:this.camelize(d)}}}};this.getInflection=function(a,d,c){return this.getInflections(a)[d][c]};this.uuid=function(a,d){var c=[],e,f;d=d||n.length;if(a)for(f=-1;++f<a;)c[f]=n[0|Math.random()*
d];else for(c[8]=c[13]=c[18]=c[23]="-",c[14]="4",f=-1;36>++f;)c[f]||(e=0|16*Math.random(),c[f]=n[19==f?e&3|8:e]);return c.join("")}};s.exports=f},{"./core":85,"./inflection":86}],85:[function(m,s,v){m=new function(){var c=function(a,f,l,g){for(var e in f)if(f.hasOwnProperty(e)||g)!l||"object"!=typeof f[e]||null===f[e]||f[e]instanceof Array?a[e]=f[e]:(void 0==a[e]&&(a[e]={}),c(a[e],f[e],l,g))};this.mixin=function(){var a=Array.prototype.slice.apply(arguments),f=!1,l;2<a.length&&"boolean"==typeof a[a.length-
1]&&(f=a.pop());l=a.shift();for(var g=0,e=a.length;g<e;g++)c(l,a[g],f);return l};this.enhance=function(){var a=Array.prototype.slice.apply(arguments),f=!1,l;2<a.length&&"boolean"==typeof a[a.length-1]&&(f=a.pop());l=a.shift();for(var g=0,e=a.length;g<e;g++)c(l,a[g],f,!0);return l};this.isEmpty=function(a){return""===a||void 0==a||"number"==typeof a&&isNaN(a)||a instanceof Date&&isNaN(a.getTime())?!0:!1}};s.exports=m},{}],86:[function(m,s,v){m=new function(){this.inflections={plurals:[],singulars:[],
uncountables:[]};var c=this,a,f,l,g,e;a=function(a,e,f){c.inflections[a].unshift([e,f])};f=function(c,e){a("plurals",c,e)};l=function(c,e){a("singulars",c,e)};e=function(a,c){a.substr(0,1).toUpperCase()==c.substr(0,1).toUpperCase()?(f(RegExp("("+a.substr(0,1)+")"+a.substr(1)+"$","i"),"$1"+c.substr(1)),f(RegExp("("+c.substr(0,1)+")"+c.substr(1)+"$","i"),"$1"+c.substr(1)),l(RegExp("("+c.substr(0,1)+")"+c.substr(1)+"$","i"),"$1"+a.substr(1))):(f(RegExp(a.substr(0,1).toUpperCase()+a.substr(1)+"$"),c.substr(0,
1).toUpperCase()+c.substr(1)),f(RegExp(a.substr(0,1).toLowerCase()+a.substr(1)+"$"),c.substr(0,1).toLowerCase()+c.substr(1)),f(RegExp(c.substr(0,1).toUpperCase()+c.substr(1)+"$"),c.substr(0,1).toUpperCase()+c.substr(1)),f(RegExp(c.substr(0,1).toLowerCase()+c.substr(1)+"$"),c.substr(0,1).toLowerCase()+c.substr(1)),l(RegExp(c.substr(0,1).toUpperCase()+c.substr(1)+"$"),a.substr(0,1).toUpperCase()+a.substr(1)),l(RegExp(c.substr(0,1).toLowerCase()+c.substr(1)+"$"),a.substr(0,1).toLowerCase()+a.substr(1)))};
g=function(a){c.inflections.uncountables[a]=!0};f(/$/,"s");f(/s$/i,"s");f(/(ax|test)is$/i,"$1es");f(/(octop|vir)us$/i,"$1i");f(/(alias|status)$/i,"$1es");f(/(bu)s$/i,"$1ses");f(/(buffal|tomat)o$/i,"$1oes");f(/([ti])um$/i,"$1a");f(/sis$/i,"ses");f(/(?:([^f])fe|([lr])f)$/i,"$1$2ves");f(/(hive)$/i,"$1s");f(/([^aeiouy]|qu)y$/i,"$1ies");f(/(x|ch|ss|sh)$/i,"$1es");f(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices");f(/([m|l])ouse$/i,"$1ice");f(/^(ox)$/i,"$1en");f(/(quiz)$/i,"$1zes");l(/s$/i,"");l(/ss$/i,"ss");l(/(n)ews$/i,
"$1ews");l(/([ti])a$/i,"$1um");l(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis");l(/(^analy)ses$/i,"$1sis");l(/([^f])ves$/i,"$1fe");l(/(hive)s$/i,"$1");l(/(tive)s$/i,"$1");l(/([lr])ves$/i,"$1f");l(/([^aeiouy]|qu)ies$/i,"$1y");l(/(s)eries$/i,"$1eries");l(/(m)ovies$/i,"$1ovie");l(/(x|ch|ss|sh)es$/i,"$1");l(/([m|l])ice$/i,"$1ouse");l(/(bus)es$/i,"$1");l(/(o)es$/i,"$1");l(/(shoe)s$/i,"$1");l(/(cris|ax|test)es$/i,"$1is");l(/(octop|vir)i$/i,"$1us");l(/(alias|status)es$/i,"$1");
l(/^(ox)en/i,"$1");l(/(vert|ind)ices$/i,"$1ex");l(/(matr)ices$/i,"$1ix");l(/(quiz)zes$/i,"$1");l(/(database)s$/i,"$1");e("person","people");e("man","men");e("child","children");e("sex","sexes");e("move","moves");e("cow","kine");g("equipment");g("information");g("rice");g("money");g("species");g("series");g("fish");g("sheep");g("jeans");this.parse=function(a,c){var e=c.toLowerCase(),f=this.inflections[a];if(this.inflections.uncountables[e])return c;for(e=-1;++e<f.length;){var g=f[e][0],b=f[e][1];if(g.test(c))return c.replace(g,
b)}return c};this.pluralize=function(a){return this.parse("plurals",a)};this.singularize=function(a){return this.parse("singulars",a)}};s.exports=m},{}],29:[function(m,s,v){(function(){var c=m("../../base"),a=m("../../layout/navbar.js"),f=m("../../layout/footer.js"),l=m("lodash"),g=m("../../../helpers/BackboneLoader"),c=c.extend({template:m("../../../templates/routes/pages/create.hbs"),events:{submit:"performSave","click a.app":"handleAppLink"},initialize:function(a){this.app=a.app;this.model=this.app.db.createModel("page");
this.listenTo(this.model,"invalid",function(a,c){this.app.error(this.model,c)},this);this.listenTo(this.app.getUser(),"change",this.render,this);this.toggleContact=l.bind(this.toggleContact,this)},remove:function(){this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact);g.View.prototype.remove.apply(this,arguments)},afterRender:function(){var c;c=new a({app:this.app});var g=new f({app:this.app});this.appendSubview(c,this.$("#header"));this.appendSubview(g,this.$("#footer"));
this.eachSubview(function(a){a.render()});c=this.$("input[name=name]");""==c.val().replace(/]w/,"")&&c.val("").focus();this.$(".switch").bootstrapSwitch();this.$("input[name=showContact]").parent().parent().on("switch-change",this.toggleContact)},context:function(){var a=this.app.getCustomization();return a&&a.attributes&&a.attributes.config?(a=a.attributes.config,this.getContext({showContact:a.showContact?a.showContact.value:!1})):this.getContext({showContact:!1})},performSave:function(a){var c=
this;a.preventDefault();var f=this.$("input[name=name]").val();c.model.save({userId:c.app.getUser().id,name:f,priority:c.app.db.fetchCollection("pages").length},{success:function(){c.app.db.fetchCollection("pages").add(c.model);c.app.navigate("page/"+f,{trigger:!0})},error:c.app.error})},toggleContact:function(a){var c=this,f=this.$("input[name=showContact]").parent().hasClass("switch-on"),g=this.app.getCustomization(),l=g.attributes.config;a.stopPropagation();a.preventDefault();this.app.setFlash("info",
"Turning contact page "+(f?"on":"off")+"...");l.showContact||(l.showContact={type:"boolean",name:"Show Contact Page","default":!1});l.showContact.value=f;g.set("config",l);g.save({},{success:function(){c.app.setFlash("success","Your contact page has been turned "+(f?"on":"off"));c.render()},error:c.app.error})}});s.exports=c})()},{"../../../helpers/BackboneLoader":44,"../../../templates/routes/pages/create.hbs":87,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,lodash:46}],
39:[function(m,s,v){(function(){var c=m("../../base"),a=m("lodash"),f=m("../../layout/navbar.js"),l=m("../../layout/footer.js"),g=m("../../../helpers/lib/holder.js"),c=c.extend({template:m("../../../templates/routes/media/pick.hbs"),events:{"click .reelgrid a":"appendMedia"},initialize:function(a){this.app=a.app;this.page=this.app.db.createModel("page").set({name:"Loading..."});this.images=this.app.db.fetchCollection("images");this.videos=this.app.db.fetchCollection("videos");var c=this.app.db.fetchCollection("pages");
this.listenTo(this.images,"add remove change sort",this.render,this);this.listenTo(this.videos,"add remove change sort",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);c.once("ready",function(){var f=c.find(function(c){return c.attributes.name.toLowerCase()===a.pageName.toLowerCase()});f?(this.page=f,this.listenTo(this.page,"change ready",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"))},this)},afterRender:function(){var a=
new f({app:this.app}),c=new l({app:this.app});this.appendSubview(a,this.$("#header"));this.appendSubview(c,this.$("#footer"));this.eachSubview(function(a){a.render()});g.run()},context:function(){var a=[],c=encodeURIComponent(this.page.attributes.name);this.images&&this.images.forEach(function(f){a.push(f.templateVars(c))});this.videos&&this.videos.forEach(function(f){a.push(f.templateVars(c))});return this.getContext({media:a,page:this.page.attributes,uploadUrl:"page/"+c+"/addMedia"})},appendMedia:function(c){c.preventDefault();
c.stopPropagation();var f=this,g=f.page.attributes?encodeURIComponent(f.page.attributes.name):"undefined",l;c=c.target;for(var m;"a"!=c.tagName.toLowerCase();)c=c.parentElement;c=$(c);f.app.setFlash("info","Adding to page...");m=this.app.db.fetchModel(c.attr("data-media-type"),c.attr("data-media-id"));m.once("ready",function(){"Loading..."!==f.page.attributes.name?(l=a.clone(f.page.attributes.items),l.push({ID:m.id,NAME:m.attributes.name,TYPE:m.attributes.type.toLowerCase(),THUMB:m.templateVars().thumbnailUrl}),
f.page.save({items:l},{success:function(){f.app.navigate("page/"+g,{trigger:!0});f.app.setFlash("success","Added!")},error:f.app.error})):f.app.error("Please wait for the page to load before picking a media file")})}});s.exports=c})()},{"../../../helpers/lib/holder.js":62,"../../../templates/routes/media/pick.hbs":88,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,lodash:46}],43:[function(m,s,v){(function(){var c=m("../../base"),a=m("lodash"),f=m("../../layout/navbar.js"),
l=m("../../layout/footer.js"),g=m("../../routes/media/thumb.js"),c=c.extend({template:m("../../../templates/routes/media/edit.hbs"),events:{submit:"performSave","click a.btn-danger":"performDelete","click a.upload":"performPick","click a.crop":"performCapture","click a.capture":"performCapture","click a.app":"handleAppLink","click a.choose":"performChoose"},initialize:function(a){this.app=a.app;this.mediaType=a.mediaType;this.mediaId=a.mediaId;this.showThumbnailPicker=!1;this.media=this.app.db.fetchModel(a.mediaType,
a.mediaId);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.media,"change",this.render,this);this.listenTo(this.media,"invalid",function(){this.app.error(this.media.validationError)},this);this.renderOnReady(this.media)},afterRender:function(){var c=new f({app:this.app}),k=new g({app:this.app,mediaType:this.mediaType,mediaId:this.mediaId}),m=new l({app:this.app});this.appendSubview(c,this.$("#header"));this.media.attributes&&2===this.media.attributes.status&&this.appendSubview(k,
this.$("#thumber"));this.appendSubview(m,this.$("#footer"));this.eachSubview(function(a){a.render()});a.defer(function(){this.$("div.tagsinput").remove();this.$("input[name=attribs]").tagsInput();this.$("legend span").popover({placement:"right",trigger:"hover",html:!0})},this);this.$("#useOriginalButton").button("reset");this.$("#useCaptureButton").button("reset")},context:function(){return this.getContext({media:this.media.templateVars(),isEncoded:2===this.media.attributes.status,showThumbnailPicker:this.showThumbnailPicker})},
readInput:function(a){var c=this.readAttributes();a&&a.preventDefault();this.media.set(c)},readAttributes:function(){return{name:this.$("input[name=name]").val(),attribs:this.$("input[name=attribs]").val().split(",")}},performSave:function(a){var c=this;a.preventDefault();a=this.$("input[name=name]").val();var f=this.$("input[name=attribs]").val().split(",");this.app.clearFlash();this.media.save({userId:c.app.getUser().attributes.id,name:a,attribs:f},{success:function(){c.app.db.fetchCollection("unprocessedUploads").fetch({success:function(){var a=
c.media.attributes.type.charAt(0).toUpperCase(),a=a+c.media.attributes.type.substr(1);c.app.setFlash("success",a+" Saved!")},error:c.app.error})},error:c.app.error})},performDelete:function(a){a.preventDefault();a.stopPropagation();var c=this;if(confirm("Are you sure you want to delete "+c.media.attributes.name+"?"))filepicker.remove(c.media.fpfile(),{policy:c.app.getUser().attributes.policy,signature:c.app.getUser().attributes.signature},function(){c.media.destroy({success:function(){c.app.navigate("",
{trigger:!0})},error:c.app.error})},c.app.error);else return!1},performPick:function(a){a.preventDefault();a.stopPropagation();this.app.clearFlash();this.media.pickThumbnail()},performCapture:function(a){a.preventDefault();a.stopPropagation();this.app.clearFlash();this.app.trigger("captureThumbnail",this.mediaType,this.mediaId,this.readAttributes());this.$("#useCaptureButton").button("loading")},performChoose:function(a){a.preventDefault();a.stopPropagation();this.showThumbnailPicker=!0;this.render()}});
s.exports=c})()},{"../../../templates/routes/media/edit.hbs":89,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,"../../routes/media/thumb.js":79,lodash:46}],49:[function(m,s,v){(function(){var c=m("./base"),a=m("../helpers/BackboneLoader.js"),f=m("lodash"),l=m("utilities/lib/string"),c=c.extend({name:"media",urlRoot:function(){return this.app.config.baseUrl+"/Media_is_an_abstract_class_do_not_use_it"},defaults:{name:"Untitled",s3key:null,fpkey:null,mimeType:null,originalFilesize:null,
userId:null,thumbnailS3key:null,thumbnailFpkey:null,width:1280,height:720,attribs:[],reviewIssue:null,status:0,type:"unknown"},validate:function(a,c){var f=[];a.name&&0!=a.name.length||f.push({attr:"name",message:"Media name cannot be empty"});if(f.length)return f},toJSON:function(){incoming=f.clone(this.attributes);incoming.attribs&&(incoming.userAttributes=JSON.stringify(incoming.attribs));return incoming},sync:function(c,e,f){var l=this,n=function(){!e.attributes.thumbnailS3key&&e.attributes.thumbnailFpkey&&
!0!==e.attributes.debug?filepicker.stat(l.thumbnailFpfile(),{path:!0,policy:l.app.db.fetchModel("user").attributes.policy,signature:l.app.db.fetchModel("user").attributes.signature},function(l){e.set("thumbnailS3key",l.path);a.sync(c,e,f)}):a.sync(c,e,f)};!e.attributes.s3key&&e.attributes.fpkey&&!0!==e.attributes.debug?filepicker.stat(l.fpfile(),{path:!0,policy:l.app.db.fetchModel("user").attributes.policy,signature:l.app.db.fetchModel("user").attributes.signature},function(a){e.set("s3key",a.path);
n()}):n()},destroy:function(c){var e=this;if(1===this.attributes.status)e.app.setFlash("error","Please wait until encoding is finished to delete this");else{if(c.success){var f=c.success;c.success=function(){e.app.db.fetchCollection("unprocessedUploads").fetch();e.app.db.fetchCollection("images").fetch();e.app.db.fetchCollection("videos").fetch();f&&f()}}a.sync("delete",this,c)}},parse:function(a,c){try{a.attribs=JSON.parse(a.userAttributes)}catch(f){a.attribs=[]}finally{delete a.userAttributes}return a},
pickThumbnail:function(){var a=this;filepicker.pick({extensions:a.app.config.imageExts,path:a.app.db.fetchModel("user").attributes.path+l.uuid(10),signature:a.app.db.fetchModel("user").attributes.signature,policy:a.app.db.fetchModel("user").attributes.policy,services:"COMPUTER DROPBOX FLICKR GOOGLE_DRIVE FTP URL IMAGE_SEARCH".split(" ")},function(c){a.cropThumbnail(c)},function(c){101!==c.code&&a.app.error(c)})},cropThumbnail:function(a,c){var f=this;a||(a=f.fpfile());c||f.app.setFlash("info","Please wait while we process the image...");
filepicker.convert(a,{signature:f.app.db.fetchModel("user").attributes.signature,policy:f.app.db.fetchModel("user").attributes.policy,width:f.app.config.thumbnailDims.width,height:f.app.config.thumbnailDims.height,fit:"crop"},{path:f.app.getUser().attributes.path+l.uuid(10),location:"s3",access:"public"},function(a){f.save({thumbnailFpkey:a.url,thumbnailS3key:null,status:2},{success:function(){f.app.db.fetchCollection("unprocessedUploads").fetch();c?c():f.app.setFlash("success","Thumbnail saved!")},
error:function(a,g){c?c(g.responseText):f.app.error.apply(this,arguments)}})},function(a){f.app.error(a)})},useThumbnail:function(a){var c=this;c.app.setFlash("info","Please wait while we process the image...");filepicker.store(a,{signature:c.app.getUser().attributes.signature,policy:c.app.getUser().attributes.policy,mimetype:"image/png",base64decode:!0,path:c.app.getUser().attributes.path+l.uuid(10),location:"s3",access:"public"},function(a){c.save({thumbnailFpkey:a.url,thumbnailS3key:null},{success:function(){c.app.setFlash("success",
"Thumbnail saved!");c.app.db.fetchCollection("unprocessedUploads").fetch()},error:c.app.error})},function(a){c.app.error(a)})},fpfile:function(){return{url:this.attributes.fpkey,filename:this.attributes.name,mimetype:this.attributes.mimeType,isWriteable:!1,size:this.attributes.originalFilesize}},thumbnailFpfile:function(){return{url:this.attributes.thumbnailFpkey}},templateVars:function(a,c){var k=f.clone(this.attributes);c=!0===c;k.s3key?k.url=this.app.config.s3prefix+k.s3key:k.thumbnailUrl=this.app.util.placeholderThumbnail(c);
k.thumbnailUrl=k.thumbnailS3key?this.app.config.s3prefix+k.thumbnailS3key:this.app.util.placeholderThumbnail(c);k.isImage="image"===k.type.toLowerCase();k.isVideo="video"===k.type.toLowerCase();k.isVideo&&1===k.status&&(k.thumbnailUrl=c?this.app.config.placeholders.encoding.half:this.app.config.placeholders.encoding.full);k.attributeList=k.attribs.join(",");k.attribs=f.map(k.attribs,function(a){return a.replace(/^(.*:)/,"<strong>$1</strong>")});this.app.isLoggedIn()&&(k.editHref="/media/"+k.type.toLowerCase()+
"/"+k.id+"/edit",k.removeHref="/media/"+k.type.toLowerCase()+"/"+k.id+"/remove/"+a);a&&(k.playerUrl="page/"+a+"/"+k.type.toLowerCase()+"/"+k.id);switch(k.status){case 1:k.reviewIssue="Encoding in progress";break;case 2:k.reviewIssue="Encoding completed";k.hdUrl=k.url+"/hd.mp4";k.sdUrl=k.url+"/sd.mp4";break;case 3:k.reviewIssue="Encoding failed"}k.isEncoding=1===k.status;return k}});s.exports=c})()},{"../helpers/BackboneLoader.js":44,"./base":74,lodash:46,"utilities/lib/string":83}],35:[function(m,
s,v){(function(){var c=m("async"),a=m("../../base"),f=m("../../layout/navbar.js"),l=m("../../layout/footer.js"),a=a.extend({template:m("../../../templates/routes/pages/reorder.hbs"),events:{submit:"performSave"},initialize:function(a){this.app=a.app;this.pages=this.app.db.fetchCollection("pages");this.renderOnReady(this.pages)},context:function(){var a=this.pages.map(function(a){return a.attributes});return this.getContext({pages:a})},afterRender:function(){var a=new f({app:this.app}),c=new l({app:this.app});
this.appendSubview(a,this.$("#header"));this.appendSubview(c,this.$("#footer"));this.eachSubview(function(a){a.render()});this.$(".sortable").sortable().bind("sortupdate",function(){})},readSortOrder:function(){var a=this,e=[],f=[];a.$(".sortable").children().each(function(c,l){var m=a.pages.get($(l).attr("data-uuid"));m.set("priority",c);e.push(m);f.push(function(a){m.save({},{success:a})})});a.pages.reset(e).sort();c.parallel(f,function(){a.app.setFlash("success","Page order saved!");a.$("button").button("reset")})},
performSave:function(a){a&&(a.preventDefault(),a.stopPropagation());this.app.clearFlash();this.$("button").button("loading");this.readSortOrder()}});s.exports=a})()},{"../../../templates/routes/pages/reorder.hbs":90,"../../base":55,"../../layout/footer.js":53,"../../layout/navbar.js":52,async:91}],41:[function(m,s,v){(function(){var c=m("../../base"),a=m("lodash"),f=m("js-thumb"),l=m("./carousel");m("videojs");c=c.extend({template:m("../../../templates/routes/media/show.hbs"),events:{},initialize:function(a){this.app=
a.app;this.pageName=a.pageName;this.mediaType=a.mediaType;this.mediaId=a.mediaId;var c=this.app.db.fetchCollection("pages");this.page=this.app.db.fetchModel("page",a.mediaId);this.media=this.app.db.fetchModel(a.mediaType,a.mediaId);this.page.id&&this.page.fetch();this.media.id&&this.media.fetch();this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.media,"change",this.render,this);c.once("ready",function(){var f=c.find(function(c){return c.attributes.name.toLowerCase()===
a.pageName.toLowerCase()});f?(this.page=f,this.listenTo(this.page,"change",this.render,this)):(this.page.set({name:"404"}),this.app.error("Error 404: The page could not be found"));this.render()},this)},afterRender:function(){var c=this,e=this.media.templateVars(),k=new l({app:this.app,pageName:this.pageName}),m=function(a,e,f){if(a)c.app.error(a);else f.on("ended",function(){c.app.trigger("videoEnded",c.media)})};this.appendSubview(k,this.$("#carouselWrapper"));this.eachSubview(function(a){a.render()});
a.defer(function(){c.media&&(c.media.attributes&&"video"===c.media.attributes.type.toLowerCase()&&2===c.media.attributes.status)&&(c.$("#vid_placeholder").empty(),f.loadVideo(c.$("#vid_placeholder")[0],{vjs:{autoplay:!0},attributes:{center:!0,resize:{maxWidth:960,upscale:!1},width:c.media.attributes.width||960,height:c.media.attributes.height||540},sources:[{src:e.hdUrl,type:c.app.util.mime("video/mp4")}]},m))})},context:function(){return this.getContext({media:this.media.templateVars()})}});s.exports=
c})()},{"../../../templates/routes/media/show.hbs":92,"../../base":55,"./carousel":81,"js-thumb":47,lodash:46,videojs:76}],55:[function(m,s,v){(function(){var c=m("ribcage-view"),a=m("lodash"),c=c.extend({renderOnReady:function(){var c=Array.prototype.slice.call(arguments),l=this,g=c.length,e=function(){g--;0>g&&l.render()};a.each(c,function(a){a.once("ready",e,a)});e()},getContext:function(c){c=c||{};var l={isLoggedIn:this.app.isLoggedIn(),flash:a.clone(this.app.flash),debug:this.app.bootstrap.debug?
!0:!1},g=this.app.getUserVars();return a.extend({},g,l,c)},context:function(){return this.getContext()},handleAppLink:function(a){this.app.handleAppLink(a)},events:{"click a.app":"handleAppLink"},beforeRender:function(){this.eachSubview(function(a){a.close()});this.$el.empty()}});s.exports=c})()},{lodash:46,"ribcage-view":93}],91:[function(m,s,v){var c=m("__browserify_process");(function(){function a(a){var b=!1;return function(){if(b)throw Error("Callback was already called.");b=!0;a.apply(l,arguments)}}
var f={},l,g;l=this;null!=l&&(g=l.async);f.noConflict=function(){l.async=g;return f};var e=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},k=function(a,b){if(a.map)return a.map(b);var c=[];e(a,function(a,d,e){c.push(b(a,d,e))});return c},m=function(a,b,c){if(a.reduce)return a.reduce(b,c);e(a,function(a,d,e){c=b(c,a,d,e)});return c},n=function(a){if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!==
typeof c&&c.nextTick?(f.nextTick=c.nextTick,f.setImmediate="undefined"!==typeof setImmediate?setImmediate:f.nextTick):(f.nextTick="function"===typeof setImmediate?function(a){setImmediate(a)}:function(a){setTimeout(a,0)},f.setImmediate=f.nextTick);f.each=function(b,c,d){d=d||function(){};if(!b.length)return d();var f=0;e(b,function(e){c(e,a(function(a){a?(d(a),d=function(){}):(f+=1,f>=b.length&&d(null))}))})};f.forEach=f.each;f.eachSeries=function(a,b,c){c=c||function(){};if(!a.length)return c();
var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):e())})};e()};f.forEachSeries=f.eachSeries;f.eachLimit=function(a,b,c,d){A(b).apply(null,[a,c,d])};f.forEachLimit=f.eachLimit;var A=function(a){return function(b,c,d){d=d||function(){};if(!b.length||0>=a)return d();var e=0,f=0,g=0;(function G(){if(e>=b.length)return d();for(;g<a&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():G())})})()}},z=function(a){return function(){var b=
Array.prototype.slice.call(arguments);return a.apply(null,[f.each].concat(b))}},b=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[A(a)].concat(c))}},d=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.eachSeries].concat(b))}},t=function(a,b,c,d){var e=[];b=k(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d;b(c)})},function(a){d(a,e)})};f.map=z(t);f.mapSeries=
d(t);f.mapLimit=function(a,c,d,e){return b(c,t)(a,d,e)};f.reduce=function(a,b,c,d){f.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c;d(a)})},function(a){d(a,b)})};f.inject=f.reduce;f.foldl=f.reduce;f.reduceRight=function(a,b,c,d){a=k(a,function(a){return a}).reverse();f.reduce(a,b,c,d)};f.foldr=f.reduceRight;var v=function(a,b,c,d){var e=[];b=k(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c&&e.push(a);b()})},function(a){d(k(e.sort(function(a,b){return a.index-
b.index}),function(a){return a.value}))})};f.filter=z(v);f.filterSeries=d(v);f.select=f.filter;f.selectSeries=f.filterSeries;v=function(a,b,c,d){var e=[];b=k(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c||e.push(a);b()})},function(a){d(k(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.reject=z(v);f.rejectSeries=d(v);v=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(a){d()})};f.detect=
z(v);f.detectSeries=d(v);f.some=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){});d()})},function(a){c(!1)})};f.any=f.some;f.every=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){});d()})},function(a){c(!0)})};f.all=f.every;f.sortBy=function(a,b,c){f.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);c(null,k(b.sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),
function(a){return a.value}))})};f.auto=function(a,b){b=b||function(){};var c=n(a);if(!c.length)return b(null);var d={},g=[],k=function(a){g.unshift(a)},l=function(){e(g.slice(0),function(a){a()})};k(function(){n(d).length===c.length&&(b(null,d),b=function(){})});e(c,function(c){var t=a[c]instanceof Function?[a[c]]:a[c],z=function(a){var g=Array.prototype.slice.call(arguments,1);1>=g.length&&(g=g[0]);if(a){var k={};e(n(d),function(a){k[a]=d[a]});k[c]=g;b(a,k);b=function(){}}else d[c]=g,f.setImmediate(l)},
A=t.slice(0,Math.abs(t.length-1))||[],s=function(){return m(A,function(a,b){return a&&d.hasOwnProperty(b)},!0)&&!d.hasOwnProperty(c)};if(s())t[t.length-1](z,d);else{var v=function(){if(s()){a:for(var a=v,b=0;b<g.length;b+=1)if(g[b]===a){g.splice(b,1);break a}t[t.length-1](z,d)}};k(v)}})};f.waterfall=function(a,b){b=b||function(){};if(a.constructor!==Array)return b(Error("First argument to waterfall must be an array of functions"));if(!a.length)return b();var c=function(a){return function(d){if(d)b.apply(null,
arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();g?e.push(c(g)):e.push(b);f.setImmediate(function(){a.apply(null,e)})}}};c(f.iterator(a))()};var B=function(a,b,c){c=c||function(){};if(b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};a.each(n(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);1>=e.length&&(e=e[0]);d[a]=
e;c(b)})},function(a){c(a,d)})}};f.parallel=function(a,b){B({map:f.map,each:f.each},a,b)};f.parallelLimit=function(a,c,d){B({map:b(c,t),each:A(c)},a,d)};f.series=function(a,b){b=b||function(){};if(a.constructor===Array)f.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},b);else{var c={};f.eachSeries(n(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);1>=e.length&&(e=e[0]);c[b]=e;d(a)})},
function(a){b(a,c)})}};f.iterator=function(a){var b=function(c){var d=function(){a.length&&a[c].apply(null,arguments);return d.next()};d.next=function(){return c<a.length-1?b(c+1):null};return d};return b(0)};f.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};v=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]);b(a)})},function(a){d(a,e)})};f.concat=z(v);f.concatSeries=
d(v);f.whilst=function(a,b,c){a()?b(function(d){if(d)return c(d);f.whilst(a,b,c)}):c()};f.doWhilst=function(a,b,c){a(function(d){if(d)return c(d);b()?f.doWhilst(a,b,c):c()})};f.until=function(a,b,c){a()?c():b(function(d){if(d)return c(d);f.until(a,b,c)})};f.doUntil=function(a,b,c){a(function(d){if(d)return c(d);b()?c():f.doUntil(a,b,c)})};f.queue=function(b,c){function d(a,b,g,k){b.constructor!==Array&&(b=[b]);e(b,function(b){b={data:b,callback:"function"===typeof k?k:null};g?a.tasks.unshift(b):a.tasks.push(b);
a.saturated&&a.tasks.length===c&&a.saturated();f.setImmediate(a.process)})}void 0===c&&(c=1);var g=0,k={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,push:function(a,b){d(k,a,!1,b)},unshift:function(a,b){d(k,a,!0,b)},process:function(){if(g<k.concurrency&&k.tasks.length){var c=k.tasks.shift();k.empty&&0===k.tasks.length&&k.empty();g+=1;var d=a(function(){g-=1;c.callback&&c.callback.apply(c,arguments);k.drain&&0===k.tasks.length+g&&k.drain();k.process()});b(c.data,d)}},length:function(){return k.tasks.length},
running:function(){return g}};return k};f.cargo=function(a,b){var c=!1,d=[],g={tasks:d,payload:b,saturated:null,empty:null,drain:null,push:function(a,c){a.constructor!==Array&&(a=[a]);e(a,function(a){d.push({data:a,callback:"function"===typeof c?c:null});g.saturated&&d.length===b&&g.saturated()});f.setImmediate(g.process)},process:function E(){if(!c)if(0===d.length)g.drain&&g.drain();else{var f="number"===typeof b?d.splice(0,b):d.splice(0),l=k(f,function(a){return a.data});g.empty&&g.empty();c=!0;
a(l,function(){c=!1;var a=arguments;e(f,function(b){b.callback&&b.callback.apply(null,a)});E()})}},length:function(){return d.length},running:function(){return c}};return g};v=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!==typeof console&&(b?console.error&&console.error(b):console[a]&&e(c,function(b){console[a](b)}))}]))}};f.log=v("log");f.dir=v("dir");f.memoize=function(a,
b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];for(var b=0,e=a.length;b<e;b++)a[b].apply(null,arguments)}])))};e.memo=c;e.unmemoized=a;return e};f.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}};f.times=function(a,b,c){for(var d=[],e=0;e<a;e++)d.push(e);
return f.map(d,b,c)};f.timesSeries=function(a,b,c){for(var d=[],e=0;e<a;e++)d.push(e);return f.mapSeries(d,b,c)};f.compose=function(){var a=Array.prototype.reverse.call(arguments);return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();f.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}};v=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),
e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};f.applyEach=z(v);f.applyEachSeries=d(v);f.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d;}a(c)}c()};"undefined"!==typeof define&&define.amd?define([],function(){return f}):"undefined"!==typeof s&&s.exports?s.exports=f:l.async=f})()},{__browserify_process:3}],54:[function(m,s,v){m=m("handlebars-runtime");s.exports=
m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];this.merge(f,c.helpers);var e;c=this.escapeExpression;return a=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h1 class="title">'+c((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+'</h1>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>')})},{"handlebars-runtime":94}],52:[function(m,s,v){(function(){var c=
m("../base"),a=m("../../helpers/BackboneLoader.js"),f=m("lodash"),c=c.extend({template:m("../../templates/layout/navbar.hbs"),initialize:function(a){this.app=a.app;this.pages=this.app.db.fetchCollection("pages");this.unprocessed=this.app.db.fetchCollection("unprocessedUploads");this.listenTo(this.pages,"change add remove sort",this.render,this);this.listenTo(this.unprocessed,"change add remove",this.render,this);this.listenTo(this.app.getUser(),"change",this.render,this);this.listenTo(this.app,"flash",
this.render,this);this.renderOnReady(this.pages,this.unprocessed,this.app.getUser())},context:function(){var c=null,g=null,e=[],k=this.unprocessed.length,m=this.unprocessed.length+" upload"+(1===this.unprocessed.length?"":"s")+" "+(1===this.unprocessed.length?"is":"are")+" being encoded",n=this.app.getCustomization(),A;n&&(n.attributes&&n.attributes.config)&&(n=n.attributes.config,A=n.showContact?n.showContact.value:!1);this.pages.forEach(function(k){if(this.app.isLoggedIn()||k.attributes.isPublished){var b=
encodeURIComponent(k.attributes.name);k=f.extend(f.clone(k.attributes),{href:"/page/"+b,editHref:"/page/"+b+"/edit",addHref:"/page/"+b+"/addMedia",active:!1});if(a.history.fragment===k.href.replace(/^\//,"")||0==a.history.fragment.indexOf("page/"+b+"/"))k.active=!0,g=k.editHref,c=k.addHref;e.push(k)}},this);return this.getContext({pages:e,editPageHref:g,addMediaHref:c,showContact:A,createHref:"/createPage",reviewHref:"/review",reorderHref:"/reorder",hasAtLeastTwoPages:1<this.pages.length,isHome:""===
a.history.fragment,isContact:a.history.fragment.match(/^contact/)?!0:!1,isPage:a.history.fragment.match(/^(edit)?[pP]age\//)?!0:!1,isEditingPage:a.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isAddingMedia:a.history.fragment.match(/^page\/[a-zA-Z0-9\-]+\/(addMedia|pickMedia)$/)?!0:!1,isEditingMedia:a.history.fragment.match(/^media\/(image|video)\/[a-zA-Z0-9\-]+\/edit$/)?!0:!1,isCreatingPage:a.history.fragment.match(/^createPage/)?!0:!1,isReviewingUploads:a.history.fragment.match(/^review/)?
!0:!1,isReorderingPages:a.history.fragment.match(/^reorder/)?!0:!1,unprocessedCount:k,unprocessedPrompt:m})},afterRender:function(){this.eachSubview(function(a){a.render()});this.$(".alert").alert()}});s.exports=c})()},{"../../helpers/BackboneLoader.js":44,"../../templates/layout/navbar.hbs":95,"../base":55,lodash:46}],56:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];this.merge(f,c.helpers);var e;c=this.escapeExpression;return a=
""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <h2>Sorry!</h2>\n      <p>\n        There are no pages on '+c((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+"'s site yet.\n      </p>\n      <p>\n        <strong>Are you "+c((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+'?</strong><br />\n        Log in with the link in the footer, create a page, and make it public to remove this message.\n      </p>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>')})},
{"handlebars-runtime":94}],57:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){function e(a,b){return'\n          <div class="alert alert-info">\n            <h3>Test Account Available</h3>\n            <p>This app is running in debug mode. Click the button below to provision a temporary account.</p>\n            <a class="provisionTestAccount btn btn-info btn-block">Create Test Account</a>\n          </div>\n        '}function k(a,b){var c,e;return c=""+('\n          <div class="alert alert-error">\n            '+
n((e=(e=a.user,null==e||!1===e?e:e.error),typeof e===m?e.apply(a):e))+"\n          </div>\n        ")}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var m="function",n=this.escapeExpression,A=this;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3">\n      ';if((a=f["if"].call(a,a.isLoggedIn,{hash:{},inverse:A.program(3,function(a,b){var c,g,l;c="\n        ";if((g=f["if"].call(a,a.debug,{hash:{},inverse:A.noop,
fn:A.program(4,e,b),data:b}))||0===g)c+=g;c+="\n        ";if((l=f["if"].call(a,(g=a.user,null==g||!1===g?g:g.error),{hash:{},inverse:A.noop,fn:A.program(6,k,b),data:b}))||0===l)c+=l;return c+='\n        <form>\n          <div class="control-group">\n            <input type="text" name="username" value="'+n((g=(g=a.user,null==g||!1===g?g:g.username),typeof g===m?g.apply(a):g))+'" class="span6" placeholder="Username" />\n          </div>\n          <div class="control-group">\n            <input type="password" name="password" value="" class="span6" placeholder="Password" />\n          </div>\n          <div class="actions">\n            <button type="submit" class="btn btn-primary btn-block">Log In</button>\n          </div>\n        </form>\n      '},
g),fn:A.program(1,function(a,b){var c,e;return c=""+('\n        <div class="alert alert-info">\n          <h3>Welcome Back, '+n((e=(e=a.user,null==e||!1===e?e:e.username),typeof e===m?e.apply(a):e))+'</h3>\n          <p>You\'re now able to edit your website.</p>\n          <a href="/" class="btn btn-info btn-wide app">Go to homepage</a>\n          <a href="/logout" class="btn btn-danger btn-wide app">Log Out</a>\n        </div>\n      ')},g),data:g}))||0===a)c+=a;return c+'\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},
{"handlebars-runtime":94}],58:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var e=this.escapeExpression;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span12 centered">\n      <table class="table">\n        <thead>\n          <tr>\n            <th>File</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          ';
if((l=f.each.call(a,a.unprocessed,{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){var g,l;g="\n            <tr>\n              <td><big>";(l=f.name)?l=l.call(a,{hash:{},data:c}):(l=a.name,l="function"===typeof l?l.apply(a):l);g+=e(l)+"</big></td>\n              <td><big>";(l=f.reviewIssue)?l=l.call(a,{hash:{},data:c}):(l=a.reviewIssue,l="function"===typeof l?l.apply(a):l);return g+=e(l)+"</big></td>\n            </tr>\n          "},g),data:g}))||0===l)c+=l;c+="\n          ";if((l=f["if"].call(a,
a.nothingToReview,{hash:{},inverse:this.noop,fn:this.program(3,function(a,c){return'\n            <tr>\n              <td colspan="2">All videos encoded!</td>\n            </tr>\n          '},g),data:g}))||0===l)c+=l;return c+'\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":94}],59:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,
c.helpers);g=g||{};var e;l=this.escapeExpression;c=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 offset3 centered">\n      <form>\n        <fieldset>\n          <legend>Send '+l((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+' A Message</legend>\n          <label class="control-label" for="name">Your Name</label>\n          <input type="text" id="name" name="name" placeholder="John Doe" class="span6" value="');
(e=f.nameVal)?e=e.call(a,{hash:{},data:g}):(e=a.nameVal,e="function"===typeof e?e.apply(a):e);c+=l(e)+'">\n          <label class="control-label" for="email">Your Email</label>\n          <input type="email" id="email" name="email" placeholder="john@doe.com" class="span6" value="';(e=f.emailVal)?e=e.call(a,{hash:{},data:g}):(e=a.emailVal,e="function"===typeof e?e.apply(a):e);c+=l(e)+'">\n          <label class="control-label" for="message">Your Message</label>\n          <textarea id="message" name="message" placeholder="Your Message" rows="5" class="span6">';
(e=f.messageVal)?e=e.call(a,{hash:{},data:g}):(e=a.messageVal,e="function"===typeof e?e.apply(a):e);return c+=l(e)+'</textarea>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success" data-loading-text="Sending...">Send</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>'})},{"handlebars-runtime":94}],94:[function(m,
s,v){m={};s.exports=m;(function(c,a){c.VERSION="1.0.0";c.COMPILER_REVISION=4;c.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};c.helpers={};c.partials={};var f=Object.prototype.toString;c.registerHelper=function(a,e,g){if("[object Object]"===f.call(a)){if(g||e)throw new c.Exception("Arg not supported with multiple helpers");c.Utils.extend(this.helpers,a)}else g&&(e.not=g),this.helpers[a]=e};c.registerPartial=function(a,e){"[object Object]"===f.call(a)?c.Utils.extend(this.partials,
a):this.partials[a]=e};c.registerHelper("helperMissing",function(c){if(2===arguments.length)return a;throw Error("Missing helper: '"+c+"'");});c.registerHelper("blockHelperMissing",function(a,e){var g=e.inverse||function(){},b=e.fn,d=f.call(a);"[object Function]"===d&&(a=a.call(this));return!0===a?b(this):!1===a||null==a?g(this):"[object Array]"===d?0<a.length?c.helpers.each(a,e):g(this):b(a)});c.K=function(){};c.createFrame=Object.create||function(a){c.K.prototype=a;a=new c.K;c.K.prototype=null;
return a};c.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(a,e){if(c.logger.level<=a){var f=c.logger.methodMap[a];"undefined"!==typeof console&&console[f]&&console[f].call(console,e)}}};c.log=function(a,e){c.logger.log(a,e)};c.registerHelper("each",function(a,e){var g=e.fn,b=e.inverse,d=0,k="",l;"[object Function]"===f.call(a)&&(a=a.call(this));e.data&&(l=c.createFrame(e.data));if(a&&"object"===typeof a)if(a instanceof Array)for(var m=
a.length;d<m;d++)l&&(l.index=d),k+=g(a[d],{data:l});else for(m in a)a.hasOwnProperty(m)&&(l&&(l.key=m),k+=g(a[m],{data:l}),d++);0===d&&(k=b(this));return k});c.registerHelper("if",function(a,e){"[object Function]"===f.call(a)&&(a=a.call(this));return!a||c.Utils.isEmpty(a)?e.inverse(this):e.fn(this)});c.registerHelper("unless",function(a,e){return c.helpers["if"].call(this,a,{fn:e.inverse,inverse:e.fn})});c.registerHelper("with",function(a,e){"[object Function]"===f.call(a)&&(a=a.call(this));if(!c.Utils.isEmpty(a))return e.fn(a)});
c.registerHelper("log",function(a,e){var f=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;c.log(f,a)});var l="description fileName lineNumber message name number stack".split(" ");c.Exception=function(a){for(var c=Error.prototype.constructor.apply(this,arguments),e=0;e<l.length;e++)this[l[e]]=c[l[e]]};c.Exception.prototype=Error();c.SafeString=function(a){this.string=a};c.SafeString.prototype.toString=function(){return this.string.toString()};var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;",
"'":"&#x27;","`":"&#x60;"},e=/[&<>"'`]/g,k=/[&<>"'`]/,m=function(a){return g[a]||"&amp;"};c.Utils={extend:function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])},escapeExpression:function(a){if(a instanceof c.SafeString)return a.toString();if(null==a||!1===a)return"";a=a.toString();return k.test(a)?a.replace(e,m):a},isEmpty:function(a){return a||0===a?"[object Array]"===f.call(a)&&0===a.length?!0:!1:!0}};c.VM={template:function(a){var e={escapeExpression:c.Utils.escapeExpression,invokePartial:c.VM.invokePartial,
programs:[],program:function(a,b,d){var e=this.programs[a];d?e=c.VM.program(a,b,d):e||(e=this.programs[a]=c.VM.program(a,b));return e},merge:function(a,b){var d=a||b;a&&b&&(d={},c.Utils.extend(d,b),c.Utils.extend(d,a));return d},programWithDepth:c.VM.programWithDepth,noop:c.VM.noop,compilerInfo:null};return function(f,b){b=b||{};var d=a.call(e,c,f,b.helpers,b.partials,b.data),g=e.compilerInfo||[],k=g[0]||1,l=c.COMPILER_REVISION;if(k!==l){if(k<l)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
c.REVISION_CHANGES[l]+") or downgrade your runtime to an older version ("+c.REVISION_CHANGES[k]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+").";}return d}},programWithDepth:function(a,c,e){var b=Array.prototype.slice.call(arguments,3),d=function(a,d){d=d||{};return c.apply(this,[a,d.data||e].concat(b))};d.program=a;d.depth=b.length;return d},program:function(a,c,e){var b=function(a,b){b=b||
{};return c(a,b.data||e)};b.program=a;b.depth=0;return b},noop:function(){return""},invokePartial:function(e,f,g,b,d,k){b={helpers:b,partials:d,data:k};if(e===a)throw new c.Exception("The partial "+f+" could not be found");if(e instanceof Function)return e(g,b);if(c.compile)return d[f]=c.compile(e,{data:k!==a}),d[f](g,b);throw new c.Exception("The partial "+f+" could not be compiled when running in runtime-only mode");}};c.template=c.VM.template})(m)},{}],87:[function(m,s,v){m=m("handlebars-runtime");
s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var e;c=this.escapeExpression;c=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>New Media Page</legend>\n          <div class="control-group">\n            <label class="control-label" for="name">Page Title</label>\n            <input type="text" id="name" name="name" placeholder="Untitled Page" value="'+
c((e=(e=a.page,null==e||!1===e?e:e.name),"function"===typeof e?e.apply(a):e))+'">\n          </div>\n          <div class="control-group">\n            <div class="controls">\n              <button type="submit" class="btn btn-success">Create</button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n    <div class="span6 centered">\n      <form>\n        <fieldset>\n          <legend>Custom Pages</legend>\n          <div class="control-group">\n            <label class="control-label" for="showContact">Show Contact Page?</label>\n            <div class="switch switch-large"\n              data-on-label="Yes"\n              data-off-label="No">\n              <input name="showContact" ');
if((a=f["if"].call(a,a.showContact,{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){return'checked="checked"'},g),data:g}))||0===a)c+=a;return c+' type="checkbox" />\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":94}],61:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];this.merge(f,c.helpers);
return'<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":94}],63:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){function e(a,c){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var k=this.escapeExpression,m=this;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <form>\n      <div class="span3 centered">\n        ';
if((l=f["with"].call(a,a.page,{hash:{},inverse:m.noop,fn:m.program(1,function(a,c){var g,b;g='\n        <fieldset>\n          <legend>Title</legend>\n          <input type="text" id="name" name="name" placeholder="Untitled Page" value="';(b=f.name)?b=b.call(a,{hash:{},data:c}):(b=a.name,b="function"===typeof b?b.apply(a):b);g+=k(b)+'">\n        </fieldset>\n        <fieldset>\n          <legend>Visible To Public?</legend>\n          <div class="switch switch-large"\n            data-on-label="Yes"\n            data-off-label="No">\n            <input name="isPublished" ';
if((b=f["if"].call(a,a.isPublished,{hash:{},inverse:m.noop,fn:m.program(2,e,c),data:c}))||0===b)g+=b;return g+' type="checkbox" />\n          </div>\n        </fieldset>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            <a class="btn btn-danger">Delete</a>\n          </div>\n        </div>\n        '},g),data:g}))||0===l)c+=l;c+='\n      </div>\n      <div class="span9">\n        <fieldset>\n          <div class="alert alert-info">\n            Drag to sort media\n          </div>\n          <ul class="mediagrid sortable">\n          ';
if((l=f.each.call(a,a.media,{hash:{},inverse:m.noop,fn:m.program(4,function(a,c){var e,b;e='\n            <li class="span4" data-uuid="';(b=f.id)?b=b.call(a,{hash:{},data:c}):(b=a.id,b="function"===typeof b?b.apply(a):b);e+=k(b)+'">\n              <div class="relfix">\n                <img src="';(b=f.thumbnailUrl)?b=b.call(a,{hash:{},data:c}):(b=a.thumbnailUrl,b="function"===typeof b?b.apply(a):b);e+=k(b)+'" alt="';(b=f.name)?b=b.call(a,{hash:{},data:c}):(b=a.name,b="function"===typeof b?b.apply(a):
b);e+=k(b)+'" class="img-polaroid" />\n                <p class="absfix">\n                  <a href="';(b=f.editHref)?b=b.call(a,{hash:{},data:c}):(b=a.editHref,b="function"===typeof b?b.apply(a):b);return e+=k(b)+'" class="app btn btn-mini btn-info">Edit</a>\n                </p>\n              </div>\n            </li>\n          '},g),data:g}))||0===l)c+=l;return c+'\n          </ul>\n        </fieldset>\n      </div>\n    </form>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},
{"handlebars-runtime":94}],90:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var e=this.escapeExpression;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="span4 offset4 centered">\n    <form>\n      <fieldset>\n        <legend>Drag To Sort</legend>\n        <ul class="sortable pageSortable">\n        ';if((a=f.each.call(a,a.pages,{hash:{},
inverse:this.noop,fn:this.program(1,function(a,c){var g,l;g='\n          <li data-uuid="';(l=f.id)?l=l.call(a,{hash:{},data:c}):(l=a.id,l="function"===typeof l?l.apply(a):l);g+=e(l)+'">';(l=f.name)?l=l.call(a,{hash:{},data:c}):(l=a.name,l="function"===typeof l?l.apply(a):l);return g+=e(l)+"</li>\n        "},g),data:g}))||0===a)c+=a;return c+'\n        </ul>\n      </fieldset>\n      <div class="control-group">\n        <div class="controls">\n          <button type="submit" class="btn btn-success" data-loading-text="Saving...">Save</button>\n        </div>\n      </div>\n    </form>\n    </div>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},
{"handlebars-runtime":94}],64:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var e,k=this.escapeExpression;c='<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    ';if((a=f["if"].call(a,(e=a.page,null==e||!1===e?e:e.id),{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){var e,g;e='\n    <div class="span2 offset4 centered">\n      <div id="uploadFileLink">\n        <p>\n          <a href="#" class="filepicker">\n            <img class="flatIcon" src="/img/file_upload.png" alt="upload-file" />\n          </a>\n        </p>\n        <p>\n          <a href="#" class="filepicker btn btn-success">Upload File</a>\n        </p>\n      </div>\n    </div>\n    <div class="span2 centered">\n      <div id="pickFileLink">\n        <p>\n          <a href="';
(g=f.pickMediaUrl)?g=g.call(a,{hash:{},data:c}):(g=a.pickMediaUrl,g="function"===typeof g?g.apply(a):g);e+=k(g)+'" class="app">\n            <img class="flatIcon" src="/img/folder.png" alt="pick-file" />\n          </a>\n        </p>\n        <p>\n          <a href="';(g=f.pickMediaUrl)?g=g.call(a,{hash:{},data:c}):(g=a.pickMediaUrl,g="function"===typeof g?g.apply(a):g);return e+=k(g)+'" class="useExisting btn btn-info app">Use Existing</a>\n        </p>\n      </div>\n    </div>\n    '},g),data:g}))||
0===a)c+=a;return c+'\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":94}],88:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var e,k=this.escapeExpression;c=""+('<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <div class="alert alert-block">\n      <h3>This Is All Your Media</h3>\n      <p>\n        Select a file to add it to '+
k((e=(e=a.page,null==e||!1===e?e:e.name),"function"===typeof e?e.apply(a):e))+', or <a href="');(e=f.uploadUrl)?e=e.call(a,{hash:{},data:g}):(e=a.uploadUrl,e="function"===typeof e?e.apply(a):e);c+=k(e)+'" class="app">Upload A New File</a>.\n      </p>\n    </div>\n    <ul class="reelgrid">\n    ';if((e=f.each.call(a,a.media,{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){var e,g;e='\n      <li>\n        <div class="relfix">\n          <a href="#" data-media-id="';(g=f.id)?g=g.call(a,{hash:{},
data:c}):(g=a.id,g="function"===typeof g?g.apply(a):g);e+=k(g)+'" data-media-type="';(g=f.type)?g=g.call(a,{hash:{},data:c}):(g=a.type,g="function"===typeof g?g.apply(a):g);e+=k(g)+'">\n            <img src="';(g=f.thumbnailUrl)?g=g.call(a,{hash:{},data:c}):(g=a.thumbnailUrl,g="function"===typeof g?g.apply(a):g);e+=k(g)+'" alt="';(g=f.name)?g=g.call(a,{hash:{},data:c}):(g=a.name,g="function"===typeof g?g.apply(a):g);e+=k(g)+'" />\n            <div class="captions centered">\n              <h2>';(g=
f.name)?g=g.call(a,{hash:{},data:c}):(g=a.name,g="function"===typeof g?g.apply(a):g);return e+=k(g)+"</h2>\n            </div>\n          </a>\n        </div>\n      </li>\n    "},g),data:g}))||0===e)c+=e;return c+'\n    </ul>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'})},{"handlebars-runtime":94}],92:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){function e(a,b){var c,e;c="\n        ";if((e=f["if"].call(a,a.isEncoding,{hash:{},inverse:d.program(5,
m,b),fn:d.program(3,k,b),data:b}))||0===e)c+=e;return c+"\n      "}function k(a,c){var d,e;d='\n          <img id="media_image" class="pickerHolder" alt="';(e=f.name)?e=e.call(a,{hash:{},data:c}):(e=a.name,e=typeof e===v?e.apply(a):e);d+=b(e)+'" src="';(e=f.thumbnailUrl)?e=e.call(a,{hash:{},data:c}):(e=a.thumbnailUrl,e=typeof e===v?e.apply(a):e);return d+=b(e)+'" />\n        '}function m(a,b){return'\n          <div id="vid_placeholder" />\n        '}function n(a,c){var d,e;d='\n        <img id="media_image" class="pickerHolder" alt="';
(e=f.name)?e=e.call(a,{hash:{},data:c}):(e=a.name,e=typeof e===v?e.apply(a):e);d+=b(e)+'" src="';(e=f.url)?e=e.call(a,{hash:{},data:c}):(e=a.url,e=typeof e===v?e.apply(a):e);return d+=b(e)+'" />\n      '}function s(a,b){var c,d;c="\n          <li>";if((d=typeof a===v?a.apply(a):a)||0===d)c+=d;return c+"</li>\n        "}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var v="function",b=this.escapeExpression,d=this;c='<div id="carouselWrapper">\n</div>\n<div id="content" class="container">\n  <div class="row">\n    <div id="preview" class="span12 centered previewPadding">\n    ';
if((a=f["with"].call(a,a.media,{hash:{},inverse:d.noop,fn:d.program(1,function(a,c){var g,k;g="\n      ";if((k=f["if"].call(a,a.isVideo,{hash:{},inverse:d.program(7,n,c),fn:d.program(2,e,c),data:c}))||0===k)g+=k;g+='\n      <div class="media_meta">\n        <h4>';(k=f.name)?k=k.call(a,{hash:{},data:c}):(k=a.name,k=typeof k===v?k.apply(a):k);g+=b(k)+"</h4>\n        <ul>\n        ";if((k=f.each.call(a,a.attribs,{hash:{},inverse:d.noop,fn:d.program(9,s,c),data:c}))||0===k)g+=k;return g+"\n        </ul>\n      </div>\n    "},
g),data:g}))||0===a)c+=a;return c+"\n    </div>\n  </div>\n</div>\n"})},{"handlebars-runtime":94}],89:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){function e(a,b,c){var d,e;d="\n      <fieldset>\n        <legend>Thumbnail</legend>\n        ";if((e=f["if"].call(a,a.thumbnailS3key,{hash:{},inverse:B.program(5,m,b),fn:B.program(3,k,b),data:b}))||0===e)d+=e;d+='\n        <input type="hidden" id="thumbnail" name="thumbnail" value="';(e=f.thumbnail)?e=e.call(a,{hash:{},
data:b}):(e=a.thumbnail,e=typeof e===t?e.apply(a):e);d+=x(e)+'">\n        ';if((e=f.unless.call(a,c.showThumbnailPicker,{hash:{},inverse:B.noop,fn:B.program(7,n,b),data:b}))||0===e)d+=e;d+="\n        ";if((e=f["if"].call(a,a.isImage,{hash:{},inverse:B.noop,fn:B.program(10,v,b),data:b}))||0===e)d+=e;return d+'\n        <a id="useCustomButton" href="#" class="btn btn-inverse btn-mini upload">Upload Thumbnail</a>\n      </fieldset>\n      '}function k(a,b){var c,d;c='\n          <p>\n            <img src="';
(d=f.thumbnailUrl)?d=d.call(a,{hash:{},data:b}):(d=a.thumbnailUrl,d=typeof d===t?d.apply(a):d);c+=x(d)+'" class="thumbHolder img-polaroid" alt="';(d=f.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===t?d.apply(a):d);return c+=x(d)+' Thumbnail" />\n          </p>\n        '}function m(a,b){return'\n          <div class="alert alert-warning">\n            <big>No thumbnail yet! Select or upload one.</big>\n          </div>\n        '}function n(a,b){var c,d;c="\n          ";if((d=f["if"].call(a,
a.isVideo,{hash:{},inverse:B.noop,fn:B.program(8,s,b),data:b}))||0===d)c+=d;return c+"\n        "}function s(a,b){return'\n            <a id="chooseFrameButton" href="#" class="btn btn-info btn-mini choose">Choose A Frame</a>\n          '}function v(a,b){return'\n          <a id="useOriginalButton" href="#" class="btn btn-info btn-mini crop" data-loading-text="Processing...">Use Original</a>\n        '}function b(a,b){var c,e;c='\n    <div class="span6">\n      <div class="row centered">\n        <div id="thumber">\n        </div>\n        <div class="controls">\n          ';
if((e=f["if"].call(a,a.isVideo,{hash:{},inverse:B.noop,fn:B.program(13,d,b),data:b}))||0===e)c+=e;return c+"\n      </div>\n    </div>\n    "}function d(a,b){return'\n            <a id="useCaptureButton" href="#" class="btn btn-info btn-mini capture" data-loading-text="Processing...">Use Current Frame</a>\n          '}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};c="";var t="function",x=this.escapeExpression,B=this;if((a=f["with"].call(a,a.media,{hash:{},inverse:B.noop,fn:B.programWithDepth(1,
function(a,c,d){var g,k;g='\n<div class="container">\n  <div id="header">\n  </div>\n  <div id="content" class="row">\n    <form>\n    <div class="span6">\n      <fieldset>\n        <legend>Title</legend>\n        <input type="text" id="fileNameField" name="name" placeholder="Untitled ';(k=f.type)?k=k.call(a,{hash:{},data:c}):(k=a.type,k=typeof k===t?k.apply(a):k);g+=x(k)+'" value="';(k=f.name)?k=k.call(a,{hash:{},data:c}):(k=a.name,k=typeof k===t?k.apply(a):k);g+=x(k)+'">\n      </fieldset>\n      <fieldset>\n        <legend>Labels <span data-toggle="tooltip" data-title="Example Labels" data-content="These appear on your website. You can use single words like &quot;&lt;strong&gt;Superbowl&lt;/strong&gt;&quot; or &quot;&lt;strong&gt;Director:&lt;/strong&gt; Michael Bay&quot; to bold the first word.&lt;/p&gt;" class="fui-question"></span></legend>\n        <input name="attribs" class="tagsinput tagsinput-primary" value="';
(k=f.attributeList)?k=k.call(a,{hash:{},data:c}):(k=a.attributeList,k=typeof k===t?k.apply(a):k);g+=x(k)+'" id="tags1371235017630" style="display: none;" />\n      </fieldset>\n      ';if((k=f["if"].call(a,d.isEncoded,{hash:{},inverse:B.noop,fn:B.programWithDepth(2,e,c,d),data:c}))||0===k)g+=k;g+='\n      <fieldset>\n        <div class="control-group">\n          <div class="controls">\n            <button type="submit" class="btn btn-success">Save</button>\n            \x3c!-- <a class="btn btn-danger">Delete</a> --\x3e\n          </div>\n        </div>\n      </fieldset>\n    </div>\n    ';
if((k=f["if"].call(a,d.showThumbnailPicker,{hash:{},inverse:B.noop,fn:B.program(12,b,c),data:c}))||0===k)g+=k;return g+'\n    </form>\n  </div>\n</div>\n<div id="footer" class="bottom-menu">\n</div>\n'},g,a),data:g}))||0===a)c+=a;return c+"\n"})},{"handlebars-runtime":94}],95:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){function e(a,b){var c,d;c='\n        <a href="';(d=f.href)?d=d.call(a,{hash:{},data:b}):(d=a.href,d=typeof d===E?d.apply(a):d);c+=N(d)+'" class="current app boxed">';
(d=f.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===E?d.apply(a):d);return c+=N(d)+"</a>\n      "}function k(a,b){var c,d;c='\n        <a href="';(d=f.href)?d=d.call(a,{hash:{},data:b}):(d=a.href,d=typeof d===E?d.apply(a):d);c+=N(d)+'" class="app boxed">';(d=f.name)?d=d.call(a,{hash:{},data:b}):(d=a.name,d=typeof d===E?d.apply(a):d);return c+=N(d)+"</a>\n      "}function m(a,b){var c,d;c="\n        <br />\n        ";if((d=f["if"].call(a,a.isPublished,{hash:{},inverse:G.program(9,s,b),fn:G.program(7,
n,b),data:b}))||0===d)c+=d;return c+"\n      "}function n(a,b){var c,d;c='\n          <a href="';(d=f.editHref)?d=d.call(a,{hash:{},data:b}):(d=a.editHref,d=typeof d===E?d.apply(a):d);return c+=N(d)+'" class="app pageStatus">Public</a>\n        '}function s(a,b){var c,d;c='\n          <a href="';(d=f.editHref)?d=d.call(a,{hash:{},data:b}):(d=a.editHref,d=typeof d===E?d.apply(a):d);return c+=N(d)+'" class="app pageStatus">Private</a>\n        '}function v(a,b){return'\n        <li class="contact"><a href="/contact" class="current app boxed">Contact</a></li>\n      '}
function b(a,b){return'\n        <li class="contact"><a href="/contact" class="app boxed">Contact</a></li>\n      '}function d(a,b){var c,d;c="\n      ";if((d=f["if"].call(a,a.isAddingMedia,{hash:{},inverse:G.program(20,x,b),fn:G.program(18,t,b),data:b}))||0===d)c+=d;c+="\n      ";if((d=f["if"].call(a,a.isEditingPage,{hash:{},inverse:G.program(24,D,b),fn:G.program(22,B,b),data:b}))||0===d)c+=d;return c+"\n    "}function t(a,b){var c,d;c='\n        <li><a href="';(d=f.addMediaHref)?d=d.call(a,{hash:{},
data:b}):(d=a.addMediaHref,d=typeof d===E?d.apply(a):d);return c+=N(d)+'" id="addMediaLink" class="current app boxed">Add Media</a></li>\n      '}function x(a,b){var c,d;c='\n        <li><a href="';(d=f.addMediaHref)?d=d.call(a,{hash:{},data:b}):(d=a.addMediaHref,d=typeof d===E?d.apply(a):d);return c+=N(d)+'" id="addMediaLink" class="app boxed">Add Media</a></li>\n      '}function B(a,b){var c,d;c='\n        <li><a href="';(d=f.editPageHref)?d=d.call(a,{hash:{},data:b}):(d=a.editPageHref,d=typeof d===
E?d.apply(a):d);return c+=N(d)+'" class="current app boxed">Edit Page</a></li>\n      '}function D(a,b){var c,d;c='\n        <li><a href="';(d=f.editPageHref)?d=d.call(a,{hash:{},data:b}):(d=a.editPageHref,d=typeof d===E?d.apply(a):d);return c+=N(d)+'" class="app boxed">Edit Page</a></li>\n      '}function y(a,b){var c,d;c='\n      <li><a href="';(d=f.createHref)?d=d.call(a,{hash:{},data:b}):(d=a.createHref,d=typeof d===E?d.apply(a):d);return c+=N(d)+'" id="newPageLink" class="current app boxed">New Page</a></li>\n    '}
function F(a,b){var c,d;c='\n      <li><a href="';(d=f.createHref)?d=d.call(a,{hash:{},data:b}):(d=a.createHref,d=typeof d===E?d.apply(a):d);return c+=N(d)+'" id="newPageLink" class="app boxed">New Page</a></li>\n    '}function C(a,b){var c,d;c="\n      ";if((d=f["if"].call(a,a.isReorderingPages,{hash:{},inverse:G.program(33,p,b),fn:G.program(31,X,b),data:b}))||0===d)c+=d;return c+"\n    "}function X(a,b){var c,d;c='\n        <li><a href="';(d=f.reorderHref)?d=d.call(a,{hash:{},data:b}):(d=a.reorderHref,
d=typeof d===E?d.apply(a):d);return c+=N(d)+'" id="reorderPageLink" class="current app boxed">Sort Pages</a></li>\n      '}function p(a,b){var c,d;c='\n        <li><a href="';(d=f.reorderHref)?d=d.call(a,{hash:{},data:b}):(d=a.reorderHref,d=typeof d===E?d.apply(a):d);return c+=N(d)+'" id="reorderPageLink" class="app boxed">Sort Pages</a></li>\n      '}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var E="function",N=this.escapeExpression,G=this,K=f.blockHelperMissing;c='<div class="centered-boxes">\n  <ul id="mainnav" class="nav nav-boxes">\n    \n    ';
if((l=f.each.call(a,a.pages,{hash:{},inverse:G.noop,fn:G.programWithDepth(1,function(a,b,c){var d,g;d="\n      <li>\n      ";if((g=f["if"].call(a,a.active,{hash:{},inverse:G.program(4,k,b),fn:G.program(2,e,b),data:b}))||0===g)d+=g;d+="\n      ";if((g=f["if"].call(a,c.isLoggedIn,{hash:{},inverse:G.noop,fn:G.program(6,m,b),data:b}))||0===g)d+=g;return d+"\n      </li>\n    "},g,a),data:g}))||0===l)c+=l;c+="\n    ";if((l=f["if"].call(a,a.showContact,{hash:{},inverse:G.noop,fn:G.program(11,function(a,
c){var d,e;d="\n      ";if((e=f["if"].call(a,a.isContact,{hash:{},inverse:G.program(14,b,c),fn:G.program(12,v,c),data:c}))||0===e)d+=e;return d+"\n    "},g),data:g}))||0===l)c+=l;c+="\n  </ul>\n</div>\n";if((l=f["if"].call(a,a.isLoggedIn,{hash:{},inverse:G.noop,fn:G.program(16,function(a,b){var c,e;c='\n<div class="centered-boxes">\n  <ul class="nav nav-boxes actionable">\n    ';if((e=f["if"].call(a,a.isPage,{hash:{},inverse:G.noop,fn:G.program(17,d,b),data:b}))||0===e)c+=e;c+="\n    ";if((e=f["if"].call(a,
a.isCreatingPage,{hash:{},inverse:G.program(28,F,b),fn:G.program(26,y,b),data:b}))||0===e)c+=e;c+="\n    ";if((e=f["if"].call(a,a.hasAtLeastTwoPages,{hash:{},inverse:G.noop,fn:G.program(30,C,b),data:b}))||0===e)c+=e;return c+"\n  </ul>\n</div>\n"},g),data:g}))||0===l)c+=l;c+="\n";g={hash:{},inverse:G.noop,fn:G.program(35,function(a,b){var c,d;c='\n<div class="alert alert-';(d=f.type)?d=d.call(a,{hash:{},data:b}):(d=a.type,d=typeof d===E?d.apply(a):d);c+=N(d)+'">\n  <button type="button" class="close fui-cross" data-dismiss="alert"></button>\n  ';
(d=f.message)?d=d.call(a,{hash:{},data:b}):(d=a.message,d=typeof d===E?d.apply(a):d);return c+=N(d)+"\n</div>\n"},g),data:g};(l=f.flash)?l=l.call(a,g):(l=a.flash,l=typeof l===E?l.apply(a):l);f.flash||(l=K.call(a,l,g));if(l||0===l)c+=l;return c+"\n"})},{"handlebars-runtime":94}],77:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var e;l=this.escapeExpression;c='  <div class="container">\n    <div class="row">\n      <div class="span12">\n        <ul class="bottom-links">\n          ';
if((e=f["if"].call(a,a.isLoggedIn,{hash:{},inverse:this.program(3,function(a,c){return'\n            <li><a href="/login" class="app">Log In</a></li>\n          '},g),fn:this.program(1,function(a,c){return'\n            <li><a href="/logout" class="app">Log Out</a></li>\n          '},g),data:g}))||0===e)c+=e;c+='\n        </ul>\n        <span class="pull-right">&copy; '+l((e=(e=a.sitetitle,null==e||!1===e?e:e.value),"function"===typeof e?e.apply(a):e))+" ";(f=f.copyrightYear)?f=f.call(a,{hash:{},
data:g}):(f=a.copyrightYear,f="function"===typeof f?f.apply(a):f);return c+=l(f)+"</span>\n      </div>\n    </div>\n  </div>\n"})},{"handlebars-runtime":94}],96:[function(m,s,v){var c=self;(function(a){function f(c){function g(a){return a&&"object"==typeof a&&!la(a)&&ea.call(a,"__wrapped__")?a:new Ea(a)}function k(a){var b=a.length,c=b>=z;if(c)for(var d={},e=-1;++e<b;){var f=A+a[e];(d[f]||(d[f]=[])).push(a[e])}return function(b){if(c){var e=A+b;return d[e]&&-1<Na(d[e],b)}return-1<Na(a,b)}}function s(a){return a.charCodeAt(0)}
function v(a,b){var c=a.index,d=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<d?-1:1}function za(a,b,c,d){function e(){var d=arguments,l=g?this:b;f||(a=b[h]);c.length&&(d=d.length?(d=Q.call(d),k?d.concat(c):c.concat(d)):c);return this instanceof e?(Ia.prototype=a.prototype,l=new Ia,Ia.prototype=null,d=a.apply(l,d),cb(d)?d:l):a.apply(l,d)}var f=bb(a),g=!c,h=b;if(g){var k=d;c=b}else if(!f){if(!d)throw new Lb;b=a}return e}
function $a(a){return"\\"+u[a]}function Qa(a){return Oa[a]}function Ea(a){this.__wrapped__=a}function Ia(){}function h(a){var b=!1;if(!a||M.call(a)!=ja)return b;var c=a.constructor;return(bb(c)?c instanceof c:1)?(Xa(a,function(a,c){b=c}),!1===b||ea.call(a,b)):b}function Y(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var d=-1;c=c-b||0;for(var e=ga(0>c?0:c);++d<c;)e[d]=a[b+d];return e}function mb(a){return qb[a]}function sa(a,b,c,d,e,f){var h=a;"function"==typeof b&&(d=c,c=b,b=!1);if("function"==
typeof c){c="undefined"==typeof d?c:g.createCallback(c,d,1);h=c(h);if("undefined"!=typeof h)return h;h=a}if(d=cb(h)){var k=M.call(h);if(!fa[k])return h;var m=la(h)}if(!d||!b)return d?m?Y(h):jb({},h):h;d=Ca[k];switch(k){case oa:case T:return new d(+h);case I:case L:return new d(h);case S:return d(h.source,D.exec(h))}e||(e=[]);f||(f=[]);for(k=e.length;k--;)if(e[k]==a)return f[k];h=m?d(h.length):{};m&&(ea.call(a,"index")&&(h.index=a.index),ea.call(a,"input")&&(h.input=a.input));e.push(a);f.push(h);(m?
ba:V)(a,function(a,d){h[d]=sa(a,b,c,l,e,f)});return h}function ab(a){var b=[];Xa(a,function(a,c){bb(a)&&b.push(c)});return b.sort()}function Ma(a){for(var b=-1,c=W(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function ta(a,b,c,d,e,f){var h=c===n;if("function"==typeof c&&!h){c=g.createCallback(c,d,2);var k=c(a,b);if("undefined"!=typeof k)return!!k}if(a===b)return 0!==a||1/a==1/b;var l=typeof a,m=typeof b;if(a===a&&(!a||"function"!=l&&"object"!=l)&&(!b||"function"!=m&&"object"!=m))return!1;
if(null==a||null==b)return a===b;m=M.call(a);l=M.call(b);m==K&&(m=ja);l==K&&(l=ja);if(m!=l)return!1;switch(m){case oa:case T:return+a==+b;case I:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case S:case L:return a==Fa(b)}l=m==na;if(!l){if(ea.call(a,"__wrapped__ ")||ea.call(b,"__wrapped__"))return ta(a.__wrapped__||a,b.__wrapped__||b,c,d,e,f);if(m!=ja)return!1;var m=a.constructor,p=b.constructor;if(m!=p&&!(bb(m)&&m instanceof m&&bb(p)&&p instanceof p))return!1}e||(e=[]);f||(f=[]);for(m=e.length;m--;)if(e[m]==
a)return f[m]==b;var q=0,k=!0;e.push(a);f.push(b);if(l){m=a.length;q=b.length;k=q==a.length;if(!k&&!h)return k;for(;q--;)if(l=m,p=b[q],h)for(;l--&&!(k=ta(a[l],p,c,d,e,f)););else if(!(k=ta(a[q],p,c,d,e,f)))break;return k}Xa(b,function(b,g,h){if(ea.call(h,g))return q++,k=ea.call(a,g)&&ta(a[g],b,c,d,e,f)});k&&!h&&Xa(a,function(a,b,c){if(ea.call(c,b))return k=-1<--q});return k}function bb(a){return"function"==typeof a}function cb(a){return a?ca[typeof a]:!1}function $b(a){return"number"==typeof a||M.call(a)==
I}function Ab(a){return"string"==typeof a||M.call(a)==L}function ac(a,b,c){var d=arguments,e=0,f=2;if(!cb(a))return a;if(c===n)var h=d[3],k=d[4],l=d[5];else k=[],l=[],"number"!=typeof c&&(f=d.length),3<f&&"function"==typeof d[f-2]?h=g.createCallback(d[--f-1],d[f--],2):2<f&&"function"==typeof d[f-1]&&(h=d[--f]);for(;++e<f;)(la(d[e])?ba:V)(d[e],function(b,c){var d,e,f=b,g=a[c];if(b&&((e=la(b))||ha(b))){for(f=k.length;f--;)if(d=k[f]==b){g=l[f];break}if(!d){var m;h&&(f=h(g,b),m="undefined"!=typeof f)&&
(g=f);m||(g=e?la(g)?g:[]:ha(g)?g:{});k.push(b);l.push(g);m||(g=ac(g,b,n,h,k,l))}}else h&&(f=h(g,b),"undefined"==typeof f&&(f=b)),"undefined"!=typeof f&&(g=f);a[c]=g});return a}function Vb(a){for(var b=-1,c=W(a),d=c.length,e=ga(d);++b<d;)e[b]=a[c[b]];return e}function bc(a,b,c){var d=-1,e=a?a.length:0,f=!1;c=(0>c?va(0,e+c):c)||0;"number"==typeof e?f=-1<(Ab(a)?a.indexOf(b,c):Na(a,b,c)):V(a,function(a){if(++d>=c)return!(f=a===b)});return f}function Bb(a,b,c){var d=!0;b=g.createCallback(b,c);c=-1;var e=
a?a.length:0;if("number"==typeof e)for(;++c<e&&(d=!!b(a[c],c,a)););else V(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Cb(a,b,c){var d=[];b=g.createCallback(b,c);c=-1;var e=a?a.length:0;if("number"==typeof e)for(;++c<e;){var f=a[c];b(f,c,a)&&d.push(f)}else V(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Sb(a,b,c){b=g.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d;){var e=a[c];if(b(e,c,a))return e}else{var f;V(a,function(a,c,d){if(b(a,c,d))return f=
a,!1});return f}}function ba(a,b,c){var d=-1,e=a?a.length:0;b=b&&"undefined"==typeof c?b:g.createCallback(b,c);if("number"==typeof e)for(;++d<e&&!1!==b(a[d],d,a););else V(a,b);return a}function pb(a,b,c){var d=-1,e=a?a.length:0;b=g.createCallback(b,c);if("number"==typeof e)for(var f=ga(e);++d<e;)f[d]=b(a[d],d,a);else f=[],V(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function pa(a,b,c){var d=-Infinity,e=d;if(!b&&la(a)){c=-1;for(var f=a.length;++c<f;){var h=a[c];h>e&&(e=h)}}else b=!b&&Ab(a)?s:g.createCallback(b,
c),ba(a,function(a,c,f){c=b(a,c,f);c>d&&(d=c,e=a)});return e}function Aa(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d)for(var e=ga(d);++c<d;)e[c]=a[c][b];return e||pb(a,b)}function wa(a,b,c,d){if(!a)return c;var e=3>arguments.length;b=g.createCallback(b,d,4);var f=-1,h=a.length;if("number"==typeof h)for(e&&(c=a[++f]);++f<h;)c=b(c,a[f],f,a);else V(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function rb(a,b,c,d){var e=a?a.length:0,f=3>arguments.length;if("number"!=typeof e)var h=W(a),
e=h.length;b=g.createCallback(b,d,4);ba(a,function(d,g,k){g=h?h[--e]:--e;c=f?(f=!1,a[g]):b(c,a[g],g,k)});return c}function db(a,b,c){var d;b=g.createCallback(b,c);c=-1;var e=a?a.length:0;if("number"==typeof e)for(;++c<e&&!(d=b(a[c],c,a)););else V(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Db(a){for(var b=-1,c=a?a.length:0,d=Ra.apply(qa,Q.call(arguments,1)),d=k(d),e=[];++b<c;){var f=a[b];d(f)||e.push(f)}return e}function nb(a,b,c){if(a){var d=0,e=a.length;if("number"!=typeof b&&null!=
b){var f=-1;for(b=g.createCallback(b,c);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a[0];return Y(a,0,Ua(va(0,d),e))}}function Eb(a,b,c,d){var e=-1,f=a?a.length:0,h=[];"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1);for(null!=c&&(c=g.createCallback(c,d));++e<f;)d=a[e],c&&(d=c(d,e,a)),la(d)?Sa.apply(h,b?d:Eb(d)):h.push(d);return h}function Na(a,b,c){var d=-1,e=a?a.length:0;if("number"==typeof c)d=(0>c?va(0,e+c):c||0)-1;else if(c)return d=eb(a,b),a[d]===b?d:-1;for(;++d<e;)if(a[d]===b)return d;
return-1}function Va(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=g.createCallback(b,c);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:va(0,b);return Y(a,d)}function eb(a,b,c,d){var e=0,f=a?a.length:e;c=c?g.createCallback(c,d,1):fb;for(b=c(b);e<f;)d=e+f>>>1,c(a[d])<b?e=d+1:f=d;return e}function Z(a,b,c,d){var e=-1,f=a?a.length:0,h=[],k=h;"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1);var l=!b&&f>=z;if(l)var m={};null!=c&&(k=[],c=g.createCallback(c,d));for(;++e<f;){d=a[e];var n=
c?c(d,e,a):d;if(l)var p=A+n,p=m[p]?!(k=m[p]):k=m[p]=[];if(b?!e||k[k.length-1]!==n:p||0>Na(k,n))(c||l)&&k.push(n),h.push(d)}return h}function sb(a,b){for(var c=-1,d=a?a.length:0,e={};++c<d;){var f=a[c];b?e[f]=b[c]:e[f[0]]=f[1]}return e}function tb(a,b){return Da.fastBind||Ba&&2<arguments.length?Ba.call.apply(Ba,arguments):za(a,b,Q.call(arguments,2))}function ub(a){var b=Q.call(arguments,1);return La(function(){a.apply(l,b)},1)}function fb(a){return a}function vb(a){ba(ab(a),function(b){var c=g[b]=
a[b];g.prototype[b]=function(){var a=this.__wrapped__,b=[a];Sa.apply(b,arguments);b=c.apply(g,b);return a&&"object"==typeof a&&a==b?this:new Ea(b)}})}function Fb(){return this.__wrapped__}c=c?r.defaults(a.Object(),c,r.pick(a,N)):a;var ga=c.Array,kb=c.Boolean,ob=c.Date,Gb=c.Function,ya=c.Math,Kb=c.Number,Wa=c.Object,gb=c.RegExp,Fa=c.String,Lb=c.TypeError,qa=ga(),wb=Wa(),Mb=c._,da=gb("^"+Fa(wb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Ya=ya.ceil,hb=c.clearTimeout,
Ra=qa.concat,Ga=ya.floor,ka=da.test(ka=Wa.getPrototypeOf)&&ka,ea=wb.hasOwnProperty,Sa=qa.push,R=c.setImmediate,La=c.setTimeout,M=wb.toString,Ba=da.test(Ba=M.bind)&&Ba,Hb=da.test(Hb=ga.isArray)&&Hb,ib=c.isFinite,Wb=c.isNaN,Ta=da.test(Ta=Wa.keys)&&Ta,va=ya.max,Ua=ya.min,Ib=c.parseInt,Pa=ya.random,Q=qa.slice,ya=da.test(c.attachEvent),ya=Ba&&!/\n|true/.test(Ba+ya),Ca={};Ca[na]=ga;Ca[oa]=kb;Ca[T]=ob;Ca[ja]=Wa;Ca[I]=Kb;Ca[S]=gb;Ca[L]=Fa;var Da=g.support={};Da.fastBind=Ba&&!ya;g.templateSettings={escape:/<%-([\s\S]+?)%>/g,
evaluate:/<%([\s\S]+?)%>/g,interpolate:y,variable:"",imports:{_:g}};Ea.prototype=g.prototype;var la=Hb,kb=function(a){var b,c=[];if(!a||!ca[typeof a])return c;for(b in a)ea.call(a,b)&&c.push(b);return c},W=Ta?function(a){return cb(a)?Ta(a):[]}:kb,Oa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qb=Ma(Oa),jb=function(a,b,c){var d,e=a,f=e;if(!e)return f;var h=arguments,k=0,l="number"==typeof c?2:h.length;if(3<l&&"function"==typeof h[l-2])var m=g.createCallback(h[--l-1],h[l--],2);else 2<
l&&"function"==typeof h[l-1]&&(m=h[--l]);for(;++k<l;)if((e=h[k])&&ca[typeof e]){var n=e.length;d=-1;if(la(e))for(;++d<n;)f[d]=m?m(f[d],e[d]):e[d];else for(var p=-1,q=ca[typeof e]?W(e):[],n=q.length;++p<n;)d=q[p],f[d]=m?m(f[d],e[d]):e[d]}return f},Jb=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,k="number"==typeof c?2:g.length;++h<k;)if((e=g[h])&&ca[typeof e]){var l=e.length;d=-1;if(la(e))for(;++d<l;)"undefined"==typeof f[d]&&(f[d]=e[d]);else for(var m=-1,n=ca[typeof e]?W(e):
[],l=n.length;++m<l;)d=n[m],"undefined"==typeof f[d]&&(f[d]=e[d])}return f},Xa=function(a,b,c){var d;if(!a||!ca[typeof a])return a;b=b&&"undefined"==typeof c?b:g.createCallback(b,c);for(d in a)if(!1===b(a[d],d,a))break;return a},V=function(a,b,c){if(!a||!ca[typeof a])return a;b=b&&"undefined"==typeof c?b:g.createCallback(b,c);for(var d=-1,e=ca[typeof a]?W(a):[],f=e.length;++d<f&&(c=e[d],!1!==b(a[c],c,a)););return a},ha=function(a){if(!a||M.call(a)!=ja)return!1;var b=a.valueOf,c="function"==typeof b&&
(c=ka(b))&&ka(c);return c?a==c||ka(a)==c:h(a)};ya&&(e&&"function"==typeof R)&&(ub=tb(R,c));R=8==Ib(F+"08")?Ib:function(a,b){return Ib(Ab(a)?a.replace(C,""):a,b||0)};g.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};g.assign=jb;g.at=function(a){for(var b=-1,c=Ra.apply(qa,Q.call(arguments,1)),d=c.length,e=ga(d);++b<d;)e[b]=a[c[b]];return e};g.bind=tb;g.bindAll=function(a){for(var b=1<arguments.length?Ra.apply(qa,Q.call(arguments,1)):ab(a),c=-1,d=b.length;++c<
d;){var e=b[c];a[e]=tb(a[e],a)}return a};g.bindKey=function(a,b){return za(a,b,Q.call(arguments,2),n)};g.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d};g.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};g.countBy=function(a,b,c){var d={};b=g.createCallback(b,c);ba(a,function(a,c,e){c=Fa(b(a,c,e));ea.call(d,c)?d[c]++:d[c]=1});return d};g.createCallback=function(a,b,c){if(null==
a)return fb;var d=typeof a;if("function"!=d){if("object"!=d)return function(b){return b[a]};var e=W(a);return function(b){for(var c=e.length,d=!1;c--&&(d=ta(b[e[c]],a[e[c]],n)););return d}}return"undefined"!=typeof b?1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)}:4===c?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}:a};g.debounce=function(a,b,c){function d(){f=k=null;l&&(g=a.apply(h,e))}var e,f,g,h,k,l=!0;if(!0===c)var m=!0,l=!1;
else c&&ca[typeof c]&&(m=c.leading,l="trailing"in c?c.trailing:l);return function(){e=arguments;h=this;hb(k);!f&&m?(f=!0,g=a.apply(h,e)):k=La(d,b);return g}};g.defaults=Jb;g.defer=ub;g.delay=function(a,b){var c=Q.call(arguments,2);return La(function(){a.apply(l,c)},b)};g.difference=Db;g.filter=Cb;g.flatten=Eb;g.forEach=ba;g.forIn=Xa;g.forOwn=V;g.functions=ab;g.groupBy=function(a,b,c){var d={};b=g.createCallback(b,c);ba(a,function(a,c,e){c=Fa(b(a,c,e));(ea.call(d,c)?d[c]:d[c]=[]).push(a)});return d};
g.initial=function(a,b,c){if(!a)return[];var d=0,e=a.length;if("number"!=typeof b&&null!=b){var f=e;for(b=g.createCallback(b,c);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return Y(a,0,Ua(va(0,e-d),e))};g.intersection=function(a){var b=arguments,c=b.length,d={0:{}},e=-1,f=a?a.length:0,g=f>=z,h=[],l=h;a:for(;++e<f;){var m=a[e];if(g)var n=A+m,n=d[0][n]?!(l=d[0][n]):l=d[0][n]=[];if(n||0>Na(l,m)){g&&l.push(m);for(var p=c;--p;)if(!(d[p]||(d[p]=k(b[p])))(m))continue a;h.push(m)}}return h};g.invert=Ma;
g.invoke=function(a,b){var c=Q.call(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=ga("number"==typeof f?f:0);ba(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)});return g};g.keys=W;g.map=pb;g.max=pa;g.memoize=function(a,b){var c={};return function(){var d=A+(b?b.apply(this,arguments):arguments[0]);return ea.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}};g.merge=ac;g.min=function(a,b,c){var d=Infinity,e=d;if(!b&&la(a)){c=-1;for(var f=a.length;++c<f;){var h=a[c];h<e&&(e=h)}}else b=!b&&Ab(a)?s:
g.createCallback(b,c),ba(a,function(a,c,f){c=b(a,c,f);c<d&&(d=c,e=a)});return e};g.omit=function(a,b,c){var d="function"==typeof b,e={};if(d)b=g.createCallback(b,c);else var f=Ra.apply(qa,Q.call(arguments,1));Xa(a,function(a,c,g){if(d?!b(a,c,g):0>Na(f,c))e[c]=a});return e};g.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};g.pairs=function(a){for(var b=-1,c=W(a),d=c.length,e=ga(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e};g.partial=function(a){return za(a,
Q.call(arguments,1))};g.partialRight=function(a){return za(a,Q.call(arguments,1),null,n)};g.pick=function(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=Ra.apply(qa,Q.call(arguments,1)),h=cb(a)?f.length:0;++e<h;){var k=f[e];k in a&&(d[k]=a[k])}else b=g.createCallback(b,c),Xa(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d};g.pluck=Aa;g.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var d=-1;b=va(0,Ya((b-a)/c));for(var e=ga(b);++d<b;)e[d]=a,a+=c;return e};g.reject=function(a,b,c){b=
g.createCallback(b,c);return Cb(a,function(a,c,d){return!b(a,c,d)})};g.rest=Va;g.shuffle=function(a){var b=-1,c=a?a.length:0,d=ga("number"==typeof c?c:0);ba(a,function(a){var c=Ga(Pa()*(++b+1));d[b]=d[c];d[c]=a});return d};g.sortBy=function(a,b,c){var d=-1,e=a?a.length:0,f=ga("number"==typeof e?e:0);b=g.createCallback(b,c);ba(a,function(a,c,e){f[++d]={criteria:b(a,c,e),index:d,value:a}});e=f.length;for(f.sort(v);e--;)f[e]=f[e].value;return f};g.tap=function(a,b){b(a);return a};g.throttle=function(a,
b,c){function d(){h=null;m&&(k=new ob,f=a.apply(g,e))}var e,f,g,h,k=0,l=!0,m=!0;!1===c?l=!1:c&&ca[typeof c]&&(l="leading"in c?c.leading:l,m="trailing"in c?c.trailing:m);return function(){var c=new ob;h||l||(k=c);var m=b-(c-k);e=arguments;g=this;0>=m?(hb(h),h=null,k=c,f=a.apply(g,e)):h||(h=La(d,m));return f}};g.times=function(a,b,c){a=-1<(a=+a)?a:0;var d=-1,e=ga(a);for(b=g.createCallback(b,c,1);++d<a;)e[d]=b(d);return e};g.toArray=function(a){return a&&"number"==typeof a.length?Y(a):Vb(a)};g.union=
function(a){la(a)||(arguments[0]=a?Q.call(a):qa);return Z(Ra.apply(qa,arguments))};g.uniq=Z;g.unzip=function(a){for(var b=-1,c=a?a.length:0,d=c?pa(Aa(a,"length")):0,e=ga(d);++b<c;)for(var f=-1,g=a[b];++f<d;)(e[f]||(e[f]=ga(c)))[b]=g[f];return e};g.values=Vb;g.where=Cb;g.without=function(a){return Db(a,Q.call(arguments,1))};g.wrap=function(a,b){return function(){var c=[a];Sa.apply(c,arguments);return b.apply(this,c)}};g.zip=function(a){for(var b=-1,c=a?pa(Aa(arguments,"length")):0,d=ga(c);++b<c;)d[b]=
Aa(arguments,b);return d};g.zipObject=sb;g.collect=pb;g.drop=Va;g.each=ba;g.extend=jb;g.methods=ab;g.object=sb;g.select=Cb;g.tail=Va;g.unique=Z;vb(g);g.clone=sa;g.cloneDeep=function(a,b,c){return sa(a,!0,b,c)};g.contains=bc;g.escape=function(a){return null==a?"":Fa(a).replace(p,Qa)};g.every=Bb;g.find=Sb;g.findIndex=function(a,b,c){var d=-1,e=a?a.length:0;for(b=g.createCallback(b,c);++d<e;)if(b(a[d],d,a))return d;return-1};g.findKey=function(a,b,c){var d;b=g.createCallback(b,c);V(a,function(a,c,e){if(b(a,
c,e))return d=c,!1});return d};g.has=function(a,b){return a?ea.call(a,b):!1};g.identity=fb;g.indexOf=Na;g.isArguments=function(a){return M.call(a)==K};g.isArray=la;g.isBoolean=function(a){return!0===a||!1===a||M.call(a)==oa};g.isDate=function(a){return a?"object"==typeof a&&M.call(a)==T:!1};g.isElement=function(a){return a?1===a.nodeType:!1};g.isEmpty=function(a){var b=!0;if(!a)return b;var c=M.call(a),d=a.length;if(c==na||(c==L||c==K)||c==ja&&"number"==typeof d&&bb(a.splice))return!d;V(a,function(){return b=
!1});return b};g.isEqual=ta;g.isFinite=function(a){return ib(a)&&!Wb(parseFloat(a))};g.isFunction=bb;g.isNaN=function(a){return $b(a)&&a!=+a};g.isNull=function(a){return null===a};g.isNumber=$b;g.isObject=cb;g.isPlainObject=ha;g.isRegExp=function(a){return a?"object"==typeof a&&M.call(a)==S:!1};g.isString=Ab;g.isUndefined=function(a){return"undefined"==typeof a};g.lastIndexOf=function(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?va(0,d+c):Ua(c,d-1))+1);d--;)if(a[d]===b)return d;return-1};
g.mixin=vb;g.noConflict=function(){c._=Mb;return this};g.parseInt=R;g.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b&&(b=a,a=0);return a+Ga(Pa()*((+b||0)-a+1))};g.reduce=wa;g.reduceRight=rb;g.result=function(a,b){var c=a?a[b]:l;return bb(c)?a[b]():c};g.runInContext=f;g.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:W(a).length};g.some=db;g.sortedIndex=eb;g.template=function(a,c,e){var f=g.templateSettings;a||(a="");e=Jb({},e,f);var h=Jb({},e.imports,f.imports),f=W(h),
h=Vb(h),k,m=0,n=e.interpolate||X,p="__p += '",n=gb((e.escape||X).source+"|"+n.source+"|"+(n===y?B:X).source+"|"+(e.evaluate||X).source+"|$","g");a.replace(n,function(b,c,d,e,f,g){d||(d=e);p+=a.slice(m,g).replace(E,$a);c&&(p+="' +\n__e("+c+") +\n'");f&&(k=!0,p+="';\n"+f+";\n__p += '");d&&(p+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");m=g+b.length;return b});var p=p+"';\n",q=n=e.variable;q||(n="obj",p="with ("+n+") {\n"+p+"\n}\n");p=(k?p.replace(b,""):p).replace(d,"$1").replace(t,"$1;");p="function("+
n+") {\n"+(q?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(k?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";e="\n/*\n//@ sourceURL="+(e.sourceURL||"/lodash/template/source["+G++ +"]")+"\n*/";try{var r=Gb(f,"return "+p+e).apply(l,h)}catch(s){throw s.source=p,s;}if(c)return r(c);r.source=p;return r};g.unescape=function(a){return null==a?"":Fa(a).replace(x,mb)};g.uniqueId=function(a){var b=++m;return Fa(null==a?"":a)+
b};g.all=Bb;g.any=db;g.detect=Sb;g.foldl=wa;g.foldr=rb;g.include=bc;g.inject=wa;V(g,function(a,b){g.prototype[b]||(g.prototype[b]=function(){var b=[this.__wrapped__];Sa.apply(b,arguments);return a.apply(g,b)})});g.first=nb;g.last=function(a,b,c){if(a){var d=0,e=a.length;if("number"!=typeof b&&null!=b){var f=e;for(b=g.createCallback(b,c);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a[e-1];return Y(a,va(0,e-d))}};g.take=nb;g.head=nb;V(g,function(a,b){g.prototype[b]||(g.prototype[b]=function(b,
c){var d=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?d:new Ea(d)})});g.VERSION="1.2.1";g.prototype.toString=function(){return Fa(this.__wrapped__)};g.prototype.value=Fb;g.prototype.valueOf=Fb;ba(["join","pop","shift"],function(a){var b=qa[a];g.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});ba(["push","reverse","sort","unshift"],function(a){var b=qa[a];g.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});ba(["concat","slice","splice"],
function(a){var b=qa[a];g.prototype[a]=function(){return new Ea(b.apply(this.__wrapped__,arguments))}});return g}var l,g="object"==typeof v&&v,e="object"==typeof s&&s&&s.exports==g&&s,k="object"==typeof c&&c;if(k.global===k||k.window===k)a=k;var m=0,n={},A=+new Date+"",z=200,b=/\b__p \+= '';/g,d=/\b(__p \+=) '' \+/g,t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,x=/&(?:amp|lt|gt|quot|#39);/g,B=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,D=/\w*$/,y=/<%=([\s\S]+?)%>/g,F=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
C=RegExp("^["+F+"]*0+(?=.$)"),X=/($^)/,p=/[&<>"']/g,E=/['\n\r\t\u2028\u2029\\]/g,N="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),G=0,K="[object Arguments]",na="[object Array]",oa="[object Boolean]",T="[object Date]",I="[object Number]",ja="[object Object]",S="[object RegExp]",L="[object String]",fa={"[object Function]":!1};fa[K]=fa[na]=fa[oa]=fa[T]=fa[I]=fa[ja]=fa[S]=fa[L]=!0;var ca={"boolean":!1,
"function":!0,object:!0,number:!1,string:!1,undefined:!1},u={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},r=f();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=r,define(function(){return r})):g&&!g.nodeType?e?(e.exports=r)._=r:g._=r:a._=r})(this)},{}],93:[function(m,s,v){var c=m("lodash");v=m("jquery-browserify");m=m("backbone");m._=c;m.$=v;m=m.View.extend({initialize:function(a){this.beforeInit&&this.beforeInit(a);this.template=this.template||
a.template;this.template||(this.template=function(){return""});this.afterInit&&this.afterInit(a);this.render()},context:function(){return c.extend({},this.options,this.model)},close:function(){this.beforeClose&&this.beforeClose();this.closeSubviews();this.off();this.remove()},render:function(){var a=this,f=this.model;this.beforeRender&&this.beforeRender();this.closeSubviews();this.$el.empty();this.beforeTemplating&&(f=this.beforeTemplating());this.context&&(f=this.context());this.$el.html(this.template(f));
c.defer(function(){a.trigger("afterRender")});this.afterRender&&this.afterRender();return this},proxy:function(a,c){var l=this;c.on(a,function(){var c=Array.prototype.slice.call(arguments,0);c.splice(0,0,a);l.trigger.apply(l,c)})},eachSubview:function(a){c.each(this.subviews,a)},appendSubview:function(a,f){f||(f=this.$el);this.subviews=this.subviews||{};this.subviews[a.cid]=a;f.append(a.el);c.defer(function(){a.trigger("afterAppend")});a.afterAppend&&a.afterAppend()},closeSubviews:function(){this.eachSubview(function(a){a.close()});
this.subviews={}},detachSubview:function(a){this.subviews&&delete this.subviews[a.cid];a.$el.detach()}});s.exports=m},{backbone:65,"jquery-browserify":"Gb3VIQ",lodash:96}],78:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){function e(a,c){var b,d;b='\n          <p class="absfix">\n            <a href="';(d=f.editHref)?d=d.call(a,{hash:{},data:c}):(d=a.editHref,d=typeof d===k?d.apply(a):d);b+=m(d)+'" class="app btn btn-mini btn-info"><i class="icon-edit"></i></a>\n            <a href="';
(d=f.removeHref)?d=d.call(a,{hash:{},data:c}):(d=a.removeHref,d=typeof d===k?d.apply(a):d);return b+=m(d)+'" class="app btn btn-mini btn-danger"><i class="icon-trash"></i></a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var k="function",m=this.escapeExpression,n=this;c='<ul class="reelgrid">\n';if((a=f.each.call(a,a.media,{hash:{},inverse:n.noop,fn:n.program(1,function(a,c){var b,d;b='\n  <li>\n    <div class="relfix">\n      <a href="';(d=f.playerUrl)?
d=d.call(a,{hash:{},data:c}):(d=a.playerUrl,d=typeof d===k?d.apply(a):d);b+=m(d)+'" class="app">\n        <img src="';(d=f.thumbnailUrl)?d=d.call(a,{hash:{},data:c}):(d=a.thumbnailUrl,d=typeof d===k?d.apply(a):d);b+=m(d)+'" alt="';(d=f.name)?d=d.call(a,{hash:{},data:c}):(d=a.name,d=typeof d===k?d.apply(a):d);b+=m(d)+'" />\n        ';if((d=f["if"].call(a,a.editHref,{hash:{},inverse:n.noop,fn:n.program(2,e,c),data:c}))||0===d)b+=d;b+='\n        <div class="captions centered">\n          <h2>';(d=f.name)?
d=d.call(a,{hash:{},data:c}):(d=a.name,d=typeof d===k?d.apply(a):d);return b+=m(d)+"</h2>\n        </div>\n      </a>\n    </div>\n  </li>\n"},g),data:g}))||0===a)c+=a;return c+"\n</ul>\n"})},{"handlebars-runtime":94}],80:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};c="";var e=this.escapeExpression;if((a=f["if"].call(a,a.thumberUrl,{hash:{},inverse:this.noop,fn:this.program(1,function(a,c){var g,
l;g='\n  <iframe src="';(l=f.thumberUrl)?l=l.call(a,{hash:{},data:c}):(l=a.thumberUrl,l="function"===typeof l?l.apply(a):l);return g+=e(l)+'" frameborder="0" width="100%"></iframe>\n'},g),data:g}))||0===a)c+=a;return c+"\n"})},{"handlebars-runtime":94}],82:[function(m,s,v){m=m("handlebars-runtime");s.exports=m.template(function(c,a,f,l,g){function e(a,c){var b,d;b='\n          <p class="absfix">\n            <a href="';(d=f.editHref)?d=d.call(a,{hash:{},data:c}):(d=a.editHref,d=typeof d===k?d.apply(a):
d);return b+=m(d)+'" class="app btn btn-micro btn-info">Edit</a>\n          </p>\n        '}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,c.helpers);g=g||{};var k="function",m=this.escapeExpression,n=this;c='<div class="sliderWrap">\n  <ul class="carousel elastislide-list">\n  ';if((a=f.each.call(a,a.media,{hash:{},inverse:n.noop,fn:n.program(1,function(a,c){var b,d;b='\n    <li>\n      <div class="relfix">\n        <a href="';(d=f.playerUrl)?d=d.call(a,{hash:{},data:c}):(d=a.playerUrl,d=typeof d===
k?d.apply(a):d);b+=m(d)+'" class="app">\n          <img src="';(d=f.thumbnailUrl)?d=d.call(a,{hash:{},data:c}):(d=a.thumbnailUrl,d=typeof d===k?d.apply(a):d);b+=m(d)+'" alt="';(d=f.name)?d=d.call(a,{hash:{},data:c}):(d=a.name,d=typeof d===k?d.apply(a):d);b+=m(d)+'" />\n        </a>\n        ';if((d=f["if"].call(a,a.editHref,{hash:{},inverse:n.noop,fn:n.program(2,e,c),data:c}))||0===d)b+=d;return b+"\n      </div>\n    </li>\n  "},g),data:g}))||0===a)c+=a;return c+'\n  </ul>\n</div>\n<div class="controls clearfix centered">\n  <div class="control-fix centered">\n    <a href="#" class="carouselControl goLeft hidden">&lt;</a>\n    <a href="#" class="carouselControl reelToggle"><span class="symbol">&and;</span><br /><small>Reel</small></a>\n    <a href="#" class="carouselControl goRight hidden">&gt;</a>\n  </div>\n  <a href="#" class="carouselControl bigClose pull-right">&times;</a>\n</div>\n'})},
{"handlebars-runtime":94}]},{},[1]);
/*
//@ sourceMappingURL=/js/source.map
*/