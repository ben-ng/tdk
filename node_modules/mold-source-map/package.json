{
  "name": "mold-source-map",
  "version": "0.2.0",
  "description": "Mold a source map that is almost perfect for you into one that is.",
  "main": "mold-source-map.js",
  "scripts": {
    "test": "tap test/*.js"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/thlorenz/mold-source-map.git"
  },
  "homepage": "https://github.com/thlorenz/mold-source-map",
  "dependencies": {
    "through": "~2.2.7",
    "convert-source-map": "~0.2.5"
  },
  "devDependencies": {
    "browserify": "~2.7.1",
    "tap": "~0.4.0"
  },
  "keywords": [
    "mold",
    "change",
    "modify",
    "adapt",
    "sourcemap",
    "source",
    "map",
    "browserify"
  ],
  "author": {
    "name": "Thorsten Lorenz",
    "email": "thlorenz@gmx.de",
    "url": "http://thlorenz.com"
  },
  "license": "MIT",
  "engine": {
    "node": ">=0.6"
  },
  "readme": "# mold-source-map [![build status](https://secure.travis-ci.org/thlorenz/mold-source-map.png)](http://travis-ci.org/thlorenz/mold-source-map)\n\nMold a source map that is almost perfect for you into one that is.\n\n```js\nvar path       =  require('path')\n  , fs         =  require('fs')\n  , browserify =  require('browserify')\n  , mold       =  require('mold-source-map')\n  , bundlePath =  path.join(__dirname, 'project', 'js', 'build', 'bundle.js')\n  , jsRoot     =  path.join(__dirname, 'project');\n\nbrowserify()\n  .require(require.resolve('./project/js/main.js'), { entry: true })\n  .bundle({ debug: true })\n  .on('error', function (err) { console.error(err); })\n\n  // will show all source files relative to jsRoot inside devtools\n  .pipe(mold.sourcesRelative(jsRoot))\n  .pipe(fs.createWriteStream(bundlePath));\n```\n\n## Installation\n\n    npm install mold-source-map\n\n## API\n\n### Transforms\n\nTransforms return a duplex stream and are therefore easily threaded into a bundler that streams the generated bundle,\nlike [browserify](https://github.com/substack/node-browserify).\n\n#### transform(function map(sourcemap[, callback]) {})\n\nThis is the most generic an powerfull feature as it allows replacing the entire sourcemap comment with another `String`.\n\nIt takes a map function as input whose `sourcemap` argument has all information and lots of functions regarding the existing source map.\n\nThe optional `callback` can be used to call back with the final source map comment. If it is given, the transform will\ninvoke the function asynchronously, otherwise you may just return the final source map comment.\n\nHere is a snippet from [an example](https://github.com/thlorenz/mold-source-map/blob/master/examples/browserify-external-map-file-sync.js) \nshowing how to use this in order to write out an external map file and point the browser to it:\n\n```js\nfunction mapFileUrlCommentSync(sourcemap) {\n  \n  // make source files appear under the following paths:\n  // /js\n  //    foo.js\n  //    main.js\n  // /js/wunder\n  //    bar.js \n\n  sourcemap.sourceRoot('file://'); \n  sourcemap.mapSources(mold.mapPathRelativeTo(jsRoot));\n\n  // write map file and return a sourceMappingUrl that points to it\n  fs.writeFileSync(mapFilePath, sourcemap.toJSON(2), 'utf-8');\n  return '//@ sourceMappingURL=' + mapFilePath;\n}\n\nbrowserify()\n  .require(require.resolve('./project/js/main.js'), { entry: true })\n  .bundle({ debug: true })\n  .on('error', function (err) { console.error(err); })\n  .pipe(mold.transform(mapFileUrlCommentSync))\n  .pipe(fs.createWriteStream(bundlePath));\n```\n\nThe below are convenience transforms for special use cases. They all could be archieved with the generic transform as\nwell.\n\n### transformSourcesRelative(root)\n\n```\n/**\n * Adjusts all sources paths inside the source map contained in the content that is piped to it.\n *\n * Example: bundleStream.pipe(mold.sourcesRelative(root)).pipe(fs.createWriteStream(bundlePath))\n *\n * @name sourcesRelative\n * @function\n * @param root {String} The path to make sources relative to.\n * @return {Stream} A duplex stream that writes out content with source map that had all sources paths adjusted.\n */\n ```\n\n## Unstable API\n\nA more custom/advanced API will be/is exposed, however it is still in high fluctuation.\n\nTake a look at the `index.js` to get an idea of what's coming/already there.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/thlorenz/mold-source-map/issues"
  },
  "_id": "mold-source-map@0.2.0",
  "dist": {
    "shasum": "a5dfbe0c7e1c529103549ac2097af142633f2695"
  },
  "_from": "mold-source-map@0.2.x",
  "_resolved": "https://registry.npmjs.org/mold-source-map/-/mold-source-map-0.2.0.tgz"
}
